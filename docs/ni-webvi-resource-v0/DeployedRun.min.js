!async function(){await(await Promise.resolve().then(function(){return e})).default()}();var e=Object.freeze({default:async function(){await Promise.resolve().then(function(){return t}),await(await Promise.resolve().then(function(){return n})).default(),await(await Promise.resolve().then(function(){return r})).default(),await(await Promise.resolve().then(function(){return a})).default(),await(await Promise.resolve().then(function(){return s})).default(),await(await Promise.resolve().then(function(){return o})).default(),await(await Promise.resolve().then(function(){return l})).default(),await(await Promise.resolve().then(function(){return d})).default()}});!function(){window.NationalInstruments=window.NationalInstruments||{};const e={module:window.module,define:window.define};Object.keys(e).forEach(e=>{try{window[e]=void 0}catch(e){window.console.error(e)}}),window.NationalInstruments.savedModuleLoaders=e}();var t=Object.freeze({});var n=Object.freeze({default:async function(){await Promise.resolve().then(function(){return h}),await Promise.resolve().then(function(){return c}),await Promise.resolve().then(function(){return u}),await Promise.resolve().then(function(){return p}),await Promise.resolve().then(function(){return m}),window.dialogPolyfill=(await Promise.resolve().then(function(){return I})).default,await Promise.resolve().then(function(){return E}),await Promise.resolve().then(function(){return D}),await Promise.resolve().then(function(){return k}),await Promise.resolve().then(function(){return j}),await Promise.resolve().then(function(){return M}),await Promise.resolve().then(function(){return A}),await Promise.resolve().then(function(){return N}),await Promise.resolve().then(function(){return V}),await Promise.resolve().then(function(){return H}),await Promise.resolve().then(function(){return z}),await Promise.resolve().then(function(){return F}),await Promise.resolve().then(function(){return U}),await Promise.resolve().then(function(){return W}),await Promise.resolve().then(function(){return G}),await Promise.resolve().then(function(){return X}),await Promise.resolve().then(function(){return Y}),await Promise.resolve().then(function(){return J}),await Promise.resolve().then(function(){return Q}),await Promise.resolve().then(function(){return K}),await Promise.resolve().then(function(){return Z}),await Promise.resolve().then(function(){return ee}),await Promise.resolve().then(function(){return te}),await Promise.resolve().then(function(){return ie}),await Promise.resolve().then(function(){return ne}),await Promise.resolve().then(function(){return re}),await Promise.resolve().then(function(){return ae}),await Promise.resolve().then(function(){return se}),await Promise.resolve().then(function(){return oe}),await Promise.resolve().then(function(){return le}),await Promise.resolve().then(function(){return de}),await Promise.resolve().then(function(){return he}),await Promise.resolve().then(function(){return ce}),await Promise.resolve().then(function(){return ue}),await Promise.resolve().then(function(){return pe}),await Promise.resolve().then(function(){return me}),await Promise.resolve().then(function(){return fe}),await Promise.resolve().then(function(){return ge}),await Promise.resolve().then(function(){return ve}),await Promise.resolve().then(function(){return be}),await Promise.resolve().then(function(){return ye}),await Promise.resolve().then(function(){return _e}),await Promise.resolve().then(function(){return we}),await Promise.resolve().then(function(){return xe}),await Promise.resolve().then(function(){return Ce}),await Promise.resolve().then(function(){return Se}),await Promise.resolve().then(function(){return Te}),await Promise.resolve().then(function(){return Pe}),await Promise.resolve().then(function(){return Ie}),await Promise.resolve().then(function(){return Ee}),await Promise.resolve().then(function(){return De}),await Promise.resolve().then(function(){return ke}),await Promise.resolve().then(function(){return je}),await Promise.resolve().then(function(){return Me}),await Promise.resolve().then(function(){return Ie}),await Promise.resolve().then(function(){return Ae}),await Promise.resolve().then(function(){return Ne}),await Promise.resolve().then(function(){return qe}),await Promise.resolve().then(function(){return Oe}),await Promise.resolve().then(function(){return Be}),await Promise.resolve().then(function(){return Re}),await Promise.resolve().then(function(){return Ve}),await Promise.resolve().then(function(){return He}),await Promise.resolve().then(function(){return Le}),await Promise.resolve().then(function(){return ze}),await Promise.resolve().then(function(){return Fe}),await Promise.resolve().then(function(){return Ue}),await Promise.resolve().then(function(){return $e}),await Promise.resolve().then(function(){return We}),await Promise.resolve().then(function(){return Ge}),await Promise.resolve().then(function(){return Xe}),await Promise.resolve().then(function(){return Ye}),await Promise.resolve().then(function(){return Je})}});var r=Object.freeze({default:async function(){await Promise.resolve().then(function(){return Qe})}});var a=Object.freeze({default:async function(){await Promise.resolve().then(function(){return Ze}),await Promise.resolve().then(function(){return et}),await Promise.resolve().then(function(){return tt}),await Promise.resolve().then(function(){return nt}),await Promise.resolve().then(function(){return rt}),await Promise.resolve().then(function(){return at}),await Promise.resolve().then(function(){return st}),await Promise.resolve().then(function(){return ot}),await Promise.resolve().then(function(){return lt}),await Promise.resolve().then(function(){return dt}),await Promise.resolve().then(function(){return ht}),await Promise.resolve().then(function(){return ct}),await Promise.resolve().then(function(){return ut}),await Promise.resolve().then(function(){return pt}),await Promise.resolve().then(function(){return mt}),await Promise.resolve().then(function(){return ft}),await Promise.resolve().then(function(){return gt}),await Promise.resolve().then(function(){return vt}),await Promise.resolve().then(function(){return bt}),await Promise.resolve().then(function(){return yt}),await Promise.resolve().then(function(){return _t}),await Promise.resolve().then(function(){return wt}),await Promise.resolve().then(function(){return xt}),await Promise.resolve().then(function(){return Ct}),await Promise.resolve().then(function(){return St}),await Promise.resolve().then(function(){return Tt}),await Promise.resolve().then(function(){return Pt}),await Promise.resolve().then(function(){return It}),await Promise.resolve().then(function(){return Et}),await Promise.resolve().then(function(){return Dt}),await Promise.resolve().then(function(){return kt}),await Promise.resolve().then(function(){return jt}),await Promise.resolve().then(function(){return Mt}),await Promise.resolve().then(function(){return At}),await Promise.resolve().then(function(){return Nt}),await Promise.resolve().then(function(){return qt}),await Promise.resolve().then(function(){return Ot}),await Promise.resolve().then(function(){return Bt}),await Promise.resolve().then(function(){return Rt})}});var s=Object.freeze({default:async function(){await Promise.resolve().then(function(){return Vt}),await Promise.resolve().then(function(){return li}),await Promise.resolve().then(function(){return di}),await Promise.resolve().then(function(){return ci})}});var o=Object.freeze({default:async function(){await Promise.resolve().then(function(){return ui}),await Promise.resolve().then(function(){return mi})}});var l=Object.freeze({default:async function(){await Promise.resolve().then(function(){return bi}),await Promise.resolve().then(function(){return Ua}),await Promise.resolve().then(function(){return ss}),await Promise.resolve().then(function(){return os}),await Promise.resolve().then(function(){return ls}),await Promise.resolve().then(function(){return ds}),await Promise.resolve().then(function(){return hs}),await Promise.resolve().then(function(){return cs}),await Promise.resolve().then(function(){return ps}),await Promise.resolve().then(function(){return Es}),await Promise.resolve().then(function(){return ks}),await Promise.resolve().then(function(){return ro}),await Promise.resolve().then(function(){return uo}),await Promise.resolve().then(function(){return fo}),await Promise.resolve().then(function(){return Co}),await Promise.resolve().then(function(){return Po}),await Promise.resolve().then(function(){return Do}),await Promise.resolve().then(function(){return jo}),await Promise.resolve().then(function(){return zo}),await Promise.resolve().then(function(){return sl}),await Promise.resolve().then(function(){return dl}),await Promise.resolve().then(function(){return cl}),await Promise.resolve().then(function(){return yl}),await Promise.resolve().then(function(){return kl}),await Promise.resolve().then(function(){return Ol}),await Promise.resolve().then(function(){return Ll}),await Promise.resolve().then(function(){return Gl}),await Promise.resolve().then(function(){return Kl}),await Promise.resolve().then(function(){return id}),await Promise.resolve().then(function(){return cd}),await Promise.resolve().then(function(){return xd}),await Promise.resolve().then(function(){return kd}),await Promise.resolve().then(function(){return Rd}),await Promise.resolve().then(function(){return Ld}),await Promise.resolve().then(function(){return Gd}),await Promise.resolve().then(function(){return fh}),await Promise.resolve().then(function(){return wh}),await Promise.resolve().then(function(){return Th}),await Promise.resolve().then(function(){return Wh}),await Promise.resolve().then(function(){return Yh}),await Promise.resolve().then(function(){return Kh}),await Promise.resolve().then(function(){return tc}),await Promise.resolve().then(function(){return rc}),await Promise.resolve().then(function(){return hc}),await Promise.resolve().then(function(){return zc}),await Promise.resolve().then(function(){return vu}),await Promise.resolve().then(function(){return wu}),await Promise.resolve().then(function(){return ju}),await Promise.resolve().then(function(){return Vu}),await Promise.resolve().then(function(){return Gu}),await Promise.resolve().then(function(){return Qu}),await Promise.resolve().then(function(){return ep}),await Promise.resolve().then(function(){return np}),await Promise.resolve().then(function(){return sp}),await Promise.resolve().then(function(){return dp}),await Promise.resolve().then(function(){return up}),await Promise.resolve().then(function(){return fp}),await Promise.resolve().then(function(){return qp}),await Promise.resolve().then(function(){return Up}),await Promise.resolve().then(function(){return rm}),await Promise.resolve().then(function(){return lm}),await Promise.resolve().then(function(){return gm}),await Promise.resolve().then(function(){return wm}),await Promise.resolve().then(function(){return Cm}),await Promise.resolve().then(function(){return Tm}),await Promise.resolve().then(function(){return km}),await Promise.resolve().then(function(){return Mm}),await Promise.resolve().then(function(){return qm})}});var d=Object.freeze({default:async function(){await Promise.resolve().then(function(){return Om}),await Promise.resolve().then(function(){return Bm})}});!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:void 0,function(e,t){var i=[],n=e.document,r=Object.getPrototypeOf,a=i.slice,s=i.concat,o=i.push,l=i.indexOf,d={},h=d.toString,c=d.hasOwnProperty,u=c.toString,p=u.call(Object),m={};function f(e,t){var i=(t=t||n).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}var g=function(e,t){return new g.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,y=/-([a-z])/g,_=function(e,t){return t.toUpperCase()};function w(e){var t=!!e&&"length"in e&&e.length,i=g.type(e);return"function"!==i&&!g.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:"3.2.1",constructor:g,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},g.extend=g.fn.extend=function(){var e,t,i,n,r,a,s=arguments[0]||{},o=1,l=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[o]||{},o++),"object"==typeof s||g.isFunction(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)i=s[t],s!==(n=e[t])&&(d&&n&&(g.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,a=i&&Array.isArray(i)?i:[]):a=i&&g.isPlainObject(i)?i:{},s[t]=g.extend(d,a,n)):void 0!==n&&(s[t]=n));return s},g.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=g.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==h.call(e))&&(!(t=r(e))||"function"==typeof(i=c.call(t,"constructor")&&t.constructor)&&u.call(i)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e},globalEval:function(e){f(e)},camelCase:function(e){return e.replace(b,"ms-").replace(y,_)},each:function(e,t){var i,n=0;if(w(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(w(Object(e))?g.merge(i,"string"==typeof e?[e]:e):o.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:l.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,a=e.length,s=!i;r<a;r++)!t(e[r],r)!==s&&n.push(e[r]);return n},map:function(e,t,i){var n,r,a=0,o=[];if(w(e))for(n=e.length;a<n;a++)null!=(r=t(e[a],a,i))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,i))&&o.push(r);return s.apply([],o)},guid:1,proxy:function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),g.isFunction(e))return n=a.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||g.guid++,r},now:Date.now,support:m}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=i[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var x=function(e){var t,i,n,r,a,s,o,l,d,h,c,u,p,m,f,g,v,b,y,_="sizzle"+1*new Date,w=e.document,x=0,C=0,S=se(),T=se(),P=se(),I=function(e,t){return e===t&&(c=!0),0},E={}.hasOwnProperty,D=[],k=D.pop,j=D.push,M=D.push,A=D.slice,N=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",R="\\["+O+"*("+B+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+O+"*\\]",V=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",H=new RegExp(O+"+","g"),L=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),z=new RegExp("^"+O+"*,"+O+"*"),F=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),U=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),$=new RegExp(V),W=new RegExp("^"+B+"$"),G={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+q+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){u()},re=be(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{M.apply(D=A.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(e){M={apply:D.length?function(e,t){j.apply(e,A.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ae(e,t,n,r){var a,o,d,h,c,m,v,b=t&&t.ownerDocument,x=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return n;if(!r&&((t?t.ownerDocument||t:w)!==p&&u(t),t=t||p,f)){if(11!==x&&(c=Q.exec(e)))if(a=c[1]){if(9===x){if(!(d=t.getElementById(a)))return n;if(d.id===a)return n.push(d),n}else if(b&&(d=b.getElementById(a))&&y(t,d)&&d.id===a)return n.push(d),n}else{if(c[2])return M.apply(n,t.getElementsByTagName(e)),n;if((a=c[3])&&i.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(a)),n}if(i.qsa&&!P[e+" "]&&(!g||!g.test(e))){if(1!==x)b=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((h=t.getAttribute("id"))?h=h.replace(te,ie):t.setAttribute("id",h=_),o=(m=s(e)).length;o--;)m[o]="#"+h+" "+ve(m[o]);v=m.join(","),b=K.test(e)&&fe(t.parentNode)||t}if(v)try{return M.apply(n,b.querySelectorAll(v)),n}catch(e){}finally{h===_&&t.removeAttribute("id")}}}return l(e.replace(L,"$1"),t,n,r)}function se(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function oe(e){return e[_]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function he(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return oe(function(t){return t=+t,oe(function(i,n){for(var r,a=e([],i.length,t),s=a.length;s--;)i[r=a[s]]&&(i[r]=!(n[r]=i[r]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},u=ae.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:w;return s!==p&&9===s.nodeType&&s.documentElement?(m=(p=s).documentElement,f=!a(p),w!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=J.test(p.getElementsByClassName),i.getById=le(function(e){return m.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var i,n,r,a=t.getElementById(e);if(a){if((i=a.getAttributeNode("id"))&&i.value===e)return[a];for(r=t.getElementsByName(e),n=0;a=r[n++];)if((i=a.getAttributeNode("id"))&&i.value===e)return[a]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},v=[],g=[],(i.qsa=J.test(p.querySelectorAll))&&(le(function(e){m.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+q+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=J.test(b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&le(function(e){i.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",V)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(m.compareDocumentPosition),y=t||J.test(m.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===w&&y(w,e)?-1:t===p||t.ownerDocument===w&&y(w,t)?1:h?N(h,e)-N(h,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var i,n=0,r=e.parentNode,a=t.parentNode,s=[e],o=[t];if(!r||!a)return e===p?-1:t===p?1:r?-1:a?1:h?N(h,e)-N(h,t):0;if(r===a)return he(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)o.unshift(i);for(;s[n]===o[n];)n++;return n?he(s[n],o[n]):s[n]===w?-1:o[n]===w?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&u(e),t=t.replace(U,"='$1']"),i.matchesSelector&&f&&!P[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=b.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==p&&u(e),y(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==p&&u(e);var r=n.attrHandle[t.toLowerCase()],a=r&&E.call(n.attrHandle,t.toLowerCase())?r(e,t,!f):void 0;return void 0!==a?a:i.attributes||!f?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(te,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],r=0,a=0;if(c=!i.detectDuplicates,h=!i.sortStable&&e.slice(0),e.sort(I),c){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return h=null,e},r=ae.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=ae.selectors={cacheLength:50,createPseudo:oe,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&$.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=ae.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(H," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var d,h,c,u,p,m,f=a!==s?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),b=!l&&!o,y=!1;if(g){if(a){for(;f;){for(u=t;u=u[f];)if(o?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[s?g.firstChild:g.lastChild],s&&b){for(y=(p=(d=(h=(c=(u=g)[_]||(u[_]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]||[])[0]===x&&d[1])&&d[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(y=p=0)||m.pop();)if(1===u.nodeType&&++y&&u===t){h[e]=[x,p,y];break}}else if(b&&(y=p=(d=(h=(c=(u=t)[_]||(u[_]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]||[])[0]===x&&d[1]),!1===y)for(;(u=++p&&u&&u[f]||(y=p=0)||m.pop())&&((o?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(b&&((h=(c=u[_]||(u[_]={}))[u.uniqueID]||(c[u.uniqueID]={}))[e]=[x,y]),u!==t)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,i){for(var n,a=r(e,t),s=a.length;s--;)e[n=N(e,a[s])]=!(i[n]=a[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:oe(function(e){var t=[],i=[],n=o(e.replace(L,"$1"));return n[_]?oe(function(e,t,i,r){for(var a,s=n(e,null,r,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,r,a){return t[0]=e,n(t,null,a,i),t[0]=null,!i.pop()}}),has:oe(function(e){return function(t){return ae(e,t).length>0}}),contains:oe(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:oe(function(e){return W.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var i;do{if(i=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,i){return[i<0?i+t:i]}),even:me(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:me(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:me(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:me(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=ue(t);function ge(){}function ve(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function be(e,t,i){var n=t.dir,r=t.next,a=r||n,s=i&&"parentNode"===a,o=C++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r);return!1}:function(t,i,l){var d,h,c,u=[x,o];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(h=(c=t[_]||(t[_]={}))[t.uniqueID]||(c[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((d=h[a])&&d[0]===x&&d[1]===o)return u[2]=d[2];if(h[a]=u,u[2]=e(t,i,l))return!0}return!1}}function ye(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function _e(e,t,i,n,r){for(var a,s=[],o=0,l=e.length,d=null!=t;o<l;o++)(a=e[o])&&(i&&!i(a,n,r)||(s.push(a),d&&t.push(o)));return s}function we(e,t,i,n,r,a){return n&&!n[_]&&(n=we(n)),r&&!r[_]&&(r=we(r,a)),oe(function(a,s,o,l){var d,h,c,u=[],p=[],m=s.length,f=a||function(e,t,i){for(var n=0,r=t.length;n<r;n++)ae(e,t[n],i);return i}(t||"*",o.nodeType?[o]:o,[]),g=!e||!a&&t?f:_e(f,u,e,o,l),v=i?r||(a?e:m||n)?[]:s:g;if(i&&i(g,v,o,l),n)for(d=_e(v,p),n(d,[],o,l),h=d.length;h--;)(c=d[h])&&(v[p[h]]=!(g[p[h]]=c));if(a){if(r||e){if(r){for(d=[],h=v.length;h--;)(c=v[h])&&d.push(g[h]=c);r(null,v=[],d,l)}for(h=v.length;h--;)(c=v[h])&&(d=r?N(a,c):u[h])>-1&&(a[d]=!(s[d]=c))}}else v=_e(v===s?v.splice(m,v.length):v),r?r(null,s,v,l):M.apply(s,v)})}function xe(e){for(var t,i,r,a=e.length,s=n.relative[e[0].type],o=s||n.relative[" "],l=s?1:0,h=be(function(e){return e===t},o,!0),c=be(function(e){return N(t,e)>-1},o,!0),u=[function(e,i,n){var r=!s&&(n||i!==d)||((t=i).nodeType?h(e,i,n):c(e,i,n));return t=null,r}];l<a;l++)if(i=n.relative[e[l].type])u=[be(ye(u),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<a&&!n.relative[e[r].type];r++);return we(l>1&&ye(u),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(L,"$1"),i,l<r&&xe(e.slice(l,r)),r<a&&xe(e=e.slice(r)),r<a&&ve(e))}u.push(i)}return ye(u)}return ge.prototype=n.filters=n.pseudos,n.setFilters=new ge,s=ae.tokenize=function(e,t){var i,r,a,s,o,l,d,h=T[e+" "];if(h)return t?0:h.slice(0);for(o=e,l=[],d=n.preFilter;o;){for(s in i&&!(r=z.exec(o))||(r&&(o=o.slice(r[0].length)||o),l.push(a=[])),i=!1,(r=F.exec(o))&&(i=r.shift(),a.push({value:i,type:r[0].replace(L," ")}),o=o.slice(i.length)),n.filter)!(r=G[s].exec(o))||d[s]&&!(r=d[s](r))||(i=r.shift(),a.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return t?o.length:o?ae.error(e):T(e,l).slice(0)},o=ae.compile=function(e,t){var i,r=[],a=[],o=P[e+" "];if(!o){for(t||(t=s(e)),i=t.length;i--;)(o=xe(t[i]))[_]?r.push(o):a.push(o);(o=P(e,function(e,t){var i=t.length>0,r=e.length>0,a=function(a,s,o,l,h){var c,m,g,v=0,b="0",y=a&&[],_=[],w=d,C=a||r&&n.find.TAG("*",h),S=x+=null==w?1:Math.random()||.1,T=C.length;for(h&&(d=s===p||s||h);b!==T&&null!=(c=C[b]);b++){if(r&&c){for(m=0,s||c.ownerDocument===p||(u(c),o=!f);g=e[m++];)if(g(c,s||p,o)){l.push(c);break}h&&(x=S)}i&&((c=!g&&c)&&v--,a&&y.push(c))}if(v+=b,i&&b!==v){for(m=0;g=t[m++];)g(y,_,s,o);if(a){if(v>0)for(;b--;)y[b]||_[b]||(_[b]=k.call(l));_=_e(_)}M.apply(l,_),h&&!a&&_.length>0&&v+t.length>1&&ae.uniqueSort(l)}return h&&(x=S,d=w),y};return i?oe(a):a}(a,r))).selector=e}return o},l=ae.select=function(e,t,i,r){var a,l,d,h,c,u="function"==typeof e&&e,p=!r&&s(e=u.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(d=l[0]).type&&9===t.nodeType&&f&&n.relative[l[1].type]){if(!(t=(n.find.ID(d.matches[0].replace(Z,ee),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=G.needsContext.test(e)?0:l.length;a--&&(d=l[a],!n.relative[h=d.type]);)if((c=n.find[h])&&(r=c(d.matches[0].replace(Z,ee),K.test(l[0].type)&&fe(t.parentNode)||t))){if(l.splice(a,1),!(e=r.length&&ve(l)))return M.apply(i,r),i;break}}return(u||o(e,p))(r,t,!f,i,!t||K.test(e)&&fe(t.parentNode)||t),i},i.sortStable=_.split("").sort(I).join("")===_,i.detectDuplicates=!!c,u(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||de(q,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ae}(e);g.find=x,g.expr=x.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=x.uniqueSort,g.text=x.getText,g.isXMLDoc=x.isXML,g.contains=x.contains,g.escapeSelector=x.escape;var C=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&g(e).is(i))break;n.push(e)}return n},S=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},T=g.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,E=/^.[^:#\[\.,]*$/;function D(e,t,i){return g.isFunction(t)?g.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?g.grep(e,function(e){return e===t!==i}):"string"!=typeof t?g.grep(e,function(e){return l.call(t,e)>-1!==i}):E.test(t)?g.filter(t,e,i):(t=g.filter(t,e),g.grep(e,function(e){return l.call(t,e)>-1!==i&&1===e.nodeType}))}g.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?g.find.matchesSelector(n,e)?[n]:[]:g.find.matches(e,g.grep(t,function(e){return 1===e.nodeType}))},g.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(g(e).filter(function(){for(t=0;t<n;t++)if(g.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)g.find(e,r[t],i);return n>1?g.uniqueSort(i):i},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&T.test(e)?g(e):e||[],!1).length}});var k,j=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(e,t,i){var r,a;if(!e)return this;if(i=i||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:j.exec(e))||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),I.test(r[1])&&g.isPlainObject(t))for(r in t)g.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=n.getElementById(r[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==i.ready?i.ready(e):e(g):g.makeArray(e,this)}).prototype=g.fn,k=g(n);var M=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.fn.extend({has:function(e){var t=g(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(g.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,a=[],s="string"!=typeof e&&g(e);if(!T.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&g.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?g.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?l.call(g(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,i){return C(e,"parentNode",i)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,i){return C(e,"nextSibling",i)},prevUntil:function(e,t,i){return C(e,"previousSibling",i)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return P(e,"iframe")?e.contentDocument:(P(e,"template")&&(e=e.content||e),g.merge([],e.childNodes))}},function(e,t){g.fn[e]=function(i,n){var r=g.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=g.filter(n,r)),this.length>1&&(A[e]||g.uniqueSort(r),M.test(e)&&r.reverse()),this.pushStack(r)}});var q=/[^\x20\t\r\n\f]+/g;function O(e){return e}function B(e){throw e}function R(e,t,i,n){var r;try{e&&g.isFunction(r=e.promise)?r.call(e).done(t).fail(i):e&&g.isFunction(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}g.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return g.each(e.match(q)||[],function(e,i){t[i]=!0}),t}(e):g.extend({},e);var t,i,n,r,a=[],s=[],o=-1,l=function(){for(r=r||e.once,n=t=!0;s.length;o=-1)for(i=s.shift();++o<a.length;)!1===a[o].apply(i[0],i[1])&&e.stopOnFalse&&(o=a.length,i=!1);e.memory||(i=!1),t=!1,r&&(a=i?[]:"")},d={add:function(){return a&&(i&&!t&&(o=a.length-1,s.push(i)),function t(i){g.each(i,function(i,n){g.isFunction(n)?e.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==g.type(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return g.each(arguments,function(e,t){for(var i;(i=g.inArray(t,a,i))>-1;)a.splice(i,1),i<=o&&o--}),this},has:function(e){return e?g.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=i="",this},disabled:function(){return!a},lock:function(){return r=s=[],i||t||(a=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],s.push(i),t||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},g.extend({Deferred:function(t){var i=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return g.Deferred(function(t){g.each(i,function(i,n){var r=g.isFunction(e[n[4]])&&e[n[4]];a[n[1]](function(){var e=r&&r.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,n,r){var a=0;function s(t,i,n,r){return function(){var o=this,l=arguments,d=function(){var e,d;if(!(t<a)){if((e=n.apply(o,l))===i.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,g.isFunction(d)?r?d.call(e,s(a,i,O,r),s(a,i,B,r)):(a++,d.call(e,s(a,i,O,r),s(a,i,B,r),s(a,i,O,i.notifyWith))):(n!==O&&(o=void 0,l=[e]),(r||i.resolveWith)(o,l))}},h=r?d:function(){try{d()}catch(e){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(e,h.stackTrace),t+1>=a&&(n!==B&&(o=void 0,l=[e]),i.rejectWith(o,l))}};t?h():(g.Deferred.getStackHook&&(h.stackTrace=g.Deferred.getStackHook()),e.setTimeout(h))}}return g.Deferred(function(e){i[0][3].add(s(0,e,g.isFunction(r)?r:O,e.notifyWith)),i[1][3].add(s(0,e,g.isFunction(t)?t:O)),i[2][3].add(s(0,e,g.isFunction(n)?n:B))}).promise()},promise:function(e){return null!=e?g.extend(e,r):r}},a={};return g.each(i,function(e,t){var s=t[2],o=t[5];r[t[1]]=s.add,o&&s.add(function(){n=o},i[3-e][2].disable,i[0][2].lock),s.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=s.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,i=t,n=Array(i),r=a.call(arguments),s=g.Deferred(),o=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?a.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(R(e,s.done(o(i)).resolve,s.reject,!t),"pending"===s.state()||g.isFunction(r[i]&&r[i].then)))return s.then();for(;i--;)R(r[i],o(i),s.reject);return s.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&V.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},g.readyException=function(t){e.setTimeout(function(){throw t})};var H=g.Deferred();function L(){n.removeEventListener("DOMContentLoaded",L),e.removeEventListener("load",L),g.ready()}g.fn.ready=function(e){return H.then(e).catch(function(e){g.readyException(e)}),this},g.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||H.resolveWith(n,[g]))}}),g.ready.then=H.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?e.setTimeout(g.ready):(n.addEventListener("DOMContentLoaded",L),e.addEventListener("load",L));var z=function(e,t,i,n,r,a,s){var o=0,l=e.length,d=null==i;if("object"===g.type(i))for(o in r=!0,i)z(e,t,o,i[o],!0,a,s);else if(void 0!==n&&(r=!0,g.isFunction(n)||(s=!0),d&&(s?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(g(e),i)})),t))for(;o<l;o++)t(e[o],i,s?n:n.call(e[o],o,t(e[o],i)));return r?e:d?t.call(e):l?t(e[0],i):a},F=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function U(){this.expando=g.expando+U.uid++}U.uid=1,U.prototype={cache:function(e){var t=e[this.expando];return t||(t={},F(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[g.camelCase(t)]=i;else for(n in t)r[g.camelCase(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(g.camelCase):(t=g.camelCase(t))in n?[t]:t.match(q)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||g.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var $=new U,W=new U,G=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,X=/[A-Z]/g;function Y(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(X,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:G.test(e)?JSON.parse(e):e)}(i)}catch(e){}W.set(e,t,i)}else i=void 0;return i}g.extend({hasData:function(e){return W.hasData(e)||$.hasData(e)},data:function(e,t,i){return W.access(e,t,i)},removeData:function(e,t){W.remove(e,t)},_data:function(e,t,i){return $.access(e,t,i)},_removeData:function(e,t){$.remove(e,t)}}),g.fn.extend({data:function(e,t){var i,n,r,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(r=W.get(a),1===a.nodeType&&!$.get(a,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=g.camelCase(n.slice(5)),Y(a,n,r[n]));$.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){W.set(this,e)}):z(this,function(t){var i;if(a&&void 0===t)return void 0!==(i=W.get(a,e))?i:void 0!==(i=Y(a,e))?i:void 0;this.each(function(){W.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){W.remove(this,e)})}}),g.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=$.get(e,t),i&&(!n||Array.isArray(i)?n=$.access(e,t,g.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=g.queue(e,t),n=i.length,r=i.shift(),a=g._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,function(){g.dequeue(e,t)},a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return $.get(e,i)||$.access(e,i,{empty:g.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",i])})})}}),g.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?g.queue(this[0],e):void 0===t?this:this.each(function(){var i=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&g.dequeue(this,e)})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=g.Deferred(),a=this,s=this.length,o=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=$.get(a[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),r.promise(t)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Q=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),K=["Top","Right","Bottom","Left"],Z=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&g.contains(e.ownerDocument,e)&&"none"===g.css(e,"display")},ee=function(e,t,i,n){var r,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];for(a in r=i.apply(e,n||[]),t)e.style[a]=s[a];return r};function te(e,t,i,n){var r,a=1,s=20,o=n?function(){return n.cur()}:function(){return g.css(e,t,"")},l=o(),d=i&&i[3]||(g.cssNumber[t]?"":"px"),h=(g.cssNumber[t]||"px"!==d&&+l)&&Q.exec(g.css(e,t));if(h&&h[3]!==d){d=d||h[3],i=i||[],h=+l||1;do{h/=a=a||".5",g.style(e,t,h+d)}while(a!==(a=o()/l)&&1!==a&&--s)}return i&&(h=+h||+l||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=h,n.end=r)),r}var ie={};function ne(e){var t,i=e.ownerDocument,n=e.nodeName,r=ie[n];return r||(t=i.body.appendChild(i.createElement(n)),r=g.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ie[n]=r,r)}function re(e,t){for(var i,n,r=[],a=0,s=e.length;a<s;a++)(n=e[a]).style&&(i=n.style.display,t?("none"===i&&(r[a]=$.get(n,"display")||null,r[a]||(n.style.display="")),""===n.style.display&&Z(n)&&(r[a]=ne(n))):"none"!==i&&(r[a]="none",$.set(n,"display",i)));for(a=0;a<s;a++)null!=r[a]&&(e[a].style.display=r[a]);return e}g.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Z(this)?g(this).show():g(this).hide()})}});var ae=/^(?:checkbox|radio)$/i,se=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,oe=/^$|\/(?:java|ecma)script/i,le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?g.merge([e],i):i}function he(e,t){for(var i=0,n=e.length;i<n;i++)$.set(e[i],"globalEval",!t||$.get(t[i],"globalEval"))}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td;var ce,ue,pe=/<|&#?\w+;/;function me(e,t,i,n,r){for(var a,s,o,l,d,h,c=t.createDocumentFragment(),u=[],p=0,m=e.length;p<m;p++)if((a=e[p])||0===a)if("object"===g.type(a))g.merge(u,a.nodeType?[a]:a);else if(pe.test(a)){for(s=s||c.appendChild(t.createElement("div")),o=(se.exec(a)||["",""])[1].toLowerCase(),l=le[o]||le._default,s.innerHTML=l[1]+g.htmlPrefilter(a)+l[2],h=l[0];h--;)s=s.lastChild;g.merge(u,s.childNodes),(s=c.firstChild).textContent=""}else u.push(t.createTextNode(a));for(c.textContent="",p=0;a=u[p++];)if(n&&g.inArray(a,n)>-1)r&&r.push(a);else if(d=g.contains(a.ownerDocument,a),s=de(c.appendChild(a),"script"),d&&he(s),i)for(h=0;a=s[h++];)oe.test(a.type||"")&&i.push(a);return c}ce=n.createDocumentFragment().appendChild(n.createElement("div")),(ue=n.createElement("input")).setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),ce.appendChild(ue),m.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue;var fe=n.documentElement,ge=/^key/,ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,be=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function _e(){return!1}function we(){try{return n.activeElement}catch(e){}}function xe(e,t,i,n,r,a){var s,o;if("object"==typeof t){for(o in"string"!=typeof i&&(n=n||i,i=void 0),t)xe(e,o,i,n,t[o],a);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=_e;else if(!r)return e;return 1===a&&(s=r,(r=function(e){return g().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=g.guid++)),e.each(function(){g.event.add(this,t,r,n,i)})}g.event={global:{},add:function(e,t,i,n,r){var a,s,o,l,d,h,c,u,p,m,f,v=$.get(e);if(v)for(i.handler&&(i=(a=i).handler,r=a.selector),r&&g.find.matchesSelector(fe,r),i.guid||(i.guid=g.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(q)||[""]).length;d--;)p=f=(o=be.exec(t[d])||[])[1],m=(o[2]||"").split(".").sort(),p&&(c=g.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=g.event.special[p]||{},h=g.extend({type:p,origType:f,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&g.expr.match.needsContext.test(r),namespace:m.join(".")},a),(u=l[p])||((u=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,m,s)||e.addEventListener&&e.addEventListener(p,s)),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?u.splice(u.delegateCount++,0,h):u.push(h),g.event.global[p]=!0)},remove:function(e,t,i,n,r){var a,s,o,l,d,h,c,u,p,m,f,v=$.hasData(e)&&$.get(e);if(v&&(l=v.events)){for(d=(t=(t||"").match(q)||[""]).length;d--;)if(p=f=(o=be.exec(t[d])||[])[1],m=(o[2]||"").split(".").sort(),p){for(c=g.event.special[p]||{},u=l[p=(n?c.delegateType:c.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=u.length;a--;)h=u[a],!r&&f!==h.origType||i&&i.guid!==h.guid||o&&!o.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(u.splice(a,1),h.selector&&u.delegateCount--,c.remove&&c.remove.call(e,h));s&&!u.length&&(c.teardown&&!1!==c.teardown.call(e,m,v.handle)||g.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)g.event.remove(e,p+t[d],i,n,!0);g.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,a,s,o=g.event.fix(e),l=new Array(arguments.length),d=($.get(this,"events")||{})[o.type]||[],h=g.event.special[o.type]||{};for(l[0]=o,t=1;t<arguments.length;t++)l[t]=arguments[t];if(o.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,o)){for(s=g.event.handlers.call(this,o,d),t=0;(r=s[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(a.namespace)||(o.handleObj=a,o.data=a.data,void 0!==(n=((g.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(o.result=n)&&(o.preventDefault(),o.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,o),o.result}},handlers:function(e,t){var i,n,r,a,s,o=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(a=[],s={},i=0;i<l;i++)void 0===s[r=(n=t[i]).selector+" "]&&(s[r]=n.needsContext?g(r,this).index(d)>-1:g.find(r,this,null,[d]).length),s[r]&&a.push(n);a.length&&o.push({elem:d,handlers:a})}return d=this,l<t.length&&o.push({elem:d,handlers:t.slice(l)}),o},addProp:function(e,t){Object.defineProperty(g.Event.prototype,e,{enumerable:!0,configurable:!0,get:g.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[g.expando]?e:new g.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==we()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===we()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&P(this,"input"))return this.click(),!1},_default:function(e){return P(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:_e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ge.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ve.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},g.event.addProp),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||g.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),g.fn.extend({on:function(e,t,i,n){return xe(this,e,t,i,n)},one:function(e,t,i,n){return xe(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,g(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=_e),this.each(function(){g.event.remove(this,e,i,t)})}});var Ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Se=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^true\/(.*)/,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ee(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&g(">tbody",e)[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ke(e){var t=Pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function je(e,t){var i,n,r,a,s,o,l,d;if(1===t.nodeType){if($.hasData(e)&&(a=$.access(e),s=$.set(t,a),d=a.events))for(r in delete s.handle,s.events={},d)for(i=0,n=d[r].length;i<n;i++)g.event.add(t,r,d[r][i]);W.hasData(e)&&(o=W.access(e),l=g.extend({},o),W.set(t,l))}}function Me(e,t,i,n){t=s.apply([],t);var r,a,o,l,d,h,c=0,u=e.length,p=u-1,v=t[0],b=g.isFunction(v);if(b||u>1&&"string"==typeof v&&!m.checkClone&&Te.test(v))return e.each(function(r){var a=e.eq(r);b&&(t[0]=v.call(this,r,a.html())),Me(a,t,i,n)});if(u&&(a=(r=me(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=a),a||n)){for(l=(o=g.map(de(r,"script"),De)).length;c<u;c++)d=r,c!==p&&(d=g.clone(d,!0,!0),l&&g.merge(o,de(d,"script"))),i.call(e[c],d,c);if(l)for(h=o[o.length-1].ownerDocument,g.map(o,ke),c=0;c<l;c++)d=o[c],oe.test(d.type||"")&&!$.access(d,"globalEval")&&g.contains(h,d)&&(d.src?g._evalUrl&&g._evalUrl(d.src):f(d.textContent.replace(Ie,""),h))}return e}function Ae(e,t,i){for(var n,r=t?g.filter(t,e):e,a=0;null!=(n=r[a]);a++)i||1!==n.nodeType||g.cleanData(de(n)),n.parentNode&&(i&&g.contains(n.ownerDocument,n)&&he(de(n,"script")),n.parentNode.removeChild(n));return e}g.extend({htmlPrefilter:function(e){return e.replace(Ce,"<$1></$2>")},clone:function(e,t,i){var n,r,a,s,o,l,d,h=e.cloneNode(!0),c=g.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(s=de(h),n=0,r=(a=de(e)).length;n<r;n++)o=a[n],l=s[n],d=void 0,"input"===(d=l.nodeName.toLowerCase())&&ae.test(o.type)?l.checked=o.checked:"input"!==d&&"textarea"!==d||(l.defaultValue=o.defaultValue);if(t)if(i)for(a=a||de(e),s=s||de(h),n=0,r=a.length;n<r;n++)je(a[n],s[n]);else je(e,h);return(s=de(h,"script")).length>0&&he(s,!c&&de(e,"script")),h},cleanData:function(e){for(var t,i,n,r=g.event.special,a=0;void 0!==(i=e[a]);a++)if(F(i)){if(t=i[$.expando]){if(t.events)for(n in t.events)r[n]?g.event.remove(i,n):g.removeEvent(i,n,t.handle);i[$.expando]=void 0}i[W.expando]&&(i[W.expando]=void 0)}}}),g.fn.extend({detach:function(e){return Ae(this,e,!0)},remove:function(e){return Ae(this,e)},text:function(e){return z(this,function(e){return void 0===e?g.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ee(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ee(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return g.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!le[(se.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(g.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var i=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(de(this)),i&&i.replaceChild(t,this))},e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(e){for(var i,n=[],r=g(e),a=r.length-1,s=0;s<=a;s++)i=s===a?this:this.clone(!0),g(r[s])[t](i),o.apply(n,i.get());return this.pushStack(n)}});var Ne=/^margin/,qe=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Oe=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};function Be(e,t,i){var n,r,a,s,o=e.style;return(i=i||Oe(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||g.contains(e.ownerDocument,e)||(s=g.style(e,t)),!m.pixelMarginRight()&&qe.test(s)&&Ne.test(t)&&(n=o.width,r=o.minWidth,a=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=i.width,o.width=n,o.minWidth=r,o.maxWidth=a)),void 0!==s?s+"":s}function Re(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",fe.appendChild(o);var t=e.getComputedStyle(l);i="1%"!==t.top,s="2px"===t.marginLeft,r="4px"===t.width,l.style.marginRight="50%",a="4px"===t.marginRight,fe.removeChild(o),l=null}}var i,r,a,s,o=n.createElement("div"),l=n.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(l),g.extend(m,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),a},reliableMarginLeft:function(){return t(),s}}))}();var Ve=/^(none|table(?!-c[ea]).+)/,He=/^--/,Le={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:"0",fontWeight:"400"},Fe=["Webkit","Moz","ms"],Ue=n.createElement("div").style;function $e(e){var t=g.cssProps[e];return t||(t=g.cssProps[e]=function(e){if(e in Ue)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Fe.length;i--;)if((e=Fe[i]+t)in Ue)return e}(e)||e),t}function We(e,t,i){var n=Q.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Ge(e,t,i,n,r){var a,s=0;for(a=i===(n?"border":"content")?4:"width"===t?1:0;a<4;a+=2)"margin"===i&&(s+=g.css(e,i+K[a],!0,r)),n?("content"===i&&(s-=g.css(e,"padding"+K[a],!0,r)),"margin"!==i&&(s-=g.css(e,"border"+K[a]+"Width",!0,r))):(s+=g.css(e,"padding"+K[a],!0,r),"padding"!==i&&(s+=g.css(e,"border"+K[a]+"Width",!0,r)));return s}function Xe(e,t,i){var n,r=Oe(e),a=Be(e,t,r),s="border-box"===g.css(e,"boxSizing",!1,r);return qe.test(a)?a:(n=s&&(m.boxSizingReliable()||a===e.style[t]),"auto"===a&&(a=e["offset"+t[0].toUpperCase()+t.slice(1)]),(a=parseFloat(a)||0)+Ge(e,t,i||(s?"border":"content"),n,r)+"px")}function Ye(e,t,i,n,r){return new Ye.prototype.init(e,t,i,n,r)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Be(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,s,o=g.camelCase(t),l=He.test(t),d=e.style;if(l||(t=$e(o)),s=g.cssHooks[t]||g.cssHooks[o],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(e,!1,n))?r:d[t];"string"===(a=typeof i)&&(r=Q.exec(i))&&r[1]&&(i=te(e,t,r),a="number"),null!=i&&i==i&&("number"===a&&(i+=r&&r[3]||(g.cssNumber[o]?"":"px")),m.clearCloneStyle||""!==i||0!==t.indexOf("background")||(d[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l?d.setProperty(t,i):d[t]=i))}},css:function(e,t,i,n){var r,a,s,o=g.camelCase(t);return He.test(t)||(t=$e(o)),(s=g.cssHooks[t]||g.cssHooks[o])&&"get"in s&&(r=s.get(e,!0,i)),void 0===r&&(r=Be(e,t,n)),"normal"===r&&t in ze&&(r=ze[t]),""===i||i?(a=parseFloat(r),!0===i||isFinite(a)?a||0:r):r}}),g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,i,n){if(i)return!Ve.test(g.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Xe(e,t,n):ee(e,Le,function(){return Xe(e,t,n)})},set:function(e,i,n){var r,a=n&&Oe(e),s=n&&Ge(e,t,n,"border-box"===g.css(e,"boxSizing",!1,a),a);return s&&(r=Q.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=g.css(e,t)),We(0,i,s)}}}),g.cssHooks.marginLeft=Re(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-ee(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+K[n]+t]=a[n]||a[n-2]||a[0];return r}},Ne.test(e)||(g.cssHooks[e+t].set=We)}),g.fn.extend({css:function(e,t){return z(this,function(e,t,i){var n,r,a={},s=0;if(Array.isArray(t)){for(n=Oe(e),r=t.length;s<r;s++)a[t[s]]=g.css(e,t[s],!1,n);return a}return void 0!==i?g.style(e,t,i):g.css(e,t)},e,t,arguments.length>1)}}),g.Tween=Ye,Ye.prototype={constructor:Ye,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(g.cssNumber[i]?"":"px")},cur:function(){var e=Ye.propHooks[this.prop];return e&&e.get?e.get(this):Ye.propHooks._default.get(this)},run:function(e){var t,i=Ye.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Ye.propHooks._default.set(this),this}},Ye.prototype.init.prototype=Ye.prototype,Ye.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},Ye.propHooks.scrollTop=Ye.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=Ye.prototype.init,g.fx.step={};var Je,Qe,Ke=/^(?:toggle|show|hide)$/,Ze=/queueHooks$/;function et(){Qe&&(!1===n.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(et):e.setTimeout(et,g.fx.interval),g.fx.tick())}function tt(){return e.setTimeout(function(){Je=void 0}),Je=g.now()}function nt(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=K[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function rt(e,t,i){for(var n,r=(at.tweeners[t]||[]).concat(at.tweeners["*"]),a=0,s=r.length;a<s;a++)if(n=r[a].call(i,t,e))return n}function at(e,t,i){var n,r,a=0,s=at.prefilters.length,o=g.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Je||tt(),i=Math.max(0,d.startTime+d.duration-t),n=1-(i/d.duration||0),a=0,s=d.tweens.length;a<s;a++)d.tweens[a].run(n);return o.notifyWith(e,[d,n,i]),n<1&&s?i:(s||o.notifyWith(e,[d,1,0]),o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},i),originalProperties:t,originalOptions:i,startTime:Je||tt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=g.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)d.tweens[i].run(1);return t?(o.notifyWith(e,[d,1,0]),o.resolveWith(e,[d,t])):o.rejectWith(e,[d,t]),this}}),h=d.props;for(!function(e,t){var i,n,r,a,s;for(i in e)if(r=t[n=g.camelCase(i)],a=e[i],Array.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(s=g.cssHooks[n])&&"expand"in s)for(i in a=s.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=r);else t[n]=r}(h,d.opts.specialEasing);a<s;a++)if(n=at.prefilters[a].call(d,e,h,d.opts))return g.isFunction(n.stop)&&(g._queueHooks(d.elem,d.opts.queue).stop=g.proxy(n.stop,n)),n;return g.map(h,rt,d),g.isFunction(d.opts.start)&&d.opts.start.call(e,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),g.fx.timer(g.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d}g.Animation=g.extend(at,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return te(i.elem,e,Q.exec(t),i),i}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(q);for(var i,n=0,r=e.length;n<r;n++)i=e[n],at.tweeners[i]=at.tweeners[i]||[],at.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,a,s,o,l,d,h,c="width"in t||"height"in t,u=this,p={},m=e.style,f=e.nodeType&&Z(e),v=$.get(e,"fxshow");for(n in i.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[n],Ke.test(r)){if(delete t[n],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;f=!0}p[n]=v&&v[n]||g.style(e,n)}if((l=!g.isEmptyObject(t))||!g.isEmptyObject(p))for(n in c&&1===e.nodeType&&(i.overflow=[m.overflow,m.overflowX,m.overflowY],null==(d=v&&v.display)&&(d=$.get(e,"display")),"none"===(h=g.css(e,"display"))&&(d?h=d:(re([e],!0),d=e.style.display||d,h=g.css(e,"display"),re([e]))),("inline"===h||"inline-block"===h&&null!=d)&&"none"===g.css(e,"float")&&(l||(u.done(function(){m.display=d}),null==d&&(h=m.display,d="none"===h?"":h)),m.display="inline-block")),i.overflow&&(m.overflow="hidden",u.always(function(){m.overflow=i.overflow[0],m.overflowX=i.overflow[1],m.overflowY=i.overflow[2]})),l=!1,p)l||(v?"hidden"in v&&(f=v.hidden):v=$.access(e,"fxshow",{display:d}),a&&(v.hidden=!f),f&&re([e],!0),u.done(function(){for(n in f||re([e]),$.remove(e,"fxshow"),p)g.style(e,n,p[n])})),l=rt(f?v[n]:0,n,u),n in v||(v[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?at.prefilters.unshift(e):at.prefilters.push(e)}}),g.speed=function(e,t,i){var n=e&&"object"==typeof e?g.extend({},e):{complete:i||!i&&t||g.isFunction(e)&&e,duration:e,easing:i&&t||t&&!g.isFunction(t)&&t};return g.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in g.fx.speeds?n.duration=g.fx.speeds[n.duration]:n.duration=g.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g.isFunction(n.old)&&n.old.call(this),n.queue&&g.dequeue(this,n.queue)},n},g.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Z).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=g.isEmptyObject(e),a=g.speed(t,i,n),s=function(){var t=at(this,g.extend({},e),a);(r||$.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===a.queue?this.each(s):this.queue(a.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=g.timers,s=$.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Ze.test(r)&&n(s[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(i),t=!1,a.splice(r,1));!t&&i||g.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=$.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],a=g.timers,s=n?n.length:0;for(i.finish=!0,g.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),g.each(["toggle","show","hide"],function(e,t){var i=g.fn[t];g.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(nt(t,!0),e,n,r)}}),g.each({slideDown:nt("show"),slideUp:nt("hide"),slideToggle:nt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),g.timers=[],g.fx.tick=function(){var e,t=0,i=g.timers;for(Je=g.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||g.fx.stop(),Je=void 0},g.fx.timer=function(e){g.timers.push(e),g.fx.start()},g.fx.interval=13,g.fx.start=function(){Qe||(Qe=!0,et())},g.fx.stop=function(){Qe=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(t,i){return t=g.fx&&g.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e=n.createElement("input"),t=n.createElement("select").appendChild(n.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=n.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var st,ot=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return z(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})}}),g.extend({attr:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?g.prop(e,t,i):(1===a&&g.isXMLDoc(e)||(r=g.attrHooks[t.toLowerCase()]||(g.expr.match.bool.test(t)?st:void 0)),void 0!==i?null===i?void g.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=g.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&P(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(q);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),st={set:function(e,t,i){return!1===t?g.removeAttr(e,i):e.setAttribute(i,i),i}},g.each(g.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ot[t]||g.find.attr;ot[t]=function(e,t,n){var r,a,s=t.toLowerCase();return n||(a=ot[s],ot[s]=r,r=null!=i(e,t,n)?s:null,ot[s]=a),r}});var lt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(q)||[]).join(" ")}function ct(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({prop:function(e,t){return z(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[g.propFix[e]||e]})}}),g.extend({prop:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&g.isXMLDoc(e)||(t=g.propFix[t]||t,r=g.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):lt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this}),g.fn.extend({addClass:function(e){var t,i,n,r,a,s,o,l=0;if(g.isFunction(e))return this.each(function(t){g(this).addClass(e.call(this,t,ct(this)))});if("string"==typeof e&&e)for(t=e.match(q)||[];i=this[l++];)if(r=ct(i),n=1===i.nodeType&&" "+ht(r)+" "){for(s=0;a=t[s++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");r!==(o=ht(n))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,n,r,a,s,o,l=0;if(g.isFunction(e))return this.each(function(t){g(this).removeClass(e.call(this,t,ct(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(q)||[];i=this[l++];)if(r=ct(i),n=1===i.nodeType&&" "+ht(r)+" "){for(s=0;a=t[s++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");r!==(o=ht(n))&&i.setAttribute("class",o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each(function(i){g(this).toggleClass(e.call(this,i,ct(this),t),t)}):this.each(function(){var t,n,r,a;if("string"===i)for(n=0,r=g(this),a=e.match(q)||[];t=a[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=ct(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+ht(ct(i))+" ").indexOf(t)>-1)return!0;return!1}});var ut=/\r/g;g.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=g.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,g(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=g.map(r,function(e){return null==e?"":e+""})),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=g.valHooks[r.type]||g.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(ut,""):null==i?"":i:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:ht(g.text(e))}},select:{get:function(e){var t,i,n,r=e.options,a=e.selectedIndex,s="select-one"===e.type,o=s?null:[],l=s?a+1:r.length;for(n=a<0?l:s?a:0;n<l;n++)if(((i=r[n]).selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!P(i.parentNode,"optgroup"))){if(t=g(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,a=g.makeArray(t),s=r.length;s--;)((n=r[s]).selected=g.inArray(g.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},m.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pt=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(t,i,r,a){var s,o,l,d,h,u,p,m=[r||n],f=c.call(t,"type")?t.type:t,v=c.call(t,"namespace")?t.namespace.split("."):[];if(o=l=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!pt.test(f+g.event.triggered)&&(f.indexOf(".")>-1&&(v=f.split("."),f=v.shift(),v.sort()),h=f.indexOf(":")<0&&"on"+f,(t=t[g.expando]?t:new g.Event(f,"object"==typeof t&&t)).isTrigger=a?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),i=null==i?[t]:g.makeArray(i,[t]),p=g.event.special[f]||{},a||!p.trigger||!1!==p.trigger.apply(r,i))){if(!a&&!p.noBubble&&!g.isWindow(r)){for(d=p.delegateType||f,pt.test(d+f)||(o=o.parentNode);o;o=o.parentNode)m.push(o),l=o;l===(r.ownerDocument||n)&&m.push(l.defaultView||l.parentWindow||e)}for(s=0;(o=m[s++])&&!t.isPropagationStopped();)t.type=s>1?d:p.bindType||f,(u=($.get(o,"events")||{})[t.type]&&$.get(o,"handle"))&&u.apply(o,i),(u=h&&o[h])&&u.apply&&F(o)&&(t.result=u.apply(o,i),!1===t.result&&t.preventDefault());return t.type=f,a||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(m.pop(),i)||!F(r)||h&&g.isFunction(r[f])&&!g.isWindow(r)&&((l=r[h])&&(r[h]=null),g.event.triggered=f,r[f](),g.event.triggered=void 0,l&&(r[h]=l)),t.result}},simulate:function(e,t,i){var n=g.extend(new g.Event,i,{type:e,isSimulated:!0});g.event.trigger(n,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return g.event.trigger(e,t,i,!0)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){g.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),m.focusin="onfocusin"in e,m.focusin||g.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=$.access(n,t);r||n.addEventListener(e,i,!0),$.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=$.access(n,t)-1;r?$.access(n,t,r):(n.removeEventListener(e,i,!0),$.remove(n,t))}}});var mt=e.location,ft=g.now(),gt=/\?/;g.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+t),i};var vt=/\[\]$/,bt=/\r?\n/g,yt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;function wt(e,t,i,n){var r;if(Array.isArray(t))g.each(t,function(t,r){i||vt.test(e)?n(e,r):wt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==g.type(t))n(e,t);else for(r in t)wt(e+"["+r+"]",t[r],i,n)}g.param=function(e,t){var i,n=[],r=function(e,t){var i=g.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,function(){r(this.name,this.value)});else for(i in e)wt(i,e[i],t,r);return n.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&_t.test(this.nodeName)&&!yt.test(e)&&(this.checked||!ae.test(e))}).map(function(e,t){var i=g(this).val();return null==i?null:Array.isArray(i)?g.map(i,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:i.replace(bt,"\r\n")}}).get()}});var xt=/%20/g,Ct=/#.*$/,St=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,It=/^\/\//,Et={},Dt={},kt="*/".concat("*"),jt=n.createElement("a");function Mt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,a=t.toLowerCase().match(q)||[];if(g.isFunction(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function At(e,t,i,n){var r={},a=e===Dt;function s(o){var l;return r[o]=!0,g.each(e[o]||[],function(e,o){var d=o(t,i,n);return"string"!=typeof d||a||r[d]?a?!(l=d):void 0:(t.dataTypes.unshift(d),s(d),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Nt(e,t){var i,n,r=g.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&g.extend(!0,e,n),e}jt.href=mt.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Nt(Nt(e,g.ajaxSettings),t):Nt(g.ajaxSettings,e)},ajaxPrefilter:Mt(Et),ajaxTransport:Mt(Dt),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,a,s,o,l,d,h,c,u,p,m=g.ajaxSetup({},i),f=m.context||m,v=m.context&&(f.nodeType||f.jquery)?g(f):g.event,b=g.Deferred(),y=g.Callbacks("once memory"),_=m.statusCode||{},w={},x={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(h){if(!o)for(o={};t=Tt.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(e,t){return null==h&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==h&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)S.always(e[S.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),T(0,t),this}};if(b.promise(S),m.url=((t||m.url||mt.href)+"").replace(It,mt.protocol+"//"),m.type=i.method||i.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(q)||[""],null==m.crossDomain){d=n.createElement("a");try{d.href=m.url,d.href=d.href,m.crossDomain=jt.protocol+"//"+jt.host!=d.protocol+"//"+d.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=g.param(m.data,m.traditional)),At(Et,m,i,S),h)return S;for(u in(c=g.event&&m.global)&&0==g.active++&&g.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Pt.test(m.type),a=m.url.replace(Ct,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(xt,"+")):(p=m.url.slice(a.length),m.data&&(a+=(gt.test(a)?"&":"?")+m.data,delete m.data),!1===m.cache&&(a=a.replace(St,"$1"),p=(gt.test(a)?"&":"?")+"_="+ft+++p),m.url=a+p),m.ifModified&&(g.lastModified[a]&&S.setRequestHeader("If-Modified-Since",g.lastModified[a]),g.etag[a]&&S.setRequestHeader("If-None-Match",g.etag[a])),(m.data&&m.hasContent&&!1!==m.contentType||i.contentType)&&S.setRequestHeader("Content-Type",m.contentType),S.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+kt+"; q=0.01":""):m.accepts["*"]),m.headers)S.setRequestHeader(u,m.headers[u]);if(m.beforeSend&&(!1===m.beforeSend.call(f,S,m)||h))return S.abort();if(C="abort",y.add(m.complete),S.done(m.success),S.fail(m.error),r=At(Dt,m,i,S)){if(S.readyState=1,c&&v.trigger("ajaxSend",[S,m]),h)return S;m.async&&m.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},m.timeout));try{h=!1,r.send(w,T)}catch(e){if(h)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,i,n,o){var d,u,p,w,x,C=i;h||(h=!0,l&&e.clearTimeout(l),r=void 0,s=o||"",S.readyState=t>0?4:0,d=t>=200&&t<300||304===t,n&&(w=function(e,t,i){for(var n,r,a,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in o)if(o[r]&&o[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}s||(s=r)}a=a||s}if(a)return a!==l[0]&&l.unshift(a),i[a]}(m,S,n)),w=function(e,t,i,n){var r,a,s,o,l,d={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)d[s.toLowerCase()]=e.converters[s];for(a=h.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=h.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(s=d[l+" "+a]||d["* "+a]))for(r in d)if((o=r.split(" "))[1]===a&&(s=d[l+" "+o[0]]||d["* "+o[0]])){!0===s?s=d[r]:!0!==d[r]&&(a=o[0],h.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(m,w,S,d),d?(m.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(g.lastModified[a]=x),(x=S.getResponseHeader("etag"))&&(g.etag[a]=x)),204===t||"HEAD"===m.type?C="nocontent":304===t?C="notmodified":(C=w.state,u=w.data,d=!(p=w.error))):(p=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(i||C)+"",d?b.resolveWith(f,[u,C,S]):b.rejectWith(f,[S,C,p]),S.statusCode(_),_=void 0,c&&v.trigger(d?"ajaxSuccess":"ajaxError",[S,m,d?u:p]),y.fireWith(f,[S,C]),c&&(v.trigger("ajaxComplete",[S,m]),--g.active||g.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return g.get(e,t,i,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],function(e,t){g[t]=function(e,i,n,r){return g.isFunction(i)&&(r=r||n,n=i,i=void 0),g.ajax(g.extend({url:e,type:t,dataType:r,data:i,success:n},g.isPlainObject(e)&&e))}}),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return this[0]&&(g.isFunction(e)&&(e=e.call(this[0])),t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g.isFunction(e)?this.each(function(t){g(this).wrapInner(e.call(this,t))}):this.each(function(){var t=g(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=g.isFunction(e);return this.each(function(i){g(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(e){return!g.expr.pseudos.visible(e)},g.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Ot=g.ajaxSettings.xhr();m.cors=!!Ot&&"withCredentials"in Ot,m.ajax=Ot=!!Ot,g.ajaxTransport(function(t){var i,n;if(m.cors||Ot&&!t.crossDomain)return{send:function(r,a){var s,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];for(s in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(s,r[s]);i=function(e){return function(){i&&(i=n=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?a(0,"error"):a(o.status,o.statusText):a(qt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=i(),n=o.onerror=i("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{o.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),g.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),g.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(r,a){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&a("error"===e.type?404:200,e.type)}),n.head.appendChild(t[0])},abort:function(){i&&i()}}});var Bt,Rt=[],Vt=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||g.expando+"_"+ft++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",function(t,i,n){var r,a,s,o=!1!==t.jsonp&&(Vt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Vt,"$1"+r):!1!==t.jsonp&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||g.error(r+" was not called"),s[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){s=arguments},n.always(function(){void 0===a?g(e).removeProp(r):e[r]=a,t[r]&&(t.jsonpCallback=i.jsonpCallback,Rt.push(r)),s&&g.isFunction(a)&&a(s[0]),s=a=void 0}),"script"}),m.createHTMLDocument=((Bt=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Bt.childNodes.length),g.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(m.createHTMLDocument?((r=(t=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,t.head.appendChild(r)):t=n),s=!i&&[],(a=I.exec(e))?[t.createElement(a[1])]:(a=me([e],t,s),s&&s.length&&g(s).remove(),g.merge([],a.childNodes)));var r,a,s},g.fn.load=function(e,t,i){var n,r,a,s=this,o=e.indexOf(" ");return o>-1&&(n=ht(e.slice(o)),e=e.slice(0,o)),g.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&g.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,s.html(n?g("<div>").append(g.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,a||[e.responseText,t,e])})}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}}),g.expr.pseudos.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length},g.offset={setOffset:function(e,t,i){var n,r,a,s,o,l,d=g.css(e,"position"),h=g(e),c={};"static"===d&&(e.style.position="relative"),o=h.offset(),a=g.css(e,"top"),l=g.css(e,"left"),("absolute"===d||"fixed"===d)&&(a+l).indexOf("auto")>-1?(s=(n=h.position()).top,r=n.left):(s=parseFloat(a)||0,r=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,i,g.extend({},o))),null!=t.top&&(c.top=t.top-o.top+s),null!=t.left&&(c.left=t.left-o.left+r),"using"in t?t.using.call(e,c):h.css(c)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){g.offset.setOffset(this,e,t)});var t,i,n,r,a=this[0];return a?a.getClientRects().length?(n=a.getBoundingClientRect(),i=(t=a.ownerDocument).documentElement,r=t.defaultView,{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===g.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),P(e[0],"html")||(n=e.offset()),n={top:n.top+g.css(e[0],"borderTopWidth",!0),left:n.left+g.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-g.css(i,"marginTop",!0),left:t.left-n.left-g.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===g.css(e,"position");)e=e.offsetParent;return e||fe})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;g.fn[e]=function(n){return z(this,function(e,n,r){var a;if(g.isWindow(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===r)return a?a[t]:e[n];a?a.scrollTo(i?a.pageXOffset:r,i?r:a.pageYOffset):e[n]=r},e,n,arguments.length)}}),g.each(["top","left"],function(e,t){g.cssHooks[t]=Re(m.pixelPosition,function(e,i){if(i)return i=Be(e,t),qe.test(i)?g(e).position()[t]+"px":i})}),g.each({Height:"height",Width:"width"},function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){g.fn[n]=function(r,a){var s=arguments.length&&(i||"boolean"!=typeof r),o=i||(!0===r||!0===a?"margin":"border");return z(this,function(t,i,r){var a;return g.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?g.css(t,i,o):g.style(t,i,r,o)},t,s?r:void 0,s)}})}),g.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),g.holdReady=function(e){e?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=P,"function"==typeof define&&define.amd&&define("jquery",[],function(){return g});var Ht=e.jQuery,Lt=e.$;return g.noConflict=function(t){return e.$===g&&(e.$=Lt),t&&e.jQuery===g&&(e.jQuery=Ht),g},t||(e.jQuery=e.$=g),g});var h=Object.freeze({});(function(){var e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function t(t){var i=e.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!i&&t}function i(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function n(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function r(e,t,i){i=void 0===i?new Set:i;for(var a=e;a;){if(a.nodeType===Node.ELEMENT_NODE){var s=a;t(s);var o=s.localName;if("link"===o&&"import"===s.getAttribute("rel")){if((a=s.import)instanceof Node&&!i.has(a))for(i.add(a),a=a.firstChild;a;a=a.nextSibling)r(a,t,i);a=n(e,s);continue}if("template"===o){a=n(e,s);continue}if(s=s.__CE_shadowRoot)for(s=s.firstChild;s;s=s.nextSibling)r(s,t,i)}a=a.firstChild?a.firstChild:n(e,a)}}function a(e,t,i){e[t]=i}function s(){this.a=new Map,this.g=new Map,this.c=[],this.f=[],this.b=!1}function o(e,t){e.b&&r(t,function(t){return l(e,t)})}function l(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var i=0;i<e.c.length;i++)e.c[i](t);for(i=0;i<e.f.length;i++)e.f[i](t)}}function d(e,t){var i=[];for(r(t,function(e){return i.push(e)}),t=0;t<i.length;t++){var n=i[t];1===n.__CE_state?e.connectedCallback(n):u(e,n)}}function h(e,t){var i=[];for(r(t,function(e){return i.push(e)}),t=0;t<i.length;t++){var n=i[t];1===n.__CE_state&&e.disconnectedCallback(n)}}function c(e,t,i){var n=(i=void 0===i?{}:i).u||new Set,a=i.i||function(t){return u(e,t)},s=[];if(r(t,function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var i=t.import;i instanceof Node&&(i.__CE_isImportDocument=!0,i.__CE_hasRegistry=!0),i&&"complete"===i.readyState?i.__CE_documentLoadHandled=!0:t.addEventListener("load",function(){var i=t.import;if(!i.__CE_documentLoadHandled){i.__CE_documentLoadHandled=!0;var r=new Set(n);r.delete(i),c(e,i,{u:r,i:a})}})}else s.push(t)},n),e.b)for(t=0;t<s.length;t++)l(e,s[t]);for(t=0;t<s.length;t++)a(s[t])}function u(e,t){if(void 0===t.__CE_state){var n=t.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=e.a.get(t.localName))){n.constructionStack.push(t);var r=n.constructorFunction;try{try{if(new r!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var a=n[r],s=t.getAttribute(a);null!==s&&e.attributeChangedCallback(t,a,null,s,null)}i(t)&&e.connectedCallback(t)}}}function p(e){var t=document;this.c=e,this.a=t,this.b=void 0,c(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function m(e){e.b&&e.b.disconnect()}function f(){var e=this;this.b=this.a=void 0,this.c=new Promise(function(t){e.b=t,e.a&&t(e.a)})}function g(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function v(e){this.c=!1,this.a=e,this.j=new Map,this.f=function(e){return e()},this.b=!1,this.g=[],this.o=new p(e)}s.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},s.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},s.prototype.attributeChangedCallback=function(e,t,i,n,r){var a=e.__CE_definition;a.attributeChangedCallback&&-1<a.observedAttributes.indexOf(t)&&a.attributeChangedCallback.call(e,t,i,n,r)},p.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||m(this),t=0;t<e.length;t++)for(var i=e[t].addedNodes,n=0;n<i.length;n++)c(this.c,i[n])},v.prototype.l=function(e,i){var n=this;if(!(i instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!t(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(this.a.a.get(e))throw Error("A custom element with name '"+e+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var r=function(e){var t=a[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},a=i.prototype;if(!(a instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var s=r("connectedCallback"),o=r("disconnectedCallback"),l=r("adoptedCallback"),d=r("attributeChangedCallback"),h=i.observedAttributes||[]}catch(e){return}finally{this.c=!1}i={localName:e,constructorFunction:i,connectedCallback:s,disconnectedCallback:o,adoptedCallback:l,attributeChangedCallback:d,observedAttributes:h,constructionStack:[]},function(e,t,i){e.a.set(t,i),e.g.set(i.constructorFunction,i)}(this.a,e,i),this.g.push(i),this.b||(this.b=!0,this.f(function(){return function(e){if(!1!==e.b){e.b=!1;for(var t=e.g,i=[],n=new Map,r=0;r<t.length;r++)n.set(t[r].localName,[]);for(c(e.a,document,{i:function(t){if(void 0===t.__CE_state){var r=t.localName,a=n.get(r);a?a.push(t):e.a.a.get(r)&&i.push(t)}}}),r=0;r<i.length;r++)u(e.a,i[r]);for(;0<t.length;){var a=t.shift();r=a.localName,a=n.get(a.localName);for(var s=0;s<a.length;s++)u(e.a,a[s]);(r=e.j.get(r))&&g(r)}}}(n)}))},v.prototype.i=function(e){c(this.a,e)},v.prototype.get=function(e){if(e=this.a.a.get(e))return e.constructorFunction},v.prototype.m=function(e){if(!t(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var i=this.j.get(e);return i?i.c:(i=new f,this.j.set(e,i),this.a.a.get(e)&&!this.g.some(function(t){return t.localName===e})&&g(i),i.c)},v.prototype.s=function(e){m(this.o);var t=this.f;this.f=function(i){return e(function(){return t(i)})}},window.CustomElementRegistry=v,v.prototype.define=v.prototype.l,v.prototype.upgrade=v.prototype.i,v.prototype.get=v.prototype.get,v.prototype.whenDefined=v.prototype.m,v.prototype.polyfillWrapFlushCallback=v.prototype.s;var b=window.Document.prototype.createElement,y=window.Document.prototype.createElementNS,_=window.Document.prototype.importNode,w=window.Document.prototype.prepend,x=window.Document.prototype.append,C=window.DocumentFragment.prototype.prepend,S=window.DocumentFragment.prototype.append,T=window.Node.prototype.cloneNode,P=window.Node.prototype.appendChild,I=window.Node.prototype.insertBefore,E=window.Node.prototype.removeChild,D=window.Node.prototype.replaceChild,k=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),j=window.Element.prototype.attachShadow,M=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),A=window.Element.prototype.getAttribute,N=window.Element.prototype.setAttribute,q=window.Element.prototype.removeAttribute,O=window.Element.prototype.getAttributeNS,B=window.Element.prototype.setAttributeNS,R=window.Element.prototype.removeAttributeNS,V=window.Element.prototype.insertAdjacentElement,H=window.Element.prototype.insertAdjacentHTML,L=window.Element.prototype.prepend,z=window.Element.prototype.append,F=window.Element.prototype.before,U=window.Element.prototype.after,$=window.Element.prototype.replaceWith,W=window.Element.prototype.remove,G=window.HTMLElement,X=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Y=window.HTMLElement.prototype.insertAdjacentElement,J=window.HTMLElement.prototype.insertAdjacentHTML,Q=new function(){};function K(e,t,n){function r(t){return function(n){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];a=[];for(var s=[],o=0;o<r.length;o++){var l=r[o];if(l instanceof Element&&i(l)&&s.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)a.push(l);else a.push(l)}for(t.apply(this,r),r=0;r<s.length;r++)h(e,s[r]);if(i(this))for(r=0;r<a.length;r++)(s=a[r])instanceof Element&&d(e,s)}}void 0!==n.h&&(t.prepend=r(n.h)),void 0!==n.append&&(t.append=r(n.append))}var Z,ee=window.customElements;if(!ee||ee.forcePolyfill||"function"!=typeof ee.define||"function"!=typeof ee.get){var te=new s;Z=te,window.HTMLElement=function(){function e(){var e=this.constructor,t=Z.g.get(e);if(!t)throw Error("The custom element being constructed was not registered with `customElements`.");var i=t.constructionStack;if(0===i.length)return i=b.call(document,t.localName),Object.setPrototypeOf(i,e.prototype),i.__CE_state=1,i.__CE_definition=t,l(Z,i),i;var n=i[t=i.length-1];if(n===Q)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[t]=Q,Object.setPrototypeOf(n,e.prototype),l(Z,n),n}return e.prototype=G.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}(),function(){var e=te;a(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var i=e.a.get(t);if(i)return new i.constructorFunction}return t=b.call(this,t),l(e,t),t}),a(Document.prototype,"importNode",function(t,i){return t=_.call(this,t,!!i),this.__CE_hasRegistry?c(e,t):o(e,t),t}),a(Document.prototype,"createElementNS",function(t,i){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var n=e.a.get(i);if(n)return new n.constructorFunction}return t=y.call(this,t,i),l(e,t),t}),K(e,Document.prototype,{h:w,append:x})}(),K(te,DocumentFragment.prototype,{h:C,append:S}),function(){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var a=this.childNodes,s=a.length;if(0<s&&i(this)){r=Array(s);for(var o=0;o<s;o++)r[o]=a[o]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)h(t,r[e])}}})}var t=te;a(Node.prototype,"insertBefore",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=I.call(this,e,n),i(this))for(n=0;n<r.length;n++)d(t,r[n]);return e}return r=i(e),n=I.call(this,e,n),r&&h(t,e),i(this)&&d(t,e),n}),a(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=P.call(this,e),i(this))for(var r=0;r<n.length;r++)d(t,n[r]);return e}return n=i(e),r=P.call(this,e),n&&h(t,e),i(this)&&d(t,e),r}),a(Node.prototype,"cloneNode",function(e){return e=T.call(this,!!e),this.ownerDocument.__CE_hasRegistry?c(t,e):o(t,e),e}),a(Node.prototype,"removeChild",function(e){var n=i(e),r=E.call(this,e);return n&&h(t,e),r}),a(Node.prototype,"replaceChild",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=D.call(this,e,n),i(this))for(h(t,n),n=0;n<r.length;n++)d(t,r[n]);return e}r=i(e);var a=D.call(this,e,n),s=i(this);return s&&h(t,n),r&&h(t,e),s&&d(t,e),a}),k&&k.get?e(Node.prototype,k):function(e,t){e.b=!0,e.c.push(t)}(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++){var i=this.childNodes[t];i.nodeType!==Node.COMMENT_NODE&&e.push(i.textContent)}return e.join("")},set:function(e){for(;this.firstChild;)E.call(this,this.firstChild);null!=e&&""!==e&&P.call(this,document.createTextNode(e))}})})}(),function(){function e(e,t){Object.defineProperty(e,"innerHTML",{enumerable:t.enumerable,configurable:!0,get:t.get,set:function(e){var n=this,a=void 0;if(i(this)&&(a=[],r(this,function(e){e!==n&&a.push(e)})),t.set.call(this,e),a)for(var l=0;l<a.length;l++){var d=a[l];1===d.__CE_state&&s.disconnectedCallback(d)}return this.ownerDocument.__CE_hasRegistry?c(s,this):o(s,this),e}})}function t(e,t){a(e,"insertAdjacentElement",function(e,n){var r=i(n);return e=t.call(this,e,n),r&&h(s,n),i(e)&&d(s,n),e})}function n(e,t){function i(e,t){for(var i=[];e!==t;e=e.nextSibling)i.push(e);for(t=0;t<i.length;t++)c(s,i[t])}a(e,"insertAdjacentHTML",function(e,n){if("beforebegin"===(e=e.toLowerCase())){var r=this.previousSibling;t.call(this,e,n),i(r||this.parentNode.firstChild,this)}else if("afterbegin"===e)r=this.firstChild,t.call(this,e,n),i(this.firstChild,r);else if("beforeend"===e)r=this.lastChild,t.call(this,e,n),i(r||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");r=this.nextSibling,t.call(this,e,n),i(this.nextSibling,r)}})}var s=te;j&&a(Element.prototype,"attachShadow",function(e){e=j.call(this,e);var t=s;if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var i=0;i<t.c.length;i++)t.c[i](e)}return this.__CE_shadowRoot=e}),M&&M.get?e(Element.prototype,M):X&&X.get?e(HTMLElement.prototype,X):function(e,t){e.b=!0,e.f.push(t)}(s,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return T.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,i=t?this.content:this,n=y.call(document,this.namespaceURI,this.localName);for(n.innerHTML=e;0<i.childNodes.length;)E.call(i,i.childNodes[0]);for(e=t?n.content:n;0<e.childNodes.length;)P.call(i,e.childNodes[0])}})}),a(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return N.call(this,e,t);var i=A.call(this,e);N.call(this,e,t),t=A.call(this,e),s.attributeChangedCallback(this,e,i,t,null)}),a(Element.prototype,"setAttributeNS",function(e,t,i){if(1!==this.__CE_state)return B.call(this,e,t,i);var n=O.call(this,e,t);B.call(this,e,t,i),i=O.call(this,e,t),s.attributeChangedCallback(this,t,n,i,e)}),a(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return q.call(this,e);var t=A.call(this,e);q.call(this,e),null!==t&&s.attributeChangedCallback(this,e,t,null,null)}),a(Element.prototype,"removeAttributeNS",function(e,t){if(1!==this.__CE_state)return R.call(this,e,t);var i=O.call(this,e,t);R.call(this,e,t);var n=O.call(this,e,t);i!==n&&s.attributeChangedCallback(this,t,i,n,e)}),Y?t(HTMLElement.prototype,Y):V?t(Element.prototype,V):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),J?n(HTMLElement.prototype,J):H?n(Element.prototype,H):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),K(s,Element.prototype,{h:L,append:z}),function(e){function t(t){return function(n){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];a=[];for(var s=[],o=0;o<r.length;o++){var l=r[o];if(l instanceof Element&&i(l)&&s.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)a.push(l);else a.push(l)}for(t.apply(this,r),r=0;r<s.length;r++)h(e,s[r]);if(i(this))for(r=0;r<a.length;r++)(s=a[r])instanceof Element&&d(e,s)}}var n=Element.prototype;void 0!==F&&(n.before=t(F)),void 0!==F&&(n.after=t(U)),void 0!==$&&a(n,"replaceWith",function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var a=[],s=0;s<n.length;s++){var o=n[s];if(o instanceof Element&&i(o)&&a.push(o),o instanceof DocumentFragment)for(o=o.firstChild;o;o=o.nextSibling)r.push(o);else r.push(o)}for(s=i(this),$.apply(this,n),n=0;n<a.length;n++)h(e,a[n]);if(s)for(h(e,this),n=0;n<r.length;n++)(a=r[n])instanceof Element&&d(e,a)}),void 0!==W&&a(n,"remove",function(){var t=i(this);W.call(this),t&&h(e,this)})}(s)}(),document.__CE_hasRegistry=!0;var ie=new v(te);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:ie})}}).call(void 0);var c=Object.freeze({});window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)});var u=Object.freeze({});!function(){if("function"!=typeof HTMLElement){var e=function(){};e.prototype=HTMLElement.prototype,HTMLElement=e}if(Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],a=0;a<n;a++)if(t=i[a],e.call(r,t,a,i))return a;return-1},enumerable:!1,configurable:!1,writable:!1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],a=0;a<n;a++)if(t=i[a],e.call(r,t,a,i))return t}}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Math.log10||(Math.log10=function(e){var t,i=+e;return i>0&&/^(?:10*|0\.0*1)$/.test(t=""+i)?i<1?2-t.length:t.length-1:Math.log(i)/Math.LN10}),Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var n=i.lastIndexOf(e,t);return-1!==n&&n===t}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},"KeyboardEvent"in window||!("key"in KeyboardEvent.prototype)){var t,i={keys:{3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],59:[";",":"],91:"OS",93:"ContextMenu",96:["0"],97:["1"],98:["2"],99:["3"],100:["4"],101:["5"],102:["6"],103:["7"],104:["8"],105:["9"],106:["*"],107:["+"],109:["-"],110:["."],111:["/"],144:"NumLock",145:"ScrollLock",173:["-","_"],181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"}};for(t=1;t<25;t++)i.keys[111+t]="F"+t;var n="";for(t=65;t<91;t++)n=String.fromCharCode(t),i.keys[t]=[n.toLowerCase(),n.toUpperCase()];var r={get:function(e){var t=i.keys[this.which||this.keyCode];return Array.isArray(t)&&(t=t[+this.shiftKey]),t}};Object.defineProperty(KeyboardEvent.prototype,"key",r)}var a,s,o,l,d;Array.from||(Array.from=(a=Object.prototype.toString,s=function(e){return"function"==typeof e||"[object Function]"===a.call(e)},o=Math.pow(2,53)-1,l=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),o)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,n=arguments.length>1?arguments[1]:void 0;if(void 0!==n){if(!s(n))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var r,a=l(t.length),o=s(this)?Object(new this(a)):new Array(a),d=0;d<a;)r=t[d],o[d]=n?void 0===i?n(r,d):n.call(i,r,d):r,d+=1;return o.length=a,o})),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),String.prototype.repeat||(String.prototype.repeat=function(e){if(null==this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var i="",n=0;n<e;n++)i+=t;return i}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),i=t.length>>>0,n=arguments[1]>>0,r=n<0?Math.max(i+n,0):Math.min(n,i),a=arguments[2],s=void 0===a?i:a>>0,o=s<0?Math.max(i+s,0):Math.min(s,i);r<o;)t[r]=e,r++;return t}}),(d=window.Node||window.Element)&&d.prototype&&null==d.prototype.children&&Object.defineProperty(d.prototype,"children",{get:function(){for(var e,t=0,i=this.childNodes,n=[];e=i[t++];)1===e.nodeType&&n.push(e);return n}}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){var t=e.Element.prototype,i=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","The token must not contain space characters.");return r.call(e,t)},o=function(e){for(var t=n.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],r=0,a=i.length;r<a;r++)this.push(i[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=o.prototype=[],d=function(){return new o(this)};if(a.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return~s(this,e+"")},l.add=function(){var e,t=arguments,i=0,n=t.length,r=!1;do{e=t[i]+"",~s(this,e)||(this.push(e),r=!0)}while(++i<n);r&&this._updateClassName()},l.remove=function(){var e,t,i=arguments,n=0,r=i.length,a=!1;do{for(e=i[n]+"",t=s(this,e);~t;)this.splice(t,1),a=!0,t=s(this,e)}while(++n<r);a&&this._updateClassName()},l.toggle=function(e,t){var i=this.contains(e),n=i?!0!==t&&"remove":!1!==t&&"add";return n&&this[n](e),!0===t||!1===t?t:!i},l.replace=function(e,t){var i=s(e+"");~i&&(this.splice(i,1,t),this._updateClassName())},l.toString=function(){return this.join(" ")},i.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(t,"classList",h)}catch(e){void 0!==e.number&&-2146823252!==e.number||(h.enumerable=!1,i.defineProperty(t,"classList",h))}}else i.prototype.__defineGetter__&&t.__defineGetter__("classList",d)}}(self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var i,n=arguments.length;for(i=0;i<n;i++)e=arguments[i],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var i=this.toString().split(" "),n=i.indexOf(e+"");~n&&(i=i.slice(n),this.remove.apply(this,i),this.add(t),this.add.apply(this,i.slice(1)))}),e=null}()),document.elementsFromPoint||(document.elementsFromPoint=function(e,t){var i=[],n=void 0;do{n!==document.elementFromPoint(e,t)?(n=document.elementFromPoint(e,t),i.push(n),n.style.pointerEvents="none"):n=!1}while(n);return i.forEach(function(e){return e.style.pointerEvents="all"}),i})}(),function(e){var t,i=e.babelHelpers={};i.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i.jsx=(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,i,n,r){var a=e&&e.defaultProps,s=arguments.length-3;if(i||0===s||(i={}),i&&a)for(var o in a)void 0===i[o]&&(i[o]=a[o]);else i||(i=a||{});if(1===s)i.children=r;else if(s>1){for(var l=Array(s),d=0;d<s;d++)l[d]=arguments[d+3];i.children=l}return{$$typeof:t,type:e,key:void 0===n?null:""+n,ref:null,props:i,_owner:null}}),i.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},i.asyncGenerator=function(){function e(e){this.value=e}function t(t){var i,n;function r(i,n){try{var s=t[i](n),o=s.value;o instanceof e?Promise.resolve(o.value).then(function(e){r("next",e)},function(e){r("throw",e)}):a(s.done?"return":"normal",s.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?r(i.key,i.arg):n=null}this._invoke=function(e,t){return new Promise(function(a,s){var o={key:e,arg:t,resolve:a,reject:s,next:null};n?n=n.next=o:(i=n=o,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),i.asyncGeneratorDelegate=function(e,t){var i={},n=!1;function r(i,r){return n=!0,r=new Promise(function(t){t(e[i](r))}),{done:!1,value:t(r)}}return"function"==typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return this}),i.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(i.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(i.return=function(e){return r("return",e)}),i},i.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,i){return function n(r,a){try{var s=t[r](a),o=s.value}catch(e){return void i(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}},i.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i.createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i.defineEnumerableProperties=function(e,t){for(var i in t){var n=t[i];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i,n)}return e},i.defaults=function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e},i.defineProperty=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},i.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i.get=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},i.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},i.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},i.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t},i.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},i.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},i.objectWithoutProperties=function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i},i.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i.selfGlobal=void 0===e?self:e,i.set=function e(t,i,n,r){var a=Object.getOwnPropertyDescriptor(t,i);if(void 0===a){var s=Object.getPrototypeOf(t);null!==s&&e(s,i,n,r)}else if("value"in a&&a.writable)a.value=n;else{var o=a.set;void 0!==o&&o.call(r,n)}return n},i.slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var i,n=[],r=e[Symbol.iterator]();!(i=r.next()).done&&(n.push(i.value),!t||n.length!==t););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},i.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},i.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},i.temporalRef=function(e,t,i){if(e===i)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},i.temporalUndefined={},i.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},i.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}}("undefined"==typeof global?self:global),function(){var e,t="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&(e=document.importNode,document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var i=document.createDocumentFragment();return i.appendChild(t),i}return t});var i=function(){if(!t){var e=document.createElement("template"),i=document.createElement("template");i.content.appendChild(document.createElement("div")),e.content.appendChild(i);var n=e.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}}(),n=function(){};if(t){var r=document.implementation.createHTMLDocument("template"),a=!0,s=document.createElement("style");s.textContent="template{display:none;}";var o=document.head;o.insertBefore(s,o.firstElementChild),n.prototype=Object.create(HTMLElement.prototype),n.decorate=function(e){if(!e.content){var t;for(e.content=r.createDocumentFragment();t=e.firstChild;)e.content.appendChild(t);if(e.cloneNode=function(e){return n.cloneNode(this,e)},a)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",t=this.content.firstChild;t;t=t.nextSibling)e+=t.outerHTML||t.data.replace(h,c);return e},set:function(e){for(r.body.innerHTML=e,n.bootstrap(r);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;r.body.firstChild;)this.content.appendChild(r.body.firstChild)},configurable:!0})}catch(e){a=!1}n.bootstrap(e.content)}},n.bootstrap=function(e){for(var t,i=e.querySelectorAll("template"),r=0,a=i.length;r<a&&(t=i[r]);r++)n.decorate(t)},document.addEventListener("DOMContentLoaded",function(){n.bootstrap(document)});var l=document.createElement;document.createElement=function(){var e=l.apply(document,arguments);return"template"===e.localName&&n.decorate(e),e};var d=document.createElementNS;document.createElementNS=function(){var e=d.apply(document,arguments);return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&"template"===e.localName&&n.decorate(e),e};var h=/[&\u00A0<>]/g;function c(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}}if(t||i){var u=Node.prototype.cloneNode;n.cloneNode=function(e,t){var i=u.call(e,!1);return this.decorate&&this.decorate(i),t&&(i.content.appendChild(u.call(e.content,!0)),this.fixClonedDom(i.content,e.content)),i},n.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var i,n,r=t.querySelectorAll("template"),a=e.querySelectorAll("template"),s=0,o=a.length;s<o;s++)n=r[s],i=a[s],this.decorate&&this.decorate(n),i.parentNode.replaceChild(n.cloneNode(!0),i)};var p=document.importNode;Node.prototype.cloneNode=function(e){var t=u.call(this,e);return e&&n.fixClonedDom(t,this),t},document.importNode=function(e,t){if("template"===e.localName)return n.cloneNode(e,t);var i=p.call(document,e,t);return t&&n.fixClonedDom(i,e),i},i&&(HTMLTemplateElement.prototype.cloneNode=function(e){return n.cloneNode(this,e)})}t&&(window.HTMLTemplateElement=n)}();var p=Object.freeze({});!function(){const e=[];let t="JQX";if(window[t]&&window[t].Version){if("3.4.0"===window[t].Version)return;if("3.4.0"!==window[t].Version)t+="3.4.0";else{let e=2;for(;window[t];)t+=e.toString(),e++}}class i{static get moduleName(){return"BindingModule"}getBindings(e,t){const i=this;let n=0,r={},a=(e=>{if(e instanceof HTMLElement)return i.parseAttributes(e);{let t=i.parseProperty(e.data?e.data.trim():null,"textContent",e);if(t)return i.ownerElement&&e.parentNode===i.ownerElement.$.content&&(t.value=""!==i.ownerElement.$.html?i.ownerElement.$.html:void 0,i.ownerElement.innerHTML=""),{textContent:t}}})(e);a&&(r.data=a),t||(r.mapping=[],t=r),e.getAttribute&&(r.nodeId=e.getAttribute("jqx-id"),t&&a&&(t.mapping[r.nodeId]=a)),r.node=e,e.firstChild&&(r.children={});for(let a=e.firstChild;a;a=a.nextSibling)r.children[n++]=i.getBindings(a,t);return r}_addRemovePropertyBinding(e,t,i,n){if(!e||!t||!i)return;const r=this,a=r.ownerElement.bindings,s=i.getAttribute("jqx-id"),o=e.indexOf("{{")>=0;let l=!1;(e=e.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(e=e.replace("!",""),l=!0);const d=r.ownerElement._properties[e],h={name:e,reflectToAttribute:d.reflectToAttribute,twoWay:o,type:d.type,not:l},c=function(e){for(let a in e){const o=e[a];if(o.nodeId===s){o.data||(o.data={}),n?(o.data[t]=null,delete o.data[t]):o.data[t]=h;break}if(o.children)c(o.children);else if(o.node&&o.node.children&&o.node===i.parentElement){const e=o.node;if(!e.firstChild)continue;o.children={};let t=0;for(let i=e.firstChild;i;i=i.nextSibling)o.children[t++]=r.getBindings(i);c(o.children)}}};c(a.children),n?delete r.ownerElement.boundProperties[e]:r.ownerElement.boundProperties[e]=!0,r.updateBoundNodes(e)}addPropertyBinding(e,t,i){this._addRemovePropertyBinding(e,t,i)}removePropertyBinding(e,t,i){this._addRemovePropertyBinding(e,t,i,!0)}parseAttributes(e){const t=this;let n=void 0;for(let r=0;r<e.attributes.length;r++){const a=e.attributes[r],s=a.name,o=a.value;i.cache["toCamelCase"+s]||(i.cache["toCamelCase"+s]=g.Core.toCamelCase(s));const l=i.cache["toCamelCase"+s];if(s.indexOf("(")>=0){let i=s.substring(1,s.length-1);if(t.ownerElement&&!t.ownerElement.dataContext){t.ownerElement.templateListeners[e.getAttribute("jqx-id")+"."+i]=o,e.removeAttribute(s);continue}{n||(n={});const e=o.substring(0,o.indexOf("("));n[l]={isEvent:!0,name:i,value:e};continue}}let d=t.parseProperty(o,s,e);d&&(n||(n={}),n[l]=d)}return n}parseProperty(e,t){if(!e||!e.length)return;const i=this;let n,r=e.length,a=0,s=0,o=0,l=!0;for(;s<r;){a=e.indexOf("{{",s);let t=e.indexOf("[[",s),i="}}";if(t>=0&&(a<0||t<a)&&(a=t,l=!1,i="]]"),(o=a<0?-1:e.indexOf(i,a+2))<0)return;n=n||{};let r=e.slice(a+2,o).trim();n.name=r,s=o+2}const d=n.name,h=i.ownerElement?i.ownerElement._properties[d]:null;if(n.twoWay=l,n.ready=!1,i.ownerElement&&(d.indexOf("::")>=0?i.ownerElement.boundProperties[d.substring(0,d.indexOf("::"))]=!0:i.ownerElement.boundProperties[d]=!0),h)n.type=h.type,n.reflectToAttribute=h.reflectToAttribute;else{["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(t)>=0?n.type="boolean":n.type="string",n.reflectToAttribute=!0}return n}updateTextNodes(){this.updateTextNode(this.ownerElement.shadowRoot||this.ownerElement,this.ownerElement.bindings,this.ownerElement)}updateTextNode(e,t,i){const n=this;if(!t)return;let r=0;for(let a=e.firstChild;a&&t.children;a=a.nextSibling)n.updateTextNode(a,t.children[r++],i);if(t&&t.data)for(let e in t.data){const n=t.data[e],r=n.name;"textContent"===e&&n.twoWay&&!n.updating&&void 0!==n.value&&(i[r]=n.value)}}updateBoundProperty(e,t){if(t.updating)return;const i=this.ownerElement;t.updating=!0,i[e]=t.value,t.updating=!1}updateBoundNodes(e){const t=this;if(t.updateBoundNode(t.ownerElement.shadowRoot||t.ownerElement,t.ownerElement.bindings,t.ownerElement,e),t.ownerElement.detachedChildren.length>0)for(let i=0;i<t.ownerElement.detachedChildren.length;i++){const n=t.ownerElement.detachedChildren[i],r=n.getAttribute("jqx-id"),a=function(e){if(e.nodeId===r)return e;for(let t in e.children){const i=e.children[t];if((i.getAttribute?i.getAttribute("jqx-id"):"")===r)return e;if(i.children){const e=a(i);if(e)return e}}return null},s=a(t.ownerElement.bindings);if(s)t.updateBoundNode(n,s,t.ownerElement,e,!0);else if(n.getAttribute&&t.ownerElement.bindings.mapping){const i=t.ownerElement,n=t.ownerElement.bindings;if(n)for(let r in n.mapping){const a=i.querySelector('[jqx-id="'+r+'"]');if(a){const s=n.mapping[r];t.updateBoundData(a,s,i,e)}}}}}updateBoundMappedNodes(){const e=this,t=e.ownerElement.bindings,i=e.ownerElement;if(t.mapping)for(let n in t.mapping){let r=i.querySelector('[jqx-id="'+n+'"]');if(r){const a=t.mapping[n];e.updateBoundData(r,a,i)}else if(i.getAttribute("aria-controls")){if(r=document.getElementById(i.getAttribute("aria-controls")).querySelector('[jqx-id="'+n+'"]')){const a=t.mapping[n];e.updateBoundData(r,a,i)}}}}updateBoundNode(e,t,i,n,r){const a=this;if(!t)return;let s=0;if(r){if(r&&!t.data)for(let o=e.firstChild;o&&t.children;o=o.nextSibling)if(o.getAttribute){const e=o.getAttribute("jqx-id"),r=function(){for(let i in t.children)if(t.children[i].nodeId===e)return t.children[i]}();a.updateBoundNode(o,r,i,n),s++}else a.updateBoundNode(o,t.children[s++],i,n,r)}else for(let r=e.firstChild;r&&t.children;r=r.nextSibling)if(r.getAttribute){const e=r.getAttribute("jqx-id"),o=function(){for(let i in t.children)if(t.children[i].nodeId===e)return t.children[i]}();a.updateBoundNode(r,o,i,n),s++}else a.updateBoundNode(r,t.children[s++],i,n);if(!t||!t.data)return;const o=t.data;a.updateBoundData(e,o,i,n)}updateBoundData(e,t,n,r){const a=this;for(let s in t){const o=t[s];let l=o.name;if(!o.updating&&(l.indexOf("::")>=0&&(l=l.substring(0,l.indexOf("::"))),void 0===r||r===l)){if(l.indexOf("(")>=0){let e=l.substring(l.indexOf("("));const t=l.substring(0,l.indexOf("("));if((e=(e=(e=e.substring(1,e.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==e[0]){let i=[];for(let t=0;t<e.length;t++)i.push(n[e[t]]);o.value=n[t].apply(n,i)}else o.value=n[t]();o.type=typeof o.value}else o.value=n[l];if("innerHTML"===l?e[s].toString().trim()!==n[l].toString().trim()&&(o.ready?e[s]=o.value.toString().trim():n._properties[l].defaultValue!==o.value&&(e[s]=o.value.toString().trim())):o.not?e[s]=!o.value:e[s]=o.value,e.$&&e.$.isNativeElement){i.cache["toDash"+s]||(i.cache["toDash"+s]=g.Core.toDash(s));const t=i.cache["toDash"+s],n=e.$.getAttributeValue(t,o.type);!o.reflectToAttribute||n===o.value&&o.ready||e.$.setAttributeValue(t,o.value,o.type),o.reflectToAttribute||e.$.setAttributeValue(t,null,o.type)}if(!o.ready){if(e.$&&e.$.isCustomElement){i.cache["toDash"+s]||(i.cache["toDash"+s]=g.Core.toDash(s));const t=i.cache["toDash"+s];e._properties||(e._beforeCreatedProperties=e._properties=e.propertyByAttributeName=[]),e._properties[s]||(e._properties[s]={attributeName:t},e._beforeCreatedProperties[s]=e._properties[s],e.propertyByAttributeName[t]=e._properties[s]);const n=e._properties[s];n.isUpdating=!0,o.reflectToAttribute&&(o.not?e.$.setAttributeValue(n.attributeName,!o.value,o.type):e.$.setAttributeValue(n.attributeName,o.value,o.type)),o.reflectToAttribute||e.$.setAttributeValue(n.attributeName,null,o.type),n.isUpdating=!1}if(o.twoWay){const t=function(t){if(o.value=t,e.$&&e.$.isNativeElement){i.cache["toDash"+s]||(i.cache["toDash"+s]=g.Core.toDash(s));const t=i.cache["toDash"+s],n=e.$.getAttributeValue(t,o.type);o.reflectToAttribute&&n!==o.value&&e.$.setAttributeValue(t,o.value,o.type),o.reflectToAttribute||e.$.setAttributeValue(t,null,o.type)}};if(o.name.indexOf("::")>=0){const i=o.name.indexOf("::"),n=o.name.substring(i+2);a.ownerElement["$"+e.getAttribute("jqx-id")].listen(n,function(){t(e[s]);const i=o.name.substring(0,o.name.indexOf("::"));a.updateBoundProperty(i,o)})}if(e.$&&e.$.isCustomElement){e._properties[s]&&(e._properties[s].notify=!0),i.cache["toDash"+s]||(i.cache["toDash"+s]=g.Core.toDash(s));const n=i.cache["toDash"+s];a.ownerElement["$"+e.getAttribute("jqx-id")].listen(n+"-changed",function(e){let i=e.detail;t(i.value);const n=a.ownerElement.context;e.context!==document&&(a.ownerElement.context=a.ownerElement),a.updateBoundProperty(o.name,o),a.ownerElement.context=n})}}}o.ready=!0}}}static clearCache(){this.cache={}}}class n{static isBoolean(e){return"boolean"==typeof e}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static isArray(e){return Array.isArray(e)}static isObject(e){return e&&("object"==typeof e||this.isFunction(e))||!1}static isDate(e){return e instanceof Date}static isString(e){return"string"==typeof e}static isNumber(e){return"number"==typeof e}static getType(e){const t=this,i=["Boolean","Number","String","Function","Array","Date","Object"].find(i=>{if(t["is"+i](e))return i});return i?i.toLowerCase():void 0}}class r{static animate(e,i,n,r){const a=e;if(!a||a instanceof HTMLElement==!1)return;if(0===a.getElementsByClassName("jqx-ripple").length){const e=document.createElement("span");e.classList.add("jqx-ripple");let i=!0,n=null;if(window[t].EnableShadowDOM&&a.enableShadowDOM){for(let e=0;e<a.shadowRoot.host.shadowRoot.children.length;e++)"link"!==a.shadowRoot.host.shadowRoot.children[e].tagName.toLowerCase()&&(n=a.shadowRoot.host.shadowRoot.children[e]);a.shadowRoot.host.shadowRoot.querySelector(".jqx-ripple")&&(i=!1)}else n=a.firstElementChild;i&&(n&&!n.noRipple&&n.offsetHeight>0?n.appendChild(e):a.appendChild(e))}let s=null;if(!(s=window[t].EnableShadowDOM&&a.enableShadowDOM?a.shadowRoot.host.shadowRoot.querySelector(".jqx-ripple"):a.getElementsByClassName("jqx-ripple")[0]))return;s.innerHTML="",s.classList.remove("jqx-animate"),s.style.height=s.style.width=Math.max(a.offsetHeight,a.offsetWidth)+"px";const o=window.getComputedStyle(s.parentElement),l=parseInt(o.borderLeftWidth)||0,d=parseInt(o.borderTopWidth)||0,h=a.getBoundingClientRect(),c=i-(h.left+window.pageXOffset)-s.offsetWidth/2-l,u=n-(h.top+window.pageYOffset)-s.offsetHeight/2-d;s.style.left=c+"px",s.style.top=u+"px",s.classList.add("jqx-animate"),s.addEventListener("animationend",function e(){s.parentElement&&s.parentElement.removeChild(s),r&&r(),s.removeEventListener("animationend",e),s.removeEventListener("animationcancel",e)}),s.addEventListener("animationcancel",function e(){s.parentElement&&s.parentElement.removeChild(s),r&&r(),s.removeEventListener("animationcancel",e),s.removeEventListener("animationend",e)})}}class a{static easeInQuad(e,t,i,n){return i*(e/=n)*e+t}static easeOutQuad(e,t,i,n){return-i*(e/=n)*(e-2)+t}static easeInOutQuad(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}static easeInCubic(e,t,i,n){return i*(e/=n)*e*e+t}static easeOutCubic(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t}static easeInOutCubic(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}static easeInQuart(e,t,i,n){return i*(e/=n)*e*e*e+t}static easeOutQuart(e,t,i,n){return-i*((e=e/n-1)*e*e*e-1)+t}static easeInOutQuart(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t}static easeInQuint(e,t,i,n){return i*(e/=n)*e*e*e*e+t}static easeOutQuint(e,t,i,n){return i*((e=e/n-1)*e*e*e*e+1)+t}static easeInOutQuint(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t}static easeInSine(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t}static easeOutSine(e,t,i,n){return i*Math.sin(e/n*(Math.PI/2))+t}static easeInOutSine(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t}static easeInExpo(e,t,i,n){return 0===e?t:i*Math.pow(2,10*(e/n-1))+t}static easeOutExpo(e,t,i,n){return e===n?t+i:i*(1-Math.pow(2,-10*e/n))+t}static easeInOutExpo(e,t,i,n){return 0===e?t:e===n?t+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t}static easeInCirc(e,t,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+t}static easeOutCirc(e,t,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+t}static easeInOutCirc(e,t,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t}static easeInElastic(e,t,i,n){let r=1.70158,a=0,s=i;return 0===e?t:1==(e/=n)?t+i:(a||(a=.3*n),s<Math.abs(i)?(s=i,r=a/4):r=a/(2*Math.PI)*Math.asin(i/s),-s*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/a)+t)}static easeOutElastic(e,t,i,n){let r=1.70158,a=0,s=i;return 0===e?t:1==(e/=n)?t+i:(a||(a=.3*n),s<Math.abs(i)?(s=i,r=a/4):r=a/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*e)*Math.sin((e*n-r)*(2*Math.PI)/a)+i+t)}static easeInOutElastic(e,t,i,n){let r=1.70158,a=0,s=i;return 0===e?t:2==(e/=n/2)?t+i:(a||(a=n*(.3*1.5)),s<Math.abs(i)?(s=i,r=a/4):r=a/(2*Math.PI)*Math.asin(i/s),e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/a)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/a)*.5+i+t)}static easeInBack(e,t,i,n,r){return void 0===r&&(r=1.70158),i*(e/=n)*e*((r+1)*e-r)+t}static easeOutBack(e,t,i,n,r){return void 0===r&&(r=1.70158),i*((e=e/n-1)*e*((r+1)*e+r)+1)+t}static easeInOutBack(e,t,i,n,r){return void 0===r&&(r=1.70158),(e/=n/2)<1?i/2*(e*e*((1+(r*=1.525))*e-r))+t:i/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t}static easeInBounce(e,t,i,n){return i-this.easeOutBounce(n-e,0,i,n)+t}static easeOutBounce(e,t,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t}static easeInOutBounce(e,t,i,n){return e<n/2?.5*this.easeInBounce(2*e,0,i,n)+t:.5*this.easeOutBounce(2*e-n,0,i,n)+.5*i+t}}class s{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())}static get Browser(){let e;const t=function(t){let i=t.indexOf(e);if(-1===i)return;const n=t.indexOf("rv:");return"Trident"===e&&-1!==n?parseFloat(t.substring(n+3)):parseFloat(t.substring(i+e.length+1))};let i={};return i[function(){const t=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];for(let i=0;i<t.length;i++){let n=t[i].string;if(e=t[i].subString,-1!==n.indexOf(t[i].subString))return t[i].identity}return"Other"}()]=!0,i.version=t(navigator.userAgent)||t(navigator.appVersion)||"Unknown",i}static toCamelCase(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}static toDash(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}static escapeHTML(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,e=>t[e])}static createGUID(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}static getScriptLocation(){if("./"!==window[t].BaseUrl)return window[t].BaseUrl;return function(){if(document.currentScript){let e=document.currentScript.src,t=e.lastIndexOf("/");return e=e.substring(0,t)}const e=new Error;let t="(",i=")";if(JQX.Utilities.Core.Browser.Safari&&(t="@",i="\n"),e.fileName)return e.fileName.replace("/jqxelement.js","");let n=e.stack.split(t);return(n=(n=(n=n[1]).split(i)[0]).split(":")).splice(-2,2),(n=n.join(":")).replace("/jqxelement.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(e,t){const i=e=>e&&"object"==typeof e&&!Array.isArray(e)&&null!==e;let n=Object.assign({},e);return i(e)&&i(t)&&Object.keys(t).forEach(r=>{i(t[r])&&r in e?n[r]=this.assign(e[r],t[r]):Object.assign(n,{[r]:t[r]})}),n}static html(e,t){const i=this;let n="",r=e.childNodes;if(!t){for(let e,t=0,a=r.length;t<a&&(e=r[t]);t++){const t=["strong"];if(e instanceof HTMLElement||e.tagName&&t.indexOf(e.tagName.toLowerCase())>=0){const t=e.tagName.toLowerCase(),r=e.attributes;let a="<"+t;for(let e,t=0;e=r[t];t++)a+=" "+e.name+'="'+e.value.replace(/[&\u00A0"]/g,g.Core.escapeHTML)+'"';a+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][t]&&(n+=a),n=n+a+i.html(e)+"</"+t+">"}else n+=e.textContent.replace(/[&\u00A0<>]/g,g.Core.escapeHTML)}return n}{const i=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;e.innerHTML=t.replace(i,"<$1></$2>")}}}let o=[];class l{static watch(e){o.push(e),l.interval&&clearInterval(l.interval),l.interval=setInterval(function(){l.observe()},100)}static observeElement(e){const t=e;let i=e._computedStyle||"resize"!==t.hasStyleObserver?document.defaultView.getComputedStyle(t,null):{},n=!0,r="resize"!==t.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(e.styleProperties&&(r=r.concat(e.styleProperties)),e.observableStyleProperties&&(r=e.observableStyleProperties),!t._styleInfo){t._styleInfo=[];for(let e=0;e<r.length;e++){const n=r[e];t._styleInfo[n]=i[n]}return}if(e.isHidden||"none"!==i.display&&(0!==e.offsetWidth&&0!==e.offsetHeight||(e.isHidden=!0)),e.isHidden){if(e.visibilityChangedHandler(),e.isHidden)return;n=!1}let a=[];for(let e=0;e<r.length;e++){const n=r[e];t._styleInfo[n]!==i[n]&&(a[n]={oldValue:t._styleInfo[n],value:i[n]},a.length++),t._styleInfo[n]=i[n]}a.length>0&&(t.$.fireEvent("styleChanged",{styleProperties:a},{bubbles:!1,cancelable:!0}),a.display&&n&&t.$.fireEvent("resize",t,{bubbles:!1,cancelable:!0}))}static observe(){for(let e=0;e<o.length;e++){const t=o[e];this.observeElement(t)}}static unwatch(e){l.interval&&clearInterval(l.interval);const t=o.indexOf(e);-1!==t&&o.splice(t,1),o.length>0&&(l.interval=setInterval(function(){l.observe()},100))}}let d=[];const h=[],c=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"];class u{constructor(e){const t=this;t.target=e,t.$target=new m(e),t.$document=new m(document),t.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();let i={handlers:{},boundEventTypes:[],listen:t.listen.bind(t),unlisten:t.unlisten.bind(t)};return t.tapHoldDelay=750,t.swipeMin=10,t.swipeMax=5e3,t.swipeDelay=1e3,t.tapHoldDelay=750,t.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],c.forEach(e=>{i[e]=(t=>{i.handlers[e]=t}),t[e]=(e=>{if(!i.handlers[e.type]){if(("mousemove"===e.type||"pointermove"===e.type||"touchmove"===e.type)&&i.handlers.move){const n=t.createEvent(e,"move");i.handlers.move(n)}return!0}return i.handlers[e.type](e)})}),t.listen(),t.handlers=i.handlers,i}listen(e){const i=this;if("resize"===e&&!i.target.resizeTrigger&&i.target!==document&&i.target!==window&&!1!==i.target.hasResizeObserver){const e=document.createElement("div");e.className="jqx-resize-trigger-container",e.innerHTML='<div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger"></div></div><div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger-shrink"></div></div>',window[t].EnableShadowDOM&&i.target.enableShadowDOM?i.target.shadowRoot.appendChild(e):i.target.appendChild(e),i.target.resizeTrigger=e;const n=e.childNodes[0],r=n.childNodes[0],a=e.childNodes[1],s=function(){r.style.width="100000px",r.style.height="100000px",n.scrollLeft=1e5,n.scrollTop=1e5,a.scrollLeft=1e5,a.scrollTop=1e5};let o,l,d,h,c=i.target.offsetWidth,u=i.target.offsetHeight;if(0===c||0===u){const e=function(){s(),i.target.removeEventListener("resize",e)};i.target.addEventListener("resize",e),s()}else s();i.target.resizeHandler=function(){l||(l=requestAnimationFrame(function(){if(l=0,d=i.target.offsetWidth,h=i.target.offsetHeight,o=d!==c||h!==u,i.target.requiresLayout&&(o=!0),!o)return;c=d,u=h;const e=new CustomEvent("resize",{bubbles:!1,cancelable:!0});i.resize(e),i.target.requiresLayout=!1})),s()},n.addEventListener("scroll",i.target.resizeHandler),a.addEventListener("scroll",i.target.resizeHandler)}if(!i.isListening){if(i.isListening=!0,i.isPressed=!1,i.isReleased=!1,i.isInBounds=!1,window.PointerEvent)i.$target.listen("pointerdown.inputEvents"+i.id,i.pointerDown.bind(i)),i.$target.listen("pointerup.inputEvents"+i.id,i.pointerUp.bind(i)),i.$target.listen("pointermove.inputEvents"+i.id,i.pointerMove.bind(i)),i.$target.listen("pointercancel.inputEvents"+i.id,i.pointerCancel.bind(i));else{"ontouchstart"in window&&(i.$target.listen("touchmove.inputEvents"+i.id,i.touchMove.bind(i)),i.$target.listen("touchstart.inputEvents"+i.id,i.touchStart.bind(i)),i.$target.listen("touchend.inputEvents"+i.id,i.touchEnd.bind(i)),i.$target.listen("touchcancel.inputEvents"+i.id,i.touchCancel.bind(i))),i.$target.listen("mousedown.inputEvents"+i.id,i.mouseDown.bind(i)),i.$target.listen("mouseup.inputEvents"+i.id,i.mouseUp.bind(i)),i.$target.listen("mousemove.inputEvents"+i.id,i.mouseMove.bind(i)),i.$target.listen("mouseleave.inputEvents"+i.id,i.mouseLeave.bind(i))}i.$document.listen("mouseup.inputEvents"+i.id,i.handleDocumentUp.bind(i))}}unlisten(e){const i=this;if(i.isListening=!1,window.PointerEvent)i.$target.unlisten("pointerdown.inputEvents"+i.id),i.$target.unlisten("pointerup.inputEvents"+i.id),i.$target.unlisten("pointermove.inputEvents"+i.id),i.$target.unlisten("pointercancel.inputEvents"+i.id);else{"ontouchstart"in window&&(i.$target.unlisten("touchstart.inputEvents"+i.id),i.$target.unlisten("touchmove.inputEvents"+i.id),i.$target.unlisten("touchend.inputEvents"+i.id),i.$target.unlisten("touchcancel.inputEvents"+i.id)),i.$target.unlisten("mousedown.inputEvents"+i.id),i.$target.unlisten("mouseup.inputEvents"+i.id),i.$target.unlisten("mousemove.inputEvents"+i.id),i.$target.unlisten("mouseleave.inputEvents"+i.id)}if(i.$document.unlisten("mouseup.inputEvents"+i.id,i.handleDocumentUp),"resize"===e&&i.target.resizeTrigger){const e=i.target.resizeTrigger,n=e.childNodes[0],r=e.childNodes[1];n.removeEventListener("scroll",i.target.resizeHandler),r.removeEventListener("scroll",i.target.resizeHandler),i.target.resizeHandler=null,(window[t].EnableShadowDOM&&i.target.enableShadowDOM?i.target.shadowRoot:i.target).removeChild(e),delete i.target.resizeTrigger}}handleDocumentUp(e){this.isPressed=!1,this.isReleased=!1,this.resetSwipe(e)}createEvent(e,t){const i=this,n=e.touches,r=e.changedTouches,a=n&&n.length?n[0]:r&&r.length?r[0]:void 0,s=new CustomEvent(t,{bubbles:!0,cancelable:!0});if(s.originalEvent=e,a){for(let e=0;e<i.inputEventProperties.length;e++){const t=i.inputEventProperties[e];s[t]=a[t]}return s}for(let t in e)t in s||(s[t]=e[t]);return s}fireTap(e){const t=this;if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const i=t.createEvent(e,"tap");t.tap(i)}}initTap(e){const t=this;t.isInBounds=!0,t.tapHoldFired=!1,t.tapHoldTimeout=setTimeout(function(){if(t.isInBounds){t.tapHoldFired=!0;const i=t.createEvent(e,"taphold");t.taphold(i)}},t.tapHoldDelay)}pointerDown(e){return this.handleDown(e)}mouseDown(e){if(!(this.isPressed||this.touchStartTime&&new Date-this.touchStartTime<500))return this.handleDown(e)}touchStart(e){return this.touchStartTime=new Date,this.isTouchMoved=!0,this.handleDown(e)}mouseUp(e){if(!(this.isReleased||this.touchEndTime&&new Date-this.touchEndTime<500))return this.handleUp(e)}handleDown(e){const t=this;t.isReleased=!1,t.isPressed=!0;const i=t.createEvent(e,"down");return(t.handlers.tap||t.handlers.taphold)&&t.initTap(i),(t.handlers.swipeleft||t.handlers.swiperight||t.handlers.swipetop||t.handlers.swipebottom)&&t.initSwipe(i),t.down(i)}handleUp(e){const t=this;t.isReleased=!0,t.isPressed=!1;const i=t.createEvent(e,"up"),n=t.up(i);return(t.handlers.tap||t.handlers.taphold)&&t.fireTap(i),t.resetSwipe(i),n}handleMove(e){const t=this;let i=t.move(e);return t.isPressed&&(t._maxSwipeVerticalDistance=Math.max(t._maxSwipeVerticalDistance,Math.abs(t._startY-e.pageY)),t._maxSwipeHorizontalDistance=Math.max(t._maxSwipeHorizontalDistance,Math.abs(t._startX-e.pageX)),i=t.handleSwipeEvents(e)),i}touchEnd(e){return this.touchEndTime=new Date,this.handleUp(e)}pointerUp(e){return this.handleUp(e)}pointerCancel(e){this.pointerUp(e)}touchCancel(e){this.touchEnd(e)}mouseLeave(){this.isInBounds=!1}mouseMove(e){if(!this.isTouchMoved)return this.handleMove(e)}pointerMove(e){return this.handleMove(e)}touchMove(e){const t=this,i=e.touches,n=e.changedTouches,r=i&&i.length?i[0]:n&&n.length?n[0]:void 0;for(let i=0;i<t.inputEventProperties.length;i++){const n=t.inputEventProperties[i];void 0===e[n]&&(e[n]=r[n])}return t.isTouchMoved=!0,t.handleMove(e)}handleSwipeEvents(e){let t=!0;return(this.handlers.swipetop||this.handlers.swipebottom)&&(t=this.handleVerticalSwipeEvents(e)),!1===t?t:((this.handlers.swipeleft||this.handlers.swiperight)&&(t=this.handleHorizontalSwipeEvents(e)),t)}handleVerticalSwipeEvents(e){let t,i;return i=(t=e.pageY)-this._startY,this.swiped(e,i,"vertical")}handleHorizontalSwipeEvents(e){let t,i;return i=(t=e.pageX)-this._startX,this.swiped(e,i,"horizontal")}swiped(e,t,i){const n=this;if(i=i||0,Math.abs(t)>=n.swipeMin&&!n._swipeEvent&&!n._swipeLocked){let r=t<0?"swipeleft":"swiperight";if("horizontal"===i?n._swipeEvent=n.createEvent(e,r):(r=t<0?"swipetop":"swipebottom",n._swipeEvent=n.createEvent(e,t<0?"swipetop":"swipebottom")),n[r]&&(n[r](this._swipeEvent),Math.abs(t)<=this.swipeMax))return e.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(e){const t=this;t._maxSwipeVerticalDistance=0,t._maxSwipeHorizontalDistance=0,t._startX=e.pageX,t._startY=e.pageY,t._swipeLocked=!1,t._swipeEvent=null,t._swipeTimeout=setTimeout(function(){t._swipeLocked=!0},t.swipeDelay)}}class p{get scrollWidth(){const e=this;return e.horizontalScrollBar?e.horizontalScrollBar.max:-1}set scrollWidth(e){const t=this;e<0&&(e=0),t.horizontalScrollBar&&(t.horizontalScrollBar.max=e)}get scrollHeight(){const e=this;return e.verticalScrollBar?e.verticalScrollBar.max:-1}set scrollHeight(e){const t=this;e<0&&(e=0),t.verticalScrollBar&&(t.verticalScrollBar.max=e)}get scrollLeft(){const e=this;return e.horizontalScrollBar?e.horizontalScrollBar.value:-1}set scrollLeft(e){const t=this;e<0&&(e=0),t.horizontalScrollBar&&(t.horizontalScrollBar.value=e)}get scrollTop(){const e=this;return e.verticalScrollBar?e.verticalScrollBar.value:-1}set scrollTop(e){const t=this;e<0&&(e=0),t.verticalScrollBar&&(t.verticalScrollBar.value=e)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(e,t,i){this.container=e,this.horizontalScrollBar=t,this.verticalScrollBar=i,this.disableSwipeScroll=!1,this.listen()}listen(){const e=this,t=s.isMobile,i=e.horizontalScrollBar,n=e.verticalScrollBar;e.inputEvents=new u(e.container);let r,a,o,l,d,h,c,p,m=500;const f=function(e){return{amplitude:0,delta:0,initialValue:0,min:0,max:e.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:e,value:0,velocity:0}},v=f(i),b=f(n),y=function(){h=Date.now(),c=h-l,l=h;const e=function(e){e.delta=e.value-e.previousValue,e.previousValue=e.value;let t=1e3*e.delta/(1+c);e.velocity=.8*t+.2*e.velocity};e(b),e(v)},_=function(e){return p.value=e>p.max?p.max:e<p.min?p.min:e,p.scrollBar.value=p.value,e>p.max?"max":e<p.min?"min":"value"};function w(){let t,i;p.amplitude&&(e.container.$.fireEvent("kineticScroll"),t=Date.now()-l,(i=-p.amplitude*Math.exp(-t/m))>5||i<-5?(_(p.targetValue+i),cancelAnimationFrame(a),a=0,a=requestAnimationFrame(w)):_(p.targetValue))}let x;e.inputEvents.down(function(i){if(!t)return;const n=i.originalEvent.target,a=n&&n.closest?n.closest("jqx-scroll-bar"):void 0;if(a===e.horizontalScrollBar||a===e.verticalScrollBar)return;o=!0,r=!1;const s=function(e,t){e.amplitude=0,e.pointerPosition=t,e.previousValue=e.value,e.value=e.scrollBar.value,e.initialValue=e.value,e.max=e.scrollBar.max};s(b,i.clientY),s(v,i.clientX),l=Date.now(),clearInterval(d),d=setInterval(y,m)}),e.inputEvents.up(function(){if(!o)return!0;if(clearInterval(d),e.disableSwipeScroll)return void(o=!1);const t=function(e){p=e,e.amplitude=.8*e.velocity,e.targetValue=Math.round(e.value+e.amplitude),l=Date.now(),cancelAnimationFrame(a),a=requestAnimationFrame(w),e.velocity=0};b.velocity>10||b.velocity<-10?t(b):(v.velocity>10||v.velocity<-10)&&t(v),o=!1}),e.inputEvents.move(function(t){if(!o)return!0;if(e.disableSwipeScroll)return;if(r&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()),v.visible=i.offsetHeight>0,b.visible=n.offsetWidth>0,!o||!v.visible&&!b.visible)return;b.ratio=-b.max/b.scrollBar.offsetHeight,b.delta=(t.clientY-b.pointerPosition)*b.ratio,v.ratio=-v.max/v.scrollBar.offsetWidth,v.delta=(t.clientX-v.pointerPosition)*v.ratio;let a="value";const s=function(t,i,n){return t.delta>5||t.delta<-5?(p=t,"min"===(a=t.initialValue+t.delta>p.max?"max":t.initialValue+t.delta<p.min?"min":"value")&&0===t.initialValue||("max"===a&&t.initialValue===t.max||(!t.visible||(e.container.$.fireEvent("kineticScroll"),_(t.initialValue+t.delta),y(),n.originalEvent.preventDefault(),n.originalEvent.stopPropagation(),r=!0,!1)))):null};let l=s(b,t.clientY,t);if(null!==l)return l;{let e=s(v,t.clientX,t);if(null!==e)return e}}),e.scrollTo=function(t,i){const n=!1===i?v:b;let r=!1;l||(l=Date.now()),x||(x=Date.now()),Math.abs(Date.now()-x)>375?l=Date.now():r=!0,x=Date.now(),n.value=n.scrollBar.value,n.delta=t-n.value,n.max=n.scrollBar.max,t<=n.min&&(t=n.min),t>=n.max&&(t=n.max),n.targetValue=t;const s=t;let o=n.value;n.velocity=100*n.delta/(1+n.max),n.from=o;const d=function(e){return n.value=e>n.max?n.max:e<n.min?n.min:e,n.scrollBar.value=n.value,e>n.max?"max":e<n.min?"min":"value"},h=function(){let i,c=Date.now()-x,u=Math.min(1e3,Date.now()-l),p=n.velocity*Math.exp(u/175);if(r)p<0&&n.value<=t?p=0:p>0&&n.value>=t&&(p=0),(n.value+p<=n.min||n.value+p>=n.max)&&(p=0),p>.5||p<-.5?(d(n.value+p),cancelAnimationFrame(a),a=0,a=requestAnimationFrame(h)):d(n.targetValue);else{if(c>=175)return cancelAnimationFrame(a),e.container.$.fireEvent("kineticScroll"),void(a=0);i=g.Animation.Easings.easeInSine(c,o,s-o,175),d(i),cancelAnimationFrame(a),a=0,a=requestAnimationFrame(h)}};cancelAnimationFrame(a),a=requestAnimationFrame(h)},e.inputEvents.listen()}unlisten(){const e=this;e.inputEvents&&e.inputEvents.unlisten(),delete e.inputEvents}}class m{constructor(e){this.events={},this.handlers={},this.element=e}hasClass(e){const t=this,i=e.split(" ");for(let e=0;e<i.length;e++){if(!t.element.classList.contains(i[e]))return!1}return!0}addClass(e){const t=this;if(t.hasClass(e))return;const i=e.split(" ");for(let e=0;e<i.length;e++)t.element.classList.add(i[e]);t.isNativeElement||l.observeElement(t.element)}removeClass(e){const t=this;if(0===arguments.length)return void t.element.removeAttribute("class");const i=e.split(" ");for(let e=0;e<i.length;e++)t.element.classList.remove(i[e]);""===t.element.className&&t.element.removeAttribute("class"),t.isNativeElement||l.observeElement(t.element)}get isCustomElement(){return this.element instanceof window[t].BaseElement==!0||"DIV"!==this.element.tagName&&"SPAN"!==this.element.tagName&&"BUTTON"!==this.element.tagName&&"INPUT"!==this.element.tagName&&"UL"!==this.element.tagName&&"LI"!==this.element.tagName&&document.createElement(this.element.nodeName)instanceof window[t].BaseElement==!0}get isNativeElement(){return!this.isCustomElement}dispatch(e){const t=this,i=t.events[e.type];let n=!1;if(i.length>1)for(let e=0;e<i.length;e++){const t=i[e];if(t.namespace&&t.namespace.indexOf("_")>=0){n=!0;break}}n&&i.sort(function(e,t){let i=e.namespace,n=t.namespace;return(i=-1===i.indexOf("_")?0:parseInt(i.substring(i.indexOf("_")+1)))<(n=-1===n.indexOf("_")?0:parseInt(n.substring(n.indexOf("_")+1)))?-1:i>n?1:0});for(let n=0;n<i.length;n++){const r=i[n];if(e.namespace=r.namespace,e.context=r.context,e.defaultPrevented)break;const a=r.handler.apply(t.element,[e]);if(void 0!==a&&(e.result=a,!1===a)){e.preventDefault(),e.stopPropagation();break}}return e.result}fireEvent(e,t,i){i||(i={bubbles:!0,cancelable:!0}),i.detail=t||{};const n=new CustomEvent(e,i);return n.originalStopPropagation=n.stopPropagation,n.stopPropagation=function(){return n.isPropagationStopped=!0,n.originalStopPropagation()},this.dispatchEvent(n),n}get isPassiveSupported(){const e=this;if(void 0!==e.supportsPassive)return e.supportsPassive;e.supportsPassive=!1;try{let t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e.supportsPassive}dispatchEvent(e){const t=this,i=e.type,n=t.element.context;t.element.context=document,t.element["on"+i]?t.element["on"+i](e):t.element.dispatchEvent(e),t.element.context=n}listen(e,t){const i=this,n=e.split("."),r=n.slice(1).join("."),a=n[0];i.events[a]||(i.events[a]=[]);const s={type:a,handler:t,context:i.element,namespace:r};c.indexOf(a)>=0&&(i.inputEvents||(i.inputEvents=new u(i.element)),i.inputEvents[a](function(e){i.dispatchEvent(e)}),i.inputEvents.boundEventTypes.push(a),i.inputEvents.listen(a)),0===i.events[a].length&&(i.handlers[a]=i.dispatch.bind(i),"wheel"===a?i.element.addEventListener("wheel",i.handlers[a],!!i.isPassiveSupported&&{passive:!1}):i.element.addEventListener(a,i.handlers[a],!1)),i.events[a].push(s)}unlisten(e){const t=this,i=e.split("."),n=i.slice(1).join("."),r=i[0];let a=t.events[r];if(t.inputEvents&&t.inputEvents.boundEventTypes.indexOf(r)>=0&&(t.inputEvents.boundEventTypes.splice(t.inputEvents.boundEventTypes.indexOf(r),1),0===t.inputEvents.boundEventTypes.length&&t.inputEvents.unlisten(r)),a){for(let e=0;e<a.length;e++){if(""!==n){let e=a.findIndex(e=>e.namespace===n);a.splice(e,1);break}a=[]}0===a.length&&(t.element.removeEventListener(r,t.handlers[r]),t.events[r]=[],delete t.handlers[r])}}getAttributeValue(e,t){const i=this,n=i.element.getAttribute(e);if(i.isNativeElement)return i.deserialize(n,t);const r=i.element.propertyByAttributeName[e];return void 0===r.deserialize?i.deserialize(n,t,r.nullable):i.element[r.deserialize](n)}setAttributeValue(e,t,i){const n=this;let r,a=!1;if(n.isNativeElement){if(r=n.serialize(t,i),"boolean"===i){if(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(e)>=0)return void(t?n.element.setAttribute(e,""):n.element.removeAttribute(e))}}else{const s=n.element.propertyByAttributeName[e];a=!s||s.nullable,r=s&&s.serialize?n.element[s.serialize](t):n.serialize(t,i,a)}"array"!==i&&"object"!==i||"[]"!==r&&"{}"!==r?void 0===r?n.element.removeAttribute(e):n.element.setAttribute(e,r):n.element.removeAttribute(e)}serialize(e,t,i){if(void 0===t&&(t=g.Types.getType(e)),void 0===e||!i&&null===e)return;if(i&&null===e)return"null";if("string"===t)return e;if("boolean"===t||"bool"===t){if(!0===e||"true"===e||1===e||"1"===e)return"";if(!1===e||"false"===e||0===e||"0"===e)return}if("array"===t)return JSON.stringify(e);return["string","number","int","integer","float","date","any","function"].indexOf(t)>=0?e.toString():"object"===t?JSON.stringify(e):void 0}deserialize(e,t,i){const n="null"===e;if(void 0!==e&&(!n||i)){if(n&&i)return null;if("boolean"===t||"bool"===t)return null!==e;if("number"===t||"float"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseFloat(e);if("int"===t||"integer"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseInt(e);if("string"===t)return e;if("any"===t)return e;if("date"===t)return new Date(e);if("function"===t){if("function"==typeof window[e])return window[e]}else if("array"===t||"object"===t)try{const i=JSON.parse(e);if(i)return i}catch(i){if(window[e]&&"object"==typeof window[e])return window[e];if("array"===t&&e.indexOf("[")>=0){if(e.indexOf("{")>=0){let t=e.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();t=t.split("},");for(let e=0;e<t.length;e++){let i={},n=t[e].trim().split(",");for(let e=0;e<n.length;e++){const t=n[e].split(":")[0].trim(),r=n[e].split(":")[1].trim();i[t]=r}t[e]=i}return t}return e.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class f{static get Ripple(){return r}static get Easings(){return a}}class g{static get Types(){return n}static get Core(){return s}static get Animation(){return f}static get Scroll(){return p}static get InputEvents(){return u}static Extend(e){return new m(e)}static Assign(e,t){if(e.indexOf(".")>=0){const i=e.split(".");return g[i[0]]||(g[i[0]]={}),void(g[i[0]][i[1]]=t)}g[e]=t}}const v=g.Extend(document);i.cache={};class b extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},messages:{value:{en:{propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,type:"object"},readonly:{value:!1,type:"boolean"},rightToLeft:{value:!1,type:"boolean"},theme:{value:window[t].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}static get requires(){return{}}static get listeners(){return{"theme-changed":function(e){this.theme=e.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"jqx-animate",rippleAnimation:"jqx-ripple"}}get hasAnimation(){return"none"!==this.animation}get hasRippleAnimation(){return"none"!==this.animation&&"advanced"===this.animation}static get modules(){return window[t].Modules}get properties(){const e=this;return e._properties||(e._properties=[]),e._properties}get parents(){let e=[],t=this.parentNode;for(;t&&9!==t.nodeType;)t instanceof HTMLElement==!0&&e.push(t),t=t.parentNode;return e}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){const e=this;e.onRegistered&&e.onRegistered()}created(){const e=this;e.isReady=!1,e._initElement(e),e._setModuleState("created"),e.onCreated&&e.onCreated()}completed(){const e=this;e.isCompleted=!0,e._onCompleted&&e._onCompleted(),e.onCompleted&&e.onCompleted()}whenReady(e){const t=this;t.isCompleted?e():(t.whenReadyCallbacks||(t.whenReadyCallbacks=[]),t.whenReadyCallbacks.push(e))}addThemeClass(){const e=this;""!==e.theme&&e.classList.add("jqx-"+e.theme)}addDefaultClass(){this.classList.add(this.nodeName.toLowerCase()+"-element")}ready(){const e=this;e.addThemeClass(),e.addDefaultClass(),"collapsed"===e.visibility?e.classList.add("jqx-hidden"):"hidden"===e.visibility&&e.classList.add("jqx-visibility-hidden");if((()=>{let i=[];const n=e.getStaticMember("requires");for(let e in n){const r=e.split(".");r.length>2?window[t].Utilities[r[2]]||i.push(n[e]):window[t][r[1]]||i.push(n[e])}if(i.length>0){const e=this;e.error(e.localize("missingReference",{elementType:e.nodeName.toLowerCase(),files:i.join(", ")}))}})(),e.dataContext&&e.applyDataContext(),e.onReady&&e.onReady(),e.shadowRoot&&JQX(e._selector)){if(JQX(e._selector).styleUrls){const t=JQX(e._selector).styleUrls;for(let i=0;i<t.length;i++)e.importStyle(t[i])}if(JQX(e._selector).styles){const t=document.createElement("style");t.innerHTML=JQX(e._selector).styles,e.shadowRoot.insertBefore(t,e.shadowRoot.firstChild)}}JQX(e._selector)&&JQX(e._selector).ready&&JQX(e._selector).ready()}get _selector(){const e=this;return e.id?"#"+e.id:e.classList.length>0?"."+e.classList[0]:void 0}applyDataContext(e){const t=this;let n="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext;if(e&&(n=e,t.dataContext=e),n){if(!n._uid){n._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),n._properties=[];for(let e in n){const i=n[e];"function"!=typeof i&&"_properties"!==e&&"_uid"!==e&&(n._properties[e]=i,Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:()=>n._properties[e],set(i){const r=n._properties[e];n._properties[e]=i;let a=[];a[e]={oldValue:r,value:i},a.length++,t.updatingDataContext=!0,v.fireEvent("dataContextPropertyChanged",{dataContext:n,properties:a},{bubbles:!1,cancelable:!0}),t.updatingDataContext=!1}}))}}if(t.dataContextProperties=t.parseAttributes(t),t.dataContextPropertiesMap={},t.dataContextListeners={},t.dataContextProperties){t.updatingDataContext=!0;for(let e in t.dataContextProperties){const r=t.dataContextProperties[e],a=r.name;if(r.propertyName=e,t.dataContextPropertiesMap[a]=e,i.cache["toDash"+e]||(i.cache["toDash"+e]=g.Core.toDash(a)),r.isEvent){const e=r.value;t.dataContextListeners[a]&&t.removeEventListener(a,t.dataContextListeners[a]),t.dataContextListeners[a]=function(t){n[e](t)},t.addEventListener(a,t.dataContextListeners[a])}if(a.indexOf(".")>=0){const i=a.split(".");let r=n[i[0]];for(let e=1;e<i.length;e++)r=r[i[e]];void 0!==r&&(t[e]=r)}else t[e]=n[a]}t.dataContextPropertyChangedHandler=function(e){const i=e.detail.properties;if(e.detail.dataContext===("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext))for(let e in i){const n=t.dataContextPropertiesMap[e],r=t.context;n&&(t.context=document,t[n]=i[e].value,t.context=r)}},v.listen("dataContextPropertyChanged",t.dataContextPropertyChangedHandler),t.updatingDataContext=!1}else t.dataContextProperties=null}else{t.dataContextProperties=null;const e=function(){("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext)&&(t.applyDataContext(),window.removeEventListener("load",e))};window.addEventListener("load",e)}}updateDataContextProperty(e){const t=this,i="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext,n=t.dataContextProperties[e];if(!t.updatingDataContext&&n.twoWay){const r=n.name;if(r.indexOf(".")>=0){const n=r.split(".");let a=i[n[0]];for(let e=1;e<n.length;e++)a=a[n[e]];void 0!==a&&(a=t[e],d[i._uid]&&(d[i._uid][e]=a))}else i[r]=t[e],d[i._uid]&&(d[i._uid][e]=i[r])}}static get version(){return window[t].Version}initProperties(){const e=this;if(JQX(e._selector)&&JQX(e._selector).properties&&(e._initProperties=JQX(e._selector).properties),e._initProperties){const t=Object.keys(e._initProperties);for(let i=0;i<t.length;i++){const n=t[i],r=e._initProperties[n];if(r.constructor!==JQX.ObservableArray){if(r.constructor===JQX.DataAdapter||r.constructor===JQX.Observable||"object"!=typeof r||g.Types.isArray(r))e[n]=r;else if("object"==typeof r){const t=function(i,n){const r=Object.keys(i);for(let a=0;a<r.length;a++){const s=r[a],o=i[s];"object"!=typeof o||g.Types.isArray(o)||o.constructor===Date?e[n+"_"+s]=o:t(o,n+"_"+s)}};t(r,n)}}else e[n]=r.toArray()}}}setup(){const e=this;if(e.context=this,e.isReady&&!e.isCompleted)return;if(e.isReady)return e._setModuleState("attached"),e.isAttached=!0,e.attached(),e._handleListeners("listen"),void(e.context=document);e.ownerElement&&e.ownerElement.detachedChildren.indexOf(e)>=0&&e.ownerElement.detachedChildren.splice(e.ownerElement.detachedChildren.indexOf(e),1),e.isReady=!0,e.methods=e.getStaticMember("methods"),e.initProperties(),s.isMobile&&e.classList.add("jqx-mobile");for(let t=0;t<e.attributes.length;t+=1){const i=e.propertyByAttributeName[e.attributes[t].name];if(!i)continue;let n=e.$.getAttributeValue(i.attributeName,i.type);const r=n?n.toString():"";if(!(r.indexOf("{{")>=0||r.indexOf("[[")>=0)&&(("object"===i.type||"array"===i.type||!(e.attributes[t].value.indexOf("{{")>=0||e.attributes[t].value.indexOf("[[")>=0))&&void 0!==n&&i.value!==n)){const r=g.Types.getType(n),a=e.attributes[t].value;if(("any"===i.type||"object"===i.type)&&""+e[i.name]===n)continue;if("array"===i.type&&e[i.name]&&JSON.stringify(e[i.name])===n)continue;if("number"===r&&isNaN(n)&&"NaN"!==a&&"Infinity"!==a&&"-Infinity"!==a){const t=e.localize("propertyInvalidValueType",{name:i.name,actualType:"string",type:i.type});e.log(t)}i.isUpdatingFromAttribute=!0,e[i.name]=n,i.isUpdatingFromAttribute=!1}}for(let t in e._properties){const i=e._properties[t];if("innerHTML"===t&&i.value===i.defaultValue&&(i.value=i.defaultValue=g.Core.html(e)),"boolean"!==i.type&&"bool"!==i.type||"false"===e.getAttribute(i.attributeName)&&(i.isUpdating=!0,e.setAttribute(i.attributeName,""),i.isUpdating=!1),i.defaultReflectToAttribute&&i.reflectToAttribute){if(i.defaultReflectToAttribute&&i.defaultReflectToAttributeConditions){let t=!0;for(let n=0;n<i.defaultReflectToAttributeConditions.length;n++){const r=i.defaultReflectToAttributeConditions[n];let a,s;for(let e in r)a=e,s=r[e];e._properties[a]&&e._properties[a].value!==s&&(t=!1)}if(!t)continue}i.isUpdating=!0,e.$.setAttributeValue(i.attributeName,i.value,i.type),i.isUpdating=!1}}const i=[];if(e.children.length>0)for(let t=0;t<e.children.length;t++){const n=e.children[t];g.Extend(n).isCustomElement&&i.push(n)}e.applyTemplate(),e.complete=function(){if(!e.templateBindingsReady){const t=e=>{e.templateBindingsReady||(e.templateBindingsReady=!0,e.updateTextNodes(),e.updateBoundNodes())};if(e.ownerElement){let i=e.ownerElement,n=[];for(;i;)n.push(i),i=i.ownerElement;for(let e=n.length-1;e>=0;e--)t(n[e]);t(e)}else t(e)}const i=()=>{if(e._setModuleState("ready"),e.ready(),e.isAttached=!0,e._setModuleState("attached"),e.attached(),e._handleListeners("listen"),e.isHidden||0!==e.offsetWidth&&0!==e.offsetHeight||(e.isHidden=!0),e.completed(),e.context=document,e.whenReadyCallbacks){for(let t=0;t<e.whenReadyCallbacks.length;t++)e.whenReadyCallbacks[t]();e.whenReadyCallbacks=[]}};window[t].EnableShadowDOM?i():e.wait?e.classList.add("jqx-visibility-hidden"):e.classList.contains("jqx-async")?requestAnimationFrame(()=>{i()}):e.ownerElement&&"HTML"!==e.parents[e.parents.length-1].nodeName?e.checkIsInDomInterval=setInterval(()=>{if("HTML"===e.parents[e.parents.length-1].nodeName){clearInterval(e.checkIsInDomInterval);let t=e.ownerElement,n=[];for(;t;)n.push(t),t=t.ownerElement;for(let e=n.length-1;e>=0;e--)n[e].updateBoundMappedNodes();i()}},100):i()};let n=[].slice.call(e.querySelectorAll("[jqx-id]")).concat(i);if(window[t].EnableShadowDOM&&e.enableShadowDOM&&(n=[].slice.call(e.shadowRoot.querySelectorAll("[jqx-id]")).concat(i)),0===n.length)e.complete();else{e._completeListeners=0;for(let t=0;t<n.length;t++){const i=n[t];if(g.Extend(i).isCustomElement){const t=function(){e._completeListeners--,0===e._completeListeners&&(e.complete(),delete e._completeListeners)}.bind(e);i.isCompleted||i.isUtilityElement||!1!==i.wait||(e._completeListeners++,i._onCompleted||(i.completeHandlers=[],i._onCompleted=function(){for(let e=0;e<i.completeHandlers.length;e++)i.completeHandlers[e]()}),i.completeHandlers.push(t))}}0===e._completeListeners&&e.complete()}}visibilityChangedHandler(){const e=this;e.isReady&&requestAnimationFrame(()=>{!e.isHidden&&0===e.offsetWidth||0===e.offsetHeight?e.isHidden=!0:e.isHidden&&(e.isHidden=!1,e.$.fireEvent("resize",e,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(e,t,i){const n=this,r=n.propertyByAttributeName[e];if("class"!==e&&"style"!==e||n.visibilityChangedHandler(),r||n.attributeChanged(e,t,i),!r||r&&r.isUpdating)return;let a=n.$.getAttributeValue(r.attributeName,r.type);void 0!==i&&n[r.name]!==a&&(r.isUpdatingFromAttribute=!0,n[r.name]=void 0!==a?a:n._properties[r.name].defaultValue,r.isUpdatingFromAttribute=!1)}attributeChanged(e,t,i){}set hasStyleObserver(e){const t=this;void 0===t._hasStyleObserver&&(t._hasStyleObserver=e),e?l.watch(t):l.unwatch(t)}get hasStyleObserver(){const e=this;return void 0===e._hasStyleObserver||e._hasStyleObserver}attached(){const e=this;e.hasStyleObserver&&l.watch(e),e.onAttached&&e.onAttached(),JQX(e._selector)&&JQX(e._selector).attached&&JQX(e._selector).attached()}detached(){const e=this;e.hasStyleObserver&&l.unwatch(e),e._setModuleState("detached"),e.isAttached=!1,e.ownerElement&&-1===e.ownerElement.detachedChildren.indexOf(e)&&e.ownerElement.detachedChildren.push(e),e._handleListeners("unlisten"),e.onDetached&&e.onDetached(),JQX(e._selector)&&JQX(e._selector).detached&&JQX(e._selector).detached()}propertyChangedHandler(e,t,i){const n=this;t!==i&&("theme"===e&&(""!==t&&n.classList.remove("jqx-"+t),""!==i&&n.classList.add("jqx-"+i)),"visibility"===e&&("collapsed"===t?n.classList.remove("jqx-hidden"):"hidden"===t&&n.classList.remove("jqx-visibility-hidden"),"collapsed"===i?n.classList.add("jqx-hidden"):"hidden"===i&&n.classList.add("jqx-visibility-hidden")),n.propertyChanged&&n.propertyChanged(e,t,i))}_handleListeners(e){const t=this,i=t.tagName.toLowerCase(),n=n=>{for(let r in n){const a=r.split(".");let s=a[0],o=t.$;if(a[1])if(s=a[1],o=t["$"+a[0]],"document"===a[0]){let e=t.jqxId;""===e&&(e=g.Core.toCamelCase(i)),s=s+"."+e}else t.jqxId&&(s=s+"."+t.jqxId+"_"+t.parents.length);else t.jqxId&&(s=s+"."+t.jqxId);const l=n[r],d=function(e){const i=t.context;t.context=t,t[l]&&t[l].apply(t,[e]),t.context=i};o&&o[e](s,d)}};n(t.getStaticMember("listeners")),n(t.templateListeners),JQX(t._selector)&&JQX(t._selector).properties&&n(JQX(t._selector).listeners)}parseTemplate(){const t=this,i=t.template(),n=document.createDocumentFragment();if(e[t.nodeName])return e[t.nodeName].cloneNode(!0);if(""===i)return null;let r=document.createElement("div");n.appendChild(r),r.innerHTML=i;let a=r.childNodes;r.parentNode.removeChild(r);for(let e=0;e<a.length;e++)n.appendChild(a[e]);return e[t.nodeName]=n,n.cloneNode(!0)}applyTemplate(){const e=this,t=e.parseTemplate();if(!t)return;if(!t.hasChildNodes)return;const i=t.childNodes[0],n=(t,i)=>{e["$"+t]=i.$=g.Extend(i),e.$[t]=i,i.ownerElement=e};let r=i;if(i.getElementsByTagName("content").length>0){let e=i.getElementsByTagName("content")[0];(r=e.parentNode).removeChild(e)}else{const e=t.querySelectorAll("[inner-h-t-m-l]");e&&e.length>0&&(r=e[0])}e.$.template="template"===i.nodeName.toLowerCase()?i:i.querySelector("template");let a=t.querySelectorAll("[id]");0===a.length&&(a=t.querySelectorAll("*")),n("root",i),n("content",r),e.$.html=e.innerHTML.toString().trim();for(let t=0;t<a.length;t+=1){let i=a[t];""===i.id&&(i.id="child"+t),n(i.id,i),i.setAttribute("jqx-id",i.id),e.shadowRoot||i.removeAttribute("id")}for(!1!==e.hasTemplateBindings?e.bindings=e.getBindings(t):e.bindings=[],e.$root.addClass("jqx-container");e.childNodes.length;)r.appendChild(e.firstChild);if(e.appendTemplate(t),e.$.template){const t=document.createElement("div");t.classList.add("jqx-template-container"),e.$.templateContainer=t,e.$.template.parentNode.insertBefore(t,e.$.template),e.refreshTemplate()}}refreshTemplate(){const e=this;if(!e.$.templateContainer)return;e.templateDetached(e.$.templateContainer);const t=e.$.template.content.cloneNode(!0);e.templateBindings=e.getBindings(t),e.templateProperties=[];let i=document.createDocumentFragment();const n=function(t,i,r){for(let a in t){const s=t[a],o=s.node.cloneNode();i.appendChild(o);let l=[],d=!1;if(s.data)for(let t in s.data){const n=s.data[t],a=n.name;if(e.templateProperties[a]=!0,o.removeAttribute(g.Core.toDash(t)),"*items"===t)l=e[a],d=!0;else if(a.indexOf("item.")>=0&&r)n.value=r[a.substring("item.".length)],o[t]=n.value;else if(a.indexOf("item")>=0&&r)n.value=r,o[t]=n.value;else if("*if"===t)if(a.indexOf("(")>=0){let t,n=a.substring(a.indexOf("("));const r=a.substring(0,a.indexOf("("));if((n=(n=(n=n.substring(1,n.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==n[0]){let i=[];for(let t=0;t<n.length;t++)i.push(e[n[t]]);t=e[r].apply(e,i)}else t=e[r]();!1===t&&i.removeChild(o)}else e[a]||i.removeChild(o);else e.updateBoundNode(o,s,e,a)}if(l.length>0||d)for(let e=0;e<l.length;e++)s.children&&n(s.children,o,l[e]);else s.children&&n(s.children,o,r)}};n(e.templateBindings.children,i),e.$.templateContainer.innerHTML="",e.$.templateContainer.appendChild(i),e.templateAttached(e.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(e){this.appendChild(e)}defineElementModules(){const e=this,t=e.constructor.prototype;if("BaseElement"===t.elementName){t.modules=e.constructor.modules;const i=t.modules;for(let t=0;t<i.length;t+=1)e.addModule(i[t])}else{const i=t.modules;for(let t=0;t<i.length;t+=1){const n=i[t],r=n.prototype;e.defineElementMethods(r.methodNames,r),e.defineElementProperties(n.properties)}}}watch(e,t){const i=this;i._watch=null!==e&&null!==t?{properties:e,propertyChangedCallback:t}:null}unwatch(){this._watch=null}set(e,t,i){const n=this,r=n.context;n.context=!0===i?document:n,n[e]=t,n.context=r}get(e){return this[e]}_setModuleState(e,t){const i=this,n="is"+e.substring(0,1).toUpperCase()+e.substring(1),r="on"+e.substring(0,1).toUpperCase()+e.substring(1);for(let a=0;a<i.modulesList.length;a++){const s=i.modulesList[a];s[n]=!0,s[e]&&s[e](t),s[r]&&s[r](t)}}addModule(e,t){const i=this;if(!e)return;const n=i.modules.slice(0),r=e.prototype,a=Object.getPrototypeOf(e);if(a.name&&a.name!==e.name&&i.addModule(a),!e.moduleName&&e.name&&(e.moduleName=e.name),-1===n.findIndex(t=>e.moduleName===t.moduleName)&&n.push(e),i.defineModule(e),i.defineElementMethods(r.methodNames,r),i.defineElementProperties(e.properties),i.constructor.prototype.modules=n,t)for(let t in JQX.Elements.tagNames){const n=JQX.Elements.tagNames[t];let r=Object.getPrototypeOf(n),a=[];for(;r!==HTMLElement;)a.push(r.prototype),r=Object.getPrototypeOf(r);a.indexOf(i)>=0&&n!==i&&n.prototype.addModule(e)}}defineModule(e){if(e.isDefined)return;e.prototype._initModule=function(e){this.ownerElement=e};const t=e.properties||{},i=Object.keys(t),n=Object.getOwnPropertyNames(e.prototype);e.prototype.methodNames=n;for(let n=0;n<i.length;n+=1){const r=i[n],a=t[r];Object.defineProperty(e.prototype,r,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[r]:a.value},set(e){this.ownerElement[r]=e}})}e.isDefined=!0}getStaticMember(e,i){const n=window[t][this.elementName],r=n[e];i||(i="");let a="array"===i?[]:"string"===i?"":{},s=Object.getPrototypeOf(n),o=[];for(;s[e];)o.push(s[e]),s=Object.getPrototypeOf(s);for(let e=o.length-1;e>=0;e--)if("array"===i)for(let t=0;t<o[e].length;t++)-1===a.indexOf(o[e][t])&&a.push(o[e][t]);else"string"===i?-1===a.indexOf(o[e])&&(a+=o[e]):a=g.Core.assign(a,o[e]);if("array"===i){for(let e=0;e<r.length;e++)-1===a.indexOf(r[e])&&a.push(r[e]);return a}return"string"===i?(-1===a.indexOf(r)&&(a+=r),a):g.Core.assign(a,r)}defineElementHierarchicalProperties(e,t){const i=this,n=[];!function(e){const i=Object.keys(e);for(let r=0;r<i.length;r++){const a=i[r];if("messages"===a)continue;const s=e[a],o=Object.keys(s),l=o.indexOf("value")>=0&&o.indexOf("type")>=0&&"object"==typeof s.value;if("propertyObject"===s.type||l){const e=function(i,r){if(!i.value)return;const a=Object.keys(i.value);for(let s=0;s<a.length;s++){const o=a[s],l=i.value[o],d=r+"_"+o;if("object"!=typeof l||null===l)break;const h=Object.keys(l);if(!(h.indexOf("value")>=0&&h.indexOf("type")>=0))break;if(l.parentPropertyName=r,t){const e=t._properties[d];if(i.value.hasOwnProperty(o)){if(e.isDefined)continue;delete i.value[o]}e.isDefined=!0,Object.defineProperty(i.value,o,{configurable:!1,enumerable:!0,get:()=>t._properties[d].value,set(e){t.updateProperty(t,t._properties[d],e)}})}n[d]||(n[d]=l,n.length++),("propertyObject"===l.type||"object"==typeof l.value&&"array"!==l.type)&&e(t?t._properties[d]:l,d)}};e(s,a)}}}(e),n.length>0&&!t&&i.defineElementProperties(n)}defineElement(){const e=this.constructor.prototype,t=this.getStaticMember("properties"),i=Object.getOwnPropertyNames(e);e.extendedProperties={},e.boundProperties={},e.templateListeners={},this.defineElementModules(),this.defineElementMethods(i,e),this.defineElementProperties(t),this.defineElementHierarchicalProperties(this.extendedProperties),e._initElement=function(){const t=this,i=e.extendedProperties,n=Object.keys(i),r=t.modules;t.$=g.Extend(t),t.$document=v,t.jqxId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),t.isCreated||(t.modulesList=[],t._properties=[],t._beforeCreatedProperties&&(t._properties=t._beforeCreatedProperties,delete t._beforeCreatedProperties),t.detachedChildren=[],t.propertyByAttributeName=[]);for(let e=0;e<r.length;e+=1){let i=new(0,r[e]);i._initModule(t),t.modulesList.push(i)}for(let e=0;e<n.length;e+=1){const r=n[e],a=i[r];let s=a.value;if(t._properties[r]){if(void 0!==t._properties[r].notify)continue;delete t._properties[r]}if(x&&"innerHTML"===r&&delete t[r],-1===window.navigator.userAgent.indexOf("PhantomJS")&&t.hasOwnProperty(r)&&(s=t[r],delete t[r]),"array"===a.type&&null!=s&&(s=s.slice(0)),"object"===a.type&&null!=s&&(s=Array.isArray(s)?s.slice(0):Object.assign({},s)),t._properties[r]={name:r,notify:a.notify,allowedValues:a.allowedValues,type:a.type,nullable:a.nullable,reflectToAttribute:a.reflectToAttribute,defaultReflectToAttribute:a.defaultReflectToAttribute,defaultReflectToAttributeConditions:a.defaultReflectToAttributeConditions,value:s,readOnly:a.readOnly,defaultValue:s,attributeName:a.attributeName,observer:a.observer,inherit:a.inherit,extend:a.extend,validator:a.validator},t.propertyByAttributeName[a.attributeName]=t._properties[r],!a.hasOwnProperty("type")){const e=t.localize("propertyUnknownType",{name:r});t.log(e)}if("any"===a.type||"propertyObject"===a.type)continue;const o=g.Types.getType(s);if(null!=s&&a.type!==o&&!a.validator){if("object"===a.type&&"array"===o)continue;if("number"===o){if(["integer","int","float"].findIndex(e=>e===a.type)>=0)continue}const e=t.localize("propertyInvalidValueType",{name:r,actualType:o,type:a.type});t.log(e)}}t.defineElementHierarchicalProperties(t._properties,t),t.isCreated=!0},e.registered()}defineElementMethods(e,t){const i=this.constructor.prototype,n=function(e,t){const i=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&"localize"!==t&&"importStyle"!==t&&"log"!==t&&"parseAttributes"!==t){const e=this.localize("elementNotInDOM");this.log(e)}let n=this;for(let e=0;e<this.modulesList.length;e++){let i=this.modulesList[e];if(t in i){n=i;break}}const r=this.context,a=i.concat(Array.prototype.slice.call(arguments));let s=null;const o=function(e,t){return e===t||"number"===e&&("int"===t||"integer"===t||"float"===t)||"bool"===e&&"boolean"===t||"boolean"===e&&"bool"===t||"object"===e&&"any"===t||void 0};if(this.methods){const e=this.methods[t];if(e){const i=e.split(":");s=i[i.length-1].trim();const n=[],r=e.substring(1+e.indexOf("("),e.lastIndexOf(")")).split(",");let l="";for(let e=0;e<r.length;e++){const t=r[e];l+=t,t.indexOf(":")>=0?(n.push(l),l=""):l+=","}let d=n.length;for(let e=0;e<n.length;e++){const i=n[e].trim().split(":"),r=i[0].split("=")[0].trim().indexOf("?")>=0,s=i[1].indexOf("?")>=0,l=i[1].replace(/\?/gi,"").trim(),h=l.split("|");let c=i[0].split("=")[1];const u=g.Types.getType(a[e]);if(void 0===a[e]&&c){switch(c=c.trim(),l[0]){case"date":{let e=c.substring(c.indexOf("(")+1,c.lastIndexOf(")"));c=0===(e=e.length>0?e.split(",").map(e=>parseInt(e)):[]).length?new Date:new Date(e[0],e[1],e[2]);break}case"bool":case"boolean":c="true"===c||"1"===c;break;case"int":case"integer":c=parseInt(c);break;case"float":case"number":c=parseFloat(c);break;case"any":case"object":c=c.indexOf("{")>=0?JSON.parse(c):c}a.push(c)}else r&&d--;if(l!==u&&u){let i=!0;for(let e=0;e<h.length;e++)if(o(u,h[e])){i=!1;break}if(i&&(null!==a[e]||!s)){const i=this.localize("methodInvalidValueType",{name:t,actualType:u,type:l,argumentIndex:e});this.log(i)}}if(a.length<d){const e=this.localize("methodInvalidArgumentsCount",{name:t,actualArgumentsCount:a.length,argumentsCount:d});this.log(e)}}}}this.context=this;const l=e.apply(n,a);if(s){const e=void 0===g.Types.getType(l)?"void":g.Types.getType(l);if(!o(e,s)){const i=this.localize("methodInvalidReturnType",{name:t,actualType:e,type:s});this.log(i)}}return this.context=r,l}},r=["constructor","ready","created","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler"];for(let a in e){let s=e[a];s.startsWith("_")||void 0!==r.find(e=>e===s)||(i.extendedProperties[s]||g.Types.isFunction(t[s])&&(i[s]=n(t[s],s)))}}defineElementProperties(e){if(!e)return;const t=this.constructor.prototype,i=Object.keys(e),n=this.getStaticMember("properties");Object.assign(t.extendedProperties,e),this.updateProperty=function(e,t,i){const n=e;if(!t||t.readOnly)return;if(t.allowedValues){let e=!1;for(let n=0;n<t.allowedValues.length;n++)if(t.allowedValues[n]===i){e=!0;break}if(!e){const e=JSON.stringify(t.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),r="'"+i+"'",a=n.localize("propertyInvalidValue",{name:t.name,actualValue:r,value:e});return void n.log(a)}}const r=t.name,a=n._properties[r].value;if(t.validator&&n[t.validator]){const e=n.context;n.context=n;const r=n[t.validator](a,i);void 0!==r&&(i=r),n.context=e}if(a!==i){if(n.propertyChanging){const e=n.propertyChanging(r,a,i);if(!1===e||null===e)return}if(!t.hasOwnProperty("type")){const e=n.localize("propertyUnknownType",{name:r});n.log(e)}if("array"!==t.type||JSON.stringify(a)!==JSON.stringify(i)){if(null!=i&&"any"!==t.type&&"propertyObject"!==t.type&&t.type!==g.Types.getType(i)&&!t.validator||null===i&&!t.nullable){let e=!0;if("object"===t.type&&"array"===g.Types.getType(i)&&(e=!1),"number"===g.Types.getType(i)){["integer","int","float"].findIndex(e=>e===t.type)>=0&&(e=!1)}if(e){const e=n.localize("propertyInvalidValueType",{name:r,actualType:g.Types.getType(i),type:t.type});return void n.error(e)}}if(t.isUpdating=!0,n._properties[r].value=i,!t.isUpdatingFromAttribute&&t.reflectToAttribute&&n.$.setAttributeValue(t.attributeName,i,t.type),n.isReady&&(!n.ownerElement||n.ownerElement&&n.ownerElement.isReady)){if("wait"===r&&(i||!a||n.isCompleted||(n.classList.remove("jqx-visibility-hidden"),n.ownerElement&&n.ownerElement.updateBoundMappedNodes(),n.updateBoundMappedNodes(),n.complete())),n.context!==n&&!n.wait){const e=n.context;n.context=n,n.propertyChangedHandler(r,a,i),n.context=e,t.observer&&n[t.observer]&&(n.context=n,n[t.observer](a,i),n.context=document),n._watch&&n._watch.properties.indexOf(r)>=0&&n._watch.propertyChangedCallback(r,a,i)}const e=t.notify||n.boundProperties[r];e&&(n.$.fireEvent(t.attributeName+"-changed",{context:n.context,oldValue:a,value:n[r]}),n.boundProperties[r]&&n.updateBoundNodes(r)),e&&n.templateProperties&&n.templateProperties[r]&&n.refreshTemplate(),n.dataContextProperties&&("dataContext"===r?n.applyDataContext():n.dataContextProperties[r]&&n.updateDataContextProperty(r))}t.isUpdating=!1}}};for(let r=0;r<i.length;r+=1){const a=i[r],s=e[a],o=g.Core.toDash(a),l=s.type||"any",d=l.indexOf("?")>=0||"any"===l;d&&"any"!==l&&(s.type=l.substring(0,l.length-1)),s.nullable=d,s.attributeName=o.toLowerCase(),s.name=a,s.reflectToAttribute=void 0===s.reflectToAttribute||s.reflectToAttribute,s.inherit&&n[a]&&(s.value=n[a].value),s.extend&&n[a]&&g.Core.assign(s.value,n[a].value),t.hasOwnProperty(a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get(){if(this._properties[a])return this._properties[a].value},set(e){this.updateProperty(this,this._properties[a],e)}})}}}let y=[],_=[],w=[],x=!1;const C=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(C){parseInt(C[2],10)<=50&&(x=!0)}const S=function(){if("complete"===document.readyState){w.sort(function(e,t){let i=e.element.parents.length,n=t.element.parents.length;return i<n?-1:i>n?1:0});for(let e=0;e<w.length;e++)w[e].element.isLoading=!1,w[e].callback();w=[],document.removeEventListener("readystatechange",S)}};document.addEventListener("readystatechange",S);const T={"jqx-accordion":["jqx-accordion-item"],"jqx-breadcrumb":[],"jqx-button":[],"jqx-toggle-button":["jqx-button"],"jqx-repeat-button":["jqx-button"],"jqx-calendar":["jqx-repeat-button","jqx-drop-down-list","jqx-tooltip"],"jqx-card":[],"jqx-carousel":["jqx-button"],"jqx-chart":[],"jqx-check-box":["jqx-toggle-button"],"jqx-chip":[],"jqx-color-panel":["jqx-button"],"jqx-color-picker":["jqx-drop-down-button"],"jqx-combo-box":["jqx-drop-down-list"],"jqx-date-time-picker":["jqx-calendar","jqx-time-picker"],"jqx-docking-layout":["jqx-splitter","jqx-window","jqx-tabs"],"jqx-drop-down-button":["jqx-button"],"jqx-drop-down-list":["jqx-list-box"],"jqx-file-upload":["jqx-button"],"jqx-filter-panel":["jqx-list-box","jqx-numeric-text-box","jqx-menu","jqx-tree","jqx-drop-down-list","jqx-date-time-picker","jqx-calendar","jqx-tooltip"],"jqx-gauge":["jqx-button","jqx-tank"],"jqx-grid":["jqx-grid-cell","jqx-grid-column","jqx-grid-row","jqx-input","jqx-menu","jqx-filter-panel","jqx-pager","jqx-date-time-picker"],"jqx-grid-cell":["jqx-grid"],"jqx-grid-column":["jqx-grid"],"jqx-grid-row":["jqx-grid"],"jqx-input":["jqx-scroll-bar"],"jqx-led":["jqx-button"],"jqx-list-box":["jqx-scroll-viewer","jqx-list-item","jqx-list-items-group"],"jqx-list-item":["jqx-list-box"],"jqx-list-items-group":["jqx-list-box"],"jqx-list-menu":["jqx-menu","jqx-list-menu-item","jqx-list-menu-items-group"],"jqx-list-menu-item":["jqx-list-menu"],"jqx-list-menu-items-group":["jqx-list-menu"],"jqx-masked-text-box":["jqx-text-box"],"jqx-menu":["jqx-scroll-viewer","jqx-menu-item"],"jqx-multiline-text-box":["jqx-text-box"],"jqx-multiline-split-button":["jqx-drop-down-button"],"jqx-numeric-text-box":["jqx-button"],"jqx-pager":["jqx-drop-down-list"],"jqx-password-text-box":["jqx-text-box"],"jqx-power-button":["jqx-button"],"jqx-progress-bar":["jqx-button"],"jqx-radio-button":["jqx-button","jqx-toggle-button"],"jqx-scroll-bar":[],"jqx-slider":["jqx-button","jqx-repeat-button","jqx-tank"],"jqx-sortable":["jqx-button"],"jqx-splitter":[],"jqx-sort-panel":["jqx-input","jqx-sortable"],"jqx-switch-button":["jqx-toggle-button"],"jqx-scroll-viewer":["jqx-button","jqx-scroll-bar"],"jqx-table":[],"jqx-tabs":["jqx-repeat-button","jqx-tab-item","jqx-tab-items-group"],"jqx-tab-item":["jqx-tabs"],"jqx-tab-items-group":["jqx-tabs"],"jqx-tank":["jqx-button"],"jqx-text-box":["jqx-drop-down-list"],"jqx-time-picker":[],"jqx-toast":[],"jqx-tooltip":[],"jqx-tree":["jqx-menu","jqx-tree-item","jqx-tree-items-group"],"jqx-tree-item":["jqx-tree"],"jqx-tree-items-group":["jqx-tree"],"jqx-window":["jqx-button"]};class P{static register(e,i){const n=i.prototype;let r=s.toCamelCase(e).replace(/[a-z]+/,""),a=i.version||window[t].Version;if(window.customElements.get(e)&&window.customElements.get(e).version===a)return;if(window[t].Define&&-1===window[t].Define.indexOf(e)&&"jqx-base-element"!==e&&"jqx-content-element"!==e&&"jqx-scroll-viewer"!==e){if(window[t].Defined)return;const i=function(e,t){const n=T[e];if(t||(t=[]),n)for(let e=0;e<n.length;e++){const r=n[e];-1===t.indexOf(r)&&(t.push(r),t=i(r,t))}return t},n=window[t].Define,r=n.slice(0);for(let e=0;e<n.length;e++){let t=i(n[e]);for(let e=0;e<t.length;e++)-1===r.indexOf(t[e])&&r.push(t[e])}if(window[t].Define=r,window[t].Defined=!0,-1===window[t].Define.indexOf(e))return}let o=e;for(a=a.split(".");window.customElements.get(e);)e=o+"-"+a.join("."),a[2]=parseInt(a[2])+1;y[e]||(y[e]=window[t][r]=window[t.toLowerCase()+r]=i,n.elementName=r,n.defineElement(),_[e]&&_[e](n),window.customElements.define(e,i))}static registerElements(){const e=this;if(e.toRegister){e.isRegistering=!0;for(let t=0;t<e.toRegister.length;t++){const i=e.toRegister[t];e.register(i.tagName,i.element)}e.isRegistering=!1}}static get(e){if(y[e])return y[e]}static whenRegistered(e,t){if(!e)throw new Error("Syntax Error: Invalid tag name");const i=_[e],n=this.get(e),r=n?n.modules.length:3;try{i||n?!i&&n?(t(n.prototype),_[e]=void 0):i&&!n?_[e]=function(e){i(e),t(e)}:i&&n&&(n.proto&&(i(n.proto),t(n.proto)),_[e]=void 0):_[e]=function(e){try{t(e)}catch(e){const t=e instanceof Error?e.message:e.toString();console.log(t)}}}catch(e){const t=e instanceof Error?e.message:e.toString();console.log(t)}if(n&&r!==n.prototype.modules.length){const t=document.querySelectorAll(e);for(let e=0;e<t.length;e++){const i=t[e];i.isCreated&&i._initElement()}}}}P.lazyRegister=!1,P.tagNames=[];class I{constructor(){const e=this;e.name="observableArray",e.observables=arguments.length<3?null:arguments[2];const t=new Proxy(e,{deleteProperty:function(e,t){return delete e[t],!0},apply:function(e,t,i){return e.apply(t,i)},get:function(t,i){return t[i]||isNaN(parseInt(i))?t[i]:e.getItem(parseInt(i))},set:function(t,i,n){return t[i]||isNaN(parseInt(i))?(t[i]=n,!0):(e.setItem(parseInt(i),n),!0)}});if(e._addArgs={eventName:"change",object:t,action:"add",index:null,removed:new Array,addedCount:1},e._removeArgs={eventName:"change",object:t,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){e._array=[];const t=arguments[0];for(let i=0,n=t.length;i<n;i++){const n=e._getItem(e._array.length,t[i]);e._array.push(n)}}else e._array=Array.apply(null,arguments);return 2===arguments.length&&(e.notifyFn=arguments[1]),t}get canNotify(){const e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify}set canNotify(e){this._canNotify=e}_notify(e){const t=this;t.canNotify&&t.notifyFn&&t.notifyFn(e)}notify(e){e&&(this.notifyFn=e)}toArray(){return this._array}_getItem(e,t){const i=this;return"string"==typeof t?t:"number"==typeof t?t:void 0===t?t:new Proxy(t,{deleteProperty:function(e,t){delete e[t]},set:function(t,n,r){const a=t[n];return t[n]=r,!i._canNotify||!1===t.canNotify||(!(!i.observables||i.observables[n])||(i._notify({eventName:"change",object:i,target:t,action:"update",index:e,path:e+"."+n,oldValue:a,newValue:r,propertyName:n}),!0))}})}getItem(e){return this._array[e]}setItem(e,t){const i=this._array[e];this._array[e]=this._getItem(e,t),this._notify({eventName:"change",object:this,action:"update",index:e,removed:[i],addedCount:1})}get length(){return this._array.length}set length(e){const t=this;n.isNumber(e)&&t._array&&t._array.length!==e&&t.splice(e,t._array.length-e)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){this._addArgs.index=this._array.length;const e=this._array.concat.apply(this._array,arguments);return new JQX.ObservableArray(e)}join(e){return this._array.join(e)}pop(){this._removeArgs.index=this._array.length-1,delete this[this._array.length-1];const e=this._array.pop();return this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}push(){const e=this;if(e._addArgs.index=e._array.length,1===arguments.length&&Array.isArray(arguments[0])){const t=arguments[0];for(let i=0,n=t.length;i<n;i++){const n=e._getItem(e._array.length,t[i]);e._array.push(n)}}else{const t=e._getItem(e._addArgs.index,arguments[0]);e._array.push.apply(e._array,[t])}return e._addArgs.addedCount=e._array.length-e._addArgs.index,e._notify(e._addArgs),e._notifyLengthChange(),e._array.length}_notifyLengthChange(){if(!this.canNotify)return;const e=this._createPropertyChangeData("length",this._array.length);this._notify(e)}_createPropertyChangeData(e,t,i){return{eventName:"change",object:this,propertyName:e,value:t,oldValue:i}}reverse(){return this._array.reverse()}shift(){const e=this._array.shift();return this._removeArgs.index=0,this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}slice(e,t){return this._array.slice(e,t)}sort(e){return this._array.sort(e)}splice(e,t,i){const n=this,r=n._array.length,a=n._array.splice.apply(n._array,arguments);return i?n._notify({eventName:"change",object:this,action:"add",index:e,added:a,addedCount:n._array.length>r?n._array.length-r:0}):n._notify({eventName:"change",object:this,action:"remove",index:e,removed:a,addedCount:n._array.length>r?n._array.length-r:0}),n._array.length!==r&&n._notifyLengthChange(),a}unshift(){const e=this._array.length,t=this._array.unshift.apply(this._array,arguments);return this._addArgs.index=0,this._addArgs.addedCount=t-e,this._notify(this._addArgs),this._notifyLengthChange(),t}indexOf(e,t){const i=this;for(let n=t||0,r=i._array.length;n<r;n++)if(i._array[n]===e)return n;return-1}lastIndexOf(e,t){const i=this;for(let n=t||i._array.length-1;n>=0;n--)if(i._array[n]===e)return n;return-1}find(e,t){return this._array.find(e,t)}findIndex(e,t){return this._array.findIndex(e,t)}every(e,t){return this._array.every(e,t)}some(e,t){return this._array.some(e,t)}forEach(e,t){this._array.forEach(e,t)}map(e,t){return this._array.map(e,t)}filter(e,t){return this._array.filter(e,t)}reduce(e,t){return void 0!==t?this._array.reduce(e,t):this._array.reduce(e)}reduceRight(e,t){return void 0!==t?this._array.reduceRight(e,t):this._array.reduceRight(e)}}let E={};window[t]&&(E=window[t]),window[t]=function(e,i){let n=e;if(e){if(e.indexOf("#")>=0||e.indexOf(".")>=0)return h[e]?h[e]:i?(h[e]=new i,function(e,t){const i=t.properties;t._properties=[];const n=function(i,r){const a=Object.keys(i);for(let s=0;s<a.length;s++){const o=a[s],l=i[o];t._properties[r+o]=l,Array.isArray(l)?t._properties[r+o]=new I(l,function(t){const i=o+"."+t.path,n=t.newValue,r=document.querySelector(e);if(r){const e=i.split(".");let t=r;for(let i=0;i<e.length;i++)t=t[e[i]];t=n}}):(Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:()=>t._properties[r+o],set(e){t._properties[r+o]=e}}),"DataAdapter"!==l.constructor.name&&"object"==typeof l&&l&&Object.keys(l).length>0&&n(l,r+o+"."))}};n(i,""),Object.defineProperty(t,"properties",{configurable:!1,enumerable:!0,get:()=>i});const r=document.querySelector(e);if(r&&r.isReady)for(let e in i)r[e]=i[e]}(e,h[e]),h[e]):void 0;if(i){if(P.tagNames[e]=i,P.lazyRegister){P.toRegister||(P.toRegister=[]);const e=s.toCamelCase(n).replace(/[a-z]+/,"");return window[t][e]=i,void P.toRegister.push({tagName:n,element:i})}P.register(n,i)}}},window.addEventListener("load",function(){const e=window[t].Elements.tagNames;let i=[];for(let n in e){const r=e[n];let a=document.querySelectorAll("["+n+"]");for(let e=0;e<a.length;e++){const t=a[e];t instanceof HTMLDivElement&&(t.__proto__=r.prototype,t.created(),t.connectedCallback()),t.classList.add("jqx-element-ready")}let s=r.name;"Item"===s&&(s="ListItem"),a=document.querySelectorAll('[is="'+t.toLocaleLowerCase()+s+'"]');for(let e=0;e<a.length;e++)i.push(a[e])}if(i.length>0){const e=e=>{let t=[],i=e.parentNode;for(;i&&9!==i.nodeType;)i instanceof HTMLElement==!0&&t.push(i),i=i.parentNode;return t};i.sort(function(t,i){let n=e(t).length,r=e(i).length;return n<r?1:n>r?-1:0});for(let e=0;e<i.length;e++){const t=i[e],n=t.getAttribute("is");let r;(r="jqxItem"===n?new window.jqxListItem(t):new window[n](t)).removeAttribute("is")}}});Object.assign(window[t],{Elements:P,Modules:[class{static get moduleName(){return"ErrorModule"}static get properties(){return{rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1}}}log(e){this._logger("log",e)}warn(e){this._logger("warn",e)}error(e){this._logger("error",e)}_logger(e,t){if(this.debugMode){const i=t instanceof Error?t.message:t.toString();console[e](i)}if(this.rethrowError&&"error"===e)throw t}},class{static get moduleName(){return"LocalizationModule"}static get properties(){return{messages:{value:{en:{}},type:"object",inherit:!0,reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:void 0,type:"function",reflectToAttribute:!1}}}addMessages(e,t){Object.assign(this.messages[e],t)}localize(e,t){const i=this;if(!i.messages||!i.messages[i.locale])return;let n=i.messages[i.locale][e];if(""===n)return"";if(!n)return;const r=n;for(let e in t){let i=t[e];n=n.replace(new RegExp("{{"+e+"}}","g"),i)}return i.localizeFormatFunction&&i.localizeFormatFunction(r,n,t),n}},i],BaseElement:class extends b{static get observedAttributes(){let e=this,t=["external-style"];for(let i in e.prototype.extendedProperties){const n=e.prototype.extendedProperties[i];t.push(n.attributeName)}return t}static get styleUrls(){return["jqx.variables.css","jqx.misc.css","jqx.common.css"]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(e){this._styleUrl=e}get enableShadowDOM(){return window[t].EnableShadowDOM}importStyle(e,t){if(!this.shadowRoot||!e)return;const i=this.shadowRoot.children;for(let t=0;t<i.length;t++){const n=i[t];if(n instanceof HTMLLinkElement&&n.href===e)return}const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,n.onload=t,this.shadowRoot.insertBefore(n,this.shadowRoot.firstChild)}attributeChanged(e,t,i){"style-url"===e&&(this.styleUrl=i)}attributeChangedCallback(e,t,i){this.isReady&&super.attributeChangedCallback(e,t,i)}constructor(e,i){super();const n=this;if(e){i&&(n._initProperties=i);const t=e=>{if("string"==typeof e?document.querySelector(e):e){const t="string"==typeof e?document.querySelector(e):e;if(t instanceof HTMLDivElement){const r=document.createElement(n.tagName);for(let e of t.attributes)r.setAttribute(e.name,t.getAttribute(e.name));for(;t.childNodes.length;)r.appendChild(t.firstChild);return"string"==typeof e&&(r.id=e.substring(1)),r._initProperties=i,t.parentNode&&t.parentNode.replaceChild(r,t),r}if(i){const e=t.context;if(t._initProperties=i,t.isReady){t.context=t;const n={},r={};for(let e in i)n[e]=t[e],r[e]=i[e];Object.getOwnPropertyNames(i).length>0&&(t.initProperties(),t.propertyChangedHandler(i,n,r)),t.context=e}}return t}};if("string"==typeof e){const i=document.querySelectorAll(e),n=[];if(i.length>1){for(let e=0;e<i.length;e++){const r=t(i[e]);n.push(r)}return n}}else if(e&&e.length>0){const i=e;if(i.length>1){for(let e=0;e<i.length;e++){const n=t(i[e]);y.push(n)}return y}}return t(e)}n._styleUrl="",window[t].EnableShadowDOM&&n.enableShadowDOM&&n.attachShadow({mode:"open"}),n.isUtilityElement||n.created()}connect(){const e=this,i=e.isReady;let n;if(i||e.children.length>0&&e.children[0]instanceof HTMLStyleElement&&(n=e.children[0],e.removeChild(n)),(!e.shadowRoot||i&&e.shadowRoot)&&e.setup(),!i&&e.shadowRoot){e.wait=!1,e.removeAttribute("wait"),n&&e.shadowRoot.insertBefore(n,e.shadowRoot.firstChild),e.importStyle(e._styleUrl);const i=e.getStaticMember("styleUrls","array"),r=e.getStaticMember("styles","string");let a=0;e.classList.add("jqx-element-init");for(let n=0;n<i.length;n++)e.importStyle(g.Core.getScriptLocation()+window[t].StyleBaseUrl+i[n],function(){++a===i.length&&(e.whenReady(function(){e.classList.remove("jqx-element-init")}),e.setup())});if(r){const t=document.createElement("style");t.innerHTML=r,e.shadowRoot.insertBefore(t,e.shadowRoot.firstChild)}}}connectedCallback(){const e=this;if(e.isLoading||e.isUtilityElement)return;e.classList.add("jqx-element-init");const t=function(){e.classList.remove("jqx-element-init")};"complete"===document.readyState?(t(),e.connect()):(e.isLoading=!0,w.push({element:this,callback:function(){this.isReady||(t(),this.connect())}.bind(e)}))}disconnectedCallback(){this.isAttached&&this.detached()}adoptedCallback(){this.setup()}appendTemplate(e){const t=this;t.shadowRoot?t.shadowRoot.appendChild(e):t.appendChild(e)}},Utilities:g,Import:function(e,t){let i=0;const n=function(e,t){return new Promise(i=>{const n=document.createElement("script");n.src=e,n.onload=i;for(let e=0;e<document.head.children.length;e++){const n=document.head.children[e];if(n.src&&n.src.toString().indexOf(t)>=0)return void i()}document.head.appendChild(n)})};return new Promise(r=>{const a=g.Core.getScriptLocation(),s=function(t){if(!e[t])return;const o=a+"/"+e[t];n(o,e[t]).then(function(){++i===e.length&&r(),s(t+1)})};if(t)for(let t=0;t<e.length;t++){const s=a+"/"+e[t];n(s,e[t]).then(function(){++i===e.length&&r()})}else s(0)})},ObservableArray:I,Observable:class{constructor(e,t){const i=this;var n;return this.name="observable",e&&Object.assign(i,e),n=e,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>"constructor"===e||!!e.startsWith("_")||void(i[e]=n[e])),new Proxy(i,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){return e[t]},set:function(e,n,r){const a=e[n];return a===r||(e[n]=r,!("notifyFn"!==n&&!n.startsWith("_")&&"canNotify"!==n&&(!t||-1!==t.indexOf(n))&&i.canNotify&&(i._notify({target:e,propertyName:n,oldValue:a,newValue:r}),0)))}})}get canNotify(){const e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify}set canNotify(e){this._canNotify=e}_notify(e){const t=this;if(t.canNotify&&t.notifyFn)for(let i=0;i<t.notifyFn.length;i++)t.notifyFn[i](e)}notify(e){const t=this;e&&(t.notifyFn||(t.notifyFn=[]),t.notifyFn.push(e))}},App:class{constructor(e){const i=this;i._id=e.id,e.id?i._appRoot=document.getElementById(i._id):i._id=window[t].Utilities.Core.createGUID(),e.selector&&(i._id=window[t].Utilities.Core.createGUID(),i._appRoot=document.querySelector(e.selector)),i._appRoot||(i._appRoot=document.body),i._appRoot.classList.add("jqx-visibility-hidden");const n={};if(e.render){const i=e.render(),r=e.components;!function(){const a=document.createDocumentFragment(),s=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),o=document.createElementNS("http://www.w3.org/1999/xhtml","body"),l=document.createElement("div");s.documentElement.appendChild(o),o.appendChild(l),l.innerHTML=i;for(let e=0;e<r.length;e++){const i=r[e],a=i.name,o=g.Core.toDash(a),d=s.querySelectorAll(a);i.tagName=o;for(let e=0;e<d.length;e++){const i=d[e],r=i.getAttribute("id")||window[t].Utilities.Core.createGUID(),s=document.createElement("div");s.id=r,l.insertBefore(s,i),n["#"+r]={name:a,properties:[],rendered:!1},i.parentNode.removeChild(i)}}a.appendChild(l);const d=document.querySelector(e.selector);d&&d.appendChild(a)}()}i._template=e.template||{},i._data=e.data||{},i._components=n;const r=function(){i._addAttributeBindings(),i._renderForBindings(),i._addModelBindings(),i._observeData(),i.render(),i._appRoot.classList.remove("jqx-visibility-hidden")};"complete"===document.readyState?r():window.addEventListener("load",r)}_addAttributeBindings(e,t){const n=this,r=new i,a=e?r.getBindings(e):r.getBindings(n._appRoot);t||(t="");const s=function(e){const i=function(e){if(e.data){let i=e.node.id;i||(e.node.id=i="id"+Math.floor(65536*(1+Math.random())).toString(16).substring(1));for(let r in e.data){const a=e.data[r];if("textContent"===r&&(e.node.parentNode.id?i=e.node.parentNode.id:(e.node.id="",e.node.parentNode.id=i)),a.isEvent){const e={};e[a.name]=a.value,n._addListenerBinding(i,e)}else{const e={};e[r]=t+a.name,n._addTemplateBinding(i,e)}}}};i(e);for(let t in e.children){const n=e.children[t];n.node&&n.node.getAttribute&&n.node.getAttribute("jqx-for")&&null===n.node.getAttribute("jqx-for-rendered")||(i(n),n.children&&s(n))}};s(a)}get template(){return this._template}set template(e){this._template=e,this.render()}get id(){return this._id}set id(e){this._id=e}get data(){return this._data}set data(e){this._data=e,this._observeData(),this.render()}_addTemplateBinding(e,t){const i=this;i.template["#"+e]?i.template["#"+e].bind?Object.assign(i.template["#"+e].bind,t):i.template["#"+e].bind=t:i.template["#"+e]={bind:t}}_addListenerBinding(e,t){const i=this;i.template["#"+e]?i.template["#"+e].listeners?Object.assign(i.template["#"+e].listeners,t):i.template["#"+e].listeners=t:i.template["#"+e]={listeners:t}}_updateDataFromBooleanElement(e,t){const i=this,n=t.checked,r=i.data[n];if(e.value&&"on"!==e.value)if(Array.isArray(r)||"observableArray"===r.name)if(e.checked)r.push(e.value);else{const t=r.indexOf(e.value);t>=0&&r.splice(t,1)}else"radio"!==e.type?e.checked?i.data[n]=e.value:i.data[n]="":e.checked&&(i.data[n]=e.value);else i.data[n]=e.checked}_updateDataFromNativeElement(e,t){const i=this;if("SELECT"===e.tagName&&e.addEventListener("change",function(){const n=t.value;let r=i.data[n];if(e.__updating=!0,Array.isArray(r)||"observableArray"===r.name){if(r=new I,e.selectedOptions)for(let t=0;t<e.selectedOptions.length;t++){const i=e.selectedOptions[t];r.push(i.value)}i.data[n]=r}else i.data[n]=e.value;e.__updating=!1}),"INPUT"===e.tagName||"TEXTAREA"===e.tagName){e.addEventListener("change",function(){e.__updating=!0,n?i._updateDataFromBooleanElement(e,t):i.data.value=e.value,e.__updating=!1});let n="checkbox"===e.type||"radio"===e.type;n||e.addEventListener("keyup",function(){const n=t.value;i.data[n]=e.value})}}_addModelBindings(e){const t=this,i=e?e.querySelectorAll("[jqx-model]"):t._appRoot.querySelectorAll("[jqx-model]");for(let e=0;e<i.length;e++){const n=i[e];let r={value:n.getAttribute("jqx-model")};"list"===n.type&&(r={selectedValues:n.getAttribute("jqx-model")}),"checkbox"!==n.type&&"radio"!==n.type||(r={checked:n.getAttribute("jqx-model")}),n.id||(n.id="id"+JQX.Utilities.Core.createGUID().replace(/-/gi,"")),t._updateDataFromNativeElement(n,r),t._addTemplateBinding(n.id,r)}}_renderForBindings(e){const t=this,i=t._appRoot.querySelectorAll("[jqx-for]");for(let e=0;e<i.length;e++){const n=i[e],r=n.getAttribute("jqx-for"),a=t.data[r];n.id||(n.id="id"+JQX.Utilities.Core.createGUID().replace(/-/gi,"")),n.setAttribute("jqx-for-rendered","");const s=null!==n.getAttribute("jqx-for-self"),o=s?n.parentNode.querySelectorAll(".jqx-for-item-"+n.id):n.querySelectorAll(".jqx-for-item-"+n.id);for(let e=0;e<o.length;e++)t.template[o[e].id]&&delete t.template[o[e].id],o[e].remove();const l=s?n:n.firstElementChild,d=document.createDocumentFragment();for(let e=0;e<a.length;e++){const t=l.cloneNode(!0);t.style.display="",t.id=n.id+"_"+e,t.classList.add("jqx-for-item"),t.classList.add("jqx-for-item-"+n.id),t.removeAttribute("jqx-for"),d.appendChild(t)}l.style.display="none",s?n.parentNode.insertBefore(d,n.nextSibling):n.appendChild(d);let h=t._appRoot.querySelectorAll(".jqx-for-item-"+n.id);for(let e=0;e<h.length;e++){const i=h[e];t._addAttributeBindings(i,r+"."+e+".")}}e&&i.length>0&&t.render()}notify(e){this.notifyFn=e}_notify(e){const t=this;if("length"===e.propertyName)return;t.notifyFn&&t.notifyFn(e);let i=e.propertyName;e.object&&(i=e.object.propertyName);for(let e in t.template){const n=t.template[e];let r=null;for(let e in n.bind)if("function"!=typeof n.bind[e]&&n.bind[e].indexOf(i)>=0){r=e;break}r&&t._setPropertyFromData(n,r)}t._renderForBindings(!0)}_observeData(){const e=this;e._data=new window[t].Observable(e._data),e._data.canNotify=!1,e._data.notify(e._notify.bind(e));for(let t in e.data){if("function"==typeof e.data[t])continue;if(t.startsWith("_")||"notifyFn"===t||"canNotify"===t||"name"===t)continue;const i=e.data[t];Array.isArray(i)?(e.data[t]=new JQX.ObservableArray(e.data[t]),e.data[t].canNotify=!1,e.data[t].notify(e._notify.bind(e)),e.data[t].canNotify=!0,e.data[t].propertyName=t):"object"==typeof i&&i.constructor===JQX.DataAdapter?e.data[t].propertyName=t:"object"==typeof i&&(e.data[t]=new JQX.Observable(e.data[t]),e.data[t].canNotify=!1,e.data[t].notify(e._notify.bind(e)),e.data[t].canNotify=!0,e.data[t].propertyName=t)}e._data.canNotify=!0}_setPropertyFromData(e,t){const i=this;if(e.element.__updating||!e.bind)return;const n=e.bind[t];if("function"==typeof n)return;const r=n?n.split("."):[];let a=i.data;for(let e=0;e<r.length;e++){const t=r[e];if("string"==typeof a)break;if(void 0===a[t])break;a=a[t]}if(e.bind.computed){const t={item:e,name:n,value:a};e.bind.computed(t),t.value!==a&&(a=t.value)}e.element.__updatingProperties=!0,n&&void 0!==a?("observableArray"===a.name?"checkbox"===e.element.type?e.element[t]=a.indexOf(e.element.value)>=0:e.element[t]=a.toArray().slice(0):"radio"===e.element.type?e.element.value===a?e.element[t]=!0:e.element[t]=!1:e.element[t]=a,i._components[e.selector]&&!i._components[e.selector].rendered&&(i._components[e.selector].properties[t]=a)):e.properties&&(e.element[t]=e.properties[t],i._components[e.selector]&&!i._components[e.selector].rendered&&(i._components[e.selector].properties[t]=e.properties[t])),e.element.__updatingProperties=!1}render(){const e=this;for(let t in e.template){const i=e.template[t],n=i.element?i.element:document.querySelector(t),r=i.properties,a=i.listeners,s=i.bind;if(!n)continue;i.selector=t,i.element=n,n._properties||(n._properties=[]);for(let t in r){const r=n._properties?n._properties[t]:null;r&&(r.notify=!0),e._setPropertyFromData(i,t)}for(let t in s){const r=n._properties?n._properties[t]:null;r&&(r.notify=!0),e._setPropertyFromData(i,t)}if(e._components&&e._components[t]&&!1===e._components[t].rendered){const n=e._components[t];i.element=n.instance=new window[n.name](t,n.properties),n.rendered=!0}const o=function(t){const n=i.element;for(let i in a)n.$||(n.$=JQX.Utilities.Extend(n)),n.$[t](i,function(t){const n=a[i];e.data[n]&&e.data[n](t)});for(let i in s){const r=n._properties?n._properties[i]:null;if(r){const a=function(t){if(n.__updatingProperties)return;n.__updating=!0;const r=function(e){if("radio"===n.type){const t=n.parentNode.querySelectorAll('[type="radio"]');for(let i=0;i<t.length;i++)t[i].__updating=e}};r(!0);const a=s[i];"radio"===n.type||"toggle"===n.type||"checkbox"===n.type?e._updateDataFromBooleanElement(n,s):function(e,t,i){var n;for(n=0;n<t.length-1;n++)e=e[t[n]];e[t[n]]=i}(e.data,a.split("."),t.detail.value),n.__updating=!1,r(!1)};"textarea"===n.type&&n.$[t]("input.keyup",function(e){const t=new CustomEvent("keyup",{detail:{originalEvent:e,value:n.$.input.value}});a(t)}),n.$[t](r.attributeName+"-changed",function(e){a(e)})}}};o("unlisten"),o("listen"),n.onAttached=function(){o("listen")},n.onDetached=function(){o("unlisten")}}}},Component:class{constructor(e,t){const i=this.constructor.name;let n=null;return e?n=new window[i](e,t):(n=new window[i])._initProperties=t,this._element=n,n}get element(){return this._element}},Define:E.Define||null,Theme:E.Theme||"",EnableShadowDOM:!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/scoped/",Version:"3.4.0"});let D=window[t].Theme;Object.defineProperty(window[t],"Theme",{configurable:!1,enumerable:!0,get:()=>D,set(e){const t=D;D=e,v.fireEvent("theme-changed",{oldValue:t,newValue:e},{bubbles:!0,cancelable:!0})}}),window[t]("jqx-base-element",window[t].BaseElement),window[t]("jqx-content-element",class extends window[t].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready();this.applyContent()}clearContent(){const e=this;for(;e.$.content.firstChild;)e.$.content.removeChild(e.$.content.firstChild)}applyContent(){const e=this;if(void 0===e.content)return void(e.content=e.$.content);if(""===e.content||null===e.content)return void e.clearContent();if(e.content instanceof HTMLElement)return e.clearContent(),void e.$.content.appendChild(e.content);const t=document.createDocumentFragment();let i=document.createElement("div");t.appendChild(i),e.content instanceof HTMLElement?i.appendChild(e.content):i.innerHTML=e.content;let n=Array.from(i.childNodes);i.parentNode.removeChild(i);for(let e=0;e<n.length;e++)t.appendChild(n[e]);e.clearContent(),e.$.content.appendChild(t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;t!==i&&("innerHTML"===e&&(n.content=i,n.applyContent(),n.innerHTML=n.content=g.Core.html(n.$.content)),"content"===e&&n.applyContent())}}),window[t]("jqx-scroll-viewer",class extends window[t].ContentElement{static get properties(){return{horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}get enableShadowDOM(){return!1}static get listeners(){return{"horizontalScrollBar.change":"_horizontalScrollbarHandler","verticalScrollBar.change":"_verticalScrollbarHandler",wheel:"_mouseWheelHandler"}}template(){return'<div id="container" class="jqx-container">\n                    <div id="scrollViewerContainer" class ="jqx-scroll-viewer-container">\n                      <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="jqx-scroll-viewer-content-container">\n                          <content></content>\n                      </div>\n                    </div>\n                    <jqx-scroll-bar id="verticalScrollBar" animation="[[animation]]" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                    <jqx-scroll-bar id="horizontalScrollBar" animation="[[animation]]" disabled="[[disabled]]"></jqx-scroll-bar>\n                </div>'}appendChild(e){const t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.appendChild(e)}}removeChild(e){const t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.removeChild(e)}}removeAll(){const e=this;e.isCompleted&&(e.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(e){const t=this;t.$.scrollViewerContentContainer.style.left=-t.scrollLeft+"px",e.stopPropagation(),t.onHorizontalChange&&t.onHorizontalChange(e)}_verticalScrollbarHandler(e){const t=this;t.$.scrollViewerContentContainer.style.top=-t.scrollTop+"px",e.stopPropagation(),t.onVerticalChange&&t.onVerticalChange(e)}_mouseWheelHandler(e){const t=this;t.disabled||!t.computedHorizontalScrollBarVisibility&&!t.computedVerticalScrollBarVisibility||(t.computedVerticalScrollBarVisibility?(e.stopPropagation(),e.preventDefault(),t.scrollHeight>0&&t.scrollTo(t.scrollTop+t._getScrollCoefficient(e,t.offsetHeight))):t.computedHorizontalScrollBarVisibility&&(e.stopPropagation(),e.preventDefault(),t.scrollWidth>0&&t.scrollTo(void 0,t.scrollLeft+t._getScrollCoefficient(e,t.offsetWidth))))}_getScrollCoefficient(e,t){const i=e.deltaMode,n=Math.abs(e.deltaY);let r;return 0===i?r=n<100/3?n:t:1===i?r=n<1?n*(100/3):t:2===i&&(r=t),e.deltaY<0?-r:r}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const e=this;return e._scrollView&&e._scrollView.hScrollBar?!e._scrollView.hScrollBar.$.hasClass("jqx-hidden"):null}get computedVerticalScrollBarVisibility(){const e=this;return e._scrollView&&e._scrollView.vScrollBar?!e._scrollView.vScrollBar.$.hasClass("jqx-hidden"):null}scrollTo(e,t){const i=this;i._scrollView&&(void 0!==e&&i._scrollView.scrollTo(e),void 0!==t&&i._scrollView.scrollTo(t,!1))}refreshScrollBarsVisibility(){const e=this;e._scrollView&&(e._scrollView.hScrollBar.disabled=e.disabled,e._scrollView.vScrollBar.disabled=e.disabled,"disabled"===e.horizontalScrollBarVisibility&&(e._scrollView.hScrollBar.disabled=!0),"disabled"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.disabled=!0),e.scrollWidth>0?e._scrollView.hScrollBar.$.removeClass("jqx-hidden"):"visible"!==e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("jqx-hidden"),e.scrollHeight>0?e._scrollView.vScrollBar.$.removeClass("jqx-hidden"):"visible"!==e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("jqx-hidden"),"hidden"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("jqx-hidden"),"hidden"===e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("jqx-hidden"),"visible"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.removeClass("jqx-hidden"),"visible"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.$.removeClass("jqx-hidden"),e.disabled||(e._scrollView.vScrollBar.disabled=e.scrollHeight<=0)),e.computedHorizontalScrollBarVisibility&&e.computedVerticalScrollBarVisibility?(e._scrollView.hScrollBar.$.addClass("bottom-corner"),e._scrollView.vScrollBar.$.addClass("bottom-corner")):(e._scrollView.hScrollBar.$.removeClass("bottom-corner"),e._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready();this._scrollView=new JQX.Utilities.Scroll(this,this.$.horizontalScrollBar,this.$.verticalScrollBar),this.refresh()}refresh(){const e=this;function t(){const t=e.$.scrollViewerContentContainer.offsetWidth-e.$.scrollViewerContainer.offsetWidth;return t>0&&"hidden"!==e.horizontalScrollBarVisibility||"visible"===e.horizontalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("hscroll"):e.$.scrollViewerContainer.classList.remove("hscroll"),t}function i(){let t;if(JQX.Utilities.Core.Browser.Safari){const i=e.$.scrollViewerContentContainer.getBoundingClientRect().height,n=e.$.scrollViewerContainer.getBoundingClientRect().height;i&&n&&(t=parseInt(i)-parseInt(n))}else t=e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight;return t>0&&"hidden"!==e.verticalScrollBarVisibility||"visible"===e.verticalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("vscroll"):e.$.scrollViewerContainer.classList.remove("vscroll"),t}if(!e.$.scrollViewerContentContainer)return;let n=e.scrollWidth,r=e.scrollHeight;e.scrollWidth=t(),e.scrollHeight=i(),e.scrollHeight&&r===e.scrollHeight||(e.scrollWidth=t()),e.scrollWidth&&n===e.scrollWidth||(e.scrollHeight=i()),e.computedVerticalScrollBarVisibility&&(e.scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.computedHorizontalScrollBarVisibility&&(e.scrollWidth+=e._scrollView.vScrollBar.offsetWidth)}attached(){const e=this;super.attached(),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar))}detached(){const e=this;super.detached(),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}get scrollWidth(){const e=this;return e._scrollView&&e._scrollView.hScrollBar?1===e._scrollView.hScrollBar.max&&"visible"===e.horizontalScrollBarVisibility?0:e._scrollView.hScrollBar.max:-1}set scrollWidth(e){const t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(0===e&&"visible"===t.horizontalScrollBarVisibility?t._scrollView.hScrollBar.max=0:t._scrollView.hScrollBar.max=e,t.refreshScrollBarsVisibility())}get scrollHeight(){const e=this;return e._scrollView&&e._scrollView.vScrollBar?1===e._scrollView.vScrollBar.max&&"visible"===e.verticalScrollBarVisibility?0:e._scrollView.vScrollBar.max:0}set scrollHeight(e){const t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(0===e&&"visible"===t.verticalScrollBarVisibility?t._scrollView.vScrollBar.max=1:t._scrollView.vScrollBar.max=e,t.refreshScrollBarsVisibility())}get scrollLeft(){const e=this;return e._scrollView&&e._scrollView.hScrollBar?e._scrollView.hScrollBar.value:0}set scrollLeft(e){const t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(t._scrollView.hScrollBar.value=e)}get scrollTop(){const e=this;return e._scrollView&&e._scrollView.vScrollBar?e._scrollView.vScrollBar.value:0}set scrollTop(e){const t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(t._scrollView.vScrollBar.value=e)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.refresh()}}),window[t].Utilities.Assign("PositionDetection",class{constructor(e,t,i,n){if(t){const i="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);t.id=i,e.setAttribute("aria-controls",i)}this.context=e,this.dropDown=t,this.defaultParent=i,this.closeMethod=n}handleAutoPositioning(){const e=this,t=e.context;if("auto"!==t.dropDownPosition||t.disabled)return;const i=(()=>window.requestAnimationFrame)();let n,r=Date.now();return n=i(function a(){n=i(a),("auto"!==t.dropDownPosition||t.disabled||null===t.parentElement)&&cancelAnimationFrame(n),Date.now()-r>=200&&(e.scrollHandler(),r=Date.now())})}checkBrowserBounds(e){const t=this.context;if("auto"===t.dropDownPosition&&!t.disabled)switch(e){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const e=this.context,t=this.dropDown;let i,n=0;s.isMobile||window.innerWidth===document.documentElement.clientWidth||(n=window.innerWidth-document.documentElement.clientWidth),null!==e._dropDownParent?i=!0:t.style.left="";const r=window.innerWidth-n;let a=e.getBoundingClientRect().left;if(a<0&&(t.style.left=(i?0:Math.abs(a))+"px",a=parseFloat(t.style.left)),a+t.offsetWidth>r){const e=a-Math.abs(r-a-t.offsetWidth),s=Math.max(0,document.documentElement.scrollWidth-(window.innerWidth+document.documentElement.scrollLeft-n));t.style.left=(i?e:Math.max(0,e-a)-s)+"px",window.innerWidth===document.documentElement.clientWidth&&(t.style.left=parseFloat(t.style.left)+n+"px"),i&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(e){const t=this.context,i=this.dropDown,n=t._dropDownListPosition;e||(e=t.getBoundingClientRect()),0!==e.height&&(document.documentElement.clientHeight-Math.abs(e.top+e.height+i.offsetHeight)>=0?t._dropDownListPosition="bottom":e.top-i.offsetHeight>=0?t._dropDownListPosition="top":t._dropDownListPosition="overlay-center",this.updatePositionAttribute(n,t._dropDownListPosition))}scrollHandler(){const e=this.context;if(!e.parentElement)return;const t=e.getBoundingClientRect();if(t.top===e._positionTop)return;const i=e._dropDownListPosition;this.checkBrowserBoundsVertically(t),e._dropDownListPosition!==i&&this.positionDropDown(),e._positionTop=t.top}getDropDownParent(e){const t=this.context,i=this.dropDown;let n=t.dropDownAppendTo;t._positionedParent=null,null===n?t._dropDownParent=null:"body"===n||n===document.body?t._dropDownParent=document.body:n instanceof HTMLElement?t._dropDownParent=n:"string"==typeof n&&(n=document.getElementById(n))instanceof HTMLElement?t._dropDownParent=n:(t.dropDownAppendTo=null,t._dropDownParent=null);let r=t._dropDownParent;if(null!==r){for(;"static"===window.getComputedStyle(r).position&&r!==document.body;)r=r.parentElement;r===document.body?t._positionedParent=null:t._positionedParent=r,i&&(i.setAttribute("animation",t.animation),""!==t.theme&&i.$.addClass(t.theme),e&&(t._dropDownParent.appendChild(i),i.$.addClass("jqx-drop-down-repositioned")),-1===t.detachedChildren.indexOf(i)&&t.detachedChildren.push(i))}}dropDownAppendToChangedHandler(){const e=this.context,t=this.dropDown,i=e._dropDownParent;this.getDropDownParent(),e._dropDownParent!==i&&(e[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(e=>t.style[e]=null),null===e._dropDownParent?(this.defaultParent.appendChild(t),t.$.removeClass("jqx-drop-down-repositioned")):(e._dropDownParent.appendChild(t),t.$.addClass("jqx-drop-down-repositioned")))}dropDownPositionChangedHandler(){this.dropDown.style.transition="none",this.context[this.closeMethod](),this.setDropDownPosition(),this.handleAutoPositioning()}dropDownAttached(e){const t=this.context;null!==t._dropDownParent&&(t._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),e&&t[e]())}dropDownDetached(){const e=this.context;null!==e._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(e._dropDownParent)&&e._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const e=this.context,t=e.dropDownPosition,i=e._dropDownListPosition;"auto"===t?this.checkBrowserBounds():e._dropDownListPosition=t,this.updatePositionAttribute(i,e._dropDownListPosition)}updatePositionAttribute(e,t){const i=this.context,n=this.dropDown;i.$.dropDownButton&&!i.$.dropDownButton.hasAttribute(t)&&(i.$.dropDownButton.removeAttribute(e),i.$.dropDownButton.setAttribute(t,"")),n.hasAttribute(t)||(n.style.transition="none",n.removeAttribute(e),n.setAttribute(t,""),requestAnimationFrame(function(){n.style.transition=null}))}positionDropDown(e){const t=this.context,i=this.dropDown;if(!t.opened||null===t._dropDownParent)return;const n=t.getBoundingClientRect();let r,a;if(this.customPositionDropDown){const e=this.customPositionDropDown(n);r=e.left,a=e.top}else switch(r=n.left,a=n.top,t._dropDownListPosition){case"bottom":a+=t.$.container.offsetHeight-1;break;case"center-bottom":a+=t.$.container.offsetHeight-1,r+=t.offsetWidth-i.offsetWidth/2;break;case"center-top":a-=i.offsetHeight-1,r+=t.offsetWidth-i.offsetWidth/2;break;case"top":a-=i.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":a-=i.offsetHeight/2-t.offsetHeight/2;break;case"overlay-top":a-=i.offsetHeight-t.offsetHeight}const s=this.getDropDownOffset();i.style.top=a+s.y+"px",e||(i.style.left=r+s.x+"px")}getDropDownOffset(){const e=this.context._positionedParent;let t,i;if(e){const n=e.getBoundingClientRect();t=-n.left,i=-n.top}else t=window.pageXOffset,i=window.pageYOffset;return{x:t,y:i}}placeOverlay(){const e=this.context;if(!e.dropDownOverlay||e._overlay)return;const t=document.createElement("div");t.classList.add("jqx-drop-down-overlay"),t.style.width=document.documentElement.scrollWidth+"px",t.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(t),e._overlay=t}removeOverlay(e){const t=this,i=t.context;i._overlay&&(i.hasAnimation&&e?requestAnimationFrame(function e(){t.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(e):(document.body.removeChild(i._overlay),delete i._overlay)}):(document.body.removeChild(i._overlay),delete i._overlay))}})}();var m=Object.freeze({}),f=window.CustomEvent;function g(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function v(e){e&&e.blur&&e!==document.body&&e.blur()}function b(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1}function y(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function _(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,i=!1,n=function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}.bind(this),r=function(r){if(r.target===e){var a="DOMNodeRemoved";i|=r.type.substr(0,a.length)===a,window.clearTimeout(t),t=window.setTimeout(n,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,r)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}f&&"object"!=typeof f||((f=function(e,t){t=t||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),i}).prototype=window.Event.prototype),_.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),w.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(i),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}v(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!w.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),i=function(e,i){return!(void 0===t[e]||t[e]===i)};if(t.opacity<1||i("zIndex","auto")||i("transform","none")||i("mixBlendMode","normal")||i("filter","none")||i("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,w.needsCentering(this.dialog_)?(w.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new f("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var w={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,i=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,i)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var i=document.styleSheets[t],n=null;try{n=i.cssRules}catch(e){}if(n)for(var r=0;r<n.length;++r){var a=n[r],s=null;try{s=document.querySelectorAll(a.selectorText)}catch(e){}if(s&&b(s,e)){var o=a.style.getPropertyValue("top"),l=a.style.getPropertyValue("bottom");if(o&&"auto"!==o||l&&"auto"!==l)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!w.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new _(e)},registerDialog:function(e){e.showModal||w.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var i=[];t.forEach(function(e){for(var t,n=0;t=e.removedNodes[n];++n)t instanceof Element&&("dialog"===t.localName&&i.push(t),i=i.concat(t.querySelectorAll("dialog")))}),i.length&&e(i)}))}};if(w.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},w.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},w.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,i=0;e=this.pendingDialogStack[i];++i)e.updateZIndex(--t,--t),0===i&&(this.overlay.style.zIndex=--t);var n=this.pendingDialogStack[0];n?(n.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},w.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=g(e);){for(var t,i=0;t=this.pendingDialogStack[i];++i)if(t.dialog===e)return 0===i;e=e.parentElement}return!1},w.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),v(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():e.target!==document.documentElement&&document.documentElement.focus()),!1}},w.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new f("cancel",{bubbles:!1,cancelable:!0}),i=this.pendingDialogStack[0];i&&i.dialog.dispatchEvent(t)&&i.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},w.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},w.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},w.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},w.dm=new w.DialogManager,w.formSubmitter=null,w.useValue=null,void 0===window.HTMLDialogElement){var x=document.createElement("form");if(x.setAttribute("method","dialog"),"dialog"!==x.method){var C=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(C){var S=C.get;C.get=function(){return y(this)?"dialog":S.call(this)};var T=C.set;C.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):T.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",C)}}document.addEventListener("click",function(e){if(w.formSubmitter=null,w.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&y(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;w.useValue=e.offsetX+","+e.offsetY}g(t)&&(w.formSubmitter=t)}}},!1);var P=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!y(this))return P.call(this);var e=g(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(y(t)){e.preventDefault();var i=g(t);if(i){var n=w.formSubmitter;n&&n.form===t?i.close(w.useValue||n.value):i.close(),w.formSubmitter=null}}},!0)}var I=Object.freeze({default:w});!function(){var e=Number.MAX_SAFE_INTEGER||9007199254740991,t=function(i){var n,r,a;if(this.epochDiffInSeconds=2082844800,"string"==typeof i){var s=i.split(":");this.seconds=Math.floor(parseFloat(s[0]));var o=parseFloat(s[1]);o>0xfffffffffffff800&&(o=0xfffffffffffff800),this.fractions=Math.ceil(o/2048)/(e+1)}else i instanceof Date?(n=i.getTime(),r=Math.floor(n/1e3),this.seconds=r+this.epochDiffInSeconds,a=(n%1e3+1e3)%1e3,this.fractions=a/1e3):"number"==typeof i?(r=Math.floor(i),this.seconds=r,this.fractions=i-r):i instanceof t?(this.seconds=i.seconds,this.fractions=i.fractions):(this.seconds=0,this.fractions=0)},i=t.prototype;i.toString=function(){return Math.floor(this.seconds)+":"+Math.round(this.fractions*(e+1)*2048)},i.toJSON=function(){return this.toString()},i.toDate=function(){return new Date(1e3*(this.seconds-this.epochDiffInSeconds+this.fractions))},i.valueOf=function(){return this.seconds+this.fractions},i.toAbsoluteTime=function(){return this.seconds+this.fractions+62135596800-2082844800},i.compare=function(e){return this.seconds<e.seconds?-1:this.seconds>e.seconds?1:this.fractions<e.fractions?-1:this.fractions>e.fractions?1:0},i.add=function(e){this.seconds+=Math.floor(e);var t=e-Math.floor(e);return(t+=this.fractions)>=1&&(t-=1,this.seconds+=1),this.fractions=t,this},window.NITimestamp=t}();var E=Object.freeze({});!function(){var e=window.NITimestamp,t=function(i){if("string"==typeof i)try{i=JSON.parse(i)}catch(e){throw"Can't create an analog waveform from this value"}if(i instanceof t)this.t0=new e(i.t0||"0:0"),this.channelName=i.channelName,this.dt=i.dt,this.Y=i.Y;else if("object"==typeof i)this.t0=new e(i.t0||"0:0"),this.channelName=i.channelName,this.dt=i.dt||0,this.Y=i.Y;else{if(void 0!==i)throw"Can't create an analog waveform from this value";this.dt=0,this.Y=[],this.t0=new e}},i=t.prototype;i.sampleCount=function(){return this.Y.length},i.toTimeAndValueArray=function(){for(var e=[],t=0,i=this.t0;t<this.Y.length;t++,i=i.add(this.dt))e.push([i.toAbsoluteTime(),this.Y[t]]);return e},i.appendArray=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.Y.push(e[t])},i.appendWaveform=function(e){if(e instanceof t)if(e.dt!==this.dt)this.t0=e.t0,this.dt=e.dt,this.Y=e.Y.slice(0);else{var i=new window.NITimestamp(this.t0).add(this.dt*this.sampleCount());0===e.t0.compare(i)?this.appendArray(e.Y):(this.t0=e.t0,this.dt=e.dt,this.Y=e.Y.slice(0))}},i.toJSON=function(){return{t0:this.t0.toString(),channelName:this.channelName,dt:this.dt,Y:this.Y}},window.NIAnalogWaveform=t}();var D=Object.freeze({});!function(){window.NIComplex=function(e,t){if("string"==typeof e){var i=this.parseFromString(e);this.realPart=i[0],this.imaginaryPart=i[1]}else{if("number"!=typeof e)throw new Error("Can't create complex number");if(this.realPart=e,"number"==typeof t)this.imaginaryPart=t;else{if(void 0!==t)throw new Error("Can't create complex number: invalid imaginary part");this.imaginaryPart=0}}};var e=/\s+/g,t=/([^eE][-+])|([eE][-+][iInN])/,i=/^[-+]?([0-9]+|[0-9]+\.|[0-9]*\.[0-9]+)$/,n=/^[-+]?([0-9]*|[0-9]+\.|[0-9]*\.[0-9]+)i$/,r=/^[-+]?([0-9]+|[0-9]+\.|[0-9]+\.|[0-9]*\.[0-9]+)[eE][-+]?[0-9]+$/,a=/^[-+]?([0-9]+|[0-9]+\.|[0-9]+\.|[0-9]*\.[0-9]+)[eE][-+]?[0-9]+i$/,s=/^[-+]?Infinity$/,o=/^[-+]?Infinityi$/,l=/[iI]nf(inity)?/g,d=/^[-+]?i$/,h=/^[-+]?NaNi?$/,c=/^[-+]?([0-9]+|[0-9]+\.[0-9]+)([eE][-+]?[0-9]+)?[-+]([0-9]+|[0-9]+\.[0-9]+)([eE][-+]?[0-9]+)?i$/,u=/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?$/,p=/^[+\-]?((?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?i$/,m=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}(?!i)$/,f=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}i$/,g=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)(?!i)([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)i$/,v=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)i([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)$/,b=window.NIComplex.prototype,y=function(e){var t;if(""===e)return 0;if(h.test(e))return NaN;if(-1===e.search(/[eE]/)){if(!i.test(e)&&!s.test(e))throw new Error("Invalid real part format");t=parseFloat(e)}else{if(!r.test(e))throw new Error("Invalid real part scientific notation");t=parseFloat(e)}return t},_=function(e){var t;if(""===e)return 0;if(h.test(e))return NaN;var i=e.slice(0,-1);if(-1===e.search(/[eE]/)){if(!n.test(e)&&!o.test(e))throw new Error("Invalid imaginary part format");if(d.test(e))return parseFloat(i+"1");t=parseFloat(i)}else{if(!a.test(e))throw new Error("Invalid imaginary part scientific notation");t=parseFloat(i)}return t},w=function(e){var t=m.exec(e),i=t[1],n=t[2];return parseFloat(i)*parseFloat("1e"+{Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,c:-2,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24}[n])};b.parseFromString=function(i){if(i=i.replace(e,""),u.test(i))return[parseFloat(i),0];if(p.test(i)){var n=i.slice(0,-1);return d.test(i)&&(n+="1"),[0,parseFloat(n)]}return c.test(i)?function(e){var i=e.search(t);return[parseFloat(e.substring(0,i+1)),parseFloat(e.substring(i+1,e.length-1))]}(i):function(e){var i,n;if(""===e||null==e)throw new Error("Invalid number format");if(e=e.replace(l,"Infinity"),g.test(e)){var r=(s=g.exec(e))[1],a=s[2];return[w(r),w(a)]}if(v.test(e)){var s;return r=(s=v.exec(e))[2],a=s[1],[w(r),w(a)]}var o=e.search(t);o<e.search(/i[-+]|i$/)?(i=e.substring(0,o+1),n=e.substring(o+1)):(n=e.substring(0,o+1),i=e.substring(o+1));var d,h,c=m.test(i),u=f.test(n);if(c&&(d=w(i),isNaN(d)))throw new Error("Invalid real part format");if(u&&(h=w(n.slice(0,n.length-1)),isNaN(h)))throw new Error("Invalid imaginary part format");return void 0!==d&&void 0!==h?[d,h]:void 0!==d?[d,_(n)]:void 0!==h?[y(i),h]:[y(i),_(n)]}(i)},b.compare=function(e){var t=Math.sqrt(Math.pow(e.realPart,2)+Math.pow(e.imaginaryPart,2)),i=Math.sqrt(Math.pow(this.realPart,2)+Math.pow(this.imaginaryPart,2));return i>t?1:i<t?-1:0},b.toString=function(){return this.imaginaryPart>=0?this.realPart+" + "+this.imaginaryPart+"i":this.realPart+" - "+Math.abs(this.imaginaryPart)+"i"}}();var k=Object.freeze({});!function(){window.NINumericFormatters=function(){};var e=window.NINumericFormatters.prototype,t=function(e){var t=e;"string"!=typeof e&&(t=e.toString());var i="";-1!==t.indexOf("e")&&(i=t.substring(t.indexOf("e"),t.length),t=t.substring(0,t.indexOf("e")));var n=t.indexOf(".");if(-1!==n){for(var r=t.lastIndexOf("0");r===t.length-1;)r=(t=t.slice(0,-1)).lastIndexOf("0");n===t.length-1&&(t=t.slice(0,-1))}var a="0";return"0"!==t&&"-0"!==t&&(a=t),a+i.toUpperCase()};e.toSiNotation=function(e,i){var n,r,a=0;if(isFinite(i)&&null!==i&&(a=i>20?20:i<0?0:i),0===e)return"0";if(null==e)return null===e?"null":"undefined";if(!isFinite(e))return isNaN(e)?"NaN":e.toString();var s,o=Math.floor((s=Math.abs(e),Math.log(s)*Math.LOG10E));n=e/(r=function(e){var t=8;return e>=3?t=e>=24?16:Math.floor(e/3)+8:(e<=-3&&(t=e<=-24?0:Math.round((e-1)/3)+8),-2!==e&&-1!==e||(t=7)),{conversion:parseFloat("1e"+3*(t-8)),extension:["y","z","a","f","p","n","Î¼","m","","k","M","G","T","P","E","Z","Y"][t]}}(o)).conversion,(o>=45||o<=-45)&&(n=n.toExponential(a)),-1===n.toString().indexOf("e")&&(n=n.toFixed(a));var l=t(n),d="";return"0"!==l&&"-0"!==l&&(d=r.extension),l+d},e.toDecPrecisionNotation=function(e,i){if(null==e)return null===e?"null":"undefined";if(!isFinite(e))return isNaN(e)?"NaN":e.toString();var n;if(isFinite(i)&&null!==i){var r=Math.abs(e).toString(),a=r.indexOf("."),s=-1!==r.indexOf("e")||-1!==r.indexOf("E");n=-1!==a&&a<i&&!s?e.toPrecision(i):i<1||21<i||i>r.length?e.toPrecision():e.toPrecision(i)}else n=e.toPrecision();return t(n)},e.toDecFixedNotation=function(e,t){if(null==e)return null===e?"null":"undefined";if(!isFinite(e))return isNaN(e)?"NaN":e.toString();var i="",n=e;e<0&&(i="-",n=Math.abs(e));return i+(isFinite(t)&&null!==t?t<0||20<t?n.toFixed():n.toFixed(t):n.toFixed()).toUpperCase()}}();var j=Object.freeze({});!function(){var e=Object.freeze({VOID:"Void",BOOLEAN:"Boolean",UINT8:"UInt8",UINT16:"UInt16",UINT32:"UInt32",UINT64:"UInt64",INT8:"Int8",INT16:"Int16",INT32:"Int32",INT64:"Int64",SINGLE:"Single",DOUBLE:"Double",COMPLEXSINGLE:"ComplexSingle",COMPLEXDOUBLE:"ComplexDouble",STRING:"String",PATH:"Path",TIMESTAMP:"Timestamp",ENUM:"Enum",CLUSTER:"Cluster",ARRAY:"Array",ANALOGWAVEFORM:"AnalogWaveform",DIGITALWAVEFORM:"DigitalWaveform"}),t=function(t){return t===e.SINGLE||t===e.DOUBLE},i=function(t){switch(t){case e.INT8:case e.INT16:case e.INT32:case e.INT64:return!0;default:return!1}},n=function(t){switch(t){case e.UINT8:case e.UINT16:case e.UINT32:case e.UINT64:return!0;default:return!1}},r=function(t){return t===e.INT64||t===e.UINT64},a=function(e){return i(e)||n(e)},s=function(t){return t===e.COMPLEXSINGLE||t===e.COMPLEXDOUBLE},o=function(e){return a(e)||s(e)||t(e)},l=function(t){if(o(t))return!1;switch(t){case e.VOID:case e.BOOLEAN:case e.STRING:case e.PATH:case e.TIMESTAMP:case e.DIGITALWAVEFORM:return!1}return!0},d=function(e){if(function(e,t){return Object.keys(e).length!==t}(e,1))throw new Error(e.name+' must only have the property "name".')},h=function(t){var i=t.subtype;if(!1===function(t){return t.name!==e.ARRAY}(i))throw new Error("Invalid Array subtype: "+i.name);c(i);var n=t.rank;if("number"!=typeof n||isNaN(n)||n<=0)throw new Error('Array type property "rank" must be an integer greater than 0.');var r=t.size;if(void 0!==r){if(!1===Array.isArray(r))throw new Error('Array type property "size" must be an array of integers.');if(!1===r.reduce(function(e,t){return e&&"number"==typeof t&&t>=0},!0))throw new Error('Array type property "size" must contain only natural numbers.')}},c=function(t){if(null===t||"object"!=typeof t)throw new Error("Descriptor should be a JSON encoded string or a valid format Object. Value found: "+t);var i=t.name;if(l(i))switch(i){case e.ENUM:!function(e){var t=e.subtype;if(null===t||"object"!=typeof t)throw new Error("Enum subtype must be a valid descriptor.");if(!1===n(t.name)||!0===r(t.name))throw new Error("Enum unsupported subtype: "+t.name)}(t);break;case e.ARRAY:h(t);break;case e.CLUSTER:!function(e){var t=e.fields,i=e.subtype;if(!1===Array.isArray(t))throw new Error('Cluster type must have a "fields" property of type array.');if(!1===t.reduce(function(e,t){return e&&"string"==typeof t},!0))throw new Error('Cluster type property "fields", must be an array of strings.');if(void 0!==i){if(!1===Array.isArray(i))throw new Error('Cluster type property "subtype" must be an array of types.');if(t.length!==i.length)throw new Error('Cluster properties "fields" and "subtype", must be arrays with the same length.');var n=0;try{for(;n<i.length;n++){var r=i[n];c(r)}}catch(e){throw new Error('Cluster property "subtype" contains an invalid type descriptor.\n'+e.message)}}}(t);break;case e.ANALOGWAVEFORM:!function(t){var i=t.subtype;if(void 0===i)throw new Error(e.ANALOGWAVEFORM+' must have a property called "subtype".');if(!1===o(i.name))throw new Error(e.ANALOGWAVEFORM+" subtype only accepts numerics. "+i.name+" was found instead.")}(t);break;default:throw new Error("Unknown type: "+i)}else d(t)},u=function(e){if("string"==typeof e)return{name:e};for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];"subtype"===t&&(Array.isArray(i)?e[t]=i.map(u):e[t]=u(i))}return e},p=function(e){return null===e||"object"!=typeof e||l(e.name)?e:e.name},m=function(e,t){return"subtype"===e||""===e?Array.isArray(t)?t.map(p):p(t):t},f=function(e){var t=function(e){var t;return"string"==typeof e&&(t=l(e)?JSON.parse(e):e),null!==e&&"object"==typeof e&&(t=e),t=u(t)}(e);c(t),this._descriptor=t},g=function(e){var t=function(){return this._descriptor.name===e};try{Object.defineProperty(t,"name",{value:"is"+e})}catch(e){}return t},v=f.prototype;!function(t){var i=t.prototype;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i["is"+r]=g(r)}}(f),v.toJSON=function(){return JSON.stringify(this._descriptor)},v.toShortJSON=function(){return JSON.stringify(this._descriptor,m)},v.isNumeric=function(){return o(this._descriptor.name)},v.isFloat=function(){return t(this._descriptor.name)},v.isSignedInteger=function(){return i(this._descriptor.name)},v.isUnsignedInteger=function(){return n(this._descriptor.name)},v.is64BitInteger=function(){return r(this._descriptor.name)},v.isInteger=function(){return a(this._descriptor.name)},v.isComplex=function(){return s(this._descriptor.name)},v.isTimeStamp=function(){return this._descriptor.name===e.TIMESTAMP},v.isAggregateType=function(){return l(this._descriptor.name)},v.makeArray=function(t,i){if(this.isArray())throw new Error("Not possible to create an array from an array.");void 0===t&&(t=1);var n=JSON.parse(this.toShortJSON());return new f({name:e.ARRAY,rank:t,subtype:n,size:i})},v.getName=function(){return this._descriptor.name},v.getSubtype=function(){if(void 0!==this._nisubtype)return this._nisubtype;var e=this._descriptor.subtype;return Array.isArray(e)?this._nisubtype=e.map(function(e){return new f(e)}):"object"==typeof e&&null!==e&&(this._nisubtype=new f(e)),this._nisubtype},v.getRank=function(){return this._descriptor.rank},v.getSize=function(){return this._descriptor.size},v.getFields=function(){return this._descriptor.fields},v.equals=function(e){return e instanceof f&&(e.getName()===this.getName()&&(o=e.getFields(),l=this.getFields(),!(Array.isArray(o)&&Array.isArray(l)?o.length!==l.length||!o.reduce(function(e,t,i){return e&&t===l[i]},!0):o!==l)&&(a=e.getSubtype(),s=this.getSubtype(),!!(void 0===a&&a===s||(a instanceof f&&s instanceof f?a.equals(s):Array.isArray(a)&&Array.isArray(s)&&a.reduce(function(e,t,i){return e&&t.equals(s[i])},!0)))&&(n=e.getRank(),r=this.getRank(),(void 0===n&&n===r||n===r)&&(t=e.getSize(),i=this.getSize(),!!(void 0===t&&t===i||t.length===i.length&&t.reduce(function(e,t,n){return e&&t===i[n]},!0)))))));var t,i,n,r,a,s,o,l},window.NITypes=Object.freeze({VOID:new f('"Void"'),BOOLEAN:new f('"Boolean"'),UINT8:new f('"UInt8"'),UINT16:new f('"UInt16"'),UINT32:new f('"UInt32"'),UINT64:new f('"UInt64"'),INT8:new f('"Int8"'),INT16:new f('"Int16"'),INT32:new f('"Int32"'),INT64:new f('"Int64"'),SINGLE:new f('"Single"'),DOUBLE:new f('"Double"'),COMPLEXSINGLE:new f('"ComplexSingle"'),COMPLEXDOUBLE:new f('"ComplexDouble"'),STRING:new f('"String"'),PATH:new f('"Path"'),TIMESTAMP:new f('"Timestamp"'),DIGITALWAVEFORM:new f('"DigitalWaveform"')}),window.NIType=f,window.NITypeNames=e}();var M=Object.freeze({});window.JQX.Elements.lazyRegister=!0;var A=Object.freeze({});JQX.Utilities.Assign("Complex",class{constructor(e,t){if("string"==typeof e)this.complexNumber=this.parseComplexNumber(e),this.realPart=this.complexNumber.realPart,this.imaginaryPart=this.complexNumber.imaginaryPart;else{if("number"!=typeof e)throw new Error("Can't create complex number");if(this.realPart=e,"number"==typeof t)this.imaginaryPart=t;else{if(void 0!==t)throw new Error("Can't create complex number: invalid imaginary part");this.imaginaryPart=0}this.complexNumber=this.parseComplexNumber(this.realPart,this.imaginaryPart)}}valueOf(){return 0===this.imaginaryPart?this.realPart:null}isNaN(){return isNaN(this.realPart)||isNaN(this.imaginaryPart)}isZero(){return!(0!==this.realPart&&-0!==this.realPart||0!==this.imaginaryPart&&-0!==this.imaginaryPart)}isFinite(){return isFinite(this.realPart)&&isFinite(this.imaginaryPart)}isInfinite(){return!(this.isNaN()||this.isFinite())}parseComplexNumber(e,t){const i={realPart:0,imaginaryPart:0};if(null==e)i.realPart=i.imaginaryPart=0;else if(void 0!==t)i.realPart=e,i.imaginaryPart=t;else switch(typeof e){case"object":if("imaginaryPart"in e&&"realPart"in e)i.realPart=e.realPart,i.imaginaryPart=e.imaginaryPart;else{if(2!==e.length)throw SyntaxError("Invalid Complex Number Parameter");i.realPart=e[0],i.imaginaryPart=e[1]}break;case"string":{i.imaginaryPart=i.realPart=0;const t=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,r=0;if(null===t)throw SyntaxError("Invalid Complex Number Parameter");for(let e=0;e<t.length;e++){const a=t[e];if(" "===a||"\t"===a||"\n"===a);else if("+"===a)n++;else if("-"===a)r++;else if("i"===a||"I"===a){if(n+r===0)throw SyntaxError("Invalid Complex Number Parameter");" "===t[e+1]||isNaN(t[e+1])?i.imaginaryPart+=parseFloat((r%2?"-":"")+"1"):(i.imaginaryPart+=parseFloat((r%2?"-":"")+t[e+1]),e++),n=r=0}else{if(n+r===0||isNaN(a))throw SyntaxError("Invalid Complex Number Parameter");"i"===t[e+1]||"I"===t[e+1]?(i.imaginaryPart+=parseFloat((r%2?"-":"")+a),e++):i.realPart+=parseFloat((r%2?"-":"")+a),n=r=0}}if(n+r>0)throw SyntaxError("Invalid Complex Number Parameter");break}case"number":i.imaginaryPart=0,i.realPart=e;break;default:throw SyntaxError("Invalid Complex Number Parameter")}return i}compare(e,t){const i=this.parseComplexNumber(e,t),n=this.parseComplexNumber("1e-16");return Math.abs(i.realPart-this.realPart)<=n&&Math.abs(i.imaginaryPart-this.imaginaryPart)<=n}toString(){let e=this.realPart,t=this.imaginaryPart,i="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(i+=e),0!==t&&(0!==e?i+=t<0?" - ":" + ":t<0&&(i+="-"),1!==(t=Math.abs(t))&&(i+=t),i+="i"),i||"0")}});var N=Object.freeze({});const q=-1*(new Date).getTimezoneOffset(),O=[{id:"Local",offset:q,offsetHours:q/60,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],B=[0,31,59,90,120,151,181,212,243,273,304,334,365],R=[0,31,60,91,121,152,182,213,244,274,305,335,366];JQX.Utilities.Assign("TimeSpan",class{constructor(){const e=this;if(e.ticksPerMillisecond=1e4,e.millisecondsPerTick=1e-4,e.ticksPerSecond=1e7,e.secondsPerTick=1e-7,e.ticksPerMinute=6e8,e.minutesPerTick=1/6e8,e.ticksPerHour=36e9,e.hoursPerTick=1/36e9,e.ticksPerDay=864e9,e.daysPerTick=1/864e9,e.millisPerSecond=1e3,e.millisPerMinute=6e4,e.millisPerHour=36e5,e.millisPerDay=864e5,e._ticks=0,1===arguments.length){if(isNaN(arguments[0]))throw new Error("Argument must be a number.");e._ticks=arguments[0]}else if(3===arguments.length)e._ticks=e.timeToMS(arguments[0],arguments[1],arguments[2],0);else if(4===arguments.length){const t=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0;e._ticks=t*e.ticksPerMillisecond}else if(5===arguments.length){const t=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4];e._ticks=t*e.ticksPerMillisecond}}ticks(){return this._ticks}days(){return parseInt(this._ticks/this.ticksPerDay)}timeToMS(e,t,i,n){return parseInt((3600*e+60*t+i+n/1e3)*this.ticksPerSecond)}hours(){return parseInt(this._ticks/this.ticksPerHour)%24}milliseconds(){return parseInt(this._ticks/this.ticksPerMillisecond)%1e3}minutes(){return parseInt(this._ticks/this.ticksPerMinute)%60}seconds(){return parseInt(this._ticks/this.ticksPerSecond)%60}totalDays(){return parseInt(this._ticks*this.daysPerTick)}totalHours(){return parseInt(this._ticks*this.hoursPerTick)}totalMilliseconds(){const e=this._ticks*this.millisecondsPerTick;return parseInt(e)}totalMinutes(){return parseInt(this._ticks*this.minutesPerTick)}totalSeconds(){return parseInt(this._ticks*this.secondsPerTick)}add(e){const t=this._ticks+e._ticks;return new JQX.Utilities.TimeSpan(t)}subtract(e){const t=this._ticks-e._ticks;return new JQX.Utilities.TimeSpan(t)}duration(){const e=this;return e._ticks>=0?new JQX.Utilities.TimeSpan(e._ticks):new JQX.Utilities.TimeSpan(-e._ticks)}equals(e){return this._ticks===e._ticks}valueOf(){return this._ticks}compare(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0}interval(e,t){const i=e*t+(e>=0?.5:-.5);return new JQX.Utilities.TimeSpan(i*this.ticksPerMillisecond)}fromDays(e){return this.interval(e,this.millisPerDay)}fromHours(e){return this.interval(e,this.millisPerHour)}fromMilliseconds(e){return this.interval(e,1)}fromMinutes(e){return this.interval(e,this.millisPerMinute)}fromSeconds(e){return this.interval(e,this.millisPerSecond)}fromTicks(e){return new JQX.Utilities.TimeSpan(e)}toString(){return this.totalMilliseconds().toString()}negate(){return new JQX.Utilities.TimeSpan(-this._ticks)}}),JQX.Utilities.Assign("DateTime",class{constructor(){function e(e){const n=t.regexISOString.exec(e);i=new JQX.Utilities.DateTime(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[4]),parseFloat(n[5]),parseFloat(n[6]),parseFloat(n[7]),0,0,0,0,0,0,0,"UTC")}const t=this;let i;if(t.ticksPerMillisecond=1e4,t.millisecondsPerTick=1e-4,t.ticksPerSecond=1e7,t.secondsPerTick=1e-7,t.ticksPerMinute=6e8,t.minutesPerTick=1/6e8,t.ticksPerHour=36e9,t.hoursPerTick=1/36e9,t.ticksPerDay=864e9,t.daysPerTick=1/864e9,t.millisPerSecond=1e3,t.millisPerMinute=6e4,t.millisPerHour=36e5,t.millisPerDay=864e5,t.daysPerYear=365,t.daysPer4Years=1461,t.daysPer100Years=36524,t.daysPer400Years=146097,t.daysTo1601=584388,t.daysTo1899=693593,t.daysTo10000=3652059,t.minTicks=0,t.maxTicks=3155378976e9,t.maxMillis=3155378976e5,t.datePartYear=0,t.datePartDayOfYear=1,t.datePartMonth=2,t.datePartDay=3,t.daysToMonth365=B,t.daysToMonth366=R,t.minValue=new Date(0),t.maxValue=new Date(3155378976e9),t.ticksMask=0x4000000000000000,t.flagsMask=0xc000000000000000,t.localMask=0x8000000000000000,t.ticksCeiling=0x4000000000000000,t.kindUnspecified=0,t.kindUtc=0x4000000000000000,t.kindLocal=0x8000000000000000,t.kindLocalAmbiguousDst=0xc000000000000000,t.kindShift=62,t.regexTrim=/^\s+|\s+$/g,t.regexInfinity=/^[+-]?infinity$/i,t.regexHex=/^0x[a-f0-9]+$/i,t.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,t.regexISOString=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/,t.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",FP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",FPA:"yyyy/MM/dd HH:mm:ss:fffuunnppeeaaxxoo",FPA2:"yyyy-MM-dd HH:mm:ss:fffuunnppeeaaxxoo",FT:"HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",PP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp",PT:"HH:mm:ss:fff:uu:nn:pp"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},t.dateData=0,t.timeZone=null,t.timeZones=O,t._codeToUnit={u:"_microsecond",uu:"_microsecond",n:"_nanosecond",nn:"_nanosecond",p:"_picosecond",pp:"_picosecond",e:"_femtosecond",ee:"_femtosecond",a:"_attosecond",aa:"_attosecond",x:"_zeptosecond",xx:"_zeptosecond",o:"_yoctosecond",oo:"_yoctosecond"},t._smallUnits=["_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"],t._microsecond=0,t._nanosecond=0,t._picosecond=0,t._femtosecond=0,t._attosecond=0,t._zeptosecond=0,t._yoctosecond=0,0===arguments.length){const e=new Date;t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else if(1===arguments.length){if(void 0===arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!=typeof arguments[0])if("number"==typeof arguments[0])t.dateData=arguments[0];else if(arguments[0]instanceof Date){const e=arguments[0];t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else t.dateData=arguments[0];else{let i;"today"===arguments[0]?i=new Date:"todayDate"===arguments[0]?(i=new Date).setHours(0,0,0,0):t.regexISOString.test(arguments[0])?e(arguments[0]):i=t.tryparseDate(arguments[0]),i&&(t.dateData=t.dateToMS(i.getFullYear(),i.getMonth()+1,i.getDate())+t.timeToMS(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}}else if(2===arguments.length){if(void 0===arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!=typeof arguments[0])if("number"==typeof arguments[0])t.dateData=arguments[0];else if(arguments[0]instanceof Date){const e=arguments[0];t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else t.dateData=arguments[0];else{let i;"today"===arguments[0]?i=new Date:"todayDate"===arguments[0]?(i=new Date).setHours(0,0,0,0):t.regexISOString.test(arguments[0])?e(arguments[0]):i=t.tryparseDate(arguments[0]),i&&(t.dateData=t.dateToMS(i.getFullYear(),i.getMonth()+1,i.getDate())+t.timeToMS(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}t.validateTimeZone(arguments[1])}else if(arguments.length>2)if("string"==typeof arguments[0]){const e=t.tryparseDate(arguments[0],arguments[2],arguments[1]);t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{const e=arguments[0],i=arguments[1]-1,n=arguments[2],r=arguments[3]||0,a=arguments[4]||0,s=arguments[5]||0,o=arguments[6]||0,l=arguments[7]||0,d=arguments[8]||0,h=arguments[9]||0,c=arguments[10]||0,u=arguments[11]||0,p=arguments[12]||0,m=arguments[13]||0,f=new Date(e,i,n,r,a,s,o);e<1970&&f.setFullYear(e),t.dateData=t.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+t.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()),t._microsecond=l,t._nanosecond=d,t._picosecond=h,t._femtosecond=c,t._attosecond=u,t._zeptosecond=p,t._yoctosecond=m,arguments[14]&&t.validateTimeZone(arguments[14])}if(t.timeZone||t.validateTimeZone("Local"),i){const e=i.toTimeZone(t.timeZone);t.dateData=e.dateData}}static validateDate(e,t,i){if(e instanceof JQX.Utilities.DateTime)return e;if(e instanceof Date)return new JQX.Utilities.DateTime(e);try{if(new RegExp(/^\d{1,2}\/\d{1,2}\/\d{4}(, \d{1,2}:\d{2}:\d{1,2} [A|P]M)?$/).test(e)){const t=new Date(e);if(!isNaN(t.getTime()))return new JQX.Utilities.DateTime(t)}if("string"==typeof e)return this.parseDateString(e,t,i);if("number"==typeof e)return new JQX.Utilities.DateTime(new Date(e))}catch(e){}return t}static parseDateString(e,t,i){const n=new Date(e);if(!isNaN(n.getTime()))return new JQX.Utilities.DateTime(n);const r=e.indexOf("Date("),a=e.indexOf("DateTime("),s=e.lastIndexOf(")");let o=e;if(-1===r&&-1===a||-1===s){const t=new JQX.Utilities.DateTime,n=t.parseDate(e,i);if(n)return o=new JQX.Utilities.DateTime(n),t.copySmallTimePartValues(o),o}else{if(""===(o=(o=-1!==r?e.slice(r+5,s):e.slice(a+9,s)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new JQX.Utilities.DateTime;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+(\s*,\s*[a-zA-Z ]+)?$)/g).test(o))return(o=o.split(",")).map(function(e,t){isNaN(o[t])?o[t]=e.trim():o[t]=parseInt(e)}),-1!==r&&o[1]++,o.unshift(null),o=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,o))}if(""===o.trim())return t;if(!isNaN(o))return o=new Date(parseInt(o,10)),new JQX.Utilities.DateTime(o);try{const e=o.split(",");2===e.length?(e[1]=e[1].trim(),e.unshift(null),o=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,e))):o=new JQX.Utilities.DateTime(o)}catch(e){o=t}return o}static fromFullTimeStamp(e){e=e.toString();const t=new JQX.Utilities.DateTime(parseFloat(e.slice(0,e.length-21)));let i=e.slice(e.length-21),n=0;for(;i.length>0;)t[t._smallUnits[n]]=parseInt(i.slice(0,3),10),i=i.slice(3),n++;return t}static getConstructorParameters(e){return[e.year(),e.month(),e.day(),e.hour(),e.minute(),e.second(),e.millisecond(),e._microsecond,e._nanosecond,e._picosecond,e._femtosecond,e._attosecond,e._zeptosecond,e._yoctosecond,e.timeZone]}static detectDisplayMode(e,t,i){if(e.calendar.patterns[t])return-1!==["d","D","M","Y","d1","d2"].indexOf(t)?"calendar":-1!==["t","T","FT","PT"].indexOf(t)?"timePicker":"default";const n=["d","M","y"],r=["h","H","m","s","t","f","u","n","p","e","a","x","o"],a=i.groups;let s=!1,o=!1;for(let e=0;e<a.length;e++){const t=a[e].charAt(0);if(-1!==n.indexOf(t)?s=!0:-1!==r.indexOf(t)&&(o=!0),s&&o)break}return s===o?"default":s?"calendar":"timePicker"}static getLocalizedNames(e){const t={names:[],namesAbbr:[],namesShort:[]},i={names:[],namesAbbr:[]};if(this[e])return this[e];for(let i=23;i<30;i++){const n=new Date(2017,6,i),r=n.toLocaleString(e,{weekday:"long"});t.names.push(r),t.namesAbbr.push(n.toLocaleString(e,{weekday:"short"})),t.namesShort.push(r.substring(0,2))}for(let t=0;t<12;t++){const n=new Date(2017,t,1).toLocaleString(e,{month:"long"});i.names.push(n),i.namesAbbr.push(n.substring(0,3))}return i.names.push(""),i.namesAbbr.push(""),this[e]={days:t,months:i},this[e]}internalMS(){return this.dateData}getDatePart(e){const t=this.internalMS();let i=parseInt(t/this.millisPerDay);const n=parseInt(i/this.daysPer400Years);i-=n*this.daysPer400Years;let r=parseInt(i/this.daysPer100Years);4===r&&(r=3),i-=r*this.daysPer100Years;const a=parseInt(i/this.daysPer4Years);i-=a*this.daysPer4Years;let s=parseInt(i/this.daysPerYear);if(4===s&&(s=3),e===this.datePartYear)return parseInt(400*n+100*r+4*a+s+1);if(i-=s*this.daysPerYear,e===this.datePartDayOfYear)return parseInt(i+1);const o=3===s&&(24!==a||3===r)?this.daysToMonth366:this.daysToMonth365;let l=i>>6;for(;i>=o[l];)l++;return e===this.datePartMonth?parseInt(l):parseInt(i-o[l-1]+1)}dayOfWeek(){const e=this.dateData;return parseInt(e/this.millisPerDay+1)%7}dayOfYear(){return this.getDatePart(this.datePartDayOfYear)}weekOfYear(e){const t=this.toDate(),i=e||this.calendar.firstDay,n=new Date(t.getFullYear(),0,1),r=Math.floor((t.getTime()-n.getTime()-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1;let a,s=n.getDay()-i;if((s=s>=0?s:s+7)<4){if((a=Math.floor((r+s-1)/7)+1)>52){let e=new Date(t.getFullYear()+1,0,1).getDay()-i;a=(e=e>=0?e:e+7)<4?1:53}}else a=Math.floor((r+s-1)/7);return a}subtract(e){return new JQX.Utilities.TimeSpan(this.dateData*this.ticksPerMillisecond-e.dateData*this.ticksPerMillisecond)}dateToMS(e,t,i){const n=this;if(e>=1&&e<=9999&&t>=1&&t<=12){e=parseInt(e);const r=n.isLeapYear(e)?n.daysToMonth366:n.daysToMonth365;if(i>=1&&i<=r[t]-r[t-1]){const a=e-1;return(365*a+parseInt(a/4)-parseInt(a/100)+parseInt(a/400)+r[t-1]+i-1)*n.millisPerDay}}}isLeapYear(e){if(e<1||e>9999)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)}timeToMS(e,t,i,n){const r=this;if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60){const a=parseInt(3600*e+60*t+i);return n>0&&n<1e3?a*r.millisPerSecond+n:a*r.millisPerSecond}}daysInMonth(e,t){if(t<1||t>12)throw new Error("Month out of Range");const i=this.isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]}arrayIndexOf(e,t){return e.indexOf(t)}startsWith(e,t){return 0===e.indexOf(t)}endsWith(e,t){return e.substr(e.length-t.length)===t}trim(e){return(e+"").replace(this.regexTrim,"")}expandFormat(e,t){t=t||"F";let i,n=e.patterns,r=t.length;if(n[t])return n[t];if(1===r){if(!(i=n[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}getEra(e,t){if(!t)return 0;if("string"==typeof e)return 0;let i,n=e.getTime();for(let e=0,r=t.length;e<r;e++)if(null===(i=t[e].start)||n>=i)return e;return 0}toUpper(e){return e.split("Â ").join(" ").toUpperCase()}toUpperArray(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.toUpper(e[i]);return t}getEraYear(e,t,i,n){let r=e.getFullYear();return!n&&t.eras&&(r-=t.eras[i].offset),r}getDayIndex(e,t,i){const n=this,r=e.days;let a,s=e._upperDays;return s||(e._upperDays=s=[n.toUpperArray(r.names),n.toUpperArray(r.namesAbbr),n.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(a=n.arrayIndexOf(s[1],t))&&(a=n.arrayIndexOf(s[2],t)):a=n.arrayIndexOf(s[0],t),a}getMonthIndex(e,t,i){const n=this;let r=e.months,a=e.monthsGenitive||e.months,s=e._upperMonths,o=e._upperMonthsGen;s||(e._upperMonths=s=[n.toUpperArray(r.names),n.toUpperArray(r.namesAbbr)],e._upperMonthsGen=o=[n.toUpperArray(a.names),n.toUpperArray(a.namesAbbr)]),t=n.toUpper(t);let l=n.arrayIndexOf(i?s[1]:s[0],t);return l<0&&(l=n.arrayIndexOf(i?o[1]:o[0],t)),l}appendPreOrPostMatch(e,t){let i=0,n=!1;for(let r=0,a=e.length;r<a;r++){const a=e.charAt(r);switch(a){case"'":n?t.push("'"):i++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(a),n=!1}}return i}getTokenRegExp(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyyy|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|uu|u|nn|n|pp|p|ee|e|aa|a|xx|x|oo|o|i{1,24}|zzz|zz|z|gg|g/g}tryparseDate(e,t,i){const n=this;if(null==t&&(t=n.calendar),void 0!==i){if(Array.isArray(i))for(let r=0;r<i.length;r++){const a=n.parseDate(e,i[r],t);if(a)return a}const r=n.parseDate(e,i,t);if(r)return r}if(""===e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("===e.substring(0,6)){const t=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;let i=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"===i){const t=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);i=null,t&&(i=new Date(1*t[1]+36e5*t[2]+6e4*t[3]))}if(null==i||"Invalid Date"===i||isNaN(i)){const i=t.exec(e);if(i){const e=new Date(parseInt(i[1]));if(i[2]){let t=parseInt(i[3]);"-"===i[2]&&(t=-t);const n=e.getUTCMinutes();e.setUTCMinutes(n-t)}if(!isNaN(e.valueOf()))return e}}return i}const r={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(let i in r){const a=n.parseDate(e,r[i],t);if(a)return a}const a=t.patterns;for(let i in a){const r=n.parseDate(e,a[i],t);if(r){if("ISO"===i){const i=n.parseDate(e,a.ISO2,t);if(i)return i}return r}}let s;if("string"==typeof e){const i=[":","/","-"," ",","];let r="",a=e=function(e,t,i){return i.replace(new RegExp(e,"g"),t)}(", ",",",e=n.trim(e));e.indexOf(":")>=0?(r=e.substring(e.indexOf(":")-2),r=n.trim(r),a=e.substring(0,e.indexOf(":")-2)):e.toUpperCase().indexOf("AM")>=0?(r=e.substring(e.toUpperCase().indexOf("AM")-2),r=n.trim(r),a=e.substring(0,e.toUpperCase().indexOf("AM")-2)):e.toUpperCase().indexOf("PM")>=0&&(r=e.substring(e.toUpperCase().indexOf("PM")-2),r=n.trim(r),a=e.substring(0,e.toUpperCase().indexOf("PM")-2));let o=new Date,l=!1;if(a){for(let e=0;e<i.length;e++)if(a.indexOf(i[e])>=0){s=a.split(i[e]);break}let e=new Array,r=new Array,d=new Array,h=null,c=null;for(let i=0;i<s.length;i++){const r=s[i],a=n.parseDate(r,"d",t)||n.parseDate(r,"dd",t)||n.parseDate(r,"ddd",t)||n.parseDate(r,"dddd",t);if(a&&(e.push(a.getDate()),r.length>2)){h=i;break}}for(let e=0;e<s.length;e++){const i=s[e],a=n.parseDate(i,"M",t)||n.parseDate(i,"MM",t)||n.parseDate(i,"MMM",t)||n.parseDate(i,"MMMM",t);if(a){if(null!=h&&h===e)continue;if(r.push(a.getMonth()),i.length>2){c=e;break}}}for(let e=0;e<s.length;e++){const i=s[e],r=n.parseDate(i,"yyyy",t);if(r){if(null!=h&&h===e)continue;if(null!=c&&c===e)continue;d.push(r.getFullYear())}}const u=new Array;for(let t=e.length-1;t>=0;t--)for(let i=0;i<r.length;i++)for(let n=0;n<d.length;n++){const a=new Date(d[n],r[i],e[t]);d[n]<1970&&a.setFullYear(d[n]),isNaN(a.getTime())||u.push(a)}u.length>0&&(o=u[0],l=!0)}if(r){const e=r.indexOf(":")>=0?r.split(":"):r,i=n.parseDate(r,"h:mm tt",t)||n.parseDate(r,"HH:mm:ss.fff",t)||n.parseDate(r,"HH:mm:ss.ff",t)||n.parseDate(r,"h:mm:ss tt",t)||n.parseDate(r,"HH:mm:ss.tttt",t)||n.parseDate(r,"HH:mm:ss",t)||n.parseDate(r,"HH:mm",t)||n.parseDate(r,"HH",t);let a=0,s=0,d=0,h=0;i&&!isNaN(i.getTime())?(a=i.getHours(),s=i.getMinutes(),d=i.getSeconds(),h=i.getMilliseconds()):(1===e.length&&(a=parseInt(e[0])),2===e.length&&(a=parseInt(e[0]),s=parseInt(e[1])),3===e.length&&(a=parseInt(e[0]),s=parseInt(e[1]),e[2].indexOf(".")>=0?(d=parseInt(e[2].toString().split(".")[0]),h=parseInt(e[2].toString().split(".")[1])):d=parseInt(e[2])),4===e.length&&(a=parseInt(e[0]),s=parseInt(e[1]),d=parseInt(e[2]),h=parseInt(e[3]))),!o||isNaN(a)||isNaN(s)||isNaN(d)||isNaN(h)||(o.setHours(a,s,d,h),l=!0)}if(l)return o}if(null!=e){s=[":","/","-"];let t=!0;for(let i=0;i<s.length;i++)-1!==e.indexOf(s[i])&&(t=!1);if(t){const t=new Number(e);if(!isNaN(t))return new Date(t)}}return null}getParseRegExp(e,t){const i=this;let n=e._parseRegExp;if(n){const e=n[t];if(e)return e}else e._parseRegExp=n={};let r,a=i.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],l=0,d=0,h=i.getTokenRegExp();for(;null!==(r=h.exec(a));){const e=a.slice(l,r.index);if(l=h.lastIndex,(d+=i.appendPreOrPostMatch(e,s))%2){s.push(r[0]);continue}let t,n=r[0],c=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":t="(\\D+)";break;case"tt":case"t":t="(\\D*)";break;case"yyyyy":t="(\\d{1,4})";break;case"yyyy":t="(\\d{"+c+"})";break;case"fff":case"ff":case"f":t="(\\d{1,"+c+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":t="(\\d\\d?)";break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":t="(\\d{1,3})";break;case"zzz":t="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":t="([+-]?\\d\\d?)";break;case"/":t="/";break;default:if(!/i{1,24}/.test(n))throw"Invalid date format pattern '"+n+"'.";t="(\\d{"+n.length+"})"}t&&s.push(t),"/"!==n&&o.push(r[0])}i.appendPreOrPostMatch(a.slice(l),s),s.push("$");const c={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:o};return n[t]=c}outOfRange(e,t,i){return e<t||e>i}expandYear(e,t){const i=this,n=new Date,r=i.getEra(n);if(t<100){let a=e.twoDigitYearMax;a="string"==typeof a?(new Date).getFullYear()%100+parseInt(a,10):a;const s=i.getEraYear(n,e,r);(t+=s-s%100)>a&&(t-=100)}return t}padZeros(e,t){let i,n=e+"";return t>1&&n.length<t?(i=["0","00","000"][t-2]+n).substr(i.length-t,t):i=n}parseDate(e,t,i){const n=this;null==i&&(i=n.calendar),e=n.trim(e);const r=i,a=n.getParseRegExp(r,t),s=new RegExp(a.regExp).exec(e);if(null===s)return null;let o,l=a.groups,d=null,h=null,c=null,u=null,p=null,m=0,f=0,g=0,v=0,b=null,y=!1;for(let e=0,t=l.length;e<t;e++){const t=s[e+1];if(t){const i=l[e],a=i.length,s=parseInt(t,10);switch(i){case"dd":case"d":if(u=s,n.outOfRange(u,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(c=n.getMonthIndex(r,t,3===a),n.outOfRange(c,0,11))return null;break;case"M":case"MM":if(c=s-1,n.outOfRange(c,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=a<4?n.expandYear(r,s):s,n.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(12===(m=s)&&(m=0),n.outOfRange(m,0,11))return null;break;case"H":case"HH":if(m=s,n.outOfRange(m,0,23))return null;break;case"m":case"mm":if(f=s,n.outOfRange(f,0,59))return null;break;case"s":case"ss":if(g=s,n.outOfRange(g,0,59))return null;break;case"tt":case"t":if(!(y=r.PM&&(t===r.PM[0]||t===r.PM[1]||t===r.PM[2]))&&(!r.AM||t!==r.AM[0]&&t!==r.AM[1]&&t!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(v=s*Math.pow(10,3-a),n.outOfRange(v,0,999))return null;break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":if(n.outOfRange(s,0,1e3))return null;n[n._codeToUnit[i]]=s;break;case"ddd":case"dddd":if(p=n.getDayIndex(r,t,3===a),n.outOfRange(p,0,6))return null;break;case"zzz":{const e=t.split(/:/);if(2!==e.length)return null;if(o=parseInt(e[0],10),n.outOfRange(o,-12,13))return null;const i=parseInt(e[1],10);if(n.outOfRange(i,0,59))return null;b=60*o+(n.startsWith(t,"-")?-i:i);break}case"z":case"zz":if(o=s,n.outOfRange(o,-12,13))return null;b=60*o;break;case"g":case"gg":{let e=t;if(!e||!r.eras)return null;e=this.trim(e.toLowerCase());for(let t=0,i=r.eras.length;t<i;t++)if(e===r.eras[t].nathat.toLowerCase()){d=t;break}if(null===d)return null;break}default:{let e=t;e.length%3==1?e+="00":e.length%3==2&&(e+="0"),v=parseInt(e.slice(0,3),10),e=e.slice(3);let i=0;for(;e.length>0;)n[n._smallUnits[i]]=parseInt(e.slice(0,3),10),e=e.slice(3),i++}}}}let _,w=new Date,x=r.convert;if(_=w.getFullYear(),null===h?h=_:r.eras&&(h+=r.eras[d||0].offset),null===c&&(c=0),null===u&&(u=1),x){if(null===(w=x.toGregorian(h,c,u)))return null}else{if(w.setFullYear(h,c,u),w.getDate()!==u)return null;if(null!==p&&w.getDay()!==p)return null}if(y&&m<12&&(m+=12),w.setHours(m,f,g,v),null!==b){const e=w.getMinutes()-(b+w.getTimezoneOffset());w.setHours(w.getHours()+parseInt(e/60,10),e%60)}return w}toString(e,t){const i=this;void 0===e&&(e="yyyy-MM-dd HH:mm:ss");const n=i.dateData.toString()+i.getFractionsOfSecondStamp()+e+(i.timeZone||"");if(JQX.Utilities.DateTime.cache&&JQX.Utilities.DateTime.cache[n])return JQX.Utilities.DateTime.cache[n];const r=i.toDate();if(null==t&&(t=i.calendar),"string"==typeof r)return r;if(!e||!e.length||"i"===e){let e;return e=i.formatDate(r,t.patterns.F,t)}const a=t.eras,s="s"===e;e=i.expandFormat(t,e);const o=[];let l,d,h=0,c=i.getTokenRegExp();function u(e,t){if(d)return d[t];if(void 0!==e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){const n=c.lastIndex,d=c.exec(e),p=e.slice(n,d?d.index:e.length);if(h+=i.appendPreOrPostMatch(p,o),!d)break;if(h%2){o.push(d[0]);continue}const m=d[0],f=m.length;let g;if(/i{1,24}/.test(m))o.push(i.getFirstNDigitsOfPrecision(m.length));else switch(m){case"ddd":case"dddd":{const e=3===f?t.days.namesAbbr:t.days.names;o.push(e[r.getDay()]);break}case"d":case"dd":o.push(i.padZeros(u(r,2),f));break;case"MMM":case"MMMM":g=u(r,1),o.push(t.months[3===f?"namesAbbr":"names"][g]);break;case"M":case"MM":o.push(i.padZeros(u(r,1)+1,f));break;case"y":case"yy":case"yyyy":g=i.getEraYear(r,t,i.getEra(r,a),s),f<4&&(g%=100),o.push(i.padZeros(g,f));break;case"h":case"hh":0===(l=r.getHours()%12)&&(l=12),o.push(i.padZeros(l,f));break;case"H":case"HH":o.push(i.padZeros(r.getHours(),f));break;case"m":case"mm":o.push(i.padZeros(r.getMinutes(),f));break;case"s":case"ss":o.push(i.padZeros(r.getSeconds(),f));break;case"t":case"tt":g=r.getHours()<12?t.AM?t.AM[0]:" ":t.PM?t.PM[0]:" ",o.push(1===f?g.charAt(0):g);break;case"f":case"ff":case"fff":o.push(i.padZeros(r.getMilliseconds(),3).substr(0,f));break;case"u":case"n":case"p":case"e":case"a":case"x":case"o":o.push(i[i._codeToUnit[m]]);break;case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":o.push(i.padZeros(i[i._codeToUnit[m]],3));break;case"z":case"zz":o.push((i.timeZoneOffsetHours>=0?"+":"-")+i.padZeros(Math.floor(Math.abs(i.timeZoneOffsetHours)),f));break;case"zzz":o.push((i.timeZoneOffsetHours>=0?"+":"-")+i.padZeros(Math.floor(Math.abs(i.timeZoneOffsetHours)),2)+":"+i.padZeros(60*Math.abs(i.timeZoneOffsetHours%1),2));break;case"g":case"gg":t.eras&&o.push(t.eras[i.getEra(r,a)].name);break;case"/":o.push(t["/"]);break;default:throw"Invalid date format pattern '"+m+"'."}}const p=o.join("");return JQX.Utilities.DateTime.cache||(JQX.Utilities.DateTime.cache=new Array),JQX.Utilities.DateTime.cache[n]=p,p}getFractionsOfSecondStamp(){return this._microsecond.toString()+this._nanosecond+this._picosecond+this._femtosecond+this._attosecond+this._zeptosecond+this._yoctosecond}getFirstNDigitsOfPrecision(e,t){return(""+(!0!==t?this.padZeros(this.millisecond(),3):"")+this.padZeros(this._microsecond,3)+this.padZeros(this._nanosecond,3)+this.padZeros(this._picosecond,3)+this.padZeros(this._femtosecond,3)+this.padZeros(this._attosecond,3)+this.padZeros(this._zeptosecond,3)+this.padZeros(this._yoctosecond,3)).slice(0,e)}copySmallTimePartValues(e){e._microsecond=this._microsecond,e._nanosecond=this._nanosecond,e._picosecond=this._picosecond,e._femtosecond=this._femtosecond,e._attosecond=this._attosecond,e._zeptosecond=this._zeptosecond,e._yoctosecond=this._yoctosecond}add(e,t,i){const n=this,r=n.internalMS();if(void 0===t){if(!1===i)return n.dateData=r+parseInt(e._ticks/n.ticksPerMillisecond),n;const t=new JQX.Utilities.DateTime(r+parseInt(e._ticks/n.ticksPerMillisecond));return n.copyTimeZone(t),n.copySmallTimePartValues(t),t}const a=e*t;if(a<=-n.maxMillis||a>=n.maxMillis)throw new Error("Out of Range");if(!1===i)return n.dateData=r+a,n;const s=new JQX.Utilities.DateTime(r+a);return n.copyTimeZone(s),n.copySmallTimePartValues(s),s}addDays(e,t){return this.add(e,this.millisPerDay,t)}clone(){const e=new JQX.Utilities.DateTime(this.dateData);return this.copyTimeZone(e),this.copySmallTimePartValues(e),e}clearTime(){const e=this.month(),t=this.year(),i=this.day(),n=new JQX.Utilities.DateTime(t,e,i,0,0,0,0);return this.copyTimeZone(n),n}addHours(e,t){return this.add(e,this.millisPerHour,t)}addDeciseconds(e,t){return this.add(100*e,1,t)}addCentiseconds(e,t){return this.add(10*e,1,t)}addMilliseconds(e,t){return this.add(e,1,t)}addMinutes(e,t){return this.add(e,this.millisPerMinute,t)}addMonths(e,t){const i=this;if(e<-12e4||e>12e4)throw new Error("Invalid Months Value");let n=parseInt(i.getDatePart(i.datePartYear)),r=parseInt(i.getDatePart(i.datePartMonth)),a=parseInt(i.getDatePart(i.datePartDay));if(e%12==0)n+=e/12;else{const t=r-1+e;t>=0?(r=t%12+1,n+=t/12):(r=12+(t+1)%12,n+=(t-11)/12),n=parseInt(n)}if(n<1||n>9999)throw new Error("Year out of range");const s=i.daysInMonth(n,r);if(a>s&&(a=s),!1===t)return i.dateData=i.dateToMS(n,r,a)+i.internalMS()%i.millisPerDay,i;const o=new JQX.Utilities.DateTime(i.dateToMS(n,r,a)+i.internalMS()%i.millisPerDay);return i.copyTimeZone(o),i.copySmallTimePartValues(o),o}addSeconds(e,t){return this.add(e,this.millisPerSecond,t)}addYears(e,t){return this.addMonths(12*e,t)}addMicroseconds(e,t){if(0===e)return;const i=this;let n,r;e<0&&0===i.hour()&&0===i.minute()&&0===i.second()&&0===i.millisecond()&&0===i._microsecond&&(n=parseInt(e/1e3,10)-1,r=1e3+e%1e3);const a=1e3*i.timeToMS(i.hour(),i.minute(),i.second(),i.millisecond())+i._microsecond,s=a+e;let o;if(void 0===n&&(n=parseInt(s/1e3,10)-parseInt(a/1e3,10)),void 0===r&&(r=parseInt(s%1e3,10)),0!==n&&(o=i.addMilliseconds(n,t)),!1!==t)return o||(o=i.clone()),o._microsecond=r,o;i._microsecond=r}addFractionsOfSecond(e,t,i,n,r){if(0===e)return;const a=this,s=1e3*a[n]+a[i],o=e+s;let l,d=parseInt(o/1e3,10)-parseInt(s/1e3,10),h=parseInt(o%1e3,10);if(e<0&&o<0&&h<0&&(d--,h=1e3+h),0!==d&&(l=a[r](d,t)),!1!==t)return l||(l=a.clone()),l[i]=h,l;a[i]=h}addNanoseconds(e,t){return this.addFractionsOfSecond(e,t,"_nanosecond","_microsecond","addMicroseconds")}addPicoseconds(e,t){return this.addFractionsOfSecond(e,t,"_picosecond","_nanosecond","addNanoseconds")}addFemtoseconds(e,t){return this.addFractionsOfSecond(e,t,"_femtosecond","_picosecond","addPicoseconds")}addAttoseconds(e,t){return this.addFractionsOfSecond(e,t,"_attosecond","_femtosecond","addFemtoseconds")}addZeptoseconds(e,t){return this.addFractionsOfSecond(e,t,"_zeptosecond","_attosecond","addAttoseconds")}addYoctoseconds(e,t){return this.addFractionsOfSecond(e,t,"_yoctosecond","_zeptosecond","addZeptoseconds")}getTimeZoneOffset(){const e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),n=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-e.getTimezoneOffset()/60,dst:+n}}isInDaylightSavingTime(){const e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return this.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())}supportsDaylightSavingTime(){const e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!==i.getTimezoneOffset()}date(){const e=this.month(),t=this.year(),i=this.day(),n=new JQX.Utilities.DateTime(t,e,i);return this.copyTimeZone(n),n}isWeekend(){return 0===this.dayOfWeek()||6===this.dayOfWeek()}toDate(e){const t=this,i=t.month(),n=t.year(),r=t.day(),a=t.hour(),s=t.minute(),o=t.second(),l=t.millisecond();let d=new Date(n,i-1,r);if(n<1970&&d.setFullYear(n),d.setHours(a,s,o,l),e){const i=t.timeZones.filter(function(t){return t.id===e});if(i.length){let e=i[0].offset;const n=d.getTime();let r=60*d.getTimezoneOffset()*1e3;if(t.timeZone){const e=t.timeZones.filter(function(e){return e.id===t.timeZone});e.length&&(r=60*-e[0].offset*1e3)}d=new Date(n+r+6e4*e)}}return d}toTimeZone(e){const t=this;let i=e;if(null==i&&(i="Local"),t.timeZone===i)return t.clone();const n=t.timeZones.filter(function(e){return e.id===i});if(0===n.length)return t.clone();const r=this.toDate(i),a=new JQX.Utilities.DateTime(r);return a.timeZone=i,a.timeZoneOffset=n[0].offset,a.timeZoneOffsetHours=n[0].offsetHours,t.copySmallTimePartValues(a),a}day(){return this.getDatePart(this.datePartDay)}month(){return this.getDatePart(this.datePartMonth)}year(){return this.getDatePart(this.datePartYear)}millisecond(){return parseInt(this.internalMS()%1e3)}hour(){return parseInt(Math.floor(this.internalMS()/this.millisPerHour)%24)}minute(){return parseInt(this.internalMS()/this.millisPerMinute%60)}second(){return parseInt(this.internalMS()/this.millisPerSecond%60)}microsecond(){return this._microsecond}nanosecond(){return this._nanosecond}picosecond(){return this._picosecond}femtosecond(){return this._femtosecond}attosecond(){return this._attosecond}zeptosecond(){return this._zeptosecond}yoctosecond(){return this._yoctosecond}valueOf(){return this.dateData}equals(e){return this.dateData===e.dateData&&this._microsecond===e._microsecond&&this._nanosecond===e._nanosecond&&this._picosecond===e._picosecond&&this._femtosecond===e._femtosecond&&this._attosecond===e._attosecond&&this._zeptosecond===e._zeptosecond&&this._yoctosecond===e._yoctosecond}equalDateParts(e){return this.year()===e.year()&&this.month()===e.month()&&this.day()===e.day()}compare(e){const t=this;if(t.equals(e))return 0;const i=["dateData","_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"];for(let n=0;n<i.length;n++){const r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}toDateString(){return this.toDate().toDateString()}toLocaleDateString(){return this.toDate().toLocaleDateString(this.calendar.locale)}toLocaleString(){return this.toDate().toLocaleString(this.calendar.locale)}toLocaleTimeString(){return this.toDate().toLocaleTimeString(this.calendar.locale)}validateTimeZone(e){if("string"!=typeof e)return;const t=this.timeZones.filter(function(t){return t.id===e});0!==t.length&&(this.timeZone=e,this.timeZoneOffset=t[0].offset,this.timeZoneOffsetHours=t[0].offsetHours)}copyTimeZone(e){e.timeZone=this.timeZone,e.timeZoneOffset=this.timeZoneOffset,e.timeZoneOffsetHours=this.timeZoneOffsetHours}getTimeStamp(){return new JQX.Utilities.BigNumber(this.dateData.toString()+this.getFirstNDigitsOfPrecision(void 0,!0))}});var V=Object.freeze({});JQX.Utilities.Assign("Draw",class{constructor(e,t){const i=this;i.host=e,i.renderEngine=t||"",i.refresh();const n=["clear","removeElement","attr","getAttr","line","circle","rect","path","pieslice","pieSlicePath","text","measureText"];for(let e in n)i._addFn(JQX.Utilities.Draw.prototype,n[e])}_addFn(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})}_initRenderer(e){return this.createRenderer(this,e)}_internalRefresh(){const e=this;if(e.renderer||(e.host.innerHTML="",e._initRenderer(e.host)),"none"===window.getComputedStyle(e.host).display)return;const t=e.renderer;if(!t)return;const i=t.getRect();e._render({x:1,y:1,width:i.width,height:i.height})}_render(e){this._plotRect=e}refresh(){this._internalRefresh()}getSize(){const e=this._plotRect;return{width:e.width,height:e.height}}toGreyScale(e){if(-1===e.indexOf("#"))return e;const t=this.cssToRgb(e);t[0]=t[1]=t[2]=Math.round(.3*t[0]+.59*t[1]+.11*t[2]);const i=this.rgbToHex(t[0],t[1],t[2]);return"#"+i[0]+i[1]+i[2]}decToHex(e){return e.toString(16)}hexToDec(e){return parseInt(e,16)}rgbToHex(e,t,i){return[this.decToHex(e),this.decToHex(t),this.decToHex(i)]}hexToRgb(e,t,i){return[this.hexToDec(e),this.hexToDec(t),this.hexToDec(i)]}cssToRgb(e){return e.indexOf("rgb")<=-1?this.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")}hslToRgb(e){let t,i,n;const r=parseFloat(e[0]),a=parseFloat(e[1]),s=parseFloat(e[2]);if(0===a)t=i=n=s;else{const e=s<.5?s*(1+a):s+a-s*a,o=2*s-e;t=this.hueToRgb(o,e,r+1/3),i=this.hueToRgb(o,e,r),n=this.hueToRgb(o,e,r-1/3)}return[255*t,255*i,255*n]}hueToRgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}rgbToHsl(e){const t=parseFloat(e[0])/255,i=parseFloat(e[1])/255,n=parseFloat(e[2])/255,r=Math.max(t,i,n),a=Math.min(t,i,n);let s,o,l=(r+a)/2;if(r===a)s=o=0;else{const e=r-a;switch(o=l>.5?e/(2-r-a):e/(r+a),r){case t:s=(i-n)/e+(i<n?6:0);break;case i:s=(n-t)/e+2;break;case n:s=(t-i)/e+4}s/=6}return[s,o,l]}swap(e,t){const i=e;e=t,t=i}getNum(e){if(e.constructor!==Array){if(isNaN(e))return 0}else for(let t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t];return 0}_ptRotate(e,t,i,n,r){const a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-n),2)),s=Math.asin((e-i)/a)+r;return{x:e=i+Math.cos(s)*a,y:t=n+Math.sin(s)*a}}log(e,t){return Math.log(e)/(t?Math.log(t):1)}_mod(e,t){const i=Math.abs(e>t?t:e);let n=1;if(0!==i)for(;i*n<100;)n*=10;return(e*=n)%(t*=n)/n}createRenderer(e,t){const i=e;let n=i.renderer=null;return document.createElementNS&&"HTML5"!==i.renderEngine&&(n=new JQX.Utilities.SvgRenderer(this)),null!==n||"HTML5"!==i.renderEngine&&void 0!==i.renderEngine||(n=new JQX.Utilities.HTML5Renderer(this)),n.init(t),i.renderer=n,n}getByPriority(e){let t=void 0;for(let i=0;i<e.length;i++){const n=e[i];if(null!=n&&""!==n){t=n;break}}return t}get(e,t,i){return void 0!==i?e[t][i]:e[t]}min(e,t){let i=NaN;for(let n=0;n<e.length;n++){const r=this.get(e,n,t);(isNaN(i)||r<i)&&(i=r)}return i}max(e,t){let i=NaN;for(let n=0;n<e.length;n++){const r=this.get(e,n,t);(isNaN(i)||r>i)&&(i=r)}return i}sum(e,t){let i=0;for(let n=0;n<e.length;n++){const r=this.get(e,n,t);isNaN(r)||(i+=r)}return i}count(e,t){let i=0;for(let n=0;n<e.length;n++){const r=this.get(e,n,t);isNaN(r)||i++}return i}avg(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}filter(e,t){if(!t)return e;const i=[];for(let n=0;n<e.length;n++)t(e[n])&&i.push(e[n]);return i}scale(e,t,i,n){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!n||!0!==n.ignore_range))return NaN;let r=NaN,a=1;if(void 0===t.type||"logarithmic"!==t.type){let i=Math.abs(t.max-t.min);i||(i=1),a=Math.abs(e-Math.min(t.min,t.max))/i}else if("logarithmic"===t.type){let i=t.base;isNaN(i)&&(i=10);let n=Math.min(t.min,t.max);n<=0&&(n=1);let r=Math.max(t.min,t.max);r<=0&&(r=1);const s=this.log(r,i);r=Math.pow(i,s);const o=this.log(n,i);n=Math.pow(i,o);const l=this.log(e,i);a=Math.abs(l-o)/(s-o)}if("logarithmic"===i.type){let e=i.base;isNaN(e)&&(e=10);const t=this.log(i.max,e),n=this.log(i.min,e);i.flip&&(a=1-a);const s=Math.min(n,t)+a*Math.abs(t-n);r=Math.pow(e,s)}else r=Math.min(i.min,i.max)+a*Math.abs(i.max-i.min),i.flip&&(r=Math.max(i.min,i.max)-r+i.min);return r}axis(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);let n=0;for(;Math.round(e)!==e&&Math.round(t)!==t&&n<10;)e*=10,t*=10,n++;let r=(t-e)/i;for(;n<10&&Math.round(r)!==r;)e*=10,t*=10,r*=10,n++;const a=[1,2,5];let s,o=0;for(;;){let e=o%a.length,t=Math.floor(o/a.length),i=Math.pow(10,t)*a[e];if(e=(o+1)%a.length,t=Math.floor((o+1)/a.length),s=Math.pow(10,t)*a[e],r>=i&&r<s)break;o++}const l=s,d=[];let h=this.renderer._rnd(e,l,!1);const c=n<=0?1:Math.pow(10,n);for(;h<t+l;)d.push(h/c),h+=l;return d}_widgetToImage(e,t,i,n,r){let a=e;if(!a)return!1;void 0!==i&&""!==i||(i="image."+t);let s=a.renderEngine,o=a.animation;if(a.animation="none",a.renderEngine="HTML5",a.renderEngine!==s)try{a.refresh()}catch(e){return a.renderEngine=s,a.refresh(),a.animation=o,!1}let l=a.renderer.getContainer().firstElementChild,d=!0;"function"==typeof n&&(d=n(e,l));let h=!0;return d&&(h=this.exportImage(e,l,t,i,r)),a.renderEngine!==s&&(a.renderEngine=s,a.refresh(),a.animation=o),h}_saveAsImage(e,t){return this._widgetToImage(this,e,t)}saveAsPNG(e){return this._saveAsImage("png",e)}saveAsJPEG(e){return this._saveAsImage("jpeg",e)}exportImage(e,t,i,n,r){if(!t)return!1;let a="pdf"===i.toLowerCase();a&&(i="jpeg"),void 0!==n&&""!==n||(n="image."+i);let s=!0;if("print"!==i){try{if(t)if(a){r=r||"portrait";const a={content:{image:t.toDataURL("image/"+i),width:Math.min(t.width/1.35,"portrait"===r?515:762)},pageOrientation:r};try{pdfMake.createPdf(a).download(n)}catch(t){e.error(e.localize("missingReference",{files:"pdfmake.min.js"}))}}else{JQX.Utilities.DataExporter||e.error(e.localize("missingReference",{files:"jqxexport.js"}));const r=new JQX.Utilities.DataExporter;t.toBlob(function(e){r.downloadFile(e,i,n)})}}catch(e){s=!1}return s}{const e=window.open("","","width=800,height=500"),i=e.document.open(),n='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>jQWidgets Chart</title></head><body><img src="'+t.toDataURL()+'" /></html>';try{i.write(n),i.close(),setTimeout(function(){e.print(),e.close()},100)}catch(e){}}}}),JQX.Utilities.Assign("Renderer",class{constructor(e){this.draw=e,this._gradients={},this._toRadiansCoefficient=2*Math.PI/360}pieSlicePath(e,t,i,n,r,a,s){n||(n=1);const o=Math.abs(r-a),l=o>180?1:0;o>=360&&(a=r+359.99);const d=r*this._toRadiansCoefficient,h=a*this._toRadiansCoefficient;let c=e,u=e,p=t,m=t;const f=!isNaN(i)&&i>0;f&&(s=0);const g=Math.cos(d),v=Math.sin(d),b=Math.cos(h),y=Math.sin(h);if(s+i>0){if(s>0){const i=(o/2+r)*this._toRadiansCoefficient;e+=s*Math.cos(i),t-=s*Math.sin(i)}f&&(c=e+i*g,p=t-i*v,u=e+i*b,m=t-i*y)}const _=e+n*g,w=e+n*b,x=t-n*v,C=t-n*y;let S="";const T=Math.abs(Math.abs(a-r)-360)>.02;return f?(S="M "+u+","+m,S+=" a"+i+","+i,S+=" 0 "+l+",1 "+(c-u)+","+(p-m),S+=T?" L"+_+","+x:" M"+_+","+x,S+=" a"+n+","+n,S+=" 0 "+l+",0 "+(w-_)+","+(C-x),T&&(S+=" Z")):(S="M "+w+","+C,S+=" a"+n+","+n,S+=" 0 "+l+",1 "+(_-w)+","+(x-C),T&&(S+=" L"+e+","+t,S+=" Z")),S}measureText(e,t,i,n){const r=this._getTextParts(e,t,i),a=r.width;let s=r.height;!1===n&&(s/=.6);let o={};if(isNaN(t)&&(t=0),0===t)o={width:this._rup(a),height:this._rup(s)};else{const e=t*Math.PI*2/360,i=Math.abs(Math.sin(e)),n=Math.abs(Math.cos(e)),r=Math.abs(a*i+s*n),l=Math.abs(a*n+s*i);o={width:this._rup(l),height:this._rup(r)}}return n&&(o.textPartsInfo=r),o}alignTextInRect(e,t,i,n,r,a,s,o,l,d){const h=l*Math.PI*2/360,c=Math.sin(h),u=Math.cos(h),p=r*c,m=r*u;"center"===s||""===s||"undefined"===s?e+=i/2:"right"===s&&(e+=i),"center"===o||"middle"===o||""===o||"undefined"===o?t+=n/2:"bottom"===o?t+=n-a/2:"top"===o&&(t+=a/2);let f="middle";-1!==(d=d||"").indexOf("top")?f="top":-1!==d.indexOf("bottom")&&(f="bottom");let g="center";return-1!==d.indexOf("left")?g="left":-1!==d.indexOf("right")&&(g="right"),"center"===g?(e-=m/2,t-=p/2):"right"===g&&(e-=m,t-=p),"top"===f?(e-=a*c,t+=a*u):"middle"===f&&(e-=a*c/2,t+=a*u/2),{x:e=this._rup(e),y:t=this._rup(t)}}adjustColor(e,t){if("string"!=typeof e)return"#000000";if(-1===e.indexOf("#"))return e;const i=this.draw;let n=i.cssToRgb(e);const r=i.rgbToHsl(n);r[2]=Math.min(1,r[2]*t),r[1]=Math.min(1,r[1]*t*1.1),n=i.hslToRgb(r),e="#";for(let t=0;t<3;t++){let r=Math.round(n[t]);1===(r=i.decToHex(r)).toString().length&&(e+="0"),e+=r}return e.toUpperCase()}_rup(e){let t=Math.round(e);return e>t&&t++,t}_ptdist(e,t,i,n){return Math.sqrt((i-e)*(i-e)+(n-t)*(n-t))}_rnd(e,t,i,n){if(isNaN(e))return e;void 0===n&&(n=!0);let r=e-(!0===n?e%t:this._mod(e,t));return e===r?r:(i?e>r&&(r+=t):r>e&&(r-=t),1===t?Math.round(r):r)}_ptrnd(e){if(!document.createElementNS)return Math.round(e)===e?e:this._rnd(e,1,!1,!0);const t=this._rnd(e,.5,!1,!0);return.5!==Math.abs(t-Math.round(t))?t>e?t-.5:t+.5:t}_getContrastColor(e){if(void 0===e)return;let t=this.draw.hexToRgb(e.slice(1,3),e.slice(3,5),e.slice(5,7));return(.299*t[0]+.587*t[1]+.114*t[2])/255>.6?"#000000":"#FFFFFF"}}),JQX.Utilities.Assign("SvgRenderer",class extends JQX.Utilities.Renderer{constructor(e){super(e);this._svgns="http://www.w3.org/2000/svg",this._openGroups=[],this._clipId=0}init(e){const t=document.createElement("div");t.className="drawContainer",t.onselectstart=function(){return!1},e.appendChild(t),this.host=e,this.container=t;try{const e=document.createElementNS(this._svgns,"svg");e.setAttribute("version","1.1"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("overflow","hidden"),t.appendChild(e),this.canvas=e}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),!0}getType(){return"SVG"}refresh(){}getRect(){return{x:0,y:0,width:Math.max(this._rup(this.host.offsetWidth)-1,0),height:Math.max(this._rup(this.host.offsetHeight)-1,0)}}getContainer(){return this.container}clear(){for(;this.canvas.childNodes.length>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)}removeElement(e){if(void 0!==e)try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}beginGroup(){const e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t}endGroup(){0!==this._openGroups.length&&this._openGroups.pop()}_activeParent(){return 0===this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]}createClipRect(e){const t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t}getWindowHref(){let e=window.location.href;return e?e=(e=e.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):e}setClip(e,t){const i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})}addHandler(e,t,i){e.addEventListener(t,i)}removeHandler(){}on(e,t,i){this.addHandler(e,t,i)}off(e,t,i){this.removeHandler(e,t,i)}shape(e,t){const i=document.createElementNS(this._svgns,e);if(i){for(let e in t)i.setAttribute(e,t[e]);return this._activeParent().appendChild(i),i}}_getTextParts(e,t,i){const n={width:0,height:0,parts:[]};if(void 0===e)return n;const r=e.toString().split("<br>"),a=this._activeParent(),s=document.createElementNS(this._svgns,"text");this.attr(s,i);for(let e=0;e<r.length;e++){const t=r[e],i=s.ownerDocument.createTextNode(t);let o;s.appendChild(i),a.appendChild(s);try{o=s.getBBox()}catch(e){}const l=this._rup(o.width),d=this._rup(.6*o.height);s.removeChild(i),n.width=Math.max(n.width,l),n.height+=d+(e>0?4:0),n.parts.push({width:l,height:d,text:t})}return a.removeChild(s),n}_measureText(e,t,i,n){return super.measureText(e,t,i,n)}measureText(e,t,i){return this._measureText(e,t,i,!1)}text(e,t,i,n,r,a,s,o,l,d,h){const c=this._measureText(e,a,s,!0,this).textPartsInfo,u=c.parts,p=this._getContrastColor(arguments[11]);let m;if(l||(l="center"),d||(d="center"),(u.length>1||o)&&(m=this.beginGroup()),o){const e=this.createClipRect({x:this._rup(t)-1,y:this._rup(i)-1,width:this._rup(n)+2,height:this._rup(r)+2});this.setClip(m,e)}let f=this._activeParent(),g=0,v=0;g=c.width,v=c.height,(isNaN(n)||n<=0)&&(n=g),(isNaN(r)||r<=0)&&(r=v);const b=n||0,y=r||0;let _=0;if(!a||0===a){let e;i+=v,"center"===d||"middle"===d?i+=(y-v)/2:"bottom"===d&&(i+=y-v),n||(n=g),r||(r=v),f=this._activeParent();for(let n=u.length-1;n>=0;n--){e=document.createElementNS(this._svgns,"text"),this.attr(e,s),this.attr(e,{cursor:"default"});const r=e.ownerDocument.createTextNode(u[n].text);e.appendChild(r);let a=t;const o=u[n].width,d=u[n].height;"center"===l?a+=(b-o)/2:"right"===l&&(a+=b-o),this.attr(e,{x:this._rup(a),y:this._rup(i+_),width:this._rup(o),height:this._rup(d)}),void 0!==p&&(e.style.fill=p),f.appendChild(e),_-=u[n].height+4}return m?(this.endGroup(),m):e}const w=this.alignTextInRect(t,i,n,r,g,v,l,d,a,h);t=w.x,i=w.y;const x=this.shape("g",{transform:"translate("+t+","+i+")"}),C=this.shape("g",{transform:"rotate("+a+")"});x.appendChild(C),_=0;for(let e=u.length-1;e>=0;e--){const t=document.createElementNS(this._svgns,"text");this.attr(t,s),this.attr(t,{cursor:"default"});const i=t.ownerDocument.createTextNode(u[e].text);t.appendChild(i);let n=0;const r=u[e].width,a=u[e].height;"center"===l?n+=(c.width-r)/2:"right"===l&&(n+=c.width-r),this.attr(t,{x:this._rup(n),y:this._rup(_),width:this._rup(r),height:this._rup(a)}),C.appendChild(t),_-=a+4}return f.appendChild(x),m&&this.endGroup(),x}line(e,t,i,n,r){const a=this.shape("line",{x1:e,y1:t,x2:i,y2:n});return this.attr(a,r),a}path(e,t){const i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i}rect(e,t,i,n,r){e=this._ptrnd(e),t=this._ptrnd(t),i=Math.max(1,this._rnd(i,1,!1)),n=Math.max(1,this._rnd(n,1,!1));const a=this.shape("rect",{x:e,y:t,width:i,height:n});return r&&this.attr(a,r),a}circle(e,t,i,n){const r=this.shape("circle",{cx:e,cy:t,r:i});return n&&this.attr(r,n),r}pieslice(e,t,i,n,r,a,s,o){const l=this.pieSlicePath(e,t,i,n,r,a,s),d=this.shape("path");return d.setAttribute("d",l),o&&this.attr(d,o),d}attr(e,t){if(e&&t)for(let i in t)"textContent"===i?e.textContent=t[i]:e.setAttribute(i,t[i])}removeAttr(e,t){if(e&&t)for(let i in t)"textContent"===i?e.textContent="":e.removeAttribute(t[i])}getAttr(e,t){return e.getAttribute(t)}_toLinearGradient(e,t,i){const n="grd"+this._id+e.replace("#","")+(t?"v":"h"),r="url("+this.getWindowHref()+"#"+n+")";if(this._gradients[r])return r;const a=document.createElementNS(this._svgns,"linearGradient");this.attr(a,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:n});for(let t=0;t<i.length;t++){const n=i[t],r=document.createElementNS(this._svgns,"stop"),s="stop-color:"+this.adjustColor(e,n[1]);this.attr(r,{offset:n[0]+"%",style:s}),a.appendChild(r)}return this._defs.appendChild(a),this._gradients[r]=!0,r}_toRadialGradient(e,t,i){const n="grd"+this._id+e.replace("#","")+"r"+(void 0!==i?i.key:""),r="url("+this.getWindowHref()+"#"+n+")";if(this._gradients[r])return r;const a=document.createElementNS(this._svgns,"radialGradient");void 0===i?this.attr(a,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:n}):this.attr(a,{cx:i.x,cy:i.y,r:i.outerRadius,id:n,gradientUnits:"userSpaceOnUse"});for(let i=0;i<t.length;i++){const n=t[i],r=document.createElementNS(this._svgns,"stop"),s="stop-color:"+this.adjustColor(e,n[1]);this.attr(r,{offset:n[0]+"%",style:s}),a.appendChild(r)}return this._defs.appendChild(a),this._gradients[r]=!0,r}}),JQX.Utilities.Assign("HTML5Renderer",class extends JQX.Utilities.Renderer{constructor(e){super(e);this._renderers=new JQX.Utilities.HTML5RenderHelpers(this)}init(e){try{this.host=e;const t=document.createElement("div"),i=document.createElement("canvas");t.className="chartContainer",t.style.position="relative",t.onselectstart=function(){return!1},i.id="__jqxCanvasWrap",i.style.width="100%",i.style.height="100%",t.appendChild(i),e.appendChild(t),this.canvas=i,i.width=e.offsetWidth,i.height=e.offsetHeight,this.ctx=i.getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0}getType(){return"HTML5"}getContainer(){return this.host.getElementsByClassName("chartContainer")[0]}getRect(){return{x:0,y:0,width:this.canvas.width-1,height:this.canvas.height-1}}beginGroup(){}endGroup(){}setClip(){}createClipRect(){}addHandler(){}removeHandler(){}on(e,t,i){this.addHandler(e,t,i)}off(e,t,i){this.removeHandler(e,t,i)}clear(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0}removeElement(e){void 0!==e&&this._elements[e.id]&&delete this._elements[e.id]}shape(e,t){let i={type:e,id:this._maxId++};for(let e in t)i[e]=t[e];return this._elements[i.id]=i,i}attr(e,t){for(let i in t)e[i]=t[i]}removeAttr(e,t){for(let i in t)delete e[t[i]]}rect(e,t,i,n,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(n))throw'Invalid value for "height"';let a=this.shape("rect",{x:e,y:t,width:i,height:n});return r&&this.attr(a,r),a}path(e,t){let i=this.shape("path",t);return this.attr(i,{d:e}),i}line(e,t,i,n,r){return this.path("M "+e+","+t+" L "+i+","+n,r)}circle(e,t,i,n){let r=this.shape("circle",{x:e,y:t,r:i});return n&&this.attr(r,n),r}pieslice(e,t,i,n,r,a,s,o){let l=this.path(this.pieSlicePath(e,t,i,n,r,a,s),o);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:n,angleFrom:r,angleTo:a}),l}_getCSSStyle(e){const t=document.createElement("div");t.className=e,t.style.position="absolute",t.style.visibility="hidden",this.host.appendChild(t);let i=window.getComputedStyle(t);return i={color:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight},this.host.removeChild(t),i}_getTextParts(e,t,i){let n="Arial",r="10pt",a="";if(i&&i.class){let e=this._getCSSStyle(i.class);e.fontSize&&(r=e.fontSize),e.fontFamily&&(n=e.fontFamily),e.fontWeight&&(a=e.fontWeight)}this.ctx.font=a+" "+r+" "+n;let s={width:0,height:0,parts:[]},o=e.toString().split("<br>");for(let e=0;e<o.length;e++){let t=o[e],i=this.ctx.measureText(t).width,n=document.createElement("span");n.className="jqxchart",n.font=this.ctx.font,n.textContent=t,this.host.appendChild(n);let r=.6*n.offsetHeight;this.host.removeChild(n),s.width=Math.max(s.width,this._rup(i)),s.height+=r+(e>0?4:0),s.parts.push({width:i,height:r,text:t})}return s}_measureText(e,t,i,n){return super.measureText(e,t,i,n)}measureText(e,t,i){return this._measureText(e,t,i,!1)}text(e,t,i,n,r,a,s,o,l,d,h){let c=this.shape("text",{text:e,x:t,y:i,width:n,height:r,angle:a,clip:o,halign:l,valign:d,rotateAround:h});if(s&&this.attr(c,s),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color=this._getContrastColor(arguments[11]),s&&s.class){let e=this._getCSSStyle(s.class);c.fontFamily=e.fontFamily||c.fontFamily,c.fontSize=e.fontSize||c.fontSize,c.fontWeight=e.fontWeight||c.fontWeight,c.color=c.color||e.color}c.color=c.color||"#000000";let u=this._measureText(e,0,s,!0);return this.attr(c,{textPartsInfo:u.textPartsInfo,textWidth:u.width,textHeight:u.height}),(n<=0||isNaN(n))&&this.attr(c,{width:u.width}),(r<=0||isNaN(r))&&this.attr(c,{height:u.height}),c}_toLinearGradient(e,t,i){if(this._renderers._gradients[e])return e;let n=[];for(let t=0;t<i.length;t++)n.push({percent:i[t][0]/100,color:this.adjustColor(e,i[t][1])});let r="gr"+this._gradientId++;return this.createGradient(r,t?"vertical":"horizontal",n),r}_toRadialGradient(e,t){if(this._renderers._gradients[e])return e;let i=[];for(let n=0;n<t.length;n++)i.push({percent:t[n][0]/100,color:this.adjustColor(e,t[n][1])});let n="gr"+this._gradientId++;return this.createGradient(n,"radial",i),n}createGradient(e,t,i){this._renderers.createGradient(this,e,t,i)}refresh(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e in this._elements){let t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}}),JQX.Utilities.Assign("HTML5RenderHelpers",class{constructor(e){this.HTML5Renderer=e,this._cmds="mlcazq"}ptrnd(e){if(.5===Math.abs(Math.round(e)-e))return e;let t=Math.round(e);return t<e&&(t-=1),t+.5}createGradient(e,t,i,n){e._gradients[t]={orientation:i,colorStops:n}}setStroke(e,t){let i=e.ctx,n=t["stroke-width"];i.strokeStyle=t.stroke||"transparent",i.lineWidth=0===n?.01:void 0!==n?n:1,void 0!==t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))}setFillStyle(e,t){let i=e.ctx;if(i.fillStyle="transparent",void 0!==t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1===t.fill.indexOf("#")&&e._gradients[t.fill]){let n,r="horizontal"!==e._gradients[t.fill].orientation,a="radial"===e._gradients[t.fill].orientation,s=this.ptrnd(t.x),o=this.ptrnd(t.y),l=this.ptrnd(t.x+(r?0:t.width)),d=this.ptrnd(t.y+(r?t.height:0));if(("circle"===t.type||"path"===t.type||"rect"===t.type)&&a){let e=this.ptrnd(t.x),r=this.ptrnd(t.y);const a=t.innerRadius||0,s=t.outerRadius||t.r||0;"rect"===t.type&&(e+=t.width/2,r+=t.height/2),n=i.createRadialGradient(e,r,a,e,r,s)}a||((isNaN(s)||isNaN(l)||isNaN(o)||isNaN(d))&&(s=0,o=0,l=r?0:i.canvas.width,d=r?i.canvas.height:0),n=i.createLinearGradient(s,o,l,d));let h=e._gradients[t.fill].colorStops;for(let e=0;e<h.length;e++)n.addColorStop(h[e].percent,h[e].color);i.fillStyle=n}else t.fill&&(i.fillStyle=t.fill)}rect(e,t){0!==t.width&&0!==t.height&&(e.fillRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height),e.strokeRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height))}circle(e,t){0!==t.r&&(e.beginPath(),e.arc(this.ptrnd(t.x),this.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())}_parsePoint(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}}_parseNumber(e){let t,i=!1;for(t=this._pos;t<e.length;t++)if(e[t]>="0"&&e[t]<="9"||"."===e[t]||"e"===e[t]||"-"===e[t]&&!i||"-"===e[t]&&t>=1&&"e"===e[t-1])i=!0;else{if(i||" "!==e[t]&&","!==e[t])break;this._pos++}let n=parseFloat(e.substring(this._pos,t));if(!isNaN(n))return this._pos=t,n}_isRelativeCmd(e){return-1!==this._cmds.indexOf(e)}_parseCmd(e){for(let t=this._pos;t<e.length;t++){if(-1!==this._cmds.toLowerCase().indexOf(e[t].toLowerCase()))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "!==e[t]){if(e[t]>="0"&&e[t]<="9"){if(this._pos=t,""===this._lastCmd)break;return this._lastCmd}}else this._pos++}}_toAbsolutePoint(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}}path(e,t){let i=t.d;this._pos=0,this._lastCmd="";let n=void 0;for(this._currentPoint={x:0,y:0},e.beginPath();this._pos<i.length;){let t=this._parseCmd(i);if(void 0===t)break;if("M"!==t&&"m"!==t)if("L"!==t&&"l"!==t)if("A"!==t&&"a"!==t)if("Z"!==t&&"z"!==t||void 0===n)if("C"!==t&&"c"!==t)if("Q"!==t&&"q"!==t);else{let t=this._parsePoint(i),n=this._parsePoint(i);e.quadraticCurveTo(t.x,t.y,n.x,n.y),this._currentPoint=n}else{let t=this._parsePoint(i),n=this._parsePoint(i),r=this._parsePoint(i);e.bezierCurveTo(t.x,t.y,n.x,n.y,r.x,r.y),this._currentPoint=r}else e.lineTo(n.x,n.y),this._currentPoint=n;else{let n=this._parseNumber(i),r=this._parseNumber(i),a=this._parseNumber(i)*(Math.PI/180),s=this._parseNumber(i),o=this._parseNumber(i),l=this._parsePoint(i);if(this._isRelativeCmd(t)&&(l=this._toAbsolutePoint(l)),0===n||0===r)continue;let d=this._currentPoint,h={x:Math.cos(a)*(d.x-l.x)/2+Math.sin(a)*(d.y-l.y)/2,y:-Math.sin(a)*(d.x-l.x)/2+Math.cos(a)*(d.y-l.y)/2},c=Math.pow(h.x,2)/Math.pow(n,2)+Math.pow(h.y,2)/Math.pow(r,2);c>1&&(n*=Math.sqrt(c),r*=Math.sqrt(c));let u=(s===o?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(h.y,2)-Math.pow(r,2)*Math.pow(h.x,2))/(Math.pow(n,2)*Math.pow(h.y,2)+Math.pow(r,2)*Math.pow(h.x,2)));isNaN(u)&&(u=0);let p={x:u*n*h.y/r,y:u*-r*h.x/n},m={x:(d.x+l.x)/2+Math.cos(a)*p.x-Math.sin(a)*p.y,y:(d.y+l.y)/2+Math.sin(a)*p.x+Math.cos(a)*p.y},f=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},g=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(f(e)*f(t))},v=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(g(e,t))},b=v([1,0],[(h.x-p.x)/n,(h.y-p.y)/r]),y=[(h.x-p.x)/n,(h.y-p.y)/r],_=[(-h.x-p.x)/n,(-h.y-p.y)/r],w=v(y,_);g(y,_)<=-1&&(w=Math.PI),g(y,_)>=1&&(w=0),0===o&&w>0&&(w-=2*Math.PI),1===o&&w<0&&(w+=2*Math.PI);let x=n>r?n:r,C=n>r?1:n/r,S=n>r?r/n:1;e.translate(m.x,m.y),e.rotate(a),e.scale(C,S),e.arc(0,0,x,b,b+w,1-o),e.scale(1/C,1/S),e.rotate(-a),e.translate(-m.x,-m.y)}else{let t=this._parsePoint(i);if(void 0===t)break;e.lineTo(t.x,t.y),this._currentPoint=t}else{let t=this._parsePoint(i);if(void 0===t)break;e.moveTo(t.x,t.y),this._currentPoint=t,void 0===n&&(n=t)}}e.fill(),e.stroke(),e.closePath()}text(e,t){let i=this.ptrnd(t.x),n=this.ptrnd(t.y),r=this.ptrnd(t.width),a=this.ptrnd(t.height),s=t.halign,o=t.valign,l=t.angle,d=t.rotateAround,h=t.textPartsInfo,c=h.parts,u=t.clip;void 0===u&&(u=!0),e.save(),s||(s="center"),o||(o="center"),u&&(e.rect(i,n,r,a),e.clip());let p=t.textWidth,m=t.textHeight,f=r||0,g=a||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,!l||0===l){n+=m,"center"===o||"middle"===o?n+=(g-m)/2:"bottom"===o&&(n+=g-m),r||(r=p),a||(a=m);let t=0;for(let r=c.length-1;r>=0;r--){let a=c[r],o=i,l=c[r].width;"center"===s?o+=(f-l)/2:"right"===s&&(o+=f-l),e.fillText(a.text,o,n+t),t-=a.height+(r>0?4:0)}return void e.restore()}let v=this.HTML5Renderer.alignTextInRect(i,n,r,a,p,m,s,o,l,d);i=v.x,n=v.y;let b=l*Math.PI*2/360;e.translate(i,n),e.rotate(b);let y=0,_=h.width;for(let t=c.length-1;t>=0;t--){let i=0;"center"===s?i+=(_-c[t].width)/2:"right"===s&&(i+=_-c[t].width),e.fillText(c[t].text,i,y),y-=c[t].height+4}e.restore()}}),JQX.Utilities.Assign("Plot",class{constructor(e){this.renderer=e}get(e,t,i){return void 0!==i?e[t][i]:e[t]}min(e,t){let i=NaN;for(let n=0;n<e.length;n++){let r=this.get(e,n,t);(isNaN(i)||r<i)&&(i=r)}return i}max(e,t){let i=NaN;for(let n=0;n<e.length;n++){let r=this.get(e,n,t);(isNaN(i)||r>i)&&(i=r)}return i}sum(e,t){let i=0;for(let n=0;n<e.length;n++){let r=this.get(e,n,t);isNaN(r)||(i+=r)}return i}count(e,t){let i=0;for(let n=0;n<e.length;n++){let r=this.get(e,n,t);isNaN(r)||i++}return i}avg(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}filter(e,t){if(!t)return e;let i=[];for(let n=0;n<e.length;n++)t(e[n])&&i.push(e[n]);return i}scale(e,t,i,n){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!n||!0!==n.ignore_range))return NaN;let r=NaN,a=1;if(void 0===t.type||"logarithmic"!==t.type){let i=Math.abs(t.max-t.min);i||(i=1),a=Math.abs(e-Math.min(t.min,t.max))/i}else if("logarithmic"===t.type){let i=t.base;isNaN(i)&&(i=10);let n=Math.min(t.min,t.max);n<=0&&(n=1);let r=Math.max(t.min,t.max);r<=0&&(r=1);let s=Math.log(r)/Math.log(i);r=Math.pow(i,s);let o=Math.log(n)/Math.log(i);n=Math.pow(i,o);let l=Math.log(e)/Math.log(i);a=Math.abs(l-o)/(s-o)}if("logarithmic"===i.type){let e=i.base;isNaN(e)&&(e=10);let t=Math.log(i.max)/Math.log(e),n=Math.log(i.min)/Math.log(e);i.flip&&(a=1-a);let s=Math.min(n,t)+a*Math.abs(t-n);r=Math.pow(e,s)}else r=Math.min(i.min,i.max)+a*Math.abs(i.max-i.min),i.flip&&(r=Math.max(i.min,i.max)-r+i.min);return r}axis(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);let n=0;for(;Math.round(e)!==e&&Math.round(t)!==t&&n<10;)e*=10,t*=10,n++;let r=(t-e)/i;for(;n<10&&Math.round(r)!==r;)e*=10,t*=10,r*=10,n++;let a,s=[1,2,5],o=0;for(;;){let e=o%s.length,t=Math.floor(o/s.length),i=Math.pow(10,t)*s[e];if(e=(o+1)%s.length,t=Math.floor((o+1)/s.length),a=Math.pow(10,t)*s[e],r>=i&&r<a)break;o++}let l=a,d=[],h=this.renderer._rnd(e,l,!1),c=n<=0?1:Math.pow(10,n);for(;h<t+l;)d.push(h/c),h+=l;return d}});var H=Object.freeze({});let L;try{BigInt,L=!0}catch(e){L=!1}JQX.Utilities.Assign("BigNumber",class{constructor(e,t,i){var n,r=this;if(JQX.Utilities.BigNumber.bigIntSupport){if(e instanceof JQX.Utilities.BigNumber){if(!Array.isArray(e._d))return new JQX.Utilities.BigNumber(e._d);e=(e._s?"-":"")+(e._d.slice(0,e._f).join("")||"0")+(e._f!=e._d.length?"."+e._d.slice(e._f).join(""):"")}try{null===e?r._d=BigInt(0):"string"==typeof e&&-1!==e.toLowerCase().indexOf("e")?r._d=BigInt(parseFloat(e)):r._d=BigInt(e)}catch(t){try{const t=e.toString().split(".");let i=BigInt(t[0]),n=parseInt(t[1].charAt(0));if(i>0&&n>=5)i+=BigInt(1);else if(i<0)if(n>5)i-=BigInt(1);else if(5===n){let e=1,n=t[1].charAt(e),r=!1;for(;""!==n;)if(e++,"0"!==(n=t[1].charAt(e))){r=!0;break}r&&(i-=BigInt(1))}r._d=i}catch(e){r._d=BigInt(0)}}return r._f=r._d.toString().replace("-","").length,void(r._s=r._d<0)}if(e instanceof JQX.Utilities.BigNumber){if("bigint"==typeof e._d)return new JQX.Utilities.BigNumber(e._d.toString());for(n in{precision:0,roundType:0,_s:0,_f:0})r[n]=e[n];return r._d=e._d.slice(),void(e._s&&1===e._d.length&&0===e._d[0]&&(r._s=!1))}if(void 0!==e&&("-0"===e&&(e="0"),new RegExp(/e/i).test(e))){var a=e.toString().toLowerCase(),s=a.indexOf("e"),o=new JQX.Utilities.BigNumber(a.slice(0,s)),l=a.slice(s+2),d=a.slice(s+1,s+2),h=new JQX.Utilities.BigNumber(10).pow(d+l);e=o.multiply(h).toString()}for(r.precision=isNaN(t=Math.abs(t))?JQX.Utilities.BigNumber.defaultPrecision:t,r.roundType=isNaN(i=Math.abs(i))?JQX.Utilities.BigNumber.defaultRoundType:i,r._s="-"==(e+="").charAt(0),r._f=((e=e.replace(/[^\d.]/g,"").split(".",2))[0]=e[0].replace(/^0+/,"")||"0").length,n=(e=r._d=(e.join("")||"0").split("")).length;n;e[--n]=+e[n]);r.round()}static get defaultPrecision(){return 40}static get defaultRoundType(){return 4}static get bigIntSupport(){return L&&!0!==JQX.Utilities.BigNumber.ignoreBigIntNativeSupport}add(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d+new JQX.Utilities.BigNumber(e)._d);let t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===JQX.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new JQX.Utilities.BigNumber(t);if(t._s!=(e=new JQX.Utilities.BigNumber(e))._s)return e._s^=1,t.subtract(e);var i,n,r=new JQX.Utilities.BigNumber(t),a=r._d,s=e._d,o=r._f,l=e._f;for(e=Math.max(o,l),o!=l&&((l=o-l)>0?r._zeroes(s,l,1):r._zeroes(a,-l,1)),i=(o=a.length)==(l=s.length)?a.length:((l=o-l)>0?r._zeroes(s,l):r._zeroes(a,-l)).length,n=0;i;n=(a[--i]=a[i]+s[i]+n)/10>>>0,a[i]%=10);return n&&++e&&a.unshift(n),r._f=e,r.round()}subtract(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d-new JQX.Utilities.BigNumber(e)._d);let t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===JQX.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new JQX.Utilities.BigNumber(t);if(t._s!=(e=new JQX.Utilities.BigNumber(e))._s)return e._s^=1,t.add(e);var i,n,r=new JQX.Utilities.BigNumber(t),a=r.abs().compare(e.abs())+1,s=a?r:e,o=a?e:r,l=s._f,d=o._f,h=l;for(s=s._d,o=o._d,l!=d&&((d=l-d)>0?r._zeroes(o,d,1):r._zeroes(s,-d,1)),i=(l=s.length)==(d=o.length)?s.length:((d=l-d)>0?r._zeroes(o,d):r._zeroes(s,-d)).length;i;){if(s[--i]<o[i]){for(n=i;n&&!s[--n];s[n]=9);--s[n],s[i]+=10}o[i]=s[i]-o[i]}return a||(r._s^=1),r._f=h,r._d=o,r.round()}multiply(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d*new JQX.Utilities.BigNumber(e)._d);let t=this.normalizeOperand(this);e=t.normalizeOperand(e);var i,n,r,a=new JQX.Utilities.BigNumber(t),s=a._d.length>=(e=new JQX.Utilities.BigNumber(e))._d.length,o=(s?a:e)._d,l=(s?e:a)._d,d=o.length,h=l.length,c=new JQX.Utilities.BigNumber;for(i=h;i;s&&r.unshift(s),c.set(c.add(new JQX.Utilities.BigNumber(r.join("")))))for(r=new Array(h- --i).join("0").split(""),s=0,n=d;n;s+=o[--n]*l[i],r.unshift(s%10),s=s/10>>>0);return a._s=a._s!=e._s,a._f=((s=d+h-a._f-e._f)>=(n=(a._d=c._d).length)?t._zeroes(a._d,s-n+1,1).length:n)-s,a.round()}divide(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d/new JQX.Utilities.BigNumber(e)._d);let t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),"0"==(e=new JQX.Utilities.BigNumber(e)))throw new Error("Division by 0");if("0"==t)return new JQX.Utilities.BigNumber;var i,n,r,a=new JQX.Utilities.BigNumber(t),s=a._d,o=e._d,l=s.length-a._f,d=o.length-e._f,h=new JQX.Utilities.BigNumber,c=0,u=1,p=0,m=0;for(h._s=a._s!=e._s,h.precision=Math.max(a.precision,e.precision),h._f=+h._d.pop(),l!=d&&a._zeroes(l>d?o:s,Math.abs(l-d)),e._f=o.length,(o=e)._s=!1,o=o.round(),e=new JQX.Utilities.BigNumber;"0"==s[0];s.shift());e:do{for(r=p=0,"0"==e&&(e._d=[],e._f=0);c<s.length&&-1==e.compare(o);++c){if(r=c+1==s.length,(!u&&++p>1||(m=r&&"0"==e&&"0"==s[c]))&&(h._f==h._d.length&&++h._f,h._d.push(0)),"0"==s[c]&&"0"==e||(e._d.push(s[c]),++e._f),m)break e;if(r&&-1==e.compare(o)&&(h._f==h._d.length&&++h._f,1)||(r=0))for(;h._d.push(0),e._d.push(0),++e._f,-1==e.compare(o););}if(u=0,-1==e.compare(o)&&!(r=0))for(;r?h._d.push(0):r=1,e._d.push(0),++e._f,-1==e.compare(o););var f;for(n=new JQX.Utilities.BigNumber,i=0;e.compare(f=n.add(o))+1&&++i;n.set(f));e.set(e.subtract(n)),!r&&h._f==h._d.length&&++h._f,h._d.push(i)}while((c<s.length||"0"!=e)&&h._d.length-h._f<=h.precision);return h.round()}mod(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d%new JQX.Utilities.BigNumber(e)._d);let t=this.normalizeOperand(this);e=t.normalizeOperand(e);var i=t.subtract(t.divide(e).intPart().multiply(e));return i.isZero()&&i._s&&(i._s=!i._s),i}pow(e){if(JQX.Utilities.BigNumber.bigIntSupport){let t=BigInt(1);for(let i=BigInt(0);i<new JQX.Utilities.BigNumber(e)._d;i+=BigInt(1))t*=this._d;return new JQX.Utilities.BigNumber(t)}let t=this.normalizeOperand(this);e=t.normalizeOperand(e);var i,n=new JQX.Utilities.BigNumber(t);if(0==(e=new JQX.Utilities.BigNumber(e).intPart()))return n.set(1);for(i=Math.abs(e);--i;n.set(n.multiply(t)));return e<0?n.set(new JQX.Utilities.BigNumber(1).divide(n)):n}set(e){return e=new JQX.Utilities.BigNumber(e),this._d=e._d,this._f=e._f,this._s=e._s,this}compare(e){if(JQX.Utilities.BigNumber.bigIntSupport){const t=new JQX.Utilities.BigNumber(e)._d;return this._d===t?0:this._d>t?1:-1}let t=this.normalizeOperand(this);e=t.normalizeOperand(e);var i,n,r,a=t,s=t._f,o=new JQX.Utilities.BigNumber(e),l=o._f,d=[-1,1];if(a.isZero()&&o.isZero())return 0;if(a._s!=o._s)return a._s?-1:1;if(s!=l)return d[s>l^a._s];for(s=(r=a._d).length,l=(o=o._d).length,i=-1,n=Math.min(s,l);++i<n;)if(r[i]!=o[i])return d[r[i]>o[i]^a._s];return s!=l?d[s>l^a._s]:0}negate(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d*BigInt(-1));let e=this.normalizeOperand(this);var t=new JQX.Utilities.BigNumber(e);return t._s^=1,t}abs(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d<0?this._d*BigInt(-1):this._d);let e=this.normalizeOperand(this);var t=new JQX.Utilities.BigNumber(e);return t._s=0,t}intPart(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d);let e=this.normalizeOperand(this);return new JQX.Utilities.BigNumber((e._s?"-":"")+(e._d.slice(0,e._f).join("")||"0"))}valueOf(e,t){return this.normalizeOperand(this).toString(e,t)}toString(e,t,i){function n(e){var t,i,n=new JQX.Utilities.BigNumber(2),a=[];i=void 0===e?r:e;do{t=i.mod(n),a.push(t.toString()),i=i.subtract(t).divide(n).intPart()}while(1===i.compare(new JQX.Utilities.BigNumber(0)));return a.reverse().join("")}let r,a,s;if(JQX.Utilities.BigNumber.bigIntSupport?(r=this,a=Array.isArray(r._d)?(r._s?"-":"")+(r._d.slice(0,r._f).join("")||"0")+(r._f!=r._d.length?"."+r._d.slice(r._f).join(""):""):this._d.toString()):a=((r=this.normalizeOperand(this))._s?"-":"")+(r._d.slice(0,r._f).join("")||"0")+(r._f!=r._d.length?"."+r._d.slice(r._f).join(""):""),void 0===e||10===e)return a;if(r.compare(0)>-1)switch(e){case 2:s=n(),i&&(s=s.padStart(t,"0"));break;case 8:s=function(e){for(var t="";e.length%3!=0;)e="0"+e;for(var i=e.length/3;i>=1;i--){var n=e[3*i-3]+""+e[3*i-2]+e[3*i-1];t=parseInt(n,2).toString(8)+""+t}return t}(n());break;case 16:s=function(e){for(var t="";e.length%4!=0;)e="0"+e;for(var i=e.length/4;i>=1;i--){var n=e[4*i-4]+""+e[4*i-3]+e[4*i-2]+e[4*i-1];t=parseInt(n,2).toString(16)+""+t}return t}(n()).toUpperCase(),i&&(s=s.padStart(t/4,"0"))}else s=function(e,t,i){var n="";for(String.prototype.repeat&&(e="0".repeat(i-e.length)+e);e.length<i;)e="0"+e;for(var r=!0,a="",s=(n=(n=(n=(n=e.replace(/0/g,"a")).replace(/1/g,"b")).replace(/a/g,"1")).replace(/b/g,"0")).length-1;s>=0;s--){var o;"0"===n.charAt(s)?!0===r?(o="1",r=!1):o="0":o=!0===r?"0":"1",a=o+""+a}switch(t){case 2:return a;case 8:var l,d;switch(i){case 8:l=3,d="0";break;case 16:l=6,d="00";break;case 32:l=11,d="0";break;case 64:l=22,d="00"}a=d+a;for(var h="",c=l;c>=1;c--){var u=a[3*c-3]+""+a[3*c-2]+a[3*c-1];h=parseInt(u,2).toString(8)+""+h}return h;case 16:var p;switch(i){case 8:p=2;break;case 16:p=4;break;case 32:p=8;break;case 64:p=16}for(var m="",f=p;f>=1;f--){var g=a[4*f-4]+""+a[4*f-3]+a[4*f-2]+a[4*f-1];m=parseInt(g,2).toString(16)+""+m}return m.toUpperCase()}}(n(r.negate()),e,t);return s}_zeroes(e,t,i){var n=["push","unshift"][i||0];for(++t;--t;e[n](0));return e}round(){if("_rounding"in this)return this;var e,t,i,n,r=JQX.Utilities.BigNumber,a=this.roundType,s=this._d;for(this._rounding=!0;this._f>1&&!s[0];--this._f,s.shift());for(e=this._f,i=s[t=this.precision+e];s.length>e&&!s[s.length-1];s.pop());return n=(this._s?"-":"")+(t-e?"0."+this._zeroes([],t-e-1).join(""):"")+1,s.length>t&&(i&&a!=r.DOWN&&(a==r.UP||(a==r.CEIL?!this._s:a==r.FLOOR?this._s:a==r.HALF_UP?i>=5:a==r.HALF_DOWN?i>5:a==r.HALF_EVEN&&(i>=5&&1&s[t-1])))&&this.add(n),s.splice(t,s.length-t)),delete this._rounding,this}isZero(){return 1===this._d.length&&0===this._d[0]}normalizeOperand(e){return e instanceof JQX.Utilities.BigNumber&&"bigint"==typeof e._d?new JQX.Utilities.BigNumber(e._d.toString()):e}});var z=Object.freeze({});JQX.Utilities.Assign("NumericProcessor",class{constructor(e,t){switch(e[t]){case"integer":return new JQX.Utilities.IntegerNumericProcessor(e,t);case"floatingPoint":return new JQX.Utilities.DecimalNumericProcessor(e,t);case"complex":return new JQX.Utilities.ComplexNumericProcessor(e,t)}}}),JQX.Utilities.Assign("BaseNumericProcessor",class{constructor(e,t){const i=this;i.context=e,i._longestLabelSize=0,i.numericFormatProperty=t,i.regexScientificNotation=new RegExp(/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}$/),i.regexNoLeadingZero=new RegExp(/^(-)?[.]\d+$/),i.regexLeadingZero=new RegExp(/^[+\-]?(0+)[1-9]+|^[+\-]?(0{2,})[.]|^(0{2,})$/),i.prefixesToPowers={Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,c:-2,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24},window.NIComplex?i.complexConstructor=window.NIComplex:i.complexConstructor=JQX.Utilities.Complex}prepareForValidation(e,t,i){const n=this.context,r=e||void 0!==t;if(i=(i=i.toString()).replace(/\s/g,""),i=n._discardDecimalSeparator(i),this.regexLeadingZero.test(i)){const e=this.regexLeadingZero.exec(i);i=e[1]?i.replace(e[1],""):e[2]?i.replace(e[2],"0"):i.replace(e[3],"0")}this.regexNoLeadingZero.test(i)?i="-"===i.charAt(0)?"-0"+i.slice(1):"0"+i:("integer"===n[this.numericFormatProperty]&&(10===n._radixNumber||r)||"floatingPoint"===n[this.numericFormatProperty])&&this.regexScientificNotation.test(i)&&(i=this.scientificToDecimal(i));let a,s=!1;if("complex"===n[this.numericFormatProperty]&&!1===n._regexSpecial.nonNumericValue.test(i))try{if(n._regexSpecial.exaValue.test(i)){const e=i.indexOf("E"),t=parseFloat(i.slice(0,e))*Math.pow(10,18),n=parseFloat(i.slice(e+1,-1));a=new this.complexConstructor(t,n)}else a=new this.complexConstructor(i);s=!0}catch(e){s=!1}if(!1!==s||!(!r&&!1===n._regex[n._radixNumber].test(i)||r&&!1===n._regex[10].test(i)))return{value:i,enteredComplexNumber:a};n._handleNonNumericValue(e,t,i)}isENotation(e){return new RegExp(/e/i).test(e.toString())}scientificToDecimal(e){const t=this.regexScientificNotation.exec(e),i=t[1],n=t[2];return parseFloat(i)*Math.pow(10,this.prefixesToPowers[n])}_createMeasureLabel(){const e=this.context,t=document.createElement("div");return t.className="jqx-label",t.style.position="absolute",t.style.visibility="hidden","far"!==e.scalePosition?e._measureLabelScale=e.$.scaleNear:e._measureLabelScale=e.$.scaleFar,e._measureLabelScale.appendChild(t),t}_addMajorTickAndLabel(e,t,i,n,r){const a=this.context,s=a._settings.leftOrTop,o=this.valueToPx(n);let l="",d="";if(parseInt(o)>parseInt(a._measurements.trackLength))return{tick:l,label:d};if(a.logarithmicScale&&(e=a._formatLabel(Math.pow(10,n))),"jqx-tank"===a.nodeName.toLowerCase()||a._intervalHasChanged){let t=a._tickIntervalHandler.labelsSize;if(r){a._labelDummy.innerHTML=e;let r=this.valueToPx(n),s=this.valueToPx(a._drawMax),o=this.valueToPx(a._drawMin),l=a._labelDummy[a._settings.size],d="vertical"===a.orientation?a._labelDummy.offsetWidth:a._labelDummy.offsetHeight,h=(l+t.minLabelSize)/2,c=(l+t.maxLabelSize)/2;i=a._normalLayout?r+c<s&&r-h>o:r-c>s&&r+h<o,d>this._longestLabelSize&&(this._longestLabelSize=d)}else this._longestLabelSize=Math.max(t.minLabelOtherSize,t.maxLabelOtherSize,this._longestLabelSize)}if(a._tickValues.push(n),l='<div style="'+s+": "+o+'px;" class="jqx-tick"></div>',!1!==i){void 0===t&&(a._labelDummy.innerHTML=e,t=a._labelDummy[a._settings.size]),d+='<div class="jqx-label'+(r?" jqx-label-middle":"")+'" style="'+s+": "+(o-t/2)+'px;">'+e+"</div>"}return{tick:l,label:d}}getWordLength(e){switch(this.context._unsigned="u"===e.charAt(0),e){case"int8":case"uint8":return 8;case"int16":case"uint16":return 16;case"int32":case"uint32":return 32;case"int64":case"uint64":return 64}}getAngleByValue(e,t,i){const n=this.context;!1!==t&&n.logarithmicScale&&(e=Math.log10(e));const r=(e-n._drawMin)*n._angleRangeCoefficient;let a;return a=n.inverted?n.startAngle+r:n.endAngle-r,i?a:a*Math.PI/180+Math.PI/2}getValueByAngle(e,t){const i=this.context;let n,r,a;for(i.inverted?(n=e,r=i._normalizedStartAngle):(n=i.endAngle,r=e);n<r;)n+=360;if(a=(n-r)/i._angleDifference*i._range+parseFloat(i._drawMin),i.logarithmicScale){if(i.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(a,!0)).toFixed(12));a=Math.pow(10,a)}return t&&!i.coerce?Math.round(a):(a=this.createDescriptor(a,void 0,!0,!0),this.getCoercedValue(a,!1))}updateGaugeValue(e){const t=this.context,i=t.value;t.value=e,t._drawValue=t.logarithmicScale?Math.log10(e).toString():e,t._number=this.createDescriptor(t.value),t.$.digitalDisplay.value=e,t.$.fireEvent("change",{value:e,oldValue:i}),delete t._valueBeforeCoercion}validateColorRange(e){const t=this.context;return Math.min(Math.max(e,t.min),t.max)}getActualValue(e){return this.context.logarithmicScale?Math.pow(10,e):e}drawGaugeLogarithmicScaleMinorTicks(e,t,i){const n=this.context;let r;t instanceof JQX.Utilities.BigNumber&&(t=parseFloat(t.toString()));for(let t in e)if(r=t,t>=0&&t%1==0)break;for(let e=parseFloat(r);e<n._drawMax;e+=t)for(let r=2;r<=9;r++){const a=r*Math.pow(10,e+t-1);a<n.max&&i(a)}for(let e=parseFloat(r);e>n._drawMin;e-=t)for(let t=2;t<=9;t++){const r=t*Math.pow(10,e-1);r>n.min&&i(r)}}_getAngleDifference(e,t){const i=Math.abs(t-e)%360;return i>180?360-i:i}addCustomTicks(){const e=this,t=e.context,i=!t.logarithmicScale;let n="",r="";function a(a){const s=t.customTicks[a],o=i?e.createDescriptor(s):Math.log10(s),l=a>0&&a<t.customTicks.length-1,d=e._addMajorTickAndLabel(t._formatLabel(s),void 0,!0,o,l);n+=d.tick,r+=d.label}if(e._longestLabelSize=0,t._tickValues=[],t._labelDummy=e._createMeasureLabel(),t._normalLayout)for(let e=0;e<t.customTicks.length;e++)a(e);else for(let e=t.customTicks.length-1;e>=0;e--)a(e);"jqx-tank"===t.nodeName.toLowerCase()&&t._updateScaleWidth(e._longestLabelSize),t._appendTicksAndLabelsToScales(n,r)}addGaugeCustomTicks(){const e=this,t=e.context,i=t._distance,n=t._measurements.radius-i.majorTickDistance;let r,a;function s(i){const n=t.customTicks[i],s=e.createDescriptor(n),o=e.getAngleByValue(s,!0),l=i>0&&i<t.customTicks.length-1;r(o),a(o,n,l)}r="none"!==t.ticksVisibility&&!1!==t._plotTicks?function(e){t._drawTick(e,n,"major")}:function(){},a="none"!==t.labelsVisibility&&!1!==t._plotLabels?function(e,n,r){t._drawLabel(e,n,i.labelDistance,r)}:function(){};for(let e=t.customTicks.length-1;e>=0;e--)s(e)}}),JQX.Utilities.Assign("IntegerNumericProcessor",class extends JQX.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t);this.context=e,this.defaultMins={int8:"-128",uint8:"0",int16:"-32768",uint16:"0",int32:"-2147483648",uint32:"0",int64:"-9223372036854775808",uint64:"0"},this.defaultMaxs={int8:"127",uint8:"255",int16:"32767",uint16:"65535",int32:"2147483647",uint32:"4294967295",int64:"9223372036854775807",uint64:"18446744073709551615"}}createDescriptor(e,t,i,n,r){const a=this.context;let s;if(e.constructor!==JQX.Utilities.BigNumber){let i=!r&&a._radixNumber?a._radixNumber:10;10===i&&t&&e.constructor!==JQX.Utilities.BigNumber&&this.isENotation(e)&&(e=JQX.Utilities.BigNumber.bigIntSupport?new JQX.Utilities.BigNumber(Math.round(e)):new JQX.Utilities.NumberRenderer(e).largeExponentialToDecimal()),s=a._toBigNumberDecimal?a._toBigNumberDecimal(e.toString(i,a._wordLengthNumber),i):new JQX.Utilities.BigNumber(e)}else s=new JQX.Utilities.BigNumber(e);return i&&(a._unsigned&&-1===s.compare(0)&&(s=s.set(0)),n&&(s=this.validate(s,a._minObject,a._maxObject)),s=this.round(s)),s}round(e){const t=this.context;if(e instanceof window.JQX.Utilities.BigNumber&&"bigint"==typeof e._d)return e;if(e instanceof window.JQX.Utilities.BigNumber==!1||!t._wordLengthNumber||t._wordLengthNumber<64)return new JQX.Utilities.BigNumber(Math.round(e.toString()));const i=e.mod(1);return 1===i._d.length&&0===i._d[0]||((e=e.intPart())._s?(i._d[1]>5||5===i._d[1]&&i._d[2])&&(e=e.add(-1)):i._d[1]>4&&(e=e.add(1))),e}validate(e,t,i){let n;return n=-1===e.compare(t)?t:1===e.compare(i)?i:e}validateMinMax(e,t){const i=this.context;let n=this.defaultMins[i.wordLength],r=new JQX.Utilities.BigNumber(n),a=this.defaultMaxs[i.wordLength],s=new JQX.Utilities.BigNumber(a),o="date"!==i.mode;if(void 0===i._numberRenderer&&(i._numberRenderer=new JQX.Utilities.NumberRenderer),e&&o){null!==i.min&&(i.min=i.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.min)&&(i.min=this.scientificToDecimal(i.min)));let e=this.round(new JQX.Utilities.BigNumber(i.min));null===i.min||i._minIsNull&&i._initialized||!(e.compare(r)>=0)?(i._minIsNull=!0,i.min=n,i._minObject=r):i._minObject=e}if(t&&o){null!==i.max&&(i.max=i.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.max)&&(i.max=this.scientificToDecimal(i.max)));let e=this.round(new JQX.Utilities.BigNumber(i.max));null===i.max||i._maxIsNull&&i._initialized||!(e.compare(s)<=0)?(i._maxIsNull=!0,i.max=a,i._maxObject=s):i._maxObject=e}o||(i._minObject=new JQX.Utilities.BigNumber(i.min),i._maxObject=new JQX.Utilities.BigNumber(i.max)),this.compare(i._minObject,i._maxObject)||(i._minObject=r,i._maxObject=s,i._drawMin=i.logarithmicScale?0:n,i._drawMax=i.logarithmicScale?10:a,i.min=n,i.max=a),o||(i._minDate=JQX.Utilities.DateTime.fromFullTimeStamp(i.min),i._maxDate=JQX.Utilities.DateTime.fromFullTimeStamp(i.max))}valueToPx(e){const t=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const i=this.context,n=new JQX.Utilities.BigNumber(i._measurements.trackLength).divide(new JQX.Utilities.BigNumber(i._range));let r;if(i._normalLayout){const t=i._drawMin instanceof JQX.Utilities.BigNumber?i._drawMin:new JQX.Utilities.BigNumber(i._drawMin);e=new JQX.Utilities.BigNumber(e),r=parseFloat(n.multiply(e.subtract(t)).toString())}else{const t=i._drawMax instanceof JQX.Utilities.BigNumber?i._drawMax:new JQX.Utilities.BigNumber(i._drawMax);r=parseFloat(this.round(t.subtract(e).multiply(n)).toString())}return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=t,r}pxToValue(e){const t=this.context,i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;let n;if(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n=t._normalLayout?t._valuePerPx.multiply(e-t._trackStart):t._valuePerPx.multiply(t._trackEnd-e),n=this.round(n).toString(),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,t.logarithmicScale){let e=parseFloat(n)+parseFloat(t._drawMin);return new JQX.Utilities.BigNumber(Math.round(Math.pow(10,e)))}return this.createDescriptor(t._minObject.add(n),!1,!0,!0)}compare(e,t,i){if((null===e||null===t)&&e!==t)return!0;e.constructor!==JQX.Utilities.BigNumber&&(e=new JQX.Utilities.BigNumber(e));const n=e.compare(t);return!0!==i?0!==n:n}incrementDecrement(e,t,i){const n=this.context;let r;if(e.constructor!==JQX.Utilities.BigNumber&&(e=new JQX.Utilities.BigNumber(e)),"add"===t){if(r=e.add(i),void 0!==n._drawMax)return r.compare(n._drawMax)>0?new JQX.Utilities.BigNumber(n._drawMax):r}else if(r=e.subtract(i),void 0!==n._drawMin)return r.compare(n._drawMin)<0?new JQX.Utilities.BigNumber(n._drawMin):r;return r}render(e,t){const i=this.context;if(!i.scientificNotation&&!0===t)return new JQX.Utilities.NumberRenderer(new JQX.Utilities.BigNumber(e)).bigNumberToExponent(i.significantDigits);let n=e;return i.scientificNotation&&!0===t?n=new JQX.Utilities.NumberRenderer(n).toScientific(i.significantDigits,i.precisionDigits):"string"!=typeof e&&(n=e.toString(i._radixNumber,i._wordLengthNumber,i.leadingZeros)),n}addTicksAndLabels(){const e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const t=this.context,i=t._measurements.trackLength,n=t._normalLayout,r=t._majorTicksInterval,a=this.round(new JQX.Utilities.BigNumber(t._range).divide(r)),s=i/a,o=new JQX.Utilities.BigNumber(t._drawMin),l=new JQX.Utilities.BigNumber(t._drawMax);let d,h,c,u,p,m,f,g,v,b="",y="";t._tickValues=[],this._longestLabelSize=0,n?(d=o,c=(h=r.add(d.subtract(d.mod(r)))).subtract(d),p=t._formatLabel(o),m=t._tickIntervalHandler.labelsSize.minLabelSize,u=l,f=t._formatLabel(l),g=t._tickIntervalHandler.labelsSize.maxLabelSize):(h=(d=l).subtract(d.mod(r)),c=d.subtract(h),p=t._formatLabel(l),m=t._tickIntervalHandler.labelsSize.maxLabelSize,u=o,f=t._formatLabel(o),g=t._tickIntervalHandler.labelsSize.minLabelSize),t._labelDummy=this._createMeasureLabel(),b+=(v=this._addMajorTickAndLabel(p,m,!0,d)).tick,y+=v.label;const _=c.divide(r).multiply(s);if(0!==h.compare(t.max)&&_.compare(i)<0){const e=t._formatLabel(h.toString()),i=_.compare(m)>0;b+=(v=this._addMajorTickAndLabel(e,void 0,i,h,!0)).tick,y+=v.label}b+=(v=this.addMiddleMajorTicks(a,s,_,c,n,r)).tick,y+=v.label,b+=(v=this._addMajorTickAndLabel(f,g,!0,u)).tick,y+=v.label,"date"!==t.mode&&(b+=this.addMinorTicks(n)),t._measureLabelScale.removeChild(t._labelDummy),delete t._labelDummy,delete t._measureLabelScale,"jqx-tank"===t.nodeName.toLowerCase()&&t._updateScaleWidth(this._longestLabelSize),t._appendTicksAndLabelsToScales(b,y),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}addMiddleMajorTicks(e,t,i,n,r,a){const s=this.context;let o,l="",d="";for(let h=1;h<e;h++){let c,u=i.add(h*t);if(r?c=a.multiply(h).add(n.add(new JQX.Utilities.BigNumber(s._drawMin))):(c=new JQX.Utilities.BigNumber(s._drawMax).subtract(n).subtract(a.multiply(h)),h===e-1&&0===c.compare(0)&&(s._numberRenderer.numericValue=s._tickIntervalHandler.nearestPowerOfTen,o=s._numberRenderer.bigNumberToExponent(1))),0!==c.compare(s._drawMax)){let i=s._formatLabel(c.toString()),n=!0;s._labelDummy.innerHTML=o||i;let r=s._labelDummy[s._settings.size];u.add(r).compare(e*t)>=0&&(n=!1);const a=this._addMajorTickAndLabel(i,void 0,n,c,!0);l+=a.tick,d+=a.label}}return{tick:l,label:d}}addMinorTicks(e){function t(e){-1===n.indexOf(e)&&e%a==0&&(h+='<div style="'+s+": "+i._numericProcessor.valueToPx(e)+'px;" class="jqx-tick jqx-tick-minor"></div>')}const i=this.context,n=i._tickValues,r=i._tickIntervalHandler.nearestPowerOfTen,a=i._minorTicksInterval,s=i._settings.leftOrTop;let o,l,d,h="";if(e?(o=n[0],l=n[1],d=n[n.length-1]):(o=n[n.length-1],l=n[n.length-2],d=n[0]),i.logarithmicScale)!function(){let e=i._measurements.trackLength/n.length,t=.1;e<20?t=1:e>=20&&e<40?t=l-o>1?1:.5:e>=40&&e<80&&(t=.2);let r=Math.floor(i._drawMax),a=i._drawMax-r,d=i._drawMax-i._drawMin>n.length;for(let e=i._drawMax;e>0;e-=1){let n=a>0?Math.pow(10,e-a+1):Math.pow(10,e),r=n*t;for(let e=n;e>0;e-=r)if(e<i.max&&e>i.min){let t=new JQX.Utilities.BigNumber(Math.log10(e));(t%1==0&&d||!d)&&(h+='<div style="'+s+": "+i._numericProcessor.valueToPx(t)+'px;" class="jqx-tick jqx-tick-minor"></div>')}}}();else{for(let e=l;o.compare(e)<0;e=e.subtract(r))t(e);for(let e=l.add(r);d.compare(e)>0;e=e.add(r))t(e)}return h}validateCustomTicks(){const e=this.context,t="date"!==e.mode;let i=[];for(let n=0;n<e.customTicks.length;n++){let r=e.customTicks[n];t?r=this.createDescriptor(r,!1,!0):void 0===r._d&&(r=JQX.Utilities.DateTime.validateDate(r).getTimeStamp()),r.compare(e._minObject)>=0&&r.compare(e._maxObject)<=0&&i.push(r)}if(i.sort(function(e,t){return e.compare(t)}),t){for(let e=0;e<i.length;e++)i[e]=i[e].toString();i=i.filter(function(e,t,i){return!t||e!==i[t-1]})}e.customTicks=i.slice(0)}addGaugeTicksAndLabels(){const e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const t=this.context,i=this,n=Math.max(t._tickIntervalHandler.labelsSize.minLabelSize,t._tickIntervalHandler.labelsSize.maxLabelSize),r=t._majorTicksInterval,a=t._minorTicksInterval,s={},o=t._distance,l=t._measurements.radius,d=l-o.majorTickDistance,h=l-o.minorTickDistance,c=new JQX.Utilities.BigNumber(t._drawMin),u=new JQX.Utilities.BigNumber(t._drawMax);let p,m,f,g,v,b;"none"!==t.ticksVisibility&&!1!==t._plotTicks?(p=function(e){t._drawTick(e,d,"major")},m=function(e){t._drawTick(i.getAngleByValue(e,!0),h,"minor")}):(p=function(){},m=function(){}),f="none"!==t.labelsVisibility&&!1!==t._plotLabels?function(e,i,n){t._drawLabel(e,i,o.labelDistance,n)}:function(){},t.inverted?(v=t.startAngle,b=t.endAngle):(v=t.endAngle,b=t.startAngle),p(g=i.getAngleByValue(c,!1)),s[t._drawMin.toString()]=!0,f(g,t.min,!1);let y,_,w=c.subtract(c.mod(r));-1!==c.compare(0)&&(w=w.add(r));for(let e=new JQX.Utilities.BigNumber(w);-1!==e.compare(c);e=e.subtract(a))y=e;for(p(g=i.getAngleByValue(w,!1)),s[w.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(v,i.getAngleByValue(w,!1,!0))/360)>n&&f(g,this.getActualValue(w),-1===w.compare(u)),_=w.add(r);-1===_.compare(u.subtract(r));_=_.add(r))p(g=i.getAngleByValue(_,!1)),s[_.toString()]=!0,f(g,this.getActualValue(_),!0);if(void 0===s[_.toString()]&&1!==_.compare(u)&&(p(g=i.getAngleByValue(_,!1)),s[_.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(b,i.getAngleByValue(_,!1,!0))/360)>=n&&f(g,this.getActualValue(_),!0),t._normalizedStartAngle!==t.endAngle&&(p(g=i.getAngleByValue(u,!1)),2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(b,v)/360)>=n&&f(g,t.max,!1))),"date"!==t.mode){if(t.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(s,r,m);else for(let e=y;-1===e.compare(u);e=e.add(a))s[e.toString()]||m(e);JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}else JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}updateToolTipAndValue(e,t,i){const n=this.context,r=n.logarithmicScale;n._updateTooltipValue(e.toString()),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));const a=(e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e)).toString();n._number=e,n._drawValue=r?Math.log10(a):e,0!==e.compare(t)&&i&&("numeric"===n.mode?(n.value=a,e=a):(t=n._valueDate,n._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(a),n.value=e,e=n._valueDate),n._programmaticValueIsSet||n.$.fireEvent("change",{value:e,oldValue:t}),n.$.hiddenInput&&(n.$.hiddenInput.value=e))}validateInterval(e){const t=this.context,i=t._maxObject.subtract(t._minObject);t._validInterval=new JQX.Utilities.BigNumber(e),t._validInterval=this.round(t._validInterval),1===t._validInterval.compare(i)&&(t._validInterval=i),t.interval=t._validInterval.toString()}getCoercedValue(e,t,i){const n=this.context;if(!n.coerce)return e;const r=!n.logarithmicScale;let a,s;if(e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e),n.customInterval){const t=n.customTicks;if(0===t.length)return e;let s,o;if(r||i){s=(a=n._minObject).subtract(e).abs(),o=a;for(let i=0;i<t.length;i++){const n=this.createDescriptor(t[i]),r=n.subtract(e).abs();-1===r.compare(s)&&(s=r,o=n)}}else{a=n._drawMin,s=Math.abs(a-parseFloat(e.toString())),o=a;for(let i=0;i<t.length;i++){const n=Math.log10(t[i]),r=Math.abs(n-e);r<s&&(s=r,o=n)}o=new JQX.Utilities.BigNumber(o)}return o}let o=n._validInterval;if("date"===n.mode){if("addYears"===n._dateIncrementMethod)return this.coerceYear(e);if("addMonths"===n._dateIncrementMethod)return this.coerceMonth(e);o=new JQX.Utilities.BigNumber(n._dateIntervalNumber).multiply(o)}!1!==t?(a=new JQX.Utilities.BigNumber(n._drawMin),s=new JQX.Utilities.BigNumber(n._drawMax)):(a=new JQX.Utilities.BigNumber(n.min),s=new JQX.Utilities.BigNumber(n.max));let l=e.subtract(a),d=l.mod(o);if(0===d.compare(0))return e;let h=l.subtract(d),c=h.add(o);if(l.subtract(h).abs().compare(l.subtract(c).abs())<0)return h.add(a);{const e=c.add(a);return e.compare(s)<=0?e:h.add(a)}}coerceMonth(e){const t=this.context,i=parseFloat(t._validInterval),n=JQX.Utilities.DateTime.fromFullTimeStamp(e),r=n.year(),a=n.month(),s=n.day(),o=t._minDate.year(),l=t._minDate.month(),d=12*(t._maxDate.year()-o-1)+12-l+t._maxDate.month();let h=12*(r-1-o)+(12-l)+a;1===i&&(-1!==[1,3,5,7,8,10,12].indexOf(a)?(s>16||16===s&&n.hour()>11)&&h++:2===a?n.isLeapYear(r)?(s>15||15===s&&n.hour()>11)&&h++:s>14&&h++:s>15&&h++),h=this.getCoercedTimePart(0,d,h,i);let c=t._minDate.addMonths(h,!0);return 1===c.compare(t._maxDate)&&(c=t._minDate.addMonths(h-i,!0)),t._drawValue=new JQX.Utilities.BigNumber(c.getTimeStamp()),t._drawValue}coerceYear(e){const t=this.context,i=parseFloat(t._validInterval),n=JQX.Utilities.DateTime.fromFullTimeStamp(e),r=t._maxDate.year(),a=JQX.Utilities.DateTime.getConstructorParameters(t._minDate);let s=n.year();n.month()>6&&s++;let o=this.getCoercedTimePart(t._minDate.year(),r,s,i);o>r&&(o-=i),a[0]=o,a.unshift(null);const l=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,a));return t._drawValue=new JQX.Utilities.BigNumber(l.getTimeStamp()),t._drawValue}getCoercedTimePart(e,t,i,n){let r=i-e,a=r%n;if(0===a)return i;let s=parseFloat((r-a).toFixed(12)),o=s+n;if(t-e<=n)return i>=e+(t-e)/2?t:e;if(Math.abs(r-s)<Math.abs(r-o))return s+e;{const i=o+e;return i>t?s+e:i}}updateValue(e){const t=this.context;e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e);const i=this.validate(e,t._minObject,t._maxObject);let n,r,a=t.value;t._number=i,t._drawValue=t.logarithmicScale?Math.log10(i):i,"numeric"===t.mode?(n=e.toString(),t.value=n,r=this.compare(e,a)):(a=JQX.Utilities.DateTime.fromFullTimeStamp(a),t._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e),t.value=e,n=e=t._valueDate,r=0!==e.compare(a)),t._programmaticValueIsSet||!r&&!t._scaleTypeChangedFlag||t.$.fireEvent("change",{value:n,oldValue:a}),t.$.hiddenInput&&(t.$.hiddenInput.value=e),t._moveThumbBasedOnValue(t._drawValue)}getValuePerPx(e,t){const i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const n=new JQX.Utilities.BigNumber(e).divide(t);return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,n}restrictValue(e){e[1].constructor===JQX.Utilities.BigNumber?-1===e[1].compare(e[0])&&e[1].set(e[0]):e[1]<e[0]&&(e[1]=e[0])}getAngleByValue(e,t,i){const n=this.context,r=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;if(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n._wordLengthNumber<64)return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=r,super.getAngleByValue(parseFloat(e.toString()),t,i);e instanceof JQX.Utilities.BigNumber==!1&&(e=new JQX.Utilities.BigNumber(e)),!1!==t&&n.logarithmicScale&&(e=new JQX.Utilities.BigNumber(Math.log10(e.toString())));const a=e.subtract(n._drawMin).multiply(n._angleRangeCoefficient);let s;return s=n.inverted?a.add(n.startAngle):a.multiply(-1).add(n.endAngle),s=parseFloat(s.toString()),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=r,i?s:s*Math.PI/180+Math.PI/2}getValueByAngle(e){const t=this.context;if(t._wordLengthNumber<64)return super.getValueByAngle(e,!0);const i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;let n,r,a,s;for(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,t.inverted?(n=e,r=t._normalizedStartAngle):(n=t.endAngle,r=e);n<r;)n+=360;return a=new JQX.Utilities.BigNumber((n-r)/t._angleDifference).multiply(t._range).add(t._drawMin),t.logarithmicScale&&(a=new JQX.Utilities.BigNumber(Math.pow(10,a.toString()))),s=t.coerce?this.getCoercedValue(a,!1):this.round(a),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,new JQX.Utilities.BigNumber(s)}updateGaugeValue(e){if(e instanceof JQX.Utilities.BigNumber==!1)return super.updateGaugeValue(e);const t=this.context,i=t._getEventValue();"numeric"===t.mode?(t.value=e.toString(),t.$.digitalDisplay.value=t.value):(t._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e),t.value=e,t.$.digitalDisplay.$.input.value=t._valueDate),t._drawValue=t.logarithmicScale?Math.log10(t.value).toString():t.value,t._number=e,t.$.fireEvent("change",{value:t._getEventValue(),oldValue:i})}validateColorRange(e){const t=this.context;if(t._wordLengthNumber<64)return super.validateColorRange(e);e="numeric"===t.mode?new JQX.Utilities.BigNumber(e):(e=JQX.Utilities.DateTime.validateDate(e)).getTimeStamp();const i=new JQX.Utilities.BigNumber(t.min),n=new JQX.Utilities.BigNumber(t.max);return-1===e.compare(i)&&(e=i),1===e.compare(n)&&(e=n),e}lockRotation(e,t){const i=this.context;if(t instanceof JQX.Utilities.BigNumber==!1&&(t=new JQX.Utilities.BigNumber(t)),e&&-1===t.compare(i._number)){if(i._lockCW=!0,-1===t.compare(i._maxObject))return new JQX.Utilities.BigNumber(i._maxObject)}else if(!e&&1===t.compare(i._number)&&(i._lockCCW=!0,1===t.compare(i._minObject)))return new JQX.Utilities.BigNumber(i._minObject)}getAngleRangeCoefficient(){const e=this.context,t=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,e._angleRangeCoefficient=new JQX.Utilities.BigNumber(e._angleDifference).divide(e._range),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=t}}),JQX.Utilities.Assign("DecimalNumericProcessor",class extends JQX.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t),this.context=e}getPreciseModulo(e,t,i){const n=e>=0?1:-1;if(e=Math.abs(e),t=Math.abs(t),void 0===i){const i=e.toExponential(),r=t.toExponential(),a=parseInt(i.slice(i.indexOf("e")+1),10),s=parseInt(r.slice(r.indexOf("e")+1),10),o=a<0?Math.abs(a):0,l=s<0?Math.abs(s):0,d=Math.max(o,l);if(this.roundCoefficient=d,e<t)return n*e;if(e===t)return 0;if((e<-1||e>1)&&(t<-1||t>1||1===t)){if(e%1==0&&t%1==0)return n*(e%t);{const i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;const r=n*parseFloat(new JQX.Utilities.BigNumber(e).mod(t).toString());return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,r}}const h=Math.pow(10,d);return n*(e*h%(t*h)/h)}return n*(Math.round(e*i)%Math.round(t*i))}createDescriptor(e,t,i,n){let r=parseFloat(e);return n&&(r=this.validate(r,this.context._minObject,this.context._maxObject)),r}round(e){return Math.round(e)}validate(e,t,i){let n;return n=e<t?t:e>i?i:e}validateMinMax(e,t){const i=this.context,n=void 0!==i._regexSpecial&&i._regexSpecial.inf.test(i.min),r=void 0!==i._regexSpecial&&i._regexSpecial.inf.test(i.max);e&&(null===i.min||n?(i.min=-1/0,i._minObject=-1/0):(i.min=i.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.min)&&(i.min=this.scientificToDecimal(i.min)),i._minObject=i._discardDecimalSeparator(i.min))),t&&(null===i.max||r?(i.max=1/0,i._maxObject=1/0):(i.max=i.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.max)&&(i.max=this.scientificToDecimal(i.max)),i._maxObject=i._discardDecimalSeparator(i.max))),this.compare(i._minObject,i._maxObject)||(i._maxObject=parseFloat(i._maxObject)+1,i.max=i._maxObject)}valueToPx(e){const t=this.context,i=t._measurements.trackLength/t._range;let n;return n=t._normalLayout?i*(e-t._drawMin):i*(t._drawMax-e),Math.round(n)}pxToValue(e){const t=this.context;let i;if(i=t._normalLayout?(e-t._trackStart)*t._valuePerPx:(t._trackEnd-e)*t._valuePerPx,t.logarithmicScale){const e=i+parseFloat(t._drawMin);return Math.pow(10,e)}return this.validate(i+t._minObject,t._minObject,t._maxObject)}compare(e,t,i){return e=parseFloat(e),t=parseFloat(t),!0!==i?e!==t:e<t?-1:e>t?1:0}incrementDecrement(e,t,i){const n=this.context;let r;if("add"===t){if(r=parseFloat(e)+parseFloat(i),void 0!==n._drawMax)return r>parseFloat(n._drawMax)?n._drawMax:r}else if(r=parseFloat(e)-parseFloat(i),void 0!==n._drawMin)return r<parseFloat(n._drawMin)?n._drawMin:r;return r}render(e){const t=this.context;if(void 0!==t._regexSpecial&&t._regexSpecial.nonNumericValue.test(e))return e;{const i=new JQX.Utilities.NumberRenderer(e);return t.scientificNotation?i.toScientific(t.significantDigits,t.precisionDigits):i.toDigits(t.significantDigits,t.precisionDigits)}}addTicksAndLabels(){const e=this.context,t=e._measurements.trackLength,i=e._normalLayout,n=e._majorTicksInterval,r=Math.round(e._range/parseFloat(n.toString())),a=t/r,s=parseFloat(e._drawMin),o=parseFloat(e._drawMax);let l,d,h,c,u,p,m,f,g,v="",b="";e._tickValues=[],this._longestLabelSize=0,i?(l=s,h=(d=e.logarithmicScale&&s<0&&-1!==s?parseFloat(l-this.getPreciseModulo(l,n)):parseFloat(l-this.getPreciseModulo(l,n)+parseFloat(n)))-l,u=e._formatLabel(s),p=e._tickIntervalHandler.labelsSize.minLabelSize,c=o,m=e._formatLabel(o),f=e._tickIntervalHandler.labelsSize.maxLabelSize):(h=(l=o)-(d=parseFloat(l-this.getPreciseModulo(l,n))),u=e._formatLabel(o),p=e._tickIntervalHandler.labelsSize.maxLabelSize,c=s,m=e._formatLabel(s),f=e._tickIntervalHandler.labelsSize.minLabelSize),e._labelDummy=this._createMeasureLabel(),v+=(g=this._addMajorTickAndLabel(u,p,!0,l)).tick,b+=g.label;const y=h/n*a;if(d.toString()!==e._drawMax.toString()&&y<t){const t=e._formatLabel(d.toString()),i=p<y;v+=(g=this._addMajorTickAndLabel(t,void 0,i,d,!0)).tick,b+=g.label}v+=(g=this.addMiddleMajorTicks(r,a,y,h,i,n)).tick,b+=g.label,v+=(g=this._addMajorTickAndLabel(m,f,!0,c)).tick,b+=g.label,v+=this.addMinorTicks(i),e._measureLabelScale.removeChild(e._labelDummy),delete e._labelDummy,delete e._measureLabelScale,"jqx-tank"===e.nodeName.toLowerCase()&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(v,b)}addMiddleMajorTicks(e,t,i,n,r,a){const s=this.context;let o="",l="";for(let d=1;d<e;d++){let h,c=d*t+i;if((h=r?parseFloat(s._drawMin)+a*d+n:parseFloat(s._drawMax)-a*d-n).toString()!==s._drawMax.toString()){let i=s._formatLabel(h.toString()),n=!0;s._labelDummy.innerHTML=i,c+s._labelDummy[s._settings.size]>=e*t&&(n=!1);const r=this._addMajorTickAndLabel(i,void 0,n,h,!0);o+=r.tick,l+=r.label}}return{tick:o,label:l}}addMinorTicks(e){function t(e){return parseFloat(e.toFixed(o))}function i(e){-1===r.indexOf(e)&&0===n._numericProcessor.getPreciseModulo(e,s,l)&&(p+='<div style="'+d+": "+n._numericProcessor.valueToPx(e)+'px;" class="jqx-tick jqx-tick-minor"></div>')}const n=this.context,r=n._tickValues,a=n._tickIntervalHandler.nearestPowerOfTen,s=n._minorTicksInterval,o=Math.log10(a)<0?Math.round(Math.abs(Math.log10(a))):0,l=Math.pow(10,o),d=n._settings.leftOrTop;let h,c,u,p="";if(e?(h=r[0],c=r[1],u=r[r.length-1]):(h=r[r.length-1],c=r[r.length-2],u=r[0]),n.logarithmicScale)!function(){let e=n._measurements.trackLength/r.length,t=.1;e<20?t=1:e>=20&&e<40?t=c-h>1?1:.5:e>=40&&e<80&&(t=.2);let i=Math.floor(n._drawMax),a=n._drawMax-i,s=n._drawMax-n._drawMin>r.length;for(let e=n._drawMax;e>n._drawMin-1;e-=1){let i=a>0?Math.pow(10,e-a+1):Math.pow(10,e),r=i*t;for(let e=i;e>0;e-=r)if(e<n.max&&e>n.min){let t=new JQX.Utilities.BigNumber(Math.log10(e));(t%1==0&&s||!s)&&(p+='<div style="'+d+": "+n._numericProcessor.valueToPx(t)+'px;" class="jqx-tick jqx-tick-minor"></div>')}}}();else{for(let e=c;e>h;e=t(e-a))i(e);for(let e=t(c+a);e<u;e=t(e+a))i(e)}return p}validateCustomTicks(){const e=this.context;let t=[];for(let i=0;i<e.customTicks.length;i++){const n=e.customTicks[i],r=this.createDescriptor(n);r>=e._minObject&&r<=e._maxObject&&t.push(r.toString())}t.sort(function(e,t){return e-t}),t=t.filter(function(e,t,i){return!t||e!==i[t-1]}),e.customTicks=t.slice(0)}addGaugeTicksAndLabels(){const e=this.context,t=this,i=Math.max(e._tickIntervalHandler.labelsSize.minLabelSize,e._tickIntervalHandler.labelsSize.maxLabelSize),n=e._majorTicksInterval,r=e._minorTicksInterval,a={},s=e._distance,o=e._measurements.radius,l=o-s.majorTickDistance,d=o-s.minorTickDistance;let h,c,u,p,m,f;"none"!==e.ticksVisibility&&!1!==e._plotTicks?(h=function(t){e._drawTick(t,l,"major")},c=function(i){e._drawTick(t.getAngleByValue(i,!0),d,"minor")}):(h=function(){},c=function(){}),u="none"!==e.labelsVisibility&&!1!==e._plotLabels?function(t,i,n){e._drawLabel(t,i,s.labelDistance,n)}:function(){},e.inverted?(m=e.startAngle,f=e.endAngle):(m=e.endAngle,f=e.startAngle),h(p=t.getAngleByValue(e._drawMin,!1)),a[e._drawMin]=!0,u(p,e.min,!1);let g,v,b=e._drawMin-t.getPreciseModulo(e._drawMin,n);e._drawMin>=0&&(b+=n);for(let t=b;t>=e._drawMin;t-=r)g=t;for(h(p=t.getAngleByValue(b,!1)),a[b]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(m,t.getAngleByValue(b,!1,!0))/360)>i&&u(p,this.getActualValue(b),b<e._drawMax),v=b+n;v<e._drawMax-n;v+=n)h(p=t.getAngleByValue(v,!1)),a[v]=!0,u(p,this.getActualValue(v),!0);if(void 0===a[v]&&v<=e._drawMax&&(h(p=t.getAngleByValue(v,!1)),a[v]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(f,t.getAngleByValue(v,!1,!0))/360)>=i&&u(p,this.getActualValue(v),!0),e._normalizedStartAngle!==e.endAngle&&(h(p=t.getAngleByValue(e._drawMax,!1)),a[e._drawMax]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(f,m)/360)>=i&&u(p,e.max,!1))),e.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(a,n,c);else for(let t=g;t<e._drawMax;t+=r)a[t]||c(t)}updateToolTipAndValue(e,t,i){const n=this.context,r=n.logarithmicScale;n._updateTooltipValue(e),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));const a=e.toString();n._number=e,n._drawValue=r?Math.log10(a):e,a!==t&&i&&(n.value=n._discardDecimalSeparator(a),n._programmaticValueIsSet||n.$.fireEvent("change",{value:n.value,oldValue:t}),n.$.hiddenInput&&(n.$.hiddenInput.value=n.value))}validateInterval(e){const t=this.context,i=t._maxObject-t._minObject;t._validInterval=Math.min(parseFloat(e),i),t.interval=t._validInterval}getCoercedValue(e,t,i){const n=this.context;if(!n.coerce)return e;let r,a,s=!n.logarithmicScale;if(n.customInterval){const a=n.customTicks;if(0===a.length)return e;s=s||i,r=!1!==t?parseFloat(n._drawMin):n._minObject;let o=Math.abs(r-e),l=r;for(let t=0;t<a.length;t++){const i=this.createDescriptor(a[t]),n=s?i:Math.log10(i),r=Math.abs(n-e);r<o&&(o=r,l=n)}return l}!1!==t?(r=parseFloat(n._drawMin),a=parseFloat(n._drawMax)):(r=parseFloat(n.min),a=parseFloat(n.max));let o=e-r,l=this.getPreciseModulo(o,parseFloat(n.interval)),d=this.roundCoefficient;if(0===l)return e;0===this.roundCoefficient&&(d=12);let h=parseFloat((o-l).toFixed(d)),c=h+parseFloat(n.interval);if(n.max-n.min<=parseFloat(n.interval)&&s){let t=r,i=a;return e>=t+(i-t)/2?i:t}if(Math.abs(o-h)<Math.abs(o-c))return h+r;{const e=c+r;return e>a?h+r:e}}updateValue(e){const t=this.context,i=this.validate(e,t._minObject,t._maxObject),n=t.value;e.toString()!==n.toString()||t._scaleTypeChangedFlag?(t.value=e.toString(),t._number=i,t._programmaticValueIsSet||t.$.fireEvent("change",{value:t.value,oldValue:n})):t.value="string"==typeof e?e:e.toString(),t._drawValue=t.logarithmicScale?Math.log10(i).toString():i.toString(),t._moveThumbBasedOnValue(t._drawValue),t.$.hiddenInput&&(t.$.hiddenInput.value=t.value)}getValuePerPx(e,t){return parseFloat(e)/t}restrictValue(e){e[1]<e[0]&&(e[1]=e[0])}lockRotation(e,t){const i=this.context;if(e&&t<i._number){if(i._lockCW=!0,t<i._maxObject)return i._maxObject}else if(!e&&t>i._number&&(i._lockCCW=!0,t>i._minObject))return i._minObject}getAngleRangeCoefficient(){const e=this.context;e._angleRangeCoefficient=e._angleDifference/e._range}}),JQX.Utilities.Assign("ComplexNumericProcessor",class extends JQX.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t),this.context=e}createDescriptor(e,t,i,n,r,a){let s;return s=a||(e.constructor===this.complexConstructor?new this.complexConstructor(e.realPart,e.imaginaryPart):new this.complexConstructor(e)),n&&(s=this.validate(s,this.context._minObject,this.context._maxObject)),s}validate(e,t,i){let n=e;return t!==-1/0?-1===this.compareComplexNumbers(e,t)&&(n=new this.complexConstructor(t.realPart,t.imaginaryPart)):i!==1/0&&1===this.compareComplexNumbers(e,i)&&(n=new this.complexConstructor(i.realPart,i.imaginaryPart)),n}compare(e,t,i){return!0!==i?0!==this.compareComplexNumbers(e,t):this.compareComplexNumbers(e,t)}validateMinMax(e,t){const i=this.context;e&&(null===i.min||i._regexSpecial.inf.test(i.min)?(i.min=-1/0,i._minObject=-1/0):i._minObject=new this.complexConstructor(i.min)),t&&(null===i.max||i._regexSpecial.inf.test(i.max)?(i.max=1/0,i._maxObject=1/0):i._maxObject=new this.complexConstructor(i.max))}incrementDecrement(e,t){let i=new this.complexConstructor(e.realPart,e.imaginaryPart),n=this.context._spinButtonsStepObject;return"add"===t?(i.realPart+=n.realPart,i.imaginaryPart+=n.imaginaryPart):(i.realPart-=n.realPart,i.imaginaryPart-=n.imaginaryPart),i}render(e){let t=e;if(!1===this.context._regexSpecial.nonNumericValue.test(e)){let e,i=t.realPart,n=t.imaginaryPart,r=this.context.significantDigits,a=this.context.precisionDigits;n>=0?e="+":(e="-",n=Math.abs(n));const s=new JQX.Utilities.NumberRenderer(i),o=new JQX.Utilities.NumberRenderer(n);this.context.scientificNotation?(i=s.toScientific(r,a),n=o.toScientific(r,a)):(i=s.toDigits(r,a),n=o.toDigits(r,a)),t=`${i} ${e} ${n}i`}return t}compareComplexNumbers(e,t){if(e instanceof this.complexConstructor==!1||t instanceof this.complexConstructor==!1)return-1;const i=e.realPart,n=t.realPart;if(i<n)return-1;if(i>n)return 1;{const i=e.imaginaryPart,n=t.imaginaryPart;return i<n?-1:i>n?1:0}}}),JQX.Utilities.Assign("NumberRenderer",class{constructor(e){this.numericValue=e,this.powersToPrefixes={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-2":"c","-3":"m","-6":"u","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},this.localizationObject={currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",defaultPrecision:2}}isENotation(e){return new RegExp(/e/i).test(e)}largeExponentialToDecimal(e){let t;void 0===e&&(e=this.numericValue,t=!0);let i=e.toString().toLowerCase(),n=i.indexOf("e"),r=new JQX.Utilities.BigNumber(i.slice(0,n)),a=i.slice(n+1,n+2);"+"!==a&&"-"!==a&&(i=i.slice(0,n)+"e+"+i.slice(n+1),a="+");let s=i.slice(n+2),o=new JQX.Utilities.BigNumber(10).pow(a+(t?Math.min(20,s):s));return r.multiply(o).toString()}bigNumberToExponent(e,t){let i=this.numericValue;i.constructor!==JQX.Utilities.BigNumber&&(i=new JQX.Utilities.BigNumber(i));const n=i._f;let r=i.toString();if(n<=10)return t?parseFloat(r).toExponential(null!==e?e-1:void 0):new JQX.Utilities.NumberRenderer(parseFloat(r)).toDigits(e);if(e>=n&&!t)return r;{let a;!1===i._s?a="":(a="-",r=r.slice(1)),parseFloat(r.slice(e,e+1))>=5&&(r=new JQX.Utilities.BigNumber(r.slice(0,e)).add(1).toString());let s=r.slice(1,e);if(t)e--,s.length>0&&e>s.length?s+="0".repeat(e-s.length):0===s.length&&(s="0".repeat(e));else for(;s.length>0&&"0"===s.charAt(s.length-1);)s=s.slice(0,s.length-1);const o=s.length>0?".":"",l=n-1;return a+r.slice(0,1)+o+s+"E+"+l}}toScientific(){const e=this;let t;const i=(t=e.numericValue._d?e.bigNumberToExponent(null!==arguments[0]?arguments[0]:arguments[1]+1,!0).toLowerCase():Number(e.numericValue.toString()).toExponential()).indexOf("e"),n=t.slice(i+1);let r=parseFloat(t.slice(0,i));if("-2"===n)return r+"c";const a=parseInt(n,10)%3;if(a>0)for(let e=0;e<a;e++)r*=10;else if(a<0){const e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport;JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,r=parseFloat(new JQX.Utilities.BigNumber(r).multiply(Math.pow(10,a)).toString()),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}if(n>0){const e=r>=0?0:1,n=t.slice(e,i).length-a-2;n>=0&&(r=r.toFixed(n))}r=new JQX.Utilities.NumberRenderer(r).toDigits(arguments[0],arguments[1]);const s=parseInt(n,10)-a;return r+e.powersToPrefixes[s.toString()]}bigNumberToScientific(){const e=this.numericValue._f-1,t=parseInt(e,10)%3,i=parseInt(e,10)-t;let n,r,a=this.numericValue.toString();if("-"===a.charAt(0)?(n="-",a=a.slice(1)):n="",null!==arguments[0])for(r=a.slice(0,arguments[0]),parseFloat(a.slice(arguments[0],arguments[0]+1))>=5&&(r=new JQX.Utilities.BigNumber(r).add(1).toString());r.length>1+t&&"0"===r.charAt(r.length-1);)r=r.slice(0,r.length-1);else null!==arguments[1]&&(r=a.slice(0,arguments[1]+1),parseFloat(a.slice(arguments[1]+1,arguments[1]+2))>=5&&(r=new JQX.Utilities.BigNumber(r).add(1).toString()),arguments[1]+t>r.length-1&&(r+="0".repeat(arguments[1]+t-r.length+1)));return r.length>1+t&&(r=r.slice(0,1+t)+"."+r.slice(1+t)),n+r+this.powersToPrefixes[i.toString()]}toDigits(e,t){const i=this;let n;return n=null!==e?i.applySignificantDigits(e):null!==t?i.applyPrecisionDigits(t):i.applySignificantDigits(8)}applySignificantDigits(e){const t=this;function i(e){for(;"0"===e.charAt(e.length-1);)e=e.slice(0,-1);return"."===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}e=Math.max(1,Math.min(e,21));let n=parseFloat(t.numericValue).toPrecision(e).toUpperCase();if(-1!==n.indexOf("."))if(t.isENotation(n)){const e=n.indexOf("."),t=n.indexOf("E");let r=n.slice(e,t);r=i(r),n=n.slice(0,e)+r+n.slice(t)}else n=i(n);return n}applyPrecisionDigits(e){const t=this;e=Math.max(0,Math.min(e,20));let i=parseFloat(t.numericValue).toFixed(e);return t.isENotation(i)&&(i=t.largeExponentialToDecimal(i)+"."+"0".repeat(e)),i}getLogarithm(e){const t=this.numericValue;let i;if(void 0===e&&(e=10),10===e)try{i=Math.log10(t)}catch(e){i=Math.log(t)/Math.log(10)}else i=Math.log(t)/Math.log(e);return i}applySeparators(e,t){const i=this,n=(e=e.toString()).indexOf(".");if(-1!==n){const r=e.slice(0,n),a=e.slice(n+1);return i.applyThousandsSeparator(r,t)+i.localizationObject.decimalseparator+a}return i.applyThousandsSeparator(e,t)}applyThousandsSeparator(e,t){if(t)return e;let i="";"-"===(e=e.toString()).charAt(0)&&(i="-",e=e.slice(1));let n=e.split("").reverse();for(let e=2;e<n.length-1;e+=3)n[e]=this.localizationObject.thousandsseparator+n[e];return n.reverse(),i+(n=n.join(""))}formatNumber(e,t,i){const n=this;if(void 0===arguments[3]&&delete n._ignoreMinus,delete n._wordLengthNumber,!/^([a-zA-Z]\d*)$/g.test(t))try{return n.applyCustomFormat(e,t)}catch(t){return e.toString()}const r=t.slice(0,1);let a=t.slice(1);if(""!==a&&(isNaN(parseFloat(a))||parseFloat(a)<0||parseFloat(a)>99?a="":parseFloat(a)%1!=0&&(a=Math.round(a))),e._d)n.inputFormat="integer";else{if(e.imaginaryPart)return n.formatComplexNumber(e,t,r,a);n.inputFormat="floatingPoint"}let s,o=new JQX.Utilities.NumericProcessor(n,"inputFormat"),l=o.createDescriptor(e);switch(n._wordLengthNumber=o.getWordLength(i||"int32"),"integer"===n.inputFormat&&(l=o.round(l)),n.numericValue=l,r){case"C":case"c":return""===a&&(a=n.localizationObject.defaultPrecision),a=parseFloat(a),s="floatingPoint"===n.inputFormat?n.applyPrecisionDigits(a):l.toString()+(a>0?"."+"0".repeat(a):""),s=n.applySeparators(s),"before"===n.localizationObject.currencysymbolposition?"-"===s.charAt(0)?"-"+n.localizationObject.currencysymbol+s.slice(1):n.localizationObject.currencysymbol+s:s+" "+n.localizationObject.currencysymbol;case"D":case"d":{if(s=l,"floatingPoint"===n.inputFormat&&(s=Math.round(l)),s=s.toString(),""===a)return s;let e="";"-"===s.charAt(0)&&(e="-",s=s.slice(1));const t=a-s.length;return t>0&&(s="0".repeat(t)+s),e+s}case"E":case"e":case"U":case"u":{""===a&&(a=6);const e=(s="floatingPoint"===n.inputFormat?l.toExponential(a):n.bigNumberToExponent(parseFloat(a)+1,!0).toLowerCase()).indexOf("e"),t=s.slice(e+2).length;return t<3&&(s=s.slice(0,e+2)+"0".repeat(3-t)+s.slice(e+2)),"u"===r.toLowerCase()?n.exponentialToSuperscript(n.applySeparators(s,!0)):("E"===r&&(s=s.toUpperCase()),n.applySeparators(s,!0))}case"F":case"f":case"N":case"n":return""===a&&(a=n.localizationObject.defaultPrecision),a=parseFloat(a),s="floatingPoint"===n.inputFormat?n.applyPrecisionDigits(a):l.toString()+(a>0?"."+"0".repeat(a):""),n.applySeparators(s,"f"===r.toLowerCase());case"G":case"g":{if(""===a||"0"===a)if("floatingPoint"===n.inputFormat)a=15;else switch(i){case"int8":case"uint8":a=3;break;case"int16":case"uint16":a=5;break;case"int64":a=19;break;case"uint64":a=20;break;default:a=10}a=parseFloat(a);let t=n.formatNumber(e,"E"+a,i),s=t.indexOf("E");const o=parseInt(t.slice(s+1),10);if(o>-5&&o<a)return"floatingPoint"===n.inputFormat?n.applySeparators(n.applySignificantDigits(a),!0):l.toString();if(o>-100&&o<100&&(t=t.slice(0,s+2)+t.slice(s+3)),-1!==t.indexOf(n.localizationObject.decimalseparator)){for(;"0"===t.charAt(s-1);)s=(t=t.slice(0,s-1)+t.slice(s)).indexOf("E");t.charAt(s-1)===n.localizationObject.decimalseparator&&(t=t.slice(0,s-1)+t.slice(s))}return"g"===r&&(t=t.toLowerCase()),t}case"P":case"p":return""===a&&(a=n.localizationObject.defaultPrecision),a=parseFloat(a),"floatingPoint"===n.inputFormat?(n.numericValue=100*l,s=n.applyPrecisionDigits(a)):s=l.multiply(100).toString()+(a>0?"."+"0".repeat(a):""),n.applySeparators(s)+" %";case"B":case"b":case"O":case"o":case"X":case"x":{let t;switch("integer"!==n.inputFormat&&(n.inputFormat="integer",l=(o=new JQX.Utilities.NumericProcessor(n,"inputFormat")).round(o.createDescriptor(e))),r){case"B":case"b":t=2;break;case"O":case"o":t=8;break;default:t=16}if(s=l.toString(t,n._wordLengthNumber),""!==a){const e=parseFloat(a)-s.length;e>0&&(s="0".repeat(e)+s)}return"x"===r&&(s=s.toLowerCase()),s}case"S":case"s":return""===a&&(a=n.localizationObject.defaultPrecision),a=parseFloat(a),n.toScientific(null,a).replace(".",n.localizationObject.decimalseparator);default:return e.toString()}}formatComplexNumber(e,t,i){const n=this;switch(i){case"E":case"e":case"U":case"u":case"F":case"f":case"G":case"g":case"N":case"n":case"S":case"s":return e.imaginaryPart>=0?n.formatNumber(e.realPart,t)+" + "+n.formatNumber(e.imaginaryPart,t)+"i":n.formatNumber(e.realPart,t)+" - "+n.formatNumber(Math.abs(e.imaginaryPart),t)+"i";default:return e.toString()}}toString(e,t,i){return t?this.formatNumber(e,t,i):e.toString()}applyCustomFormat(e,t){const i=this,n=(t=(t=t.replace(/_.|\[\w*\]|\*/g,"")).replace(/\?/g,"#")).split(";");if("string"==typeof e&&isNaN(e))return n[n.length-1].replace(/"/g,"").replace(/@/g,e.toString());if(e._d)i.inputFormat="integer";else{if(e.imaginaryPart)return e.toString();e=parseFloat(e),i.inputFormat="floatingPoint"}let r=new JQX.Utilities.NumericProcessor(i,"inputFormat"),a=r.createDescriptor(e);"integer"===i.inputFormat&&(a=r.round(a)),i.numericProcessor=r;const s=i.getRelevantFormatSection(n,a);if(void 0===s)return e.toString();if(-1!==s.indexOf("@"))return n[n.length-1].replace(/"/g,"").replace(/@/g,e.toString());const o=-1!==s.replace(/".*"/g,"").indexOf("%"),l=i.getTextParts(s);if(-1!==l.main.toLowerCase().indexOf("e"))return i.applyCustomExponentialFormat(a,l,r);if(-1!==l.main.indexOf("/"))return i.applyCustomFractionalFormat(a,l,r);if(o&&("integer"===i.inputFormat?a=a.multiply(100):a*=100),""===l.main){if(!o)return l.suffix;let e=a.toString();return i._ignoreMinus&&"-"===e.charAt(0)&&(e=e.slice(1)),e+l.suffix}let d=l.main.replace(/[^0#,. \/]/g,""),h=d.indexOf(".");for(-1!==h&&("."===(d=d.substring(0,h+1)+d.substring(h+1).replace(/\./g,"")).charAt(d.length-1)&&(d=d.slice(0,d.length-1)),0===h&&(d="#"+d));","===d.charAt(d.length-1);)d=d.slice(0,d.length-1),"floatingPoint"===i.inputFormat?a/=1e3:a=a.multiply(.001);"integer"===i.inputFormat&&(a=r.round(a));const c=-1!==d.indexOf(","),u=(d=d.replace(/,/g,"")).split("."),p=u[0];let m=u[1],f="";if(1===u.length)return"floatingPoint"===i.inputFormat&&(a=r.round(a)),f=a.toString(),i.setTextParts(i.formatWholeNumber(f,p,c),l);let g=(f=a.toString()).split("."),v=i.formatWholeNumber(g[0],p,c),b=g[1]||"";if(m.length<=b.length&&(g=(f=parseFloat(a.toFixed(m.length)).toString()).split("."),v=i.formatWholeNumber(g[0],p,c),b=g[1]||""))return i.setTextParts(v+i.localizationObject.decimalseparator+b.slice(0,m.length),l);let y=(m=m.slice(b.length-m.length)).lastIndexOf("0");return-1===y?""===b?i.setTextParts(v,l):i.setTextParts(v+i.localizationObject.decimalseparator+b,l):i.setTextParts(v+i.localizationObject.decimalseparator+b+"0".repeat(y+1),l)}getRelevantFormatSection(e,t){const i=this,n=i.numericProcessor.compare(t,0,!0);if(1===n)return e[0];let r,a;return e.length>=3?(i._ignoreMinus=!0,r=1,a=2):2===e.length?(i._ignoreMinus=!0,a=0,r=1):1===e.length&&(a=0,r=0),0===n?e[a]:-1===n?e[r]:void 0}getTextParts(e){const t=e.replace(/"[^"]*"/g,""),i=e.match(/"[^"]*"/g),n=t.search(/0|#|\./g),r=Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"),t.lastIndexOf("."),t.lastIndexOf(",")),a=t.slice(n,r+1);if(""===a)return{prefix:"",main:"",suffix:e.replace(/"/g,"")};let s=e.indexOf(a),o=s+a.length;if(i)for(let t=0;t<i.length;t++){const n=e.indexOf(i[t]);s>=n&&o<=n+i[t].length&&(o=(s=e.indexOf(a,n+i[t].length))+a.length)}return{prefix:e.slice(0,s).replace(/"/g,""),main:a,suffix:e.slice(o).replace(/"/g,"")}}applyCustomExponentialFormat(e,t,i){const n=this;let r,a=t.main;const s=-1!==a.indexOf(","),o=(a=a.replace(/[^0#.eE+-]/g,"")).toLowerCase().indexOf("e"),l=(a=a.substring(0,o+1)+a.substring(o+1).replace(/[eE\.]/g,"")).charAt(o),d=a.indexOf(".");-1!==d&&(a=a.substring(0,d+1)+a.substring(d+1).replace(/\./g,"")),"."===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1));const h=a.split(l);let c=h[0];const u=c.split("."),p=u[0],m=u[1],f=h[1];let g=e.toString().split(".")[0].replace(/-/,""),v=0;if("0"===g&&i.compare(e,0)){let t=p.length-1;for(;0===parseInt(e);)v++,e*=10;g=e.toString().split(".")[0].replace(/-/,""),v+=t,e*=Math.pow(10,t)}if(s&&(c=c.slice(0,1)+","+c.slice(1)),g.length<=p.length)r=n.formatNumber(e,c,void 0,!0)+l+n.formatExponent(0-v,f);else{const t=g.length-p.length;let a="floatingPoint"===n.inputFormat?e/Math.pow(10,t):e.divide(Math.pow(10,t));if(!m){r=n.applyThousandsSeparator(i.round(a).toString(),!s)+l+n.formatExponent(t-v,f)}let o=a.toString().split(".")[1]||"";o.length===m.length?r=n.applySeparators(a,!s)+l+n.formatExponent(t-v,f):o.length<m.length?r=n.formatNumber(a,c,void 0,!0)+l+n.formatExponent(t-v,f):(a="floatingPoint"===n.inputFormat?a.toFixed(m.length):a=i.round(e.divide(Math.pow(10,t-m.length))).divide(Math.pow(10,m.length)),r=n.formatNumber(parseFloat(a),c,void 0,!0)+l+n.formatExponent(t-v,f))}return n.setTextParts(r,t)}formatExponent(e,t){let i;return-1!==["+","-"].indexOf(t.charAt(0))&&(i=t.charAt(0),(e>0&&"-"===i||e<0&&"+"===i)&&(i=void 0)),e<0&&(e=Math.abs(e),i="-"),t=t.replace(/[+-]/g,""),(i||"")+(e=this.formatNumber(e,t,void 0,!0))}formatWholeNumber(e,t,i){const n=this;let r="";if("-"===e.charAt(0)&&(n._ignoreMinus||(r="-"),e=e.slice(1)),"0"===e){if(t==="#".repeat(t.length))return r;e=""}if(t.length<=e.length)return r+n.applyThousandsSeparator(e,!i);for(let i=(t=t.slice(0,t.length-e.length)).length-1;i>=0;i--)"0"===t.charAt(i)&&(e="0"+e);return r+n.applyThousandsSeparator(e,!i)}setTextParts(e,t){return t.prefix+e+t.suffix}applyCustomFractionalFormat(e,t,i){const n=this,r=/^([0#,]+[ ]+)?([0#,]+\/[0#,]+)$/;let a,s=t.main.trim();if(!r.test(s))return e.toString();const o=r.exec(s);if(o[2]=o[2].replace(/,/g,""),"integer"===n.inputFormat){const i=o[2].split("/");return void 0===o[1]?a=n.formatNumber(e,i[0],void 0,!0)+"/"+n.formatNumber(1,i[1],void 0,!0):(a=n.formatNumber(e,o[1].trim(),void 0,!0),-1!==o[2].indexOf("0")&&(a+=" "+n.formatNumber(0,i[0],void 0,!0)+"/"+n.formatNumber(1,i[1],void 0,!0))),n.setTextParts(a,t)}if(void 0===o[1])a=(e<0?"-":"")+n.formatAsFraction(Math.abs(e),o[2]);else{const t=o[1].trim(),r=o[2];a=n.formatNumber(parseInt(e,10),t,void 0,!0)+" "+n.formatAsFraction(i.getPreciseModulo(Math.abs(e),1),r)}return n.setTextParts(a.trim(),t)}formatAsFraction(e,t){const i=this,n=t.split("/");if(0===e)return-1===t.indexOf("0")?"":i.formatNumber(0,n[0],void 0,!0)+"/"+i.formatNumber(1,n[1],void 0,!0);if(e%1==0)return i.formatNumber(e,n[0],void 0,!0)+"/"+i.formatNumber(1,n[1],void 0,!0);const r=[];i.approximateFractions(e,r);const a=n[1].length>=2?2:1;let s=[],o=[];r.forEach(function(t,i){const n=t.denominator.toString().length,r=Math.abs(e-t.numerator/t.denominator);if(void 0===s[n])return o[n]=i,void(s[n]=r);r<s[n]&&(o[n]=i,s[n]=r)});let l=o[a]?r[o[a]]:r[o[1]];return i.formatNumber(l.numerator,n[0],void 0,!0)+"/"+i.formatNumber(l.denominator,n[1],void 0,!0)}approximateFractions(e,t){const i=[0,1],n=[1,0],r=this.getMaxNumerator(e);let a,s=e,o=NaN;for(let l=2;l<1e3;l++){const d=Math.floor(s);if(i[l]=d*i[l-1]+i[l-2],Math.abs(i[l])>r)return;if(n[l]=d*n[l-1]+n[l-2],(a=i[l]/n[l])===o)return;if(t.push({numerator:i[l],denominator:n[l]}),a===e)return;o=a,s=1/(s-d)}}getMaxNumerator(e){let t=null,i=e.toString().indexOf("E");-1===i&&(i=e.toString().indexOf("e"));let n=null;const r=(t=-1===i?e.toString():e.toString().substring(0,i)).toString().indexOf(".");-1===r?n=t:0===r?n=t.substring(1,t.length):r<t.length&&(n=t.substring(0,r)+t.substring(r+1,t.length));let a=n;const s=a.toString().length,o=e;let l=o.toString().length;0===o&&(l=0);const d=s-l;for(let e=d;e>0&&a%2==0;e--)a/=2;for(let e=d;e>0&&a%5==0;e--)a/=5;return a}exponentialToSuperscript(e){const t=e.indexOf("e"),i=e.slice(t+1).replace(/0{1,2}/,"");let n=e.slice(0,t+1);return n=n.replace("e","Ã10"),n=(n+=this.toSuperscript(i)).replace("+","")}toSuperscript(e,t){const i="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹";let n="";for(let r=0;r<e.length;r++)if(!0===t){const t=i.indexOf(e.charAt(r));n+=-1!==t?"-0123456789"[t]:e[r]}else{const t="-0123456789".indexOf(e.charAt(r));n+=-1!==t?i[t]:e[r]}return n}});var F=Object.freeze({});JQX.Utilities.Assign("TickIntervalHandler",class{constructor(e,t,i,n,r,a,s){const o=this;o.context=e,o.minLabel=t,o.maxLabel=i,o.labelClass=n,o.dimension=r,o.logarithmic=s,e.customInterval?e.customTicks.length>0?o.labelsSize=o.getCustomTicksLabelSize():o.labelsSize={minLabelSize:0,minLabelOtherSize:0,maxLabelSize:0,maxLabelOtherSize:0}:o.labelsSize=o.getMinAndMaxLabelSize(),a?(o.getNiceInterval=o.getNiceIntervalInteger,o.getPossibleBiggerLabel=o.getPossibleBiggerLabelInteger):(o.getNiceInterval=o.getNiceIntervalFloatingPoint,o.getPossibleBiggerLabel=o.getPossibleBiggerLabelFloatingPoint)}getInterval(e,t,i,n){const r=this.context,a=r._measurements.innerRadius;let s,o,l=1;"radial"===e?(s=Math.max(this.labelsSize.minLabelSize,this.labelsSize.minLabelOtherSize,this.labelsSize.maxLabelSize,this.labelsSize.maxLabelOtherSize),l=1.35):(s=Math.max(this.labelsSize.minLabelSize,this.labelsSize.maxLabelSize),l=1.45),s*=l,o="radial"===e?function(){let e=2*Math.PI*a*(Math.abs(r.startAngle-r.endAngle)/360);return Math.round(e)}():r[this.dimension]-this.labelsSize.minLabelSize/2-this.labelsSize.maxLabelSize/2,o=Math.max(10,o);const d=Math.ceil(o/s),h="radial"===e?4*d:3*d;let c=this.getNiceInterval(t,i,d,!0),u=this.getNiceInterval(t,i,h);if(r._cachedLabelsSize=this.labelsSize,d>2&&!r.customInterval){const a=this.getPossibleBiggerLabel(d,c);if(a.length>Math.max(this.minLabel.length,this.maxLabel.length)){const s=this.minLabel;this.minLabel=a,this.labelsSize=this.getMinAndMaxLabelSize(),r._cachedLabelsSize=this.labelsSize;const o=this.getInterval(e,t,i,n);return this.minLabel=s,this.labelsSize=this.getMinAndMaxLabelSize(),o}}return{major:c,minor:u}}getNiceIntervalFloatingPoint(e,t,i,n){const r=t-e,a=Math.floor(Math.log10(r)-Math.log10(i));let s,o=Math.pow(10,a),l=i*o,d=(s=r<2*l?1:r<3*l?2:r<7*l?5:10)*o;if(n&&this.context._range/d>i){switch(s){case 5:s=10;break;case 2:s=5;break;case 1:s=2}d=s*o}return this.nearestPowerOfTen=o,this.logarithmic&&n?Math.max(1,d):d}getPossibleBiggerLabelFloatingPoint(e,t){const i=this.context;let n,r,a=parseFloat(i.min-i._numericProcessor.getPreciseModulo(parseFloat(i.min),t)+parseFloat(t)),s=a;this.logarithmic&&(a=Math.pow(10,a)),n=i._formatLabel(a);for(let a=1;a<e&&!((s+=t)>=i._drawMax);a++)r=this.logarithmic?Math.pow(10,s):s,(r=i._formatLabel(r)).length>n.length&&(n=r);return n}getNiceIntervalInteger(e,t,i,n){const r=new JQX.Utilities.BigNumber(t).subtract(new JQX.Utilities.BigNumber(e)),a=Math.floor(Math.log10(r.toString())-Math.log10(i)),s=new JQX.Utilities.BigNumber(10).pow(new JQX.Utilities.BigNumber(a)),o=new JQX.Utilities.BigNumber(i).multiply(s);let l;l=-1===r.compare(new JQX.Utilities.BigNumber(2*o))?1:-1===r.compare(new JQX.Utilities.BigNumber(3*o))?2:-1===r.compare(new JQX.Utilities.BigNumber(7*o))?5:10;let d=new JQX.Utilities.BigNumber(l).multiply(s);if(n&&1===new JQX.Utilities.BigNumber(this.context._range).divide(d).compare(i)){switch(l){case 5:l=10;break;case 2:l=5;break;case 1:l=2}d=new JQX.Utilities.BigNumber(l).multiply(s)}return-1===d.compare(1)&&(d=new JQX.Utilities.BigNumber(1)),this.nearestPowerOfTen=s,d}getPossibleBiggerLabelInteger(e,t){const i=this.context,n=new JQX.Utilities.BigNumber(10);let r,a,s=new JQX.Utilities.BigNumber(i.min).subtract(new JQX.Utilities.BigNumber(i.min).mod(t)).add(t),o=s;this.logarithmic&&(s=n.pow(s)),r=i._formatLabel(s);for(let s=1;s<e&&-1===(o=o.add(t)).compare(i._drawMax);s++)a=this.logarithmic?n.pow(o):o,(a=i._formatLabel(a)).length>r.length&&(r=a);return r}getMinAndMaxLabelSize(){const e=this.context,t=e.$.container,i=document.createElement("span");i.className=this.labelClass,i.style.position="absolute",i.style.visibility="hidden",t.appendChild(i),i.innerHTML=this.minLabel;const n=i[this.dimension],r=i[e._settings.otherSize];i.innerHTML=this.maxLabel;const a=i[this.dimension],s=i[e._settings.otherSize];return t.removeChild(i),{minLabelSize:n,minLabelOtherSize:r,maxLabelSize:a,maxLabelOtherSize:s}}getCustomTicksLabelSize(){const e=this,t=e.context,i=t.$.container,n=document.createElement("span"),r=t.customTicks;n.className=e.labelClass,n.style.position="absolute",n.style.visibility="hidden",i.appendChild(n),n.innerHTML=t._formatLabel(r[0]);let a=n[e.dimension],s=n[t._settings.otherSize];for(let i=1;i<t.customTicks.length;i++){n.innerHTML=t._formatLabel(t.customTicks[i]);const r=n[e.dimension],o=n[t._settings.otherSize];r>a&&(a=r),o>s&&(s=o)}return i.removeChild(n),{minLabelSize:a,minLabelOtherSize:s,maxLabelSize:a,maxLabelOtherSize:s}}});var U=Object.freeze({});JQX("jqx-scroll-bar",class extends JQX.BaseElement{static get properties(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}static get styleUrls(){return["jqx.scrollbar.css"]}template(){return'<div id="container" class="jqx-container">\n                    <div id="nearButton" class ="jqx-scroll-button jqx-arrow-left"></div>\n                    <div  id="track" class ="jqx-track">\n                        <div id="thumb" class="jqx-thumb"></div>\n                    </div>\n                    <div id="farButton" class ="jqx-scroll-button jqx-arrow-right"></div>\n            </div>'}static get listeners(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.mousedown":"_startRepeat","nearButton.mouseup":"_stopRepeat","nearButton.mouseenter":"_updateInBoundsFlag","nearButton.mouseleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.mousedown":"_startRepeat","farButton.mouseup":"_stopRepeat","farButton.mouseenter":"_updateInBoundsFlag","farButton.mouseleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}_updateInBoundsFlag(e){const t=this,i=e.target;i._isPointerInBounds=!0,"mouseleave"===e.type&&(i._isPointerInBounds=!1),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}_startRepeat(e){const t=this;if(t.disabled)return;const i=e.target;i._initialTimer||(i._initialTimer=setTimeout(function(){i._repeatTimer=setInterval(()=>{if(i._isPointerInBounds){const t="buttons"in e?e.buttons:e.which;i.$.fireEvent("click",{buttons:t,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}},t.clickRepeatDelay)},3*t.clickRepeatDelay))}_stopRepeat(e){if(this.disabled)return;const t=e.target;t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null)}_calculateThumbSize(e){const t=this,i=t.max-t.min,n="horizontal"===t.orientation?t.$.track.offsetWidth>10:t.$.track.offsetHeight>10;let r=0;return i>=1&&n?(r=e/(i+e)*e,t.$.thumb.className.indexOf("jqx-hidden")>=0&&t.$thumb.removeClass("jqx-hidden")):t.$thumb.addClass("jqx-hidden"),Math.max(10,Math.min(r,e))}_dragStartHandler(e){this.disabled||(this.thumbCapture=!0,this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value,e.stopPropagation(),e.preventDefault())}_dragHandler(e){if(!0!==this.thumbCapture)return;this._isThumbDragged=!0;const t=(this.max-this.min)/(this.scrollBarSize-this.thumbSize),i="horizontal"===this.orientation?(e.clientX-this.dragStartX)*t:(e.clientY-this.dragStartY)*t;let n=i;this.rightToLeft&&"horizontal"===this.orientation&&(n=-i),this._updateValue(this.dragStartValue+n),e.stopPropagation(),e.preventDefault(),e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}_dragEndHandler(e){const t=this;t._trackDownTimer&&(clearInterval(t._trackDownTimer),t._trackDownTimer=null),t.thumbCapture&&(t.thumbCapture=!1,t._isThumbDragged=!1,"switchWhenReleased"===t.mechanicalAction?t._updateValue(t.dragStartValue,t.value):"switchUntilReleased"===this.mechanicalAction&&t._updateValue(t.dragStartValue),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation())}_farButtonClickHandler(){const e=this;if(e.disabled)return;const t=e.value;e._updateValue(e.value+e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}_nearButtonClickHandler(){const e=this;if(e.disabled)return;const t=e.value;e._updateValue(e.value-e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"min":case"max":case"orientation":case"showButtons":n._layout();break;case"value":n._updateValue(t,i)}}ready(){super.ready();this._layout()}_resizeHandler(){this._layout()}refresh(){this._layout()}_layout(){const e=this;e.scrollBarSize="horizontal"===e.orientation?e.$.track.offsetWidth:e.$.track.offsetHeight,e.thumbSize=e._calculateThumbSize(e.scrollBarSize),"horizontal"===e.orientation&&e.$.thumb.style.width!==e.thumbSize+"px"?e.$.thumb.style.width=e.thumbSize+"px":"vertical"===e.orientation&&e.$.thumb.style.height!==e.thumbSize+"px"&&(e.$.thumb.style.height=e.thumbSize+"px"),"horizontal"===e.orientation?(e.$.nearButton.classList.contains("jqx-arrow-up")&&e.$.nearButton.classList.remove("jqx-arrow-up"),e.$.farButton.classList.contains("jqx-arrow-down")&&e.$.farButton.classList.remove("jqx-arrow-down"),e.$.nearButton.classList.contains("jqx-arrow-left")||e.$.nearButton.classList.add("jqx-arrow-left"),e.$.farButton.classList.contains("jqx-arrow-right")||e.$.farButton.classList.add("jqx-arrow-right")):(e.$.nearButton.classList.contains("jqx-arrow-left")&&e.$.nearButton.classList.remove("jqx-arrow-left"),e.$.farButton.classList.contains("jqx-arrow-right")&&e.$.farButton.classList.remove("jqx-arrow-right"),e.$.nearButton.classList.contains("jqx-arrow-up")||e.$.nearButton.classList.add("jqx-arrow-up"),e.$.farButton.classList.contains("jqx-arrow-down")||e.$.farButton.classList.add("jqx-arrow-down")),e._updateThumbPosition(),(e.value>e.max||e.value<e.min)&&e._updateValue(e.value,e.value>e.max?e.max:e.min)}_selectStartHandler(e){this.thumbCapture&&e.preventDefault()}_trackDownHandler(e){const t=this;e.target===t.$.track&&(t._trackDownTimer=setInterval(function(){t._trackClickHandler(e)},t.clickRepeatDelay),e.stopPropagation(),e.preventDefault())}_trackClickHandler(e){const t=this;if(t.disabled)return;if(t._isThumbDragged)return clearInterval(t._trackDownTimer),void(t._trackDownTimer=null);const i=t.$.thumb.getBoundingClientRect(),n=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset,a=t.value;"horizontal"===t.orientation?n>(t._isThumbDragged?t.dragStartX:i.right)?t._updateValue(t.value+t.largeStep):n<(t._isThumbDragged?t.dragStartX:i.left)&&t._updateValue(t.value-t.largeStep):r>(t._isThumbDragged?t.dragStartY:i.bottom)?t._updateValue(t.value+t.largeStep):r<(t._isThumbDragged?t.dragStartY:i.top)&&t._updateValue(t.value-t.largeStep),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(a)}_updateValue(e,t){const i=this;if(1===arguments.length&&(t=e,e=i.value),(void 0===t||isNaN(t))&&(t=i.min),t>i.max&&(t=i.max),t<i.min&&(t=i.min),i.value=t,e!==t){if(i._updateThumbPosition(),i.thumbCapture&&"switchWhenReleased"===i.mechanicalAction)return;if(i.onChange)return void i.onChange({value:i.value,oldValue:e,min:i.min,max:i.max});i.$.fireEvent("change",{value:i.value,oldValue:e,min:i.min,max:i.max})}}_updateThumbPosition(){const e=this,t=e.$.track.offsetHeight,i=e.$.track.offsetWidth,n="horizontal"===e.orientation?i:t,r=e._calculateThumbSize(n),a="horizontal"===e.orientation?i-r:t-r;let s=(n-r)/(e.max-e.min)*(e.value-e.min);e.rightToLeft&&"horizontal"===e.orientation&&(s=(n-r)/(e.max-e.min)*(e.max-e.value-e.min)),s=Math.min(a,Math.max(0,s)),"vertical"===e.orientation&&e.$.thumb.style.top!==s+"px"?e.$.thumb.style.top=s+"px":"horizontal"===e.orientation&&e.$.thumb.style.left!==s+"px"&&(e.$.thumb.style.left=s+"px")}});var W=Object.freeze({});JQX("jqx-button",class extends JQX.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["jqx.button.css"]}template(){return"<button class='jqx-button' inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role='button'></button>"}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const e=this;e.$.button?e.$.button.focus():HTMLElement.prototype.focus.call(e)}blur(){const e=this;e.$.button?e.$.button.blur():HTMLElement.prototype.blur.call(e)}_upHandler(e){e.stopPropagation(),this.$.setAttributeValue("active",!1)}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_clickHandler(e){("release"!==this.clickMode&&"pressAndRelease"!==this.clickMode||this.readonly)&&(e.preventDefault(),e.stopPropagation())}_downHandler(e){const t=this;if(!(t.disabled||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t.$.setAttributeValue("active",!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly))){const i="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}_mouseEnterHandler(e){const t=this;if(!t.readonly&&(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0),"hover"===t.clickMode)){const i="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}_touchEndHandler(){const e=this;setTimeout(function(){e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;"disabled"===e?(n._setFocusable(),n.$button&&n.$button.setAttributeValue("hover",!1),n.$.setAttributeValue("hover",!1),n instanceof JQX.RepeatButton&&n._stopRepeat()):"unfocusable"===e&&n._setFocusable()}_setFocusable(){const e=this.$.button?this.$.button:this;if(this.disabled||this.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);e.tabIndex=this.tabIndex>0?this.tabIndex:0}ready(){super.ready(),this._setFocusable()}}),JQX("jqx-repeat-button",class extends JQX.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.mousedown":"_startRepeat","button.mouseenter":"_updateInBoundsFlag","button.mouseleave":"_updateInBoundsFlag","document.mouseup":"_stopRepeat"}}_clickHandler(e){const t=this;("release"!==t.clickMode||t.preventDefaultClick||t.readonly||t.disabled)&&(e.preventDefault(),e.stopPropagation(),t.preventDefaultClick=!1)}_updateInBoundsFlag(e){const t=this;t._isPointerInBounds=!0,"mouseleave"===e.type?(t._isPointerInBounds=!1,t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)):(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0)),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}_startRepeat(e){const t=this;t._initialTimer||t.readonly||(t._initialTimer=setTimeout(function(){t._repeatTimer=setInterval(()=>{if(t._isPointerInBounds){const i="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),t.preventDefaultClick=!0}},t.delay)},t.initialDelay))}_stopRepeat(){const e=this;e.readonly||(e.$.setAttributeValue("active",!1),e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null))}}),JQX("jqx-toggle-button",class extends JQX.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready()}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){this.setAttribute("hover",""),this.disabled||this.readonly||"hover"!==this.clickMode||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue())}_documentUpHandler(){this._pressed&&(this._pressed=!1,this.disabled||this.readonly||"press"===this.clickMode||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue()))}_downHandler(e){const t=this;t.disabled||t.readonly||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t._updateHidenInputNameAndValue()),"press"===t.clickMode&&(e.preventDefault(),e.stopPropagation()))}_dragStartHandler(e){e.preventDefault()}_keyHandler(e){const t=this;if(!0!==t.disabled&&!t.readonly&&32===e.keyCode){if("keydown"===e.type)return void e.preventDefault();if("none"===t.switchMode)return;t._changeCheckState("keyboard"),t._updateHidenInputNameAndValue()}}_changeCheckState(e){const t=this;let i=null;null===t.checked?t.checked=!0:(i=t.checked,t.checked=!t.checked),t._handleTextSelection(),t.$.fireEvent("change",{value:t.checked,oldValue:i,changeType:e})}_handleTextSelection(){const e=this;e.$.addClass("jqx-unselectable"),e.timer&&clearTimeout(e.timer),e.timer=setTimeout(()=>e.$.removeClass("jqx-unselectable"),500)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch("checked"===e&&n.$.fireEvent("change",{value:i,oldValue:t,changeType:"api"}),e){case"trueTemplate":n._handleTemplate(!0);break;case"falseTemplate":n._handleTemplate(!1);break;case"indeterminateTemplate":n._handleTemplate()}}_htmlBindOnInitialization(){this._bindContentProperty("trueContent","jqx-true-content"),this._bindContentProperty("falseContent","jqx-false-content"),this._bindContentProperty("indeterminateContent","jqx-indeterminate-content")}_bindContentProperty(e,t){const i=this;if(!i.$[e+"Container"])return;let n=document.createElement("div");n.innerHTML=i.innerHTML;let r,a=n.getElementsByClassName(t);if(a.length>0)for(let e=0;e<a.length;e++)r=a[e];""===i[e]&&(i[e]=void 0===r?"":r.outerHTML),i.$[e+"Container"].innerHTML=i[e]}_updateContentProperties(){const e=this;function t(t){e.$[t+"Container"]&&(e[t]=e.$[t+"Container"].innerHTML)}t("trueContent"),t("falseContent"),t("indeterminateContent")}_updateHidenInputValue(){const e=this;if(!e.$.hiddenInput)return;let t;t=null===e.checked?"null":!1===e.checked?"off":e.value||"on",e.$.hiddenInput.setAttribute("value",t)}_updateHidenInputName(){if(!this.$.hiddenInput)return;let e=!1===this.checked?"":this.name||"";this.$.hiddenInput.setAttribute("name",e)}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(e,t){const i=this;let n,r,a;if(!0===e?(n=i.trueTemplate,r=i.$.trueContentContainer,a=i.trueContent):!1===e?(n=i.falseTemplate,r=i.$.falseContentContainer,a=i.falseContent):(n=i.indeterminateTemplate,r=i.$.indeterminateContentContainer,a=i.indeterminateContent),t&&(r.innerHTML=a||""),null===n||!n)return;if("function"==typeof n)return void n(r,{value:a});if(!("content"in document.createElement("template")))return void i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()}));if(null===(n=document.getElementById(n))||!("content"in n))return void i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:"template"}));const s=n.content,o=s.childNodes.length,l=/{{\w+}}/g;let d,h=[];for(let e=0;e<o;e++)for(d=l.exec(s.childNodes[e].innerHTML);d;)h.push({childNodeIndex:e,bindingString:d[0]}),d=l.exec(s.childNodes[e].innerHTML);const c=h.length;let u,p,m=document.importNode(n.content,!0);for(let e=0;e<c;e++){u=m.childNodes[h[e].childNodeIndex],p=h.length;for(let t=0;t<p;t++)u.innerHTML=u.innerHTML.replace(h[e].bindingString,a)}r.innerHTML="";for(let e=0;e<m.childNodes.length;e++)m.childNodes[e].outerHTML&&(r.innerHTML+=m.childNodes[e].outerHTML)}});var G=Object.freeze({});JQX("jqx-check-box",class extends JQX.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"checkbox",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}template(){return"<div id='container' class='jqx-container'>\n                 <div class ='jqx-overlay'></div>\n                 <span id='checkBoxInput' class ='jqx-input'></span>\n                 <span id='checkBoxLabel' inner-h-t-m-l='[[innerHTML]]' class ='jqx-label'><content></content></span>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler","checkBoxInput.mouseenter":"_mouseEnterHandler","checkBoxInput.mouseleave":"_mouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["jqx.checkbox.css"]}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){const e=this;super.ready(),e.indeterminate&&(e._valueCashe=e.checked,e.checked=null),e._updateHidenInputNameAndValue()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(n._updateContentProperties(),e){case"indeterminate":i?(n._valueCashe=n.checked,n.checked=null):n.checked=n._valueCashe,n._updateHidenInputNameAndValue();break;case"value":case"checked":n._updateHidenInputNameAndValue();break;case"name":n._updateHidenInputName()}}_documentUpHandler(e){const t=this.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(this._pressed&&(this._pressed=!1,this.$.setAttributeValue("active",!1),!(this.disabled||this.readonly||"input"===this.checkMode&&t!==this.$.checkBoxInput||"label"===this.checkMode&&t!==this.$.checkBoxLabel))){if("press"===this.clickMode)return e.preventDefault(),void e.stopPropagation();this._changeCheckState("pointer"),this.focus(),this._handleTextSelection(),this._updateHidenInputNameAndValue()}}_downHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(!(t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.checkBoxInput||"label"===t.checkMode&&i!==t.$.checkBoxLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){const e=t.$.checkBoxInput.getBoundingClientRect(),i=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;JQX.Utilities.Animation.Ripple.animate(t.$.checkBoxInput,e.left+e.width/2+i,e.top+e.height/2+n)}t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t.focus(),t._updateHidenInputNameAndValue())}}});var X=Object.freeze({});JQX("jqx-led",class extends JQX.ToggleButton{static get properties(){return{shape:{value:"round",allowedValues:["round","square"],type:"string"}}}static get styleUrls(){return["jqx.led.css"]}template(){return"<div id='container' class='jqx-container'>\n                 <div id='ledAnimation' class ='jqx-animation'></div>\n                 <div id='button' class='jqx-input'>\n                    <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class ='jqx-false-content-container'></span>\n                    <span id='indeterminateContentContainer' inner-h-t-m-l='[[indeterminateContent]]' class ='jqx-indeterminate-content-container'></span>\n                    <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class ='jqx-true-content-container'></span>\n                 </div>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}ready(){const e=this;super.ready(),e._htmlBindOnInitialization(),e.indeterminate&&(e._valueCashe=e.checked,e.checked=null),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"indeterminate":i?(n._valueCashe=n.checked,n.checked=null):n.checked=n._valueCashe,n._updateHidenInputNameAndValue();break;case"trueContent":n.trueContent=i,n._handleTemplate(!0);break;case"falseContent":n.falseContent=i,n._handleTemplate(!1);break;case"indeterminateContent":n.indeterminateContent=i,n._handleTemplate();break;case"value":case"checked":n._updateHidenInputNameAndValue();break;case"name":n._updateHidenInputName()}}_documentUpHandler(e){const t=this;if(t._pressed&&!t.readonly){if("press"===t.clickMode)return e.preventDefault(),e.stopPropagation(),void(t._pressed=!1);super._documentUpHandler(e),t.indeterminate=!1,t._updateHidenInputNameAndValue(),t._pressed=!1}}_mouseDownHandler(){const e=this;e.readonly||e.disabled||(e._pressed=!0,"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||(e._changeCheckState("pointer"),e.$.fireEvent("click"),e.indeterminate=!1,e._updateHidenInputNameAndValue()))}});var Y=Object.freeze({});JQX("jqx-power-button",class extends JQX.ToggleButton{static get styleUrls(){return["jqx.powerbutton.css"]}template(){return"<div id='container' class='jqx-container'>\n                 <div id='powerButtonAnimation' class ='jqx-animation'></div>\n                 <span id='button' class ='jqx-input'></span>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}ready(){super.ready(),this._updateHidenInputNameAndValue()}});var J=Object.freeze({});JQX("jqx-radio-button",class extends JQX.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"radio",type:"string",defaultReflectToAttribute:!0,readonly:!0},groupName:{value:"",type:"string"}}}template(){return"<div  id='container' class='jqx-container'>\n                 <div class ='jqx-overlay'></div>\n                 <span id='radioButtonInput' class ='jqx-input'></span>\n                 <span id='radioButtonLabel' inner-h-t-m-l='[[innerHTML]]' class ='jqx-label'><content></content></span>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler",mouseenter:"_elementMouseEnterHandler","radioButtonInput.mouseenter":"_radioMouseEnterHandler","radioButtonInput.mouseleave":"_radioMouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["jqx.radiobutton.css"]}_radioMouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_radioMouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){super.ready(),this._handleMultipleCheckedInstances(),this._updateHidenInputNameAndValue()}_downHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(!(t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.radioButtonInput||"label"===t.checkMode&&i!==t.$.radioButtonLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){const e=t.$.radioButtonInput.getBoundingClientRect(),i=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;JQX.Utilities.Animation.Ripple.animate(t.$.radioButtonInput,e.left+e.width/2+i,e.top+e.height/2+n)}t._preventAction?t._preventAction=!1:("release"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._pressed=!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||("pressAndRelease"===t.clickMode&&(""===t.groupName?t._checkedBeforeChange=t.parentNode.querySelector("jqx-radio-button[checked]"):t._checkedBeforeChange=document.querySelector('jqx-radio-button[group-name="'+t.groupName+'"][checked]')),t._handleMouseInteraction()))}}_elementMouseEnterHandler(){const e=this;"hover"!==e.clickMode||e.disabled||e.readonly||e._handleMouseInteraction()}_documentUpHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;!t._pressed||t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.radioButtonInput||"label"===t.checkMode&&i!==t.$.radioButtonLabel||("release"===t.clickMode?t._handleMouseInteraction():(null===t._checkedBeforeChange?(t.$.fireEvent("change",{value:!1,oldValue:!0,changeType:"pointer"}),t.checked=!1):t._checkedBeforeChange._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue()),t.$.setAttributeValue("active",!1),t._pressed=!1)}_handleMouseInteraction(){this._handleTextSelection(),this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue()}_handleMultipleCheckedInstances(){const e=Array.from(document.querySelectorAll('jqx-radio-button[group-name="'+this.groupName+'"][checked]')),t=e.length;t<2||e.forEach((e,i)=>i<t-1&&(e.checked=!1))}_changeCheckState(e){const t=this;let i=document.querySelectorAll('jqx-radio-button[group-name="'+t.groupName+'"]');if(!0===t.checked&&"api"===e||!1===t.checked)if(i.length>0)t._changeCheckStateInGroup(i,e);else{i=t.parentNode.querySelectorAll("jqx-radio-button:not([group-name])"),t._changeCheckStateInGroup(i,e)}}_changeCheckStateInGroup(e,t){const i=this;for(let n=0;n<e.length;n++)e[n]._isUpdating=!0,e[n]===i?(i.checked=!0,i.$.fireEvent("change",{value:!0,oldValue:!1,changeType:t})):e[n].checked&&(e[n].checked=!1),e[n]._isUpdating=!1}propertyChangedHandler(e,t,i){const n=this;switch(e){case"value":n._updateHidenInputNameAndValue();break;case"checked":n._isUpdating||n._changeCheckState("api"),n._updateHidenInputNameAndValue();break;case"name":n._updateHidenInputName();break;default:super.propertyChangedHandler(e,t,i)}}});var Q=Object.freeze({});JQX("jqx-switch-button",class extends JQX.ToggleButton{static get properties(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"default",allowedValues:["default","click","drag","none"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}static get listeners(){return{"container.down":"_mouseDownHandler","document.move":"_drag","document.up":"_switchThumbDropHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}template(){return"<div  id='container' class='jqx-container'>\n                    <div  id='innerContainer' class ='jqx-inner-container'>\n                           <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class ='jqx-false-content-container'></span>\n                           <span id='switchThumb' class ='jqx-thumb'></span>\n                           <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class ='jqx-true-content-container'></span>\n                    </div>\n                    <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}ready(){const e=this;super.ready();let t=e.animation;e.hasAnimation&&(e.animation="none"),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport()&&Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-switch-button-default-width")),e._htmlBindOnInitialization(),e._resizeHandler(),e._initializePrivateVariables(),e._getContainersSizeAndBreakPoint(),e.indeterminate&&(e._valueCache=e.checked,e.checked=null),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue(),e._updateThumbPosition(),e.animation=t}_mouseDownHandler(e){const t=this;t.disabled||t.readonly||"none"===t.switchMode||(e.originalEvent.target.closest(".jqx-thumb")!==t.$.switchThumb||"default"!==t.switchMode&&"drag"!==t.switchMode||t._switchThumbDragStartHandler(e),t._isSwitchClicked=t,t._updateContentProperties(),"release"!==t.clickMode&&"click"===t.switchMode&&(t._updateStateOnClick(),t.$.fireEvent("click"),t.indeterminate=!1,t._updateHidenInputNameAndValue()))}_updateStateOnClick(){this._changeCheckState(),this.focus()}_drag(e){this._mouseDown&&(JQX.Utilities.Core.isMobile&&e.originalEvent.preventDefault(),this._switchThumbDragHandler(e))}_switchThumbDragStartHandler(e){this.disabled||("click"===this.switchMode&&"release"!==this.clickMode&&(e.preventDefault(),e.stopPropagation()),this._isInactiveOn("drag")||(this._mouseDown=!0,this._getContainersSizeAndBreakPoint(),this._pointerPosition="vertical"===this.orientation?e.pageY:e.pageX,e.preventDefault()))}_selectStartHandler(e){this._mouseDown&&e.preventDefault()}_switchThumbDragHandler(e){const t=this;if(t._isInactiveOn("drag"))return;if(!1===t._mouseDown)return void t._removeDragStyles();t.hasAttribute("dragged")||t.setAttribute("dragged","");let i=t.$.innerContainer,n=t.$.container.getBoundingClientRect(),r="vertical"===t.orientation?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,a="vertical"===t.orientation?n.top+r:n.left+r,s="vertical"===t.orientation?t._pointerPosition-i.offsetTop:t._pointerPosition-i.offsetLeft,o=t._pointerPosition>=a&&t._pointerPosition<=a+t._switchContainerSize;const l=-1*(t.offsetWidth-t.$.switchThumb.offsetWidth),d=-1*(t.offsetHeight-t.$.switchThumb.offsetHeight);if(t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,o){let e=t._pointerPosition-s;e<-t._switchTrackLength&&(e=-t._switchTrackLength),e>0&&(e=0),"vertical"===t.orientation?t.$.innerContainer.style.top=Math.max(d,e)+"px":t.$.innerContainer.style.left=Math.max(l,e)+"px"}}_switchThumbDropHandler(){const e=this;e.hasAttribute("dragged")?e._endDrag():e._isSwitchClicked&&e._endClick(),e._mouseDown=!1,delete e._isSwitchClicked}_endDrag(){const e=this;if(e.indeterminate=!1,e._updateHidenInputNameAndValue(),e._isInactiveOn("drag")||!e._mouseDown)return;e.removeAttribute("dragged");const t=("vertical"===e.orientation?e.$.innerContainer.offsetTop+e.$.switchThumb.offsetTop+e.$.switchThumb.clientHeight/2:e.$.innerContainer.offsetLeft+e.$.switchThumb.offsetLeft+e.$.switchThumb.clientWidth/2)>e._switchBreakPoint;null!==e.checked?!e.inverted==(t===e.checked)&&e._changeCheckState(!e.checked):t?e._changeCheckState(e.inverted):e._changeCheckState(!e.inverted),e._removeDragStyles(),e._updateThumbPosition()}_endClick(){const e=this;e._resizeHandler(),e.disabled||e.readonly||e._isInactiveOn("click")||("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e._updateStateOnClick(),e.indeterminate=!1,e._updateHidenInputNameAndValue())}_switchButtonOnMouseEnter(){this.disabled||this.readonly||this.$.addClass("hovered")}_switchButtonOnMouseLeave(){this.disabled||this.readonly||this.$.removeClass("hovered")}_isInactiveOn(e){const t=this.disabled||this.readonly||this.switchMode!==e;return"default"!==this.switchMode&&t}_keyUpHandler(e){this.disabled||this.readonly||32!==e.keyCode||"none"===this.switchMode||(this._getContainersSizeAndBreakPoint(),this._changeCheckState())}_initializePrivateVariables(){this._switchContainerSize=this._switchTrackLength=this._switchBreakPoint=this._pointerPosition=0,this._mouseDown=!1}_changeCheckState(e){const t=this;let i=t.checked;if(null===i&&void 0!==e)return t.$.fireEvent("change",{value:e,oldValue:null}),t.checked=e,void t._updateThumbPosition();null===t.checked?t.checked=!0:t.checked=!t.checked,t._updateThumbPosition(),t.$.fireEvent("change",{value:t.checked,oldValue:i}),t._updateHidenInputNameAndValue()}_getContainersSizeAndBreakPoint(){this._switchContainerSize="vertical"===this.orientation?this.$.container.clientHeight:this.$.container.clientWidth,this._switchTrackLength="vertical"===this.orientation?this._switchContainerSize-this.$.switchThumb.clientHeight:this._switchContainerSize-this.$.switchThumb.clientWidth,this._switchBreakPoint=this._switchContainerSize/2}_removeDragStyles(){this._supportCSSVariables?this.$.innerContainer.removeAttribute("style"):this.$.innerContainer.style.left="",this._supportCSSVariables?this.$.innerContainer.removeAttribute("style"):this.$.innerContainer.style.top="",this._mouseDown=!1}propertyChangedHandler(e,t,i){const n=this;switch(super.propertyChangedHandler(e,t,i),n._updateContentProperties(),e){case"indeterminate":i?(n._valueCache=n.checked,n.checked=null):n.checked=n._valueCache;break;case"trueContent":n.trueContent=i;break;case"falseContent":n.falseContent=i;break;case"orientation":n._resizeHandler()}n._getContainersSizeAndBreakPoint(),n._removeDragStyles(),n._resizeHandler()}_resizeHandler(){const e=this;if(!document.body.contains(e))return;const t=window.getComputedStyle(e,null),i=parseInt(t.getPropertyValue("border-top-width")),n=parseInt(t.getPropertyValue("border-right-width")),r=parseInt(t.getPropertyValue("border-bottom-width")),a=parseInt(t.getPropertyValue("border-left-width")),s="vertical"===e.orientation?e.offsetHeight-(i+r):e.offsetWidth-(a+n);e._getContainersSizeAndBreakPoint(),e._supportCSSVariables?e.$.container.style.setProperty("--jqx-switch-button-default-width",s+"px"):(e._innerContainerSize=s,e.$.innerContainer.style.height=e.$.innerContainer.style.width="",e.$.trueContentContainer.style.height=e.$.trueContentContainer.style.width="",e.$.falseContentContainer.style.height=e.$.falseContentContainer.style.width="","horizontal"===e.orientation?(e.$.innerContainer.style.setProperty("width",2*s-e.$.switchThumb.clientWidth+"px"),e.$.trueContentContainer.style.setProperty("width",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("width",e._switchTrackLength+"px")):(e.$.innerContainer.style.setProperty("height",2*s-e.$.switchThumb.clientHeight+"px"),e.$.trueContentContainer.style.setProperty("height",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("height",e._switchTrackLength+"px")),e._updateThumbPosition())}_updateThumbPosition(){const e=this;!e._supportCSSVariables&&(e.inverted?!0!==e.checked:!1!==e.checked)&&e._innerContainerSize?((e.inverted?!1===e.checked:e.checked)&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize-e.$.switchThumb.offsetWidth)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize-e.$.switchThumb.offsetHeight)+"px",e.$.innerContainer.style.left="")),null===e.checked&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetWidth/2)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetHeight/2)+"px",e.$.innerContainer.style.left=""))):e.$.innerContainer.style.left=e.$.innerContainer.style.top=""}});var K=Object.freeze({});JQX("jqx-list-item",class extends JQX.ContentElement{static get properties(){return{alternationIndex:{value:-1,type:"int"},color:{value:"",type:"string"},displayMode:{allowedValues:["plain","checkBox","radioButton"],value:"plain",type:"string"},grouped:{value:!1,type:"boolean"},selected:{value:!1,type:"boolean"},value:{value:"",type:"string"},label:{value:"",type:"string"},details:{value:"",type:"string"},group:{value:"",type:"string"},hidden:{value:!1,type:"boolean"},readonly:{value:!1,type:"boolean"}}}get hasStyleObserver(){return!1}get enableShadowDOM(){return!1}get _focused(){const e=this;return void 0===e.__focused&&(e.__focused=!1),e.__focused}set _focused(e){const t=this;t.__focused=e,e?t.setAttribute("focus",""):t.removeAttribute("focus")}template(){return'<div id="container">\n                   <span id=\'itemInput\' class =\'jqx-input jqx-hidden\'></span>\n                    <span class ="jqx-overlay" id="overlay"></span>\n                    <div id="itemContainer" class ="jqx-content jqx-list-item-container"><span class="jqx-content-label" inner-h-t-m-l=\'[[innerHTML]]\'><content></content></span><span inner-h-t-m-l=\'[[details]]\' id="details" class="jqx-content-details"></span></div>\n                </div>'}appendChild(e){const t=this;if(!t.isCompleted||e.classList.contains("jqx-ripple")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.$.itemContainer.innerHTML="",e instanceof HTMLElement&&t.$.itemContainer.appendChild(e)}insertBefore(e,t){const i=this;if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}t.parentNode.insertBefore(e,t)}removeChild(e){const t=this;if(!t.isCompleted||e.classList.contains("jqx-ripple")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.itemContainer.removeChild(e)}attached(){super.attached(),this.ownerListBox=this.getListBox()}static get listeners(){return{mouseenter:"_itemOnMouseEnter",mouseleave:"_itemOnMouseLeave"}}ready(){super.ready();const e=this;""!==e.label?e.innerHTML=e.label:""!==e.innerHTML&&(e.label=e.innerHTML),e._setDisplayMode(e.displayMode),e._setItemColor(),e.$.container.noRipple=!0}propertyChangedHandler(e,t,i){const n=this;if(super.propertyChangedHandler(e,t,i),"hidden"===e)i?n.$.addClass("jqx-hidden"):n.$.removeClass("jqx-hidden");else if("color"===e)n._setItemColor();else if("displayMode"===e)n._setDisplayMode(i);else if("label"===e||"value"===e){const t=n.context;n.context=document,"label"===e&&(n.innerHTML=i);const r=n.getListBox();r._applyTemplate(n),r.onItemUpdated(n),n.context=t}else if("details"===e){const e=n.context;n.context=document,n.$.details.innerHTML=i,n.getListBox().onItemUpdated(n),n.context=e}else if("innerHTML"===e){n.getListBox().onItemUpdated(n)}}getListBox(){const e=this;let t=e.parentNode;for(;t instanceof JQX.ListBox==!1&&null!==t;)t=t.parentNode;return!t&&JQX.EnableShadowDOM?e.getRootNode().host:t}_itemOnMouseEnter(){const e=this;!e.disabled&&e.ownerListBox&&(JQX.ListBox.DragDrop.Dragging&&e.ownerListBox.allowDrop&&(JQX.ListBox.DragDrop.DropDetails={item:e,position:"bottom"}),e.ownerListBox.$.verticalScrollBar.thumbCapture||e.ownerListBox.$.horizontalScrollBar.thumbCapture||e.setAttribute("hover",""))}_itemOnMouseMove(e){const t=this;if(t.ownerListBox&&JQX.ListBox.DragDrop.Dragging&&t.ownerListBox.allowDrop&&!JQX.Utilities.Core.isMobile){const i=[].slice.call(t.ownerListBox.getElementsByClassName("jqx-list-item-bottom-line-feedback"));for(let e=0;e<i.length;e++)i[e].$.removeClass("jqx-list-item-line-feedback"),i[e].$.removeClass("jqx-list-item-bottom-line-feedback");if(JQX.ListBox.DragDrop.DropDetails={item:t,position:"top"},!t.ownerListBox._areCSSVarsSupported){if(t.ownerListBox._indexOf(t)===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){const i=t.getBoundingClientRect();e.pageY-window.pageYOffset>i.top+i.height/2-1&&(JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"})}return}if(t.$.removeClass("jqx-list-item-line-feedback"),t.$.removeClass("jqx-list-item-bottom-line-feedback"),t.ownerListBox.sorted&&t.ownerListBox.autoSort)return;const n=t.ownerListBox._items.filter(e=>!e.hidden);if(n.indexOf(t)===n.length-1||t.parentNode.lastElementChild===t){const i=t.getBoundingClientRect();e.pageY-window.pageYOffset>i.top+i.height/2-1?(t.$.addClass("jqx-list-item-bottom-line-feedback"),JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"}):arguments[1]||t.$.addClass("jqx-list-item-line-feedback")}else arguments[1]||t.$.addClass("jqx-list-item-line-feedback")}}_itemOnMouseLeave(){const e=this;e.ownerListBox&&(JQX.ListBox.DragDrop.Dragging&&(e.$.removeClass("jqx-list-item-line-feedback"),e.$.removeClass("jqx-list-item-bottom-line-feedback")),e.removeAttribute("hover"))}_setDisplayMode(e){const t=this,i=t.getListBox();if(i){const n="checkBox"===i.selectionMode||"radioButton"===i.selectionMode?i.selectionMode:"plain";t.displayMode=e=n}"plain"!==e?t.$itemInput.removeClass("jqx-hidden"):t.$itemInput.addClass("jqx-hidden")}_setItemColor(){const e=this.querySelector(".jqx-content-label"),t=/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(this.color)?this.color:"";e.style.backgroundColor=t,e.style.color=this._getContrastColor(t)}_getContrastColor(e){if(!e)return"";let t=(i=e.slice(1,3),n=e.slice(3,5),r=e.slice(5,7),[parseInt(i,16),parseInt(n,16),parseInt(r,16)]);var i,n,r;return parseFloat(((.299*t[0]+.61*t[1]+.114*t[2])/255).toFixed(2))>.65?"#000000":"#FFFFFF"}}),JQX("jqx-list-items-group",class extends JQX.ContentElement{static get properties(){return{label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}template(){return'<div id="container">\n                 <span id="itemsLabel" class ="jqx-list-items-group-label">[[label]]</span>\n                 <div id="listItemsGroupContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="jqx-list-items-group-container">\n                    <content></content>\n                 </div>\n               </div>'}appendChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.appendChild(e)}removeChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.removeChild(e)}getListBox(){let e=this.parentNode;for(;e instanceof JQX.ListBox==!1&&null!==e;)e=e.parentNode;return e}attached(){const e=this;super.attached(),e.ownerListBox||(e.ownerListBox=e.getListBox())}}),JQX("jqx-list-box",class extends JQX.ScrollViewer{static get properties(){return{allowDrag:{value:!1,type:"boolean"},allowDrop:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},autoSort:{value:!0,type:"boolean"},dataSource:{value:null,type:"any?",reflectToAttribute:!1},dragFeedbackFormatFunction:{value:null,type:"function?"},dragOffset:{value:[10,10],type:"array"},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},shadowDomMode:{allowedValues:["light","shadow"],value:"shadow",type:"string"},dropAction:{value:"move",type:"string",allowedValues:["copy","move","none"]},editable:{value:!1,type:"boolean"},filterable:{value:!1,type:"boolean"},filterCallback:{value:null,type:"function?"},filterMode:{value:"containsIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},filterInputPlaceholder:{value:"",type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number or an Array of numbers.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidItem:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.'}},type:"object"},name:{value:"",type:"string"},placeholder:{value:"No Items",type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},selectionMode:{value:"oneOrManyExtended",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},selectionChangeAction:{value:"release",allowedValues:["press","release"],type:"string"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},topVisibleIndex:{value:-1,type:"int"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"}}}get enableShadowDOM(){return JQX.EnableShadowDOM}static get requires(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}static get styleUrls(){return["jqx.listbox.css"]}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler","container.wheel":"_mouseWheelHandler","editInput.change":"_editInputEventHandler","editInput.blur":"_editInputEventHandler","editInput.keydown":"_editInputEventHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","itemsInnerContainer.down":"_downHandler","itemsInnerContainer.dblclick":"_dblclickEventHandler","itemsInnerContainer.move":"_itemsContainerMoveHandler","itemsContainer.mouseleave":"_mouseLeaveHandler","document.up":"_upHandler","document.move":"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}template(){return'<div id="container" class="jqx-container">\n                 <div class="jqx-list-box-filter-input-container jqx-hidden" id="filterInputContainer">\n                     <input id="filterInput" disabled="[[disabled]]" placeholder=\'[[filterInputPlaceholder]]\'>\n                 </div>\n                 <div id="itemsContainer" class="jqx-list-items-container">\n                      <div id="placeholder" class ="jqx-placeholder">[[placeholder]]</div>\n                      <div id="itemsInnerContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="jqx-list-items-inner-container">\n                          <content></content>\n                      </div>\n                      <input type="text" id="editInput" class= "jqx-hidden"/>\n                 </div>\n                 <jqx-scroll-bar wait id="verticalScrollBar" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                 <jqx-scroll-bar wait id="horizontalScrollBar" disabled="[[disabled]]" ></jqx-scroll-bar>\n                 <div id="loadingIndicatorContainer" class ="jqx-loader-container">\n                    <span id="loadingIndicator" class="jqx-loader"></span>\n                    <span id="loadingIndicatorPlaceHolder" class ="jqx-loader-label jqx-hidden">[[loadingIndicatorPlaceholder]]</span>\n                 </div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}_mouseLeaveHandler(){const e=[].slice.call(this.getElementsByClassName("jqx-list-item-bottom-line-feedback"));for(let t=0;t<e.length;t++)e[t].$.removeClass("jqx-list-item-line-feedback"),e[t].$.removeClass("jqx-list-item-bottom-line-feedback")}_downHandler(e){const t=this;if(t.disabled||t.displayLoadingIndicator||t.readonly)return;let i=e.originalEvent.target,n=null;if(!(i instanceof JQX.ListItem)||i.disabled||i.hidden||i instanceof JQX.ListItemsGroup)for(;i.parentElement;){if(i instanceof JQX.ListItem&&!i.disabled&&!i.hidden&&!(i instanceof JQX.ListItemsGroup)){n=i.dataItem;break}i=i.parentElement}else n=i.dataItem;JQX.ListBox.DragDrop.StartTime=new Date,JQX.ListBox.DragDrop.StartPosition={left:e.pageX,top:e.pageY},n&&(e.stopPropagation(),t.hasRippleAnimation&&(n.readonly||n.disabled||JQX.Utilities.Animation.Ripple.animate(i.$.overlay,e.pageX,e.pageY)),JQX.Utilities.Core.isMobile||"press"!==t.selectionChangeAction||(t._focus(n),t.select(n)),!JQX.ListBox.DragDrop.Feedback&&t.allowDrag&&(JQX.ListBox.DragDrop.DraggedFrom=t,JQX.ListBox.DragDrop.Feedback=document.createElement("span"),t.dragFeedbackFormatFunction?JQX.ListBox.DragDrop.Feedback.innerHTML=t.dragFeedbackFormatFunction(n):JQX.ListBox.DragDrop.Feedback.appendChild(n.offsetHeight?n.cloneNode(!0):t._createItem(n)),JQX.ListBox.DragDrop.Item=n,JQX.Utilities.Extend(JQX.ListBox.DragDrop.Feedback).addClass("jqx-popup jqx-list-item jqx-list-item-feedback")))}_dblclickEventHandler(e){const t=this;if(!t.editable)return;const i=e.target.closest("jqx-list-item");i instanceof JQX.ListItem&&!i.disabled&&!i.readonly?(t.$.editInput.owner=i,t.$.editInput.value=i.label,t.$.editInput.style.height=i.offsetHeight+"px",t.$.editInput.style.top=i.offsetTop+"px",t.$editInput.hasClass("jqx-hidden")&&t.$editInput.removeClass("jqx-hidden"),t.$.editInput.focus()):t.$editInput.addClass("jqx-hidden")}_editInputEventHandler(e){const t=this;if("blur"===e.type||"keydown"===e.type&&"Escape"===e.key)return t.$editInput.hasClass("jqx-hidden")||t.$editInput.addClass("jqx-hidden"),void t.focus();if("keydown"===e.type||t.$editInput.hasClass("jqx-hidden"))return;const i=e.target;if(e.stopPropagation(),i.owner.label!==i.value&&(i.owner.label=i.value,t.itemTemplate&&t._applyTemplate(i.owner),t.dataSource)){const e=i.owner.dataIndex,n=t.dataSource[e];n&&(t.displayMember?n[t.displayMember]=i.value:n.label=i.value)}t.$editInput.addClass("jqx-hidden"),t.$.fireEvent("itemLabelChange",{selected:i.owner.selected,disabled:i.owner.disabled,index:t._indexOf(i.owner),label:i.owner.label,value:i.owner.value})}_pointerUpHandler(e){const t=this;let i=e.originalEvent,n=i.target;const r=i=>{const r=i.ownerListBox;r.disabled||r!==t||r.displayLoadingIndicator||"none"===r.selectionMode||i.grouped||i.readonly||(r._focus(i),r.select(i),e.preventDefault(),JQX.ListBox.DragDrop.StartPosition=null,t.$.fireEvent("itemClick",{selected:n.selected,disabled:n.disabled,index:t._indexOf(n),label:n.label,value:n.value}))};if(!(i.target instanceof JQX.ListItem)||i.target.disabled||i.target instanceof JQX.ListItemsGroup){for(;n.parentElement;){if(n instanceof JQX.ListItem&&!n.disabled&&!(n instanceof JQX.ListItemsGroup)){r(n.dataItem);break}n=n.parentElement}if(this.enableShadowDOM&&"shadow"===this.shadowDomMode){const e=i.composedPath();for(let t=0;t<e.length;t++){const i=e[t];i instanceof JQX.ListItem&&!i.disabled&&r(i.dataItem)}}}else r(n.dataItem)}_upHandler(e){const t=this;if(!t.disabled&&!t.readonly&&JQX.ListBox.DragDrop.StartPosition){if(JQX.Utilities.Core.isMobile&&!JQX.ListBox.DragDrop.Dragging){const i=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),n=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top);let r=i>=0&&i<=3&&n>=0&&n<=3;if(JQX.Utilities.Core.isMobile&&new Date-JQX.ListBox.DragDrop.StartTime>=300&&(r=!1,JQX.ListBox.DragDrop.StartTime=null),r){const i=e.originalEvent.target.closest("jqx-list-box");i?i._pointerUpHandler(e):t._pointerUpHandler(e),JQX.ListBox.DragDrop.StartPosition=null}else{let t=e.originalEvent.target;if(!(e.target instanceof JQX.ListItem)||t.readonly||e.target.disabled||e.target instanceof JQX.ListItemsGroup)for(;t.parentElement;){if(t instanceof JQX.ListItem&&!t.readonly&&!t.disabled&&!(t instanceof JQX.ListItemsGroup)){e.preventDefault(),e.stopPropagation();break}t=t.parentElement}else e.preventDefault(),e.stopPropagation()}}else if(!JQX.Utilities.Core.isMobile&&!JQX.ListBox.DragDrop.Dragging&&"release"===t.selectionChangeAction){const i=e.originalEvent.target.closest("jqx-list-box");i?i._pointerUpHandler(e):t._pointerUpHandler(e)}if(JQX.ListBox.DragDrop.Feedback){let t;if(JQX.ListBox.DragDrop.Feedback.parentNode&&JQX.ListBox.DragDrop.Feedback.parentNode.removeChild(JQX.ListBox.DragDrop.Feedback),JQX.ListBox.DragDrop.Feedback=null,JQX.Utilities.Core.isMobile&&JQX.ListBox.DragDrop.Dragging)for(let i=0;i<JQX.ListBox.DragDrop.ListBoxes.length;i++){const n=JQX.ListBox.DragDrop.ListBoxes[i],r=n.getBoundingClientRect();if(n.allowDrop&&!n.closest(".jqx-visibility-hidden")&&(r.left<=e.pageX&&e.pageX<=r.left+r.width&&r.top<=e.pageY&&e.pageY<=r.top+r.height)){t=n;const i=n._items.filter(e=>!e.hidden);for(let t=0;t<i.length;t++){const a=i[t],s=a.getBoundingClientRect();if((i.indexOf(a)===i.length-1||a.parentNode.lastElementChild===a)&&e.pageY>=r.top+a.offsetTop-n.scrollTop+s.height/2&&e.pageY<=r.top-n.scrollTop+a.offsetTop+s.height){JQX.ListBox.DragDrop.DropDetails={item:a,position:"bottom"};break}if(e.pageY>=r.top+a.offsetTop-n.scrollTop&&e.pageY<=r.top+a.offsetTop+s.height-n.scrollTop){JQX.ListBox.DragDrop.DropDetails={item:a,position:"top"};break}}}}if(JQX.ListBox.DragDrop.Dragging){if(JQX.ListBox.DragDrop.DropDetails){let i=JQX.ListBox.DragDrop.DropDetails.item,n=JQX.ListBox.DragDrop.Item;const r=n.ownerListBox;if(t=!t&&e.originalEvent.target.closest?e.originalEvent.target.closest("jqx-list-box"):t,document.body.classList.remove("jqx-dragging"),i.$.removeClass("jqx-list-item-line-feedback"),i.$.removeClass("jqx-list-item-bottom-line-feedback"),t&&i.ownerListBox!==t&&t.items.length>0&&(i=t.items[t.items.length-1]),JQX.ListBox.DragDrop.Item===i||t!==i.ownerListBox&&!JQX.Utilities.Core.isMobile)t&&0===t._items.length&&"none"!==t.dropAction&&("move"===t.dropAction?JQX.ListBox.DragDrop.Item.ownerListBox.removeChild(JQX.ListBox.DragDrop.Item):"copy"===t.dropAction&&(n=n.cloneNode(!0)),t.appendChild(n));else if("none"!==n.ownerListBox.dropAction){i.ownerListBox!==n.ownerListBox&&"move"===n.ownerListBox.dropAction&&JQX.ListBox.DragDrop.Item.ownerListBox.removeChild(JQX.ListBox.DragDrop.Item),"copy"===n.ownerListBox.dropAction&&(n=n.cloneNode(!0)),JQX.ListBox.DragDrop.Item.group=i.group;const e=i.ownerListBox;"checkBox"!==e.selectionMode&&"radioButton"!==e.selectionMode&&e.clearSelection(),"top"===JQX.ListBox.DragDrop.DropDetails.position?e.insertBefore(n,i):i.parentNode.lastElementChild===i?e.appendChild(n):e.appendChild(n,i),e.ensureVisible(n),"checkBox"===e.selectionMode||"radioButton"===e.selectionMode?(e._focus(n),e._refreshSelection()):(e.clearSelection(),e.select(n))}n.selected&&t!==r&&r._refreshSelection();const a=JQX.ListBox.DragDrop.Item,s=a.ownerListBox;a.displayMode="checkBox"===s.selectionMode||"radioButton"===s.selectionMode?s.selectionMode:"plain",s.$.fireEvent("dragEnd",{item:a,target:i,data:JQX.ListBox.DragDrop,previousContainer:r,container:t,originalEvent:e}),s._focus(a)}else{const t=JQX.ListBox.DragDrop.Item,i=t.ownerListBox;t.displayMode="checkBox"===i.selectionMode||"radioButton"===i.selectionMode?i.selectionMode:"plain",i.$.fireEvent("dragEnd",{item:t,target:null,data:JQX.ListBox.DragDrop,previousContainer:i,container:i,originalEvent:e}),i._focus(t)}e.preventDefault()}delete JQX.ListBox.DragDrop.DraggedFrom,JQX.ListBox.DragDrop.Dragging=!1,JQX.ListBox.DragDrop.Item=null,JQX.ListBox.DragDrop.DropDetails=null}for(let e=0;e<JQX.ListBox.DragDrop.ListBoxes.length;e++){const t=JQX.ListBox.DragDrop.ListBoxes[e];t._dragInterval&&clearInterval(t._dragInterval)}}}_itemsContainerMoveHandler(e){const t=this;if(JQX.ListBox.DragDrop.Dragging)return t._applyItemFeedback(e),t._moveHandler(e),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}_applyItemFeedback(e){const t=this,i=e.originalEvent.target,n=i.closest?i.closest("jqx-list-item"):i;JQX.Utilities.Core.isMobile?JQX.ListBox.DragDrop.DropDetails={item:JQX.ListBox.DragDrop.Item,position:"bottom"}:0!==t.items.length&&(n?n._itemOnMouseMove(e):t.items[t.items.length-1]._itemOnMouseMove(e,!0))}_moveHandler(e){const t=this;if(!JQX.ListBox.DragDrop.Feedback||JQX.ListBox.DragDrop.DraggedFrom!==t)return;const i=t.dragOffset;if(JQX.ListBox.DragDrop.Dragging){JQX.ListBox.DragDrop.Feedback.style.left=i[0]+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=i[1]+e.pageY+"px",t.$.fireEvent("dragging",{item:JQX.ListBox.DragDrop.Item,data:JQX.ListBox.DragDrop,originalEvent:e.originalEvent});for(let t=0;t<JQX.ListBox.DragDrop.ListBoxes.length;t++){const i=JQX.ListBox.DragDrop.ListBoxes[t];i._dragInterval&&clearInterval(i._dragInterval),i._dragInterval=setInterval(function(){const t=i.getBoundingClientRect();t.left<=e.clientX&&t.left+t.width>=e.clientX&&(e.clientY>=t.top&&e.clientY<=t.top+20?i.scrollTop-=2:e.clientY>=t.top+t.height-20&&e.clientY<=t.top+t.height&&(i.scrollTop+=2))},1)}return e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}{const t=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),n=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top),r=new Date-JQX.ListBox.DragDrop.StartTime;let a=t>=5&&t<=15||n>=5&&n<=15;if(JQX.Utilities.Core.isMobile&&(r<300||r>1e3)&&(a=!1),a){JQX.ListBox.DragDrop.Dragging=!0,JQX.ListBox.DragDrop.Feedback.style.left=i[0]+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=i[1]+e.pageY+"px",document.body.appendChild(JQX.ListBox.DragDrop.Feedback),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();const t=JQX.ListBox.DragDrop.Item,n=t.ownerListBox;n.$.fireEvent("dragStart",{item:t,data:JQX.ListBox.DragDrop,container:n,previousContainer:n,originalEvent:e.originalEvent}),document.body.classList.add("jqx-dragging")}}}_focusHandler(){this._focused=!0,this.setAttribute("focus","")}_blurHandler(){this._focused=!1,this.removeAttribute("focus")}appendChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.isVirtualized?(t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)):(e.dataItem=e,t.enableShadowDOM&&"light"===t.shadowDomMode?t.appendChild(e):t.$.itemsInnerContainer.appendChild(e),t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)),t._refreshItems(),t._refreshSelection()}insertBefore(e,t){const i=this;if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}i.isVirtualized?(i._items.indexOf(e)>-1&&i._items.splice(i._items.indexOf(e),1),i._items.splice(i._indexOf(t),0,e)):(e.dataItem=e,t.parentNode.insertBefore(e,t),i._items.indexOf(e)>-1&&i._items.splice(i._items.indexOf(e),1),i._items.splice(i._indexOf(t),0,e)),i._refreshItems(),i._refreshSelection()}removeChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}if(t.isVirtualized)t._items.splice(t._indexOf(e),1);else if(e.parentNode){const i=t.selectedIndexes.slice(0),n=t.selectedValues.slice(0),r=i.indexOf(e.dataIndex);e.parentNode.removeChild(e),r>-1&&(i.splice(r,1),n.splice(r,1),t.selectedIndexes=i,t.selectedValues=n)}t._refreshItems()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"innerHTML":n.clearSelection(),n._dataBind(),n.innerHTML=n.content=JQX.Utilities.Core.html(n.$.content);break;case"dataSource":case"valueMember":case"groupMember":case"displayMember":n.clearSelection(),n._dataBind();break;case"disabled":case"unfocusable":n._setFocusable();break;case"displayLoadingIndicator":n._setLoadingIndicatorVisibility();break;case"filterable":n._refreshFilter(),n._refreshLayout();break;case"grouped":if(i?n._group():n._ungroup(),"radioButton"===n.selectionMode){if(n.selectedValues.length>0){const e=n.selectedValues;n.clearSelection(),n.select(e[0])}}else n._refreshSelection();n._refreshLayout();break;case"itemTemplate":{if(null===i||""===i)return n._items.map(e=>e.innerHTML=e.label),delete n._bindingDetails,void n._refreshLayout();const e=n.querySelectorAll("jqx-list-item"),t=function(){n._handleItemTemplate(i)&&(n._items.map(e=>n._applyTemplate(e)),n._refreshLayout()),n.ownerElement&&n.ownerElement._setDropDownSize&&n.ownerElement._setDropDownSize(),n.$.fireEvent("bindingComplete")};0===e.length?t():n._ensureItemsReady(e,t);break}case"selectedIndexes":case"selectedValues":{let r=n.selectedIndexes.slice(0),a=n.selectedValues.slice(0);if(!n._items||0===n._items.length)return n.selectedIndexes=[],n.selectedValues=[],void(n.$.hiddenInput.value=n.selectedValues.toString());if(n._propertyChanging=!0,"selectedIndexes"===e){r=t.slice(0),n.clearSelection();for(let e=0;e<i.length;e++){const t=i[e],r=n._items[t];r&&("oneOrManyExtended"===n.selectionMode||"oneOrMany"===n.selectionMode?(n.selectedIndexes.length>0&&0===e&&n.clearSelection(),n._select(r)):n.select(r))}}else{a=t.slice(0),n.selectedValues=[],n.clearSelection();for(let e=0;e<i.length;e++){const t=i[e],r=n.getItem(t);r&&("oneOrManyExtended"===n.selectionMode?n._select(r):n.select(r))}}if(n.selectedIndexes.length>0&&n._focus(n._items[n.selectedIndexes[0]]),n._propertyChanging=!1,JSON.stringify(a)!==JSON.stringify(n.selectedValues.slice(0))){let e=[],t=[];for(let e=0;e<r.length;e++)n.selectedIndexes.indexOf(r[e])<0&&t.push(n._items[r[e]]);for(let t=0;t<n.selectedIndexes.length;t++)r.indexOf(n.selectedIndexes[t])<0&&e.push(n._items[n.selectedIndexes[t]]);let i={addedItems:e,removedItems:t};if(n.selectedIndexes.length>0){const e=n._items[n.selectedIndexes[n.selectedIndexes.length-1]];void 0!==e&&(i.selected=e.selected,i.disabled=e.disabled,i.index=n._indexOf(e),i.label=e.label,i.value=e.value)}else i.selected=!1,i.disabled=!1,i.index=-1,i.label="",i.value="";n.$.fireEvent("change",i)}break}case"selectionMode":{const e="checkBox"===n.selectionMode||"radioButton"===n.selectionMode?n.selectionMode:"plain",t=n.selectedIndexes.slice(0),i=n.selectedValues.slice(0);n._propertyChanging=!0;const r=n.selectedValues;n.selectedValues=[],n.clearSelection();for(let e=0;e<r.length;e++){const t=r[e],i=n.getItem(t);i&&("oneOrManyExtended"===n.selectionMode?n._select(i):n.select(i))}if(n._items.forEach(t=>t.displayMode=e),n._recycle(),n._propertyChanging=!1,JSON.stringify(i)!==JSON.stringify(n.selectedValues.slice(0))){let e=[],i=[];for(let e=0;e<t.length;e++)n.selectedIndexes.indexOf(t[e])<0&&i.push(n._items[t[e]]);for(let i=0;i<n.selectedIndexes.length;i++)t.indexOf(n.selectedIndexes[i])<0&&e.push(n._items[n.selectedIndexes[i]]);let r={addedItems:e,removedItems:i};if(t.length>0){const e=n._items[t[t.length-1]];e&&(r.selected=e.selected,r.disabled=e.disabled,r.index=n._indexOf(e),r.label=e.label,r.value=e.value)}n.$.fireEvent("change",r)}break}case"topVisibleIndex":n._setTopVisibleIndex(i);break;case"autoSort":n._canSort=i;break;case"sortDirection":case"sorted":{n._canSort=!0,i?n._sort():n._unsort();const e=n.selectedValues;n.selectedValues=[],n._refreshSelection();for(let t=0;t<e.length;t++){const i=e[t],r=n.getItem(i);r&&("oneOrManyExtended"===n.selectionMode?n._select(r):n.select(r))}n._refreshLayout(),n._canSort=n.autoSort;break}}}_refreshSelection(){const e=this;if(!e._items||0===e._items.length)return;const t=e.selectedValues;e.selectedIndexes=[],e.selectedValues=[];for(let i=0;i<e._items.length;i++){const n=e._items[i];n.selected=!1,t.indexOf(n.value)>-1&&e.select(n)}e._recycle()}clearSelection(){const e=this;if(!e._items||0===e._items.length)return;let t=[];for(let i=0;i<e._items.length;i++)e._items[i].selected&&t.push(e._items[i]);e._items.map(e=>e.selected=!1);e.selectedValues.slice(0);const i=e.selectedIndexes.slice(0);if(e.selectedIndexes=[],e.selectedValues=[],e.$.hiddenInput.value=e.selectedValues.toString(),e._recycle(),e.context!==e){let n={addedItems:[],removedItems:t};if(i.length>0){const t=e._items[i[i.length-1]];t&&(n.selected=t.selected,n.disabled=t.disabled,n.index=e._indexOf(t),n.label=t.label,n.value=t.value)}e.$.fireEvent("change",n)}}ensureVisible(e){const t=this;if(e)return!("string"==typeof e&&!(e=t.getItem(e)))&&(t.isVirtualized||t.$.itemsContainer.scrollTop===t.scrollTop||(t.scrollTop=t.$.itemsContainer.scrollTop),e.top+e.height>=t.scrollTop+t.offsetHeight&&(t.scrollTop=t.scrollTop+e.height,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),(e.top<=t.scrollTop||e.top>=t.scrollTop+t.$.itemsContainer.offsetHeight)&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),0===t._indexOf(e)||1===t._indexOf(e)&&t._items.length>1&&t._items[0].grouped?(t.scrollTop=0,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)):t._indexOf(e)===t._items.length-1&&(t.scrollTop=t.scrollHeight,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),!0)}get items(){const e=this;return e._filteredItems?e._filteredItems:e._items}ready(){super.ready();const e=this;if(e.enableShadowDOM&&"light"===e.shadowDomMode){const t=document.createDocumentFragment();[].slice.call(e.$.itemsInnerContainer.children).map(e=>t.appendChild(e)),e.appendChild(t),e.$.itemsInnerContainer.appendChild(document.createElement("slot"))}e._areCSSVarsSupported=JQX.Utilities.Core.CSSVariablesSupport(),e._keysPressed={},e._incrementalSearchQuery="",e._incrementalSearchItems=[],e._canSort=!0,e._previousEntry="",e.isUpdating=0,e._scrollView&&(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._scrollView.hScrollBar.$.addClass("jqx-hidden"),e._scrollView.vScrollBar.$.addClass("jqx-hidden"));const t=e._scrollView.vScrollBar,i=e._scrollView.hScrollBar;t.hasStyleObserver=!1,i.hasStyleObserver=!1,t.hasResizeObserver=!1,i.hasResizeObserver=!1,t.wait=!1,i.wait=!1,e._setFocusable(),e._setLoadingIndicatorVisibility(),e._refreshFilter(),e._initializeInnerHTML(),e._dataBind()}attached(){const e=this;super.attached(),JQX.ListBox.DragDrop||(JQX.ListBox.DragDrop={ListBoxes:[]}),JQX.ListBox.DragDrop.ListBoxes.push(e),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.selectedIndexes.length>0&&e.ensureVisible(e._items[e.selectedIndexes[0]])}detached(){const e=this;if(super.detached(),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView),JQX.ListBox.DragDrop&&JQX.ListBox.DragDrop.ListBoxes){const t=JQX.ListBox.DragDrop.ListBoxes.indexOf(e);JQX.ListBox.DragDrop.ListBoxes.splice(t,1)}}_createItem(e,t,i){const n="checkBox"===this.selectionMode||"radioButton"===this.selectionMode?this.selectionMode:"plain",r=i?{}:document.createElement("jqx-list-item");r.ownerListBox=this,"number"==typeof e&&(e=""+e);const a=function(t,i){return void 0!==e[t]?""+e[t]:e[i]};let s="string"==typeof e?e:a(this.displayMember,"label"),o="string"==typeof e?e:a(this.valueMember,"value"),l=a(this.groupMember,"group");return void 0===s&&(s=void 0!==t?""+t:""),r.label=r.innerHTML=""+s,void 0===o&&(o=void 0!==t?""+t:s),e.color&&(r.color=e.color),r.value=""+o,r.displayMode=n,r.selected=!!e.selected&&e.selected,r.disabled=!!e.disabled&&e.disabled,r.dataItem=r,void 0!==t&&(r.dataIndex=t),this._alternateItem(r),e.title&&(r.title=e.title),l&&(r.group=""+l),r}_alternateItem(e){const t=this,i=t.alternationStart,n=t.alternationEnd>0?t.alternationEnd:1/0;t.alternationCount<=0||(void 0===t._alternationIndexCounter&&(t._alternationIndexCounter=0),e.dataIndex>=i&&e.dataIndex<=n&&(e.alternationIndex=t._alternationIndexCounter++,t._alternationIndexCounter===t.alternationCount&&(t._alternationIndexCounter=0)))}_beginUpdate(){this.isUpdating++}_isUpdating(){return this.isUpdating>0}_endUpdate(){this.isUpdating--}get _scrollHeight(){const e=this;let t=0;if(e.isVirtualized){if(e.__scrollHeight)return e.__scrollHeight;if(0===e._items.length)return 0;e.isUpdating++;const i=e._createItem(e.dataSource[0]);e.$.itemsInnerContainer.appendChild(i);for(let n=0;n<e._items.length;n++){const r=e._items[n];r.hidden?(r.height=0,r.top=t):(e.itemHeight?(e.itemHeight<32&&(e.itemHeight=32),r.height=e.itemHeight):(i.label=r.label,r.height=i.offsetHeight),r.top=t,t+=r.height)}e.$.itemsInnerContainer.removeChild(i),e.__scrollHeight=t-e.$.itemsInnerContainer.offsetHeight,e.filterable&&(e.__scrollHeight+=e.$.filterInput.offsetHeight),t=e.__scrollHeight,e.isUpdating--}else{for(let i=0;i<e._items.length;i++){const n=e._items[i];n.hidden?(n.height=0,n.top=t):(e.itemHeight?"auto"!==e.itemHeight&&(n.height=e.itemHeight,n.style.height=n.height+"px"):n.height=n.offsetHeight,n.top=n.offsetTop,t+=n.height)}t=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight,e.filterable&&t>0&&(t+=e.$.filterInput.offsetHeight),e.__scrollHeight=t}return t}_initializeRecyclingItems(){const e=this;if(!e.dataSource||e.dataSource&&0===e.dataSource.length||!e.isVirtualized)return;let t=0,i=e.offsetHeight;e.$.itemsInnerContainer.innerHTML="",e._recyclingItems=[];const n=function(){for(let n=0;n<e.dataSource.length;n++){const r=e.dataSource[n],a=e._createItem(r);if(e.itemHeight&&"auto"!==e.itemHeight&&(a.style.height=e.itemHeight+"px"),e.$.itemsInnerContainer.appendChild(a),t+=a.offsetHeight,a.dataItem=e._items[n],e._recyclingItems.push(a),t>1.5*i)break}};n();let r=0;for(;t<1.5*i&&++r<5;)n()}_dataBind(){const e=this;if(e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),"function"==typeof e.dataSource&&(e._items=[]),"string"==typeof e.dataSource&&(e.dataSource=JSON.parse(e.dataSource)),null!==e.dataSource&&Array.isArray(e.dataSource)){e.isUpdating++;const t=t=>{e._items=[],e._groups=[];const i=e.dataSource;for(let n=0;n<i.length;n++){const r=i[n],a=e._createItem(r,n,!t);e._items[n]=a,t&&t.appendChild(a)}};if(e.isVirtualized)t(),e._initializeRecyclingItems();else{const i=document.createDocumentFragment();e.$.itemsInnerContainer.innerHTML="",t(i),e.$.itemsInnerContainer.appendChild(i)}e.isUpdating--}const t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item"),i=function(){e.isUpdating++,e.dataSource||(e._initializeHtmlListItems(),e._initializeHtmlListGroups()),e.grouped&&e._group(),e.sorted&&e._sort(),e._refreshLayout(),e._initializeSelection(),e.isInitialized=!0,e._canSort=e.autoSort,e.isUpdating--,e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&(e._items.map(t=>e._applyTemplate(t)),e._refreshLayout()),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted()),e.topVisibleIndex>-1&&e._setTopVisibleIndex(e.topVisibleIndex),e.$.fireEvent("bindingComplete"),e._updateTopVisibleIndex(),0===e._items.length&&e.clearItems()};0===t.length?i():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(t,i))}_ensureItemsReady(e,t){const i=this,n=function(){const i=function(t){for(let i=0;i<e.length;i++)e[i].context="node"===t?e[i]:document};i("node"),t(),i()};if(0===e.length)n();else{i._nodesReadyListeners=0;for(let t=0;t<e.length;t++){const r=e[t],a=function(){i._nodesReadyListeners--,0===i._nodesReadyListeners&&(n(),delete i._nodesReadyListeners)}.bind(i);r.isCompleted||(i._nodesReadyListeners++,r._onCompleted=a)}0===i._nodesReadyListeners&&n()}}_initializeInnerHTML(){const e=this;e.$.itemsInnerContainer.innerHTML.indexOf("<option")>=0?e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<optgroup/gi,"<jqx-list-items-group").replace(/<\/optgroup/gi,"</jqx-list-items-group").replace(/<option/gi,"<jqx-list-item").replace(/<\/option/gi,"</jqx-list-item"):e.$.itemsInnerContainer.innerHTML.indexOf("<ul")>=0&&(e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<ul/gi,"<jqx-list-items-group").replace(/<\/ul/gi,"</jqx-list-items-group").replace(/<li/gi,"<jqx-list-item").replace(/<\/li/gi,"</jqx-list-item"))}_initializeHtmlListItems(){const e=this,t=e.enableShadowDOM&&"shadow"===e.shadowDomMode?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item"),i="checkBox"===e.selectionMode||"radioButton"===e.selectionMode?e.selectionMode:"plain",n=function(e,t,i){return void 0!==e[t]?""+e[t]:e[i]};e._items=[];let r=0;for(let a=0;a<t.length;a++){const s=t[a];s.dataIndex=a,s.label=s.innerHTML,s.dataItem=s,s.top||(s.top=r),s.height||(s.height=s.offsetHeight),r+=s.height,s.value||(s.value=""+a);const o=n(s,e.displayMember,"label"),l=n(s,e.valueMember,"value"),d=n(s,e.groupMember,"group");s.label!==o&&(s.label=o),s.value!==l&&(s.value=l),s.group!==d&&(s.group=d);const h=s.context;s.context=document,s.displayMode=i,s.context=h,e._alternateItem(s),s.selected&&(e.selectedIndexes.push(a),e.selectedValues.push(s.value)),e._items.push(s)}e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._items.map(t=>e._applyTemplate(t))}_group(){const e=this;e.isUpdating++;let t=[],i=[];e._canSort&&e._unsort();for(let i=0;i<e._items.length;i++){const n=e._items[i];let r=n.group?n.group.trim():n.innerHTML.charAt(0)||n.label.charAt(0);t[r+=" "]?t[r].items.push(n):t[t.length++]=t[r]={items:[n],label:r}}if(e.isVirtualized){e._groups=[];for(let e=0;e<t.length;e++){const n=t[e];n.dataIndex=e,n.grouped=!0,n.hidden=!1,n.displayMode="plain",i.push(n);for(let r=0;r<t[e].items.length;r++){const e=n.items[r];e.group=n,i.push(e)}}e._groups=t,e._items=i}else{for(;e.$.itemsInnerContainer.firstChild;)e.$.itemsInnerContainer.removeChild(e.$.itemsInnerContainer.firstChild);const n=document.createDocumentFragment();e._groups=[];for(let r=0;r<t.length;r++){const a=t[r],s=document.createElement("jqx-list-items-group");s.label=a.label,s.dataIndex=r;for(let e=0;e<t[r].items.length;e++){const t=a.items[e];i.push(t),t.group=a.label,s.appendChild(t)}e._groups.push(s),n.appendChild(s)}e._items=i,/Trident|Edge/.test(navigator.userAgent)?setTimeout(function(){e.$.itemsInnerContainer.appendChild(n)},50):e.$.itemsInnerContainer.appendChild(n)}e.sorted&&e._sort(),e.isUpdating--}_ungroup(){const e=this;e.isUpdating++,e._groups=[],e._canSort&&e._unsort();let t=[];if(e.isVirtualized)for(let i=0;i<e._items.length;i++){const n=e._items[i];n.grouped||t.push(n)}else{const i=document.createDocumentFragment();for(let n=0;n<e._items.length;n++){const r=e._items[n];i.appendChild(r),t.push(r)}t.length>0&&(e.$.itemsInnerContainer.innerHTML="",e.$.itemsInnerContainer.appendChild(i))}e._items=t,e.sorted&&e._sort(),e.isUpdating--}_initializeHtmlListGroups(){const e=this,t=e.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group");e._groups=[];for(let i=0;i<t.length;i++){const n=t[i];n.dataIndex=i,e._groups.push(n)}}_initializeSelection(){const e=this,t=e.selectedIndexes.slice(0),i=e.selectedValues.slice(0);e.clearSelection(),"oneOrManyExtended"===e.selectionMode&&(e._keysPressed.Control=!0);for(let n=0;n<e._items.length;n++){const r=e._items[n];(t.indexOf(n)>=0||i.indexOf(r.value||r.label)>=0)&&(e._focusedItem&&(e._focusedItem._focused=!1),e._focusedItem=null,e.select(r))}"oneOrManyExtended"===e.selectionMode&&(e._keysPressed.Control=!1)}onItemUpdated(){this.isInitialized&&!this._isUpdating()&&(this.isUpdating++,this._refreshLayout(),this.isUpdating--)}_refreshItems(){const e=this;if(e.isInitialized&&!e._isUpdating()){if(e.isUpdating++,e.grouped?e._ungroup():e.sorted&&e._canSort&&e._unsort(),!e.isVirtualized){e._items=[];const t=e.enableShadowDOM?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item");for(let i=0;i<t.length;i++)t[i].dataIndex=i,e._alternateItem(t[i]),e._items.push(t[i])}e.grouped?e._group():e.sorted&&e._sort(),e._refreshLayout(),e.isUpdating--}}_applyIncrementalSearch(e){const t=this;null===t.incrementalSearchDelay||isNaN(t.incrementalSearchDelay)||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Home","End","PageUp","PageDown"].indexOf(e)>-1||(0!==t._incrementalSearchQuery.indexOf(e)&&(t._incrementalSearchQuery+=e),t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t._incrementalSearch(),t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},t.incrementalSearchDelay))}select(e){const t=this;if(("string"!=typeof e||(e=t.getItem(e)))&&("number"!=typeof e||(e=t.getItem(e)))&&!e.grouped&&!e.readonly){if("none"===t.selectionMode)return t.selectedIndexes=[],void(t.selectedValues=[]);switch(!t._focusedItem!==e&&"none"!==t.selectionMode&&(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,e._focused=!0),t.selectionMode){case"one":return(1!==t.selectedIndexes.length||t.selectedIndexes[0]!==t._indexOf(e))&&(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0);case"zeroOrOne":return 1===t.selectedIndexes.length&&t.selectedIndexes[0]===t._indexOf(e)?(t.unselect(e),!0):(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0);case"radioButton":if(t._previouslySelectedIndexes=t.selectedIndexes,t.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group").length>0){const i=e.parentNode;if(!e.selected){for(let e in i.children){const n=i.children[e];n.selected&&t.unselect(n)}t._select(e)}return delete t._previouslySelectedIndexes,!0}if(t.isVirtualized&&t._groups.length>0){const i=e.group;if(!e.selected){for(let e in i.items){const n=i.items[e];n.selected&&t.unselect(n)}t._select(e)}return delete t._previouslySelectedIndexes,!0}return e.selected||(t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e)),delete t._previouslySelectedIndexes,!0;case"oneOrMany":return e.selected?t.selectedIndexes.length>1&&t.unselect(e):t._select(e),!0;case"zeroOrMany":case"checkBox":return e.selected?t.unselect(e):t._select(e),!0;case"oneOrManyExtended":{const i=t.selectedValues;if(t._keysPressed.Control)return t.selectedIndexes.length>1&&e.selected?(t.unselect(e),t._focus(t._items[t.selectedIndexes[0]])):t._select(e),!0;if(t._keysPressed.Shift){const n=t._items[t.selectedIndexes[0]];let r;t.clearSelection();const a=i.indexOf(n.value)>=0||n.selected;if(t._select(n,a),t._indexOf(n)>t._indexOf(e))for(r=t._indexOf(n)-1;r>=t._indexOf(e);){const e=t._items[r],n=i.indexOf(e.value)>=0||e.selected;t._select(e,n),r--}else for(r=t._indexOf(n)+1;r<=t._indexOf(e);){const e=t._items[r],n=i.indexOf(e.value)>=0||e.selected;t._select(e,n),r++}const s=[];for(let e=0;e<i.length;e++)s.push(t.getItem(i[e]));if(s.length>0&&!t._propertyChanging){let n=[];for(let e=0;e<t.selectedValues.length;e++){const r=t.selectedValues[e];i.indexOf(r)<0&&n.push(t.getItem(r))}t.$.fireEvent("change",{addedItems:n,removedItems:s,selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value})}return!0}for(let n=0;n<i.length;n++){const r=i[n],a=t.getItem(r);e!==a&&t.unselect(a)}return t.clearSelection(),t._select(e,i.indexOf(e.value)>=0),!0}}return!1}}_applyTemplate(e,t){const i=this;if(null===i.itemTemplate)return;if("function"==typeof i.itemTemplate)return void i.itemTemplate(e,{label:e.label,value:e.value,index:i._items.indexOf(e)});if(!i._bindingDetails||0===i._bindingDetails.length)return;const n=i._bindingDetails.length;let r,a,s=document.importNode(i._template.content,!0);for(let t=0;t<n;t++){r=s.childNodes[i._bindingDetails[t].childNodeIndex],a=i._bindingDetails[t].bindingString.length;for(let n=0;n<a;n++){const a=i._bindingDetails[t].bindingString[n],s=a.indexOf("label")>=0?e.label:e.value;r.innerHTML=r.innerHTML.replace(a,s)}}e.innerHTML="";for(let t=0;t<s.childNodes.length;t++)s.childNodes[t].outerHTML&&(e.innerHTML+=s.childNodes[t].outerHTML);!1!==t&&(i._scrollHeightTimer&&(clearInterval(i._scrollHeightTimer),i._scrollHeightCounter=0),i._scrollHeightTimer=setInterval(function(){i._lastScrollHeight===i.$.itemsInnerContainer.scrollHeight&&10!==i._scrollHeightCounter||(i._refreshLayout(),clearInterval(i._scrollHeightTimer)),i._lastScrollHeight=i.$.itemsInnerContainer.scrollHeight,i._scrollHeightCounter++},50))}_filterItems(e,t,i){const n=this,r=n.$.filterInput.value;let a,s;const o=function(){if(0===s.length)return n._filteredItems=[],void(t&&t());a=n._queryItems(r,n.filterMode);for(let e=0;e<s.length;e++)s[e].hidden=!0,s[e].$.addClass("jqx-hidden");for(let e=0;e<a.length;e++){const t=a[e];t.hidden=!1,t.$.removeClass("jqx-hidden")}if(n.grouped&&n.isVirtualized)for(let e=0;e<n._groups.length;e++){const t=n._groups[e],i=t.items;let r=!0;for(let e=0;e<i.length;e++)i[e].hidden||(r=!1);r&&(t.hidden=!0)}if(n.grouped&&!n.isVirtualized)for(let e=0;e<n._groups.length;e++){const t=n._groups[e],i=[].concat(...t.querySelectorAll("jqx-list-item"));let r=!0;for(let e=0;e<i.length;e++)i[e].$.hasClass("jqx-hidden")||(r=!1);r?t.$.addClass("jqx-hidden"):t.$.removeClass("jqx-hidden")}n._filteredItems=a,n._refreshLayout(),t&&t(),e||n._refreshSelection()};if("function"==typeof n.dataSource)if(r||i){const e=function(e){(r||i)&&n.isAttached&&(n._updateListBoxAfterQuery=function(){a=s=n._items,o()},n.clearItems(),n.insert(0,e))},t=n.dataSource(r,e);if(t){if(!r&&!i)return;n._updateListBoxAfterQuery=function(){a=s=n._items,o()},n.clearItems(),n.insert(0,t)}}else n.clearItems(),a=s=n._items,o();else{if(0===(s=n._items).length)return;o()}}_getNextItem(e){const t=this._items,i=this._items.length;let n=Math.max(e+1,0);for(;n<i;){const e=t[n];if(!(e.disabled||e.hidden||e.grouped||e.readonly))return e;n++}return t[e]}_getPreviousItem(e){const t=this._items;let i=Math.max(e-1,0);for(;i>-1;){const e=t[i];if(!(e.disabled||e.hidden||e.grouped||e.readonly))return e;i--}return t[e]}get _scrollWidth(){const e=this,t=e._items;return e.__scrollWidth?e.__scrollWidth:(e.__scrollWidth=(()=>{let e,i="";for(let e=0;e<t.length;e++){if(t[e].hidden)continue;const n=t[e].label;n.length>i.length&&(i=n)}const n=this._createItem({label:i});this.$.itemsContainer.appendChild(n),n.label=i,n.style.width="auto",n.isCompleted&&(n.$.itemContainer.style.width="auto");const r=getComputedStyle(n),a=parseInt(r.paddingLeft)+parseInt(r.paddingRight);return e=(n.$.itemContainer||n).offsetWidth+a,n.parentNode.removeChild(n),e})(),e.__scrollWidth)}update(e,t){const i=this,n=i._items[e];if(n){if("string"==typeof t)n.label=t,void 0===n.value&&(n.value=t);else for(let e in t)"selected"===e&&n[e]!==t[e]?i.select(n):n[e]=t[e],"group"===e&&i._refreshItems();(i.sorted||i.grouped||i.isVirtualized)&&(i._refreshItems(),i._refreshSelection())}else i.error(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:"update"}))}insert(e,t){const i=this;let n=[];if(e||(e=0),Array.isArray(t)){i.isUpdating++;for(let r=0;r<t.length;r++){const a=t[r],s=i._createItem(a);n.push(s),e>=i._items.length||0===i._items.length?i.appendChild(s):i.insertBefore(s,i._items[e])}i.isUpdating--}else{const r=i._createItem(t);n.push(r),e>=i._items.length||0===i._items.length?i.appendChild(r):i.insertBefore(r,i._items[e])}n.length>0&&(n.map(e=>i._applyTemplate(e)),i._ensureItemsReady(n,function(){i._refreshItems(),0!==i._items.length&&(i._updateListBoxAfterQuery&&(i._updateListBoxAfterQuery(),delete i._updateListBoxAfterQuery),i._refreshSelection(),i.$.fireEvent("bindingComplete"))}))}remove(e){const t=this,i=t._items[e];i?(t.isVirtualized?t._items.splice(e,1):i.parentNode.removeChild(i),i.selected&&t.unselect(i),t._refreshItems(),t._refreshSelection(),0===t.selectedIndexes.length&&t._items.length>0&&("oneOrMany"!==t.selectionMode&&"one"!==t.selectionMode&&"oneOrManyExtended"!==t.selectionMode||t.select(t._items[0]))):t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}_queryItems(e,t){const i=this,n=[],r=function(n,r){if(n.grouped)return n;switch(t){case"startsWith":if(0===n.label.indexOf(r))return n;break;case"startsWithIgnoreCase":if(0===n.label.toLowerCase().indexOf(r.toLowerCase()))return n;break;case"doesNotContain":if(n.label.indexOf(r)<0)return n;break;case"doesNotContainIgnoreCase":if(n.label.toLowerCase().indexOf(r.toLowerCase())<0)return n;break;case"contains":if(n.label.indexOf(r)>-1)return n;break;case"containsIgnoreCase":if(n.label.toLowerCase().indexOf(r.toLowerCase())>-1)return n;break;case"equals":if(0===n.label.localeCompare(r))return n;break;case"equalsIgnoreCase":if(0===n.label.toLowerCase().localeCompare(r.toLowerCase()))return n;break;case"endsWith":if(n.label.endsWith(r))return n;break;case"endsWithIgnoreCase":if(n.label.toLowerCase().endsWith(r.toLowerCase()))return n;break;case"custom":if(i.filterCallback(n,e))return n}return null};if(0===e.length)return i._items;for(let t=0;t<i._items.length;t++){const a=r(i._items[t],e);a&&n.push(a)}return n}_select(e,t){const i=this,n=i.selectedIndexes.indexOf(i._indexOf(e)),r=i.selectedIndexes.slice(0),a=i.selectedValues.slice(0);if(e.selected=!0,-1!==n)return i._recycle(),!1;if(r.push(i._indexOf(e)),a.push(e.value||e.label),i.selectedIndexes=r,i.selectedValues=a,i._recycle(),i.$.hiddenInput.value=a.toString(),!i.isCompleted||t||!i.isInitialized||i._propertyChanging)return;let s=[];if(i._previouslySelectedIndexes){for(let e=0;e<i._previouslySelectedIndexes.length;e++)i.selectedIndexes.indexOf(i._previouslySelectedIndexes[e])<0&&s.push(i._items[i._previouslySelectedIndexes[e]]);delete i._previouslySelectedIndexes}return i.$.fireEvent("change",{addedItems:[e],removedItems:s,selected:e.selected,disabled:e.disabled,index:i._indexOf(e),label:e.label,value:e.value}),!0}_setTopVisibleIndex(e){const t=this;if("number"==typeof e&&(t.topVisibleIndex=Math.max(0,e),e=t._items[t.topVisibleIndex]),!e)return!1;e.top!==t.scrollTop&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop),t.scrollHeight===t.scrollTop&&t._updateTopVisibleIndex())}_updateTopVisibleIndex(){const e=this,t=e.scrollTop+e._scrollView.verticalScrollBar.offsetHeight-e.offsetHeight;let i;if(e.scrollTop<e.scrollHeight/2){for(let n=0;n<e._items.length;n++)if(e._items[n].top>t){i=e._items[n];break}}else for(let n=e._items.length-1;n>=0&&!(e._items[n].top<t);n--)i=e._items[n];i&&(e.topVisibleIndex=i.dataIndex)}unselect(e){const t=this;if(!e)return;if("string"==typeof e&&!(e=t.getItem(e)))return;if("none"===t.selectionMode)return void t.clearSelection();const i=t.selectedIndexes.indexOf(t._indexOf(e)),n=t.selectedIndexes.slice(0),r=t.selectedValues.slice(0);return e.selected=!1,i>=0&&(n.splice(i,1),r.splice(i,1),t.selectedIndexes=n,t.selectedValues=r,t.$.hiddenInput.value=r.toString(),t.isCompleted&&!t._propertyChanging?(t.$.fireEvent("change",{addedItems:[],removedItems:[e],selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value}),t._recycle(),!0):void 0)}_handleItemTemplate(e){if(null===e||!e)return;if("function"==typeof e)return e;const t=this;if(!("content"in document.createElement("template")))return t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()})),void(t.itemTemplate=null);if(null===(e=document.getElementById(e))||!("content"in e))return t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"itemTemplate"})),void(t.itemTemplate=null);const i=e.content,n=i.childNodes.length,r=/{{\w+}}/g;let a,s;t._bindingDetails=[],t._template=e;for(let e=0;e<n;e++){for(s=[];a=r.exec(i.childNodes[e].innerHTML);)s.push(a[0]);s.length>0&&t._bindingDetails.push({childNodeIndex:e,bindingString:s})}return!0}_handleKeyStrokes(e){const t=this,i="radioButton"===t.selectionMode||"checkBox"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode;let n=t._items;if(t.filterable&&t.$.filterInput.value.length>0&&(n=t._filteredItems),!t.disabled&&!t.readonly){switch(e){case"ArrowLeft":case"ArrowUp":t._handleArrowKeys(!0);break;case"ArrowRight":case"ArrowDown":t._handleArrowKeys(!1);break;case" ":{if(t.selectedIndexes.length<1&&!t._focusedItem)return;const e=t._focusedItem?t._focusedItem:t._items[t.selectedIndexes[t.selectedIndexes.length-1]],i=e=>{e.selected&&"radioButton"!==t.selectionMode?t.unselect(e):t.select(e)};if("oneOrMany"===t.selectionMode)return void(e.selected&&t.selectedIndexes.length>1?i(e):e.selected||i(e));i(e);break}case"Home":if(0===n.length)return;i?t._focus(n[0]):(t._keysPressed.Shift||t.clearSelection(),t.select(n[0]),t._focus(n[0])),t.scrollTop=0;break;case"End":if(0===n.length)return;i?t._focus(n[n.length-1]):(t._keysPressed.Shift||t.clearSelection(),t.select(n[n.length-1]),t._focus(n[n.length-1])),t.scrollTop=t.scrollHeight;break;case"PageUp":t._pageUpKeyHandler(n);break;case"PageDown":t._pageDownKeyHandler(n)}t._recycle()}}_horizontalScrollbarHandler(e){const t=this;e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollLeft=e.detail.value}_unsort(){const e=this;e.isUpdating++;const t=function(e,t){let i=e.dataIndex,n=t.dataIndex;return i<n?-1:i>n?1:0};if(e.isVirtualized)if(e._groups.length>0){e._groups.sort(t);let i=[];for(let n=0;n<e._groups.length;n++){const r=e._groups[n],a=[].concat(...r.items);a.sort(t),i.push(r),i=i.concat(a)}e._items=i}else e._items.sort(t);else{if(e._groups.length>0){e._groups.sort(t);let i=[];for(let n=0;n<e._groups.length;n++){const r=e._groups[n],a=[].concat(...r.querySelectorAll("jqx-list-item"));a.sort(t),i=i.concat(a)}e._items=i}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}_applySortOrder(){const e=function(e){for(let t=0;t<e.length;t++){const i=e[t],n=i.parentNode;n&&n.appendChild(i)}};e(this._items),e(this._groups)}_sort(){const e=this;if(!e._canSort)return;e.isUpdating++;const t=function(t,i){let n=t.label,r=i.label;if("asc"===e.sortDirection){if(n<r)return-1;if(n>r)return 1}else{if(n<r)return 1;if(n>r)return-1}return 0};if(e._groups.sort(t),e.isVirtualized)if(e._groups.length>0){let i=[];for(let n=0;n<e._groups.length;n++){const r=e._groups[n],a=[].concat(...r.items);i.push(r),a.sort(t),i=i.concat(a)}e._items=i}else e._items.sort(t);else{if(e._groups.length>0){let i=[];for(let n=0;n<e._groups.length;n++){const r=e._groups[n],a=[].concat(...r.querySelectorAll("jqx-list-item"));a.sort(t),i=i.concat(a)}e._items=i}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}getItem(e){const t=this;for(let i=0;i<t._items.length;i++)if(t._items[i].value===e)return t._items[i];return null}_focus(e){const t=this;!e||"none"===t.selectionMode||t.disabled||t.readonly||(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,t._focusedItem._focused=!0)}_keyDownHandler(e){const t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;let n=e.key;if(!t.disabled&&!t.readonly&&(!t.filterable||t.$.filterInput!==i)&&t._focused&&0!==t._items.length&&!t.disabled&&!t.displayLoadingIndicator){if(t.editable){if("F2"===n)return void t._dblclickEventHandler({target:t._focusedItem});if(t.$.editInput===i)return}if("none"!==t.selectionMode){switch(e.stopPropagation(),n){case"Down":case"Right":case"Left":case"Up":n="Arrow"+n}if(t.filterable)switch(n){case"ArrowLeft":case"ArrowRight":return;case"ArrowUp":case"ArrowDown":e.preventDefault()}if(t._applyIncrementalSearch(n),!(["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","Home","End","PageUp","PageDown"].indexOf(n)<0))if(e.preventDefault(),!t._focusedItem&&t._items.length>0)"one"===t.selectionMode||"oneOrMany"===t.selectionMode||"oneOrManyExtended"===t.selectionMode?t.select(t._items[0]):t._focus(t._items[0]);else switch(t.selectionMode){case"one":if("Shift"===n||"Control"===n||" "===n)return;t._handleKeyStrokes(n);break;case"oneOrMany":case"zeroOrOne":case"zeroOrMany":case"radioButton":case"checkBox":if("Shift"===n||"Control"===n)return;t._handleKeyStrokes(n);break;case"oneOrManyExtended":if(" "===n)return;t._keysPressed[n]="keydown"===e.type,t._handleKeyStrokes(n)}}}}_keyUpHandler(e){const t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(!t.editable||t.$.editInput!==i){if(t.filterable&&t.$.filterInput===i)return t._filterTimer&&clearTimeout(t._filterTimer),void(t._filterTimer=setTimeout(function(){const e=t.context;t.context=t,t._filterItems(),t.scrollTop=t.$.itemsContainer.scrollTop=0,t.scrollLeft=t.$.itemsContainer.scrollLeft=0,t.context=e},300));if(t._focused){if(t._focusedItem&&t._focusedItem.hidden&&t._filteredItems.length>0){let e=t._filteredItems[0];e.grouped&&t._filteredItems.length>1&&(e=t._filteredItems[1]),t._focus(e),t._recycle()}e.stopPropagation(),e.preventDefault(),t.disabled||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","PageUp","PageDown"].indexOf(e.key)<0||(t._keysPressed[e.key]=!1)}}}_mouseWheelHandler(e){const t=this;(t.computedHorizontalScrollBarVisibility||t.computedVerticalScrollBarVisibility)&&!t.disabled&&t.computedVerticalScrollBarVisibility&&(e.stopPropagation(),e.preventDefault(),t.scrollTo(t.scrollTop+t._getScrollCoefficient(e,t.offsetHeight)))}_pageDownKeyHandler(e){const t=this;if(0===e.length)return;let i,n=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(n=t._focusedItem);const r=t._indexOf(n);let a=n.top+t.$.itemsContainer.offsetHeight-n.height;for(let t=r;t<e.length;t++)if(e[t].top>=a){i=e[t];break}i||(i=e[e.length-1]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(i):i.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(i),t._focus(i)),(i.height+i.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||i.top<t.$.itemsContainer.scrollTop)&&(t.scrollTop=i.top-t.$.itemsContainer.offsetHeight+i.height)}_pageUpKeyHandler(e){const t=this;if(0===e.length)return;let i=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(i=t._focusedItem);const n=i.top-t.$.itemsContainer.offsetHeight;let r;for(let a=t._indexOf(i);a>0;a--)if(e[a].top<=n){r=e[a];break}r||(r=e[0]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(r):r.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(r),t._focus(r)),t.scrollTop=r.top,0===t._indexOf(r)&&(t.scrollTop=0)}clearItems(){this.$.itemsInnerContainer.innerHTML="",this.clearSelection(),this._items=[],this.$placeholder.removeClass("jqx-hidden")}_resizeHandler(e){const t=this;e.target!==t||t._isUpdatingScrollBars||(t._isUpdatingScrollBars=!0,t._initializeRecyclingItems(),t._refreshLayout(),t._isUpdatingScrollBars=!1)}_indexOf(e){const t=this;if(!e)return-1;let i=t._items.indexOf(e);return-1===i&&(i=t._items.indexOf(t.getItem(e.value))),i}_incrementalSearch(){const e=this,t="radioButton"!==e.selectionMode&&"checkBox"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode;let i,n=0;switch(e.incrementalSearchMode){case"containsIgnoreCase":case"equalsIgnoreCase":case"startsWithIgnoreCase":case"endsWithIgnoreCase":i=e._incrementalSearchQuery.toLowerCase();break;default:i=e._incrementalSearchQuery}const r=function(i){i.grouped||i.readonly||(t?(e.selectedIndexes.length>0&&e.clearSelection(),e._focus(i),e.select(i)):e._focus(i),(i.height+i.top>e.$.itemsContainer.scrollTop+e.$.itemsContainer.offsetHeight||i.top<e.scrollTop)&&(e.scrollTop=i.top),0===e._indexOf(i)&&(e.scrollTop=0),e._indexOf(i)===e._items.length-1&&(e.scrollTop=e.scrollHeight))};0!==e._previousEntry.localeCompare(i)&&(e._incrementalSearchItems=e._queryItems(e._incrementalSearchQuery,e.incrementalSearchMode),delete e._itemPosition),e._previousEntry=i;const a=e._incrementalSearchItems.length;if(0!==a)if(1!==a)for(void 0!==e._itemPosition?e._itemPosition<a-1?n=e._itemPosition:(n=0,t?(e._incrementalSearchItems[e._itemPosition].selected=!1,e.selectedIndexes=[],e.selectedValues=[]):e._incrementalSearchItems[e._itemPosition]._focused=!1):t&&e.clearSelection();n<a;n++)if(e._incrementalSearchItems[n].selected&&t)e._incrementalSearchItems[n].selected=!1,e.selectedIndexes=[],e.selectedValues=[];else{if(t||!e._incrementalSearchItems[n]._focused)return r(e._incrementalSearchItems[n]),void(e._itemPosition=n);e._incrementalSearchItems[n]._focused=!1}else r(e._incrementalSearchItems[0])}_selectStartHandler(e){const t=this.enableShadowDOM?this.shadowRoot.activeElement:document.activeElement;this.$.filterInput!==t&&this.$.editInput!==t&&e.preventDefault()}_handleArrowKeys(e){const t=this,i="radioButton"!==t.selectionMode&&"checkBox"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode;if(t.disabled||t.readonly)return;let n;if(t._focusedItem&&!t._keysPressed.Shift)n=t._indexOf(t._focusedItem),t._focusedItem._focused=!1;else{if(0===t.selectedIndexes.length)return;n=t.selectedIndexes[t.selectedIndexes.length-1]}const r=e?t._getPreviousItem(n):t._getNextItem(n);t._focus(r),i&&(t._keysPressed.Shift?t.select(r):t._items[n]!==r&&(t.clearSelection(),t.select(r))),t.ensureVisible(r)}_refreshFilter(){const e=this;if(e.filterable)return e.$.filterInput.disabled=!(!e.disabled&&!e.displayLoadingIndicator),e.$filterInputContainer.removeClass("jqx-hidden"),void e.$itemsContainer.addClass("filter");e.$.filterInput.disabled=!0,e.$filterInputContainer.addClass("jqx-hidden"),e.$itemsContainer.removeClass("filter")}_setFocusable(){const e=this;e.disabled||e.unfocusable?e.removeAttribute("tabindex"):e.tabIndex=e.tabIndex>0?e.tabIndex:0}_setLoadingIndicatorVisibility(){const e=this;e.displayLoadingIndicator?e.$loadingIndicatorContainer.hasClass("jqx-visibility-hidden")?e.$loadingIndicatorContainer.removeClass("jqx-visibility-hidden"):e.$loadingIndicatorContainer.removeClass("jqx-hidden"):e._areCSSVarsSupported?e.$loadingIndicatorContainer.addClass("jqx-hidden"):e.$loadingIndicatorContainer.addClass("jqx-visibility-hidden")}_refreshLayout(){const e=this,t=e._items;if(e.__scrollHeight=null,e.__scrollWidth=null,e._height=null,e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.$itemsContainer.removeClass("hscroll"),e.$itemsContainer.removeClass("vscroll"),!t||null===t||0===t.length)return e.scrollWidth=0,e.scrollHeight=0,e.$filterInputContainer.removeClass("vscroll"),e.$placeholder.removeClass("jqx-hidden"),void(e.isVirtualized&&e._recycle());e.$placeholder.addClass("jqx-hidden");const i=2*(parseInt(getComputedStyle(e.$.itemsInnerContainer).getPropertyValue("--jqx-list-item-horizontal-offset"))||0);let n=e._scrollWidth-e.$.itemsContainer.offsetWidth-i,r=e._scrollHeight;if(e._refreshHorizontalScrollBarVisibility(n),e._refreshVerticalScrollBarVisibility(r),"hidden"===e.horizontalScrollBarVisibility?e.$.itemsInnerContainer.style.width=e.$.itemsContainer.offsetWidth-i:e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-i,-i+e.__scrollWidth)+"px",e.computedVerticalScrollBarVisibility)return n=e._scrollWidth-e.$.itemsContainer.offsetWidth-e._scrollView.vScrollBar.offsetWidth,e._refreshHorizontalScrollBarVisibility(n),"hidden"!==e.horizontalScrollBarVisibility&&(e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-i,-i+e.__scrollWidth-e._scrollView.vScrollBar.offsetWidth)+"px"),e.computedHorizontalScrollBarVisibility&&("visible"!==e.horizontalScrollBarVisibility||0!==e.scrollWidth?e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight:"visible"===e.horizontalScrollBarVisibility&&(e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.scrollHeight=e.__scrollHeight),void(e.isVirtualized&&e._recycle());n=e._scrollWidth-e.$.itemsContainer.offsetWidth-i,e._refreshHorizontalScrollBarVisibility(n),e.computedHorizontalScrollBarVisibility&&(e.scrollHeight=e._scrollHeight,e._refreshVerticalScrollBarVisibility(e.scrollHeight),e._scrollView.vScrollBar.$.hasClass("bottom-corner")&&e._scrollView.vScrollBar.refresh()),e.isVirtualized&&e._recycle();const a=/Trident|Edge/.test(navigator.userAgent);!e.isRefreshing&&a&&setTimeout(function(){e.isRefreshing=!0,e._refreshLayout(),e.isRefreshing=!1},50)}_styleChangedHandler(){this._refreshLayout()}_swipeLeftHandler(){}_swipeRightHandler(){}_refreshHorizontalScrollBarVisibility(e){const t=this;t.scrollWidth=e,t.computedHorizontalScrollBarVisibility?(t.scrollLeft=t.$.itemsContainer.scrollLeft,t.$itemsContainer.addClass("hscroll")):t.$itemsContainer.removeClass("hscroll")}_refreshVerticalScrollBarVisibility(e){const t=this;t.scrollHeight=e,t.computedVerticalScrollBarVisibility?(t.$itemsContainer.addClass("vscroll"),t.$filterInputContainer.addClass("vscroll")):(t.$itemsContainer.removeClass("vscroll"),t.$filterInputContainer.removeClass("vscroll"))}_validateTemplate(e,t){if(null===t||!t)return;const i=this;return"content"in document.createElement("template")?null!==(t=document.getElementById(t))&&"content"in t?t:(i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:e})),void(i[e]=null)):(i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()})),void(i[e]=null))}_getItemIndexByPosition(e){const t=this;return(i=>{let n=0,r=i.length-1;if(e<=0)return 0;if(i[i.length-1].top<=e)return i.length-1;for(;;){const a=Math.floor((n+r)/2),s=i[a];if(t._isItemInPosition(s,e))return a;s.top<e?n=a+1:s.top>e&&(r=a-1)}})(t.filterable&&t.$.filterInput.value.length>0?t._filteredItems:t._items)}_isItemInPosition(e,t){const i=e.top,n=e.top+e.height;return i<=t&&n>t}get isVirtualized(){return this.virtualized&&this.dataSource&&this.dataSource.length>0}_recycle(){const e=this;if(!e._recyclingItems)return;let t=e._height;e._height||(t=e._height=e.$.itemsContainer.offsetHeight);let i=0;const n=e.scrollTop,r=e._getItemIndexByPosition(n),a=e.filterable&&e.$.filterInput.value.length>0?e._filteredItems:e._items,s=a[r];let o=s?s.top:0;if(e.$.itemsInnerContainer.style.left=-e.scrollLeft+"px",e.$.itemsInnerContainer.style.top=-n+o+"px",e.isUpdating++,r>=0)for(let s=r;s<a.length;s++){const r=a[s];if(0!==r.height){if(!(o+r.height>=n&&o<=n+t))break;{const t=e._recyclingItems[i++];if(!t)break;t.context=document,t.dataItem=r,t.label=r.label,t.value=r.value,t.selected=r.selected,t._focused=r._focused,t.hidden=r.hidden,t.grouped=r.grouped,t.readonly=r.readonly,t.style.height=r.height+"px",e._alternateItem(t),r.title?t.title=r.title:t.title="",r.grouped?t.displayMode="plain":t.displayMode=r.displayMode,e.scrollWidth>0&&(t.style.width=e.$.itemsInnerContainer.offsetWidth+e.scrollWidth+"px"),e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._applyTemplate(t,!1)}o+=r.height}}if(i<e._recyclingItems.length)for(let t=i;t<e._recyclingItems.length;t++){const t=e._recyclingItems[i++],n=t.context;t.context=document,t.hidden=!0,t.context=n}e.isUpdating--}_verticalScrollbarHandler(e){const t=this,i=e.detail.value;e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollTop=i,t._updateTopVisibleIndex(),e.context.max!==e.context.value?e.context.min===e.context.value&&t.$.fireEvent("scrollTopReached"):t.$.fireEvent("scrollBottomReached")}});var Z=Object.freeze({});JQX("jqx-drop-down-list",class extends JQX.ContentElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},dataSource:{value:null,type:"any",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",type:"string"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},filterable:{value:!1,type:"boolean"},filterInputPlaceholder:{value:"",type:"string"},filterCallback:{value:null,type:"function?"},filterMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},inputMember:{value:"label",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},label:{value:"",type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},renderMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},resizeIndicator:{value:!1,type:"boolean"},selectionDisplayMode:{value:"plain",allowedValues:["plain","placeholder","tokens"],type:"string"},selectionMode:{value:"one",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},sorted:{value:!1,type:"boolean"},tokenTemplate:{value:null,type:"any"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","actionButton.focus":"_buttonsFocusHandler","actionButton.blur":"_buttonsFocusHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownButton.focus":"_buttonsFocusHandler","dropDownButton.blur":"_buttonsFocusHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler","listBox.bindingComplete":"_bindingCompleteHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler",wheel:"_mouseWheelHandler"}}template(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <div class="jqx-buttons-container" id="buttonsContainer">\n                            <span id="actionButton" class="jqx-input jqx-action-button"></span>\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span id="arrow"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-list-box id="listBox" unfocusable\n                                    animation="[[animation]]"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-callback="[[filterCallback]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    readonly="[[readonly]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </jqx-list-box>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}static get styleUrls(){return["jqx.listbox.css","jqx.dropdownlist.css","jqx.dropdown.css"]}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"animation":n.$.dropDownContainer.setAttribute("animation",n.animation);break;case"disabled":n._setFocusable(),n.close(),n._positionDetection.handleAutoPositioning();break;case"dataSource":case"displayMember":case"inputMember":n.$.actionButton&&(n.$.actionButton.innerHTML=n.placeholder),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally");break;case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownOpenMode":n._setFocusable(),n.$dropDownContainer.addClass("jqx-visibility-hidden"),n.$.dropDownButton.removeAttribute("selected"),n.removeAttribute("drop-down-button-focus"),n.removeAttribute("action-button-focus"),n.opened=!1;break;case"dropDownOverlay":i||n._positionDetection.removeOverlay();break;case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler();break;case"dropDownMinWidth":case"dropDownWidth":case"dropDownMaxWidth":case"dropDownHeight":case"dropDownMinHeight":case"dropDownMaxHeight":n._setDropDownSize();break;case"opened":if(n.disabled||n.readonly)return;i?n.open():n.close();break;case"placeholder":n._applySelection();break;case"readonly":n.close();break;case"resizeIndicator":i?n.$.dropDownContainer.setAttribute("resize-indicator",""):n.$.dropDownContainer.removeAttribute("resize-indicator");break;case"resizeMode":n.$.dropDownContainer.setAttribute("resize-mode",n.resizeMode);break;case"selectedValues":case"selectedIndexes":0===i.length?n.$.actionButton.innerHTML=n.placeholder:n._applySelection();break;case"selectionDisplayMode":n._applySelection();break;case"tokenTemplate":n._tokenTemplate=n._validateTemplate(n.tokenTemplate),n._applySelection();break;case"unfocusable":n._setFocusable()}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?(t.$.listBox.appendChild(e),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}attached(){super.attached(),this.isCompleted&&this.$.dropDownContainer&&(this._positionDetection.dropDownAttached("_setDropDownSize"),this._positionDetection.checkBrowserBounds())}detached(){super.detached(),this.$.dropDownContainer&&(this.close(),this._positionDetection.dropDownDetached())}clearItems(){this.$.listBox&&(this.$.listBox.clearItems(),this.$.actionButton.innerHTML=this.placeholder)}clearSelection(){this.$.listBox&&(this.$.listBox.clearSelection(),this.$.actionButton.innerHTML=this.placeholder)}close(){const e=this;e.$dropDownContainer.hasClass("jqx-visibility-hidden")||e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.$.dropDownButton&&e.$.dropDownButton.removeAttribute("selected"),e.opened=!1,e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e._edgeMacFF&&!e.hasAnimation&&e.$.dropDownContainer&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}cloneNode(){if(!this.$.listBox)return;let e=HTMLElement.prototype.cloneNode.apply(this,Array.prototype.slice.call(arguments,0,1));return e.dataSource=this.dataSource,e}ensureVisible(e){this.$.listBox&&this.$.listBox.ensureVisible(e)}getItem(e){if(this.$.listBox)return this.$.listBox.getItem(e)}get items(){if(this.$&&this.$.listBox)return this.$.listBox.items}get _focusedItem(){if(this.$&&this.$.listBox)return this.$.listBox._focusedItem}insert(e,t){const i=this;i.$.listBox&&(i.$.listBox.insert(e,t),i._applySelection(),i._dropDownSize&&"auto"===i._dropDownSize.height&&i._setDropDownSize())}insertBefore(e,t){const i=this;if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}e&&t?i.$.listBox&&(i.$.listBox.insertBefore(e,t),i._dropDownSize&&"auto"===i._dropDownSize.height&&i._setDropDownSize()):i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}open(){const e=this,t=function(){for(let t=0;t<e.items.length;t++)if(!e.items[t].disabled)return e.items[t]};if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){const t=e.getBoundingClientRect();if(e.$.container.contains(e.$.dropDownContainer)){let t=0;const i=setInterval(function(){const n=e.getBoundingClientRect();t++,n.top===e._positionTop&&t<10||(e.open(),clearInterval(i),e._positionTop=n.top)},100);return}t.top!==e._positionTop&&(e._positionTop=t.top)}e.$.fireEvent("opening").defaultPrevented||(e._shadowDOMStylesDelay&&(e._setDropDownSize(),delete e._shadowDOMStylesDelay),e.opened=!0,e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e.$.dropDownButton&&("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("selected",""):e.$.dropDownButton.removeAttribute("selected")),(e.$.listBox&&!e._focusedItem||e._focusedItem&&!e._focusedItem._focused)&&(e.selectedIndexes.length>0?e._focus(e.items[e.selectedIndexes[0]]):e._focus(t)),e.$.input&&!JQX.Utilities.Core.isMobile&&e.$.input.focus())}}ready(){super.ready();const e=this;e.$.dropDownContainer&&(e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e.$.dropDownContainer.setAttribute("resize-mode",e.resizeMode),e.resizeIndicator&&e.$.dropDownContainer.setAttribute("resize-indicator",""),e._positionDetection.handleAutoPositioning()),e.opened&&e.open(),e._positionTop=e.getBoundingClientRect().top,e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._edgeMacFF&&e.hasAnimation&&e.$.dropDownContainer&&e.$dropDownContainer.addClass("not-in-view"),e._createElement()}remove(e){const t=this;t.$.listBox&&(t.$.listBox.remove(e),t._applySelection(),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize())}removeChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e&&e instanceof JQX.ListItem?(t.$.listBox.removeChild(e),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}select(e){this.$.listBox&&this.$.listBox.select(e)}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.actionButton.removeAttribute("tabindex"),void e.$.dropDownButton.removeAttribute("tabindex");let t=e.tabIndex>0?e.tabIndex:0;"dropDownButton"===e.dropDownOpenMode?(e.removeAttribute("tabindex"),e.$.actionButton.setAttribute("tabindex",t),e.$.dropDownButton.setAttribute("tabindex",t)):(e.$.actionButton.removeAttribute("tabindex"),e.$.dropDownButton.removeAttribute("tabindex"),e.tabIndex=t)}static get requires(){return{"JQX.ListBox":"jqxlistbox.js"}}unselect(e){this.$.listBox&&this.$.listBox.unselect(e)}update(e,t){this.$.listBox&&(this.$.listBox.update(e,t),this._applySelection())}_resizeBarMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_createToken(){const e=this;let t;const i=document.createDocumentFragment(),n=e.selectedIndexes[e.selectedIndexes.length-1];t="plain"!==e.selectionDisplayMode||"one"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode&&"radioButton"!==e.selectionMode?"tokens"===e.selectionDisplayMode?1===e.selectedIndexes.length&&["oneOrManyExtended","oneOrMany","one","radioButton"].indexOf(e.selectionMode)>-1?"":"&#10006":1===e.selectedIndexes.length?"":",":"";const r=e.selectedIndexes,a=e.$.listBox._items;for(let s=0;s<r.length;s++){const o=r[s];a[o]&&i.appendChild(e._applyTokenTemplate(a[o][e.inputMember],"tokens"!==e.selectionDisplayMode&&o===n?"":t))}return i}_applySelection(){const e=this;"placeholder"!==e.selectionDisplayMode&&0!==e.selectedIndexes.length?e.$.listBox._items&&0!==e.$.listBox._items.length&&(e.$.actionButton.innerHTML="",e.$.actionButton.appendChild(e._createToken())):e.$.actionButton.innerHTML=e.placeholder}_applyTokenTemplate(e,t){const i=this,n=document.createElement("span"),r=function(){return"<span class='jqx-drop-down-list-selection-label'>"+e+"</span><span class='jqx-drop-down-list-unselect-button'>"+t+"</span>"};if(n.classList.add("jqx-token"),i._tokenTemplate){let e=document.importNode(i._tokenTemplate.content,!0);const t=e.childNodes.length,a=/{{\w+}}/g;let s;for(let i=0;i<t;i++)(s=a.exec(e.childNodes[i].innerHTML))&&(e.childNodes[i].innerHTML=e.childNodes[i].innerHTML.replace(s[0],r())),e.childNodes[i].outerHTML&&(n.innerHTML+=e.childNodes[i].outerHTML)}else"function"==typeof i.tokenTemplate?i.tokenTemplate(n,{label:e,iconSeparator:t}):n.innerHTML=r();return n}_bindingCompleteHandler(){const e=this;e.$.listBox&&requestAnimationFrame(()=>{e._setDropDownSize(),e._positionDetection.checkBrowserBounds()})}_buttonsDownHandler(e){const t=this;if(!t.disabled){if(t.hasRippleAnimation)if(t.$.buttonsContainer&&"dropDownButton"!==t.dropDownOpenMode){const i=t.$.buttonsContainer;i.firstElementChild.noRipple=!0,JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i.firstElementChild.noRipple=!1}else JQX.Utilities.Animation.Ripple.animate(e.target,e.pageX,e.pageY);t._preventsSelectStart=!0,"dropDownButton"===t.dropDownOpenMode&&e.target===t.$.actionButton&&t.$.actionButton.setAttribute("active",""),t.opened&&(t._preventDropDownClose=!0)}}_buttonsMouseEventsHandler(e){const t=this;t.disabled||("mouseenter"===e.type?(t.setAttribute("hover",""),e.target.setAttribute("hover","")):(t.removeAttribute("hover"),e.target.removeAttribute("hover")))}_calculateDropDownSize(){const e=this;e._dropDownSize={};const t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),n=parseFloat(t.getPropertyValue("border-bottom-width").trim()),r=parseFloat(t.getPropertyValue("margin-top").trim()),a=parseFloat(t.getPropertyValue("margin-bottom").trim()),s=parseFloat(t.getPropertyValue("padding-top").trim()),o=parseFloat(t.getPropertyValue("padding-bottom").trim());JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(n)?0:n),e._dropDownSize.paddingWidth=(isNaN(s)?0:s)+(isNaN(o)?0:o),e._dropDownSize.marginWidth=(isNaN(r)?0:r)+(isNaN(a)?0:a)}_createElement(){this._tokenTemplate=this._validateTemplate(this.tokenTemplate),this._applySelection(),this._setDropDownSize(),this._setFocusable(),this.$.arrow.noRipple=!0,this._shadowDOMStylesDelay=this.shadowRoot}_documentDownHandler(e){const t=this;if(t.disabled||t.readonly)return;let i=e.originalEvent.target;if(i===t._overlay&&(t._overlayDown=!0),t.shadowRoot){let n=(i=e.originalEvent.composedPath()[0]).getRootNode().host;for(;n;)n.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),n=n.getRootNode().host}else t.isInShadowDOM&&(i=e.originalEvent.composedPath()[0]),t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;if(t._buttonClicked=i.closest(".jqx-action-button")||i.closest(".jqx-drop-down-button"),t.$.listBox){let n=i.closest("jqx-list-item");t.$.listBox.contains(n)||(n=void 0),t.hasRippleAnimation&&n&&JQX.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),(n||i===t.$.listBox.$.filterInput||i.closest(".jqx-token"))&&(t._preventDropDownClose=!0)}if(t._isDropDownClicked&&(t._preventDropDownClose=!0),i!==t.$.resizeBar||"none"===t.resizeMode)return;t._resizeDetails||(t._resizeDetails={});const n=t.$.dropDownContainer.getBoundingClientRect();t._resizeDetails.started=!0,t._resizeDetails.x=e.pageX,t._resizeDetails.y=e.pageY,t._resizeDetails.width=t.$.dropDownContainer.offsetWidth,t._resizeDetails.height=t.$.dropDownContainer.offsetHeight,t._resizeDetails.offsetXL=e.clientX-n.left,t._resizeDetails.offsetXR=n.left+t.$.dropDownContainer.offsetWidth-e.clientX,t._resizeDetails.offsetY=n.top+t.$.dropDownContainer.offsetHeight-e.clientY,t._resizeDetails.offsetYtop=e.clientY-n.top,t._preventDropDownClose=!0}_documentMoveHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if("auto"===t.dropDownOpenMode&&null!==t.dropDownAppendTo&&(t.contains(i)||t.$.dropDownContainer.contains(i)?t._isElementHovered=!0:(t._isElementHovered=!1,t._autoClose())),!t._resizeDetails||t._resizeDetails&&!t._resizeDetails.started)return;t.setAttribute("resizing",""),t._resizeDetails.resizeEventFired||(t.$.fireEvent("resizeStart",{position:{left:e.pageX,top:e.pageY}}),t._resizeDetails.resizeEventFired=!0);const n=document.documentElement,r=t.$.dropDownContainer.getBoundingClientRect(),a=t.getBoundingClientRect(),s=t.$.dropDownContainer.hasAttribute("top")?"top":"bottom";let o;function l(){if(o=e.pageY-t._resizeDetails.y,"bottom"===s)t._resizeDetails.height=Math.min(n.clientHeight-r.top-6,Math.max(0,t._resizeDetails.height+o)),t._resizeDetails.y=Math.max(r.top+n.scrollTop-t._resizeDetails.offsetY,Math.min(n.clientHeight+n.scrollTop-1.5*t._resizeDetails.offsetY,e.pageY));else{if(t._resizeDetails.height=Math.min(t._dropDownSize.maxHeight,Math.max(0,Math.min(a.top,t._resizeDetails.height-o))),o=Math.max(0,r.top+(r.height-Math.max(t._dropDownSize.minHeight,t._resizeDetails.height))),t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const e=Math.abs(parseFloat(getComputedStyle(t.$.dropDownContainer).getPropertyValue("margin-bottom")))||0;t.$.dropDownContainer.style.top=t.dropDownAppendTo&&t.dropDownAppendTo.length>0?e+o+"px":""}const i=a.top+n.scrollTop+t._resizeDetails.offsetYtop;t._resizeDetails.y=Math.max(t._resizeDetails.offsetYtop,Math.min(i,Math.max(i-t._dropDownSize.maxHeight,e.pageY)))}t.$.dropDownContainer.style.height=t._resizeDetails.height+"px"}function d(){o=e.pageX-t._resizeDetails.x,t._resizeDetails.width=Math.min(n.clientWidth-r.left-6,Math.max(0,t._resizeDetails.width+o)),t.$.dropDownContainer.style.width=t._resizeDetails.width+"px",t._resizeDetails.x=Math.max(r.left+n.scrollLeft-t._resizeDetails.offsetXR,Math.min(n.clientWidth+n.scrollLeft-1.5*t._resizeDetails.offsetXR,e.pageX))}switch(t.resizeMode){case"vertical":l();break;case"horizontal":d();break;case"both":d(),l()}}_documentUpHandler(e){const t=this;if(t.$.actionButton.removeAttribute("active"),t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._preventDropDownClose=!1,t.focus(),void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}});if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked;if(t._overlayDown)return t.close(),void delete t._overlayDown;let i=e.originalEvent.target,n=i.closest?i.closest("jqx-drop-down-list"):void 0;if((t.enableShadowDOM||t.isInShadowDOM)&&(n=(i=e.originalEvent.composedPath()[0]).getRootNode().host),t._preventsSelectStart=!1,void 0===i||i===t.$.resizeBar)return;if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-selection-label")&&n===t){"none"!==t.dropDownOpenMode&&t.open();let e=t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.textContent)[0];return t.$.listBox._scrollView.scrollTop=e.offsetTop,void t._focus(e)}if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-unselect-button")&&n===t){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return;return void t.unselect(t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.previousElementSibling.textContent)[0])}const r=i.closest(".jqx-action-button");if(t._buttonClicked&&("dropDownButton"===t.dropDownOpenMode&&r&&t._buttonClicked===t.$.actionButton?t.$.fireEvent("actionButtonClick"):i.closest(".jqx-drop-down-button")!==t._buttonClicked&&r!==t._buttonClicked||t.$.fireEvent("dropDownButtonClick")),t._buttonClicked=void 0,r===t.$.actionButton||i.closest(".jqx-drop-down-button")===t.$.dropDownButton)return"dropDownButton"===t.dropDownOpenMode&&r===t.$.actionButton?void t.close():void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode?t.open():t.close());void 0!==(i=t._getUpEventTarget(i))&&("dropDownContainer"!==i&&"item"!==i||"item"===i&&"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0)&&t.close()}_dragStartHandler(e){this._resizeDetails&&this._resizeDetails.started&&e.preventDefault()}_dropDownTransitionendHandler(){const e=this;e._edgeMacFF&&!e.opened&&e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view"))}_focus(e){this.$.listBox._focus(e)}_blurEventHandler(){const e=this;e.$.dropDownButton&&(e.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),e.$.actionButton&&(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus")),e.nodeName&&"JQX-DROP-DOWN-LIST"===e.nodeName&&!e._preventDropDownClose&&e.close()}_focusEventHandler(){const e=this;e.$.dropDownButton&&(e.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus","")),e.$.actionButton&&(e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus","")),e.removeAttribute("drop-down-button-focus"),e.removeAttribute("action-button-focus")}_buttonsFocusHandler(e){const t=this;e.target===t.$.dropDownButton?"focus"===e.type?t.setAttribute("drop-down-button-focus",""):(t.removeAttribute("drop-down-button-focus"),t.nodeName&&"JQX-DROP-DOWN-LIST"===t.nodeName&&!t._preventDropDownClose&&t.close()):"focus"===e.type?t.setAttribute("action-button-focus",""):t.removeAttribute("action-button-focus")}_getUpEventTarget(e){const t=this;let i=e;for(i=void 0===i.parentElement?i.getRootNode().host:i.parentElement;i;){if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=void 0===i.parentElement?i.getRootNode().host:i.parentElement}return i}_keyDownHandler(e){const t=this,i=t.enableShadowDOM&&t.shadowRoot.activeElement||document.activeElement,n=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!(t.$.listBox&&n===t.$.listBox.$.filterInput||i!==t&&i!==t.$.dropDownButton&&i!==t.$.actionButton))switch(e.key){case"Enter":case" ":n.setAttribute("active",""),e.preventDefault(),n!==t.$.actionButton&&(t._keyPressed=!0,t.opened?(t._focusedItem&&t.select(t._focusedItem),("Enter"===e.key&&["none"].indexOf(t.selectionMode)<0||" "===e.key&&["none","one","radioButton"].indexOf(t.selectionMode)>-1)&&t.close()):t.opened||t.readonly||"none"===t.dropDownOpenMode||t.open());break;case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(t.readonly)return;if(e.altKey)return t._keyPressed=!1,void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close());e.preventDefault(),t.$.listBox._handleKeyStrokes(e.key);break;case"Escape":e.preventDefault(),t.close();break;default:if(t.readonly)return;"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!0),t.$.listBox._applyIncrementalSearch(e.key)}}_keyUpHandler(e){const t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target;t.$.listBox&&i===t.$.listBox.$.filterInput||("Enter"!==e.key&&" "!==e.key||(i.removeAttribute("active"),t.$dropDownContainer.hasClass("jqx-visibility-hidden")||(t._keyPressed=!1)),t.$.listBox&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1))}_listBoxChangeHandler(e){const t=this;if((t.dropDownAppendTo&&t.dropDownAppendTo.length>0||t.enableShadowDOM)&&t.$.fireEvent("change",e.detail),"list"===t.autoComplete&&e.detail){const i=t.$.listBox._items[e.detail.index];t._lastSelectedItem=i&&i.selected?i:void 0}t._applySelection(t.selectionMode,e.detail)}_listBoxItemClickHandler(e){const t=this;(t.dropDownAppendTo&&t.dropDownAppendTo.length>0||t.enableShadowDOM)&&t.$.fireEvent(e.type,e.detail),"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0&&t.close(),"JQX-COMBO-BOX"!==t.nodeName||JQX.Utilities.Core.isMobile||t.$.input.focus(),delete t._isDropDownClicked}_listBoxKeyDownHandler(e){const t=this;if("Enter"===e.key)return t.close(),"dropDownButton"===t.dropDownOpenMode?t.$.dropDownButton.focus():t.focus(),void e.stopPropagation();"Escape"!==e.key||t.close()}_mouseEnterHandler(){const e=this;e._isElementHovered=!0,e.tagName.indexOf("JQX-DROP-DOWN-")>-1&&"auto"===e.dropDownOpenMode&&!e.disabled&&!e.readonly&&e.open()}_mouseLeaveHandler(){const e=this;e.removeAttribute("hover"),e._isElementHovered=!1,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e._autoClose()}_mouseWheelHandler(e){const t=this;t.disabled||t.readonly||t.items&&0===t.items.length||t.$dropDownContainer&&!t.$dropDownContainer.hasClass("jqx-visibility-hidden")||t.$.listBox&&(e.preventDefault(),t.$.listBox._handleKeyStrokes(e.deltaY>0?"ArrowDown":"ArrowUp"))}_autoClose(){const e=this;e._autoCloseTimeout=setTimeout(function(){e._isElementHovered||e.close(),clearTimeout(e._autoCloseTimeout)}.bind(e),e.autoCloseDelay)}_propertyValidator(e,t){return"number"!=typeof t&&"string"!=typeof t?e:t}_resizeHandler(){const e=this;"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize())}_selectStartHandler(e){this._preventsSelectStart&&e.preventDefault()}_setDropDownSize(){const e=this;if(e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(t=>{e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?e[t]+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth){if("auto"!==e.dropDownWidth)e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px";else if(e.$.dropDownContainer.style.width="auto",e.$.listBox){let t=2+2*parseInt(window.getComputedStyle(e.$.listBox.$.itemsContainer).getPropertyValue("--jqx-list-item-horizontal-offset"));e.$.dropDownContainer.style.width=t+e.$.listBox._scrollWidth+"px"}}else e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px";if(e.dropDownHeight&&"auto"!==e.dropDownHeight)e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px");else if(!e.$.listBox||"auto"!==e._dropDownSize.height&&"auto"!==e.dropDownHeight)e.$.dropDownContainer.style.height=e._dropDownSize.height;else{e.$.dropDownContainer.style.height="";let t=2*parseInt(window.getComputedStyle(e.$.listBox.$.itemsContainer).getPropertyValue("--jqx-list-item-vertical-offset"));isNaN(t)&&(t=6);let i=t;e.$.listBox.items.length>0&&e.$.listBox.items.map(e=>i+=e.height||e.offsetHeight),i=i+e._dropDownSize.paddingWidth+e._dropDownSize.borderWidth,e.$.dropDownContainer.style.height=i+"px"}e.$.listBox&&e.$.listBox._refreshLayout()}_styleChangedHandler(e){const t=this;if(t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const i=e.detail.styleProperties,n=["font-size","font-family","font-style","font-weight"];for(let e=0;e<n.length;e++)i[n[e]]&&(t.$.dropDownContainer.style[n[e]]=i[n[e]].value)}"auto"===t._dropDownSize.height&&t._setDropDownSize()}_validateTemplate(e){const t=this;if(e&&"function"!=typeof e)if("content"in document.createElement("template")){if(e instanceof HTMLTemplateElement||(e=document.getElementById(e)),null!==e&&"content"in e)return e;t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"tokenTemplate"}))}else t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}))}});var ee=Object.freeze({});JQX("jqx-combo-box",class extends JQX.DropDownList{static get properties(){return{autoComplete:{allowedValues:["none","manual","auto","inline","list"],type:"string",value:"none"},autoCompleteDelay:{value:700,type:"number"},autoOpenShortcutKey:{value:[],type:"array"},escKeyMode:{allowedValues:["clearValue","firstPossibleValue","none","previousValue"],type:"string",value:"none"},minLength:{type:"number",value:2},value:{value:"",type:"string"}}}static get listeners(){return{"input.focus":"_inputFocusHandler","input.blur":"_inputFocusHandler","dropDownButton.focus":"_dropDownButtonFocusHandler","dropDownButton.blur":"_dropDownButtonFocusHandler","input.change":"_inputChangeEventHandler","input.mouseenter":"_buttonsMouseEventsHandler","input.mouseleave":"_buttonsMouseEventsHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.selectstart":"_selectStartHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler",wheel:"_mouseWheelHandler"}}static get styleUrls(){return["jqx.combobox.css"]}template(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                         <div id="selectionField" class ="jqx-input jqx-selection-field">\n                             <input id="input" placeholder="[[placeholder]]" autocomplete="off"/>\n                             <div class="jqx-combo-box-auto-complete-string" id="autoCompleteString"></div>\n                         </div>\n                        <span id="dropDownButton" class ="jqx-drop-down-button jqx-unselectable">\n                            <span id="arrow"></span>\n                        </span>\n                         <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-list-box id="listBox"\n                                    animation="[[animation]]"\n                                    unfocusable="true"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-callback="[[filterCallback]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    readonly="[[readonly]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </jqx-list-box>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this;switch(e){case"autoComplete":if("list"===i){n.$.listBox.$.filterInput.value="";let e=n.$.listBox.context;n.$.listBox.context=n.$.listBox,n.$.listBox._filterItems(!0),n.$.listBox.context=e,n._setDropDownSize()}n._autoComplete(!0);break;case"dataSource":case"displayMember":n._clearSelection(!0),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally");break;case"disabled":n.$.input.disabled=i,n._setFocusable(),n.close(),n._positionDetection&&n._positionDetection.handleAutoPositioning();break;case"readonly":n.$.input.readOnly=i,n.close();break;case"selectedValues":case"selectedIndexes":n._clearSelection(!0),n._applySelection(n.selectionMode);break;case"selectionMode":case"selectionDisplayMode":n._clearSelection(),n._applySelectionDisplayMode(),"tokens"===n.selectionDisplayMode&&(n._currentSelection=void 0),n._applySelection(n.selectionMode);break;case"tokenTemplate":if(n.$.selectionField)for(;"SPAN"===n.$.selectionField.firstElementChild.nodeName;)n.$.selectionField.removeChild(n.$.selectionField.firstElementChild);n._tokenTemplate=n._validateTemplate(n.tokenTemplate),n._applySelection();break;case"value":n._queryItems(!0);break;default:super.propertyChangedHandler(e,t,i)}}clearItems(){this.$.listBox.clearItems(),this._clearSelection(!0)}clearSelection(){this.$.listBox.clearSelection(),this._clearSelection(!arguments[0])}blur(){this.$.input.blur()}focus(){this.$.input.focus()}_setFocusable(){const e=this;if(!e.disabled&&!e.unfocusable){let t=e.tabIndex>0?e.tabIndex:0;return e.$.input.tabIndex=t,void("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("tabindex",t):e.$.dropDownButton.removeAttribute("tabindex"))}e.$.input.tabIndex=-1,e.$.dropDownButton.removeAttribute("tabindex")}_autoComplete(e){const t=this;if("list"===t.autoComplete)return;if(0===t.$.listBox._items.length&&"function"!=typeof t.dataSource)return void t.close();const i=t.$.input.value.length<t.minLength?"":"escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value;let n;1===t.$.listBox.selectedValues.length&&(n=t.$.listBox.getItem(t.$.listBox.selectedValues[0])),t.$.autoCompleteString.textContent="",t.$.listBox.$.filterInput.value="none"===t.autoComplete||t.$.input.value.length<t.minLength?"":i;let r=t.$.listBox.context;t.$.listBox.context=t.$.listBox,t.$.listBox._filterItems(!!e,function(){if(!t.$.listBox.isAttached||!t.$.input)return;const e=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(t._setDropDownSize(),t.opened&&(t._positionDetection.positionDropDown(),t._positionDetection.checkBrowserBounds()),t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length>0){if(t.$.listBox._scrollView.scrollTop=t.$.listBox._filteredItems[0].offsetTop,"none"!==t.autoComplete&&t.$.input.value.length>=t.minLength&&!function(e){for(let t=0;t<e.length;t++)if(e[t]._focused&&e[t].hasAttribute("focus"))return!0}(t.$.listBox._filteredItems)&&t._focus(t.$.listBox._filteredItems[0]),e===t.$.input&&"inline"===t.autoComplete&&t.$.input.value.length>=t.minLength&&t._updateAutoCompleteHelper(),n&&n[t.inputMember]===t.$.listBox._filteredItems[0][t.inputMember]&&n.value===t.$.listBox._filteredItems[0].value&&(t.$.listBox.context=t.$.listBox,t.$.listBox._select(t.$.listBox._filteredItems[0],!0),t.$.listBox.context=r),i!==t.$.listBox._filteredItems[0][t.inputMember]||JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode){if(t._closedFromKeyCombination)return void(t._closedFromKeyCombination=!1);if(i.length<t.minLength&&!(JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode))return void t.close();t.isCompleted&&"none"!==t.dropDownOpenMode&&e===t.$.input&&t.open()}}else t.close()},JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode),t.$.listBox.context=r}_updateAutoCompleteHelper(){const e=this,t=e.$.autoCompleteString;if(t.style.width=e.$.input.offsetWidth+"px",t.style.height=e.$.input.offsetHeight+"px",t.style.left=e.$.input.offsetLeft+"px",t.style.top=e.$.input.offsetTop+"px",t.style.paddingLeft=e.selectedIndexes.length>0?0:null,!e._focusedItem)return void(t.textContent="");const i=e.$.input.value,n=e._focusedItem[e.inputMember];n.length!==i.length&&0===n.toLowerCase().indexOf(i.toLowerCase())&&(t.textContent=e.$.input.value+n.slice(i.length))}_applySelection(e,t){const i=this;function n(){for(;"SPAN"===i.$.selectionField.firstElementChild.nodeName;)i.$.selectionField.removeChild(i.$.selectionField.firstElementChild);let e,t,n=document.createDocumentFragment();t="tokens"===i.selectionDisplayMode?1!==i.selectedIndexes.length||"oneOrManyExtended"!==i.selectionMode&&"oneOrMany"!==i.selectionMode?"&#10006":"":",",i.selectedIndexes.map(r=>{(e=i._applyTokenTemplate(i.$.listBox._items[r][i.inputMember],t))._value=i.$.listBox._items[r].value,n.appendChild(e)}),i.$.selectionField.insertBefore(n,i.$.input),i._currentSelection=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]),i.$.container.setAttribute("has-value",""),i._oldValue=i.value=i._currentSelection.toString(),i._positionDetection.positionDropDown()}if(i.$.autoCompleteString.textContent="",0!==i.selectedIndexes.length){if(i.$.listBox._items&&0!==i.$.listBox._items.length)if("one"===i.selectionMode||"zeroOrOne"===i.selectionMode||"radioButton"===i.selectionMode){if(i._currentSelection&&i._currentSelection.length>i.selectedIndexes.length)return i._currentSelection=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]),i.$.input.value=i._currentSelection.toString(),void(i._oldValue=i.value=i._currentSelection.toString());i._clearSelection(),i._currentSelection=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]),i.$.input.value=i._currentSelection.toString(),i._oldValue=i.value=i._currentSelection.toString(),i.$.container.setAttribute("has-value",""),"none"!==i.autoComplete&&"function"!=typeof i.dataSource&&(i._autoComplete(!0),i._keyboardNavigation||i.close())}else{if(i.$.input.value="",i.$.input.placeholder="",i.$.container.setAttribute("has-value",""),!i._currentSelection||"oneOrManyExtended"===i.selectionMode||"radioButton"===i.selectionMode&&!i.grouped)return void n();const e=i.$.selectionField.getElementsByClassName("jqx-token");if(i._currentSelection.length<i.selectedIndexes.length){let e=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]);for(let t=0;t<e.length;t++)if(i._currentSelection.indexOf(e[t])<0){const e=i.$.listBox._items[i.selectedIndexes[t]];let n,r;r="tokens"===i.selectionDisplayMode?1!==i.selectedIndexes.length||"oneOrManyExtended"!==i.selectionMode&&"oneOrMany"!==i.selectionMode?"&#10006":"":",",1!==i.selectedIndexes.length||"oneOrManyExtended"!==i.selectionMode&&"oneOrMany"!==i.selectionMode||(r=""),(n=i._applyTokenTemplate(e[i.inputMember],r))._value=e.value,i.$.selectionField.insertBefore(n,i.$.input)}"none"!==i.autoComplete&&i.$.listBox._filteredItems&&i.$.listBox._filteredItems.length!==i.$.listBox._items.length&&i._autoComplete(!0),i._positionDetection.positionDropDown()}else{if(i._currentSelection.length>0&&0===e.length||i._currentSelection.length===i.selectedIndexes.length&&i._currentSelection.toString()!==i.selectedValues.toString())return void n();if(!t)return;for(let n=0;n<e.length;n++)if(e[n]._value===t.value){i.$.selectionField.removeChild(e[n]);break}}i._currentSelection=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]),i._oldValue=i.value=i._currentSelection.toString()}}else i._clearSelection(t&&t.index>-1&&i.$.input.value===i.$.listBox._items[t.index][i.inputMember])}_applySelectionDisplayMode(){const e=this;"one"===e.selectionMode||"zeroOrOne"===e.selectionMode||"radioButton"===e.selectionMode?e.$.removeClass("auto-height"):e.$.addClass("auto-height")}_bindingCompleteHandler(){this._queryItems(),this._setDropDownSize()}_buttonsMouseEventsHandler(e){const t=this;t.disabled||t.readonly||("mouseenter"===e.type?(e.target.setAttribute("hover",""),t.setAttribute("hover",""),"auto"!==t.dropDownOpenMode||JQX.TextBox&&t instanceof JQX.TextBox||(e.target===t.$.dropDownButton?(t.open(),t.$.input.focus()):t.close())):(e.target.removeAttribute("hover"),t.removeAttribute("hover")))}_createElement(){const e=this;e._tokenTemplate=e._validateTemplate(e.tokenTemplate),e._applySelectionDisplayMode(),e._applySelection(e.selectionMode),"none"!==e.autoComplete&&(e._autoComplete(!0),e.$.input.autocomplete="off"),e._setDropDownSize(),e.$.input.disabled=e.disabled,e.$.input.readOnly=e.readonly,e._setFocusable(),e.$.input.value.length>0&&0===e.selectedIndexes.length&&(e.$.container.setAttribute("has-value",""),e._oldValue=e.value=e.$.input.value),e.$.arrow.noRipple=!0}_clearSelection(e){const t=this;if(e&&(t.$.input.value="",t.value=""),t.$.input.placeholder=t.placeholder,t.$.autoCompleteString.textContent="",t._currentSelection=[],t.$.selectionField)for(;"SPAN"===t.$.selectionField.firstElementChild.nodeName;)t.$.selectionField.removeChild(t.$.selectionField.firstElementChild);"none"!==t.autoComplete&&"list"!==t.autoComplete&&t.$.input.value.length>0&&(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),"function"!=typeof t.dataSource&&(t._autoCompleteTimer=setTimeout(function(){t._autoComplete(!0)},t.autoCompleteDelay))),t.$.input.value.length||t.$.container.removeAttribute("has-value")}_documentDownHandler(e){const t=this;super._documentDownHandler(e);let i=e.originalEvent.target;(t.shadowRoot||t.isInShadowDOM)&&(i=e.originalEvent.composedPath()[0]),i!==t.$.dropDownButton||"none"===t.dropDownOpenMode||JQX.Utilities.Core.isMobile||requestAnimationFrame(()=>t.$.input.focus())}_documentUpHandler(e){const t=this;let i=e.originalEvent.target,n=i.closest?i.closest("jqx-combo-box"):void 0;(t.shadowRoot||t.isInShadowDOM)&&(n=(i=e.originalEvent.composedPath()[0]).getRootNode().host);const r=i;if(t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._dropDownResized=!0,void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}});if(t.disabled||t._isDropDownClicked||t.readonly)delete t._isDropDownClicked;else{if(t._overlayDown)return t.close(),void delete t._overlayDown;if(i!==t.$.input&&void 0!==i&&i!==t.$.resizeBar)if(i!==t.$.selectionField){if(i===t.$.dropDownButton&&"none"!==t.dropDownOpenMode)return t._preventDropDownClose=!0,t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close(),void(JQX.Utilities.Core.isMobile||requestAnimationFrame(()=>t.$.input.focus()));if(i.classList.contains("jqx-drop-down-list-selection-label")&&n===t&&"none"!==t.dropDownOpenMode){t.open();let e=t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.textContent)[0];return t.$.input.focus(),t.$.listBox._scrollView.scrollTop=e.offsetTop,void t._focus(e)}if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-unselect-button")&&n===t){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return;return t.unselect(t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.previousElementSibling.textContent)[0]),void t.$.input.focus()}void 0!==(i=t._getUpEventTarget(i))?((!t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"dropDownContainer"!==i&&"item"!==i||"item"===i&&t.selectionMode.indexOf("Many")<0&&"checkBox"!==t.selectionMode)&&t.close(),("item"===i||"dropDownContainer"===i&&r!==t.$.listBox.$.filterInput)&&t.$.input.focus()):t.$.input.focus()}else t.$.input.focus()}}_dropDownButtonFocusHandler(e){const t=this;"focus"===e.type?("dropDownButton"!==t.dropDownOpenMode&&t.$.input.focus(),t.setAttribute("focus","")):t.removeAttribute("focus")}_inputFocusHandler(e){const t=this;if(!t.disabled)if("focus"===e.type)t.setAttribute("focus",""),t._buttonClicked||(t._oldValue=t.$.input.value);else{if(t.removeAttribute("focus"),""!==e.target.value||0!==t.selectedIndexes.length&&""===e.target.value?t.$.container.setAttribute("has-value",""):t.$.container.removeAttribute("has-value"),t._preventDropDownClose||(t.opened&&("auto"===t.autoComplete||"inline"===t.autoComplete)&&t.$.input.value.length>0&&t._focusedItem&&!t._focusedItem.selected&&t.select(t._focusedItem),t.close()),!t._handleAutoCompleteModeList())return;"previousValue"===t.escKeyMode&&(t.value=t.$.input.value)}}_handleAutoCompleteModeList(){const e=this;if("list"===e.autoComplete&&!e._buttonClicked){if(e.opened&&e._isDropDownClicked)return!1;if(e.$.autoCompleteString.textContent="",e._lastSelectedItem)e._lastSelectedItem.selected||e.select(e._lastSelectedItem);else if(e.$.input.value.length&&e._oldValue){const t=e.$.listBox._queryItems(e._oldValue,e.incrementalSearchMode);for(let i=0;i<t.length;i++)if(!t[i].hidden){t[i].selected||e.select(t[i]),e._focus(t[i]);break}e.value=e.$.input.value=e._oldValue}else e.value=e.$.input.value=""}}_inputChangeEventHandler(e){const t=this;e.stopPropagation(),t._preventInputChangeEvent?delete t._preventInputChangeEvent:t._isDropDownClicked||t._oldValue===t.$.input.value||t.$.fireEvent("change",{oldValue:t._oldValue,value:t.$.input.value,addedItems:[],removedItems:[],selected:[],disabled:[],index:[],label:[]})}_keyDownHandler(e){const t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target;if(t.disabled||t.readonly||i===t.$.listBox.$.filterInput)return;const n="function"==typeof t._focusedItem?t._focusedItem():t._focusedItem;switch(e.key){case"Enter":if(delete t._preventInputChangeEvent,i===t.$.input&&n&&t.opened){if(n.selected&&"list"===t.autoComplete)return t.close(),t._unfocus(),void t._handleAutoCompleteModeList();n.disabled||(t.select(n),t._preventInputChangeEvent=!0),!t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&t.selectionMode.indexOf("one")>-1&&(t.close(),t._unfocus())}else i===t.$.dropDownButton?(t.$.dropDownButton.setAttribute("active",""),t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode?t.open():t.close(),t.$.input.focus()):t.close();return void t._handleAutoCompleteModeList();case"Escape":switch(t.escKeyMode){case"none":t.$dropDownContainer.hasClass("jqx-visibility-hidden")||(t.close(),t._unfocus());break;case"clearValue":t.value=t.$.input.value="",t.close();break;case"previousValue":t.$.input.value=t._oldValue;break;case"firstPossibleValue":{const e=t.$.listBox._items.find(e=>!e.disabled&&!e.hidden&&!e.readonly);if(e){const i=e[t.inputMember];t.$.input.value===i&&t.close(),t.$.input.value=i}break}}break;case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(!0===t._autoOpenOnKeyDown(e))return;if(e.altKey){if(t._closedFromKeyCombination=!0,t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode){if(t.open(),0===t.items.length)return;0===t.selectedIndexes.length?t._focus(t.items[0]):t.selectedIndexes.length>0&&!t.$.listBox._items[t.selectedIndexes[t.selectedIndexes.length-1]].hidden&&t._focus(t.items[t.selectedIndexes[t.selectedIndexes.length-1]])}else t.close();return}if(i===t.$.input&&t.$dropDownContainer.hasClass("jqx-visibility-hidden"))return void(e.ctrlKey&&(e.preventDefault(),t._handleKeyStroke(e.key)));if(("PageUp"===e.key||"PageDown"===e.key)&&!n||i===t.$.listBox.$.filterInput)return;if(e.preventDefault(),!n||n&&!n._focused)return void t._focus(t.items[0]);t._handleKeyStroke(e.key),"inline"!==t.autoComplete&&"list"!==t.autoComplete||t._updateAutoCompleteHelper();break;case"Backspace":if(t.$.input.previousElementSibling){if(0===t.$.input.value.length){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return;const e=t.$.listBox.getItem(t.$.input.previousElementSibling._value);e?t.unselect(e):t.$.selectionField.firstElementChild&&"SPAN"===t.$.selectionField.firstElementChild.nodeName&&t.$.selectionField.removeChild(t.$.selectionField.firstElementChild)}return}t.selectedIndexes.length>1&&t.clearSelection(!0);break;default:if(i===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!0),!0===t._autoOpenOnKeyDown(e))return}}_handleKeyStroke(e){const t=this,i=t.$.listBox;if("none"===t.autoComplete)return void i._handleKeyStrokes(e);const n=t.items;switch(e){case"ArrowLeft":case"ArrowUp":t._handleArrowKeys(!0);break;case"ArrowRight":case"ArrowDown":t._handleArrowKeys(!1);break;case"Home":case"End":{if(0===n.length)return;const r="Home"===e;t._focus(r?n[0]:n[n.length-1]),i.scrollTop=r?0:i.scrollHeight;break}case"PageUp":t._pageUpKeyHandler(n);break;case"PageDown":t._pageDownKeyHandler(n)}i._recycle()}_handleArrowKeys(e){const t=this,i=t.$.listBox;let n;if(t._focusedItem)n=t.$.listBox._indexOf(t._focusedItem),t._focusedItem._focused=!1;else{if(0===t.selectedIndexes.length)return;n=t.selectedIndexes[t.selectedIndexes.length-1]}const r=e?i._getPreviousItem(n):i._getNextItem(n);t._focus(r),"list"===t.autoComplete&&i._items[n]!==r&&(t._keyboardNavigation=!0,i.clearSelection(),i.select(r),delete t._keyboardNavigation),t.ensureVisible(r)}_pageDownKeyHandler(e){const t=this.$.listBox;let i,n=t._items[this.selectedIndexes[this.selectedIndexes.length-1]];t._focusedItem&&(n=t._focusedItem);const r=t._indexOf(n);let a=n.top+t.$.itemsContainer.offsetHeight-n.height;for(let t=r;t<e.length;t++)if(e[t].top>=a){i=e[t];break}i||(i=e[e.length-1]),this._focus(i),(i.height+i.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||i.top<t.$.itemsContainer.scrollTop)&&(t.scrollTop=i.top-t.$.itemsContainer.offsetHeight+i.height)}_pageUpKeyHandler(e){const t=this.$.listBox;let i=t._items[this.selectedIndexes[this.selectedIndexes.length-1]];t._focusedItem&&(i=t._focusedItem);const n=i.top-t.$.itemsContainer.offsetHeight;let r;for(let a=t._indexOf(i);a>0;a--)if(e[a].top<=n){r=e[a];break}r||(r=e[0]),t._focus(r),t.scrollTop=r.top,0===t._indexOf(r)&&(t.scrollTop=0)}_autoOpenOnKeyDown(e){const t=this;if(t.opened||!t.opened&&t.autoOpenShortcutKey.indexOf(e.key)<0)return;t.selectedIndexes.length&&t._focus(t.items[t.selectedIndexes[t.selectedIndexes.length-1]]);const i="function"==typeof t._focusedItem?t._focusedItem():t._focusedItem;return t.open(),(!i||i&&!i._focused)&&("ArrowDown"===e.key?t._focus(t.items[0]):"ArrowUp"===e.key&&t._focus(t.items[t.items.length-1]),t.ensureVisible(t._focusedItem)),!0}_keyUpHandler(e){const t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!(t.disabled||"none"===t.escKeyMode&&"Escape"===e.key||i===t.$.listBox.$.filterInput))if(i===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1),["one","radioButton","zeroOrOne"].indexOf(t.selectionMode)>-1&&1===t.selectedIndexes.length&&t.$.input.value!==(t._currentSelection?t._currentSelection[0]:void 0)&&t.unselect(t.$.listBox._items[t.selectedIndexes[0]]),"Enter"!==e.key){if(i===t.$.input&&e.key.indexOf("Arrow")<0&&["Control","Shift"].indexOf(e.key)<0){if(t.value===t.$.input.value)return;if(t._currentSelection?t.value=t._currentSelection.toString()+(t._currentSelection.length>0?",":"")+t.$.input.value:t.value=t.$.input.value,t.$.autoCompleteString.textContent="",t._closedFromKeyCombination)return void(t._closedFromKeyCombination=!1);if("none"!==t.autoComplete&&"list"!==t.autoComplete?(t.$.input.value!==(t._currentSelection?t._currentSelection.toString():void 0)||t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length!==t.$.listBox._items.length)&&(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),t._autoCompleteTimer=setTimeout(function(){t._autoComplete(!0)},t.autoCompleteDelay)):(t.$.input.value.length>0&&t._queryItems(),t._focusedItem&&(t.open()," "!==e.key&&(t.$.listBox._scrollView.scrollTop=t._focusedItem.offsetTop))),"none"!==t.autoComplete&&"list"!==t.autoComplete&&t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length===t.$.listBox._items.length)return void t.close()}}else t.$.dropDownButton.removeAttribute("active")}_queryItems(e){const t=this;if(!t.value||!t.$.input)return void t.close();let i=t.$.listBox._queryItems(t.$.input.previousElementSibling?t.$.input.value:t.value,t.incrementalSearchMode);0===i.length&&t._unfocus();for(let n=0;n<i.length;n++)if(!i[n].hidden){e&&!i[n].selected&&t.select(i[n]),t._focus(i[n]);break}"list"===t.autoComplete&&(t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement)===t.$.input&&t.$.input.value.length>=t.minLength?(t._lastSelectedItem=t._focusedItem,t._updateAutoCompleteHelper()):t._lastSelectedItem=void 0}_selectStartHandler(e){this._resizeDetails&&this._resizeDetails.started&&e.preventDefault()}_unfocus(){this._focusedItem&&(this._focusedItem._focused=!1,this.$.listBox._focusedItem=void 0)}});var te=Object.freeze({});JQX("jqx-text-box",class extends JQX.ComboBox{static get properties(){return{autoFocus:{value:!1,type:"boolean"},autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},dropDownOpenMode:{allowedValues:["none","default","auto"],value:"default",type:"string"},enterKeyBehavior:{value:"submit",allowedValues:["submit","clearOnSubmit"],type:"string"},form:{value:"",type:"string"},hint:{value:null,reflectToAttribute:!1,type:"any"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},selectionMode:{value:"zeroOrOne",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},type:{value:"input",type:"string",defaultReflectToAttribute:!0,readonly:!0},value:{value:"",type:"string"}}}static get listeners(){return{"document.up":"_documentUpHandler",focus:"_focusHandler",keydown:"_keyDownHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","input.blur":"_focusHandler","input.change":"_textBoxChangeHandler","input.focus":"_focusHandler","input.keyup":"_textBoxKeyUpHandler","input.paste":"_textBoxChangeHandler","input.select":"_textBoxSelectHandler","listBox.bindingComplete":"_bindingCompleteHandler"}}template(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                    <div id="content" class="jqx-content">\n                        <input class="jqx-input" type="text" id="input"\n                            disabled="[[disabled]]"\n                            maxlength="[[maxLength]]"\n                            name="[[name]]"\n                            placeholder="[[placeholder]]"\n                            readonly="[[readonly]]">\n                        <div id="autoCompleteString"></div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                           <jqx-list-box id="listBox"\n                               data-source="[[dataSource]]"\n                               unfocusable="true"\n                               disabled="[[disabled]]"\n                               display-loading-indicator="[[displayLoadingIndicator]]"\n                               display-member="[[displayMember]]"\n                               item-height="[[itemHeight]]"\n                               item-template="[[itemTemplate]]"\n                               filter-callback="[[filterCallback]]"\n                               filter-mode="[[filterMode]]"\n                               loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                               loading-indicator-position="[[loadingIndicatorPosition]]"\n                               placeholder="[[dropDownPlaceholder]]"\n                               readonly="[[readonly]]"\n                               selection-mode="[[selectionMode]]"\n                               value-member="[[valueMember]]">\n                                <content></content>\n                            </jqx-list-box>\n                         </div>\n                    </div>\n                    <span id="hint" class ="jqx-hint"></span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this;switch(e){case"autoComplete":n.$.listBox._filteredItems&&n.$.listBox._filteredItems.length!==n.$.listBox._items.length&&super._autoComplete(!0),n.$.input.autocomplete="none"!==i?"off":"on";break;case"dataSource":case"valueMember":n._clearSelection(),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally");break;case"displayMember":case"inputMember":{const e=n.$.listBox;if(e.selectedIndexes.length){const t=e._items[e.selectedIndexes[0]][n.inputMember];n.$.listBox.$.filterInput.value=t,n.$.input.value="escaped"===n.displayMode?n._toEscapedDisplayMode(t):n._toDefaultDisplayMode(t),n.set("value",n._toDefaultDisplayMode(n.$.input.value))}break}case"displayMode":n.$.input.value="escaped"===i?n._toEscapedDisplayMode(n.value):n.value=n._toDefaultDisplayMode(n.$.input.value);break;case"dropDownOpenMode":n._setFocusable(),n.$dropDownContainer.addClass("jqx-visibility-hidden"),n.opened=!1;break;case"value":(n.$.input!==document.activeElement||n.$.input===document.activeElement&&n.$.input.value===n._oldValue)&&(n.$.input.value="escaped"===n.displayMode?n._toEscapedDisplayMode(n.value):n.value,n._oldValue=t),n.value||n.clearSelection(),i.length>0?n.$.addClass("has-value"):n.$.removeClass("has-value");break;case"hint":if(null===i)return n.$.hint.innerHTML="",void n.$.removeClass("invalid");n._handleHintContainer();break;default:super.propertyChangedHandler(e,t,i)}}static get requires(){return{"JQX.ComboBox":"jqxcombobox.js"}}static get styleUrls(){return["jqx.textbox.css"]}open(){0!==this.$.listBox.items.length&&"none"!==this.autoComplete&&(0===this.$.input.value.length&&this.$.listBox._filteredItems&&this.$.listBox._filteredItems.length!==this.$.listBox._items.length?super._autoComplete(!0):super.open())}close(){const e=this;super.close(),e.$.autoCompleteString.textContent="",e.$.listBox._focusedItem&&(e.$.listBox._focusedItem._focused=!1),"none"!==e.autoComplete&&e.$.input._filteredItems&&e.$.input._filteredItems[0]&&e.$.input._filteredItems[0]!==e.$.input.value&&super._autoComplete(!0)}focus(){this.$.input.focus()}_setFocusable(){const e=this;e.disabled||e.unfocusable?e.$.input.tabIndex=-1:e.$.input.removeAttribute("tabindex")}reset(){const e=this;"escaped"===e.displayMode?(e.value=e._initializationValue,e.$.input.value=e._toEscapedDisplayMode(e._initializationValue)):e.$.input.value=e.value=e._initializationValue,!e.value&&e.$.listBox&&e.clearSelection()}_bindingCompleteHandler(){this.$.listBox&&(this._setDropDownSize(),this._positionDetection.checkBrowserBounds())}_createElement(){const e=this;e._browserIsIEorEdge=JQX.Utilities.Core.Browser.IE||JQX.Utilities.Core.Browser.Edge,e.autoFocus&&e.$.input.focus(),e.value&&(e.$.input.value="escaped"===e.displayMode?e._toEscapedDisplayMode(e.value):e.value),"none"!==e.autoComplete&&(e.$.input.autocomplete="off"),e._setDropDownSize(),e._handleSelectedText(),e._setFocusable(),e._initializationValue=e._oldValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}_focusHandler(e){const t=this;if("blur"===e.type){if(t._isDropDownClicked)return;return t.removeAttribute("focus"),t.$.autoCompleteString.textContent="",t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),("auto"===t.autoComplete||"inline"===t.autoComplete)&&t.$.input.value.length>0&&t.$.listBox._focusedItem&&t.$.listBox._focusedItem._focused&&(t.$.input.value=t.$.listBox._focusedItem[t.inputMember]),t._preventDropDownClose||t.close(),void(t._oldValue!==t.value&&t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value}))}t.disabled||(t.setAttribute("focus",""),t._oldValue=t.value,t.selectAllOnFocus&&t.$.input.select())}_handlePointerInEscapedSymbol(e){const t=this;if("escaped"!==t.displayMode)return;let i=t.$.input.selectionStart,n=t.$.input.selectionEnd,r=t.$.input.value;if("\\"===r[i-1]&&r[i].match(/n|r|s|t|f/g)){if(i===n){let n="next"===e?1:-1;return t.$.input.selectionStart=i+n,void(t.$.input.selectionEnd=i+n)}t.$.input.selectionStart=i-1,"\\"===r[n-1]&&r[n].match(/n|r|s|t|f/g)&&(t.$.input.selectionEnd=n+1)}}_handleSelectedText(){null===this.selectionStart||null===this.selectionEnd||this.selectionStart===this.selectionEnd||this.selectAllOnFocus||(this.selectionStart=this.selectionStart<0?0:this.selectionStart,this.selectionEnd=this.selectionEnd>this.value.length?this.value.length:this.selectionEnd,this.$.input.setSelectionRange(this.selectionStart,this.selectionEnd))}_handleHintContainer(){const e=this;if(!e.hint)return;const t=e.$.hint;if("function"==typeof e.hint){const i=e.value;e.hint(i,t)?e.$.addClass("invalid"):e.$.removeClass("invalid")}else"string"==typeof e.hint&&(t.innerHTML=e.hint,e.$.removeClass("invalid"))}_keyDownHandler(e){const t=this;switch(t._showAutoCompleteHighlighter=!1,e.key){case"ArrowUp":case"ArrowDown":if(e.altKey)return e.preventDefault(),void("ArrowDown"===e.key?t.open():t.close());if(t.opened){if(e.preventDefault(),t.$.listBox._handleKeyStrokes(e.key),"inline"!==t.autoComplete)break;t._showAutoCompleteHighlighter=!0,super._updateAutoCompleteHelper()}break;case"PageUp":case"PageDown":e.preventDefault(),t.$.input.selectionStart=t.$.input.selectionEnd="PageUp"===e.key?0:t.$.input.value.length;break;case"Enter":if(t.opened&&t.$.listBox._focusedItem&&t.$.listBox._focusedItem._focused&&(t.$.listBox.$.filterInput.value=t.$.listBox._focusedItem[t.inputMember],t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(t.$.listBox._focusedItem[t.inputMember]):t._toDefaultDisplayMode(t.$.listBox._focusedItem[t.inputMember]),t.select(t.$.listBox._focusedItem),t.close()),"default"!==t.enterKeyBehavior){const i=t.$.input.value;t._oldValue!==i&&(e.preventDefault(),t.$.fireEvent("change",{oldValue:t._oldValue,value:i,type:"submit"}),"clearOnSubmit"===t.enterKeyBehavior&&(JQX.MaskedTextBox&&t instanceof JQX.MaskedTextBox?(t._cleanMask(),t._setMaskToInput(),t.$.input.selectionStart=t.$.input.selectionEnd=0):t.$.input.value=""),t._oldValue=t.value=t._toDefaultDisplayMode(t.$.input.value)),t._submitted=!0}break;case"Escape":if(t.$.dropDownContainer&&t.close(),t._closedFromKeyCombination=!0,"none"===t.escKeyMode)return;switch(t.escKeyMode){case"none":break;case"clearValue":t.value=t.$.input.value="";break;case"previousValue":t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(t._oldValue):t._oldValue}break;case" ":"escaped"===t.displayMode&&function(i){let n=t.$.input.selectionStart,r=t.$.input.selectionEnd,a=t.$.input.value;e.preventDefault(),a=a.substring(0,n)+i+a.substring(r,a.length),t.value=t._toDefaultDisplayMode(a),t.$.input.value=a,t.$.input.selectionStart=t.$.input.selectionEnd=n+2}("\\s");break;case"Backspace":if("escaped"===t.displayMode&&t.$.input.selectionStart===t.$.input.selectionEnd){let e=t.$.input.selectionStart;"\\"!==t.$.input.value[e-2]||"s"!==t.$.input.value[e-1]&&"n"!==t.$.input.value[e-1]||(t.$.input.value=t.$.input.value.substring(0,e-2)+t.$.input.value.substring(e-2,t.$.input.value.length),t.$.input.selectionStart=e-2)}}}_keyUpHandler(e){const t=this;t.disabled||"Escape"===e.key||e.target===t.$.listBox.$.filterInput||e.target===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1)}_listBoxItemClickHandler(e){const t=this,i=e.detail;if(super._listBoxItemClickHandler(e),i.selected){if("escaped"===t.displayMode){const e=t.$.input.value;t.value=t._toDefaultDisplayMode(e),t.$.input.value=e}else t.value=t.$.input.value;t._oldValue!==t.value&&(t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value}),t.$.input.focus())}}_submitKeyUpHandler(){const e=this;e._submitted&&("clearOnSubmit"===e.enterKeyBehavior&&(e.$.input.selectionStart=e.$.input.selectionEnd=0),e._submitted=!1)}_textBoxKeyUpHandler(e){const t=this;if(t.disabled||e.altKey||e.ctrlKey)return;if("escaped"===t.displayMode){const e=t.$.input.value;t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.value=e}else t.value=t.$.input.value;let i;if(1===t.$.listBox.selectedIndexes.length&&(i=t.$.listBox.getItem(t.$.listBox.selectedValues[0]),t.value!==i[t.inputMember]&&t.unselect(i)),t._showAutoCompleteHighlighter||(t.$.autoCompleteString.textContent=""),"Alt"===e.key||"Control"===e.key||!t.opened&&"Escape"===e.key||"Enter"===e.key)t._closedFromKeyCombination=!1;else if(e.key&&e.key.indexOf("Arrow")>-1)t._handlePointerInEscapedSymbol("ArrowRight"===e.key?"next":void 0);else{if("none"!==t.autoComplete&&(t.$.input.value.length>0||"auto"===t.dropDownOpenMode)){const e=super._autoComplete.bind(t);if(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),0===t.$.listBox._items.length&&"function"!=typeof t.dataSource)return void t.close();t._autoCompleteTimer=setTimeout(function(){e(!0)},t.autoCompleteDelay)}else t.close();"Enter"===e.key&&t.value!=t.value&&t._browserIsIEorEdge&&(t.value=t.$.input.value,t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value}))}}_listBoxChangeHandler(e){const t=this;if(e.stopPropagation(),e.detail.selected){const i=t.$.listBox._items[e.detail.index][t.inputMember];t.$.listBox.$.filterInput.value=i,t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(i):t._toDefaultDisplayMode(i),t.set("value",t._toDefaultDisplayMode(t.$.input.value))}"none"!==t.autoComplete&&"function"!=typeof t.dataSource&&t._autoComplete(!0)}_mouseEventsHandler(e){"mouseenter"===e.type?this.setAttribute("hover",""):this.removeAttribute("hover")}_textBoxChangeHandler(e){const t=this;if(e.stopPropagation(),"escaped"===t.displayMode){const i=t.$.input.value,n=t.$.input.selectionStart,r=t.$.input.selectionEnd,a=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData;if(a){let i=a.getData("text"),s=t.$.input.value;e.preventDefault(),i=t._toEscapedDisplayMode(i),t.$.input.value=s.substring(0,n)+i+s.substring(r,s.length)}t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.value=i}else t.value=t.$.input.value;t._handleHintContainer()}_textBoxSelectHandler(){this.disabled||(this.selectionStart=this.$.input.selectionStart,this.selectionEnd=this.$.input.selectionEnd)}_toEscapedDisplayMode(e){const t=[{key:/\r\n|\n\r|\n|\r/g,value:"\\n"},{key:/\s/g,value:"\\s"},{key:/\n/g,value:"\\n"},{key:/\t/g,value:"\\t"},{key:/\f/g,value:"\\f"},{key:/\r/g,value:"\\r"}];for(let i=0;i<t.length;i++)e=e.replace(t[i].key,t[i].value);return e}_toDefaultDisplayMode(e){e||(e="");const t=[{key:/\\s/g,value:" "},{key:/\\n/g,value:"\n"},{key:/\\t/g,value:"\t"},{key:/\\f/g,value:"\f"},{key:/\\r/g,value:"\r"}];for(let i=0;i<t.length;i++)e=e.replace(t[i].key,t[i].value);return e}_documentDownHandler(e){const t=this;if(t.disabled||t.readonly)return;let i=e.originalEvent.target;if(t.enableShadowDOM){let n=(i=e.originalEvent.composedPath()[0]).getRootNode().host;for(;n;)n.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),n=n.getRootNode().host}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;(e.originalEvent.target.closest("jqx-list-item")||t._isDropDownClicked)&&(t._preventDropDownClose=!0)}_documentUpHandler(e){const t=this;if(t.disabled)return;let i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if(i)if("escaped"===t.displayMode&&i===t.$.input&&t._handlePointerInEscapedSymbol(),t._isDropDownClicked||t.readonly)delete t._isDropDownClicked;else if(i!==t.$.input||"auto"!==t.dropDownOpenMode){for(;i;){if(i instanceof JQX.ListItem&&i.ownerListBox===t.$.listBox){if(i.unselectable||i.disabled)return;return"escaped"===t.displayMode?(t.value=i[t.inputMember],t.$.input.value=t._toEscapedDisplayMode(i[t.inputMember])):t.$.input.value=t.value=i[t.inputMember],t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value,type:"submit"}),t._oldValue=t.value,"clearOnSubmit"===t.enterKeyBehavior&&(t.$.input.value=t.value=""),super._autoComplete(!0),t.close(),i="item",void t.$.input.focus()}if(i===t.$.listBox)return void(i="listBox");i=i.parentElement}"listBox"===i||"item"===i||t.close()}else super._autoComplete(!0)}});var ie=Object.freeze({});JQX("jqx-multiline-text-box",class extends JQX.TextBox{static get properties(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoComplete:{value:"off",allowedValues:["on","off"],type:"string"},autoExpand:{value:!1,type:"boolean"},cols:{value:20,type:"number?"},enterKeyBehavior:{value:"newLine",allowedValues:["submit","clearOnSubmit","newLine"],type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},minLength:{value:0,type:"number"},resizable:{value:!1,type:"boolean"},rows:{value:5,type:"number?"},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},type:{value:"textarea",type:"string",defaultReflectToAttribute:!0,readonly:!0},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}static get listeners(){return{down:"_documentDownHandler","document.mousemove":"_documentSelectionOutsideHandler","container.resize":"_handleScrollbarsDisplay","document.move":"_resizeMoveHandler","document.up":"_upHandler",focus:"_focusHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler",keydown:"_keyDownHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",resize:"_handleScrollbarsDisplay","resizeElement.down":"_resizeDownHandler",styleChanged:"_handleScrollbarsDisplay","input.change":"_textBoxChangeHandler","input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_textBoxKeyDownHandler","input.keyup":"_keyUpHandler","input.paste":"_textBoxChangeHandler","input.select":"_textBoxSelectHandler",wheel:"_mouseWheelHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}attached(){const e=this;super.attached(),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar))}detached(){const e=this;super.detached(),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}static get requires(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}template(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                    <div id="innerContainer" class="jqx-inner-container">\n                            <textarea class="jqx-input" id="input"\n                                autocapitalize="[[autoCapitalize]]"\n                                autocomplete="off"\n                                cols="[[cols]]"\n                                disabled="[[disabled]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                readonly="[[readonly]]"\n                                required="[[required]]"\n                                rows="[[rows]]"\n                                spellcheck="[[spellCheck]]"\n                                wrap="[[wrap]]"></textarea>\n                            <jqx-scroll-bar id="verticalScrollBar" animation="[[animation]]" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                            <jqx-scroll-bar id="horizontalScrollBar" animation="[[animation]]" disabled="[[disabled]]"></jqx-scroll-bar>\n                            <div id="resizeElement" class="jqx-resize-element"></div>\n                    </div>\n                            <textarea id="textBoxHidden"\n                                class="jqx-text-box-hidden"\n                                autocapitalize="[[autoCapitalize]]"\n                                autocomplete="off"\n                                cols="[[cols]]"\n                                disabled="[[disabled]]"\n                                inner-h-t-m-l="[[value]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                readonly="[[readonly]]"\n                                required="[[required]]"\n                                rows="[[rows]]"\n                                spellcheck="[[spellCheck]]"\n                                wrap="[[wrap]]"></textarea>\n                    <span id="hint" class="jqx-hint"></span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this;switch(e){case"displayMode":switch(i){case"escaped":n.$.input.value=n._toEscapedDisplayMode(n.value);break;default:n.$.input.value=n.value=n._toDefaultDisplayMode(n.$.input.value)}n._autoExpandUpdate(),n._handleScrollbarsDisplay();break;case"value":switch(n._preventProgramaticValueChange?(n._userValue="escaped"===n.displayMode?n._toDefaultDisplayMode(n.$.input.value):n.$.input.value,n._programmaticValue=i):n._userValue=n._programmaticValue=i,n.displayMode){case"escaped":n.$.input.value=n._toEscapedDisplayMode(n._userValue);break;default:n.$.input.value=n._userValue}n._oldValue=t,n._autoExpandUpdate(),n._handleScrollbarsDisplay();break;case"horizontalScrollBarVisibility":case"verticalScrollBarVisibility":case"singleLine":case"wrap":case"resizable":case"placeholder":n._autoExpandUpdate(),n._handleScrollbarsDisplay();break;case"selectionEnd":case"selectionStart":n._handleSelectedText();break;case"rows":case"cols":n._updateSizeRowsCols();break;case"disabled":n._setFocusable();break;case"animation":case"readonly":break;default:super.propertyChangedHandler(e,t,i)}}selection(e){const t=this;let i=t.$.input.selectionStart,n=t.$.input.selectionEnd,r=t.value;return"escaped"===t.displayMode?(r=t.$.input.value.substring(i,n),"escaped"===e?r:t._toDefaultDisplayMode(r)):"escaped"===e?(r=r.substring(i,n),t._toEscapedDisplayMode(r)):r=r.substring(i,n)}select(e,t){const i=this,n=Array.from(arguments).slice(0,2);let r,a;for(let e in n)n[e]=parseInt(n[e])||0;return 2===n.length?(r=Math.min([e,t]),a=Math.max([e,t])):r=n[0],2===n.length?(a<(r=(r=parseInt(r))>0?r<i.$.input.length?i.$.input.length:r:0)?a=r:a>i.$.input.length&&(r=0),i.$.input.focus(),void i.$.input.setSelectionRange(r,a)):1===n.length?(i.$.input.focus(),void i.$.input.setSelectionRange(r,r+1)):void i.$.input.select()}_autoExpandUpdate(){this.autoExpand&&(this.$.textBoxHidden.value=this.$.input.value,this.$.textBoxHidden.style.cssText="height:0px",this.$.input.style.cssText="height:"+this.$.textBoxHidden.scrollHeight+"px")}_blurHandler(){const e=this;e._outsideAutoScroll&&clearInterval(e._outsideAutoScroll),e.removeAttribute("focus"),e._preventProgramaticValueChange=!1,e._oldValue=e.value,e.value=e._userValue||e.value}_createElement(){const e=this;e.autoFocus&&(navigator.userAgent.match(/Edge/)?setTimeout(function(){e.$.input.focus(),e.setAttribute("focus","")},10):(e.$.input.focus(),e.setAttribute("focus","")));const t=e.$.input.innerHTML;e.value?e.$.input.innerHTML="escaped"===e.displayMode?e._toEscapedDisplayMode(e.value):e.value:t.length>0&&"escaped"===e.displayMode?(e.value=t,e.$.input.innerHTML=e._toEscapedDisplayMode(t)):t.length>0&&(e.value=t),e._setFocusable(),e._syncTextBoxContentOnInitialization(),e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._autoExpandUpdate(),e._handleScrollbarsDisplay(),e._initializationValue=e._oldValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}_handleScrollbarsDisplay(e){const t=this,i=t.$.input;setTimeout(function(){switch(t.horizontalScrollBarVisibility){case"disabled":t.$container.addClass("hscroll"),t.$.horizontalScrollBar.disabled=!0;break;case"hidden":t.$container.removeClass("hscroll");break;case"visible":t.$container.addClass("hscroll"),t._scrollView.scrollWidth=i.scrollWidth-i.clientWidth,t._scrollView.scrollTo(t.$.input.scrollLeft,!0),t.$.horizontalScrollBar.disabled=!1;break;default:i.scrollWidth>i.clientWidth?(t.$container.addClass("hscroll"),t._scrollView.scrollWidth=i.scrollWidth-i.clientWidth,e&&"resize"===e.type?t.$.input.scrollLeft=t._scrollView.scrollLeft:t._scrollView.scrollTo(t.$.input.scrollLeft,!0)):t.$container.removeClass("hscroll"),t.$.horizontalScrollBar.disabled=!1}switch(t.verticalScrollBarVisibility){case"disabled":t.$container.addClass("vscroll"),t.$.verticalScrollBar.disabled=!0;break;case"hidden":t.$container.removeClass("vscroll");break;case"visible":t.$container.addClass("vscroll"),t._scrollView.scrollHeight=i.scrollHeight-i.clientHeight,t._scrollView.scrollTo(t.$.input.scrollTop),t.$.verticalScrollBar.disabled=!1;break;default:i.scrollHeight>i.clientHeight?(t.$container.addClass("vscroll"),t._scrollView.scrollHeight=i.scrollHeight-i.clientHeight,e&&"resize"===e.type?t.$.input.scrollTop=t._scrollView.scrollTop:t._scrollView.scrollTo(t.$.input.scrollTop)):t.$container.removeClass("vscroll"),t.$.verticalScrollBar.disabled=!1}},0)}_focusHandler(e){const t=this;if(!t.disabled){if(e.target===t)return t.$.input.focus(),void(t._edgeSelect=!1);if(t.setAttribute("focus",""),t.selectAllOnFocus)if(navigator.userAgent.match(/Edge/)){const e=t.$.input.scrollTop;if(t._edgeSelect)return void(t._edgeSelect=!1);setTimeout(function(){t._edgeSelect=!0,t.$.input.select(),t.$.input.scrollTop=e},5)}else t.$.input.select()}}_horizontalScrollbarHandler(e){this.disabled||"hidden"===this.horizontalScrollBarVisibility||"disabled"===this.horizontalScrollBarVisibility||(e.stopPropagation(),this.$.input.scrollLeft=e.detail.value)}_keyDownHandler(e){const t=this,i=e.key,n=e.shiftKey,r=e.ctrlKey,a=t.$.input.value;function s(i){let n=t.$.input.selectionStart,r=t.$.input.selectionEnd,a=t.$.input.value;e.preventDefault(),t.$.input.value=a.substring(0,n)+i+a.substring(r,a.length),t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.selectionStart=n+2,t.$.input.selectionEnd=n+2}if(t.allowVerticalScrollbar&&t.$.input.selectionEnd>t.$.input.value.length-5&&t._scrollView.scrollTo(t._scrollView.scrollTop+(e.deltaY<0?-t.offsetHeight:t.offsetHeight)),i.indexOf("Arrow")>-1)e.stopPropagation();else switch(i){case"Enter":if("newLine"===t.enterKeyBehavior&&!r&&!n){"escaped"===t.displayMode&&s("\\n");break}e.preventDefault(),t._userValue="escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value,t.value=t._userValue,""!==a&&t._userValue!==t._oldValue&&t.$.fireEvent("change",{oldValue:t._oldValue,value:a,type:"submit"}),"clearOnSubmit"===t.enterKeyBehavior&&(t.$.input.value=""),t._oldValue=t.value=t._toDefaultDisplayMode(t.$.input.value),t._submitted=!0,"escaped"===t.displayMode&&t.enterKeyBehavior.toLowerCase().indexOf("submit")<0&&!r&&!n&&s("\\n"),("submit"===t.enterKeyBehavior||"newLine"===t.enterKeyBehavior&&r)&&t.$.input.blur();break;case"Escape":if("none"===t.escKeyMode)return;switch(t.escKeyMode){case"none":break;case"clearValue":t.value=t.$.input.value="";break;case"previousValue":t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(t._oldValue):t._oldValue}break;case" ":"escaped"===t.displayMode&&s("\\s");break;case"Backspace":if("escaped"===t.displayMode&&t.$.input.selectionStart===t.$.input.selectionEnd){let e=t.$.input.selectionStart;"\\"!==a[e-2]||"s"!==a[e-1]&&"n"!==a[e-1]||(t.$.input.value=t.$.input.value.substring(0,e-2)+t.$.input.value.substring(e-2,t.$.input.value.length),t.$.input.selectionStart=e-2)}t._scrollView&&t._handleScrollbarsDisplay()}}_keyUpHandler(e){const t=this;switch(e.key){case"ArrowLeft":case"ArrowUp":case"ArrowDown":t._handlePointerInEscapedSymbol();break;case"ArrowRight":t._handlePointerInEscapedSymbol("next")}t._autoExpandUpdate(),t._userValue="escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value,t._submitKeyUpHandler()}_textBoxKeyDownHandler(e){const t=this,i=e.key;t._scrollView&&t._handleScrollbarsDisplay(),t._autoExpandUpdate(),t.value&&t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),-1===["Enter","Escape"].indexOf(i)&&(t._preventProgramaticValueChange=!0),["ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].indexOf(i)>-1&&t._scrollView.scrollTo(t.$.input.scrollTop),["PageUp","PageDown"].indexOf(i)>-1&&JQX.Utilities.Core.Browser.Chrome&&("PageUp"===e.key&&(t.$.input.setSelectionRange(0,0),t.$.input.scrollTop=0),"PageDown"===e.key&&(t.$.input.setSelectionRange(t.$.input.value.length,t.$.input.value.length),t.$.input.scrollTop=t._scrollView.verticalScrollBar.max),e.preventDefault())}_mouseWheelHandler(e){this.disabled||this.$.verticalScrollBar.disabled||(this._scrollView.scrollTo(this._scrollView.scrollTop+(e.deltaY<0?-this.offsetHeight:this.offsetHeight)),this.$.input.scrollTop+=e.deltaY<0?-this.offsetHeight:this.offsetHeight,this.$.input.scrollTop>0&&e.preventDefault())}_syncTextBoxContentOnInitialization(){const e=this;let t;t=""===e.value?e.innerHTML:e.value,"escaped"!==e.displayMode?e.$.input.value=e.value=e._initializationValue=t:t.match(/\r\n|\n\r|\n|\r|\s|\t|\f|\r/g)?(e.value=e._initializationValue=t,e.$.input.value=e._toEscapedDisplayMode(t)):(e.value=e._initializationValue=e._toDefaultDisplayMode(t),e.$.input.value=t)}_textBoxChangeHandler(e){const t=this,i=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData,n=t.value;if("escaped"===t.displayMode){const n=t.$.input.selectionStart,r=t.$.input.selectionEnd;if(i){let a=i.getData("text"),s=t.$.input.value;e.preventDefault(),a=t._toEscapedDisplayMode(a),t.$.input.value=s.substring(0,n)+a+s.substring(r,s.length)}t.value=t._toDefaultDisplayMode(t.$.input.value)}else t.value=t.$.input.value;t._handleScrollbarsDisplay(),t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),i||t.$.fireEvent("change",{value:t.value,oldValue:n,type:"blur"}),t._handleHintContainer()}_resizeDownHandler(){const e=this;!e.disabled&&e.resizable&&(e._resizeStarted=!0,e.$container.addClass("jqx-resize"),e.readonly||e.$.input.setAttribute("readonly",""))}_resizeMoveHandler(e){const t=this;if(t.disabled||!t.resizable||!t._resizeStarted)return;const i=t.getBoundingClientRect(),n=50,r=50,a=e.clientX-i.left,s=e.clientY-i.top;a>n&&(t.style.width=a+"px"),s>r&&(t.style.height=s+"px")}_updateSizeRowsCols(){const e=this;e.$.container.removeAttribute("style"),setTimeout(function(){if(!("disabled"!==e.horizontalScrollBarVisibility&&"hidden"!==e.horizontalScrollBarVisibility||"disabled"!==e.verticalScrollBarVisibility&&"hidden"!==e.verticalScrollBarVisibility))return;const t=e.getBoundingClientRect();e.$.container.style.width=t.width+"px",e.$.container.style.height=t.height+"px"},0)}_upHandler(e){const t=this;t._selectionStarted=!1,t.disabled||(e.originalEvent.target!==t.$.input?(t.$container.removeClass("jqx-resize"),t.readonly||t.$.input.removeAttribute("readonly"),t._resizeStarted&&t.$.input.focus(),t._resizeStarted=!1):t._handlePointerInEscapedSymbol())}_verticalScrollbarHandler(e){this.disabled||"disabled"===this.verticalScrollBarVisibility||"hidden"===this.verticalScrollBarVisibility||(e.stopPropagation(),this.$.input.scrollTop=e.detail.value)}_documentDownHandler(e){this._selectionStarted=!1,e.originalEvent&&this.contains(e.originalEvent.target)&&(this._selectionStarted=!0,this._selectionStartTime=new Date,this._pointerDown={pageX:e.pageX,pageY:e.pageY},this._edgeSelect=!1)}_documentSelectionOutsideHandler(e){const t=this;if(clearInterval(t._outsideAutoScroll),!t._selectionStarted)return;const i=t.$.input.getBoundingClientRect(),n=i.y+10,r=i.y+i.height-10;if(e.pageY>n&&e.pageY<r)return;function a(i){const n=t.getBoundingClientRect(),r=document.documentElement,a=i?"Left":"Top";(i?n.left+r.scrollLeft-e.pageX:n.top+r.scrollTop-e.pageY)>0?(t.$.input["scroll"+a]-=10,t._scrollView["scroll"+a]-=10):(t.$.input["scroll"+a]+=10,t._scrollView["scroll"+a]+=10)}!(new Date-t._selectionStartTime<300)&&(Math.abs(t._pointerDown.pageX-e.pageX)>=3||Math.abs(t._pointerDown.pageY-e.pageY)>=3)&&(t._outsideAutoScroll=setInterval(function(){a(),a(!0)},10))}_selectStartHandler(){}_styleChangedHandler(){}});var ne=Object.freeze({});JQX("jqx-tank",class extends JQX.BaseElement{static get properties(){return{coerce:{value:!1,type:"boolean"},customInterval:{value:!1,type:"boolean"},customTicks:{reflectToAttribute:!1,value:["0","50","100"],type:"array"},dateLabelFormatString:{value:"d",type:"string"},decimalSeparator:{value:".",type:"string"},interval:{value:"1",type:"any"},inverted:{value:!1,type:"boolean"},labelFormatFunction:{value:null,type:"function?"},labelsVisibility:{value:"all",allowedValues:["all","endPoints","none"],type:"string"},logarithmicScale:{value:!1,type:"boolean"},max:{value:"100",type:"any"},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},messages:{value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}.",significantPrecisionDigits:"{{elementType}}: the properties significantDigits and precisionDigits cannot be set at the same time.",invalidMinOrMax:"{{elementType}}: Invalid {{property}} value. Max cannot be lower than Min.",noInteger:'{{elementType}}: precisionDigits could be set only on "floatingPoint" scaleType.'}},type:"object",extend:!0},min:{value:"0",type:"any"},mode:{value:"numeric",allowedValues:["numeric","date"],type:"string"},name:{value:"",type:"string"},orientation:{value:"vertical",allowedValues:["horizontal","vertical"],type:"string"},precisionDigits:{value:null,type:"number?"},scalePosition:{value:"near",allowedValues:["near","far","both","none"],type:"string"},scaleType:{value:"floatingPoint",allowedValues:["floatingPoint","integer"],type:"string"},scientificNotation:{value:!1,type:"boolean"},showThumbLabel:{value:!1,type:"boolean"},showTooltip:{value:!1,type:"boolean"},showUnit:{value:!1,type:"boolean"},significantDigits:{value:null,type:"number?"},thumbLabelPosition:{value:"near",allowedValues:["near","far"],type:"string"},ticksPosition:{value:"scale",allowedValues:["scale","track"],type:"string"},ticksVisibility:{value:"minor",allowedValues:["major","minor","none"],type:"string"},tooltipPosition:{value:"near",allowedValues:["near","far"],type:"string"},unit:{value:"kg",type:"string"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{value:"0",type:"any"},wordLength:{value:"int32",allowedValues:["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],type:"string"}}}static get listeners(){return{"track.down":"_trackDownHandler","track.move":"_trackMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler",keydown:"_keydownHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler","document.selectstart":"_selectStartHandler","track.mouseenter":"_trackOnMouseEnterHandler","track.mouseleave":"_trackOnMouseLeaveHandler"}}static get requires(){return{"JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.Utilities.TickIntervalHandler":"jqxtickintervalhandler.js"}}static get styleUrls(){return["jqx.tank.css"]}template(){return'<div id="container" class="jqx-container">\n                    <div id="scaleNear" class="jqx-scale jqx-scale-near"></div>\n                    <div id="track" class="jqx-track">\n                        <div id="fill" class="jqx-value">\n                            <div id="bubbleContainer" class="jqx-bubble-container"></div>\n                            <div id="tooltip" class="jqx-tooltip"><div id="tooltipContent" class="jqx-tooltip-content jqx-unselectable"></div></div>\n                            <div id="thumb" class="jqx-thumb">\n                                <div class="jqx-thumb-label-container">\n                                    <span id="thumbLabel" class="jqx-thumb-label"></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div id="trackTicksContainer" class="jqx-track-ticks-container jqx-hidden"></div>\n                    </div>\n                    <div id="scaleFar" class="jqx-scale jqx-scale-far"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}ready(){super.ready();this._redefineProperty("customTicks"),this._createElement()}_createElement(){const e=this;e.$.fill.style.transition="none","numeric"===e.mode?e._getEventValue=function(){return e.value}:e._handleDateScale(),e._setSettingsObject(),e._setDrawVariables(),e._getLayoutType(),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._isVisible()?(e._renderingSuspended=!1,e._setInitialComponentDisplay(),e._measurements={},e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._validateInitialPropertyValues(),e._setTicksAndInterval(),e._validate(!0),e._updateTooltipValue(e._drawValue),e._setFocusable(),e._setTrackSize(),e._setBubbles(),e.$.fill.style.transition="",e.$.hiddenInput.value=e._getEventValue()):e._renderingSuspended=!0}val(e){const t=this;if(void 0===e)return t._getEventValue();if("date"===t.mode){let i=JQX.Utilities.DateTime.validateDate(e);return 0!==(i=i.getTimeStamp()).compare(t.value)?void t._validate(!1,i,void 0,!0):t._valueDate}if(t.value.toString().toUpperCase()===e.toString().toUpperCase())return t.value="string"==typeof e?e:e.toString();{e=e.toString().replace(/\s/g,""),t._numericProcessor.regexScientificNotation.test(e)&&(e=t._numericProcessor.scientificToDecimal(e));const i=t._discardDecimalSeparator(e.toString());t._validate(!1,i,void 0,!0),delete t._valueBeforeCoercion}}_setBubbles(){if(!this.hasAnimation)return;let e,t=document.createDocumentFragment();for(let i=0;i<5;i++)(e=document.createElement("div")).classList.add("bubble"),e.classList.add("bubble"+(i+1)),t.appendChild(e);this.$.bubbleContainer.appendChild(t)}_setTrackSize(){const e=this;"vertical"===e.orientation?e._trackSize=e.$.track.offsetWidth:e._trackSize=e.$.track.offsetHeight}getOptimalSize(){const e=this;if(e._renderingSuspended)return{width:0,height:0};let t,i,n;switch(e.labelsVisibility){case"all":i=e._numericProcessor._longestLabelSize;break;case"endPoints":i=Math.max(e._tickIntervalHandler.labelsSize.minLabelOtherSize,e._tickIntervalHandler.labelsSize.maxLabelOtherSize);break;case"none":i=0}switch(e.orientation){case"horizontal":return t={marginA:"marginBottom",marginB:"marginTop",nearScaleDistance:"bottom",farScaleDistance:"top",paddingA:"paddingBottom",paddingB:"paddingTop",offset:"offsetWidth",distance:"left"},e._orientationChanged&&(t.offset="offsetHeight",e._trackChanged=!0),{width:(n=e._getSize(i,t)).optimalOtherSize,height:n.optimalSize};case"vertical":return t={marginA:"marginLeft",marginB:"marginRight",nearScaleDistance:"right",farScaleDistance:"left",paddingA:"paddingLeft",paddingB:"paddingRight",offset:"offsetHeight",distance:"top"},e._orientationChanged&&(t.offset="offsetWidth",e._trackChanged=!0),{width:(n=e._getSize(i,t)).optimalSize,height:n.optimalOtherSize}}}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;if(n._isVisible()&&!n._renderingSuspended)if(i!=t)switch(e){case"labelsVisibility":case"ticksVisibility":return void n._updateScaleWidth(n._numericProcessor._longestLabelSize);case"coerce":if(i){const e=n.value,t=i=n.logarithmicScale?Math.pow(10,n._numericProcessor.getCoercedValue(Math.log10(e))):n._numericProcessor.getCoercedValue(e);n._validate(!1,t,!0,!0),n._valueBeforeCoercion=e}else void 0!==n._valueBeforeCoercion&&n._validate(!1,n._valueBeforeCoercion,!1,!0);return;case"interval":{n._numericProcessor.validateInterval(i);const e=i=n.logarithmicScale?Math.pow(10,n._numericProcessor.getCoercedValue(Math.log10(n.value))):n._numericProcessor.getCoercedValue(n.value);n._validate(!1,e,n.coerce,!0);break}case"min":case"max":{"date"===n.mode&&(delete n._dateInterval,n[e]=JQX.Utilities.DateTime.validateDate(i).getTimeStamp()),n._validateMinMax(e,!1,t);const r=n._numericProcessor.createDescriptor(n._discardDecimalSeparator(n.value,n.decimalSeparator),void 0,!0,"strict"===n.validation);n._setTicksAndInterval(),n._numericProcessor.updateValue(r);let a=n.getOptimalSize(),s=n.getBoundingClientRect(),o=n.$.track.getBoundingClientRect();a.width>s.width&&o.width<20&&(n.style.width=a.width+"px",n.style.height=a.height+"px");break}case"inverted":{n._getLayoutType(),n._normalLayout&&(n.$.fill.style[n._settings.margin]="0px");let e=n._numericProcessor.createDescriptor(n.value),t=n._numericProcessor.validate(e,n._minObject,n._maxObject);n._setTicksAndInterval(),n._numericProcessor.updateValue(t);break}case"orientation":{const e=n.$.fill.style,t=n.$.container.style;switch(!0!==n._orientationChanged&&(n._orientationChanged=!0),n._tankSizeBeforeOrientation={width:n.offsetWidth,height:n.offsetHeight},n._setSettingsObject(),n._getLayoutType(),n.inverted&&(e.marginTop="0",e.marginLeft="0"),n.orientation){case"vertical":n.inverted||(e.marginTop="auto",e.marginLeft="0"),e.width="100%",t.paddingLeft="0",t.paddingRight="0";break;case"horizontal":n.inverted||(e.marginTop="0",e.marginLeft="auto"),e.height="100%",t.paddingTop="0",t.paddingBottom="0"}n._validateMinMax("both");const i=n._numericProcessor.createDescriptor(n.value),r=n._numericProcessor.validate(i,n._minObject,n._maxObject);n._setTicksAndInterval(),n._setTicksAndInterval(),n._numericProcessor.updateValue(r),n._trackChanged=!0;break}case"significantDigits":case"precisionDigits":if("date"===n.mode)return;if("precisionDigits"===e&&"integer"===n.scaleType&&n.error(n.localize("noInteger",{elementType:n.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),n._validateInitialPropertyValues(),n._setTicksAndInterval(),"horizontal"===n.orientation&&n.inverted){const e=n._numericProcessor.valueToPx(n._numericProcessor.getCoercedValue(n._drawValue));n.updateFillSizeAndPosition(e,n._settings.margin,i,!1)}break;case"decimalSeparator":{if("integer"===n.scaleType||"date"===n.mode)return;const e=n._discardDecimalSeparator(n.value,t),i=n._applyDecimalSeparator(e);n.value=e,delete n._valueBeforeCoercion,n._numericProcessor.addTicksAndLabels(),n._updateTooltipValue(i);break}case"value":if(n.value=t,null===i)return;if("date"===n.mode){let e=JQX.Utilities.DateTime.validateDate(i);return void(0!==(e=e.getTimeStamp()).compare(t)&&n._validate(!1,e,void 0,!0))}if(i.toString().toUpperCase()!==t.toString().toUpperCase()){let e=void 0!==i?i.toString().replace(/\s/g,""):t.toString().replace(/\s/g,"");n._numericProcessor.regexScientificNotation.test(e)&&(e=n._numericProcessor.scientificToDecimal(e)),n._validate(!1,e,void 0,!0),delete n._valueBeforeCoercion}else n.value="string"==typeof i?i:i.toString();break;case"scaleType":if("date"===n.mode)return void(n.scaleType="integer");n._changeScaleType(t,i);break;case"disabled":case"unfocusable":n._setFocusable();break;case"showUnit":case"unit":n._setTicksAndInterval(),n._moveThumbBasedOnValue(n._drawValue);break;case"tooltipPosition":break;case"wordLength":{if("date"===n.mode)return void(n.wordLength="uint64");n._wordLengthNumber=n._numericProcessor.getWordLength(i),n._validateMinMax("both");const e=n._numericProcessor.createDescriptor(n.value),t=n._numericProcessor.validate(e,n._minObject,n._maxObject);n._setTicksAndInterval(),n._numericProcessor.updateValue(t);break}case"scalePosition":n._setInitialComponentDisplay(),n._setTicksAndInterval(),n._moveThumbBasedOnValue(n._drawValue);break;case"labelFormatFunction":case"scientificNotation":{if("date"===n.mode&&"scientificNotation"===e)return;const t=n._discardDecimalSeparator(n.value,n.decimalSeparator);n._setTicksAndInterval(),n._updateTooltipValue(t);break}case"logarithmicScale":if("date"===n.mode)return void(n.logarithmicScale=!1);n._validateMinMax("both"),n._setTicksAndInterval(),n._validate(!1,n.value,void 0,!0);break;case"ticksPosition":"scale"===i?(n.$trackTicksContainer.addClass("jqx-hidden"),n.$.trackTicksContainer.innerHTML=""):n.$trackTicksContainer.removeClass("jqx-hidden"),n._numericProcessor.addTicksAndLabels();break;case"customInterval":i?(n._customTicks&&(n.customTicks=n._customTicks),n._numericProcessor.validateCustomTicks()):"date"===n.mode&&(n._customTicks=n.customTicks),n._setTicksAndInterval(),n._coerceCustomInterval();break;case"customTicks":if("date"===n.mode&&!n.customInterval)return n._customTicks=i,void(n.customTicks=t);n._numericProcessor.validateCustomTicks(),n.customInterval&&(n._setTicksAndInterval(),n._coerceCustomInterval());break;case"dateLabelFormatString":"date"===n.mode&&n._setTicksAndInterval();break;case"mode":n.mode=t;break;case"showThumbLabel":i&&n.showTooltip&&(n.showTooltip=!1);break;case"showTooltip":i&&n.showThumbLabel&&(n.showThumbLabel=!1);break;case"validation":"strict"===i&&n._validate(!1,n.value)}else n[e]=t;else n._renderingSuspended=!0}_setSettingsObject(){const e=this;"horizontal"===e.orientation?e._settings={clientSize:"clientWidth",dimension:"width",leftOrTop:"left",margin:"marginLeft",offset:"offsetLeft",otherSize:"offsetHeight",size:"offsetWidth",page:"pageX"}:e._settings={clientSize:"clientHeight",dimension:"height",leftOrTop:"top",margin:"marginTop",offset:"offsetTop",otherSize:"offsetWidth",size:"offsetHeight",page:"pageY"}}_setInitialComponentDisplay(){const e=this;switch(e.scalePosition){case"near":e.$scaleNear.removeClass("jqx-hidden"),e.$scaleFar.addClass("jqx-hidden");break;case"far":e.$scaleNear.addClass("jqx-hidden"),e.$scaleFar.removeClass("jqx-hidden");break;case"both":e.$scaleFar.removeClass("jqx-hidden"),e.$scaleNear.removeClass("jqx-hidden");break;case"none":e.$scaleFar.addClass("jqx-hidden"),e.$scaleNear.addClass("jqx-hidden")}e.$tooltip.addClass("jqx-hidden"),"track"===e.ticksPosition&&e.$trackTicksContainer.removeClass("jqx-hidden")}_styleChangedHandler(){const e=this;e._isVisible()?e._renderingSuspended?e._createElement():e._renderingSuspended||(e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)):e._renderingSuspended=!0}_validateInitialPropertyValues(){const e=this,t=typeof e.value===String?e.value.replace(/\s/g,""):e.value.toString().replace(/\s/g,"");"numeric"===e.mode&&e._numericProcessor.regexScientificNotation.test(t)&&(e.value=e._numericProcessor.scientificToDecimal(t),delete e._valueBeforeCoercion),e.significantDigits=null!==e.significantDigits?Math.min(Math.max(e.significantDigits,1),21):null,null===e.significantDigits&&null===e.precisionDigits?e.significantDigits=8:null!==e.significantDigits&&null!==e.precisionDigits&&e.error(e.localize("significantPrecisionDigits",{elementType:e.nodeName.toLowerCase()})),e._validateMinMax("both",!0),e.showTooltip&&e.showThumbLabel&&(e.showTooltip=!1)}_validateMinMax(e,t,i){const n=this;let r="min"===e||"both"===e,a="max"===e||"both"===e;function s(e,i){n._numericProcessor.validateMinMax("min"===e||t,"max"===e||t);const s=n["_"+e+"Object"];("min"===e?n._numericProcessor.compare(n.max,s,!0)<=0:n._numericProcessor.compare(n.min,s,!0)>0)?i?(n._numberRenderer=new JQX.Utilities.NumberRenderer(i),"min"===e?r=!1:a=!1,n[e]=i,n["_"+e+"Object"]=i):n.error(n.localize("invalidMinOrMax",{elementType:n.nodeName.toLowerCase(),property:e})):(n._numberRenderer=new JQX.Utilities.NumberRenderer(s),n[e]=n["_"+e+"Object"])}void 0===typeof t&&(t=!1),"both"===e?(s("min",i),s("max",i)):s(e,i),n.logarithmicScale?n._validateOnLogarithmicScale(r,a,i):(n._drawMin=n.min,n._drawMax=n.max),n.min=n.min.toString(),n.max=n.max.toString(),n._minObject=n._numericProcessor.createDescriptor(n.min),n._maxObject=n._numericProcessor.createDescriptor(n.max),"date"===n.mode&&(n._minDate=JQX.Utilities.DateTime.fromFullTimeStamp(n.min),n._maxDate=JQX.Utilities.DateTime.fromFullTimeStamp(n.max)),n._numericProcessor.validateInterval(n.interval),n.customInterval&&n._numericProcessor.validateCustomTicks()}_calculateTickInterval(){const e=this;let t=e._tickIntervalHandler.getInterval("linear",e._drawMin,e._drawMax,e.$.track,e.logarithmicScale);t.major!==e._majorTicksInterval?(e._intervalHasChanged=!0,e._majorTicksInterval=t.major):e._intervalHasChanged=!0,e._minorTicksInterval=t.minor,"date"===e.mode&&e._calculateDateInterval(t.major)}_calculateDateInterval(e){const t=this,i={month:"2628000000000000000000000000000",day:"86400000000000000000000000000",hour:"3600000000000000000000000000",minute:"60000000000000000000000000",second:"1000000000000000000000000"};let n="year",r=new JQX.Utilities.BigNumber("31536000000000000000000000000000"),a=r.subtract(e).abs(),s=new JQX.Utilities.BigNumber(t.min).subtract(t.max).abs(),o=s.divide(e).toString();o<2&&(e=s.divide(3));for(let t in i)if(i.hasOwnProperty(t)){const s=new JQX.Utilities.BigNumber(i[t]),o=s.subtract(e).abs();if(-1!==o.compare(a))break;n=t,r=s,a=o}if("second"===n){if(t._numberRenderer.numericValue=parseFloat(e),t._numberRenderer.numericValue<1e3)return t._dateIncrementMethod="addYoctoseconds",void(t._dateIntervalNumber=1);let i=t._numberRenderer.toScientific(10);return i=i.charAt(i.length-1),t._dateIncrementMethod=t._unitToMethod[i],void(t._dateIntervalNumber=Math.pow(10,t._numericProcessor.prefixesToPowers[i]))}t._dateInterval=!0;const l=!t.customInterval;let d,h,c;switch(l&&(d=[new JQX.Utilities.BigNumber(t.min)],h=s.divide(r).toString(),c=Math.max(1,Math.floor(h/o))),n){case"year":if(l)for(let e=t._minDate.year()+c;e<t._maxDate.year();e+=c)d.push(new JQX.Utilities.BigNumber(new JQX.Utilities.DateTime(e,1,1).getTimeStamp()));t._dateIncrementMethod="addYears";break;case"month":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month()+c,1);-1===e.compare(t._maxDate);e.addMonths(c,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()));t._dateIncrementMethod="addMonths";break;case"day":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day()+c);-1===e.compare(t._maxDate);e.addDays(c,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()));t._dateIncrementMethod="addDays",t._dateIntervalNumber=8.64e28;break;case"hour":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day(),t._minDate.hour()+c);-1===e.compare(t._maxDate);e.addHours(c,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()));t._dateIncrementMethod="addHours",t._dateIntervalNumber=3.6e27;break;case"minute":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day(),t._minDate.hour(),t._minDate.minute()+c);-1===e.compare(t._maxDate);e.addMinutes(c,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()));t._dateIncrementMethod="addMinutes",t._dateIntervalNumber=6e25}l&&(-1===d[d.length-1].compare(t.max)&&d.push(new JQX.Utilities.BigNumber(t.max)),t.customTicks=d)}_formatNumber(e){const t=this;if("date"===t.mode){return JQX.Utilities.DateTime.fromFullTimeStamp(e).toString(t.dateLabelFormatString)}const i=t._numberRenderer;let n=parseFloat(e);if(i.numericValue=e,t.scientificNotation)n=t._numberRenderer.toScientific(t.significantDigits,t.precisionDigits);else switch(t.scaleType){case"floatingPoint":n=t._applyDecimalSeparator(i.toDigits(t.significantDigits,t.precisionDigits));break;case"integer":n=i.isENotation(n)?Math.round(i.largeExponentialToDecimal(n)):Math.round(n),n=i.toDigits(t.significantDigits,0)}return n}_formatLabel(e,t){const i=this;let n;return i.labelFormatFunction&&("date"===i.mode&&(e=JQX.Utilities.DateTime.fromFullTimeStamp(e)),void 0!==(n=i.labelFormatFunction(e))&&""!==n)?n:(n=i._formatNumber(e),i._numberRenderer=new JQX.Utilities.NumberRenderer(n),i.showUnit&&(n+=!1!==t?' <span class="jqx-unselectable">'+i.unit+"</span>":" "+i.unit),n)}_layout(){const e=this,t=e.$.container.style,i=e._tickIntervalHandler.labelsSize.minLabelSize/2+"px",n=e._tickIntervalHandler.labelsSize.maxLabelSize/2+"px";switch(e.orientation){case"horizontal":if("none"===e.scalePosition){t.paddingLeft="",t.paddingRight="";break}e.inverted?(t.paddingLeft=n,t.paddingRight=i):(t.paddingLeft=i,t.paddingRight=n);break;case"vertical":if("none"===e.scalePosition){t.paddingTop="",t.paddingBottom="";break}e.inverted?(t.paddingBottom=n,t.paddingTop=i):(t.paddingBottom=i,t.paddingTop=n)}e._measurements.trackLength=e.$.track[this._settings.clientSize]}_trackDownHandler(e){const t=this;t.disabled||t.readonly||!JQX.Utilities.Core.isMobile&&0!==e.button||("switchUntilReleased"===t.mechanicalAction&&(t._cachedValue={},t._cachedValue._number=t._number,t._cachedValue._drawValue=t._drawValue,t._cachedValue.value=t.value,t._valueDate&&(t._cachedValue._valueDate=t._valueDate)),t._getTrackStartAndEnd(),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction),t._thumbDragged=!0,t.$track.addClass("jqx-dragged"),t.showTooltip&&t.$tooltip.removeClass("jqx-hidden"))}_trackMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_documentMoveHandler(e){const t=this;t._thumbDragged&&(e.originalEvent.preventDefault(),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction),t.$fill.addClass("disable-animation"))}_documentUpHandler(e){const t=this;if(t._thumbDragged){if("switchWhenReleased"===t.mechanicalAction)t._moveThumbBasedOnCoordinates(e,!0,!0);else if("switchUntilReleased"===t.mechanicalAction&&t._numericProcessor.compare(t._number,t._cachedValue._number)){const e=t._getEventValue();t._number=t._cachedValue._number,t._drawValue=t._cachedValue._drawValue,t._cachedValue._valueDate&&(t._valueDate=t._cachedValue._valueDate),t.value=t._cachedValue.value,t._moveThumbBasedOnValue(t._drawValue);const i=t._getEventValue();t.$.fireEvent("change",{value:i,oldValue:e}),t.$.hiddenInput.value=i}t.showTooltip&&t.$tooltip.addClass("jqx-hidden"),t._thumbDragged=!1,t.$track.removeClass("jqx-dragged"),t.$fill.removeClass("disable-animation")}}_selectStartHandler(e){this._thumbDragged&&e.preventDefault()}_resizeHandler(){const e=this;e._isVisible()?e._renderingSuspended?e._createElement():e._renderingSuspended||(!0!==e._orientationChanged&&(e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)),e._trackChanged&&(e._measurements.trackLength=e.$.track[this._settings.clientSize],e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)),e._setTrackSize(),delete e._orientationChanged,delete e._trackChanged):e._renderingSuspended=!0}_moveThumbBasedOnCoordinates(e,t,i){const n=this;let r=t?Math.min(Math.max(e[n._settings.page],n._trackStart),n._trackEnd):e[n._settings.page],a=n._numericProcessor.pxToValue(r);n.logarithmicScale?(n._drawValue=Math.log10(a),a=n._numericProcessor.getCoercedValue(n._drawValue)):(n._drawValue=a,a=n._numericProcessor.getCoercedValue(a));const s=(r=Math.min(Math.max(n._numericProcessor.valueToPx(a)+n._trackStart,n._trackStart),n._trackEnd))-n._trackStart;n.updateFillSizeAndPosition(s,n._settings.margin,a,!0,i),e.originalEvent&&e.originalEvent.stopPropagation()}_moveThumbBasedOnValue(e){const t=this._numericProcessor.valueToPx(this._numericProcessor.getCoercedValue(e));this.updateFillSizeAndPosition(t,this._settings.margin,e,!0)}updateFillSizeAndPosition(e,t,i,n,r){const a=this,s=a.$.fill.style;if(a._normalLayout?s[a._settings.dimension]=e+"px":(s[a._settings.dimension]=Math.min(a._measurements.trackLength,Math.max(0,a._measurements.trackLength-e))+"px",s[t]=e+"px"),n){const e=a.value;delete a._valueBeforeCoercion,a._numericProcessor.updateToolTipAndValue(i,e,r)}}_updateTooltipValue(e){const t=this;void 0===e&&(e=t.value),t.logarithmicScale&&(e=Math.pow(10,e.toString())),e=t._formatLabel(e),t.$.tooltipContent.innerHTML=e,t.$.thumbLabel.innerHTML=e}_getSize(e,t){const i=this,n=window.getComputedStyle(i),r=window.getComputedStyle(i.$.track),a=i._trackSize+parseFloat(r[t.marginA])+parseFloat(r[t.marginB]);let s,o,l,d,h,c,u;function p(e,t){const i=e.getElementsByClassName("jqx-label");s=i[0],o=i[i.length-1];const n=window.getComputedStyle(i[0])[t];l+=parseFloat(n)}switch(l=a,i.scalePosition){case"none":return l+=parseFloat(n[t.paddingA])+parseFloat(n[t.paddingB]),d=void 0!==i._tankSizeBeforeOrientation?"horizontal"===i.orientation?i._tankSizeBeforeOrientation.height:i._tankSizeBeforeOrientation.width:"horizontal"===i.orientation?parseFloat(r.width):parseFloat(r.height),!0!==i._trackChanged&&(i._trackChanged=!0),{optimalSize:l,optimalOtherSize:d};case"near":l+=e,p(i.$.scaleNear,t.nearScaleDistance);break;case"far":l+=e,p(i.$.scaleFar,t.farScaleDistance);break;case"both":l+=2*e,p(i.$.scaleNear,t.nearScaleDistance),p(i.$.scaleFar,t.farScaleDistance)}return l+=parseFloat(n[t.paddingA])+parseFloat(n[t.paddingB]),h=s.getBoundingClientRect(),c=o.getBoundingClientRect(),d=i[t.offset],(u=h[t.distance]+s[t.offset]-c[t.distance])>0&&(d=s[t.offset]+o[t.offset]),{optimalSize:l,optimalOtherSize:d}}_getRange(){const e=this;e.logarithmicScale?e._range=e._drawMax-e._drawMin:"floatingPoint"===e.scaleType?e._range=(e._drawMax-e._drawMin).toString():e._range=new JQX.Utilities.BigNumber(e._drawMax).subtract(e._drawMin).toString()}_getTrackStartAndEnd(){let e,t=this.$.track.getBoundingClientRect();if("horizontal"===this.orientation){const i=document.body.scrollLeft||document.documentElement.scrollLeft;e=t.left+i}else{const i=document.body.scrollTop||document.documentElement.scrollTop;e=t.top+i}const i=e+this._measurements.trackLength,n=i-e;this._trackStart=e,this._trackEnd=i,this._valuePerPx=this._numericProcessor.getValuePerPx(this._range,n)}_updateScaleWidth(e){const t=this;let i="track"===t.ticksPosition?4:12;switch(t.labelsVisibility){case"all":e=t._numericProcessor._longestLabelSize;break;case"endPoints":e=Math.max(t._tickIntervalHandler.labelsSize.minLabelOtherSize,t._tickIntervalHandler.labelsSize.maxLabelOtherSize);break;case"none":e=0}let n=i+e,r=window.getComputedStyle(t.$.track);if(Boolean(r.getPropertyValue("--jqx-tank-scale-size")))t.$.container.style.setProperty("--jqx-tank-scale-size",n+"px");else{const e=window.getComputedStyle(t),i=t.$.scaleNear.style,a=t.$.scaleFar.style,s=t.$.track.style,o=parseFloat(r.getPropertyValue("min-width"));let l,d,h,c,u,p=(parseFloat(r.getPropertyValue("outline-width"))||0)+(parseFloat(r.getPropertyValue("outline-offset"))||0);switch(t.orientation){case"horizontal":l="height",d="width",h=t.offsetHeight,u=parseFloat(e.getPropertyValue("padding-top"))+parseFloat(e.getPropertyValue("padding-bottom")),c=parseFloat(r.getPropertyValue("margin-top"))+parseFloat(r.getPropertyValue("margin-bottom"));break;case"vertical":l="width",d="height",h=t.offsetWidth,u=parseFloat(e.getPropertyValue("padding-left"))+parseFloat(e.getPropertyValue("padding-right")),c=parseFloat(r.getPropertyValue("margin-left"))+parseFloat(r.getPropertyValue("margin-right"))}switch(t.scalePosition){case"near":i.setProperty(l,n+"px"),s.setProperty(l,Math.max(isNaN?0:o,h-u-n-4-c-p)+"px");break;case"far":a.setProperty(l,n+"px"),s.setProperty(l,Math.max(isNaN?0:o,h-u-n-4-c-p)+"px");break;case"both":i.setProperty(l,n+"px"),a.setProperty(l,n+"px"),s.setProperty(l,Math.max(isNaN?0:o,h-u-2*n-4-c-p)+"px");break;case"none":s.setProperty(l,"")}s.setProperty(d,"100%"),i.setProperty(d,"100%"),a.setProperty(d,"100%")}}_appendTicksAndLabelsToScales(e,t){const i=this;function n(n){n.innerHTML=t,"scale"===i.ticksPosition&&(n.innerHTML+=e)}switch(i.scalePosition){case"near":n(i.$.scaleNear);break;case"far":n(i.$.scaleFar);break;case"both":n(i.$.scaleNear),n(i.$.scaleFar)}"track"===i.ticksPosition&&(i.$.trackTicksContainer.innerHTML=e)}_discardDecimalSeparator(e,t){if(void 0===t&&(t=this.decimalSeparator),"."!==t){let i=new RegExp(t,"g");return"string"==typeof e?e.replace(i,"."):e.toString().replace(i,".")}return e}_applyDecimalSeparator(e){const t=this;return"string"!=typeof e&&(e=e.toString()),"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e}_validate(e,t,i,n){const r=this;let a,s,o;r._programmaticValueIsSet=n&&"interaction"===r.validation,a=e?r.value:t,!0!==i&&r.coerce?(s=r._numericProcessor.createDescriptor(a,!0,!0,!0),o=s=r.logarithmicScale?Math.pow(10,r._numericProcessor.getCoercedValue(Math.log10(s))):r._numericProcessor.getCoercedValue(s)):"strict"===r.validation||!e&&!r._programmaticValueIsSet?o=s=r._numericProcessor.createDescriptor(a,!0,!0,!0):(s=r._numericProcessor.createDescriptor(a,!0,!0,!1),o=r._numericProcessor.validate(s,r._minObject,r._maxObject)),r._numericProcessor.regexScientificNotation.test(o)&&(o=r._numericProcessor.scientificToDecimal(o)),o=r._discardDecimalSeparator(o,r.decimalSeparator),e?(r._number=o,r._drawValue=r.logarithmicScale?Math.log10(o):o,"numeric"===r.mode?r.value=s.toString():(r._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(s),r.value=s),delete r._valueBeforeCoercion,r._moveThumbBasedOnValue(r._drawValue)):r._numericProcessor.updateValue(s),r._programmaticValueIsSet=!1}_changeScaleType(){this._numericProcessor=new JQX.Utilities.NumericProcessor(this,"scaleType"),this._validateMinMax("both"),this._setTicksAndInterval(),this._scaleTypeChangedFlag=!0,this._validate(!0,this._number.toString()),this._scaleTypeChangedFlag=!1}_setTicksAndInterval(){const e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);let t=e._formatLabel(e.min),i=e._formatLabel(e.max);e._getRange(),e._tickIntervalHandler=new JQX.Utilities.TickIntervalHandler(e,t,i,"jqx-label",e._settings.size,"integer"===e.scaleType,e.logarithmicScale),e._layout(),e.customInterval?("date"===e.mode&&e._calculateTickInterval(),e._intervalHasChanged=!0,e._numericProcessor.addCustomTicks()):(e._calculateTickInterval(),e._dateInterval?(e._intervalHasChanged=!0,e._numericProcessor.addCustomTicks()):e._numericProcessor.addTicksAndLabels())}_setFocusable(){const e=this;e.disabled||e.unfocusable?e.removeAttribute("tabindex"):e.tabIndex=e.tabIndex>0?e.tabIndex:0}_keyIncrementDecrement(e,t){const i=this,n="add"===e?1:-1,r=void 0===t;if(r&&(t=i.logarithmicScale?new JQX.Utilities.BigNumber(i._drawValue):i._drawValue),i.customInterval&&i.coerce){let a,s;r&&(i.logarithmicScale&&(t=i.value),"numeric"===i.mode&&(t=t.toString())),s="numeric"===i.mode?(a=-1!==i.customTicks.indexOf(i.min)?i.customTicks.slice(0):[i.min].concat(i.customTicks)).indexOf(t):(a=-1!==i.customTicks.findIndex(function(e){return 0===e.compare(i._drawMin)})?i.customTicks.slice(0):[i._drawMin].concat(i.customTicks)).findIndex(function(e){return 0===e.compare(t)});const o=a[s+1*n];return void 0!==o?o:t===i.max&&"subtract"===e?a[a.length-2]:t}if("numeric"===i.mode){let n=i._numericProcessor.incrementDecrement(t,e,i._validInterval);return i.logarithmicScale&&(i._drawValue=n,n=Math.pow(10,Math.round(n))),n}return"interaction"!==i.validation||-1!==i._valueDate.compare(i._minDate)&&1!==i._valueDate.compare(i._maxDate)||(i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),i._valueDate[i._dateIncrementMethod](n*parseFloat(i.interval),!1),i._drawValue=new JQX.Utilities.BigNumber(i._valueDate.getTimeStamp()),-1===i._drawValue.compare(i._drawMin)&&(i._drawValue=new JQX.Utilities.BigNumber(i._drawMin),i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),1===i._drawValue.compare(i._drawMax)&&(i._drawValue=new JQX.Utilities.BigNumber(i._drawMax),i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),i._drawValue}_keydownHandler(e){const t=this;if(t.disabled||t.readonly)return;const i=e.charCode?e.charCode:e.which;if(-1===[35,36,37,38,39,40].indexOf(i))return;const n=[35,38,39].indexOf(i)>-1,r=[36,37,40].indexOf(i)>-1;if(e.preventDefault(),"floatingPoint"===t.scaleType){if(parseFloat(t.value)<=parseFloat(t.min)&&r||parseFloat(t.value)>=parseFloat(t.max)&&n)return}else{let e=new JQX.Utilities.BigNumber(t._drawValue);if(1!==e.compare(t._drawMin)&&r||-1!==e.compare(t._drawMax)&&n)return}let a;switch(i){case 40:case 37:a=t._keyIncrementDecrement("subtract");break;case 38:case 39:a=t._keyIncrementDecrement("add");break;case 36:t._drawValue=t._drawMin,a=t.min;break;case 35:t._drawValue=t._drawMax,a=t.max}return t._validate(!1,a,i),!1}_setDrawVariables(){const e=this;e.logarithmicScale?(e._drawValue=Math.log10(e.value),e._drawMin=Math.log10(e.min),e._drawMax=Math.log10(e.max)):(e._drawValue=e.value,e._drawMin=e.min,e._drawMax=e.max)}_validateOnLogarithmicScale(e,t){const i=this;function n(e){return Math.pow(10,Math.round(Math.log10(e)-Math.log10(5.5)+.5))}if(e)if(i.min<=0)i.min=1,i._drawMin=0;else if(Math.log10(i.min)%1!=0){let e=n(parseFloat(i.min));e>i.min&&(e/=10),i._drawMin=Math.log10(i.min)}else i._drawMin=Math.log10(i.min);if(t)if(i.max<=0)i.max=1,i._drawMax=0;else if(Math.log10(i.max)%1!=0){let e=n(parseFloat(i.max));e<i.max&&(e*=10),i._drawMax=Math.log10(i.max)}else i._drawMax=Math.log10(i.max);"integer"===i.scaleType&&(i._drawMin<0&&(i._drawMin=0,i.min=1),i._drawMax<0&&(i._drawMax=1,i.max=10)),i._drawMax===i._drawMin&&(i._drawMax=i._drawMin+1)}_getLayoutType(){const e=this.orientation,t=this.inverted;this._normalLayout="horizontal"===e&&!t||"vertical"===e&&t}_trackOnMouseEnterHandler(){const e=this;e.readonly||e.disabled||(e.$track.addClass("track-hovered"),e.$.track.setAttribute("hover",""))}_trackOnMouseLeaveHandler(){const e=this;e.readonly||e.disabled||(e.$track.removeClass("track-hovered"),e.$.track.removeAttribute("hover"))}_isVisible(){return!!(this.offsetWidth||this.offsetHeight||this.getClientRects().length)}_coerceCustomInterval(){if(!this.coerce)return;const e=this._valueBeforeCoercion,t=this.logarithmicScale?Math.pow(10,this._numericProcessor.getCoercedValue(Math.log10(this.value))):this._numericProcessor.getCoercedValue(this.value);this._validate(!1,t,!0,!0),this._valueBeforeCoercion=e}_handleDateScale(){const e=this,t=JQX.Utilities.DateTime;t||e.error(e.localize("missingReference",{elementType:e.nodeName.toLowerCase(),files:"jqxdate.js"})),e._customTicks=e.customTicks,e._unitToMethod={Y:"addSeconds",Z:"addMilliseconds",E:"addMicroseconds",P:"addNanoseconds",T:"addPicoseconds",G:"addFemtoseconds",M:"addAttoseconds",k:"addZeptoseconds"},e._minDate=t.validateDate(e.min),e.min=e._minDate.getTimeStamp(),e._maxDate=t.validateDate(e.max),e.max=e._maxDate.getTimeStamp(),e.rangeSlider||(e._valueDate=t.validateDate(e.value),e.value=e._valueDate.getTimeStamp()),e._properties.min.serialize="_serializeMin",e._properties.max.serialize="_serializeMax",e._properties.value.serialize="_serializeValue",e.scaleType="integer",e.logarithmicScale=!1,e.wordLength="uint64";const i=["min","max","value"];for(let t=0;t<i.length;t++){const n=i[t];Object.defineProperty(e,n,{get:function(){return e.context===e?e.properties[n].value:e["_"+n+"Date"]},set(t){e.updateProperty(e,e._properties[n],t)}})}e._getEventValue=function(){return e._valueDate.clone()}}_serializeMin(){return this._minDate.toString()}_serializeMax(){return this._maxDate.toString()}_serializeValue(){return this._valueDate.toString()}_redefineProperty(e){const t=this;Object.defineProperty(t,e,{get:function(){return t.properties[e].value},set(i){function n(e,t){return t instanceof JQX.Utilities.BigNumber?t.toString():t}const r=t.properties[e].value;if(JSON.stringify(r,n)!==JSON.stringify(i,n)&&(t.properties[e].value=i,t.isReady&&(!t.ownerElement||t.ownerElement&&t.ownerElement.isReady)&&t.context!==t)){const n=t.context;t.context=t,t.propertyChangedHandler(e,r,i),t.context=n}}})}});var re=Object.freeze({});JQX("jqx-gauge",class extends JQX.Tank{static get properties(){return{analogDisplayType:{value:"needle",allowedValues:["needle","fill","line"],type:"string"},animationDuration:{value:300,type:"number"},digitalDisplay:{value:!1,type:"boolean"},digitalDisplayPosition:{value:"bottom",allowedValues:["top","bottom","right","left","center"],type:"string"},drawNeedle:{value:null,type:"function?"},endAngle:{value:210,type:"number"},needlePosition:{value:"center",allowedValues:["center","edge"],type:"string"},ranges:{value:[],type:"array"},scalePosition:{value:"inside",allowedValues:["outside","inside","none"],type:"string"},showRanges:{value:!1,type:"boolean"},sizeMode:{value:"circle",allowedValues:["circle","auto"],type:"string"},startAngle:{value:-30,type:"number"}}}static get listeners(){return{down:"_downHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.selectstart":"_selectStartHandler",keydown:"_keydownHandler",move:"_trackMoveHandler"}}static get requires(){return{"JQX.Utilities.Draw":"jqxdraw.js","JQX.NumericTextBox":"jqxnumerictextbox.js"}}static get styleUrls(){return["jqx.gauge.css"]}template(){return'<div id="container">\n                <div id="svgContainer" class="jqx-svg-container"></div>\n                <div class="jqx-digital-display-container">\n                    <jqx-numeric-text-box id="digitalDisplay"\n                                            class="jqx-digital-display"\n                                            decimal-separator="[[decimalSeparator]]"\n                                            max="[[max]]"\n                                            min="[[min]]"\n                                            name="[[name]]"\n                                            readonly\n                                            input-format="[[scaleType]]"\n                                            scientific-notation="[[scientificNotation]]"\n                                            show-unit="[[showUnit]]"\n                                            unit="[[unit]]"\n                                            unfocusable\n                                            validation="interaction"\n                                            word-length="[[wordLength]]">\n                    </jqx-numeric-text-box>\n                </div>\n            </div>'}attached(){const e=this;super.attached(),e.isCompleted&&(e._trackListener&&(e._trackListener=new JQX.Utilities.InputEvents(e._track),e._trackListener.down(function(t){e._SVGElementDownHandler(t)})),e._fillListener&&(e._fillListener=new JQX.Utilities.InputEvents(e._fill),e._fillListener.down(function(t){e._SVGElementDownHandler(t)})),e._lineListener&&(e._lineListener=new JQX.Utilities.InputEvents(e._line),e._lineListener.down(function(t){e._SVGElementDownHandler(t)})))}detached(){super.detached(),this._unlisten()}ready(){super.ready()}getOptimalSize(){const e=this;return e._renderingSuspended?{width:0,height:0}:"circle"===e.sizeMode?{width:e.offsetWidth,height:e._updateSize(!0)}:{width:e.offsetWidth,height:e.offsetHeight}}val(e){const t=this;if(void 0===e)return t._getEventValue();if("date"===t.mode&&(e=(e=JQX.Utilities.DateTime.validateDate(e)).getTimeStamp()),t._numericProcessor.compare(e,t.value)){const i=t.value;if(t._validateValue(e,t.value),!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0);t._animate(i)}}_createElement(){const e=this;"numeric"===e.mode?e._getEventValue=function(){return e.value}:(e._handleDateScale(),e.digitalDisplay=!1),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._draw=new JQX.Utilities.Draw(e.$.svgContainer),e._isVisible()?(e._renderingSuspended=!1,e._setSettingsObject(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._measurements={},e._validateInitialPropertyValues(),e._getMeasurements(),e._setDrawVariables(),e._getRange(),e._numericProcessor.getAngleRangeCoefficient(),"numeric"!==e.mode&&e.coerce?e._coerceInitialDateValue=!0:e._validateValue(),e._initTickIntervalHandler(),e._renderAnalogItems(),delete e._preventResizeHandler,e._setFocusable(),e._setUpdatePointerMethod()):e._renderingSuspended=!0}propertyChangedHandler(e,t,i){function n(i,n,a,s){const o=i&&n?"both":e;r._validateMinMax(o,!1,t),"logarithmicScale"!==e&&"scaleType"!==e&&("wordLength"!==e&&r[e]===t||"wordLength"===e&&r.min===a&&r.max===s)||(r._setDrawVariables(),r._getRange(),r._numericProcessor.getAngleRangeCoefficient(),r._initTickIntervalHandler(),r._renderAnalogItems(),r._validateValue(r.value,r.value),r._updatePointer())}const r=this;if(r._isVisible()&&!r._renderingSuspended)switch(e){case"analogDisplayType":delete r._customSVGElements,r._getMeasurements(),"needle"===i&&"center"===r.digitalDisplayPosition?r.digitalDisplayPosition="bottom":"needle"===t&&"bottom"===r.digitalDisplayPosition&&(r.digitalDisplayPosition="center"),r._renderAnalogItems(),r._setUpdatePointerMethod();break;case"coerce":if(i){const e=r.value;r._validateValue(e),r._updatePointer(),r._valueBeforeCoercion=e}else void 0!==r._valueBeforeCoercion&&(r._validateValue(r._valueBeforeCoercion),r._updatePointer());break;case"customInterval":i?(r._customTicks&&(r.customTicks=r._customTicks),r._numericProcessor.validateCustomTicks()):"date"===r.mode&&(r._customTicks=r.customTicks),r._initTickIntervalHandler(),r._renderAnalogItems(),r._coerceCustomInterval();break;case"customTicks":if("date"===r.mode&&!r.customInterval)return r._customTicks=i,void(r.customTicks=t);r._numericProcessor.validateCustomTicks(),r.customInterval&&(r._initTickIntervalHandler(),r._renderAnalogItems(),r._coerceCustomInterval());break;case"dateLabelFormatString":case"showUnit":case"unit":r._initTickIntervalHandler(),r._renderAnalogItems();break;case"decimalSeparator":case"scientificNotation":if("date"===r.mode)return;r._initTickIntervalHandler(),r._renderAnalogItems();break;case"digitalDisplay":case"digitalDisplayPosition":if("date"===r.mode)return void("digitalDisplay"===e&&(r.digitalDisplay=!1));r._updateSize();break;case"mechanicalAction":case"messages":case"readonly":break;case"disabled":case"unfocusable":r._setFocusable();break;case"drawNeedle":if("needle"!==r.analogDisplayType)return;null===t&&r._draw.removeElement(r._needle),null!==i?r._updatePointer():(r._renderAnalogItems(),delete r._customSVGElements);break;case"endAngle":case"startAngle":r._validateAngles(),r._numericProcessor.getAngleRangeCoefficient(),r._renderAnalogItems();break;case"interval":r._numericProcessor.validateInterval(r.interval),r._validateValue(),r._updatePointer();break;case"inverted":case"labelFormatFunction":case"showRanges":r._renderAnalogItems();break;case"labelsVisibility":if("all"===t&&"endPoints"===i||"endPoints"===t&&"all"===i)return;r._getMeasurements(),r._renderAnalogItems();break;case"logarithmicScale":if("date"===r.mode)return void(r.logarithmicScale=!1);r._initTickIntervalHandler(),n(!0,!0);break;case"max":case"min":"date"===r.mode&&(delete r._dateInterval,r[e]=JQX.Utilities.DateTime.validateDate(i).getTimeStamp()),n("min"===e,"max"===e);break;case"mode":r.mode=t;break;case"needlePosition":"needle"===r.analogDisplayType&&r._updatePointer();break;case"precisionDigits":case"significantDigits":if("date"===r.mode)return;"precisionDigits"===e&&"integer"===r.scaleType&&r.error(r.localize("noInteger",{elementType:r.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==r.precisionDigits?r.precisionDigits=null:"precisionDigits"===e&&null!==r.significantDigits&&(r.significantDigits=null),null!==i&&(r.$.digitalDisplay.precisionDigits=r.precisionDigits,r.$.digitalDisplay.significantDigits=r.significantDigits),r._initTickIntervalHandler(),r._renderAnalogItems();break;case"ranges":if(!r.showRanges)return;r._renderAnalogItems();break;case"scaleType":if("date"===r.mode)return void(r.scaleType="integer");r._numericProcessor=new JQX.Utilities.NumericProcessor(r,"scaleType"),n(!0,!0);break;case"scalePosition":case"ticksPosition":r._getMeasurements(),r._renderAnalogItems();break;case"sizeMode":r._preventResizeHandler=!0,"circle"===i?(r.$.container.removeAttribute("style"),r.style.height=r.offsetWidth+"px",r._measurements.cachedHeight=r.offsetHeight):(r.$.container.style.height=r.offsetWidth+"px",r._updateSize());break;case"theme":super.propertyChangedHandler(e,t,i),r._getMeasurements(),r._renderAnalogItems();break;case"ticksVisibility":if("minor"===t&&"major"===i||"major"===t&&"minor"===i)return;r._getMeasurements(),r._renderAnalogItems();break;case"validation":"strict"===i&&r._validateValue(r.value,r.value);break;case"value":{"date"===r.mode&&(i=(i=JQX.Utilities.DateTime.validateDate(i)).getTimeStamp()),r._validateValue(i,t);const e=i.toString();r.value.toString()===e&&(r._drawValue=r.logarithmicScale?Math.log10(e).toString():e),r._animate(t);break}case"wordLength":if("date"===r.mode)return void(r.wordLength="uint64");r._wordLengthNumber=r._numericProcessor.getWordLength(r.wordLength),"integer"===r.scaleType&&n(!0,!0,r.min,r.max)}else r._renderingSuspended=!0}_addAnalogDisplay(){const e=this,t=e._measurements,i=t.radius,n=e._draw;if("needle"===e.analogDisplayType){e._drawNeedle(!1);const r=(t.needleWidth+5)/2;e._centralCircle=n.circle(i,i,r,{class:"jqx-needle-central-circle"}),e._minCoordinates.push(i-r),e._maxCoordinates.push(i+r)}else{const r=i-e._distance.trackDistance-t.trackBorderWidth/2-1;e._track=n.pieslice(i,i,r-t.trackWidth,r,e.startAngle,e.endAngle,0,{class:"jqx-track"}),e._trackListener=new JQX.Utilities.InputEvents(e._track),e._trackListener.down(function(t){e._SVGElementDownHandler(t)})}}_calculateTickAndLabelDistance(){const e=this,t=e._measurements;if("none"===e.scalePosition)return e._plotLabels=!1,e._plotTicks=!1,t.innerRadius=t.radius,{majorTickDistance:0,minorTickDistance:0,labelDistance:0,needleDistance:0,trackDistance:0};const i=e._tickIntervalHandler.labelsSize,n=e._largestLabelSize||Math.max(i.minLabelSize,i.minLabelOtherSize,i.maxLabelSize,i.maxLabelOtherSize);let r,a,s,o=1,l=0;return e._largestLabelSize=n,"outside"===e.scalePosition&&(r=(o=n)+t.majorTickSize-t.minorTickSize,a=0),"needle"===e.analogDisplayType?(s="outside"===e.scalePosition?o+t.majorTickSize:o+t.majorTickSize+n,"none"===e.ticksVisibility&&(a=0,s-=t.majorTickSize),"none"===e.labelsVisibility&&(s-=n,"outside"===e.scalePosition&&(o-=n,r-=n))):"none"===e.labelsVisibility&&"none"===e.ticksVisibility?l=0:"outside"===e.scalePosition?"scale"===e.ticksPosition?("none"===e.labelsVisibility&&(o=1,r=1+t.majorTickSize-t.minorTickSize),l="none"!==e.ticksVisibility?o+t.majorTickSize+2:n):"none"!==e.labelsVisibility?(r-=(t.trackWidth+t.trackBorderWidth)/4,l=o-1):(o=1,r=(t.trackWidth+t.trackBorderWidth)/4+1,l=0):"scale"===e.ticksPosition?(o=t.trackWidth+1.5*t.trackBorderWidth+2,"none"===e.ticksVisibility&&(a=o)):r=(t.trackWidth+t.trackBorderWidth)/4+1,void 0===r&&(r=o),void 0===a&&(a=o+t.majorTickSize),t.innerRadius=t.radius-a,delete e._plotLabels,delete e._plotTicks,delete e._equalToHalfRadius,"inside"===e.scalePosition?t.innerRadius<n&&(e._plotLabels=!1,"scale"===e.ticksPosition?"needle"!==e.analogDisplayType&&t.innerRadius<t.majorTickSize&&(e._plotTicks=!1):(e._equalToHalfRadius=!0,t.innerRadius=t.radius/2)):t.radius-l-t.trackBorderWidth<t.trackWidth&&(t.trackWidth=t.radius-l-t.trackBorderWidth,t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2,r=o+(t.majorTickSize-t.minorTickSize)/2)),{majorTickDistance:o,minorTickDistance:r,labelDistance:a,needleDistance:s,trackDistance:l}}_calculateTickInterval(){const e=this,t=e._tickIntervalHandler.getInterval("radial",e._drawMin,e._drawMax,e.$.container,e.logarithmicScale);t.major!==e._majorTicksInterval?(e._intervalHasChanged=!0,e._majorTicksInterval=t.major):e._intervalHasChanged=!0,e._minorTicksInterval=t.minor,"date"===e.mode&&e._calculateDateInterval(t.major)}_computeNeedlePointsCenter(e,t){const i=this,n=i._measurements,r=n.innerRadius,a=n.radius,s=Math.sin(t),o=Math.cos(t);let l;return"M "+(a+e*o)+","+(a-e*s)+" L "+(a-e*o)+","+(a+e*s)+" L "+(a+(l="inside"===i.scalePosition?.9*(r-i._largestLabelSize):.9*(r-i._distance.needleDistance))*s)+","+(a+l*o)+" Z"}_computeNeedlePointsEdge(e,t,i){const n=this._measurements.radius,r=n-this._distance.needleDistance,a=r-i,s=Math.sin(t),o=Math.cos(t),l=n+a*s,d=n+a*o;return"M "+(l+e*o)+","+(d-e*s)+" L "+(l-e*o)+","+(d+e*s)+" L "+(n+r*s)+","+(n+r*o)+" Z"}_documentMoveHandler(e){if(!this._dragging)return;const t=this,i=t._getAngleByCoordinate(e.pageX,e.pageY),n=t._getQuadrant(i),r=t._getRotationDirection();if(t._normalizedStartAngle===t.endAngle){let e;t.inverted?t._lockCW&&"cw"===r?(e=t._normalizedStartAngle,t._unlockRotation("_lockCW",i,n,e,{firstCondition:i<e,secondCondition:i>e})):t._lockCCW&&"ccw"===r&&(e=t.endAngle,t._unlockRotation("_lockCCW",i,n,e,{firstCondition:i>e,secondCondition:i<e})):t._lockCW&&"ccw"===r?(e=t.endAngle,t._unlockRotation("_lockCW",i,n,e,{firstCondition:i>e,secondCondition:i<e})):t._lockCCW&&"cw"===r&&(e=t._normalizedStartAngle,t._unlockRotation("_lockCCW",i,n,e,{firstCondition:i<e,secondCondition:i>e}))}else t._lockCW&&"ccw"===r&&!t._outsideRange&&t._numericProcessor._getAngleDifference(i,t._normalizedStartAngle)<10?t._lockCW=!1:t._lockCCW&&"cw"===r&&!t._outsideRange&&t._numericProcessor._getAngleDifference(i,t.endAngle)<10&&(t._lockCCW=!1);if(t._angle=i,t._quadrant=n,e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()),t._lockCW||t._lockCCW)return;let a=t._numericProcessor.getValueByAngle(i);if(t._normalizedStartAngle===t.endAngle){const e=t._numericProcessor.lockRotation("cw"===r&&!t.inverted||"ccw"===r&&t.inverted,a);void 0!==e&&(a=e)}else"ccw"===r&&t._outsideEnd?t._lockCCW=!0:"cw"===r&&t._outsideStart&&(t._lockCW=!0);void 0!==a&&t._numericProcessor.compare(a,t.value)&&(cancelAnimationFrame(t._animationFrameId),t._updatePointer(a),"switchWhenReleased"!==t.mechanicalAction?t._numericProcessor.updateGaugeValue(a):t._valueAtMoveEnd=a)}_documentUpHandler(){const e=this;if(e._dragging&&(e._lockCW=!1,e._lockCCW=!1,e._dragging=!1,e.removeAttribute("dragged"),"switchWhileDragging"!==e.mechanicalAction)){const t="switchUntilReleased"===e.mechanicalAction?e._valueAtDragStart:e._valueAtMoveEnd;e._numericProcessor.compare(t,e.value)&&("switchUntilReleased"===e.mechanicalAction&&e._animate(e.value,t),e._numericProcessor.updateGaugeValue(t))}}_downHandler(e,t){const i=this,n=i.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if("needle"!==i.analogDisplayType&&!t||i.disabled||i.readonly||(i.enableShadowDOM?n.getRootNode().host===i.$.digitalDisplay:i.$.digitalDisplay.contains(n))||!JQX.Utilities.Core.isMobile&&("buttons"in e&&1!==e.buttons||1!==e.which))return void e.stopPropagation();const r=e.pageX,a=e.pageY;if(i._measurements.center=i._getCenterCoordinates(),"needle"===i.analogDisplayType){if(Math.sqrt(Math.pow(i._measurements.center.x-r,2)+Math.pow(i._measurements.center.y-a,2))>i._measurements.radius)return void e.stopPropagation()}"switchUntilReleased"===i.mechanicalAction&&(i._valueAtDragStart=i.value),i._angle=i._getAngleByCoordinate(r,a),i._quadrant=i._getQuadrant(i._angle);const s=i._numericProcessor.getValueByAngle(i._angle);void 0!==s&&i._numericProcessor.compare(s,i.value)&&(i._animate(i.value,s),"switchWhenReleased"!==i.mechanicalAction?i._numericProcessor.updateGaugeValue(s):i._valueAtMoveEnd=s),i._dragging=!0,i.setAttribute("dragged","")}_animate(e,t){const i=this,n=i.logarithmicScale,r=Math.max(1,Math.round(i.animationDuration/15));if(cancelAnimationFrame(i._animationFrameId),!i.hasAnimation||1===r)return void i._updatePointer(t);const a=i._numericProcessor;let s,o,l,d,h=1;void 0===t&&(t=i.value),e=parseFloat(a.validate(a.createDescriptor(e),i._minObject,i._maxObject)),t=parseFloat(a.validate(a.createDescriptor(t),i._minObject,i._maxObject)),n?(l=Math.log10(e),d=Math.log10(t)):(l=e,d=t);const c=Math.abs(d-l);function u(){s=o(),n&&(s=Math.pow(10,s))}o=t>e?function(){return Math.min(JQX.Utilities.Animation.Easings.easeInOutSine(h,l,c,r),d)}:function(){return Math.max(2*l-JQX.Utilities.Animation.Easings.easeInOutSine(h,l,c,r),d)},u(),i._animationFrameId=requestAnimationFrame(function e(){if(++h===r)return s=t,void i._updatePointer(s);i._updatePointer(s),u(),i._animationFrameId=requestAnimationFrame(e)})}_drawFill(e,t){const i=this;if("needle"===i.analogDisplayType)return;void 0===t&&(t=i._number);const n=i._measurements,r=n.radius,a=r-i._distance.trackDistance-n.trackBorderWidth/2-1;if("fill"===i.analogDisplayType){const s=i._numericProcessor.getAngleByValue(t,!0,!0);let o,l;i.inverted?(o=i.startAngle,l=s):(o=s,l=i.endAngle),e?i._fill.setAttribute("d",i._draw.pieSlicePath(r,r,a-n.trackWidth,a,o,l,0)):(i._fill=i._draw.pieslice(r,r,a-n.trackWidth,a,o,l,0,{class:"jqx-value"}),i._fillListener=new JQX.Utilities.InputEvents(i._fill),i._fillListener.down(function(e){i._SVGElementDownHandler(e)}))}else{const s=a+n.trackBorderWidth/2,o=s-n.lineSize,l=i._numericProcessor.getAngleByValue(t),d=Math.sin(l),h=Math.cos(l),c=r+s*d,u=r+s*h,p=r+o*d,m=r+o*h;e?(i._line.setAttribute("x1",c),i._line.setAttribute("y1",u),i._line.setAttribute("x2",p),i._line.setAttribute("y2",m)):(i._line=i._draw.line(c,u,p,m,{class:"jqx-line"}),i._lineListener=new JQX.Utilities.InputEvents(i._line),i._lineListener.down(function(e){i._SVGElementDownHandler(e)}))}}_drawLabel(e,t,i,n){const r=this._measurements,a=r.radius,s={class:"jqx-label"+(!1!==n?" jqx-label-middle":""),"font-size":r.fontSize,"font-family":r.fontFamily,"font-weight":r.fontWeight,"font-style":r.fontStyle};t=this._formatLabel(t.toString(),!1);const o=this._draw.measureText(t,0,s),l=a-i-this._largestLabelSize/2,d=Math.round(a+l*Math.sin(e))-o.width/2,h=Math.round(a+l*Math.cos(e))-o.height/2,c=this._draw.text(t,d,h,o.width,o.height,0,s);this._minCoordinates.push(h),this._maxCoordinates.push(h+c.getBBox().height)}_drawNeedle(e,t){const i=this,n=i._measurements;void 0===t&&(t=i._number);const r=i._numericProcessor.getAngleByValue(t);if(i.drawNeedle){if(i._customSVGElements=i.drawNeedle(i,i._draw,n.radius,r,i._distance.needleDistance),i._customSVGElements){const e=i._customSVGElements[0].parentElement||i._customSVGElements[0].parentNode;for(let t=0;t<i._customSVGElements.length;t++)e.insertBefore(i._customSVGElements[t],i._centralCircle)}}else{let t;t="center"===i.needlePosition?i._computeNeedlePointsCenter(n.needleWidth/2,r):i._computeNeedlePointsEdge(n.needleWidth/2,r,n.needleLength),e?i._needle.setAttribute("d",t):i._needle=i._draw.path(t,{class:"jqx-needle"})}}_drawRanges(){const e=this,t=e._numericProcessor,i=e.ranges;if(!e.showRanges||0===i.length)return;const n=e._measurements,r=n.radius;let a,s,o,l;"needle"===e.analogDisplayType?(s=n.rangeSize,"inside"===e.scalePosition?a=r-1:(a=r-e._distance.needleDistance-2,"none"===e.labelsVisibility&&"none"===e.ticksVisibility&&(a+=1))):(a=r-e._distance.trackDistance-n.trackBorderWidth/2-1,s=n.trackWidth),e.inverted?(o="endValue",l="startValue"):(o="startValue",l="endValue");for(let n=0;n<i.length;n+=1){let d=i[n],h=t.validateColorRange(d[o]),c=t.validateColorRange(d[l]);const u=e._draw.pieslice(r,r,a-s,a,t.getAngleByValue(c,!0,!0),t.getAngleByValue(h,!0,!0),0,{class:"jqx-range "+d.className});e._ranges.push(u)}}_drawTick(e,t,i){const n=this._measurements,r=n.radius;let a,s="jqx-tick";"major"===i?a=n.majorTickSize:(a=n.minorTickSize,s+=" jqx-tick-minor");const o=t-a,l=r+t*Math.sin(e),d=r+t*Math.cos(e),h=r+o*Math.sin(e),c=r+o*Math.cos(e);this._draw.line(l,d,h,c,{class:s}),this._minCoordinates.push(Math.min(d,c)),this._maxCoordinates.push(Math.max(d,c))}_getAngleByCoordinate(e,t){const i=this,n=i._measurements.center;let r=-1*Math.atan2(t-n.y,e-n.x)*180/Math.PI;return r<0&&(r+=360),i._actualAngle=r,i._normalizedStartAngle===i.endAngle||function(e,t,i){for(;t<e;)t+=360;for(;i<e;)i+=360;return i>=e&&i<=t}(i._normalizedStartAngle,i.endAngle,r)?(i._outsideRange=!1,i._outsideStart=!1,i._outsideEnd=!1):(i._numericProcessor._getAngleDifference(r,i._normalizedStartAngle)<=i._numericProcessor._getAngleDifference(r,i.endAngle)?(r=i._normalizedStartAngle,i._outsideStart=!0,i._outsideEnd=!1):(r=i.endAngle,i._outsideEnd=!0,i._outsideStart=!1),i._outsideRange=!0),r}_getCenterCoordinates(){const e=this.$.container.getBoundingClientRect(),t=this._measurements.radius,i=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+i+t,y:e.top+n+t}}_getInlineColors(){const e=this;let t="",i="",n="";return e._track&&(t=e._track.style.fill),e._fill&&(i=e._fill.style.fill),e._line&&(n=e._line.style.stroke),[t,i,n]}_getMeasurements(){const e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);const t=e._measurements;t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2;const i=document.createElement("div");e.enableShadowDOM?e.shadowRoot.appendChild(i):e.appendChild(i),i.className="jqx-tick",t.majorTickSize=i.offsetWidth,i.className+=" jqx-tick-minor",t.minorTickSize=i.offsetWidth,i.className="jqx-label";const n=window.getComputedStyle(i);t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fontWeight=n.fontWeight,t.fontStyle=n.fontStyle,t.trackWidth=0,t.trackBorderWidth=0,"needle"===e.analogDisplayType?(i.className="jqx-needle",t.needleWidth=i.offsetWidth,t.needleLength=i.offsetHeight,i.className="jqx-range",t.rangeSize=i.offsetWidth):(i.className="jqx-track",t.trackBorderWidth=parseFloat(n.strokeWidth),t.trackWidth=Math.min(i.offsetWidth,t.radius-t.trackBorderWidth),t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2)),e.enableShadowDOM?e.shadowRoot.removeChild(i):e.removeChild(i)}_getQuadrant(e){return e>270?4:e>180?3:e>90?2:1}_getRotationDirection(){const e=this._getQuadrant(this._actualAngle);return this._actualAngle<this._angle&&(1!==e||4!==this._quadrant)||this._actualAngle>this._angle&&4===e&&1===this._quadrant?"cw":"ccw"}_initTickIntervalHandler(){const e=this;if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0);const t=e._formatLabel(e.min,!1),i=e._formatLabel(e.max,!1);e._tickIntervalHandler=new JQX.Utilities.TickIntervalHandler(e,t,i,"jqx-label",e._settings.size,"integer"===e.scaleType,e.logarithmicScale)}_keydownHandler(e){const t=this,i=t._getEventValue(),n=t._number.toString();"numeric"===t.mode?(t.value.toString()!==n&&(t.value=n,t.$.digitalDisplay.value=n),super._keydownHandler(e),t.value.toString()!==i&&t.$.fireEvent("change",{value:t.value,oldValue:i})):(t.value.toString()!==n&&(t._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(n),t.value=t._number,t.$.digitalDisplay.$.input.value=t._valueDate),super._keydownHandler(e),0!==t._valueDate.compare(i)&&t.$.fireEvent("change",{value:t._getEventValue(),oldValue:i}))}_normalizeAngle(e){return(e%=360)<0&&(e+=360),e}_renderAnalogItems(e){const t=this;if(!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0);const i=t._getInlineColors();if(t._unlisten(),t._draw.clear(),delete t._needle,delete t._centralCircle,delete t._track,delete t._trackListener,delete t._fill,delete t._fillListener,delete t._line,delete t._lineListener,t._ranges=[],t._minCoordinates=[],t._maxCoordinates=[],!1!==e&&(delete t._largestLabelSize,t._distance=t._calculateTickAndLabelDistance()),!1!==t._plotTicks||!1!==t._plotLabels){t._calculateTickInterval();const i=t._cachedLabelsSize,n=Math.max(i.minLabelSize,i.minLabelOtherSize,i.maxLabelSize,i.maxLabelOtherSize);!1!==e&&t._largestLabelSize!==n&&(t._largestLabelSize=n,t._distance=t._calculateTickAndLabelDistance(),t._calculateTickInterval())}t._coerceInitialDateValue&&(t._validateValue(),delete t._coerceInitialDateValue),t._drawRanges(),t._addAnalogDisplay(),("none"!==t.ticksVisibility&&!1!==t._plotTicks||"none"!==t.labelsVisibility&&!1!==t._plotLabels)&&(t.customInterval||t._dateInterval?t._numericProcessor.addGaugeCustomTicks():t._numericProcessor.addGaugeTicksAndLabels()),t._drawFill(!1),t._updateSize(),t._restoreInlineColors(i[0],i[1],i[2])}_resizeHandler(){const e=this;if(e._preventResizeHandler)return void delete e._preventResizeHandler;if(!e._isVisible())return void(e._renderingSuspended=!0);if(e._renderingSuspended)return void e._createElement();const t=e._measurements;if(!(e._renderingSuspended||t.cachedWidth===e.offsetWidth&&t.cachedHeight===e.offsetHeight)){if("circle"===e.sizeMode)e.offsetWidth!==e.offsetHeight&&(t.cachedWidth!==e.offsetWidth?(e.style.height=e.offsetWidth+"px",e._preventResizeHandler=!0):t.cachedHeight!==e.offsetHeight&&(e.style.width=e.offsetHeight+"px",e._preventResizeHandler=!0));else{if(t.cachedHeight!==e.offsetHeight&&t.cachedWidth===e.offsetWidth)return e.style.height=t.cachedHeight+"px",void(e._preventResizeHandler=!0);e.$.container.style.height=e.offsetWidth+"px"}t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2,e._equalToHalfRadius?t.innerRadius=t.radius/2:t.innerRadius=t.radius-e._distance.labelDistance,e._renderAnalogItems(!1)}}_restoreInlineColors(e,t,i){const n=this;n._track&&""!==e&&(n._track.style.fill=e),n._fill&&""!==t&&(n._fill.style.fill=t),n._line&&""!==i&&(n._line.style.stroke=i)}_selectStartHandler(e){this._dragging&&e.preventDefault()}_setUpdatePointerMethod(){const e=this;"needle"===e.analogDisplayType?e._updatePointer=function(t){if(e._customSVGElements)for(let t=0;t<e._customSVGElements.length;t++)e._draw.removeElement(e._customSVGElements[t]);e._drawNeedle(!0,t)}:e._updatePointer=function(t){e._drawFill(!0,t)}}_styleChangedHandler(e){const t=this;e.detail.styleProperties&&e.detail.styleProperties["min-height"]||(t._isVisible()?t._renderingSuspended?t._createElement():(t._getMeasurements(),t._initTickIntervalHandler(),t._renderAnalogItems()):t._renderingSuspended=!0)}_SVGElementDownHandler(e){const t=this.context;this.context=this,this._downHandler(e,!0),this.context=t}_unlockRotation(e,t,i,n,r){const a=this,s=r.firstCondition,o=r.secondCondition,l=a._getQuadrant(n);(s&&(4!==i||1!==l)||o&&4===i&&1===l)&&a._numericProcessor._getAngleDifference(t,n)<10&&(a[e]=!1)}_updateSize(e){const t=this;if("circle"===t.sizeMode&&void 0===e)return;const i=t._minCoordinates,n=t._maxCoordinates;let r=i[0],a=n[0];for(let e=1;e<i.length;e++)r=Math.min(r,i[e]);for(let e=1;e<n.length;e++)a=Math.max(a,n[e]);const s=t.getBoundingClientRect();if(t.digitalDisplay){const e=t.$.digitalDisplay.getBoundingClientRect();r=Math.min(r,e.top-s.top),a=Math.max(a,e.bottom-s.top)}if("needle"!==t.analogDisplayType){const e=t._track.getBBox();r=Math.min(r,e.y),a=Math.max(a,e.y+e.height)}for(let e=0;e<t._ranges.length;e++){const i=t._ranges[e].getBBox();r=Math.min(r,i.y-s.top),a=Math.max(a,i.y+i.height-s.top)}const o=a-(r-=2);if(void 0!==e)return Math.round(o);t._preventResizeHandler=!0,t.style.height=o+"px",t.$.container.style.marginTop=-1*r+"px",t._measurements.cachedHeight=o}_updateValue(e){this._numericProcessor.updateGaugeValue(e)}_validate(e,t,i){const n=this,r=n.value;n._validateValue(t),!i||35!==i&&36!==i?n._updatePointer():n._animate(r)}_validateAngles(){const e=this;e._normalizedStartAngle=e._normalizeAngle(e.startAngle),e.endAngle=e._normalizeAngle(e.endAngle),e._normalizedStartAngle<e.endAngle?e.startAngle=e._normalizedStartAngle:e.startAngle=e._normalizedStartAngle-360,e._angleDifference=e.endAngle-e.startAngle}_validateInitialPropertyValues(){super._validateInitialPropertyValues();const e=this;"circle"===e.sizeMode?e.offsetWidth<e.offsetHeight?e.style.height=e.offsetWidth+"px":e.offsetWidth>e.offsetHeight&&(e.style.width=e.offsetHeight+"px"):(e.offsetHeight!==e.offsetWidth&&(e.style.height=e.offsetWidth+"px"),e.$.container.style.height=e.offsetWidth+"px"),e._validateAngles(),null!==e.significantDigits?e.$.digitalDisplay.significantDigits=e.significantDigits:null!==e.precisionDigits&&(e.$.digitalDisplay.precisionDigits=e.precisionDigits)}_validateValue(e,t){const i=this,n=i._numericProcessor,r=i.logarithmicScale,a="strict"===i.validation;let s,o,l,d,h,c=a&&void 0!==t;void 0===e?(c=!1,e=i.value):e=e.toString(),n.regexScientificNotation.test(e)&&(e=n.scientificToDecimal(e)),isNaN(e)&&(e=t||0),i.coerce?(s=n.getCoercedValue(n.createDescriptor(e,!0,!0,!0),!1,r),i._number=s,l=o=s.toString()):a?(s=n.getCoercedValue(n.createDescriptor(e,!0,!0,!0),!1,r),i._number=s,l=o=s.toString()):(c=!1,s=n.getCoercedValue(n.createDescriptor(e,!0,!0,!1),!1,r),i._number=n.validate(s,n.createDescriptor(i._minObject),n.createDescriptor(i._maxObject)),o=s.toString(),l=i._number.toString()),"numeric"===i.mode?(d=t,h=o,i.value=o,i.$.digitalDisplay.value=o):(d=i._valueDate,i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o),h=i._valueDate,i.value=s,i.$.digitalDisplay.$.input.value=i._valueDate),i._drawValue=r?Math.log10(l).toString():l,c&&n.compare(i._number,t)&&i.$.fireEvent("change",{value:h,oldValue:d}),delete i._valueBeforeCoercion}_unlisten(){const e=this;e._trackListener&&e._trackListener.unlisten(),e._fillListener&&e._fillListener.unlisten(),e._lineListener&&e._lineListener.unlisten()}});var ae=Object.freeze({});JQX("jqx-slider",class extends JQX.Tank{static get properties(){return{enableMouseWheelAction:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string",defaultReflectToAttribute:!0},rangeSlider:{value:!1,type:"boolean"},showButtons:{value:!1,type:"boolean"},values:{value:["0","100"],type:"array"}}}static get listeners(){return{"track.down":"_trackDownHandler","thumb.down":"_thumbDownHandler","secondThumb.down":"_thumbDownHandler","thumb.mouseleave":"_thumbMoveMouseleaveHandler","secondThumb.mouseleave":"_thumbMoveMouseleaveHandler","thumb.move":"_thumbMoveMouseleaveHandler","secondThumb.move":"_thumbMoveMouseleaveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","leftButton.click":"_spinButtonClickHandler","rightButton.click":"_spinButtonClickHandler",keydown:"_keydownHandlerSlider",keyup:"_keyupHandlerSlider",resize:"_resizeAndStyleChangedHandler",styleChanged:"_resizeAndStyleChangedHandler","document.selectstart":"_selectStartHandler",wheel:"_wheelHandler"}}static get requires(){return{"JQX.RepeatButton":"jqxbutton.js"}}static get styleUrls(){return["jqx.slider.css","jqx.button.css"]}template(){return'<div id="container" class="jqx-container">\n                <div id="scaleNear" class="jqx-scale jqx-scale-near"></div>\n                <div id="trackContainer" class="jqx-track-container">\n                    <jqx-repeat-button id="leftButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="leftArrow" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                    <div id="track" class="jqx-track">\n                        <div id="fill" class="jqx-value"></div>\n                        <div id="trackTicksContainer" class="jqx-track-ticks-container jqx-hidden"></div>\n                        <div id="thumb" class="jqx-thumb">\n                            <span id="thumbLabel" class="jqx-thumb-label"></span>\n                            <div id="tooltip" class="jqx-tooltip">\n                                <div id="tooltipContent" class="jqx-tooltip-content jqx-unselectable"></div>\n                            </div>\n                        </div>\n                        <div id="secondThumb" class="jqx-thumb">\n                            <span id="secondThumbLabel" class="jqx-thumb-label"></span>\n                            <div id="secondTooltip" class="jqx-tooltip">\n                                <div id="secondTooltipContent" class="jqx-tooltip-content jqx-unselectable"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <jqx-repeat-button id="rightButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="rightArrow" class="jqx-arrow"></div>\n                    </jqx-repeat-button>\n                </div>\n                <div id="scaleFar" class="jqx-scale jqx-scale-far"></div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}_createElement(){const e=this,t="numeric"===e.mode;if(e._renderingSuspended||(t?e._redefineProperty("values"):t||e._handleDateScale()),e._setSettingsObject(),e._setDrawVariables(),e._getLayoutType(),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,!e._isVisible())return void(e._renderingSuspended=!0);e._renderingSuspended=!1,e._setInitialComponentDisplay(),e._measurements={},e._getMeasurements(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength);const i=e._valuesHandler=e.rangeSlider?new JQX.Utilities.SliderMultipleValueHandler(e):new JQX.Utilities.SliderSingleValueHandler(e);t&&(e._getEventValue=function(){return e._valuesHandler.getValue()}),e._validateInitialPropertyValues(),e._setTicksAndInterval(),i.validate(!0),i.updateTooltipValue(),window.requestAnimationFrame(function(){e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation")}),e._setFocusable(),e._makeThumbAccessible(),e.$.hiddenInput.value=e._getEventValue()}val(e){const t=this,i=t._valuesHandler;if(void 0===e)return t._getEventValue();"date"===t.mode&&(t.rangeSlider?(e[0]=JQX.Utilities.DateTime.validateDate(e[0]),e[1]=JQX.Utilities.DateTime.validateDate(e[1]),e[0]=e[0].getTimeStamp(),e[1]=e[1].getTimeStamp()):e=(e=JQX.Utilities.DateTime.validateDate(e)).getTimeStamp()),i.areDifferent(e)&&i.validate(!1,e,!0)}getOptimalSize(){const e=this;if(e._renderingSuspended)return{width:0,height:0};const t=window.getComputedStyle(e),i=window.getComputedStyle(e.$.trackContainer);let n,r,a,s,o,l,d,h,c=0;return n="all"===e.labelsVisibility?e._numericProcessor._longestLabelSize:"endPoints"===e.labelsVisibility?Math.max(e._tickIntervalHandler.labelsSize.minLabelOtherSize,e._tickIntervalHandler.labelsSize.maxLabelOtherSize):0,"horizontal"===e.orientation?(c+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)+e.$.track.offsetHeight,"near"!==e.scalePosition&&"both"!==e.scalePosition||(c+=n,s=(a=e.$.scaleNear.getElementsByClassName("jqx-label"))[0],o=a[a.length-1],c+=parseFloat(window.getComputedStyle(s).bottom)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(c+=n,s=(a=e.$.scaleFar.getElementsByClassName("jqx-label"))[0],o=a[a.length-1],c+=parseFloat(window.getComputedStyle(s).top)),c+=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r=e.offsetWidth,"none"!==e.scalePosition&&(l=s.getBoundingClientRect(),d=o.getBoundingClientRect(),(h=l.left+s.offsetWidth-d.left)>0&&(r=s.offsetWidth+o.offsetWidth+Math.max(10,e.$.thumb.offsetWidth))),{width:r,height:c}):(c+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)+e.$.track.offsetWidth,"near"!==e.scalePosition&&"both"!==e.scalePosition||(c+=n,s=(a=e.$.scaleNear.getElementsByClassName("jqx-label"))[0],o=a[a.length-1],c+=parseFloat(window.getComputedStyle(s).right)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(c+=n,s=(a=e.$.scaleFar.getElementsByClassName("jqx-label"))[0],o=a[a.length-1],c+=parseFloat(window.getComputedStyle(s).left)),c+=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r=e.offsetHeight,"none"!==e.scalePosition&&(l=s.getBoundingClientRect(),d=o.getBoundingClientRect(),(h=l.top+s.offsetHeight-d.top)>0&&(r=s.offsetHeight+o.offsetHeight+Math.max(10,e.$.thumb.offsetHeight))),{width:c,height:r})}propertyChangedHandler(e,t,i){const n=this;if(!n._isVisible()||n._renderingSuspended)return void(n._renderingSuspended=!0);if(-1!==["disabled","mode","readonly","showThumbLabel","tooltipPosition","unfocusable","validation"].indexOf(e))return void super.propertyChangedHandler(e,t,i);let r=n._valuesHandler;function a(){n._setTicksAndInterval(),r.validate(!1,r.getValue(),!0)}if("values"!==e&&i!=t||"values"===e&&(i[0]!=t[0]||i[1]!==t[1]))switch(e){case"coerce":if(i){const e=r.getValue();r.validate(!1,e.slice(0),!0),n._valueBeforeCoercion=e}else void 0!==n._valueBeforeCoercion&&r.validate(!1,n._valueBeforeCoercion.slice(0),!0);break;case"customInterval":case"customTicks":super.propertyChangedHandler(e,t,i),n.customInterval&&r.validate(!1,r.getValue(),!0);break;case"dateLabelFormatString":"date"===n.mode&&a();break;case"decimalSeparator":case"scientificNotation":if("date"===n.mode)return;a();break;case"interval":n._numericProcessor.validateInterval(i),r.validate(!1,r.getValue(),!0);break;case"inverted":n._getLayoutType(),n._normalLayout&&(n.$.fill.style[n._settings.margin]="0px"),a();break;case"labelFormatFunction":case"showUnit":case"unit":a();break;case"labelsVisibility":case"ticksVisibility":return;case"logarithmicScale":if("date"===n.mode)return void(n.logarithmicScale=!1);n._validateMinMax("both"),a();break;case"min":case"max":"date"===n.mode&&(delete n._dateInterval,n[e]=JQX.Utilities.DateTime.validateDate(i).getTimeStamp()),n._validateMinMax(e,!1,t),a();break;case"orientation":n.$.container.removeAttribute("style"),n.$.trackContainer.removeAttribute("style"),n.$.fill.removeAttribute("style"),n.$.thumb.removeAttribute("style"),n.$.secondThumb.removeAttribute("style"),n._setSettingsObject(),n._getLayoutType(),n._getMeasurements(),a(),"horizontal"===i?(n.$leftArrow.removeClass("jqx-arrow-up"),n.$rightArrow.removeClass("jqx-arrow-down"),n.$leftArrow.addClass("jqx-arrow-left"),n.$rightArrow.addClass("jqx-arrow-right")):(n.$leftArrow.removeClass("jqx-arrow-left"),n.$rightArrow.removeClass("jqx-arrow-right"),n.$leftArrow.addClass("jqx-arrow-up"),n.$rightArrow.addClass("jqx-arrow-down"));break;case"precisionDigits":case"significantDigits":if("date"===n.mode)return;"precisionDigits"===e&&"integer"===n.scaleType&&n.error(n.localize("noInteger",{elementType:n.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),a();break;case"rangeSlider":i?(n.values=[n.min,n.value],n._drawValues=[n._drawMin,n._drawValue],"date"===n.mode&&(n._valueDate=[n._minDate.clone(),n._valueDate]),void 0!==n._valueBeforeCoercion&&(n._valueBeforeCoercion=[n.min,n._valueBeforeCoercion]),r=n._valuesHandler=new JQX.Utilities.SliderMultipleValueHandler(n)):(n.value=n.values[1],n._drawValue=n._drawValues[1],"date"===n.mode&&(n._valueDate=n._valueDate[1]),void 0!==n._valueBeforeCoercion&&(n._valueBeforeCoercion=n._valueBeforeCoercion[1]),r=n._valuesHandler=new JQX.Utilities.SliderSingleValueHandler(n),n.$.fill.style.marginTop=0,n.$.fill.style.marginLeft=0),r.validate(!1,r.getValue(),!0);break;case"scalePosition":n._setInitialComponentDisplay(),a();break;case"scaleType":if("date"===n.mode)return void(n.scaleType="integer");n._numericProcessor=new JQX.Utilities.NumericProcessor(n,"scaleType"),n._validateMinMax("both"),n._setTicksAndInterval(),r.validate(!0);break;case"showButtons":i?(n.$leftButton.removeClass("jqx-hidden"),n.$rightButton.removeClass("jqx-hidden")):(n.$leftButton.addClass("jqx-hidden"),n.$rightButton.addClass("jqx-hidden")),n._setTicksAndInterval(),r.moveThumbBasedOnValue(r.getDrawValue(),void 0,!0);break;case"showTooltip":super.propertyChangedHandler(e,t,i),i||(n.$tooltip.addClass("jqx-hidden"),n.$secondTooltip.addClass("jqx-hidden"));break;case"theme":super.propertyChangedHandler(e,t,i),a();break;case"ticksPosition":"scale"===i?(n.$trackTicksContainer.addClass("jqx-hidden"),n.$.trackTicksContainer.innerHTML=""):n.$trackTicksContainer.removeClass("jqx-hidden"),n._setTicksAndInterval();break;case"value":case"values":if("value"===e&&n.rangeSlider||"values"===e&&!n.rangeSlider)return;if(n[e]=t,"date"===n.mode)if("value"===e){if(i=(i=JQX.Utilities.DateTime.validateDate(i)).getTimeStamp(),n.value=i,0===i.compare(t))return}else if(i[0]=JQX.Utilities.DateTime.validateDate(i[0]),i[1]=JQX.Utilities.DateTime.validateDate(i[1]),i[0]=i[0].getTimeStamp(),i[1]=i[1].getTimeStamp(),n.values=i,0===i[0].compare(t[0])&&0===i[1].compare(t[1]))return;r.validate(!1,i,!0);break;case"wordLength":if("date"===n.mode)return void(n.wordLength="uint64");n._wordLengthNumber=n._numericProcessor.getWordLength(i),n._validateMinMax("both"),a()}else"string"!=typeof i&&"string"==typeof t&&(n[e]=t)}_addMovedThumbClass(){const e=this;e.rangeSlider&&(e._movedThumb.$.addClass("jqx-moved-thumb"),e._movedThumb===e.$.thumb?e.$secondThumb.removeClass("jqx-moved-thumb"):e.$thumb.removeClass("jqx-moved-thumb"))}_setInitialComponentDisplay(){super._setInitialComponentDisplay();const e=this;e.$secondTooltip.addClass("jqx-hidden"),e.showButtons||(e.$leftButton.addClass("jqx-hidden"),e.$rightButton.addClass("jqx-hidden"))}_getMeasurements(){const e=this,t=e._measurements,i=e.$.track,n=e.$.thumb;e._isVisible()&&!e._renderingSuspended?("horizontal"===e.orientation?(t.trackWidth=i.offsetHeight,t.thumbSize=n.offsetWidth,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderLeftWidth)):(t.trackWidth=i.offsetWidth,t.thumbSize=n.offsetHeight,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderTopWidth)),t.halfThumbSize=t.thumbSize/2):e._renderingSuspended=!0}_layout(){const e=this,t=e._measurements,i=e.$.container.style,n=t.halfThumbSize,r=e._tickIntervalHandler.labelsSize;let a,s,o,l;if("none"!==e.scalePosition?(a=r.minLabelSize/2,s=r.maxLabelSize/2):(a=0,s=0),e.showButtons){const t=e.$.leftButton[e._settings.size]+n;o=Math.max(a-t,0)+"px",l=Math.max(s-t,0)+"px"}else o=Math.max(n,a)+"px",l=Math.max(n,s)+"px";"horizontal"===e.orientation?(e.inverted?(i.paddingLeft=l,i.paddingRight=o):(i.paddingLeft=o,i.paddingRight=l),t.trackLength=e.$.track.clientWidth,e.$leftArrow.addClass("jqx-arrow-left"),e.$rightArrow.addClass("jqx-arrow-right")):(e.inverted?(i.paddingBottom=l,i.paddingTop=o):(i.paddingBottom=o,i.paddingTop=l),t.trackLength=e.$.track.clientHeight,e.$leftArrow.addClass("jqx-arrow-up"),e.$rightArrow.addClass("jqx-arrow-down"))}_trackDownHandler(e){const t=this,i=t.mechanicalAction;t.disabled||t.readonly||!t.rangeSlider&&e.target===t.$.thumb||(t._stopTrackDownHandler?t._stopTrackDownHandler=!1:("switchWhileDragging"!==i&&(t._valueAtDragStart=t._valuesHandler.getValue()),t._getTrackStartAndEnd(),t._valuesHandler.setActiveThumbOnTrackClick(e),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==i),t._thumbDragged=!0,t.setAttribute("dragged",""),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden")))}_trackMoveHandler(){}_thumbDownHandler(e){const t=this;t.disabled||t.readonly||(t._getTrackStartAndEnd(),(e[t._settings.page]<t._trackStart||e[t._settings.page]>t._trackEnd)&&(t._stopTrackDownHandler=!0),"switchWhileDragging"!==t.mechanicalAction&&(t._valueAtDragStart=t._valuesHandler.getValue()),window.getSelection().removeAllRanges(),t._thumbDragged=!0,t.setAttribute("dragged",""),t.$track.addClass("jqx-dragged"),t._movedThumb=e.target,t._addMovedThumbClass(),t._movedTooltip=t.$tooltip,t.rangeSlider&&(t._movedThumb===t.$.thumb?(t._staticThumb=t.$.secondThumb,t.$secondTooltip.addClass("jqx-hidden")):(t._staticThumb=t.$.thumb,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden"))),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden"),e.stopPropagation())}_thumbMoveMouseleaveHandler(e){if(this.disabled||this.readonly)return;const t=e.target;if("move"===e.type){const i=t.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset,a=(i.left+i.right)/2+n,s=(i.top+i.bottom)/2+r,o=Math.pow(i.width/2,2);if(Math.pow(e.pageX-a,2)+Math.pow(e.pageY-s,2)>o)return;t.setAttribute("hover","")}else t.removeAttribute("hover")}_documentMoveHandler(e){const t=this;t._thumbDragged&&(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction))}_documentUpHandler(e,t){const i=this;i._thumbDragged&&(i.$thumb.addClass("enable-animation"),i.$secondThumb.addClass("enable-animation"),i.$fill.addClass("enable-animation"),t||("switchUntilReleased"===i.mechanicalAction?i._valuesHandler.validate(!1,i._valueAtDragStart):"switchWhenReleased"===i.mechanicalAction&&i._moveThumbBasedOnCoordinates(e,!0,!0)),i.showTooltip&&i._movedTooltip.addClass("jqx-hidden"),i._thumbDragged=!1,i.removeAttribute("dragged"),i._makeThumbAccessible(),i._movedThumb=void 0,i.$track.removeClass("jqx-dragged"))}_spinButtonClickHandler(e){if(this.disabled||this.readonly)return;let t;t=this.$.leftButton.contains(e.target)===this._normalLayout?"subtract":"add",this._valuesHandler.incrementOrDecrement(t)}_keydownHandlerSlider(e){const t=this,i=e.key;if("Escape"===i&&t._thumbDragged&&"switchWhenReleased"===t.mechanicalAction)return t._documentUpHandler(void 0,!0),void t._valuesHandler.validate(!1,t._valueAtDragStart);-1===["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].indexOf(i)||t.coerce||(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._restoreAnimationClass=!0),this._valuesHandler.keydownHandler(e)}_keyupHandlerSlider(){const e=this;e._restoreAnimationClass&&(e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation"))}_resizeAndStyleChangedHandler(e){const t=this,i=t._valuesHandler;if(t._isVisible()){if(t._renderingSuspended)t._createElement();else if(!t._renderingSuspended&&(t._getMeasurements(),t._setTicksAndInterval(),i.validate(!1,i.getValue(),!0),"styleChanged"===e.type)){const i=e.detail.styleProperties;if(i["font-size"]||i["font-family"]||i["font-style"]||i["font-weight"]){const e=t.getOptimalSize();t.style.width=e.width+"px",t.style.height=e.height+"px"}}}else t._renderingSuspended=!0}_moveThumbBasedOnCoordinates(e,t,i){const n=this,r=n._numericProcessor,a=n._trackStart,s=n._settings.margin;let o=e[n._settings.page];t&&(o=n._valuesHandler.restrictThumbCoordinates(o,a,n._trackEnd));let l=r.pxToValue(o);n.rangeSlider&&n._movedThumb===n.$.thumb&&1===r.compare(l,n.values[1],!0)&&(l=r.createDescriptor(n.values[1]));let d=l;n.logarithmicScale?(l=r.getCoercedValue(Math.log10(l)),d=parseFloat(Math.pow(10,l).toFixed(11))):d=l=r.getCoercedValue(l);const h=(o=r.valueToPx(l)+a)-a;n._movedThumb.style[s]=h-n._measurements.halfThumbSize+"px",n._valuesHandler.updateFillSizeAndPosition(h,s,d,!0,i),JQX.Utilities.Core.isMobile&&e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}_moveThumbBasedOnValue(e,t,i,n){const r=this,a=r._numericProcessor.valueToPx(t),s=r._settings.margin;e.style[s]=a-r._measurements.halfThumbSize+"px";const o=r._getSingleActualValue(t);n?r.rangeSlider&&(r._firstPassSize=a):r._valuesHandler.updateFillSizeAndPosition(a,s,o,i,i)}_validate(e,t,i,n){this._valuesHandler.validate(e,t,n)}_updateValue(e){const t=this._valuesHandler;t.updateValue(t.getActualValue(e))}_makeThumbAccessible(){const e=this;e.rangeSlider&&(e.$.thumb[e._settings.offset]===e.$.secondThumb[e._settings.offset]&&!1===e._numericProcessor.compare(e.values[1],e.max)?e.$thumb.addClass("accessible"):e.$thumb.removeClass("accessible"))}_getSingleActualValue(e){return this.logarithmicScale?parseFloat(Math.pow(10,e).toFixed(11)):e.toString()}_coerceCustomInterval(){const e=this;if(e.coerce){const t=e._valueBeforeCoercion;e._valuesHandler.validate(!1,e._valuesHandler.getValue()),e._valueBeforeCoercion=t}}_wheelHandler(e){const t=this;document.activeElement===t&&t.enableMouseWheelAction&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._keydownHandlerSlider({key:"ArrowRight",which:39,preventDefault:function(){}}):t._keydownHandlerSlider({key:"ArrowLeft",which:37,preventDefault:function(){}}))}_handleDateScale(){const e=this,t=JQX.Utilities.DateTime;super._handleDateScale(),Object.defineProperty(e,"values",{get:function(){return e.context===e?e.properties.values.value:e._valueDate},set(t){function i(e,t){return t instanceof JQX.Utilities.BigNumber?t.toString():t}const n=e.properties.values.value;if(JSON.stringify(n,i)!==JSON.stringify(t,i)&&(e.properties.values.value=t,e.isReady&&(!e.ownerElement||e.ownerElement&&e.ownerElement.isReady)&&e.context!==e)){const i=e.context;e.context=e,e.propertyChangedHandler("values",n,t),e.context=i}}}),e.rangeSlider&&(e._valueDate=[t.validateDate(e.values[0]),t.validateDate(e.values[1])],e.values=[e._valueDate[0].getTimeStamp(),e._valueDate[1].getTimeStamp()]),e._properties.values.serialize="_serializeValue"}_setTicksAndInterval(){const e=this;e._skipTrackReset?delete e._skipTrackReset:e.$.track.style[e._settings.dimension]=null,super._setTicksAndInterval(),e.$.track[e._settings.size]<10&&(e._skipTrackReset=!0,e.$.track.style[e._settings.dimension]=e.getOptimalSize()[e._settings.dimension]+"px",e._getMeasurements(),e._setTicksAndInterval(),e._valuesHandler.validate(!1,e._valuesHandler.getValue()))}}),JQX.Utilities.Assign("SliderSingleValueHandler",class{constructor(e){this.context=e,"date"===e.mode&&(e._getEventValue=function(t){return void 0!==t?JQX.Utilities.DateTime.fromFullTimeStamp(t):e._valueDate.clone()})}applyFunctionToValue(e,t){const i=this.context;return void 0===t&&(t=i.value),e.apply(i,[t])}areDifferent(e){return this.context.value!==e}incrementOrDecrement(e){const t=this.context._keyIncrementDecrement(e);this.validate(!1,t)}setActiveThumbOnTrackClick(){const e=this.context;e._movedThumb=e.$.thumb,e._addMovedThumbClass(),e._movedTooltip=e.$tooltip}getActualValue(e){return this.context._getSingleActualValue(e)}getCoercedLogarithmicValue(e){const t=this.context;if(t.logarithmicScale){const i=t._numericProcessor.getCoercedValue(Math.log10(e));return this.getActualValue(i)}return e}getDrawValue(){return this.context._drawValue}getValue(){return this.context.value}keydownHandler(e){this.context._keydownHandler(e)}moveThumbBasedOnValue(e,t,i){const n=this.context;if(void 0===e&&(e=n.value),n._moveThumbBasedOnValue(n.$.thumb,e,t),!0!==i){n._drawValue=e;const t=this.getActualValue(e);let i;i=void 0!==n._valueNoRangeValidation?n._valueNoRangeValidation.toString():t.toString(),"date"===n.mode&&(n._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i)),n.value=i,delete n._valueBeforeCoercion,this.updateTooltipValue(t)}}restrictThumbCoordinates(e,t,i){return e=Math.max(e,t),e=Math.min(e,i)}updateFillSizeAndPosition(e,t,i,n,r){const a=this.context,s=a.$.fill.style,o=a._settings.dimension;if(a._normalLayout?s[o]=e+"px":(s[o]=a._measurements.trackLength-e+"px",s[t]=e+"px"),n){const e=a.value,t=a._getEventValue(e),n=a._numericProcessor;if(n.compare(n.createDescriptor(i),n.createDescriptor(e))&&(this.updateTooltipValue(i),r)){let e;if(a._drawValue=a.logarithmicScale?Math.log10(i):i,e=void 0!==a._valueNoRangeValidation?a._valueNoRangeValidation.toString():i.toString(),"date"===a.mode&&(a._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e)),a.value=e,delete a._valueBeforeCoercion,!0!==a._programmaticValueIsSet){const e=a._getEventValue();a.$.hiddenInput.value=e,a.$.fireEvent("change",{value:e,oldValue:t})}}}}updateTooltipValue(e){const t=this.context;void 0===e&&(e=t.value);const i=t._formatLabel(e);t.$.tooltipContent.innerHTML!==i&&(t.$.tooltipContent.innerHTML=i,t.$.thumbLabel.innerHTML=i)}updateValue(e){const t=this.context,i=t._numericProcessor.createDescriptor(e,!0,!1);t._drawValue=t.logarithmicScale?Math.log10(i):i,this.moveThumbBasedOnValue(t._drawValue,!0)}validate(e,t,i){const n=this.context,r=n._numericProcessor;let a,s;n._programmaticValueIsSet=i&&"interaction"===n.validation,a=e?n.value:t,n.coerce&&(a=n._numericProcessor.createDescriptor(a,!0,!0,!0)),a=n.logarithmicScale?this.getCoercedLogarithmicValue(a):r.getCoercedValue(a),"strict"===n.validation?(n._valueNoRangeValidation=r.createDescriptor(a,!0,!0,!0),s=n._valueNoRangeValidation):(n._valueNoRangeValidation=r.createDescriptor(a,!0,!0,!1),s=r.validate(n._valueNoRangeValidation,n._minObject,n._maxObject)),e?(n._drawValue=n.logarithmicScale?Math.log10(s):s,a=n._valueNoRangeValidation.toString(),"date"===n.mode&&(n._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(a)),n.value=a,this.moveThumbBasedOnValue(n._drawValue,void 0,!0)):this.updateValue(s),delete n._valueNoRangeValidation,n._programmaticValueIsSet=!1}}),JQX.Utilities.Assign("SliderMultipleValueHandler",class{constructor(e){this.context=e,"date"===e.mode&&(e._getEventValue=function(t,i){const n=[e._valueDate[0].clone(),e._valueDate[1].clone()];return void 0!==t&&(n[i]=JQX.Utilities.DateTime.fromFullTimeStamp(t)),n})}applyFunctionToValue(e,t){const i=this.context,n=[];return void 0===t&&(t=i.values),n[0]=e.apply(i,[t[0]]),n[1]=e.apply(i,[t[1]]),n}areDifferent(e){const t=this.context.values;return t[0]!==e[0]||t[1]!==e[1]}incrementOrDecrement(e){const t=this.context.values.slice(0);let i;t[i="add"===e?1:0]=this.keyIncrementDecrement(e,i),this.validate(!1,t)}keydownHandler(e){const t=this.context;if(t.disabled||t.readonly)return;const i=e.charCode?e.charCode:e.which;if(-1!==[35,36,37,38,39,40].indexOf(i)){e.preventDefault();const n=t.values.slice(0);let r;switch(i){case 40:case 37:r=this.keyIncrementDecrement("subtract",0),n[0]=r,t._movedThumb=t.$.thumb;break;case 38:case 39:r=this.keyIncrementDecrement("add",1),n[1]=r,t._movedThumb=t.$.secondThumb;break;case 36:t._drawValues[0]=t._drawMin,n[0]=t.min,t._movedThumb=t.$.thumb;break;case 35:t._drawValues[1]=t._drawMax,n[1]=t.max,t._movedThumb=t.$.secondThumb}return this.validate(!1,n),!1}}keyIncrementDecrement(e,t){const i=this.context;let n,r;if(i.customInterval&&i.coerce)return n=this.getValue()[t],i._keyIncrementDecrement(e,n.toString());if("date"===i.mode)return-1===(r=(r=(n=i._valueDate[t])[i._dateIncrementMethod](("add"===e?1:-1)*parseFloat(i.interval),!0)).getTimeStamp()).compare(i._drawMin)?new JQX.Utilities.BigNumber(i._drawMin):1===r.compare(i._drawMax)?new JQX.Utilities.BigNumber(i._drawMax):r;const a=i._drawValues[t];return n=i._numericProcessor.createDescriptor(a),r=i._numericProcessor.incrementDecrement(n,e,i._validInterval),i.logarithmicScale&&(i._drawValues[t]=r,r=parseFloat(Math.pow(10,Math.round(r)).toFixed(11))),r}setActiveThumbOnTrackClick(e){const t=this.context,i=t._trackStart+t._measurements.halfThumbSize,n=t._settings.offset,r=t.$.thumb,a=t.$.secondThumb,s=r[n],o=a[n],l=e[t._settings.page];let d=t._normalLayout?i+s+(o-s)/2:i+o+(s-o)/2;t._normalLayout&&l<=d||!t._normalLayout&&l>d?(t._movedThumb=r,t._staticThumb=a,t._movedTooltip=t.$tooltip,t.$secondTooltip.addClass("jqx-hidden")):(t._movedThumb=a,t._staticThumb=r,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden")),t._addMovedThumbClass()}getActualValue(e){return this.context.logarithmicScale?[parseFloat(Math.pow(10,e[0].toString()).toFixed(11)),parseFloat(Math.pow(10,e[1].toString()).toFixed(11))]:[e[0].toString(),e[1].toString()]}getCoercedLogarithmicValue(e){const t=this.context;if(t.logarithmicScale){const i=[];return i[0]=t._numericProcessor.getCoercedValue(Math.log10(e[0])),i[1]=t._numericProcessor.getCoercedValue(Math.log10(e[1])),this.getActualValue(i)}return e}getDrawValue(){return this.context._drawValues}getValue(){return this.context.values.slice(0)}moveThumbBasedOnValue(e,t,i){const n=this.context,r=void 0===t;if(void 0===e&&(e=n.values),n._numericProcessor.restrictValue(e),(r||1===t)&&(n._movedThumb=n.$.secondThumb,n._moveThumbBasedOnValue(n.$.secondThumb,e[1],!0,r)),(r||0===t)&&(n._movedThumb=n.$.thumb,n._moveThumbBasedOnValue(n.$.thumb,e[0],!0)),delete n._firstPassSize,!0!==i){n._drawValues=e;const t=this.getActualValue(e);let i;i=n._valuesNoRangeValidation?[n._valuesNoRangeValidation[0].toString(),n._valuesNoRangeValidation[1].toString()]:t,"date"===n.mode&&(n._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(t[0]),JQX.Utilities.DateTime.fromFullTimeStamp(t[1])]),n.values=i,delete n._valueBeforeCoercion,this.updateTooltipValue()}}restrictThumbCoordinates(e,t,i){const n=this.context,r=t+n._staticThumb[n._settings.offset]+n._measurements.halfThumbSize;return n._movedThumb===n.$.thumb&&n._normalLayout||n._movedThumb===n.$.secondThumb&&!n._normalLayout?(e=Math.max(e,t),e=Math.min(e,i,r)):(e=Math.max(e,t,r),e=Math.min(e,i)),e}updateFillSizeAndPosition(e,t,i,n,r){const a=this.context,s=a.$.fill.style,o=a._settings.dimension,l=a._settings.offset,d=a._measurements.halfThumbSize;let h,c;if(a._movedThumb===a.$.thumb?(h=e-d,c=void 0!==a._firstPassSize?a._firstPassSize-d:a.$.secondThumb[l]):(h=void 0!==a._firstPassSize?a._firstPassSize-d:a.$.thumb[l],c=e-d),a._normalLayout?(s[o]=Math.max(0,c-h)+"px",s[t]=h+d+"px"):(s[o]=Math.max(0,h-c)+"px",s[t]=c+d+"px"),n){const e=a._numericProcessor,t=a._movedThumb===a.$.thumb?0:1,n=a.values[t],s=a._getEventValue(n,t);if(e.compare(e.createDescriptor(i),e.createDescriptor(n))){const e=a.values.slice(0);if(e[t]=i.toString(),this.updateTooltipValue(i,t),r){let t;if(this.updateDrawValues(e),t=a._valuesNoRangeValidation?[a._valuesNoRangeValidation[0].toString(),a._valuesNoRangeValidation[1].toString()]:e,"date"===a.mode&&(a._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(e[0]),JQX.Utilities.DateTime.fromFullTimeStamp(e[1])]),a.values=t,delete a._valueBeforeCoercion,!0!==a._programmaticValueIsSet){const e=a._getEventValue();a.$.hiddenInput.value=e,a.$.fireEvent("change",{value:e,oldValue:s})}}}}}updateDrawValues(e){const t=this.context;t.logarithmicScale?(t._drawValues[0]=Math.log10(e[0]),t._drawValues[1]=Math.log10(e[1])):t._drawValues=e.slice(0)}updateTooltipValue(e,t){const i=this.context;if(void 0===e){const e=i.values,t=i._formatLabel(e[0]),n=i._formatLabel(e[1]);i.$.tooltipContent.innerHTML!==t&&(i.$.tooltipContent.innerHTML=t,i.$.thumbLabel.innerHTML=t),i.$.secondTooltipContent.innerHTML!==n&&(i.$.secondTooltipContent.innerHTML=n)}else{const n=i._formatLabel(e);(0===t&&i.$.tooltipContent.innerHTML!==n||void 0===t)&&(i.$.tooltipContent.innerHTML=n,i.$.thumbLabel.innerHTML=n),(1===t&&i.$.secondTooltipContent.innerHTML!==n||void 0===t)&&(i.$.secondTooltipContent.innerHTML=n,i.$.secondThumbLabel.innerHTML=n)}}updateValue(e){const t=this.context,i=[];let n;i[0]=t._numericProcessor.createDescriptor(e[0],!0,!1),i[1]=t._numericProcessor.createDescriptor(e[1],!0,!1),this.updateDrawValues(i),t._movedThumb===t.$.secondThumb&&(n=1),this.moveThumbBasedOnValue(t._drawValues.slice(0),n)}validate(e,t,i){const n=this.context,r=n._numericProcessor;let a,s=[];n._programmaticValueIsSet=i&&"interaction"===n.validation,a=e?n.values.slice(0):t,n.coerce&&(a[0]=r.createDescriptor(a[0],!0,!0,!0),a[1]=r.createDescriptor(a[1],!0,!0,!0)),n.logarithmicScale?a=this.getCoercedLogarithmicValue(a):(a[0]=r.getCoercedValue(a[0]),a[1]=r.getCoercedValue(a[1])),n._valuesNoRangeValidation=[],n._valuesNoRangeValidation[0]=r.createDescriptor(a[0],!0,!0,!1),n._valuesNoRangeValidation[1]=r.createDescriptor(a[1],!0,!0,!1),n._numericProcessor.restrictValue(n._valuesNoRangeValidation),s[0]=r.validate(n._valuesNoRangeValidation[0],n._minObject,n._maxObject),s[1]=r.validate(n._valuesNoRangeValidation[1],n._minObject,n._maxObject),e?(n._drawValues=[],this.updateDrawValues(s),a=[n._valuesNoRangeValidation[0].toString(),n._valuesNoRangeValidation[1].toString()],"date"===n.mode&&(n._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(s[0]),JQX.Utilities.DateTime.fromFullTimeStamp(s[1])]),n.values=a,this.moveThumbBasedOnValue(n._drawValues,void 0,!0)):this.updateValue(s),delete n._valuesNoRangeValidation,n._programmaticValueIsSet=!1}});var se=Object.freeze({});JQX("jqx-calendar",class extends JQX.BaseElement{static get properties(){return{animationSettings:{value:null,type:"object"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},dateFormatFunction:{value:null,type:"function"},disableAutoNavigation:{value:!1,type:"boolean"},displayMode:{value:"month",allowedValues:["month","year","decade"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},dropDownHeight:{value:"200",type:"string"},dropDownWidth:{value:"initial",type:"string"},firstDayOfWeek:{value:0,type:"number",defaultValue:0,validator:"_firstDayOfWeekValidator"},footerTemplate:{value:null,type:"any"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},importantDates:{value:[],type:"array",defaultValue:[]},importantDatesTemplate:{value:null,type:"any"},max:{value:new Date(2100,1,1),type:"any",defaultValue:new Date(2100,1,1)},min:{value:new Date(1900,1,1),type:"any",defaultValue:new Date(1900,1,1)},months:{value:1,type:"number",defaultValue:1,validator:"_monthsValidator"},monthNameFormat:{value:"long",allowedValues:["narrow","firstTwoLetters","long","short","2-digit","numeric"],type:"string"},name:{value:"",type:"string"},restrictedDates:{value:[],type:"array",defaultValue:[]},scrollButtonsNavigationMode:{value:"landscape",allowedValues:["portrait","landscape"],type:"string"},scrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedDates:{value:[],type:"array"},selectionMode:{value:"default",allowedValues:["none","default","one","many","zeroOrMany","oneOrMany","zeroOrOne","week"],type:"string"},spinButtonsDelay:{value:80,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},titleTemplate:{value:null,type:"any"},tooltip:{value:!1,type:"boolean"},tooltipDelay:{value:100,type:"number"},tooltipPosition:{value:"top",allowedValues:["bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"},viewSections:{value:["header"],type:"array"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number",defaultValue:6,validator:"_weeksValidator"},yearFormat:{value:"numeric",allowedValues:["2-digit","numeric"],type:"string"}}}static get listeners(){return{"container.down":"_downHandler","document.up":"_documentUpHandler","container.move":"_moveHandler","container.wheel":"_containerWheelHandler","body.focus":"_bodyFocusStateHandler","body.blur":"_bodyBlurStateHandler","header.click":"_headerClickHandler","header.change":"_headerChangeHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler","listViewContainer.keydown":"_listViewContainerKeyDownHandler","listViewContainer.change":"_listViewContainerChangeEventHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","container.mouseover":"_mouseEventsHandler","container.mouseout":"_mouseEventsHandler","tooltip.open":"_tooltipEventHandler","tooltip.close":"_tooltipEventHandler"}}static get methods(){return{select:"select(date=new Date(): date|string): void",clearSelection:"clearSelection(): void",today:"today(): date",navigate:"navigate(step: int): bool"}}static get styleUrls(){return["jqx.button.css","jqx.dropdownlist.css","jqx.dropdown.css","jqx.tooltip.css","jqx.calendar.css"]}template(){return'<div id="container">\n                    <div id="title" class="jqx-calendar-title">\n                        <div id="yearContainer" class="jqx-calendar-year-container"></div>\n                        <div id="dateContainer" class="jqx-calendar-date-container jqx-calendar-selected"></div>\n                    </div>\n                    <div id="calendarContainer" class="jqx-calendar-container">\n                        <div id="header" class="jqx-calendar-header">\n                            <jqx-repeat-button prev-month class="jqx-calendar-button" id="previousMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                <div class="jqx-arrow">&#xe809</div>\n                            </jqx-repeat-button>\n                            <div id="dateElement" class="jqx-calendar-date-element">\n                                <div id="defaultHeaderDate"></div>\n                                <div id="classicHeaderDate">\n                                    <jqx-drop-down-list class="jqx-calendar-month-element" id="monthElement" drop-down-position="bottom" selection-mode="one" disabled="[[disabled]]" readonly="[[readonly]]" drop-down-width="[[dropDownWidth]]" drop-down-height="[[dropDownHeight]]" theme="[[theme]]">\n                                    </jqx-drop-down-list>\n                                    <input class="jqx-calendar-year-element" id="yearElement" disabled="[[disabled]]" readonly="[[readonly]]"/>\n                                    <span class="jqx-calendar-year-elements">\n                                        <jqx-repeat-button next-year class="jqx-calendar-button" id="nextYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                            <span class="jqx-arrow">&#xe801</span>\n                                        </jqx-repeat-button>\n                                        <jqx-repeat-button prev-year class="jqx-calendar-button" id="previousYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                            <span class="jqx-arrow">&#xe804</span>\n                                        </jqx-repeat-button>\n                                    </span>\n                                </div>\n                            </div>\n                            <jqx-repeat-button next-month class="jqx-calendar-button" id="nextMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]">\n                                <div class="jqx-arrow">&#xe810</div>\n                            </jqx-repeat-button>\n                        </div>\n                        <div id="body" class="jqx-content jqx-calendar-body">\n                           <div id="monthsContainer" class="jqx-calendar-months-container">\n                              <div id="month" class="jqx-calendar-month">\n                                   <div id="monthName" class="jqx-calendar-month-name"></div>\n                                   <div id="weekTitles" class="jqx-calendar-week-titles">\n                                       <div class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                       <div  class="jqx-calendar-week-title"></div>\n                                   </div>\n                                   <div id="weeks" class="jqx-calendar-weeks">\n                                        <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                        </div>\n                                        <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week">\n                                           <div class="jqx-calendar-week-number"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"></div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                           <div class="jqx-calendar-cell"> </div>\n                                       </div>\n                                   </div>\n                                </div>\n                            </div>\n                            <div id="dateViewContainer" class="jqx-calendar-date-view-container jqx-hidden">\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                                    <div class="jqx-calendar-cell"></div>\n                            </div>\n                            <div id="monthsSeparator" class="jqx-calendar-month-separator"></div>\n                            <div id="nextMonthsContainer" class="jqx-calendar-next-months-container"></div>\n                            <jqx-list-box item-height="30" unfocusable id="listViewContainer" selection-mode="one" class="jqx-calendar-list-view jqx-hidden" animation="simple"></jqx-list-box>\n                            <div id="animationPanel" class="jqx-calendar-animation-panel jqx-hidden"></div>\n                        </div>\n                        <div id="footer" class="jqx-calendar-footer jqx-hidden">\n                            <div id="selectedDatesRange"></div>\n                        </div>\n                        <jqx-tooltip id="tooltip" open-mode="manual" arrow\n                                   tooltip-template="[[tooltipTemplate]]"\n                                   position="[[tooltipPosition]]"\n                                   delay="[[tooltipDelay]]"\n                                   disabled="[[disabled]]">\n                         </jqx-tooltip>\n                        <input id="hiddenInput" type="hidden" name="[[name]]">\n                    </div>\n                </div>'}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"animationSettings":n._applyAnimationSettings();break;case"disabled":case"unfocusable":n._setFocusable();break;case"calendarMode":n.displayMode="month",n._refreshCalendarMode(),n._setDisplayModeContent();break;case"dayNameFormat":n._refreshDayOfWeekTitles(n.$.month);break;case"dateFormatFunction":{let e=n.$.monthsContainer.children;for(let t=0;t<e.length;t++)e[t].firstElementChild.innerHTML=i?i(e[t]._date):n._monthsNames[e[t]._date.getMonth()]+" "+e[t]._date.toLocaleDateString(n.locale,{year:n.yearFormat});n._refreshHeaderTitle();break}case"displayMode":n._setDisplayMode(t,i);break;case"displayModeView":n._applyAnimationSettings(!0),"month"!==n.displayMode&&n._setDisplayModeContent();break;case"firstDayOfWeek":n._handleMonths(),n._refreshDayOfWeekTitles();break;case"hideTooltipArrow":n.$.tooltip.arrow=!i;break;case"titleTemplate":case"headerTemplate":case"footerTemplate":n._handleLayoutTemplate(n.$[e.split(/[T]/)[0]],i),"titleTemplate"===e?n._refreshTitle():"headerTemplate"===e?n._refreshHeaderTitle():n._refreshFooter();break;case"importantDates":n.importantDates=n._getValidDates(i),n._refreshImportantDates();break;case"importantDatesTemplate":n._handleImportantDateTemplate(),n._refreshImportantDates();break;case"locale":n._refreshMonthNames(),n._refreshDayOfWeekTitles(),n._refreshHeaderTitle(),n._refreshTitle(),n._refreshFooter(),n.displayMode&&"month"!==n.displayMode&&n._setDisplayModeContent();break;case"max":case"min":n._validateMinMax(e,i,t),n._validateSelectedDates(),n._noFocusingRequired=!1,n._refreshHeaderElements();break;case"months":n._handleMonths();break;case"monthNameFormat":n._refreshCalendarMode(),n._refreshHeaderTitle();break;case"restrictedDates":n._setRestrictedDates(n.restrictedDates=n._getValidDates(i));break;case"rightToLeft":n._refreshDayOfWeekTitles(),n._handleMonths();break;case"scrollButtonsNavigationMode":n._setScrollButtonsNavigationMode();break;case"selectedDates":if(n._clearSelection(!0),n._validateSelectedDates(n._getValidDates(i)),n._applySelectionMode(!0),n._viewDates){let e=n.selectedDates[n.selectedDates.length-1];n._isDateInView(e)?n.selectedDates.map(e=>n._selectDate(e,!0,!0)):n._handleMonths(e)}n._refreshFooter(),n._setWeeksVisibility(n.$.monthsContainer),n.$.hiddenInput.value=n.selectedDates.toString(),n.$.fireEvent("change",{value:n.selectedDates}),n._refreshTitle();break;case"selectionMode":n._applySelectionMode(),n._refreshTitle();break;case"view":n._refreshTitle();break;case"viewSections":i.indexOf("title")>-1?n.$title.removeClass("jqx-hidden"):n.$title.addClass("jqx-hidden"),n._refreshTitle(),i.indexOf("header")>-1?n.$header.removeClass("jqx-hidden"):n.$header.addClass("jqx-hidden"),n._refreshHeaderTitle(),i.indexOf("footer")>-1?n.$footer.removeClass("jqx-hidden"):n.$footer.addClass("jqx-hidden"),n._refreshFooter(),n._setFocusable();break;case"weeks":n._setWeeksVisibility(n.$.monthsContainer);break;case"yearFormat":if(n._refreshCalendarMode(),n._refreshFooter(),n.months>1&&"month"===n.displayMode){let e=n._animationStarted?n.$.nextMonthsContainer.children:n.$.monthsContainer.children;for(let t=0;t<e.length;t++)e[t].firstElementChild.innerHTML=n.dateFormatFunction?n.dateFormatFunction(e[t]._date):n._monthsNames[e[t]._date.getMonth()]+" "+e[t]._date.toLocaleDateString(n.locale,{year:i})}n._refreshTitle(),n._refreshHeaderTitle()}}ready(){super.ready();const e=this;e._keysPressed={},e._applyAnimationSettings(),e.importantDates=e._getValidDates(e.importantDates),e.restrictedDates=e._getValidDates(e.restrictedDates),e._refreshMonthNames(),e._validateMinMax(),e._validateSelectedDates(e._getValidDates(e.selectedDates)),e._handleLayoutTemplate(e.$.title,e.titleTemplate),e._handleLayoutTemplate(e.$.header,e.headerTemplate),e._handleLayoutTemplate(e.$.footer,e.footerTemplate),e._handleImportantDateTemplate(),e._setFocusable(),e._refreshDayOfWeekTitles(),e._applySelectionMode(!0),e._handleMonths(0===e.selectedDates.length?new Date((new Date).setHours(0,0,0,0)):e.selectedDates[e.selectedDates.length-1]),e._updateViewSectionsVisibility(),e._setScrollButtonsNavigationMode(),e._refreshCalendarMode(),e._setDisplayMode(),e._refreshTitle(),e._refreshFooter(),e._refreshImportantDates(),e.$.monthElement&&e.$.monthElement._setDropDownSize(),e._changeEventFired=0}_updateViewSectionsVisibility(){this.viewSections.indexOf("title")>-1?this.$title.removeClass("jqx-hidden"):this.$title.addClass("jqx-hidden"),this.viewSections.indexOf("header")>-1?this.$header.removeClass("jqx-hidden"):this.$header.addClass("jqx-hidden"),this.viewSections.indexOf("footer")>-1?this.$footer.removeClass("jqx-hidden"):this.$footer.addClass("jqx-hidden")}clearSelection(){this._clearSelection()}_setFocusable(){const e=this;let t=e.tabIndex>0?e.tabIndex:0;function i(e,i){if(i)return e&&e instanceof i?("function"==typeof e._setFocusable&&e.isCompleted?e.unfocusable=t<=-1:e.setAttribute("tabindex",t),e):void 0}(e.disabled||e.unfocusable)&&(t=-1),e.$.previousMonthButton=i(e.$.previousMonthButton,JQX.Button),e.$.nextMonthButton=i(e.$.nextMonthButton,JQX.Button),e.$.nextYearButton=i(e.$.nextYearButton,JQX.Button),e.$.previousYearButton=i(e.$.previousYearButton,JQX.Button),e.$.monthElement=i(e.$.monthElement,JQX.DropDownList),e.$.yearElement=i(e.$.yearElement,HTMLInputElement),e.viewSections.indexOf("title")>-1&&(e.$.dateContainer.setAttribute("tabindex",t),e.$.yearContainer.setAttribute("tabindex",t)),e.$.body.setAttribute("tabindex",t),"default"===e.calendarMode?e.$.dateElement.setAttribute("tabindex",t):e.$.dateElement.removeAttribute("tabindex"),e.tabIndex=e.readonly&&!e.disabled?e.tabIndex>0?e.tabIndex:0:t}static get requires(){return{"JQX.DropDownList":"jqxdropdownlist.js","JQX.ListBox":"jqxlistbox.js","JQX.RepeatButton":"jqxbutton.js","JQX.Tooltip":"jqxtooltip.js"}}navigate(e){const t=this;if(e=parseInt(e),isNaN(e)||0===e)return!1;const i=t._getNextDate(e);return!!i&&("month"!==t.displayMode?(t.hasAnimation?(t.$nextMonthsContainer.addClass("jqx-calendar-date-view-container"),"list"===t.displayModeView?t._setDisplayModeContent(i):t._navigationDate&&t._navigationDate.getTime()===i.getTime()||t._animateNavigation(i,e)):t._setDisplayModeContent(i),!0):(t.hasAnimation?(t._animateNavigation(i,e),t.$nextMonthsContainer.hasClass("jqx-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-date-view-container")):(t._handleMonths(i),t._refreshHeaderElements(),t._refreshHeaderTitle()),!0))}select(e){const t=this;void 0!==t._viewDates[0]&&"none"!==t.selectionMode&&e&&(e=t._getValidDate(e))instanceof Date&&("one"===t.selectionMode&&t.selectedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<t.min.getTime()||e.getTime()>t.max.getTime()||("one"!==t.selectionMode&&"default"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._clearSelection(!0),t._selectDate(e),1!==t.selectedDates.length||t._isDateInView(t.selectedDates[0])||t._handleMonths(t.selectedDates[0])))}today(){const e=this;let t=new Date;return t.setHours(0,0,0,0),t.getTime()<e.min.getTime()||t.getTime()>e.max.getTime()?t=new Date(e.max):e.selectedDates=[t],e._handleMonths(t),t}_animateNavigation(e,t,i){const n=this;n._navigationDate=e,n._animationSettings||n._applyAnimationSettings(),n.$animationPanel.addClass("jqx-hidden"),n.$.dateViewContainer.style.transform="",n.$.dateViewContainer.style.opacity="",n.$.monthsContainer.style.transform="",n.$.monthsContainer.style.opacity="";const r="month"!==n.displayMode?n.$.dateViewContainer:n.$.monthsContainer,a=n.$.body[n._animationSettings.scrollMax]-n.$.body[n._animationSettings.size];n._scrollStep=n.$.body[n._animationSettings.size]*n._animationSettings.startSpeed,n._animationStarted=!0,"month"!==n.displayMode?(n._setCellState(n._focusedCell,"focus",!1),n._setDisplayModeContent(e,n.$.nextMonthsContainer)):n._handleMonths(e,n.$.nextMonthsContainer),i||(t>0?(r.style.order=1,n.$.nextMonthsContainer.style.order=3,(!n._animationStarted||n._animationStarted&&n.$.body[n._animationSettings.scrollSize]>n.$.body[n._animationSettings.scrollMax]*n._animationSettings.resetThreshold*2)&&(n.$.body[n._animationSettings.scrollSize]=0)):(r.style.order=3,n.$.nextMonthsContainer.style.order=1,(!n._animationStarted||n._animationStarted&&n.$.body[n._animationSettings.scrollSize]<n.$.body[n._animationSettings.scrollMax]*n._animationSettings.resetThreshold)&&(n.$.body[n._animationSettings.scrollSize]=n.$.body[n._animationSettings.scrollMax]))),cancelAnimationFrame(n._animationId),n._animationId=requestAnimationFrame(function e(){let i=t>0?n.$.body[n._animationSettings.scrollSize]>=a:0===n.$.body[n._animationSettings.scrollSize],r=n._scrollStep/2;i?n._animateNavigationCompleted():(t>0&&n.$.body[n._animationSettings.scrollSize]>a*n._animationSettings.easeThreshold?(r=Math.max(n.$.body[n._animationSettings.scrollSize]/n._animationSettings.stepEaseSize,Math.abs(r-(a-n.$.body[n._animationSettings.scrollSize])*n._animationSettings.step)),n._scrollStep=n._scrollStep*n._animationSettings.step+r):t<0&&n.$.body[n._animationSettings.scrollSize]<a*n._animationSettings.easeThreshold&&(r=Math.max(n.$.body[n._animationSettings.scrollMax]/n._animationSettings.stepEaseSize,Math.abs(r-n.$.body[n._animationSettings.scrollSize]*n._animationSettings.step)),n._scrollStep=n._scrollStep*n._animationSettings.step+r),n.$.body[n._animationSettings.scrollSize]+=t>0?n._scrollStep:-n._scrollStep,n._animationId=requestAnimationFrame(e))})}_animateNavigationCompleted(){const e=this;let t,i,n,r="month"!==e.displayMode?e.$.dateViewContainer:e.$.monthsContainer;if(cancelAnimationFrame(e._animationId),"month"!==e.displayMode){let a=[].slice.call(r.children).indexOf(e._focusedCell);r.innerHTML=e.$.nextMonthsContainer.innerHTML;let s,o=r.children[a];i=r.children,n=e.$.nextMonthsContainer.children;for(let t=0;t<i.length;t++)i[t].value=n[t].value,i[t].restricted=n[t].restricted,i[t].important=n[t].important,i[t].otherMonth=n[t].otherMonth,i[t].value.getTime()<=e.max.getTime()&&(s=i[t]);t=o&&o.value.getTime()>=e.max.getTime()?s.value:e._focusedCell?e._focusedCell.value:void 0}else{let t=r.children,a=e.$.nextMonthsContainer.children;for(let r=0;r<t.length;r++){t[r]._date=a[r]._date,t[r].innerHTML=a[r].innerHTML,i=e._getMonthCells(t[r]),n=e._getMonthCells(a[r]);for(let e=0;e<i.length;e++)i[e].value=n[e].value,i[e].restricted=n[e].restricted,i[e].important=n[e].important,i[e].otherMonth=n[e].otherMonth}e._selectedCells.length>0&&(e._selectedCells=e._selectedCells.map(t=>t=e._getCellByDate(t.value)).filter(e=>void 0!==e))}e._focusCell(e._getCellByDate(t)),r.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,e._animationStarted=!1,delete e._navigationDate}_applyAnimationSettings(e){const t=this;t.hasAnimation?(t._animationSettings=t.animationSettings?t.animationSettings:t._animationSettings?t._animationSettings:{},"portrait"===t.scrollButtonsNavigationMode?(t._animationSettings.scrollMax="scrollHeight",t._animationSettings.size="offsetHeight",t._animationSettings.scrollSize="scrollTop"):(t._animationSettings.scrollMax="scrollWidth",t._animationSettings.size="offsetWidth",t._animationSettings.scrollSize="scrollLeft"),e||(t._animationSettings.startSpeed=t._animationSettings.startSpeed?t._animationSettings.startSpeed:.2,t._animationSettings.easeThreshold=t._animationSettings.easeThreshold?t._animationSettings.easeThreshold:.5,t._animationSettings.step=t._animationSettings.step?t._animationSettings.step:.25,t._animationSettings.stepEaseSize=t._animationSettings.stepEaseSize?t._animationSettings.stepEaseSize:200,t._animationSettings.resetThreshold=t._animationSettings.resetThreshold?t._animationSettings.resetThreshold:.2)):delete t._animationSettings}_applySelectionMode(e){const t=this;let i=[],n=!!e;switch(t.selectionMode){case"none":return void t._clearSelection(n);case"many":case"default":case"oneOrMany":if(0===t.selectedDates.length){i.push(new Date(Math.min(Math.max(t.min.getTime(),(new Date).setHours(0,0,0,0)),t.max.getTime())));break}return;case"one":if(1===t.selectedDates.length)return;t.selectedDates.length>1?(i.push(t.selectedDates[t.selectedDates.length-1]),t._clearSelection(n)):i.push(new Date(Math.min(Math.max(t.min.getTime(),(new Date).setHours(0,0,0,0)),t.max.getTime())));break;case"zeroOrOne":if(t.selectedDates.length>1){i.push(t.selectedDates[t.selectedDates.length-1]),t._clearSelection(n);break}return;case"zeroOrMany":return;case"week":if(t.selectedDates.length>=1){let e=t.selectedDates[t.selectedDates.length-1];for(let t=0;t<8;t++)i.push(new Date(e)),e.setDate(e.getDate()+1);t._clearSelection(n)}}if(t.selectedDates=[],e)return void(t.selectedDates=i);const r=i.length;for(let e=0;e<r;e++)t._selectDate(i[e],e<r-1)}_clearSelection(e){const t=this;if(t._selectedCells&&t._selectedCells.map(e=>{t._setCellState(e,"selected",!1)}),t.selectedDates=[],t._selectedCells=[],"many"===t.selectionMode){const e=t.$.monthsContainer.children;for(let i=0;i<e.length;i++)t._getMonthCells(e[i]).map(e=>{t._setCellState(e,"hover",!1)})}t._refreshFooter(),t.$.hiddenInput.value=t.selectedDates.toString(),e||t.$.fireEvent("change",{value:[]}),t._refreshTitle()}_bodyBlurStateHandler(e){this._bodyStateHandler(e)}_bodyFocusStateHandler(e){this._bodyStateHandler(e)}_bodyStateHandler(e){const t=this;if(t._focusedCell){if("blur"===e.type||"focus"===e.type&&t._noFocusingRequired)return t._noFocusingRequired=!1,void t._setCellState(t._focusedCell,"focus",!1);if("month"!==t.displayMode)return void("focus"!==e.type||t.$.dateViewContainer.querySelector("jqx-calendar-cell[focus]")||t._setCellState(t._focusedCell||t.$.dateViewContainer.querySelector(".jqx-calendar-cell"),"focus",!0))}"focus"===e.type&&t._focusCell()}_containerWheelHandler(e){const t=this;if(t.disabled||t.readonly)return;let i,n,r;r=n=document.activeElement,t.enableShadowDOM&&(n=(r=t.shadowRoot.activeElement)?r?t.shadowRoot.getRootNode().host:void 0:(r=function(){let e=t.shadowRoot;for(;e&&e.host;){if(e.activeElement)return e.activeElement;e=e.host.getRootNode()}}())?r.closest("jqx-calendar"):void 0),t.$.yearElement===r&&(i=12),n&&n.closest("jqx-calendar")===t&&(i=e.target===t.$.yearElement?12:1),i&&(e.preventDefault(),i=12===i?i:i*t.months,e.deltaY>0?t.navigate(-i):t.navigate(i))}_downHandler(e){const t=this;let i=e.originalEvent.target;if(t._dragStartDetails=void 0,t.disabled||t.readonly)return;if(t.hasRippleAnimation&&(i.value instanceof Date||i.parentElement&&i.parentElement.classList.contains("jqx-calendar-title")||i.parentElement===t.$.dateElement)&&JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i=e.originalEvent.target.closest(".jqx-calendar-header"),e.originalEvent.target.closest(".jqx-calendar-year-container")&&"decade"!==t.displayMode){if("classic"===t.calendarMode)return;return void t._showDateView("year")}if(e.originalEvent.target.closest(".jqx-calendar-date-container")&&"month"!==t.displayMode){if("classic"===t.calendarMode)return;return void t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell,"month")}if(t._animationStarted&&t._animateNavigationCompleted(),JQX.Utilities.Core.isMobile&&(!i||i!==t.$.header))return void(t._dragStartDetails={x:e.pageX,y:e.pageY,startTime:Date.now(),target:e.originalEvent.target});if((i=e.originalEvent.target).closest(".jqx-calendar-week")||i.parentElement===t.$.dateViewContainer){for(;i&&!(i.value instanceof Date);)i=i.parentElement;return void(i&&("month"!==t.displayMode?t._displayModeHandler(i):t._weeksDownHandler(e,i)))}if(i.closest(".jqx-calendar-month-element"))return;if(e.originalEvent.stopPropagation(),"list"===t.displayModeView&&"month"!==t.displayMode)return void((i=(t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest("jqx-list-item"))&&t._displayModeHandler(i));const n=document.scrollingElement||document.documentElement,r=n.scrollLeft,a=n.scrollTop;t.focus(),window.scrollTo(r,a)}_displayModeHandler(e,t){const i=this;if(i._animationStarted&&i._animateNavigationCompleted(),e instanceof HTMLElement&&e.parentElement.classList.contains("jqx-calendar-week")&&e.otherMonth){if("decade"===i.displayMode&&(e.value.getFullYear()<i.min.getFullYear()||e.value.getFullYear()>i.max.getFullYear()))return;if("year"===i.displayMode&&(e.value.getFullYear()<i.min.getFullYear()||e.value.getFullYear()===i.min.getFullYear()&&e.value.getMonth()<i.min.getMonth()||e.value.getFullYear()>i.max.getFullYear()||e.value.getFullYear()===i.max.getFullYear()&&e.value.getMonth()>i.max.getMonth()))return}switch(t=t||i.displayMode){case"year":t="month";break;case"decade":t="year"}i.displayMode!==t&&(i.$.fireEvent("displayModeChanging",{oldDisplayMode:i.displayMode,newDisplayMode:t}).defaultPrevented||(i.displayMode=t,i.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),e.parentElement!==i.$.dateViewContainer||e.disabled||e.restricted||i._focusCell(e),i.hasAnimation?(e instanceof JQX.ListItem||e.ownerListBox===i.$.listViewContainer?e.offsetHeight?i.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.dataItem.top>0?e.offsetTop-e.offsetHeight/2:e.offsetTop+e.offsetHeight/2)+"px":i.$.animationPanel.style.transformOrigin=i.$.listViewContainer.offsetLeft+i.$.listViewContainer.offsetWidth/2+"px "+(i.$.listViewContainer.offsetTop+i.$.listViewContainer.offsetHeight/2)+"px":(e=i._focusedCell,i.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px"),i._animateView(1,e)):i._setDisplayModeContent(e.value instanceof Date?e.value:new Date(e.value))))}_animateView(e,t){const i=this;let n,r,a=t instanceof Date?t:new Date(t.value),s=!1,o=1,l=1;if("list"===i.displayModeView?(n=t instanceof JQX.ListItem||t.ownerListBox===i.$.listViewContainer?i.$.listViewContainer:"month"!==i.displayMode?i.$.monthsContainer:i.$.listViewContainer,r="month"===i.displayMode?i.$.monthsContainer:i.$.listViewContainer):t.value instanceof Date||(t=i._focusedCell?i._focusedCell:i._selectedCells.length>0?i._selectedCells[i._selectedCells.length-1]:i._getCellByDate(new Date)),n||(n=t.parentElement===i.$.dateViewContainer?i.$.dateViewContainer:i.$.monthsContainer),r||(r="month"===i.displayMode?i.$.monthsContainer:i.$.dateViewContainer),r.style.transformOrigin=i.$.animationPanel.style.transformOrigin,n instanceof JQX.ListBox)for(i.$.animationPanel.innerHTML="",i.$.animationPanel.appendChild(n.cloneNode(!1));n.$.itemsInnerContainer.firstElementChild;)i.$.animationPanel.children[0].appendChild(n.$.itemsInnerContainer.firstElementChild);else i.$.animationPanel.innerHTML=n.innerHTML;if(i._setDisplayModeContent(a),i.$.animationPanel.style.width=i.$.body.offsetWidth+"px",i.$.animationPanel.style.height=i.$.body.offsetHeight+"px",i.$.animationPanel.style.transform="scale(1)",i.$.animationPanel.style.opacity=1,i.$animationPanel.removeClass("jqx-hidden"),r.style.opacity="0",r.style.transform="scale(3.5)",n.$.hasClass("jqx-calendar-date-view-container")?i.$animationPanel.addClass("jqx-calendar-date-view-container"):i.$animationPanel.removeClass("jqx-calendar-date-view-container"),n instanceof JQX.ListBox){const e=i.$.animationPanel.children[0];e.whenReady(function(){e._refreshLayout(),e.ensureVisible(e.selectedValues[0])})}cancelAnimationFrame(i._animationId),i._animationId=requestAnimationFrame(function t(){if((e>0&&o>=3.5||e<0&&o<=0)&&(s=!0),s)return cancelAnimationFrame(i._animationId),i.$animationPanel.addClass("jqx-hidden"),i.$.animationPanel.style.transform="",i.$.animationPanel.style.opacity="",r.style.transform="",r.style.opacity="",void("month"===i.displayMode?i.$.body.focus():"list"===i.displayModeView&&i.focus());i.$.animationPanel.style.opacity=l,r.style.opacity=1-l,l-=.05,e>0?(i.$.animationPanel.style.transform="scale("+o+")",r.style.transform="scale("+Math.min((o-1)/2,1)+")",o+=.125):(i.$.animationPanel.style.transform="scale("+Math.max(o,0)+")",r.style.transform="scale("+Math.max(1+o,1)+")",o-=.06),i._animationId=requestAnimationFrame(t)})}_documentUpHandler(e){const t=this;if(!JQX.Utilities.Core.isMobile||!t._dragStartDetails)return;const i=Date.now();let n=e.originalEvent.target,r={};if("portrait"===t.scrollButtonsNavigationMode?(r.coordinate="y",r.direction="pageY"):(r.coordinate="x",r.direction="pageX"),Math.abs(t._dragStartDetails[r.coordinate]-e[r.direction])<=10){if(!(n="list"===t.displayModeView&&"month"!==t.displayMode?n.closest("jqx-list-item"):n))return void(t._dragStartDetails=void 0);if("month"!==t.displayMode)return t._displayModeHandler(n),"portrait"===t.scrollButtonsNavigationMode?t.$.body.scrollTop=0:t.$.body.scrollLeft=0,void(t._dragStartDetails=void 0);if(t._weeksDownHandler(e,n),!t.disableAutoNavigation&&n.otherMonth)return}else{const n=Math.abs((e[r.direction]-t._dragStartDetails[r.coordinate])/(i-t._dragStartDetails.startTime));if(n>1){const e=parseInt(n);for(let i=0;i<e;i++)t.navigate(t._dragStartDetails.step);return void(t._dragStartDetails=void 0)}}if(!t.hasAnimation)return void(t._dragStartDetails=void 0);let a=("month"!==t.displayMode?t.$.dateViewContainer[t._animationSettings.scrollMax]:t.$.monthsContainer[t._animationSettings.scrollMax])+t.$.monthsSeparator[t._animationSettings.size];if(t._dragStartDetails.step>0&&t.$.body[t._animationSettings.scrollSize]>a*t._animationSettings.easeThreshold||t._dragStartDetails.step<0&&t.$.body[t._animationSettings.scrollSize]<a*t._animationSettings.easeThreshold)return t._animateNavigation(t._dragStartDetails.navigationDate,t._dragStartDetails.step,!0),void(t._dragStartDetails=void 0);t._animateMonthRepositioning(void 0,t._dragStartDetails.step),t._dragStartDetails=void 0}_animateMonthRepositioning(e,t){const i=this,n="month"!==i.displayMode?i.$.dateViewContainer:i.$.monthsContainer;i._animationSettings||i._applyAnimationSettings();const r=n[i._animationSettings.scrollMax]+i.$.monthsSeparator[i._animationSettings.size];i._scrollStep=i.$.body[i._animationSettings.size]*i._animationSettings.startSpeed,cancelAnimationFrame(i._animationId),i._animationId=requestAnimationFrame(function e(){let a=t<0?i.$.body[i._animationSettings.scrollSize]>=r:0===i.$.body[i._animationSettings.scrollSize],s=i._scrollStep/2;if(a)return cancelAnimationFrame(i._animationId),n.style.order=1,i.$.nextMonthsContainer.style.order=3,i.$.body[i._animationSettings.scrollSize]=0,void(i._animationStarted=!1);t>0?(s=Math.max(i.$.body[i._animationSettings.scrollMax]/i._animationSettings.stepEaseSize,Math.abs(s-i.$.body[i._animationSettings.scrollSize]*i._animationSettings.step)),i._scrollStep=i._scrollStep*i._animationSettings.step+s):(s=Math.max(i.$.body[i._animationSettings.scrollMax]/i._animationSettings.stepEaseSize,Math.abs(s-(r-i.$.body[i._animationSettings.scrollSize])*i._animationSettings.step)),i._scrollStep=i._scrollStep*i._animationSettings.step+s),i.$.body[i._animationSettings.scrollSize]+=t<0?i._scrollStep:-i._scrollStep,i._animationId=requestAnimationFrame(e)}),i._animationStarted=!0}_focusCell(e){const t=this;if(t._focusedCell&&t._setCellState(t._focusedCell,"focus",!1),!t.disabled&&!t.readonly){if(e){if("month"!==t.displayMode)return t._setCellState(e,"focus",!0),void(t._focusedCell=e);if(e.disabled||e.restricted)return;return t._setCellState(e,"focus",!0),t._focusedCell=e,void t._updateWeeksVisibility()}if("month"===t.displayMode||0!==t.$.monthsContainer.offsetHeight){if(t._selectedCells.length>0){const e=t._selectedCells[t._selectedCells.length-1];t._setCellState(e,"focus",!0),t._focusedCell=e}else{const e=t.$.monthsContainer.children;if(t.min.getTime<e[0]._date.getTime())return;const i=t._getMonthCells(e[0],t.rightToLeft);for(let e=0;e<i.length;e++){const n=i[e];if(!n.otherMonth){if(n.disabled||n.restricted)continue;t._focusedCell=n;break}}}t._focusedCell&&(t._setCellState(t._focusedCell,"focus",!0),t._updateWeeksVisibility())}}}_getDays(e,t){const i=t.length;let n=[];if(i>0)for(let r=0;r<i;r++)t[r].getFullYear()===e.getFullYear()&&t[r].getMonth()===e.getMonth()&&n.push(t[r].getDate());return n}_getCellByDate(e,t){const i=this;if(!(e instanceof Date))return;if(t||(t=i.$.monthsContainer),"month"!==i.displayMode){if("list"===i.displayModeView)return;let t=arguments[1]?i.$.nextMonthsContainer.children:i.$.dateViewContainer.children;for(let n=0;n<t.length;n++)if("year"!==i.displayMode){if(t[n].value.getFullYear()===e.getFullYear())return t[n]}else if(t[n].value.getMonth()===e.getMonth())return t[n];return}let n,r,a=t.children;for(let t=0;t<a.length;t++)if(e.getFullYear()===a[t]._date.getFullYear()&&e.getMonth()===a[t]._date.getMonth()){n=a[t];break}if(n){r=i._getMonthCells(n);for(let t=0;t<r.length;t++)if((!r[t].otherMonth||r[t].hover)&&r[t].value.getMonth()===e.getMonth()&&r[t].value.getDate()===e.getDate())return r[t]}}_getMonthCells(e,t){const i=e.getElementsByClassName("jqx-calendar-week");let n=[];if(t)for(let e=0;e<i.length;e++){let t=i[e].children;for(let e=t.length-1;e>0;e--)n.push(t[e])}else for(let e=0;e<i.length;e++){let t=i[e].children;for(let e=1;e<t.length;e++)n.push(t[e])}return n}_getWeekNumber(e){const t=this;let i,n=new Date(e.getFullYear(),0,1),r=Math.round((e.getTime()-n.getTime()-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1,a=n.getDay()-t.firstDayOfWeek;return(a=a>=0?a:a+7)<4?(i=Math.floor((r+a-1)/7)+1)>52&&(i=(a=(a=(n=new Date(e.getFullYear()+1,0,1)).getDay()-t.firstDayOfWeek)>=0?a:a+7)<4?1:53):i=Math.round((r+a-1)/7),i}_handleDateSelection(e){const t=this;if(void 0!==e&&!e.disabled&&!e.restricted)switch(t.selectionMode){case"none":t._focusCell(e);break;case"one":case"default":if(t._keysPressed.Control)return t.selectedDates.length>1||1===t.selectedDates.length&&!e.selected?void t._selectDate(e.value):void t._focusCell(e);if(t._keysPressed.Shift)return void i(new Date(t.selectedDates[0]),e);t._clearSelection(!0),t._selectDate(e.value,t._selectedCells.indexOf(e.value)>-1);break;case"many":{if(0===t.selectedDates.length)return void t._selectDate(e.value);const n=t.selectedDates[t.selectedDates.length-1];let r=new Date(t.selectedDates[0]);if(e.value.getTime()===r.getTime()||e.value.getTime()===n.getTime())return t._clearSelection(),void t._focusCell(e);t.selectedDates.length>0&&i(r,e);break}case"zeroOrMany":t._selectDate(e.value);break;case"oneOrMany":if(1===t.selectedDates.length&&e.selected)return void t._focusCell(e);t._selectDate(e.value);break;case"zeroOrOne":if(1===t.selectedDates.length&&e.selected)return void t._selectDate(e.value);t._clearSelection(!0),t._selectDate(e.value);break;case"week":{if(e.selected&&(e.value.getTime()===t.selectedDates[0].getTime()||e.value.getTime()===t.selectedDates[t.selectedDates.length-1].getTime()))return t._clearSelection(),void t._focusCell(e);t._clearSelection(!0);let i=new Date(e.value);t._selectDate(i);for(let e=1;e<8;e++)i.setDate(i.getDate()+1,e<7),t._selectDate(i);t._isDateInView(i)||t.navigate(1);break}}function i(e,i){if(t._clearSelection(!0),e.getTime()<i.value.getTime())for(;e.getTime()<=i.value.getTime();)t._selectDate(e,!0),e.setDate(e.getDate()+1);else if(e.getTime()>i.value.getTime())for(;e.getTime()>=i.value.getTime();)t._selectDate(e,!0),e.setDate(e.getDate()-1);else t._selectDate(i,!0);t.$.hiddenInput.value=t.selectedDates.toString(),t._refreshFooter(),t.$.fireEvent("change",{value:t.selectedDates}),t._refreshTitle()}}_handleImportantDateTemplate(){const e=this;if(e._importantDatesTemplate=e._validateTemplate("importantDatesTemplate",e.importantDatesTemplate),!e._importantDatesTemplate||!e._importantDatesTemplate.content)return;let t=e._importantDatesTemplate.content;const i=t.childNodes.length,n=/{{\w+}}/g;let r;e._bindingDetails=[];for(let a=0;a<i;a++)if(r=n.exec(t.childNodes[a].innerHTML))return void e._bindingDetails.push({childNodeIndex:a,bindingString:r[0]})}_handleLayoutTemplate(e,t){const i=this,n=i._validateTemplate(e.$.hasClass("jqx-header")?"headerTemplate":e.$.hasClass("jqx-calendar-footer")?"footerTemplate":"titleTemplate",t);if(!n||!n.content)return void("function"==typeof t&&t(e,{}));i._layoutTemplates||(i._layoutTemplates=[]);let r=document.importNode(n.content,!0);e.innerHTML="";const a=r.childNodes.length,s=/{{\w+}}/g;let o,l=[];for(let e=0;e<a;e++)(o=s.exec(r.childNodes[e].innerHTML))&&l.push({childNodeIndex:e,bindingString:o[0]});if(i._layoutTemplates=i._layoutTemplates.filter(t=>t.selector!==e),i._layoutTemplates.push({selector:e,template:n,bindings:l}),i.enableShadowDOM)return e.innerHTML="<slot></slot>",void i.appendChild(r);e.appendChild(r)}_handleCalendarCellHover(e,t){const i=this;if(!i._animationStarted){if("month"===i.displayMode)if("mouseover"===e.type&&"many"===i.selectionMode&&i.selectedDates.length>0){const e=i.$.monthsContainer.children;for(let t=0;t<e.length;t++)i._getMonthCells(e[t]).map(e=>{i._setCellState(e,"hover",!1)});let n=new Date(i.selectedDates[0]),r=new Date(t.value),a=t;const s=n.getTime()>r.getTime()?-1:1,o=function(){!(a=i._getCellByDate(n,i.$.monthsContainer))||a.selected||a.restricted||i._setCellState(a,"hover",!0)};if(n.getTime()!==r.getTime()){for(n.setDate(n.getDate()+s);n.getTime()!==r.getTime();)o(),n.setDate(n.getDate()+s);o()}}else i._setCellState(t,"hover",!1);"mouseover"!==e.type||t.otherMonth?i._setCellState(t,"hover",!1):i._setCellState(t,"hover",!0)}}_handleMonths(e,t){const i=this;let n;function r(e){let t,n=e.children.length,r=document.createDocumentFragment();for(;n<i.months;n++)(t=i.$.month.cloneNode(!1)).innerHTML=i.$.month.innerHTML,r.appendChild(t);return r}function a(t){let n=t.children;for(let t=0;t<n.length;t++)i._setMonth(e,n[t]),e.setMonth(e.getMonth()+1);i._setWeeksVisibility(t),i._refreshHeaderElements(),i._refreshHeaderTitle(),i.tooltip&&i.$.tooltip.close(),i.$.body===document.activeElement&&i._focusCell()}if(e||(e=i._viewDates&&i._viewDates.length>0?i._viewDates[0]:new Date),e=new Date(Math.min(Math.max(i.min.getTime(),e.getTime()),i.max.getTime())),t||(t=i.$.monthsContainer),i._selectedCells=[],i.hasAnimation){for((n=i.$.nextMonthsContainer.children).length>0&&n[0].value instanceof Date&&(i.$.nextMonthsContainer.innerHTML="");i.$.nextMonthsContainer.childElementCount<i.months;)i.$.nextMonthsContainer.appendChild(r(i.$.nextMonthsContainer));for(;i.$.nextMonthsContainer.childElementCount>i.months;)i.$.nextMonthsContainer.removeChild(n[i.$.nextMonthsContainer.childElementCount-1]);if(arguments[1]===i.$.nextMonthsContainer)return void a(i.$.nextMonthsContainer)}if((n=i.$.monthsContainer.children).length>i.months){for(;i.$.monthsContainer.childElementCount>i.months;)i.$.monthsContainer.removeChild(n[i.$.monthsContainer.childElementCount-1]),i._viewDates.pop();a(i.$.monthsContainer)}else i.$.monthsContainer.children.length!==i.months?(i._viewDates=[],i.$.monthsContainer.appendChild(r(i.$.monthsContainer)),a(i.$.monthsContainer)):a(i.$.monthsContainer)}_headerChangeHandler(e){const t=this;e.stopPropagation(),t.disabled||t.readonly||(e.target.ownerElement!==t.$.monthElement||0===t._changeEventFired?(e.target===t.$.yearElement&&(t._viewDates[0].setFullYear(Math.min(Math.max(t.min.getFullYear(),isNaN(parseInt(t.$.yearElement.value))?0:parseInt(t.$.yearElement.value)),t.max.getFullYear())),t._handleMonths(t._viewDates[0])),!t.$.monthElement||e.target!==t.$.monthElement&&e.target.ownerElement!==t.$.monthElement||t._handleMonths(new Date(t.$.monthsContainer.children[0]._date.getFullYear(),t.$.monthElement.selectedIndexes[0],1))):t._changeEventFired--)}_headerClickHandler(e){const t=this;if(t.disabled||t.readonly)return;let i=e.target.closest("jqx-repeat-button");if(!i||!i.disabled){switch(i){case t.$.previousMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(-1*t.months);case t.$.nextMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(1*t.months);case t.$.previousYearButton:return void t.navigate(-12);case t.$.nextYearButton:return void t.navigate(12)}"classic"!==t.calendarMode?e.target.closest(".jqx-calendar-date-element")&&(t._animationStarted&&t._animateNavigationCompleted(),t._isInteractiveNavigation=!0,t._showDateView()):t.displayMode="month"}}_setDisplayMode(e,t,i){const n=this;if(n.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),0!==arguments.length&&n.hasAnimation)if(n._animationStarted&&(n.displayMode=e,n._animateNavigationCompleted(),n.displayMode=t),"month"===e&&"year"===t||"year"===e&&"decade"===t)n.displayMode=e,n._showDateView(i?void 0:n.displayMode);else if("month"===e&&"decade"===t)n._showDateView(n.displayMode="year");else{let e;"list"===n.displayModeView?(e=(n.$.listViewContainer.enableShadowDOM?n.$.listViewContainer.shadowRoot:n.$.listViewContainer).querySelector("jqx-list-item[selected]"),n.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.dataItem.top>0?e.offsetTop-e.offsetHeight/2:e.offsetTop+e.offsetHeight/2)+"px"):(e=n._focusedCell,n.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px"),n._animateView(1,e)}else{if("classic"===n.calendarMode)return void(n.displayMode="month");if("month"!==n.displayMode&&(n.$monthsContainer.addClass("jqx-hidden"),n.$dateViewContainer.hasClass("jqx-hidden")&&n.$dateViewContainer.removeClass("jqx-hidden")),!n.isCompleted&&"month"===n.displayMode)return;n._setDisplayModeContent()}}_setDisplayModeContent(e,t){const i=this;let n=e&&"Invalid Date"!==e.toString()?e:i.selectedDates.length>0?i.selectedDates[i.selectedDates.length-1]:new Date;n.setTime(Math.min(Math.max(n.getTime(),i.min.getTime()),i.max.getTime())),n.setHours(0,0,0,0);const r=i._prepareView(n);if(!r)return;let a;t?(i.$.nextMonthsContainer.innerHTML=i.$.dateViewContainer.innerHTML,a=i.$.nextMonthsContainer):a=i.$.dateViewContainer;const s=a.children;let o;for(let e=0;e<s.length;e++){const t=s[e];t.innerHTML=r.viewContent[e],t.value=r.dates[e],"year"===i.displayMode?(t.value.getFullYear()<i.min.getFullYear()||t.value.getFullYear()===i.min.getFullYear()&&t.value.getMonth()<i.min.getMonth()||t.value.getFullYear()>i.max.getFullYear()||t.value.getFullYear()===i.max.getFullYear()&&t.value.getMonth()>i.max.getMonth()?i._setCellState(t,"otherMonth",!0):i._setCellState(t,"otherMonth",!1),n.getFullYear()===t.value.getFullYear()&&n.getMonth()===t.value.getMonth()&&(o=t)):"decade"===i.displayMode&&(0===e||e===s.length-1||t.value.getFullYear()<i.min.getFullYear()||t.value.getFullYear()>i.max.getFullYear()?i._setCellState(t,"otherMonth",!0):i._setCellState(t,"otherMonth",!1),n.getFullYear()===t.value.getFullYear()&&(o=t)),i._setCellState(t,"hover",!1)}if(o.otherMonth)for(let e=0;e<s.length;e++)if(!s[e].otherMonth){o=s[e];break}i._focusedCell&&i._setCellState(i._focusedCell,"focus",!1),i._focusedCell=o,i._focusCell(i._focusedCell),i._refreshHeaderTitle(),i._refreshHeaderElements(),i.$.fireEvent("displayModeChange"),i._isInteractiveNavigation?i._isInteractiveNavigation=void 0:(i._setCellState(o,"focus",!0),setTimeout(function(){i.$.body.focus(),i._focusCell(i._focusedCell)},0))}_prepareView(e){const t=this;let i,n,r=[],a=[];function s(e,t,i){let n=new Date(e,t+1,0),r=n.getDate();return i>r?n.setDate(r):n.setDate(i),n}if("month"===t.displayMode)return t.$nextMonthsContainer.hasClass("jqx-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-date-view-container"),t.$listViewContainer.addClass("jqx-hidden"),t.$dateViewContainer.hasClass("jqx-visibility-hidden")&&t.$dateViewContainer.removeClass("jqx-visibility-hidden"),t._isDateInView(e)||t._handleMonths(e),t.$header.hasClass("jqx-hidden")&&t.$header.removeClass("jqx-hidden"),t.$body.hasClass("jqx-calendar-list-view")&&t.$body.removeClass("jqx-calendar-list-view"),t.$dateContainer.addClass("jqx-calendar-selected"),t.$yearContainer.removeClass("jqx-calendar-selected"),t.$dateViewContainer.addClass("jqx-hidden"),t.$monthsContainer.removeClass("jqx-hidden"),t._refreshHeaderTitle(),t.$.body.setAttribute("tabindex",t.tabIndex>0?t.tabIndex:0),t._refreshHeaderElements(),t.$.body.focus(),t._focusCell(t._getCellByDate(e)),void t.$.fireEvent("displayModeChange");if("list"===t.displayModeView)return t._setDisplayModeListContent(e),void t.$.fireEvent("displayModeChange");if(t.$header.hasClass("jqx-hidden")&&t.$header.removeClass("jqx-hidden"),t.$dateViewContainer.hasClass("jqx-visibility-hidden")&&t.$dateViewContainer.removeClass("jqx-visibility-hidden"),t.$listViewContainer.addClass("jqx-hidden"),t.$.body.setAttribute("tabindex",t.tabIndex>0?t.tabIndex:0),"year"===t.displayMode){let i=new Date;for(let n=0;n<12;n++)i=s(i.getFullYear(),n,i.getDate()),r.push(i.toLocaleDateString(t.locale,{month:"short"})),a.push(s(e.getFullYear(),n,e.getDate()))}else{0!==(n=(i=e?e.getFullYear():t._viewDates[0].getFullYear())%10)&&(i-=n),i-=1;for(let t=0;t<12;t++)r.push(i+""),a.push(new Date(i,e.getMonth(),e.getDate())),++i}return{viewContent:r,dates:a}}_setDisplayModeListContent(e){const t=this;let i=[];function n(e,t,i){let n=new Date(e,t+1,0),r=n.getDate();return i>r?n.setDate(r):n.setDate(i),n}if(t.$dateViewContainer.addClass("jqx-visibility-hidden"),t.$listViewContainer.hasClass("jqx-hidden")&&(t.$body.addClass("jqx-calendar-list-view"),t.$listViewContainer.removeClass("jqx-hidden"),t.$.listViewContainer._setFocusable(),t.$.body.removeAttribute("tabindex")),"year"===t.displayMode){let r=new Date;for(let a=0;a<12;a++)r=n(r.getFullYear(),a,r.getDate()),i.push({label:r.toLocaleDateString(t.locale,{month:"short"}),value:n(e.getFullYear(),a,e.getDate()).toDateString()});t.$yearContainer.removeClass("jqx-calendar-selected"),t.$dateContainer.addClass("jqx-calendar-selected")}else{let n=t.min.getFullYear(),r=t.max.getFullYear();r=Math.min(t.max.getFullYear(),e.getFullYear()+10);for(let a=n=Math.max(t.min.getFullYear(),r-10);a<r;a++)i.push({label:a.toString(),value:new Date(a,e.getMonth(),e.getDate()).toDateString()});t.$yearContainer.addClass("jqx-calendar-selected"),t.$dateContainer.removeClass("jqx-calendar-selected")}t.$.listViewContainer.dataSource=i,t.$.listViewContainer.selectedValues=[e.toDateString()],t.$.listViewContainer.ensureVisible(t.$.listViewContainer.selectedValues[0]),t._refreshHeaderTitle(),t._refreshHeaderElements(),t.focus()}_isDateInView(e){const t=this;if(!e)return!1;for(let i=0;i<t._viewDates.length;i++)if(e.getFullYear()===t._viewDates[i].getFullYear()&&e.getMonth()===t._viewDates[i].getMonth()){let i=t._getCellByDate(e,t._animationStarted?t.$.nextMonthsContainer:t.$.monthsContainer);if(!i)return;return!i.otherMonth&&!i.classList.contains("jqx-visibility-hidden")}return!1}_keyDownHandler(e){const t=this;if(!t.disabled&&!t.readonly)switch(t.enableShadowDOM&&t.shadowRoot.activeElement||document.activeElement){case t.$.yearElement:"Escape"===e.key&&t._refreshHeaderElements();break;case t.$.dateElement:if("default"===t.calendarMode&&" "===e.key||"Enter"===e.key)return e.preventDefault(),t._isInteractiveNavigation=!0,void t._showDateView();t._focusedCell||t._focusCell(),e.key.indexOf("Arrow")>-1&&t.$.dateElement===document.activeElement&&t.$.body.focus(),t._navigateDays(e);break;case t.$.body:" "===e.key&&e.preventDefault(),t._navigateDays(e);break;case t.$.yearContainer:if(" "!==e.key&&"Enter"!==e.key||"decade"===t.displayMode||(e.preventDefault(),t._isInteractiveNavigation=!0,t._showDateView("year")),e.key.indexOf("Arrow")>-1){if(e.preventDefault(),t._focusedCell||t._focusCell(),"month"!==t.displayMode&&"list"===t.displayModeView)return t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key);t._navigateDays(e)}break;case t.$.dateContainer:if(" "!==e.key&&"Enter"!==e.key||"month"===t.displayMode||(e.preventDefault(),t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell,"month")),e.key.indexOf("Arrow")>-1){if(t._focusedCell||t._focusCell(),"month"!==t.displayMode&&"list"===t.displayModeView)return t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key);t._navigateDays(e)}break;default:if("month"!==t.displayMode&&"list"===t.displayModeView)return["Arrow","End","Home","Page"].indexOf(e.key)&&e.preventDefault()," "===e.key||"Enter"===e.key||e.ctrlKey&&("ArrowUp"===e.key||"ArrowDown"===e.key)?void t._navigateDays(e):void t.$.listViewContainer._handleKeyStrokes(e.key);e.key.indexOf("Arrow")>-1&&(t._focusedCell||t._focusCell(),t._navigateDays(e))}}_listViewContainerChangeEventHandler(e){e.stopPropagation()}_listViewContainerKeyDownHandler(e){const t=this;"list"===t.displayModeView&&(" "!==e.key&&"Enter"!==e.key||t._navigateDays(e))}_showDateView(e){const t=this;switch(e=e||t.displayMode){case"month":e="year";break;case"year":e="decade"}if(t.displayMode===e)return;if(t.$.fireEvent("displayModeChanging",{oldDisplayMode:t.displayMode,newDisplayMode:e}).defaultPrevented)return;let i;t.displayMode=e,arguments[0]&&"list"===t.displayModeView&&"month"!==t.displayMode&&t.$.listViewContainer.items.length>0?(i=t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0])).offsetHeight?t.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.dataItem.top>0?i.offsetTop-i.offsetHeight/2:i.offsetTop+i.offsetHeight/2)+"px":t.$.animationPanel.style.transformOrigin=t.$.listViewContainer.offsetLeft+t.$.listViewContainer.offsetWidth/2+"px "+(i.dataItem.top>0?i.offsetTop-i.offsetHeight/2:t.$.listViewContainer.offsetTop+t.$.listViewContainer.offsetHeight/2)+"px":(t._focusedCell||t._focusCell(),i=t._focusedCell,t.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.offsetTop+i.offsetHeight/2)+"px"),t.$monthsContainer.addClass("jqx-hidden"),t.$dateViewContainer.hasClass("jqx-hidden")&&t.$dateViewContainer.removeClass("jqx-hidden"),"decade"===t.displayMode&&(t.$yearContainer.addClass("jqx-calendar-selected"),t.$dateContainer.removeClass("jqx-calendar-selected")),t.hasAnimation?t._animateView(-1,i):t._setDisplayModeContent(t._focusedCell?t._focusedCell.value:t._viewDates[0])}_keyUpHandler(e){const t=this;t.disabled||t.readonly||"default"!==t.selectionMode||"Shift"!==e.key&&"Control"!==e.key||(t._keysPressed[e.key]=!1)}_mouseEventsHandler(e){const t=this;if(t.disabled||t.readonly)return;if("mouseenter"===e.type)return void t.$.setAttributeValue("hover",!0);if("mouseleave"===e.type)return t.$.setAttributeValue("hover",!1),void(t.tooltip&&t.$.tooltip.close());const i=t.enableShadowDOM?e.composedPath()[0]:e.target;if(!i.closest(".jqx-calendar-week"))return void(t.tooltip&&t.$.tooltip.close());let n,r=i;for(;r&&!(r.value instanceof Date);)r=r.parentElement,n=!0;if(r&&(JQX.Utilities.Core.isMobile||t._handleCalendarCellHover(e,r),t.tooltip)){if(r.hasAttribute("important")&&"mouseover"===e.type)return t.$.tooltip.open(),t.tooltipTemplate?t.$.tooltip.value=r.value+"":t.$.tooltip.innerHTML=0===t.$.tooltip.innerHTML.trim().length?"Important day!":t.$.tooltip.innerHTML,t.$.tooltip.selector=r,void(t.$.tooltip.selector!==r&&t.$.tooltip.close());if(n||t.$.tooltip.selector===r)return;t.$.tooltip.close()}}_moveHandler(e){const t=this;if(!JQX.Utilities.Core.isMobile||!t._dragStartDetails||"list"===t.displayModeView&&"month"!==t.displayMode)return;e.originalEvent.preventDefault(),e.preventDefault(),e.stopPropagation();const i={x:Math.round(e.pageX),y:Math.round(e.pageY)};let n;n="portrait"===t.scrollButtonsNavigationMode?i.y>t._dragStartDetails.y?-1*t.months:1*t.months:i.x<t._dragStartDetails.x?1*t.months:-1*t.months;const r=t._getNextDate(n);if(!r)return;if(t._dragStartDetails.step=n,t._dragStartDetails.navigationDate=new Date(r),!t.hasAnimation)return;let a;if("month"!==t.displayMode)t.$nextMonthsContainer.addClass("jqx-calendar-date-view-container"),a=t.$.dateViewContainer,t.$.nextMonthsContainer.children[0].value instanceof Date&&t.$.nextMonthsContainer.children[1].value.getFullYear()===r.getFullYear()||t._setDisplayModeContent(r,t.$.nextMonthsContainer);else if(t.$nextMonthsContainer.hasClass("jqx-calendar-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),a=t.$.monthsContainer,!t.$.nextMonthsContainer.children[0]._date||t.$.nextMonthsContainer.children[0]._date.getTime()!==r.getTime()){let e=t.$.nextMonthsContainer.children;for(let i=0;i<e.length;i++)r.setMonth(t._dragStartDetails.navigationDate.getMonth()+i),t._setMonth(r,e[i],!0)}n<0?(a.style.order=3,t.$.nextMonthsContainer.style.order=1,t.$.body[t._animationSettings.scrollSize]=t.$.body[t._animationSettings.scrollMax]):(a.style.order=1,t.$.nextMonthsContainer.style.order=3,t.$.body[t._animationSettings.scrollSize]=0);const s="portrait"===t.scrollButtonsNavigationMode?"y":"x";Math.abs(t._dragStartDetails[s]-i[s])>10&&(t.$.body[t._animationSettings.scrollSize]+=2*-(i[s]-t._dragStartDetails[s]))}_getNextDate(e){const t=this;let i;if("month"!==t.displayMode){let n;const r=t._focusedCell&&t._focusedCell.value.getFullYear();if("list"===t.displayModeView)i=new Date(t.$.listViewContainer.items[0].value);else{let e=t._animationStarted?t.$.nextMonthsContainer:t.$.dateViewContainer;i=new Date("year"===t.displayMode?e.children[0].value:e.children[1].value)}if(n="year"===t.displayMode?1:0!==e?10:1,i.setFullYear(i.getFullYear()+(e>0?n:-n)),i.getTime()<t.min.getTime()&&(i=t.min),i.getTime()>t.max.getTime()&&(i=t.max),"year"===t.displayMode){if(i.getFullYear()<t.min.getFullYear()||i.getFullYear()>t.max.getFullYear()||r===i.getFullYear())return}else if(i.getFullYear()<t.min.getFullYear()||i.getFullYear()>t.max.getFullYear()||r===i.getFullYear())return}else{let n=t._viewDates[0];if((i=new Date(n)).setDate(1),i.setMonth(i.getMonth()+e),i.setTime(Math.min(Math.max(i.getTime(),t.min.getTime()),t.max.getTime())),n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear())return}return i}_navigateDays(e){const t=this;let i="ArrowUp"===e.key||"ArrowDown"===e.key?7:1,n="ArrowUp"===e.key||"ArrowLeft"===e.key||"PageUp"===e.key?-1:1;switch(e.key){case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":if(!t._handleArrowKeys(e,i,n))return;break;case" ":case"Enter":if("month"!==t.displayMode)return void t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell);break;case"Control":case"Shift":return void("default"===t.selectionMode&&(t._keysPressed[e.key]=!0));case"Home":case"End":{e.preventDefault();let i,n=function(t){if("Home"===e.key){for(let e=0;e<t.length;e++)if(!(t[e].otherMonth||t[e].disabled&&t[e].restricted))return t[e]}else for(let e=t.length-1;e>=0;e--)if(!(t[e].otherMonth||t[e].disabled&&t[e].restricted))return t[e]};if(!(i="month"!==t.displayMode?n(t.$.dateViewContainer.children):n(t._getMonthCells(t._focusedCell.closest(".jqx-calendar-month"),t.rightToLeft))))return;if(t._focusCell(i),"month"!==t.displayMode)return;break}case"PageUp":case"PageDown":if(!t._handlePageUpDownKeys(e,n))return;break;default:return}t._focusedCell&&t._handleDateSelection(t._focusedCell)}_handleArrowKeys(e,t,i){const n=this;let r;if("month"!==n.displayMode||n._animationStarted||n.$.body.focus(),n._focusedCell||n._focusCell(n._getCellByDate(new Date)),e.altKey)return;if(e.ctrlKey){if("ArrowDown"===e.key||"ArrowUp"===e.key){let t;switch(n.displayMode){case"month":t="ArrowDown"===e.key?"month":"year";break;case"year":t="ArrowDown"===e.key?"month":"decade";break;case"decade":t="ArrowDown"===e.key?"year":"decade"}if(t!==n.displayMode){const e=n.displayMode;n.displayMode=t,n._setDisplayMode(e,t,"month"===e),n._keysPressed&&delete n._keysPressed.Control}}return}if(e.preventDefault(),!n.rightToLeft||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(i*=-1),"month"!==n.displayMode){let a=n._animationStarted?n.$.nextMonthsContainer.children:n.$.dateViewContainer.children;if(t="ArrowUp"===e.key||"ArrowDown"===e.key?4:1,"year"===n.displayMode){const e=n._focusedCell.value.getMonth()+i*t;let a=new Date(n._focusedCell.value.getFullYear(),e+1,0);n._focusedCell.value.getDate()<=a.getDate()&&(a=n._focusedCell.value),r=new Date(n._focusedCell.value.getFullYear(),e,a.getDate())}else r=new Date(n._focusedCell.value.getFullYear()+i*t,n._focusedCell.value.getMonth(),n._focusedCell.value.getDate());if("year"===n.displayMode){if(r.getFullYear()<n.min.getFullYear()||r.getFullYear()===n.min.getFullYear()&&r.getMonth()<n.min.getMonth()||r.getFullYear()>n.max.getFullYear()||r.getFullYear()===n.max.getFullYear()&&r.getMonth()>n.max.getMonth())return;r.getTime()>a[a.length-1].value.getTime()?n.navigate(1):r.getTime()<a[0].value.getTime()&&n.navigate(-1)}else{if(r.getFullYear()<n.min.getFullYear()||r.getFullYear()>n.max.getFullYear())return;if(r.getFullYear()<a[1].value.getFullYear()||r.getFullYear()>a[10].value.getFullYear()){let t=n._focusedCell;n.navigate(i),"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(t===a[3]||t===a[4]||t===a[7]||t===a[8]?r.setFullYear(r.getFullYear()+2*i):r.setFullYear(r.getFullYear()-2*i))}}return void n._focusCell(n._getCellByDate(r,n._animationStarted?n.$.nextMonthsContainer:void 0))}const a=n.restrictedDates.map(Number);for(r=new Date(n._focusedCell.value.getFullYear(),n._focusedCell.value.getMonth(),n._focusedCell.value.getDate()+i*t,0,0,0,0);a.indexOf(r.getTime())>-1;)r.setDate(r.getDate()+i);if(r.getTime()<n.min.getTime()||r.getTime()>n.max.getTime())return;n._isDateInView(r)||n.navigate(i*n.months);let s=n._getCellByDate(r,n._animationStarted?n.$.nextMonthsContainer:void 0);return n._focusCell(s),!(["zeroOrMany","oneOrMany","none","many","week"].indexOf(n.selectionMode)>-1)||void 0}_handlePageUpDownKeys(e,t){const i=this;let n;if(e.preventDefault(),"month"!==i.displayMode){if(n=i._focusedCell,!i.navigate(t))return;for(;n&&n.classList.contains("jqx-visibility-hidden");)n=null===n.previousElementSibling?n.nextElementSibling:n.previousElementSibling;return i._focusCell(n),void(i.hasAnimation&&"decade"===i.displayMode&&i._focusedCell.value.setFullYear(i._focusedCell.value.getFullYear()+10*t))}n=new Date(i._focusedCell.value.getFullYear(),i._focusedCell.value.getMonth()+t,1,0,0,0,0);let r=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();return i._focusedCell.value.getDate()>r?n.setDate(r):n.setDate(i._focusedCell.value.getDate()),i._isDateInView(n)||i.navigate(t*i.months),i._animationStarted?i._focusCell(i._getCellByDate(n,i.$.nextMonthsContainer)):i._focusCell(i._getCellByDate(n)),!0}_selectDate(e,t,i){const n=this;if(void 0===n._viewDates||"none"===n.selectionMode)return;let r,a=n.selectedDates.slice(0),s=n._getCellByDate(e,n._animationStarted?n.$.nextMonthsContainer:n.$.monthsContainer);s&&n._selectCell(s),(e=new Date(e)).setHours(0,0,0,0),r=a.map(Number).indexOf(e.getTime()),n.restrictedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<n.min.getTime()||e.getTime()>n.max.getTime()||(r>-1?a.splice(r,1):a.push(e),i||(n.selectedDates=a),n._refreshFooter(),n.$.hiddenInput.value=n.selectedDates.toString(),t||n.$.fireEvent("change",{value:[e]}),n._refreshTitle())}_selectCell(e){const t=this;if(!e||t.restrictedDates.map(Number).indexOf(e.value.getTime())>-1||t.disableAutoNavigation&&!1===e.otherMonth||e.value.getTime()<t.min.getTime()||e.value.getTime()>t.max.getTime())return;const i=t._selectedCells.indexOf(e);i>-1?(t._setCellState(e,"selected",!1),t._selectedCells.splice(i,1)):(t._setCellState(e,"selected",!0),t._selectedCells.push(e)),t._focusCell(e)}_refreshDayOfWeekTitles(){const e=this;let t,i=[],n=new Date;function r(t){let i;return i="firstTwoLetters"===e.dayNameFormat?8206===(i=new Intl.DateTimeFormat(e.locale,{weekday:"long"}).format(t)).charCodeAt(0)?i.substring(1,3):i.substring(0,2):new Intl.DateTimeFormat(e.locale,{weekday:e.dayNameFormat}).format(t)}for(let e=1;e<8;e++)n.setDate(e),t={number:n.getDay(),name:r(n)},i.push(t);i.sort((e,t)=>e.number>t.number?1:-1);const a=e.$.monthsContainer.children;let s,o;for(let t=0;t<a.length;t++)if(s=a[t].getElementsByClassName("jqx-calendar-week-titles")[0].children,o=e.firstDayOfWeek>6?0:e.firstDayOfWeek,e.rightToLeft)for(let e=s.length-1;e>=0;e--)s[e].textContent=i[o++].name,o=o>6?0:o;else for(let e=1;e<s.length;e++)s[e].textContent=i[o++].name,o=o>6?0:o;if(e.hasAnimation){const t=e.$.monthsContainer.getElementsByClassName("jqx-calendar-week-titles")[0].innerHTML,i=e.$.nextMonthsContainer.getElementsByClassName("jqx-calendar-week-titles");for(let e=0;e<i.length;e++)i[e].innerHTML=t}}_refreshCalendarMode(){const e=this;if(!e.headerTemplate)if(e._refreshMonthNames(),"default"===e.calendarMode){e.$classicHeaderDate.addClass("jqx-hidden"),e.$defaultHeaderDate.removeClass("jqx-hidden");const t=e._viewDates.slice(0).sort((e,t)=>e.getTime()-t.getTime()),i=t[0],n=t[t.length-1];i.setDate(2);let r=i.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat});e.months>1&&(n.setDate(2),r+=" - "+n.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat})),e.$.defaultHeaderDate.innerHTML=r,e.unfocusable||e.$.dateElement.setAttribute("tabindex",e.tabIndex>0?e.tabIndex:0)}else e.$defaultHeaderDate.addClass("jqx-hidden"),e.$classicHeaderDate.removeClass("jqx-hidden"),e.$.dateElement.removeAttribute("tabindex")}_refreshFooter(){const e=this;if(!(e.viewSections.indexOf("footer")<0||0===e.$.footer.offsetHeight))if(e.footerTemplate){if("function"==typeof e.footerTemplate)return;let i=e._layoutTemplates.filter(t=>t.selector===e.$.footer)[0],n=document.importNode(i.template.content,!0);if(i.bindings.length>0){let e=n.childNodes[i.bindings[0].childNodeIndex];i.selector.childNodes[i.bindings[0].childNodeIndex].innerHTML=e.innerHTML.replace(i.bindings[0].bindingString,t())}}else e.$.selectedDatesRange.innerHTML=t();function t(){if(0===e.selectedDates.length)return"";if(1===e.selectedDates.length)return e.selectedDates[0].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"});{let t=e.selectedDates.slice(0).sort((e,t)=>e.getTime()-t.getTime());return t[0].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"})+" - "+t[t.length-1].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"})}}}_refreshImportantDates(){const e=this;if("month"===e.displayMode){e._clearImportantDates();for(let t=0;t<e.importantDates.length;t++)e._setImportantDate(e.importantDates[t])}}_clearImportantDates(){const e=this,t=e.$.monthsContainer.children;for(let i=0;i<t.length;i++)e._getMonthCells(t[i]).map(t=>{e._setCellState(t,"important",!1)})}_setImportantDate(e,t){const i=this,n=i._getCellByDate(e);t||(t=n),t&&(i._setCellState(t,"important",!0),i._applyImportantDateTemplate(t))}_applyImportantDateTemplate(e){const t=this;if(!t._importantDatesTemplate)return"function"==typeof t.importantDatesTemplate?void t.importantDatesTemplate(e,{value:e.value}):void(e.innerHTML=e.value.getDate()+"");let i=document.importNode(t._importantDatesTemplate.content,!0);if(t._bindingDetails&&t._bindingDetails.length>0){let n=i.childNodes[t._bindingDetails[0].childNodeIndex];n.innerHTML=n.innerHTML.replace(t._bindingDetails[0].bindingString,e.value.getDate())}e.innerHTML="";for(let t=0;t<i.childNodes.length;t++)i.childNodes[t].outerHTML&&(e.innerHTML+=i.childNodes[t].outerHTML)}_setMonth(e,t,i){const n=this,r=n._getDays(e,n.selectedDates),a=n._getDays(e,n.importantDates),s=n._getDays(e,n.restrictedDates);e.setDate(1),t||(t=n.$.month),t._date=new Date(e),i||((!n._viewDates||n._viewDates.length>=n.months)&&(n._viewDates=[]),n._viewDates.push(new Date(e)));let o=((e=new Date(e)).getDay()-n.firstDayOfWeek+7)%7;e.setDate(0);let l=e.getDate();if(e.setDate(32),e.setDate(1),e.setDate(32),n._selectedCells)for(let e=0;e<n._selectedCells.length;e++)n._selectedCells[e].closest(".jqx-calendar-month")===t&&n._setCellState(n._selectedCells[e],"selected",!1);n._setMonthContent(e,t,{previusMonthDays:l,firstDayOfWeek:o,selectedDates:r,importantDates:a,restrictedDates:s})}_setMonthContent(e,t,i){const n=this,r=32-e.getDate(),a=n._getMonthCells(t,n.rightToLeft),s=t._date.getMonth(),o=t._date.getFullYear(),l=new Date;let d,h=1,c=1;l.setHours(0,0,0,0),a.map(e=>{n._setCellState(e,"restricted",!1),n._setCellState(e,"selected",!1),n._setCellState(e,"otherMonth",!1),n._setCellState(e,"focus",!1),n._setCellState(e,"important",!1),n._setCellState(e,"today",!1),n._setCellState(e,"disabled",!1),n._setCellState(e,"hover",!1)});for(let e=0;e<a.length;e++){const u=a[e];e===i.firstDayOfWeek&&c<=r?(u.className="jqx-calendar-cell",u.value=new Date(o,s,c),u.innerHTML=u.value.getDate().toString(),i.restrictedDates.indexOf(c)>-1||u.value.getTime()<n.min.getTime()||u.value.getTime()>n.max.getTime()?n._setCellState(u,"restricted",!0):i.selectedDates.indexOf(c)>-1&&(n._setCellState(u,"selected",!0),n._selectedCells.indexOf(u)<0&&n._selectedCells.push(u)),i.importantDates.indexOf(c)>-1&&(n._setImportantDate(u.value,u),i.importantDates.splice(i.importantDates.indexOf(c),1)),u.value.getTime()===l.getTime()&&n._setCellState(u,"today",!0),i.firstDayOfWeek++,c++):(1===c?(u.value=new Date(o,s-1,++i.previusMonthDays-i.firstDayOfWeek),d=!!(u.value.getTime()<n.min.getTime()||t.previousElementSibling)):(u.value=new Date(o,s+1,h++),d=!!(u.value.getTime()>n.max.getTime()||t.nextElementSibling)),u.innerHTML=u.value.getDate().toString(),d?u.classList.add("jqx-visibility-hidden"):(n._setCellState(u,"otherMonth",!0),u.classList.remove("jqx-visibility-hidden")))}n.months>1&&(t.firstElementChild.innerHTML=n.dateFormatFunction?n.dateFormatFunction(t._date):n._monthsNames[s]+" "+t._date.toLocaleDateString(n.locale,{year:n.yearFormat})),n._setMonthWeekNumbers(t)}_refreshMonthNames(){const e=this;let t,i=new Date;function n(t){let i=new Intl.DateTimeFormat(e.locale,{month:e.monthNameFormat}).format(t);return"firstTwoLetters"===e.monthNameFormat&&(i=8206===i.charCodeAt(0)?i.substring(0,2):i.substring(1,3)),i}i.setDate(1),e._monthsNames=[];for(let r=0;r<12;r++)i.setMonth(r),t=n(i),e._monthsNames.push(t);if("classic"===e.calendarMode&&e.$.monthElement){let t=e.$.monthsContainer.children;if(e.$.monthElement.dataSource&&(e._changeEventFired=1),e.enableShadowDOM?e._setMonthElementPropertyInShadowDOM("dataSource",e._monthsNames):e.$.monthElement.dataSource=e._monthsNames,e._viewDates){for(let i=0;i<t.length;i++)t[i].firstElementChild.textContent=e._monthsNames[t[i]._date.getMonth()]+" "+t[i]._date.getFullYear();e._changeEventFired=1,e.enableShadowDOM?e._setMonthElementPropertyInShadowDOM("selectedIndexes",e._viewDates.map(e=>e.getMonth())):e.$.monthElement.selectedIndexes=e._viewDates.map(e=>e.getMonth())}}}_setMonthWeekNumbers(e){const t=this,i=function(e){for(let t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!0};let n=e.getElementsByClassName("jqx-calendar-week");n=[].slice.call(n);for(let r=0;r<n.length;r++){if(!i(n[r])){n[r].children[0].innerHTML="";continue}const a=n[r].children[1],s=a.otherMonth?a.value.getTime()>e._date.getTime()?1:-1:0;n[r].children[0].innerHTML=t._getWeekNumber(new Date(e._date.getFullYear(),e._date.getMonth()+s,a.value.getDate()))}}_setRestrictedDates(e){const t=this,i=t.$.monthsContainer.children;for(let e=0;e<i.length;e++)t._getMonthCells(i[e]).map(e=>{t._setCellState(e,"restricted",!1)});if(t._viewDates){const i=function(e){for(let i=0;i<t._viewDates.length;i++)if(t._viewDates[i].getFullYear()===e.getFullYear()&&t._viewDates[i].getMonth()===e.getMonth())return!0};for(let n=0;n<e.length;n++)if(i(e[n])){const i=t._getCellByDate(e[n]);t._setCellState(i,"restricted",!0)}}}_setScrollButtonsNavigationMode(){const e=this;"landscape"===e.scrollButtonsNavigationMode?(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.innerHTML="&#xe809"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.innerHTML="&#xe810")):(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.innerHTML="&#xe80b"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.innerHTML="&#xe80d")),e._applyAnimationSettings(!0)}_tooltipEventHandler(e){const t=this;t.enableShadowDOM&&t.$.fireEvent(e.type,e.detail)}_refreshTitle(){const e=this;let t=e.selectedDates.length>0?e.selectedDates[e.selectedDates.length-1]:new Date;if(e.titleTemplate){if("function"==typeof e.titleTemplate)return;let i=e._layoutTemplates.filter(t=>t.selector===e.$.title)[0],n=document.importNode(i.template.content,!0);if(i.bindings.length>0){let r=n.childNodes[i.bindings[0].childNodeIndex];return t=t.toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"}),void(i.selector.childNodes[i.bindings[0].childNodeIndex].innerHTML=r.innerHTML.replace(i.bindings[0].bindingString,t))}}e.$.title.children[0].innerHTML=t.toLocaleDateString(e.locale,{year:e.yearFormat}),e.$.title.children[1].innerHTML="landscape"===e.view?t.toLocaleDateString(e.locale,{weekday:"short"})+",</br>"+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"}):t.toLocaleDateString(e.locale,{weekday:"short"})+", "+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"})}_setWeeksVisibility(e){const t=this,i=e.children;let n;function r(e){(function(e){for(let t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!1;return!0})(e)||n>=t.weeks?e.classList.add("jqx-hidden"):n<t.weeks&&(e.classList.remove("jqx-hidden"),n++)}for(let e=0;e<i.length;e++){let a=i[e].getElementsByClassName("jqx-calendar-week");a=[].slice.call(a);let s=t._selectedCells.filter(t=>t.closest(".jqx-calendar-month")===i[e]);if(6!==t.weeks)if(n=0,s.length>0){let e=s[s.length-1],t=a.indexOf(e.parentElement);for(let e=t;e<a.length;e++)r(a[e]);for(let e=t-1;e>=0;e--)r(a[e])}else for(let e=0;e<a.length;e++)r(a[e]);else a.map(e=>e.classList.remove("jqx-hidden"))}}_refreshHeaderElements(){const e=this,t=document.activeElement.closest("jqx-calendar")===e,i=e._animationStarted?e.$.nextMonthsContainer:e.$.dateViewContainer;let n,r,a=e._viewDates[e._viewDates.length-1],s=e._viewDates.map(e=>e.getFullYear());if("month"===e.displayMode||"list"!==e.displayModeView){if(e.$.previousMonthButton&&!e.disabled&&("month"!==e.displayMode&&e.$.dateViewContainer.children[0].value?r="year"===e.displayMode?i.children[0].value.getFullYear()-1:i.children[1].value.getFullYear()-1:e._viewDates[0].getMonth()-1<0?(n=11,r=e._viewDates[0].getFullYear()-1):(n=e._viewDates[0].getMonth()-1,r=e._viewDates[0].getFullYear()),e.$.previousMonthButton.disabled=r<e.min.getFullYear()||r===e.min.getFullYear()&&n<e.min.getMonth(),e.$.previousMonthButton.disabled&&t&&e.$.body.focus()),e.$.nextMonthButton&&!e.disabled&&("month"!==e.displayMode&&e.$.dateViewContainer.children[0].value?r="year"===e.displayMode?i.children[0].value.getFullYear()+1:i.children[1].value.getFullYear()+11:a.getMonth()+1>11?(n=0,r=a.getFullYear()+1):(n=a.getMonth()+1,r=a.getFullYear()),e.$.nextMonthButton.disabled=r>e.max.getFullYear()||r===e.max.getFullYear()&&n>e.max.getMonth(),e.$.nextMonthButton.disabled&&t&&e.$.body.focus()),"classic"===e.calendarMode&&e.$.monthElement){const t=e.$.monthElement.items;if(t.map(e=>e.disabled=!1),s.indexOf(e.min.getFullYear())>-1)for(let i=0;i<e.min.getMonth();i++)t[i].disabled=!0;if(s.indexOf(e.max.getFullYear())>-1)for(let i=e.max.getMonth()+1;i<t.length;i++)t[i].disabled=!0;e._changeEventFired=e.$.monthElement.selectedIndexes.length,e.enableShadowDOM?e._setMonthElementPropertyInShadowDOM("selectedIndexes",[e._viewDates[0].getMonth()]):e.$.monthElement.selectedIndexes=[e._viewDates[0].getMonth()],e._changeEventFired=0}e.$.previousYearButton&&!e.disabled&&(r=e._viewDates[0].getFullYear()-1,e.$.previousYearButton.disabled=r<e.min.getFullYear(),e.$.previousYearButton.disabled&&t&&e.$.body.focus()),e.$.nextYearButton&&!e.disabled&&(r=a.getFullYear()+1,e.$.nextYearButton.disabled=r>e.max.getFullYear(),e.$.nextYearButton.disabled&&t&&e.$.body.focus()),e.$.yearElement&&(e.$.yearElement.value=s[0],e.$.yearElement.disabled=a.getFullYear()+1>e.max.getFullYear()&&e._viewDates[0].getFullYear()-1<e.min.getFullYear())}}_setMonthElementPropertyInShadowDOM(e,t){const i=this.$.monthElement,n=this.$.monthElement.$?this.$.monthElement.$.listBox:void 0,r=i.context;let a;i.context=document,n&&(a=n.context,n.context=document),this.$.monthElement[e]=t,i.context=r,n&&(n.context=a)}_refreshHeaderTitle(){const e=this;let t;function i(){if("month"!==e.displayMode){if("list"===e.displayModeView&&e.$.listViewContainer.selectedValues[0]){let i=e.$.listViewContainer.items;t="year"===e.displayMode?new Date(e.$.listViewContainer.getItem(e.$.listViewContainer.selectedValues[0]).value).getFullYear():new Date(i[0].value).getFullYear()+" - "+new Date(i[i.length-1].value).getFullYear()}else if(e.$.dateViewContainer.children[0].value){let i=e._animationStarted?e.$.nextMonthsContainer.children:e.$.dateViewContainer.children;t="year"===e.displayMode?i[0].value.getFullYear():i[1].value.getFullYear()+" - "+i[i.length-2].value.getFullYear()}if(t)return t}const i=e._viewDates.slice(0).sort((e,t)=>e.getTime()-t.getTime()),n=i[0],r=i[i.length-1];return n.setDate(2),t=n.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat}),e.months>1&&(r.setDate(2),t+=" - "+r.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat})),t}if("default"===e.calendarMode&&(e.$.defaultHeaderDate.innerHTML=i()),"function"==typeof e.headerTemplate||!e._layoutTemplates)return;let n=e._layoutTemplates.filter(t=>t.selector===e.$.header)[0];if(!n)return;let r=document.importNode(n.template.content,!0);if(n.bindings.length>0){const t=r.childNodes[n.bindings[0].childNodeIndex];n.selector.childNodes[n.bindings[0].childNodeIndex].innerHTML=t.innerHTML.replace(n.bindings[0].bindingString,e.dateFormatFunction?e.dateFormatFunction(e._viewDates):i())}}_updateWeeksVisibility(){const e=this,t=e._focusedCell.parentElement;if(!t.classList.contains("jqx-hidden"))return;const i=[].slice.call(t.parentElement.children),n=i.indexOf(t),r=function(e){for(let t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!1;return!0};let a=0;i.map(e=>e.classList.add("jqx-hidden"));for(let t=n;t<i.length;t++)if(!r(i[t])&&(i[t].classList.remove("jqx-hidden"),++a===e.weeks))return;if(a<e.weeks)for(let t=n-1;t>=0;--t)if(i[t].classList.remove("jqx-hidden"),++a===e.weeks)return}_getValidDates(e){let t=[];function i(e){if(e instanceof Date)return e;if(JQX.Utilities.DateTime&&e instanceof JQX.Utilities.DateTime)return e.toDate();if("string"==typeof e){if("new Date()"===e.trim()||"new JQX.Utilities.DateTime()"===e.trim())return new Date;let t=/(\d+[,-.\/]{1}\s*\d+[,-.\/]{1}\s*\d+)/;const i=()=>(e=e.replace(/[,-.\/]/g,",").split(",")).length>2?e=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2])):new Date;return t.test(e)&&(e=t.exec(e)[0].replace(/[,-.\/]/g,",").split(","))?new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2])):i()}}if(void 0===e)return null;if(Array.isArray(e))for(let n=0;n<e.length;n++)t.push(i(e[n]));else t.push(i(e));return(t=t.filter(e=>e&&"Invalid Date"!==e.toDateString())).map(e=>e.setHours(0,0,0,0)),t}_getValidDate(e){const t=this._getValidDates(e);return t.length>0?t[0]:null}_validateSelectedDates(e){const t=this;let i=[];e||(e=t.selectedDates);let n=e.slice(0),r=function(e){for(let i=0;i<t.restrictedDates.length;i++)if(t.restrictedDates[i].getTime()===e.getTime())return!0};t.selectedDates=n.filter(function(e){if(e.getTime()>=t.min.getTime()&&e.getTime()<=t.max.getTime()&&!r(e))return!0;i.push(e)}),t._viewDates&&(i.map(e=>t._selectDate(e)),t._focusCell())}_validateMinMax(e,t,i){const n=this;switch(e){case"min":t=n._getValidDate(n[e]),n.min=t||(i||n.properties.min.defaultValue);break;case"max":t=n._getValidDate(n[e]),n.max=t||(i||n.properties.max.defaultValue);break;default:t=n._getValidDate(n.min),n.min=t||(i||n.properties.min.defaultValue),t=n._getValidDate(n.max),n.max=t||(i||n.properties.max.defaultValue)}n.min=n.min.getTime()>n.max.getTime()?n.max:n.min,n.min.setHours(0,0,0,0),n.max.setHours(0,0,0,0);let r,a=n.$.monthsContainer.children;if(n._viewDates){if(n._viewDates[0].getTime()>n.max.getTime()||n._viewDates[0].getTime()<n.min.getTime())return void n._handleMonths();for(let e=0;e<a.length;e++){r=n._getMonthCells(a[e]);for(let t=0;t<r.length;t++){const i=r[t];if(i.value.getTime()>=n.min.getTime()&&i.value.getTime()<=n.max.getTime())n._setCellState(i,"restricted",!1),i.value.getMonth()===a[e]._date.getMonth()?i.classList.remove("jqx-visibility-hidden"):n.hideOtherMonthDays||(n._setCellState(i,"otherMonth",!0),i.classList.remove("jqx-visibility-hidden")),"month"!==n.displayMode&&n._setCellState(i,"otherMonth",!1);else{if(i.otherMonth){if(i.classList.contains("jqx-visibility-hidden")){n._setCellState(i,"restricted",!1);continue}}else n._setCellState(i,"restricted",!0);"month"!==n.displayMode&&(i.classList.remove("jqx-visibility-hidden"),n._setCellState(i,"otherMonth",!0))}}}}}_setCellState(e,t,i){e[t]=i;const n=JQX.Utilities.Core.toDash(t);i?e.setAttribute(n,""):e.removeAttribute(n)}_validateTemplate(e,t){if(null===t||!t)return;if("function"==typeof t)return;const i=this;if("content"in document.createElement("template")){if("string"==typeof t&&(t=document.getElementById(t)),null!==t&&"content"in t)return t;i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:e}))}else i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()}))}_weeksDownHandler(e,t){const i=this,n=t.value;let r;if(t.otherMonth&&(r=t.value.getTime()>t.closest(".jqx-calendar-month")._date.getTime()?1:-1),i.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),r){if(i._isDateInView(t.value))return;i.disableAutoNavigation||i.navigate(r*i.months)}else(t=i._getCellByDate(n))&&(t.disabled||t.restricted)||i._handleDateSelection(t)}_firstDayOfWeekValidator(e,t){return Math.min(Math.max(0,isNaN(t)?6:t),6)}_weeksValidator(e,t){return Math.min(Math.max(1,isNaN(t)?6:t),6)}_monthsValidator(e,t){return Math.min(Math.max(1,isNaN(t)?1:t),12)}});var oe=Object.freeze({});JQX("jqx-date-time-picker",class extends JQX.BaseElement{static get properties(){return{animationSettings:{value:null,type:"object"},autoClose:{value:!1,type:"boolean"},autoCloseDelay:{value:0,type:"number"},calendarButton:{value:!1,type:"boolean"},calendarButtonPosition:{value:"right",allowedValues:["left","right"],type:"string"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},disableAutoNavigation:{value:!1,type:"boolean"},displayKind:{value:"unspecified",allowedValues:["UTC","local","unspecified"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownDisplayMode:{value:"default",allowedValues:["default","classic","calendar","timePicker","auto"],type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPosition:{value:"auto",allowedValues:["auto","bottom","overlay-top","overlay-center","overlay-bottom","top","center-bottom","center-top"],type:"string"},editMode:{value:"default",allowedValues:["default","full","partial"],type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},firstDayOfWeek:{value:0,type:"number"},footerTemplate:{value:null,type:"any"},formatString:{value:"dd-MMM-yy HH:mm:ss.fff",type:"string"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},hint:{value:"",type:"string"},importantDates:{value:[],type:"array"},importantDatesTemplate:{value:null,type:"any"},interval:{value:new JQX.Utilities.TimeSpan(0,0,1),type:"any"},label:{value:"",type:"string"},max:{value:new JQX.Utilities.DateTime(3001,1,1),type:"any"},messages:{value:{en:{now:"Now",dateTabLabel:"DATE",timeTabLabel:"TIME"}},type:"object",extend:!0},min:{value:new JQX.Utilities.DateTime(1600,1,1),type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},placeholder:{value:"Enter date",type:"string"},renderMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},restrictedDates:{value:[],type:"array"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},tooltip:{value:!1,type:"boolean"},tooltipDelay:{value:100,type:"number"},tooltipPosition:{value:"top",allowedValues:["bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{defaultReflectToAttribute:!0,value:new JQX.Utilities.DateTime,type:"any"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number"},yearCutoff:{value:1926,type:"number"}}}static get listeners(){return{"container.mouseout":"_mouseoutHandler","container.mouseover":"_mouseoverHandler","calendarButton.click":"_calendarButtonClickHandler","calendarDropDown.change":"_calendarDropDownChangeHandler","calendarDropDown.click":"_calendarDropDownClickHandler","downButton.click":"_spinButtonsClickHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.dragstart":"_inputDragstartHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.down":"_inputDownHandler","input.paste":"_inputPasteHandler","input.select":"_inputSelectHandler","input.up":"_inputUpHandler","input.wheel":"_inputWheelHandler","dropDownContainer.keydown":"_dropDownKeydownHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","dropDownHeader.click":"_dropDownHeaderClickHandler","upButton.click":"_spinButtonsClickHandler","document.up":"_documentUpHandler"}}static get requires(){return{"JQX.Utilities.DateTime":"jqxdate.js","JQX.Utilities.Draw":"jqxdraw.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.RepeatButton":"jqxbutton.js","JQX.Calendar":"jqxcalendar.js","JQX.TimePicker":"jqxtimepicker.js"}}static get styleUrls(){return["jqx.button.css","jqx.timepicker.css","jqx.dropdown.css","jqx.calendar.css","jqx.datetimepicker.css"]}template(){return'<div id="container">\n                    <span id="label" class="jqx-label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <input id="input" class="jqx-input jqx-date-time-input" type="text" readonly="[[readonly]]" disabled="[[disabled]]" placeholder="[[placeholder]]" name="[[name]]">\n                        <div id="spinButtonsContainer" class="jqx-spin-buttons-container">\n                            <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]" unfocusable id="upButton" class="jqx-spin-button">\n                                <div class="jqx-arrow jqx-arrow-up"></div>\n                            </jqx-repeat-button>\n                            <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]" unfocusable id="downButton" class="jqx-spin-button">\n                                <div class="jqx-arrow jqx-arrow-down"></div>\n                            </jqx-repeat-button>\n                        </div>\n                        <div id="calendarButton" class="jqx-drop-down-button jqx-calendar-button"></div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-date-time-drop-down jqx-visibility-hidden">\n                            <div id="dropDownHeader" class="jqx-drop-down-header jqx-hidden">\n                                <div id="selectDate" class="jqx-selected"></div>\n                                <div id="selectTime"></div>\n                            </div>\n                            <div id="dropDownContent" class="jqx-drop-down-content">\n                                <jqx-calendar id="calendarDropDown" class="jqx-hidden"\n                                              animation="[[animation]]"\n                                              animation-settings="[[animationSettings]]"\n                                              calendar-mode="[[calendarMode]]"\n                                              day-name-format="[[dayNameFormat]]"\n                                              disable-auto-navigation="[[disableAutoNavigation]]"\n                                              display-mode-view="[[displayModeView]]"\n                                              first-day-of-week="[[firstDayOfWeek]]"\n                                              header-template="[[headerTemplate]]"\n                                              hide-day-names="[[hideDayNames]]"\n                                              hide-other-month-days="[[hideOtherMonthDays]]"\n                                              hide-tooltip-arrow="[[hideTooltipArrow]]"\n                                              important-dates="[[importantDates]]"\n                                              important-dates-template="[[importantDatesTemplate]]"\n                                              locale="[[locale]]"\n                                              selection-mode="one"\n                                              spin-buttons-delay="[[spinButtonsDelay]]"\n                                              spin-buttons-initial-delay="[[spinButtonsInitialDelay]]"\n                                              theme="[[theme]]"\n                                              tooltip="[[tooltip]]"\n                                              tooltip-delay="[[tooltipDelay]]"\n                                              tooltip-position="[[tooltipPosition]]"\n                                              tooltip-template="[[tooltipTemplate]]"\n                                              unfocusable="[[unfocusable]]"\n                                              view-sections=\'["header", "footer"]\'\n                                              week-numbers="[[weekNumbers]]"\n                                              weeks="[[weeks]]"></jqx-calendar>\n                            </div>\n                        </div>\n                    </div>\n                    <span id="hint" class="jqx-hint">[[hint]]</span>\n                </div>'}attached(){const e=this;super.attached(),e.isCompleted&&(e._defaultFooterTemplateApplied&&e._addCalendarFooterListeners(),e.$.timePickerDropDown&&e._addTimePickerListener(),e._positionDetection.dropDownAttached())}detached(){const e=this;if(super.detached(),e.close(),e._defaultFooterTemplateApplied){const t=e.$.calendarDropDown.$footer;t.unlisten("change"),t.unlisten("click"),t.unlisten("wheel")}e.$.timePickerDropDown&&e.$.timePickerDropDown.$.unlisten("change"),e._positionDetection.dropDownDetached()}ready(){super.ready();const e=this;e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),e._edgeMacFF&&e.$dropDownContainer.addClass("not-in-view"),e._defaultFooterTemplate=document.createElement("template"),e._defaultFooterTemplate.innerHTML='<div class="jqx-date-time-picker-footer">\n                <div class="jqx-footer-component jqx-footer-component-hour">\n                    <input type="text" class="jqx-hour-element" />\n                    <span>\n                        <jqx-repeat-button initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-up"></span>\n                        </jqx-repeat-button>\n                        <jqx-repeat-button  initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-down"></span>\n                        </jqx-repeat-button>\n                    </span>\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-minute">\n                    <input class="jqx-minute-element" />\n                    <span>\n                        <jqx-repeat-button initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-up"></span>\n                        </jqx-repeat-button>\n                        <jqx-repeat-button initial-delay="0" delay="75">\n                            <span class="jqx-arrow jqx-arrow-down"></span>\n                        </jqx-repeat-button>\n                    </span>\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-ampm">\n                    <input type="text" class="jqx-am-pm-element" />\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-today">\n                    <div tabindex="-1" class="jqx-today-element" title="Now"></div>\n                </div>\n            </div>',e._codeToMethod={y:"addYears",yy:"addYears",yyyy:"addYears",yyyyy:"addYears",M:"addMonths",MM:"addMonths",MMM:"addMonths",MMMM:"addMonths",d:"addDays",dd:"addDays",ddd:"addDays",dddd:"addDays",H:"addHours",HH:"addHours",h:"addHours",hh:"addHours",m:"addMinutes",mm:"addMinutes",s:"addSeconds",ss:"addSeconds",f:"addDeciseconds",ff:"addCentiseconds",fff:"addMilliseconds",u:"addMicroseconds",uu:"addMicroseconds",n:"addNanoseconds",nn:"addNanoseconds",p:"addPicoseconds",pp:"addPicoseconds",e:"addFemtoseconds",ee:"addFemtoseconds",a:"addAttoseconds",aa:"addAttoseconds",x:"addZeptoseconds",xx:"addZeptoseconds",o:"addYoctoseconds",oo:"addYoctoseconds"},e._codeToIndex={y:0,yy:0,yyyy:0,yyyyy:0,M:1,MM:1,MMM:1,MMMM:1,d:2,dd:2,ddd:2,dddd:2,H:3,HH:3,h:3,hh:3,m:4,mm:4,s:5,ss:5,f:6,ff:6,fff:6,u:7,uu:7,n:8,nn:8,p:9,pp:9,e:10,ee:10,a:11,aa:11,x:12,xx:12,o:13,oo:13},e._getLocalizedNames(),e._validateInitialPropertyValues(),e._setFocusable(),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.content,"close"),e._positionDetection.customPositionDropDown=e._positionExternalDropDown,e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._positionDetection.handleAutoPositioning(),e.$.dropDownContainer.setAttribute("animation",e.animation),e.$.dropDownContainer.setAttribute("drop-down-display-mode",e.dropDownDisplayMode)}close(){this.opened&&this._close()}focus(){this.$.input.focus()}select(){this.$.input.select()}open(){this.opened||this._open()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"animation":case"theme":n.$.timePickerDropDown&&(n.$.timePickerDropDown[e]=i),"animation"===e&&(n.$.dropDownContainer.setAttribute("animation",n.animation),n._defaultFooterTemplateApplied&&Array.from(n.$.calendarDropDown.$.footer.getElementsByTagName("jqx-repeat-button")).forEach(function(e){e.animation=i}));break;case"calendarButton":n.$.dropDownContainer.style.transition="none",i||n.close();break;case"calendarButtonPosition":n.$.dropDownContainer.style.transition="none",n.close(),"left"===i?n.$.content.insertBefore(n.$.calendarButton,n.$.content.firstElementChild):null===n._dropDownParent?n.$.content.insertBefore(n.$.calendarButton,n.$.dropDownContainer):n.$.content.appendChild(n.$.calendarButton);break;case"disabled":i?(n.close(),n.$.upButton.disabled=!0,n.$.downButton.disabled=!0):n._disableSpinButtons(),n._setFocusable(),n._positionDetection.handleAutoPositioning();break;case"displayKind":{const e=n._outputTimeZone;switch(i){case"unspecified":n._outputTimeZone=n._inputTimeZone;break;case"UTC":n._outputTimeZone="UTC";break;case"local":n._outputTimeZone="Local"}if(n._outputTimeZone===e)return;null!==n._value&&(n.close(),n._toSync=!0,n._value=n._value.toTimeZone(n._outputTimeZone),n._applyFormatString()),n.min=n.min.toTimeZone(n._outputTimeZone),n.max=n.max.toTimeZone(n._outputTimeZone);for(let e=0;e<n.restrictedDates.length;e++){let t=n.restrictedDates[e];t=t.toTimeZone(n._outputTimeZone)}break}case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownDisplayMode":n._changeDropDownDisplayMode();break;case"dropDownOverlay":i||n._positionDetection.removeOverlay();break;case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler();break;case"footerTemplate":if(null!==i){n._defaultFooterTemplateApplied=!1;const e=n.$.calendarDropDown.$footer;e.unlisten("change"),e.unlisten("click"),e.unlisten("wheel"),n.$.calendarDropDown.footerTemplate=i}else{n._setDefaultFooterTemplate();const e=n._value;n._hourElement.value=e.toString("hh"),n._minuteElement.value=e.toString("mm"),n._ampmElement.value=e.toString("tt")}break;case"formatString":""===i&&(n.formatString="dd-MMM-yy HH:mm:ss.fff"),n._getFormatStringRegExp(),n._applyFormatString(),"auto"===n.dropDownDisplayMode&&n._changeDropDownDisplayMode();break;case"interval":n._validateInterval(t);break;case"locale":case"messages":if(n.$.selectDate.innerHTML=n.localize("dateTabLabel"),n.$.selectTime.innerHTML=n.localize("timeTabLabel"),n._defaultFooterTemplateApplied&&(n._todayElement.title=n.localize("now")),"messages"===e)return;n._getLocalizedNames(),n.min.calendar.days=n._localizedDays,n.min.calendar.months=n._localizedMonths,n.min.calendar.locale=n.locale,n.max.calendar.days=n._localizedDays,n.max.calendar.months=n._localizedMonths,n.max.calendar.locale=n.locale,null!==n.value&&(n._value.calendar.days=n._localizedDays,n._value.calendar.months=n._localizedMonths,n._value.calendar.locale=n.locale,n.value.calendar.days=n._localizedDays,n.value.calendar.months=n._localizedMonths,n.value.calendar.locale=n.locale),JQX.Utilities.DateTime.cache=[],n._applyFormatString();break;case"max":case"min":n._validateMinMax(e,t),"strict"===n.validation?n._validateValue():n._minMaxChanged=!0;break;case"nullable":!0===t&&null===n._value&&n._validateValue(n._now(),null);break;case"opened":i?n._open():n._close();break;case"readonly":case"unfocusable":i&&n.close(),"unfocusable"===e&&n._setFocusable();break;case"restrictedDates":n._validateRestrictedDates(),n._validateValue();break;case"spinButtonsPosition":"right"===i?n.$.content.insertBefore(n.$.spinButtonsContainer,n.$.input.nextElementSibling):n.$.content.insertBefore(n.$.spinButtonsContainer,n.$.input);break;case"validation":"strict"===i&&(delete n._minMaxChanged,n._validateValue());break;case"value":{let e;e=null!==i?(e=JQX.Utilities.DateTime.validateDate(i,n._now(),n.formatString)).toTimeZone(n._outputTimeZone):null,n._validateValue(e,n._value,void 0,!0);break}}}_addCalendarFooterListeners(){const e=this.$.calendarDropDown.$footer;e.listen("change",this._footerChangeHandler.bind(this)),e.listen("click",this._footerClickHandler.bind(this)),e.listen("wheel",this._footerWheelHandler.bind(this))}_addTimePickerListener(){const e=this;e.$.timePickerDropDown.$.listen("change",function(t){const i=e.context,n=t.detail.value,r=JQX.Utilities.DateTime.getConstructorParameters(null!==e._value?e._value:e._now());e.context=e,r[3]=n.getHours(),r[4]=n.getMinutes(),e._timePickerInitiatedChange=!0,r.unshift(null),e._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,r))),e._timePickerInitiatedChange=!1,e.context=i})}_applyFormatString(){const e=this;null!==e.value&&(e.$.input.value=e._value.toString(e.formatString))}_calendarButtonMouseEnterHandler(){this.$.calendarButton.setAttribute("hover","")}_calendarButtonMouseLeaveHandler(){this.$.calendarButton.removeAttribute("hover")}_calendarButtonClickHandler(e){const t=this;t._highlightedTimePart=void 0,t.disabled||t.readonly||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t.$.calendarButton,e.pageX,e.pageY),t.opened?t._close():t._open())}_calendarDropDownChangeHandler(e){const t=this;if(e.stopPropagation(),t._disregardCalendarChangeEvent)t._disregardCalendarChangeEvent=!1;else if(this.$.calendarDropDown.selectedDates.length>0){const i=e.detail.value[0],n=null!==t._value?t._value:t._now(),r=JQX.Utilities.DateTime.getConstructorParameters(n);if(r[0]=i.getFullYear(),r[1]=i.getMonth()+1,r[2]=i.getDate(),t._calendarInitiatedChange=!0,r.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,r))),t._defaultFooterTemplateApplied){const e=t._value;""===t._hourElement.value&&(t._hourElement.value=e.toString("hh")),""===t._ampmElement.value&&(t._ampmElement.value=e.toString("tt")),""===t._minuteElement.value&&(t._minuteElement.value=e.toString("mm"))}t._calendarInitiatedChange=!1}else t._setNullValue()}_calendarDropDownClickHandler(e){const t=this;t.autoClose&&e.target.closest(".jqx-calendar-cell")&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay))}_changeDropDownDisplayMode(){function e(e,i,n,r){t.$dropDownHeader[e]("jqx-hidden"),t.$calendarDropDown[i]("jqx-hidden"),t._timePickerInitialized&&t.$.timePickerDropDown.$[n]("jqx-hidden"),r&&(t.opened?t.$.calendarDropDown._refreshTitle():t._toSync=!0)}const t=this,i=t._dropDownDisplayMode;t._detectDisplayMode(),t._dropDownDisplayMode!==i&&("default"===t._dropDownDisplayMode?(t.$.calendarDropDown.viewSections=["title","header"],t.$selectDate.addClass("jqx-selected"),t.$selectTime.removeClass("jqx-selected"),e("removeClass","removeClass","addClass",!0)):"classic"===t._dropDownDisplayMode?(t.$.calendarDropDown.viewSections=["header","footer"],e("addClass","removeClass","addClass")):"calendar"===t._dropDownDisplayMode?(t.$.calendarDropDown.viewSections=["title","header"],e("addClass","removeClass","addClass",!0)):(e("addClass","addClass","removeClass"),t._timePickerInitialized||t._initializeTimePicker()),t.$.dropDownContainer.setAttribute("drop-down-display-mode",t.dropDownDisplayMode))}_cloneValue(){const e=this;return null!==e._value?e._value.clone():null}_close(){const e=this;e.$.fireEvent("closing").defaultPrevented?e.opened=!0:(e.$.calendarDropDown.disabled=!0,e.$calendarButton.removeClass("jqx-calendar-button-pressed"),e.$.calendarButton.removeAttribute("active"),e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.opened=!1,e._positionDetection.removeOverlay(!0),e.$.fireEvent("close"),e._edgeMacFF&&!e.hasAnimation&&(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,e.$dropDownContainer.addClass("not-in-view")))}_detectDisplayMode(){const e=this;"auto"!==e.dropDownDisplayMode?e._dropDownDisplayMode=e.dropDownDisplayMode:e._dropDownDisplayMode=JQX.Utilities.DateTime.detectDisplayMode(e.value||e.min,e.formatString,e._formatStringRegExp),"timePicker"===e._dropDownDisplayMode?(e.$calendarButton.addClass("time"),"Enter date"===e.placeholder&&(e.placeholder="Enter time")):(e.$calendarButton.removeClass("time"),"Enter time"===e.placeholder&&(e.placeholder="Enter date")),"default"===e._dropDownDisplayMode?e.$dropDownContent.removeClass("partial"):e.$dropDownContent.addClass("partial")}_disableSpinButtons(){if(this.disabled)return;const e=null===this._value;this.$.upButton.disabled=e,this.$.downButton.disabled=e}_documentUpHandler(e){const t=this,i=t.enableShadowDOM&&t.shadowRoot.activeElement||document.activeElement,n=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;JQX.Utilities.Core.isMobile||i!==t.$.input||"partial"!==t.editMode||null===t._value||n===t.$.input&&t.$.input.selectionStart!==t.$.input.selectionEnd?n===t.$.calendarButton||t.$.dropDownContainer.contains(n)||t.$.dropDownContainer.contains(t._getRootShadowHost(n))||(t.close(),i===t.$.input||t.contains(n)||(t._highlightedTimePart=void 0)):(t._highlightedTimePartEdit=!1,t._validateValue(t.$.input.value,t._cloneValue(),!1),t._highlightTimePartBasedOnCursor()),t._mouseFocus=!1}_getRootShadowHost(e){const t=this;if(!t.enableShadowDOM)return;let i,n=e.getRootNode().host;for(;n&&n!==t&&n!==document;)i=n,n=n.getRootNode().host;return i}_dropDownHeaderClickHandler(e){const t=this;if(e.target===t.$.selectDate){if(t.$selectDate.hasClass("jqx-selected"))return;t.$selectDate.addClass("jqx-selected"),t.$selectTime.removeClass("jqx-selected"),t.$.timePickerDropDown.$.addClass("jqx-hidden"),t.$calendarDropDown.removeClass("jqx-hidden")}else{if(t.$selectTime.hasClass("jqx-selected"))return;t.$selectDate.removeClass("jqx-selected"),t.$selectTime.addClass("jqx-selected"),t.$calendarDropDown.addClass("jqx-hidden"),t._timePickerInitialized?t.$.timePickerDropDown.$.removeClass("jqx-hidden"):t._initializeTimePicker()}}_dropDownKeydownHandler(e){const t=this,i=e.key,n=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;!t.$.dropDownHeader.contains(n)||"Enter"!==i&&" "!==i?"Escape"===i||e.altKey&&"ArrowUp"===i?(e.preventDefault(),t.close(),t.$.input.focus()):"Enter"!==i&&" "!==i||!n.classList.contains("jqx-footer-component-today")?"Enter"===i&&(n===t.$.calendarDropDown.$.body&&t.$.calendarDropDown.querySelectorAll(".jqx-calendar-cell[selected][focus]").length>0||t._timePickerInitialized&&n===t.$.timePickerDropDown.$.picker)&&(e.preventDefault(),t.close()):(e.preventDefault(),t._validateValue(t._now()),t.close()):(e.preventDefault(),t._dropDownHeaderClickHandler({target:n}))}_dropDownTransitionendHandler(){const e=this;if(e.hasAnimation)return e.opened&&e._toFocus?(e._toFocus.focus(),delete e._toFocus,void(e._timePickerInitialized&&!e.$.timePickerDropDown.classList.contains("jqx-hidden")&&requestAnimationFrame(()=>e.$.timePickerDropDown._highlightLabel()))):e._edgeMacFF&&!e.opened?(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,void e.$dropDownContainer.addClass("not-in-view")):void 0}_footerChangeHandler(e){const t=this,i=t.context,n=e.target,r=null!==t._value?t._value:t._now();let a,s=n.value;if(t.context=t,e.stopPropagation(),n.classList.contains("jqx-hour-element")){if(s=parseInt(s,10),isNaN(s)||s<0||s>12)return void(n.value=r.toString("hh"));s>0&&s<12&&"PM"===r.toString("tt")&&(s+=12),a="hh"}else{if(!n.classList.contains("jqx-minute-element")){if(null===t._value)return void(n.value="");const e=r.toString("tt");return s=s.toLowerCase(),void("PM"===e&&("a"===s||"am"===s)||"AM"===e&&("p"===s||"pm"===s)?(t._incrementDecrement(void 0,"tt"),n.value=t._value.toString("tt")):n.value=e)}if(s=parseInt(s,10),isNaN(s)||s<0||s>59)return void(n.value=r.toString("mm"));a="mm"}const o=JQX.Utilities.DateTime.getConstructorParameters(r);o[t._codeToIndex[a]]=s,o.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,o))),n.value=t._value.toString(a),t.context=i}_footerClickHandler(e){const t=this,i=t.context,n=e.target;if(t.context=t,n.classList.contains("jqx-today-element"))t._validateValue(t._now()),t.autoClose&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay));else{const e=n.closest("jqx-repeat-button");if(null!==e){const i=e===e.parentElement.children[1],n=e.closest(".jqx-footer-component").classList.contains("jqx-footer-component-hour")?"hh":"mm";t._incrementDecrement(i,n)}}t.context=i}_footerWheelHandler(e){const t=this,i=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(t.enableMouseWheelAction&&e.target instanceof HTMLInputElement&&i===e.target){const i=t.context,n=e.target;t.context=t,n.classList.contains("jqx-hour-element")?t._incrementDecrement(e.deltaY>0,"hh"):n.classList.contains("jqx-minute-element")?t._incrementDecrement(e.deltaY>0,"mm"):t._incrementDecrement(void 0,"tt"),t.context=i,e.stopPropagation()}}_getAndHighlightTimePart(e,t,i){const n=this;n._programmaticSelection=!0,n.$.input.selectionStart!==e||n.$.input.selectionEnd!==t?n.$.input.setSelectionRange(e,t):setTimeout(function(){n.$.input.setSelectionRange(e,t)},200),n._highlightedTimePart={code:n._formatStringRegExp.groups[i],index:i,from:e,to:t}}_getFormatStringRegExp(){this._formatStringRegExp=this.min.getParseRegExp(this.min.calendar,this.formatString.replace(/y+/g,"yyyyy")),this._formatStringRegExp.regExp=new RegExp(this._formatStringRegExp.regExp)}_getLocalizedNames(){const e=JQX.Utilities.DateTime.getLocalizedNames(this.locale);this._localizedDays=e.days,this._localizedMonths=e.months,this.$.selectDate.innerHTML=this.localize("dateTabLabel"),this.$.selectTime.innerHTML=this.localize("timeTabLabel")}_handleManualTimePartEdit(e){const t=this,i=JQX.Utilities.DateTime.getConstructorParameters(t._value);if(e=e[t._highlightedTimePart.index+1],isNaN(e)){if(1===t._codeToIndex[t._highlightedTimePart.code]){let n=-1;if(e.length>1&&t._localizedMonths.names.some(function(t,i){if(-1!==t.toLowerCase().indexOf(e.toLowerCase()))return n=i,!0}),-1===n)return void t._applyFormatString();i[1]=n+1}}else{if("f"===t._highlightedTimePart.code)e=100*parseInt(e,10);else if("ff"===t._highlightedTimePart.code)e=10*parseInt(e,10);else if(-1!==t._highlightedTimePart.code.indexOf("y")&&e.length<3){const i=t.yearCutoff.toString(),n=parseInt(i.slice(2),10);let r=parseInt(i.slice(0,2),10);(e=parseInt(e,10))<n&&r++,e=e.toString(),e=r+""+"0".repeat(2-e.length)+e}else if(-1!==t._highlightedTimePart.code.indexOf("h")){const i=t._value.hour();e=parseInt(e,10),i>11&&e<=11&&(e+=12)}i[t._codeToIndex[t._highlightedTimePart.code]]=parseInt(e,10)}try{i.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,i)))}catch(e){t._applyFormatString()}}_highlightTimePartBasedOnCursor(e){const t=this,i=t.$.input.value,n=t._formatStringRegExp.regExp.exec(i);function r(){return void 0===e?t.$.input.selectionStart:e}if(null===n)return void(t._highlightedTimePart=void 0);t._iOS||void 0!==e||(e=t.$.input.selectionStart);let a,s=n.index;for(let e=1;e<n.length;e++){const o=n[e];if(s=(a=i.indexOf(o,s))+o.length,1===e&&r()<a){t._getAndHighlightTimePart(a,s,0);break}if(r()>=a&&r()<=s){t._getAndHighlightTimePart(a,s,e-1);break}const l=n[e+1];if(!l){t._programmaticSelection=!0,t.$.input.setSelectionRange(a,s),t._highlightedTimePart={code:t._formatStringRegExp.groups[e-1],index:e-1,from:a,to:s};break}{const n=i.indexOf(l,s);if(r()>s&&r()<n){r()-s<=n-r()?t._getAndHighlightTimePart(a,s,e-1):(t._formatStringRegExp.groups[e],t._programmaticSelection=!0,t.$.input.setSelectionRange(n,n+l.length));break}}}}_highlightTimePartBasedOnIndex(e){const t=this,i=t.$.input.value,n=t._formatStringRegExp.regExp.exec(i);if(null===n)return t._validateValue(void 0,t._cloneValue(),!1),void t._highlightTimePartBasedOnIndex(e);let r,a=n.index;const s=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement;if(!(e<0||e>=n.length)){t.$.input!==s&&t.$.input.focus();for(let s=1;s<n.length;s++){const o=n[s];if(a=(r=i.indexOf(o,a))+o.length,e===s-1){t._getAndHighlightTimePart(r,a,e);break}}}}_incrementDecrement(e,t){const i=this,n=i._cloneValue();if(i._minMaxChanged&&(i._value=i._rangeValidation(i._value),delete i._minMaxChanged),void 0===t&&i._highlightedTimePart&&(t=i._highlightedTimePart.code),void 0!==t){if("z"===t||"zz"===t||"zzz"===t)return void i._highlightTimePartBasedOnIndex(i._highlightedTimePart.index);i._value="t"===t||"tt"===t?i._value.addHours(i._value.hour()<12?12:-12,!0):i._value[i._codeToMethod[t]](e?-1:1,!0),i._validateValue(void 0,n,!1),i._highlightedTimePart&&i._highlightTimePartBasedOnIndex(i._highlightedTimePart.index)}else i._value=i._value.add(e?i.interval.negate():i.interval,void 0,!0),i._validateValue(void 0,n,!1);0!==n.compare(i._value)&&i.$.fireEvent("change",{oldValue:n.toTimeZone(i._inputTimeZone),value:i.value})}_initializeTimePicker(){const e=document.createElement("jqx-time-picker");e.animation=this.animation,e.theme=this.theme,e.value=null!==this._value?this._value.toDate():this._now(),this.$.timePickerDropDown=e,e.$=JQX.Utilities.Extend(e),this.$.dropDownContent.appendChild(e),this._timePickerInitialized=!0,this._addTimePickerListener()}_inputBlurHandler(){this.removeAttribute("focus"),this._fullEdit=!1,this._highlightedTimePartEdit=!1}_inputChangeHandler(e){const t=this;if(e&&e.stopPropagation(),""!==t.$.input.value){if(t._fullEdit||null===t._value)t._fullEdit=!1,t._validateValue(t.$.input.value),t._highlightTimePartBasedOnCursor();else if(t._highlightedTimePartEdit){t._highlightedTimePartEdit=!1;let e=t._formatStringRegExp.regExp.exec(t.$.input.value);null!==e?t._handleManualTimePartEdit(e):t._applyFormatString()}}else t._setNullValue()}_inputDragstartHandler(e){e.preventDefault()}_inputFocusHandler(){const e=this;if(e.setAttribute("focus",""),"full"!==e.editMode){const t=JQX.Utilities.Core.isMobile?10:0;setTimeout(function(){e._iOS?e._highlightTimePartBasedOnCursor():!0!==e._mouseFocus&&(void 0===e._highlightedTimePart?e._highlightTimePartBasedOnCursor(e._iOS?void 0:0):e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index))},t)}}_inputKeydownHandler(e){const t=this,i=t.editMode,n=e.key;if("Tab"!==n){if(e.altKey&&"ArrowDown"===n)return e.preventDefault(),void t.open();if("Escape"===n||e.altKey&&"ArrowUp"===n)return e.preventDefault(),void t.close();if("full"!==i){if("partial"===i){if("Delete"===n)return void(null!==t._value&&(t._setNullValue(),e.preventDefault()));if(null===t._value&&(t._validateValue(t._now(),null,!1),t._highlightTimePartBasedOnIndex(0)),-1!==["/",".","-",","," "].indexOf(n))return t._inputChangeHandler(),t._navigateToNextTimePart(),void e.preventDefault();if("Backspace"===n)return t._resetTimePart(),t._highlightedTimePart.index>0?t._navigateToPreviousTimePart():t._highlightTimePartBasedOnIndex(0),void e.preventDefault()}else if(t._fullEdit||t._highlightedTimePartEdit||t.readonly||-1!==["Alt","Control","Shift"].indexOf(n)||e.altKey||e.ctrlKey)return;if(-1!==["End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].indexOf(n)){if(e.preventDefault(),"partial"===i&&t._highlightedTimePartEdit&&t._inputChangeHandler(),null!==t._value)switch(n){case"End":t._highlightTimePartBasedOnIndex(t._formatStringRegExp.groups.length-1);break;case"Home":t._highlightTimePartBasedOnIndex(0);break;case"ArrowLeft":t._navigateToPreviousTimePart();break;case"ArrowUp":t._incrementDecrement();break;case"ArrowRight":t._navigateToNextTimePart();break;case"ArrowDown":t._incrementDecrement(!0)}}else if(t._highlightedTimePart){if("partial"!==i&&t._highlightedTimePart.to-t._highlightedTimePart.from!=t.$.input.selectionEnd-t.$.input.selectionStart)return void(t._fullEdit=!0);const r=t._highlightedTimePart.code;if("ddd"===r||"dddd"===r||"z"===r||"zz"===r||"zzz"===r||"t"===r||"tt"===r)return void e.preventDefault();if("partial"===i&&"MMM"!==r&&"MMMM"!==r&&!1===new RegExp(/^\d+$/).test(n))return void((n.length<2||"F"!==n.charAt(0))&&e.preventDefault());t._highlightedTimePartEdit=!0}}else t._fullEdit=!0}}_inputDownHandler(){const e=this;e._fullEdit||e._highlightedTimePartEdit||"full"===e.editMode||JQX.Utilities.Core.isMobile||setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},0)}_inputPasteHandler(e){"partial"===this.editMode?e.preventDefault():this._fullEdit=!0}_inputSelectHandler(){const e=this,t=e.enableShadowDOM?e.shadowRoot.activeElement:document.activeElement;"partial"===e.editMode&&t===e.$.input&&(!0===e._programmaticSelection?e._programmaticSelection=!1:e._highlightedTimePart?e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index):e._highlightTimePartBasedOnIndex(0))}_inputUpHandler(){const e=this;JQX.Utilities.Core.isMobile&&(e._iOS?(e._mouseFocus=!0,setTimeout(function(){document.activeElement===e.$.input&&e._highlightTimePartBasedOnCursor()},50)):setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},10))}_inputWheelHandler(e){const t=this;(t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement)!==t.$.input||!t.enableMouseWheelAction||t.disabled||t.readonly||(e.preventDefault(),t._incrementDecrement(e.deltaY>0))}_isRestricted(e){const t=this.restrictedDates;let i=!1;for(let n=0;n<t.length;n++)if(e.equalDateParts(t[n])){i=!0;break}return i}_mouseoutHandler(e){const t=this,i=e.target;t.disabled||i!==t.$.input&&i!==t.$.calendarButton||(i.removeAttribute("hover"),t.removeAttribute("hover"))}_mouseoverHandler(e){const t=this,i=e.target;t.disabled||i!==t.$.input&&i!==t.$.calendarButton||(i.setAttribute("hover",""),t.setAttribute("hover",""))}_navigateToNextTimePart(){this._highlightTimePartBasedOnIndex(this._highlightedTimePart.index+1)}_navigateToPreviousTimePart(){this._highlightTimePartBasedOnIndex(this._highlightedTimePart.index-1)}_now(){const e=this,t=new JQX.Utilities.DateTime("today","Local");return"Local"!==e._outputTimeZone?t.toTimeZone(e._outputTimeZone):t}_open(){const e=this;if(e.disabled||e.readonly)return void(e.opened=!1);if(e.$.fireEvent("opening").defaultPrevented)return void(e.opened=!1);if(e._edgeMacFF&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition="",e.$.calendarDropDown.disabled=!1,e.$calendarButton.addClass("jqx-calendar-button-pressed"),e.$.calendarButton.setAttribute("active",""),("default"!==e._dropDownDisplayMode&&"timePicker"!==e._dropDownDisplayMode||!e._timePickerInitialized||e._timePickerInitialized&&e.$.timePickerDropDown.$.hasClass("jqx-hidden"))&&e.$calendarDropDown.removeClass("jqx-hidden"),e.opened=!0,e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e._toSync){const t=e._value;if(null!==t)e._disregardCalendarChangeEvent=!0,e.$.calendarDropDown.selectedDates=[t.toDate()],e._defaultFooterTemplateApplied&&(e._hourElement.value=t.toString("hh"),e._minuteElement.value=t.toString("mm"),e._ampmElement.value=t.toString("tt")),e._timePickerInitialized&&(e.$.timePickerDropDown.value=t.toDate());else{const t=e.$.calendarDropDown.context;e.$.calendarDropDown.context=e.$.calendarDropDown,e.$.calendarDropDown._clearSelection(!0),e.$.calendarDropDown.context=t,e._defaultFooterTemplateApplied&&(e._hourElement.value="",e._minuteElement.value="",e._ampmElement.value="")}e._toSync=!1}let t;switch(e._dropDownDisplayMode){case"default":t=e.$selectDate.hasClass("jqx-selected")?e.$.calendarDropDown:e.$.timePickerDropDown.$.picker;break;case"classic":case"calendar":t=e.$.calendarDropDown;break;case"timePicker":t=e.$.timePickerDropDown.$.picker}e.hasAnimation?e._toFocus=t:t.focus()}_positionExternalDropDown(e){const t=this.context,i=!t.calendarButton||"right"===t.calendarButtonPosition,n=t._dropDownListPosition,r=t.$.dropDownContainer;let a,s=i?e.right-r.offsetWidth:e.left;switch(n){case"bottom":a=e.bottom;break;case"overlay-top":a=e.bottom-r.offsetHeight;break;case"overlay-center":a=e.top+e.height/2-r.offsetHeight/2;break;case"overlay-bottom":a=e.top;break;case"top":a=e.top-r.offsetHeight;break;case"center-bottom":case"center-top":a="center-bottom"===n?e.bottom+5:e.top-5-r.offsetHeight,s=i?e.right-r.offsetWidth/2-t.$.calendarButton.offsetWidth/2:e.left-r.offsetWidth/2+t.$.calendarButton.offsetWidth/2}return{left:s,top:a}}_rangeValidation(e){const t=this;return-1===e.compare(t.min)?t.min.clone():1===e.compare(t.max)?t.max.clone():e}_resetTimePart(){const e=this,t=e._highlightedTimePart.code,i=e._codeToIndex[t],n=JQX.Utilities.DateTime.getConstructorParameters(e._value);let r;r=i>2?0:i>0?1:e.min.year(),n[i]=r,n.unshift(null),e._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,n)))}_setDefaultFooterTemplate(e){const t=this;t.$.calendarDropDown.footerTemplate=t._defaultFooterTemplate,e&&t.$.calendarDropDown._handleLayoutTemplate(t.$.calendarDropDown.$.footer,t._defaultFooterTemplate),t._hourElement=t.$.calendarDropDown.getElementsByClassName("jqx-hour-element")[0],t._minuteElement=t.$.calendarDropDown.getElementsByClassName("jqx-minute-element")[0],t._ampmElement=t.$.calendarDropDown.getElementsByClassName("jqx-am-pm-element")[0],t._todayElement=t.$.calendarDropDown.getElementsByClassName("jqx-today-element")[0],t._todayElement.title=t.localize("now"),Array.from(t.$.calendarDropDown.$.footer.getElementsByTagName("jqx-repeat-button")).forEach(function(e){e.animation=t.animation}),t._addCalendarFooterListeners(),t._defaultFooterTemplateApplied=!0}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.$.input.tabIndex=-1,e.$.selectDate.removeAttribute("tabindex"),e.$.selectTime.removeAttribute("tabindex"),void(e._defaultFooterTemplateApplied&&(e._hourElement.tabIndex=-1,e._ampmElement.tabIndex=-1,e._minuteElement.tabIndex=-1));const t=e.tabIndex>0?e.tabIndex:0;e.$.input.removeAttribute("tabindex"),e.$.selectDate.tabIndex=t,e.$.selectTime.tabIndex=t,e._defaultFooterTemplateApplied&&(e._hourElement.removeAttribute("tabindex"),e._ampmElement.removeAttribute("tabindex"),e._minuteElement.removeAttribute("tabindex"),e.$.calendarDropDown.getElementsByClassName("jqx-footer-component-today")[0].tabIndex=t)}_setNullValue(e){const t=this;if(void 0===e&&(e=t._cloneValue()),t.nullable){if(t._value=null,t.value=null,t._highlightedTimePart=void 0,t.$.input.value="",null!==e){if(t.opened){if(!t._calendarInitiatedChange){const e=t.$.calendarDropDown.context;t.$.calendarDropDown.context=t.$.calendarDropDown,t.$.calendarDropDown._clearSelection(!0),t.$.calendarDropDown.context=e}t._defaultFooterTemplateApplied&&(t._hourElement.value="",t._ampmElement.value="",t._minuteElement.value=""),t._toSync=!1}else t._toSync=!0;t.$.fireEvent("change",{oldValue:e.toTimeZone(t._inputTimeZone),value:null})}t._disableSpinButtons()}else t._validateValue(t._now(),e)}_spinButtonsClickHandler(e){const t=this;null===t._value||t.disabled||t.readonly||t._incrementDecrement(t.$.downButton.contains(e.target))}_validateInitialPropertyValues(){const e=this,t=e.$.calendarDropDown;"left"===e.calendarButtonPosition&&e.$.content.insertBefore(e.$.calendarButton,e.$.input),"left"===e.spinButtonsPosition&&e.$.content.insertBefore(e.$.spinButtonsContainer,e.$.input),e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.disabled||e.readonly?e.opened=!1:(t.disabled=!1,e.$calendarButton.addClass("jqx-calendar-button-pressed"),e.$.calendarButton.setAttribute("active",""),e.$calendarDropDown.removeClass("jqx-hidden"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"))),null===e.footerTemplate?e._setDefaultFooterTemplate(!0):(t.footerTemplate=e.footerTemplate,t._handleLayoutTemplate(t.$.footer,e.footerTemplate)),""===e.formatString&&(e.formatString="dd-MMM-yy HH:mm:ss.fff");const i=e.displayKind;let n;if("UTC"===i?e._outputTimeZone="UTC":"local"===i&&(e._outputTimeZone="Local"),null!==e.value?(n=JQX.Utilities.DateTime.validateDate(e.value,new JQX.Utilities.DateTime,e.formatString),e._inputTimeZone=n.timeZone,"unspecified"!==i&&e._inputTimeZone!==e._outputTimeZone?n=n.toTimeZone(e._outputTimeZone):"unspecified"===i&&(e._outputTimeZone=e._inputTimeZone)):(n=null,e._inputTimeZone="Local"),e._validateRestrictedDates(),e._validateMinMax("both"),e._validateValue(n,e._now(),!1,!0),e._validateInterval(new JQX.Utilities.TimeSpan(0,0,1)),e._getFormatStringRegExp(),e._defaultFooterTemplateApplied&&""===e._hourElement.value&&null!==e.value){const t=e.value;e._hourElement.value=t.toString("hh"),e._ampmElement.value=t.toString("tt"),e._minuteElement.value=t.toString("mm")}e._detectDisplayMode();const r=e._dropDownDisplayMode;"default"===r||"calendar"===r?(t.viewSections=["title","header"],t.$title.hasClass("jqx-hidden")&&t.propertyChangedHandler("viewSections",["header","footer"],["title","header"]),"default"===r&&e.$dropDownHeader.removeClass("jqx-hidden")):"timePicker"===r&&(e.$calendarDropDown.addClass("jqx-hidden"),e._initializeTimePicker())}_validateInterval(e){const t=this,i=t.interval;let n=i;if(i instanceof JQX.Utilities.TimeSpan)n=i;else if("string"==typeof i){const r=i.indexOf("TimeSpan("),a=i.indexOf(")");if(-1!==r&&-1!==a&&(n=(n=i.slice(r+9,a)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),new RegExp(/(^(\d+)(,\s*\d+)*$)/g).test(n)&&((n=(n=n.replace(/\s/g,"")).split(",")).map(function(e,t){n[t]=parseInt(e)}),n.unshift(null),n=new(Function.prototype.bind.apply(JQX.Utilities.TimeSpan,n)))),n instanceof JQX.Utilities.TimeSpan==!1){if(""===n.trim())return void(t.interval=e);isNaN(n)||(n=1e4*parseInt(n,10));try{n=new JQX.Utilities.TimeSpan(n)}catch(i){return void(t.interval=e)}}}else{if("number"!=typeof i)return void(t.interval=e);n=new JQX.Utilities.TimeSpan(i)}0===n._ticks?t.interval=e:t.interval=n}_validateMinMax(e,t){const i=this;let n=!1;"max"!==e&&(i.min=JQX.Utilities.DateTime.validateDate(i.min,t||new JQX.Utilities.DateTime(1600,1,1),i.formatString),i.min=i.min.toTimeZone(i._outputTimeZone),n=!0),"min"!==e&&(i.max=JQX.Utilities.DateTime.validateDate(i.max,t||new JQX.Utilities.DateTime(3001,1,1),i.formatString),i.max=i.max.toTimeZone(i._outputTimeZone),i.max.calendar.days=i._localizedDays,i.max.calendar.months=i._localizedMonths,i.max.calendar.locale=i.locale,i.$.calendarDropDown.max=i.max.toDate()),i.min.compare(i.max)>0&&(i.min=i.max.clone(),n=!0),n&&(i.min.calendar.days=i._localizedDays,i.min.calendar.months=i._localizedMonths,i.min.calendar.locale=i.locale,i.$.calendarDropDown.min=i.min.toDate())}_validateRestrictedDates(){const e=this,t=[],i=[];for(let n=0;n<e.restrictedDates.length;n++){const r=e.restrictedDates[n];let a=JQX.Utilities.DateTime.validateDate(r,"invalid",e.formatString);"invalid"!==a&&(a=a.toTimeZone(e._outputTimeZone),t.push(a),i.push(a.toDate()))}e.restrictedDates=t,e.$.calendarDropDown.restrictedDates=i}_validateValue(e,t,i,n){const r=this,a=void 0!==t?t:r._cloneValue();if(null===e||""===e)return void r._setNullValue(a);if(void 0!==e&&(r._value=JQX.Utilities.DateTime.validateDate(e,a,r.formatString)),null===r._value)return void r._setNullValue(a);let s=r._value;for(;!0===r._isRestricted(s);)s.addDays(1,!1);const o=r._rangeValidation(s);n&&"strict"!==r.validation?!1===s.equals(o)&&(r._minMaxChanged=!0):(r._value=o,delete r._minMaxChanged),r.value=r._value.toTimeZone(r._inputTimeZone);const l=r._value;if(l.calendar.days=r._localizedDays,l.calendar.months=r._localizedMonths,l.calendar.locale=r.locale,r._applyFormatString(),r._disableSpinButtons(),(null===a||null===l)&&a!==l||null!==a&&null!==l&&0!==a.compare(l)){if(!1!==i&&r.$.fireEvent("change",{oldValue:null!==a?a.toTimeZone(r._inputTimeZone):null,value:r.value}),r._calendarInitiatedChange)return;r.opened?(null!==a&&0!==r.$.calendarDropDown.selectedDates.length&&a.year()===l.year()&&a.month()===l.month()&&a.day()===l.day()&&r.$.calendarDropDown._isDateInView(l.toDate())||(r._disregardCalendarChangeEvent=!0,r.$.calendarDropDown.selectedDates=[l.toDate()]),r._defaultFooterTemplateApplied&&(null!==a&&a.hour()===l.hour()||(r._hourElement.value=l.toString("hh"),r._ampmElement.value=l.toString("tt")),null!==a&&a.minute()===l.minute()||(r._minuteElement.value=l.toString("mm"))),r._timePickerInitialized&&!r._timePickerInitiatedChange&&(r.$.timePickerDropDown.value=l.toDate()),r._toSync=!1):r._toSync=!0}}});var le=Object.freeze({});JQX("jqx-numeric-text-box",class extends JQX.BaseElement{static get properties(){return{decimalSeparator:{value:".",type:"string"},dropDownAppendTo:{value:null,type:"any"},enableMouseWheelAction:{value:!1,type:"boolean"},inputFormat:{value:"integer",allowedValues:["integer","floatingPoint","complex"],type:"string"},hint:{value:"",type:"string"},label:{value:"",type:"string"},leadingZeros:{value:!1,type:"boolean"},max:{value:null,type:"any"},messages:{value:{en:{binary:"BIN",octal:"OCT",decimal:"DEC",hexadecimal:"HEX",integerOnly:"jqxNumericTextBox: The property {{property}} can only be set when inputFormat is integer.",noInteger:"jqxNumericTextBox: the property {{property}} cannot be set when inputFormat is integer.",significantPrecisionDigits:"jqxNumericTextBox: the properties significantDigits and precisionDigits cannot be set at the same time."}},type:"object",extend:!0},min:{value:null,type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},outputFormatString:{value:null,type:"string?"},placeholder:{value:"",type:"string"},dropDownEnabled:{value:!1,type:"boolean"},precisionDigits:{value:null,type:"number?"},radix:{value:10,allowedValues:["2","8","10","16",2,8,10,16,"binary","octal","decimal","hexadecimal"],type:"any"},radixDisplay:{value:!1,type:"boolean"},radixDisplayPosition:{value:"left",allowedValues:["left","right"],type:"string"},scientificNotation:{value:!1,type:"boolean"},showUnit:{value:!1,type:"boolean"},significantDigits:{value:null,type:"number?"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},spinButtonsStep:{value:"1",type:"any"},type:{value:"numeric",type:"string",defaultReflectToAttribute:!0,readonly:!0},unit:{value:"kg",type:"string"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{value:"0",type:"any?"},wordLength:{value:"int32",allowedValues:["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],type:"string"}}}static get listeners(){return{mouseenter:"_mouseenterMouseleaveHandler",mouseleave:"_mouseenterMouseleaveHandler",resize:"_resizeHandler","downButton.click":"_downButtonClickHandler","downButton.mouseenter":"_mouseenterMouseleaveHandler","downButton.mouseleave":"_mouseenterMouseleaveHandler","dropDown.click":"_dropDownItemClickHandler","dropDown.mouseout":"_mouseenterMouseleaveHandler","dropDown.mouseover":"_mouseenterMouseleaveHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.keyup":"_inputKeyupHandler","input.paste":"_inputPasteHandler","input.wheel":"_inputWheelHandler","radixDisplayButton.click":"_radixDisplayButtonClickHandler","radixDisplayButton.mouseenter":"_mouseenterMouseleaveHandler","radixDisplayButton.mouseleave":"_mouseenterMouseleaveHandler","upButton.click":"_upButtonClickHandler","upButton.mouseenter":"_mouseenterMouseleaveHandler","upButton.mouseleave":"_mouseenterMouseleaveHandler","document.down":"_documentMousedownHandler","document.up":"_documentMouseupHandler"}}static get requires(){return window.NIComplex?{"JQX.Button":"jqxbutton.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}:{"JQX.Button":"jqxbutton.js","JQX.Utilities.Complex":"jqxcomplex.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}}static get styleUrls(){return["jqx.button.css","jqx.numerictextbox.css"]}template(){return'<div id="container" class="jqx-container"><span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span><div id="radixDisplayButton" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-radix-display"></div><input id="input" type="text" spellcheck="false" class="jqx-input jqx-numeric-text-box-component" placeholder="[[placeholder]]" readonly="[[readonly]]" disabled="[[disabled]]" name="[[name]]" /><div id="unitDisplay" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-unit-display"></div><div id="spinButtonsContainer" class="jqx-input-addon jqx-numeric-text-box-component jqx-spin-buttons-container"><jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="upButton" class="jqx-spin-button"><div class="jqx-arrow jqx-arrow-up"></div></jqx-repeat-button><jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="downButton" class="jqx-spin-button"><div class="jqx-arrow jqx-arrow-down"></div></jqx-repeat-button></div><ul id="dropDown" class="jqx-visibility-hidden jqx-drop-down jqx-numeric-text-box-drop-down"><li id="dropDownItem2" class="jqx-list-item" data-value="2"></li><li id="dropDownItem8" class="jqx-list-item" data-value="8"></li><li id="dropDownItem10" class="jqx-list-item" data-value="10"></li><li id="dropDownItem16" class="jqx-list-item" data-value="16"></li></ul><span id="hint" class ="jqx-hint"  inner-h-t-m-l="[[hint]]"></span></div>'}ready(){super.ready();const e=this;e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"inputFormat"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._numberRenderer.localizationObject.decimalseparator=e.decimalSeparator,e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDown,e.$.container,"_closeRadix"),e._positionDetection.getDropDownParent(!0),e._dropDownListPosition="bottom",e._radixPrefixes={10:"d",2:"b",8:"o",16:"x"},e._regex={2:new RegExp(/^[0-1]+$/),8:new RegExp(/^[0-7]+$/),10:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?$/),16:new RegExp(/^[0-9a-f]+$/i)},e._regexSpecial={nan:new RegExp(/^(nan)$/i),inf:new RegExp(/^((-?inf(inity)?)|([+\-]?â))$/i),nonNumericValue:new RegExp(/^$|(^((nan)|((-?inf(inity)?)|([+\-]?â))|(null))$)/i),exaValue:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[E][+\-]\d*)?i$/)},e._initialDropDownOptionsSet=!1,"left"===e.spinButtonsPosition&&e.$.container.insertBefore(e.$.spinButtonsContainer,e.$.label.nextElementSibling),"right"===e.radixDisplayPosition&&e.$.container.insertBefore(e.$.radixDisplayButton,e.$.unitDisplay.nextElementSibling),e._setInitialComponentDisplay(),e._initialAdjustments(),e._refreshShape(),e._initialized=!0}_refreshShape(){const e=this.$.container.querySelectorAll(".jqx-numeric-text-box-component:not(.jqx-hidden)");Array.from(this.$.container.getElementsByClassName("jqx-numeric-text-box-component")).forEach(e=>e.classList.remove("jqx-numeric-text-box-component-border-left","jqx-numeric-text-box-component-border-right")),e.length>0&&(e[0].classList.add("jqx-numeric-text-box-component-border-left"),e[e.length-1].classList.add("jqx-numeric-text-box-component-border-right"))}val(e,t){const i=this,n=null!==e&&"object"==typeof e&&0===Object.keys(e).length;if(void 0===e||!1!==n)return i.value;{const n=i.value;if((""===e||null===e)&&null===n)return null;if(null===e)return i._triggerChangeEvent="strict"===i.validation,i._validate(!1,null),i._triggerChangeEvent=!1,void(i._programmaticValueIsSet=!0);if((e=e.toString()).toUpperCase()===n.toString().toUpperCase())return e;void 0===t?(i._triggerChangeEvent="strict"===i.validation,i._validate(!1,e),i._triggerChangeEvent=!1):i._setValue(e),i._programmaticValueIsSet=!0}}focus(){this.$.input.focus()}_updateSpinButtonsStepObject(){this._spinButtonsStepObject=this._numericProcessor.createDescriptor(this.spinButtonsStep,!0)}_setInitialComponentDisplay(){const e=this;!1===e.spinButtons&&e.$spinButtonsContainer.addClass("jqx-hidden"),!1===e.radixDisplay&&e.$radixDisplayButton.addClass("jqx-hidden"),!1===e.showUnit&&e.$unitDisplay.addClass("jqx-hidden")}_initialAdjustments(){const e=this;e._radixNumber=e._getRadix(e.radix),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._validatePropertyCompatibility(),e._numericProcessor.validateMinMax(!0,!0),e._updateSpinButtonsStepObject(),e._validate(!0),e._programmaticValueIsSet=!0,e._cachedInputValue=e.$.input.value,void 0===e._editableValue&&(e._editableValue=e._cachedInputValue),e.$.radixDisplayButton.innerHTML=e._radixPrefixes[e._radixNumber],e.$.unitDisplay.innerHTML=e.unit,e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.dropDownEnabled&&!e.disabled&&null!==e.value?e._openRadix():e.opened=!1),e._setFocusable()}_validatePropertyCompatibility(){const e=this;"integer"!==e.inputFormat?(10!==e._radixNumber&&e.error(e.localize("integerOnly",{property:"radix"})),e.radixDisplay&&e.error(e.localize("integerOnly",{property:"radixDisplay"})),e.dropDownEnabled&&e.error(e.localize("integerOnly",{property:"dropDownEnabled"})),"int32"!==e.wordLength&&e.error(e.localize("integerOnly",{property:"wordLength"}))):null!==e.precisionDigits&&e.error(e.localize("noInteger",{property:"precisionDigits"})),null===e.significantDigits&&null===e.precisionDigits?e.significantDigits=8:null!==e.significantDigits&&null!==e.precisionDigits&&e.error(e.localize("significantPrecisionDigits"))}_validate(e,t){const i=this;let n;if(e)void 0===(n=i.value)&&(n=i.nullable?null:"0");else if(void 0===t||null===t&&!i.nullable){if((n=i.$.input.value)===i.value&&!0!==i._programmaticValueIsSet)return void(i.$.input.value=i._cachedInputValue)}else n=t;if(i.nullable&&(null===n||""===n))return i.value=null,i._number=null,i.$.input.value="",i._cachedInputValue="",i._editableValue="",void i._disableComponents();const r=i._numericProcessor.prepareForValidation(e,t,n);if(void 0===r)return void i._disableComponents();const a=i._numericProcessor.createDescriptor(r.value,!0,!0,!e&&void 0===t||"strict"===i.validation,e||void 0!==t,r.enteredComplexNumber);if(e){i._number=a;let e=i._renderValue(a);i.value=a.toString(),i.$.input.value=e}else i._updateValue(a);i._programmaticValueIsSet=!1,i._disableComponents()}_handleNonNumericValue(e,t,i){const n=this;if("integer"!==n.inputFormat){if(n._regexSpecial.nan.test(i))return void n._handleNaN(e);if(n._regexSpecial.inf.test(i))return void n._handleInfinity(e,t,i)}if(e){let e=n._numericProcessor.createDescriptor(0);n._number=n._validateRange(e);const t=n._renderValue(n._number);n.value=n._number.toString(),n.$.input.value=t}else if(void 0===t)n.$.input.value=n._cachedInputValue;else{const e=n._number.toString();n.value!==e&&(n.value=e)}}_handleNaN(e){const t=this;if(t.$.input.value="NaN",e)t.value=NaN,t._number=NaN;else{const e=t.value;null!==e&&"NaN"===e.toString()||(t.value=NaN,t._number=NaN,t._cachedInputValue="NaN",t._editableValue="NaN",t._triggerChangeEvent&&t.$.fireEvent("change",{value:NaN,oldValue:e,radix:t._radixNumber}))}}_handleInfinity(e,t,i){const n=this;let r,a;if("-"===i.charAt(0)?(r="â"===i.charAt(1)?"-â":"-Inf",a=-1/0):(r=-1!==i.indexOf("â")?"â":"Inf",a=1/0),a===-1/0&&n.min===-1/0||a===1/0&&n.max===1/0||void 0!==t)if(e)n.value=a,n._number=a,n.$.input.value=r;else{const e=n.value;i!==r&&(n.$.input.value=r),e!==a&&(n.value=a,n._number=a,n._cachedInputValue=r,n._editableValue=r,n._triggerChangeEvent&&n.$.fireEvent("change",{value:a,oldValue:e,radix:n._radixNumber}))}else a===-1/0?n._validate(!1,n.min):n._validate(!1,n.max)}_validateRange(e){return e=this._numericProcessor.validate(e,this._minObject,this._maxObject)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this,r=n.$.input;function a(){!0===n._initialDropDownOptionsSet&&n._setDropDownOptions(),2!==n._radixNumber&&16!==n._radixNumber||(n._cachedInputValue=n._number.toString(n._radixNumber,n._wordLengthNumber,n.leadingZeros),n._editableValue=n._cachedInputValue,n.$.input.value=n._cachedInputValue)}if(i!=t)switch(e){case"disabled":n._setFocusable(),!0===i?(n.$.upButton.disabled=!0,n.$.downButton.disabled=!0):n._disableComponents();break;case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler();break;case"unfocusable":n._setFocusable();break;case"enableMouseWheelAction":case"placeholder":case"readonly":case"spinButtonsDelay":case"spinButtonsInitialDelay":break;case"value":{if(""===i&&null===t)return;if(null===i||""===i||null===t)return n.value=t,n._triggerChangeEvent="strict"===n.validation,n._validate(!1,i),n._triggerChangeEvent=!1,void(n._programmaticValueIsSet=!0);const e=i.toString(),r=t.toString();r!==e&&(r.toUpperCase()===e.toUpperCase()&&(n.value=t),n.value=t,n._triggerChangeEvent="strict"===n.validation,n._validate(!1,e),n._triggerChangeEvent=!1,n._programmaticValueIsSet=!0);break}case"radix":"integer"===n.inputFormat?n._changeRadix(i):n.error(n.localize("integerOnly",{property:"radix"}));break;case"leadingZeros":"integer"===n.inputFormat&&null!==n._number&&a();break;case"min":case"max":if(null!==i&&(n[`_${e}IsNull`]=!1),n._numericProcessor.validateMinMax("min"===e,"max"===e),"strict"===n.validation)n._triggerChangeEvent=!0,n._validate(!1,n.value),n._triggerChangeEvent=!1;else if(!1===n._regexSpecial.nonNumericValue.test(n.value)){const e=n._numericProcessor.createDescriptor(n._number),t=n._validateRange(e);!0===n._numericProcessor.compare(n.value,t)&&(n._programmaticValueIsSet=!0)}break;case"opened":i?n.dropDownEnabled&&!n.disabled&&null!==n.value?n._openRadix():n.opened=!1:n._closeRadix();break;case"outputFormatString":i?(n._cachedInputValue=n._numberRenderer.formatNumber(n._number,i),n.$.input.value=n._cachedInputValue):(n._cachedInputValue=n._editableValue,n.$.input.value=n._editableValue);break;case"dropDownEnabled":i?("integer"!==n.inputFormat&&n.error(n.localize("integerOnly",{property:"dropDownEnabled"})),!0===n._initialDropDownOptionsSet&&n._setDropDownOptions()):n.opened&&n._closeRadix(!0);break;case"spinButtons":i?n.$spinButtonsContainer.removeClass("jqx-hidden"):n.$spinButtonsContainer.addClass("jqx-hidden"),n._refreshShape();break;case"spinButtonsStep":n._updateSpinButtonsStepObject();break;case"significantDigits":case"precisionDigits":if("precisionDigits"===e&&"integer"===n.inputFormat&&n.error(n.localize("noInteger",{property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),!1===n._regexSpecial.nonNumericValue.test(n.value)){const e=n._renderValue(n._number);r.value=e}break;case"decimalSeparator":{n._numberRenderer.localizationObject.decimalseparator=n.decimalSeparator;const e=n._discardDecimalSeparator(r.value,t),i=n._applyDecimalSeparator(e),a=n._applyDecimalSeparator(n._discardDecimalSeparator(n._editableValue,t));r.value=i,n._editableValue=a;break}case"spinButtonsPosition":"left"===i?n.$.container.insertBefore(n.$.spinButtonsContainer,n.$.label.nextElementSibling):n.$.container.insertBefore(n.$.spinButtonsContainer,n.$.dropDown),n._refreshShape();break;case"wordLength":if(n._wordLengthNumber=n._numericProcessor.getWordLength(i),"integer"===n.inputFormat&&(n._numericProcessor.validateMinMax(!0,!0),null!==n._number)){let e=n._validateRange(new JQX.Utilities.BigNumber(n._number));n._updateValue(e),n.leadingZeros&&a()}break;case"radixDisplay":i?("integer"!==n.inputFormat&&n.error(n.localize("integerOnly",{property:"radixDisplay"})),n.$radixDisplayButton.removeClass("jqx-hidden")):n.$radixDisplayButton.addClass("jqx-hidden"),n._refreshShape();break;case"radixDisplayPosition":"left"===i?n.$.container.insertBefore(n.$.radixDisplayButton,n.$.input):n.$.container.insertBefore(n.$.radixDisplayButton,n.$.unitDisplay.nextElementSibling),n._refreshShape();break;case"inputFormat":n._changeInputFormat(t,i);break;case"showUnit":i?n.$unitDisplay.removeClass("jqx-hidden"):n.$unitDisplay.addClass("jqx-hidden"),n._refreshShape();break;case"unit":n.$.unitDisplay.innerHTML=i;break;case"scientificNotation":if(!1===n._regexSpecial.nonNumericValue.test(n.value)){const e=n._renderValue(n._number);r.value=e}break;case"locale":case"messages":n._initialDropDownOptionsSet=!1;break;case"nullable":!0===t&&null===n.value&&n._validate(!1,"0");break;case"validation":"strict"===i&&(n._triggerChangeEvent=!0,n._validate(!1,n.value),n._triggerChangeEvent=!1)}else"string"!=typeof i&&"string"==typeof t&&(n[e]=t);n._cachedInputValue=r.value}_changeInputFormat(e,t){const i=this;i._numericProcessor=new JQX.Utilities.NumericProcessor(i,"inputFormat"),"complex"!==e?("integer"===t&&"floatingPoint"===e&&i._changeFromFloatingPointToIntegerInputFormat(),"floatingPoint"===t&&"integer"===e&&i._changeFromIntegerToFloatingPointInputFormat(),"complex"===t&&i._changeToComplexInputFormat(e),i._updateSpinButtonsStepObject(),null!==i.value&&(i._inputFormatChangedFlag=!0,i._validate(void 0,i._number.toString()),i._inputFormatChangedFlag=!1)):i._changeFromComplexInputFormat(t)}_changeFromComplexInputFormat(e){const t=this;t.spinButtonsStep=t._spinButtonsStepObject.realPart,t._updateSpinButtonsStepObject(),"integer"===e?(t.min===-1/0?t.min=null:t.min=t._minObject.realPart,t.max===1/0?t.max=null:t.max=t._maxObject.realPart):(t.min!==-1/0&&(t.min=t._minObject.realPart),t.max!==1/0&&(t.max=t._maxObject.realPart)),t._numericProcessor.validateMinMax(!0,!0),null!==t.value&&(t._inputFormatChangedFlag=!0,t._validate(void 0,t._number.realPart.toString()),t._inputFormatChangedFlag=!1)}_changeFromFloatingPointToIntegerInputFormat(){const e=this;e.min===-1/0&&(e.min=null),e.max===1/0&&(e.max=null),e._numericProcessor.validateMinMax(!0,!0)}_changeFromIntegerToFloatingPointInputFormat(){const e=this;e.radixDisplay&&(e.radixDisplay=!1,e.$radixDisplayButton.addClass("jqx-hidden")),10!==e._radixNumber&&(e.radix=10,e._radixNumber=10),e._minIsNull?(e.min=-1/0,e._minObject=-1/0):e._minObject=parseFloat(e._minObject.toString()),e._maxIsNull?(e.max=1/0,e._maxObject=1/0):e._maxObject=parseFloat(e._maxObject.toString()),e.dropDownEnabled&&(e.dropDownEnabled=!1)}_changeToComplexInputFormat(e){const t=this;"integer"===e&&(t.radixDisplay&&(t.radixDisplay=!1,t.$radixDisplayButton.addClass("jqx-hidden")),t._minIsNull&&(t.min=null),t._maxIsNull&&(t.max=null),t.dropDownEnabled&&(t.dropDownEnabled=!1)),t._numericProcessor.validateMinMax(t.min!==-1/0,t.max!==1/0)}_updateValue(e){const t=this,i=t.$.input.value,n=e.toString(t._radixNumber,t._wordLengthNumber,t.leadingZeros);if(i!==n||i!==t._cachedInputValue){const i=t._renderValue(e),r=t.value,a=t._regexSpecial.nonNumericValue.test(n);if(t.$.input.value=i,t._cachedInputValue=i,t._inputFormatChangedFlag||a&&i!==r||!1===a&&t._numericProcessor.compare(e,t._number)){t._number=t._numericProcessor.createDescriptor(e);const i=t._number.toString();t.value=i,t._setDropDownOptions(),t._triggerChangeEvent&&t.$.fireEvent("change",{value:i,oldValue:r,radix:t._radixNumber})}}else t.value=t._number.toString()}_setValue(e){this.value=e,this.$.input.value=e,this._number=this._numericProcessor.createDescriptor(e,!0),this._setDropDownOptions()}_changeRadix(e){const t=this,i=t._getRadix(e),n=t.radix;if(i===t._radixNumber)return;t.radix=e,t._radixNumber=i;const r=t.$.input,a=r.value;let s,o;null!==t.value?(s=t._number.toString(i,t._wordLengthNumber,t.leadingZeros),o=t._renderValue(s)):o="",r.value=o,t._cachedInputValue=o,t.$.radixDisplayButton.innerHTML=t._radixPrefixes[i],t.$.fireEvent("radixChange",{radix:e,oldRadix:n,displayedValue:o,oldDisplayedValue:a})}_openRadix(){const e=this;if(e.$.fireEvent("opening").defaultPrevented)return void(e.opened=!1);!1===e._initialDropDownOptionsSet&&(e._setDropDownOptions(),e._initialDropDownOptionsSet=!0),null!==e._dropDownParent&&(e.$.dropDown.style.width=e.offsetWidth+"px"),e.$radixDisplayButton.addClass("jqx-numeric-text-box-pressed-component"),e.$dropDown.removeClass("jqx-visibility-hidden"),e.$.dropDown.style.marginTop=null,e.opened=!0,e._positionDetection.positionDropDown();const t=(1===window.devicePixelRatio?document.documentElement.clientHeight:window.innerHeight)-e.$.dropDown.getBoundingClientRect().top-e.$.dropDown.offsetHeight-parseFloat(getComputedStyle(e.$.dropDown).marginBottom);t<0&&(e.$.dropDown.style.marginTop=t+"px"),e.$.fireEvent("open",{dropDown:e.$.dropDown})}_closeRadix(e){const t=this;!t.$.fireEvent("closing").defaultPrevented||e?(t.$radixDisplayButton.removeClass("jqx-numeric-text-box-pressed-component"),t.$dropDown.addClass("jqx-visibility-hidden"),t.opened=!1,t.$.fireEvent("close",{dropDown:t.$.dropDown})):t.opened=!0}_isLeftButtonPressed(e){const t=0===e.buttons||1===e.which;return 1===e.detail.buttons||t}_isIncrementOrDecrementAllowed(){return!this.disabled&&!this.readonly&&!1===this._regexSpecial.nonNumericValue.test(this.$.input.value)}_upButtonClickHandler(e){const t=this;t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$upButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("add"))}_downButtonClickHandler(e){const t=this;t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$downButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("subtract"))}_documentMousedownHandler(e){const t=this;if(t._up=!1,!t.opened)return;let i=e.originalEvent.target;(t.shadowRoot||t.isInShadowDOM)&&(i=e.originalEvent.composedPath()[0]),(t.shadowRoot||t).contains(i)||t.$.dropDown.contains(i)||t._closeRadix()}_documentMouseupHandler(){this._up=!0,this.$upButton.removeClass("jqx-numeric-text-box-pressed-component"),this.$downButton.removeClass("jqx-numeric-text-box-pressed-component")}_radixDisplayButtonClickHandler(){const e=this;e.dropDownEnabled&&!e.disabled&&null!==e.value&&(e.opened?e._closeRadix():e._openRadix())}_dropDownItemClickHandler(e){if(e.target.$.hasClass("jqx-list-item")){const t=this;let i=e.target.getAttribute("data-value");t._changeRadix(parseInt(i,10)),t._closeRadix()}}_mouseenterMouseleaveHandler(e){e.target===this.$.dropDown||this.disabled||this.readonly||("mouseenter"===e.type?e.target.setAttribute("hover",""):e.target.removeAttribute("hover"))}_inputKeydownHandler(e){const t=this,i=e.charCode?e.charCode:e.which;40===i&&t._isIncrementOrDecrementAllowed()?t._incrementOrDecrement("subtract"):38===i&&t._isIncrementOrDecrementAllowed()&&t._incrementOrDecrement("add"),t._keydownInfo={value:t.$.input.value,specialKey:e.altKey||e.ctrlKey||e.shiftKey}}_inputKeyupHandler(e){const t=this;if(13===e.keyCode)t._suppressBlurEvent=!0,t.$.input.value!==t._cachedInputValue&&(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,t.$.input.blur());else if(27===e.keyCode)t.$.input.value=t._editableValue;else{const i=t.$.input.value;""!==i&&t._regex[t._radixNumber].test(i)?(t.$.upButton.disabled=!1,t.$.downButton.disabled=!1):""===i&&(t.$.upButton.disabled=!0,t.$.downButton.disabled=!0),!t._keydownInfo||t._keydownInfo.value===i||t._keydownInfo.specialKey||e.altKey||e.ctrlKey||e.shiftKey||"Control"===e.key||t.$.fireEvent("changing",{currentValue:i,validValue:t.value,radix:t._radixNumber})}e.preventDefault()}_inputBlurHandler(){const e=this;!0===e._suppressBlurEvent?(e._suppressBlurEvent=!1,e._formattedValue&&(e._cachedInputValue=e._formattedValue,e.$.input.value=e._formattedValue,delete e._formattedValue)):e.$.input.value!==e._editableValue?(e._triggerChangeEvent=!0,e._validate(),e._triggerChangeEvent=!1):e.$.input.value=e._cachedInputValue,e.radixDisplay&&e.$.radixDisplayButton.removeAttribute("focus"),e.opened&&e._closeRadix(),e.spinButtons&&e.$.spinButtonsContainer.removeAttribute("focus"),e.showUnit&&e.$.unitDisplay.removeAttribute("focus"),e.removeAttribute("focus")}_inputFocusHandler(){const e=this;e.spinButtons&&e.$.spinButtonsContainer.setAttribute("focus",""),e.radixDisplay&&e.$.radixDisplayButton.setAttribute("focus",""),e.showUnit&&e.$.unitDisplay.setAttribute("focus",""),e.opened&&e._closeRadix(),e.setAttribute("focus",""),e.outputFormatString&&(e.$.input.value=e._editableValue)}_inputChangeHandler(e){e.stopPropagation(),e.preventDefault()}_inputPasteHandler(){const e=this;requestAnimationFrame(()=>e.$.fireEvent("changing",{currentValue:e.$.input.value,validValue:e.value,radix:e._radixNumber}))}_inputWheelHandler(e){const t=this,i=t.shadowRoot&&t.shadowRoot.activeElement||document.activeElement;t.$.input===i&&t.enableMouseWheelAction&&t._isIncrementOrDecrementAllowed()&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}_getRadix(e){switch(e.toString()){case"10":case"decimal":return 10;case"2":case"binary":return 2;case"8":case"octal":return 8;case"16":case"hexadecimal":return 16}}_setDropDownOptions(){if(!1===this.dropDownEnabled||null===this._number)return;const e=this._wordLengthNumber,t=this.leadingZeros;this.$.dropDownItem2.innerHTML=`${this._number.toString(2,e,t)} (${this.localize("binary")})`,this.$.dropDownItem8.innerHTML=`${this._number.toString(8,e)} (${this.localize("octal")})`,this.$.dropDownItem10.innerHTML=`${this._renderValue(this._number.toString(10,e),!0)} (${this.localize("decimal")})`,this.$.dropDownItem16.innerHTML=`${this._number.toString(16,e,t)} (${this.localize("hexadecimal")})`}_incrementOrDecrement(e){const t=this,i=t.shadowRoot&&t.shadowRoot.activeElement||document.activeElement;let n=t._cachedInputValue;if(t.$.input===i&&(n=t._editableValue,t._suppressBlurEvent=!0),(t.$.input.value!==n||t._programmaticValueIsSet&&"interaction"===t.validation)&&(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,!1===t._isIncrementOrDecrementAllowed()))return;const r=t._numericProcessor.incrementDecrement(t._number,e,t._spinButtonsStepObject),a=t._validateRange(r);t._triggerChangeEvent=!0,t._updateValue(a),t._triggerChangeEvent=!1}_toBigNumberDecimal(e,t){const i=this;let n;return 10===t?n=new JQX.Utilities.BigNumber(e):i._unsigned||!1===i._isNegative(e,t)?i._wordLengthNumber<64?(n=parseInt(e,t),n=new JQX.Utilities.BigNumber(n)):n=i._getBigNumberFrom64BitBinOctHex(e,t):(n=i._getNegativeDecimal(e,t),n=new JQX.Utilities.BigNumber(n)),n}_isNegative(e,t){const i=this,n=e.length,r=e.charAt(0).toLowerCase();if(2===t)return n===i._wordLengthNumber&&"1"===r;if(8!==t)return n===i._wordLengthNumber/4&&-1!==["8","9","a","b","c","d","e","f"].indexOf(r);switch(i._wordLengthNumber){case 8:return 3===n&&("2"===r||"3"===r);case 16:return 5===n&&"1"===r;case 32:return 11===n&&("2"===r||"3"===r);case 64:return 22===n&&"1"===r}}_getBigNumberFrom64BitBinOctHex(e,t){let i=new JQX.Utilities.BigNumber(0);for(let n=e.length-1;n>=0;n--){let r=new JQX.Utilities.BigNumber(parseInt(e.charAt(n),t));i=i.add(r.multiply(new JQX.Utilities.BigNumber(t).pow(e.length-1-n)))}return i}_getNegativeDecimal(e,t){const i=this;let n=e;if(8===t){let t=[];for(let i=0;i<e.length;i++){let n=parseInt(e.charAt(i),8).toString(2);for(;3!==n.length;)n=`0${n}`;t.push(n)}for(n=t.join("");"0"===n.charAt(0);)n=n.slice(1)}else if(16===t){let t=[];for(let i=0;i<e.length;i++){let n=parseInt(e.charAt(i),16).toString(2);for(;4!==n.length;)n=`0${n}`;t.push(n)}n=t.join("")}let r=n.replace(/0/g,"a");return r=(r=(r=r.replace(/1/g,"b")).replace(/a/g,"1")).replace(/b/g,"0"),r=this._wordLengthNumber<64?-1*(parseInt(r,2)+1):(r=i._getBigNumberFrom64BitBinOctHex(r,t)).add(1).negate()}_discardDecimalSeparator(e,t){if(void 0===t&&(t=this.decimalSeparator),"."!==t&&e!==1/0&&e!==-1/0){let i=new RegExp(t,"g");return e.replace(i,".")}return e}_applyDecimalSeparator(e){const t=this;return"string"!=typeof e&&(e=e.toString()),"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e}_renderValue(e,t){const i=this,n=e,r=10===i._radixNumber||!0===t;if(e=i._numericProcessor.render(e,r),"."!==i.decimalSeparator&&r&&(e=i._applyDecimalSeparator(e)),!0!==t&&(i._editableValue=e,i.outputFormatString&&10===i._radixNumber)){const e=(i.shadowRoot||i.getRootNode()).activeElement||document.activeElement,t=i._numberRenderer.formatNumber(n,i.outputFormatString);if(e!==i.$.input)return t;i._formattedValue=t}return e}_setFocusable(){const e=this;e.disabled||e.unfocusable?e.$.input.tabIndex=-1:e.$.input.removeAttribute("tabindex")}_disableComponents(){const e=this;if(e.disabled)return;const t=e.value;null===t||"NaN"===t.toString()||Math.abs(t)===1/0?(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0):(e.$.upButton.disabled=!1,e.$.downButton.disabled=!1)}_resizeHandler(){const e=this;e.opened&&e._closeRadix(!0)}});var de=Object.freeze({});JQX("jqx-time-picker",class extends JQX.BaseElement{static get properties(){return{autoSwitchToMinutes:{value:!1,type:"boolean"},footer:{value:!1,type:"boolean"},footerTemplate:{value:null,type:"any?"},format:{value:"12-hour",allowedValues:["12-hour","24-hour"],type:"string"},minuteInterval:{value:1,type:"number"},name:{value:"",type:"string"},selection:{value:"hour",allowedValues:["hour","minute"],type:"string"},value:{value:new Date,type:"any",reflectToAttribute:!1},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"}}}static get listeners(){return{keydown:"_keydownHandler",resize:"_resizeHandler","header.click":"_headerClickHandler","picker.down":"_pickerDownHandler","picker.move":"_pickerMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}static get requires(){return{"JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.Draw":"jqxdraw.js"}}static get styleUrls(){return["jqx.timepicker.css"]}template(){return'<div id="container">\n                <div id="header" class="jqx-header jqx-unselectable">\n                    <div id="hourMinuteContainer" class="jqx-hour-minute-container">\n                        <div id="hourContainer" class ="jqx-hour-container"></div>\n                        <div>:</div>\n                        <div id="minuteContainer" class="jqx-minute-container"></div>\n                    </div>\n                    <div id="ampmContainer" class="jqx-am-pm-container">\n                        <div id="amContainer" class="jqx-am-container">AM</div>\n                        <div id="pmContainer" class="jqx-pm-container">PM</div>\n                    </div>\n                </div>\n                <div id="main" class="jqx-main-container">\n                    <div id="svgContainer" class="jqx-svg-container">\n                        <div id="picker" class="jqx-svg-picker"></div>\n                    </div>\n                    <div id="footer" class="jqx-footer"></div>\n                </div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}ready(){super.ready(),this._createElement()}setHours(e){const t=this;(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||e>12),t._drawArrow(!0,e,arguments[2]),t.hasAnimation||(t._inInnerCircle=!1))}setMinutes(e){const t=this;e=60===e?0:Math.max(0,Math.min(e,59)),t._updateMinutes(e),"minute"===t.selection&&t._drawArrow(!0,e,arguments[1])}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"disabled":case"unfocusable":n._setFocusable();break;case"footer":case"view":n._resizeHandler();break;case"footerTemplate":n._validateFooterTemplate();break;case"format":{let e=n.value.getHours();"12-hour"===i?(n.$ampmContainer.removeClass("jqx-hidden"),n.value.getHours()<12?n._selectAmPm("am"):n._selectAmPm("pm"),0===e?e=12:e>12&&(e-=12)):n.$ampmContainer.addClass("jqx-hidden"),n.$.hourContainer.innerHTML=e,"hour"===n.selection&&(n._draw.clear(),n._renderSVG());break}case"minuteInterval":{const e=Math.max(1,Math.min(i,60));e!==i&&(n.minuteInterval=e),"minute"===n.selection&&(n.interval=e);break}case"selection":"hour"===i?n._changeToHourSelection():n._changeToMinuteSelection();break;case"value":{n._oldValue=t,n._validateValue();const e=n.value.getHours()===t.getHours(),i=n.value.getMinutes()===t.getMinutes();e&&i||(i?n.setHours(n.value.getHours()):(e||n.setHours(n.value.getHours(),!0),n.setMinutes(n.value.getMinutes()))),delete n._oldValue;break}}}_applyInitialSettings(){const e=this,t=e.value;let i,n;i=t.getHours(),n=t.getMinutes(),"12-hour"===e.format?i<12?(e._ampm="am",e.$amContainer.addClass("jqx-selected"),0===i&&(i=12)):(e._ampm="pm",e.$pmContainer.addClass("jqx-selected"),i>12&&(i-=12)):e.$ampmContainer.addClass("jqx-hidden"),1===(n=n.toString()).length&&(n="0"+n),e.$.hourContainer.innerHTML=i,e.$.minuteContainer.innerHTML=n,"hour"===e.selection?e.$hourContainer.addClass("jqx-selected"):e.$minuteContainer.addClass("jqx-selected")}_changeSelection(e,t){const i=this,n=e.pageX,r=e.pageY,a=i._getCenterCoordinates(),s=Math.sqrt(Math.pow(a.x-n,2)+Math.pow(a.y-r,2));if(i._measurements.center=a,"down"===e.type){if(s>i._measurements.radius)return void e.stopPropagation();i._dragging=!0}"24-hour"===i.format&&"hour"===i.selection&&s<i._measurements.radius-50?i._inInnerCircle=!0:i._inInnerCircle=!1;let o=-1*Math.atan2(r-a.y,n-a.x)*180/Math.PI;o<0&&(o+=360),i._angle=o;let l=i._numericProcessor.getValueByAngle(i._angle);"hour"===i.selection?("24-hour"===i.format&&i._inInnerCircle?0!==l&&12!==l?l+=12:l=0:0===l&&(l=12),i._updateHours(l)):(60===l&&(l=0),i._updateMinutes(l)),void 0!==i._oldTimePart&&(cancelAnimationFrame(i._animationFrameId),i._drawArrow(!0,l,t))}_changeToHourSelection(){const e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;cancelAnimationFrame(e._animationFrameId),e.interval=1,e.$hourContainer.addClass("jqx-selected"),e.$minuteContainer.removeClass("jqx-selected"),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===e.value.getHours()||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1}_changeToMinuteSelection(){const e=this._centralCircle.parentElement||this._centralCircle.parentNode;this._inInnerCircle=!1,cancelAnimationFrame(this._animationFrameId),this.interval=this.minuteInterval,this.$hourContainer.removeClass("jqx-selected"),this.$minuteContainer.addClass("jqx-selected"),e.removeChild(this._centralCircle),e.removeChild(this._arrow),e.removeChild(this._head),this._getMeasurements(),this._numericProcessor.getAngleRangeCoefficient(),this._draw.clear(),e.appendChild(this._centralCircle),e.appendChild(this._arrow),e.appendChild(this._head),this._renderMinutes(),this._drawArrow(!0,void 0,!0)}_computeArrowBodyPoints(e,t,i,n){const r=Math.sin(t),a=Math.cos(t),s=e-i*a+n*r,o=e+i*r+n*a,l=e+i*a+n*r,d=e-i*r+n*a,h="M "+(e+i*a)+","+(e-i*r)+" L "+(e-i*a)+","+(e+i*r)+" L "+s+","+o+" "+l+","+d;return this._headCenter={x:(s+l)/2,y:(o+d)/2},h}_createElement(){const e=this;e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},e._validateInitialPropertyValues(),e._applyInitialSettings(),e._numericProcessor=new JQX.Utilities.DecimalNumericProcessor(e),e._draw=new JQX.Utilities.Draw(e.$.picker),e._isVisible()?(e._setPickerSize(),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable()):e._renderingSuspended=!0}_documentMoveHandler(e){const t=this;t._dragging&&t._changeSelection(e,!0)}_documentUpHandler(){const e=this;e._dragging&&(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.hasAnimation?(e.$picker.addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){e.$picker.removeClass("animate")},550)):(e.selection="minute",e._changeToMinuteSelection())))}_drawArrow(e,t,i){const n=this,r="hour"===n.selection,a="12-hour"===n.format;let s,o,l=n._oldTimePart;if(delete n._oldTimePart,void 0===t&&(r?(t=n.value.getHours(),a&&t>12&&(t-=12)):t=n.value.getMinutes()),void 0===l||i||!n.hasAnimation)return void n._drawArrowSVG(e,t);if(r&&!a)return void n._animate24HourView(l,t);r?(s=.2,t%=o=12,l%=o):(s=1,o=60);let d=t-l,h=l-t;d<0&&(d+=o),h<0&&(h+=o),h<d&&(s*=-1),n._animationFrameId=requestAnimationFrame(function i(){l+=s,(l=parseFloat((l%o).toFixed(1)))<0&&(l+=o),n._drawArrowSVG(e,l),l!==t%o&&(n._animationFrameId=requestAnimationFrame(i))})}_animate24HourView(e,t){const i=this;let n=.2;i._inInnerCircle=!1;const r=0===e||e>12,a=0===t||t>12;if(r!==a){if(e=r?Math.abs(e-12):(e+12)%24,i._inInnerCircle=a,i._drawArrowSVG(!0,e),e===t)return}else i._inInnerCircle=a;let s=e,o=t;i._inInnerCircle&&(0===o&&s<18?o=12:0===s&&o<18&&(s=12));let l=o-s,d=s-o;l<0&&(l+=12),d<0&&(d+=12),d<l&&(n*=-1),i._animationFrameId=requestAnimationFrame(function(){!function r(a){i._inInnerCircle=a,a?((e=parseFloat((e+n).toFixed(1)))<0?e+=24:e<1&&(e+=12),12!==e&&24!==e||(e=0)):(12!==(e+=n)&&(e=parseFloat((e%12).toFixed(1))),e<=0&&(e+=12)),i._drawArrowSVG(!0,e),e!==t?i._animationFrameId=requestAnimationFrame(function(){r(a)}):i._inInnerCircle=!1}(i._inInnerCircle)})}_drawArrowSVG(e,t){const i=this,n=i._measurements,r=i._numericProcessor.getAngleByValue(t);let a;a=i._inInnerCircle?i._computeArrowBodyPoints(n.radius,r,1,n.innerRadius-i._largestLabelSize/2-45):i._computeArrowBodyPoints(n.radius,r,1,n.innerRadius-i._largestLabelSize/2),e?(i._arrow.setAttribute("d",a),i._head.setAttribute("cx",i._headCenter.x),i._head.setAttribute("cy",i._headCenter.y),i._head.setAttribute("r",i._largestLabelSize),i._headRect=i._head.getBoundingClientRect(),t%1==0&&i._highlightLabel(t)):(i._arrow=i._draw.path(a,{class:"jqx-needle"}),i._head=i._draw.circle(i._headCenter.x,i._headCenter.y,i._largestLabelSize,{class:"jqx-needle-central-circle"}),i._headRect=i._head.getBoundingClientRect())}_drawLabel(e,t,i){const n=this,r=n._measurements,a=r.radius,s={class:"jqx-label jqx-unselectable","font-size":r.fontSize,"font-family":r.fontFamily,"font-weight":r.fontWeight,"font-style":r.fontStyle};"hour"===n.selection?n._plotInnerCircle?t>0?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t);const o=n._draw.measureText(t,0,s),l=a-i-n._largestLabelSize/2,d=a+l*Math.sin(e),h=a+l*Math.cos(e);n._draw.text(t,Math.round(d)-o.width/2,Math.round(h)-o.height/2,o.width,o.height,0,s).setAttribute("value",parseFloat(t))}_getCenterCoordinates(){const e=this.$.picker.getBoundingClientRect(),t=this._measurements.radius,i=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+i+t,y:e.top+n+t}}_getMeasurements(){const e=this,t=e._measurements,i=document.createElement("div");let n,r,a,s,o,l;i.className="jqx-label",i.style.position="absolute",i.style.visibility="hidden",e.$.svgContainer.appendChild(i),"hour"===e.selection?(n="1",r="23",e.max=12,e._drawMax="12",e._range=12):(n="00",r="55",e.max=60,e._drawMax="60",e._range=60),i.innerHTML=n,a=i.offsetWidth,o=i.offsetHeight,i.innerHTML=r,s=i.offsetWidth,l=i.offsetHeight,e._largestLabelSize=Math.max(a,o,s,l),e._tickIntervalHandler.labelsSize.minLabelSize=o,e._tickIntervalHandler.labelsSize.maxLabelSize=l;const d=window.getComputedStyle(i);t.fontSize=d.fontSize,t.fontFamily=d.fontFamily,t.fontWeight=d.fontWeight,t.fontStyle=d.fontStyle,e.$.svgContainer.removeChild(i)}_headerClickHandler(e){const t=this;if(!t.disabled&&!t.readonly)switch(e.target){case t.$.hourContainer:"hour"!==t.selection&&(t.selection="hour",t._changeToHourSelection());break;case t.$.minuteContainer:"minute"!==t.selection&&(t.selection="minute",t._changeToMinuteSelection());break;case t.$.amContainer:if(!t.$amContainer.hasClass("jqx-selected")){t._selectAmPm("am");const e=new Date(t.value.getTime());t.value.setHours(t.value.getHours()-12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:e})}break;case t.$.pmContainer:if(!t.$pmContainer.hasClass("jqx-selected")){t._selectAmPm("pm");const e=new Date(t.value.getTime());t.value.setHours(t.value.getHours()+12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:e})}}}_highlightLabel(e){const t=this;if(t._highlightedLabel){if(parseFloat(t._highlightedLabel.getAttribute("value"))===e)return;t._highlightedLabel.classList.remove("jqx-selected"),t._highlightedLabel=void 0}let i;"hour"===t.selection?(void 0===e&&(e=t.value.getHours()),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),i=e):(void 0===e&&(e=t.value.getMinutes()),60===(i=5*Math.round(e/5))&&(i=0));const n=t.$.picker.querySelector('.jqx-label[value="'+i+'"]');n&&(i===e||t._overlapsLabel(n))&&(t._highlightedLabel=n,n.classList.add("jqx-selected"))}_isVisible(){return!!(this.offsetWidth||this.offsetHeight||this.getClientRects().length)}_keydownHandler(e){const t=this;if(t._dragging)return;const i=t.enableShadowDOM&&t.shadowRoot.activeElement||document.activeElement,n=e.key;if(!t.$.header.contains(i)||"Enter"!==n&&" "!==n){if(i===t.$.picker&&!e.altKey){let i;if("ArrowRight"===n||"ArrowUp"===n?i=1:"ArrowLeft"!==n&&"ArrowDown"!==n||(i=-1),i)if(e.preventDefault(),"hour"===t.selection){let e=t.value.getHours();0===e&&-1===i?e=23:23===e&&1===i?e=0:e+=i,"12-hour"===t.format&&(e>=12&&t.$amContainer.hasClass("jqx-selected")?e-=12:e<12&&t.$pmContainer.hasClass("jqx-selected")&&(e+=12)),t.setHours(e,void 0,!0)}else{let e=t.value.getMinutes();e+(i*=t.minuteInterval)>=60?e=0:e<-1*i?e=60%i==0?60+i:60-60%i:e+=i,t.setMinutes(e,!0)}}}else e.preventDefault(),t._headerClickHandler({target:i})}_overlapsLabel(e){const t=this,i=e.getBoundingClientRect();let n=t._headRect;return 0===n.height&&(n=t._headRect=t._head.getBoundingClientRect()),!(i.right-10<n.left||i.left+10>n.right||i.bottom-10<n.top||i.top+10>n.bottom)}_parseDateString(e,t){const i=e.indexOf("Date("),n=e.indexOf(")");let r=e;if(-1!==i&&-1!==n){if(""===(r=(r=e.slice(i+5,n)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(r))return(r=(r=r.replace(/\s/g,"")).split(",")).map(function(e,t){r[t]=parseInt(e)}),r.unshift(null),r=new(Function.prototype.bind.apply(Date,r))}if(""===r.trim())return t;if(!isNaN(r))return new Date(parseInt(r,10));try{r=new Date(r)}catch(e){r=t}return isNaN(r.getTime())?t:r}_pickerDownHandler(e){this.disabled||this.readonly||!JQX.Utilities.Core.isMobile&&1!==e.which||this._changeSelection(e)}_pickerMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_renderHours(){const e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._numericProcessor.addGaugeTicksAndLabels(),"24-hour"===e.format&&(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._numericProcessor.addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10)}_renderMinutes(){this._highlightedLabel=void 0,this._majorTicksInterval=5,this._numericProcessor.addGaugeTicksAndLabels()}_renderSVG(){const e=this;if(e._isVisible()&&!e._renderingSuspended)if(e._centralCircle=e._draw.circle(e._measurements.radius,e._measurements.radius,4,{class:"jqx-needle-central-circle"}),"hour"===e.selection&&"24-hour"===e.format&&(0===e.value.getHours()||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!1),e._inInnerCircle=!1,"hour"===e.selection){e.interval=1,e._renderHours();let t=e.value.getHours();"12-hour"===e.format&&t>12&&(t-=12),e._highlightLabel(t)}else e.interval=e.minuteInterval,e._renderMinutes(),e._highlightLabel(e.value.getMinutes());else e._renderingSuspended=!0}_resizeHandler(){const e=this;let t=!1;e._isVisible()?(e._renderingSuspended=!1,t=!0,e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0}_selectAmPm(e){const t=this;"am"===e?(t._ampm="am",t.$pmContainer.removeClass("jqx-selected"),t.$amContainer.addClass("jqx-selected")):(t._ampm="pm",t.$amContainer.removeClass("jqx-selected"),t.$pmContainer.addClass("jqx-selected"))}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.$.hourContainer.removeAttribute("tabindex"),e.$.minuteContainer.removeAttribute("tabindex"),e.$.amContainer.removeAttribute("tabindex"),e.$.pmContainer.removeAttribute("tabindex"),void e.$.picker.removeAttribute("tabindex");const t=e.tabIndex>0?e.tabIndex:0;e.$.hourContainer.tabIndex=t,e.$.minuteContainer.tabIndex=t,e.$.amContainer.tabIndex=t,e.$.pmContainer.tabIndex=t,e.$.picker.tabIndex=t}_setPickerSize(){const e=this,t=e.$.svgContainer.offsetWidth,i=e.$.svgContainer.offsetHeight;let n=.9*Math.min(t,i);void 0!==e._pickerSize&&e._pickerSize!==n?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=n,e._measurements.radius=n/2,e._measurements.innerRadius=e._measurements.radius-10,n+="px",e.$.picker.style.width=n,e.$.picker.style.height=n}_updateHours(e,t){const i=this;let n=e;"12-hour"===i.format?"am"===i._ampm?12===n&&(n=0):n<12&&(n+=12):n=e;const r=void 0!==i._oldValue?i._oldValue:new Date(i.value.getTime()),a=r.getHours();n!==a?(i._oldTimePart=a,void 0===i._oldValue&&i.value.setHours(n),i.$.hourContainer.innerHTML=e,!0!==t&&(i.$.hiddenInput.value=i.value,i.$.fireEvent("change",{value:i.value,oldValue:r}))):delete i._oldTimePart}_updateMinutes(e){const t=this,i=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),n=i.getMinutes();e!==n?(t._oldTimePart=n,void 0===t._oldValue&&t.value.setMinutes(e),1===(e=e.toString()).length&&(e="0"+e),t.$.minuteContainer.innerHTML=e,t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:i})):delete t._oldTimePart}_validateFooterTemplate(){const e=this,t=e.footerTemplate;if(null===t)return void(e.$.footer.innerHTML="");let i;if(t instanceof HTMLTemplateElement?i=t:"string"==typeof t&&((i=document.getElementById(t))instanceof HTMLTemplateElement||(i=void 0)),void 0===i)return e.footerTemplate=null,void(e.$.footer.innerHTML="");const n=document.importNode(i.content,!0);if(e.enableShadowDOM)return e.$.footer.innerHTML="<slot></slot>",void e.appendChild(n);e.$.footer.appendChild(n)}_validateInitialPropertyValues(){this._validateFooterTemplate(),this.minuteInterval=Math.max(1,Math.min(this.minuteInterval,60)),this._validateValue()}_validateValue(){const e=this,t=e.value,i=void 0!==e._oldValue?this._oldValue:new Date;if(!(t instanceof Date))if("string"==typeof t){if(/^\d{1,2}:\d{1,2}$/.test(t)){const n=t.split(":");return void(e.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),parseFloat(n[0]),parseFloat(n[1])))}e.value=e._parseDateString(t,i)}else e.value=i}});var he=Object.freeze({});JQX("jqx-base-progress-bar",class extends JQX.BaseElement{static get properties(){return{indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}static get styleUrls(){return["jqx.progressbar.css"]}ready(){super.ready();this._updateProgress()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;n._updateProgress(),"value"===e&&n.$.fireEvent("change",{value:i,oldValue:t,changeType:"api"})}_updateProgress(){}get _percentageValue(){const e=Math.max(this.min,this.max),t=Math.min(this.min,this.max);return(Math.min(e,Math.max(t,this.value))-t)/(e-t)}}),JQX("jqx-circular-progress-bar",class extends JQX.BaseProgressBar{template(){return'<div id="container">\n                    <svg width="100%" height="100%" viewPort="0 0 100 100" viewBox="0 0 100 100">\n                       <circle id="value" class ="jqx-value-path" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                       <circle id="value" class ="jqx-value" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                    </svg>\n                    <div class ="jqx-label-container">\n                        <content></content>\n                        <span id="label" class ="jqx-label"></span>\n                    </div>\n                </div>'}static get listeners(){return{resize:"_resizeHandler"}}ready(){super.ready();const e=this;e.$.container.style.width=e.$.container.style.height=Math.min(e.offsetWidth,e.offsetHeight)+"px",e.$.hasClass("echo-animation")&&(e.value=e.max,e._updateProgress())}_resizeHandler(){this.$.container.style.width=this.$.container.style.height=Math.min(this.offsetWidth,this.offsetHeight)+"px"}_updateProgress(){super._updateProgress();const e=this,t=e.indeterminate?100*Math.PI:100*Math.PI-e._percentageValue*Math.PI*100,i=!!document.documentMode,n=!i&&!!window.StyleMedia;if(e.showProgressValue){const t=parseInt(100*e._percentageValue);e.$.label.innerHTML=e.formatFunction?e.formatFunction(t):t+"%"}else e.$.label.innerHTML="";if(i||n)return null===e.value||e.indeterminate?(e.$.value.style.strokeDashoffset="",void e.$.value.setAttribute("class","jqx-value jqx-value-animation-ms")):(e.$.value.setAttribute("class","jqx-value"),void(e.$.value.style.strokeDashoffset=e.inverted?-t:t));e.$.value.style.strokeDashoffset=e.inverted?-t:t,null===e.value||e.indeterminate?e.$value.addClass("jqx-value-animation"):e.$value.removeClass("jqx-value-animation")}}),JQX("jqx-progress-bar",class extends JQX.BaseProgressBar{static get properties(){return{orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"}}}template(){return'<div>\n                    <div id="value" class="jqx-value"></div>\n                    <div id="label" class ="jqx-label"></div>\n                </div>'}_updateProgress(){super._updateProgress();const e=this;if(e.showProgressValue){const t=parseInt(100*e._percentageValue);e.$.label.innerHTML=e.formatFunction?e.formatFunction(t):t+"%"}else e.$.label.innerHTML="";null===e.value||e.indeterminate?e.$value.addClass("jqx-value-animation"):e.$value.removeClass("jqx-value-animation"),e.$.value.style.transform="horizontal"===e.orientation?"scaleX("+e._percentageValue+")":"scaleY("+e._percentageValue+")"}});var ce=Object.freeze({});JQX("jqx-tooltip",class extends JQX.ContentElement{static get properties(){return{arrow:{value:!1,type:"boolean"},arrowDirection:{allowedValues:["bottom","top","left","right"],value:"bottom",type:"string"},delay:{value:0,type:"number"},messages:{extend:!0,value:{en:{invalidSelector:'{{elementType}}: "{{property}}" must be a String, an HTMLElement or null.',htmlTemplateNotSuported:"{{elementType}}: Browser doesn't support HTMLTemplate elements.",invalidTemplate:'{{elementType}}: "{{property}}" property accepts a string that must match the id of an HTMLTemplate element from the DOM.',invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},offset:{value:[0,0],type:"array"},openMode:{allowedValues:["click","focus","hover","manual"],value:"hover",type:"string"},position:{allowedValues:["bottom","top","left","right","absolute","auto"],value:"top",type:"string"},selector:{value:null,type:"any?"},tooltipTemplate:{value:null,type:"any"},value:{value:"",type:"string",reflectToAttribute:!1},visible:{value:!1,type:"boolean"}}}static get styleUrls(){return["jqx.tooltip.css"]}template(){return'<div id="container">\n                    <div id="content" class="jqx-tooltip-content" inner-h-t-m-l="[[innerHTML]]">\n                        <content></content>\n                    </div>\n                </div>'}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;let r;switch(e){case"openMode":n.close(),n._handleEventListeners(t),n._handleResize();break;case"selector":n._oldOwnerElement=n._ownerElement,n._handleSelector(i),n._handleEventListeners();break;case"tooltipTemplate":n._handleTemplate(t);break;case"value":n.tooltipTemplate?n._handleTemplate():n.$.content.innerHTML=n.value;break;case"visible":r=i?"open":"close",n.$.fireEvent(r,{owner:n._ownerElement})}n._applyPosition()}ready(){const e=this;super.ready(),e._isParentPositionStatic="static"===window.getComputedStyle(e.parentElement||document.querySelector("body")).position,e._handleSelector(e.selector),e.visible&&e._applyPosition(),e._handleEventListeners(),e._handleResize(),e.value=e.$.content.innerHTML=e.value?e.value:e.innerHTML,e._handleTemplate()}appendChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.appendChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}close(){const e=this;e._isOpening&&clearTimeout(e._isOpening),e.visible&&(e.$.fireEvent("close",{owner:e._ownerElement}),e.visible=!1)}insertBefore(e,t){const i=this;if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}e&&t?(i.$.content.insertBefore(e,t),i._applyPosition()):i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}open(){const e=this;e.disabled||e.readonly||e.visible||(e._isOpening=setTimeout(function(){e._applyPosition(),e.$.fireEvent("open",{owner:e._ownerElement});const t=e.context;e.context=e,e.visible=!0,e.context=t},e.delay))}removeChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.removeChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}toggle(){this.visible?this.close():this.open()}_applyPosition(){const e=this;if(!e._ownerElement)return;if(!e.parentElement)return;e._isParentPositionStatic="static"===window.getComputedStyle(e.parentElement).position;const t=e._ownerElement.getBoundingClientRect(),i=e.parentElement?e.parentElement.getBoundingClientRect():{top:0,left:0};let n,r;e.parentElement&&"BODY"===e.parentElement.nodeName.toUpperCase()?(n=t.top+window.scrollY+parseInt(e.offset[1]),r=t.left+window.scrollX+parseInt(e.offset[0])):(n=t.top-i.top+parseInt(e.offset[1]),r=t.left-i.left+parseInt(e.offset[0]));const a=function(){const t=function(t){let i=[],n=t.parentElement;for(;n&&"BODY"!==n.nodeName;)i.push(n),n=!e.enableShadowDOM||n.parentElement?n.parentElement:n.getRootNode().host;return i}(e),i=t.length;let n=null,r=e._ownerElement.getBoundingClientRect();for(let e=0;e<i;e++)if("static"!==window.getComputedStyle(t[e]).getPropertyValue("position")){n=t[e];break}return{top:r.top,left:r.left,nonStaticParent:n}}(),s=e.position;let o;switch(s){case"auto":case"bottom":case"top":case"left":case"right":{const t=e["_position"+s.charAt(0).toUpperCase()+s.slice(1)](r,n,a);n=t.top,r=t.left,o=t.translate;break}case"absolute":n=parseInt(e.offset[1])||0,r=parseInt(e.offset[0])||0}o?e.$.container.style.setProperty("--jqx-tooltip-arrow-translate",o+"px"):e.$.container.style.removeProperty("--jqx-tooltip-arrow-translate"),e.style.top=n+"px",e.style.left=r+"px"}_positionAuto(e,t,i){const n=this;let r,a=n._ownerElement.parentElement;for(;a;){if("hidden"===getComputedStyle(a).getPropertyValue("overflow")){r=a;break}a=a.parentElement}r||(r=document.body);const s=r.getBoundingClientRect(),o=parseFloat(window.getComputedStyle(n).getPropertyValue("--jqx-tooltip-arrow-width"))||0;let l=n._positionTop(e,t,i),d=i.nonStaticParent,h=n.offsetWidth/2-o,c=0,u=0;if(d){const e=d.getBoundingClientRect();c=e.top,u=e.left}return l.top+c>=s.top?(t=l.top,{left:e=Math.max(s.left-u,l.left+Math.min(0,s.right-(l.left+u+n.offsetWidth))),top:t,translate:Math.max(-h,Math.min(h,l.left-e))}):(l=n._positionBottom(e,t,i)).top+n.offsetHeight+c<=s.bottom?(t=l.top,{left:e=Math.max(s.left-u,l.left+Math.min(0,s.right-(l.left+u+n.offsetWidth))),top:t,translate:Math.max(-h,Math.min(h,l.left-e))}):(t=(l=n._positionLeft(e,t,i)).top,h=n.offsetHeight/2-o,t=Math.max(s.top-c,l.top+Math.min(0,s.bottom-(l.top+c+n.offsetHeight))),{left:e=l.left+u>=s.left?l.left:(l=n._positionRight(e,t,i)).left,top:t,translate:Math.max(-h,Math.min(h,l.top-t))})}_positionTop(e,t,i){const n=this;if(n.set("arrowDirection","bottom"),null===i.nonStaticParent)return t=i.top+window.scrollY-n.offsetHeight,{left:e=i.left+window.scrollX-n.offsetWidth/2+n._ownerElement.offsetWidth/2,top:t};if(n._isParentPositionStatic){if(t=n._ownerElement.offsetTop-n.offsetHeight,e=n._ownerElement.offsetLeft-n.offsetWidth/2+n._ownerElement.offsetWidth/2,n._ownerElement instanceof SVGElement){const i=n._ownerElement.getBoundingClientRect(),r=n._ownerElement.parentNode.getBoundingClientRect();t=i.top-r.top-n.offsetHeight/2,e=i.left-n.offsetWidth/2+r.left/2}return{left:e,top:t}}if(n._ownerElement instanceof SVGElement&&n._ownerElement.parentElement){const i=n._ownerElement.getBoundingClientRect(),r=n._ownerElement.parentNode.getBoundingClientRect();return t=i.top-r.top-n.offsetHeight,{left:e=i.left-r.left-n.offsetWidth/2+i.width/2,top:t}}return t-=n.offsetHeight,{left:e=e-n.offsetWidth/2+n._ownerElement.offsetWidth/2,top:t}}_positionBottom(e,t,i){const n=this;return n.set("arrowDirection","top"),null===i.nonStaticParent?(t=i.top+window.scrollY+n._ownerElement.offsetHeight,{left:e=i.left+window.scrollX-n.offsetWidth/2+n._ownerElement.offsetWidth/2,top:t}):n._isParentPositionStatic?(t=n._ownerElement.offsetTop+n._ownerElement.offsetHeight,{left:e=n._ownerElement.offsetLeft-n.offsetWidth/2+n._ownerElement.offsetWidth/2,top:t}):(t+=n._ownerElement.offsetHeight,{left:e=e-n.offsetWidth/2+n._ownerElement.offsetWidth/2,top:t})}_positionLeft(e,t,i){const n=this;return n.set("arrowDirection","right"),null===i.nonStaticParent?(t=i.top+window.scrollY+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:e=i.left+window.scrollX-n.offsetWidth,top:t}):n._isParentPositionStatic?(t=n._ownerElement.offsetTop+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:e=n._ownerElement.offsetLeft-n.offsetWidth,top:t}):(t=t+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:e-=n.offsetWidth,top:t})}_positionRight(e,t,i){const n=this;return n.set("arrowDirection","left"),null===i.nonStaticParent?(t=i.top+window.scrollY+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:e=i.left+window.scrollX+n._ownerElement.offsetWidth,top:t}):n._isParentPositionStatic?(t=n._ownerElement.offsetTop+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:e=n._ownerElement.offsetLeft+n._ownerElement.offsetWidth,top:t}):(t=t+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:e+=n._ownerElement.offsetWidth,top:t})}_eventsHandler(e){const t=this;t.disabled||t.readonly||("click"!==e.type?"mouseenter"===e.type||"focus"===e.type?this.open():this.close():t.visible?this.close():this.open())}_handleEventListeners(e){const t=this;if(t._oldOwnerElement&&"manual"!==t.openMode&&(t._oldOwnerElement.$.unlisten("mouseenter.tooltip"),t._oldOwnerElement.$.unlisten("mouseleave.tooltip"),t._oldOwnerElement.$.unlisten("focus.tooltip"),t._oldOwnerElement.$.unlisten("blur.tooltip"),t._oldOwnerElement.$.unlisten("click.tooltip"),t._oldOwnerElement=null),t._ownerElement){if(e)switch(e){case"hover":t._ownerElement.$.unlisten("mouseenter.tooltip"),t._ownerElement.$.unlisten("mouseleave.tooltip");break;case"focus":t._ownerElement.$.unlisten("focus.tooltip"),t._ownerElement.$.unlisten("blur.tooltip");break;case"click":t._ownerElement.$.unlisten("click.tooltip")}if("manual"!==t.openMode)switch(t._ownerElement instanceof JQX.BaseElement||(t._ownerElement.$=JQX.Utilities.Extend(t._ownerElement)),t.openMode){case"hover":t._ownerElement.$.listen("mouseenter.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("mouseleave.tooltip",t._eventsHandler.bind(t));break;case"focus":t._ownerElement.$.listen("focus.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("blur.tooltip",t._eventsHandler.bind(t));break;case"click":t._ownerElement.$.listen("click.tooltip",t._eventsHandler.bind(t))}}}_handleResize(){const e=this;function t(){e._applyPosition()}"click"===e.openMode?window.addEventListener("resize",t):window.removeEventListener("resize",t)}_handleSelector(e){const t=this;"string"!=typeof e?e instanceof HTMLElement||e instanceof SVGElement?t._ownerElement=e:null!==e?t.error(t.localize("invalidSelector",{elementType:t.nodeName.toLowerCase(),property:"selector"})):t._ownerElement=void 0:t._ownerElement=e.length>0?document.getElementById(e):void 0}_handleTemplate(e){const t=this;let i=t.tooltipTemplate;if(e&&(t.$.content.innerHTML=t.value?t.value:""),null===i||!i)return;if("function"==typeof t.tooltipTemplate)return void t.tooltipTemplate(t.$.content,{value:t.value});if(!("content"in document.createElement("template")))return void t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}));if(null===(i=document.getElementById(i))||!("content"in i))return void t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}));const n=i.content,r=n.childNodes.length,a=/{{\w+}}/g;let s,o=[];for(let e=0;e<r;e++)for(s=a.exec(n.childNodes[e].innerHTML);s;)o.push({childNodeIndex:e,bindingString:s[0]}),s=a.exec(n.childNodes[e].innerHTML);const l=o.length;let d,h,c=document.importNode(i.content,!0);for(let e=0;e<l;e++){d=c.childNodes[o[e].childNodeIndex],h=o.length;for(let i=0;i<h;i++)d.innerHTML=d.innerHTML.replace(o[e].bindingString,t.value)}t.$.content.innerHTML="";for(let e=0;e<c.childNodes.length;e++)c.childNodes[e].outerHTML&&(t.$.content.innerHTML+=c.childNodes[e].outerHTML)}});var ue=Object.freeze({});JQX("jqx-path",class extends JQX.BaseElement{static get properties(){return{value:{value:"",type:"string"},hint:{value:"",type:"string"},label:{value:"",type:"string"},dataSource:{value:[{label:"notAPath"},{label:"validPath"}],type:"any",reflectToAttribute:!1},dropDownAppendTo:{value:null,type:"any"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownOverlay:{value:!1,type:"boolean"},messages:{extend:!0,value:{en:{incorrectArgument:"{{elementType}}: Incorrect argument {{argumentName}} in method {{methodName}}.",missingReference:"{{elementType}}: Missing reference to {{file}} in method {{methodName}}.",notAPath:"Set to not a path",validPath:"Set to valid path"}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"Enter a path",type:"string"},pathFormat:{allowedValues:["windows","unix"],value:"windows",type:"string"},indicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},valueMember:{value:"",type:"string"},wrap:{value:!1,type:"boolean"}}}template(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <div class="jqx-buttons-container" id="buttonsContainer">\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span id="icon"></span>\n                            </span>\n                            <div id="inputContainer" class="jqx-path-input-container">\n                                <div id="pathWrapper" class="jqx-path-input-wrapper"></div>\n                                <input id="input"  spellcheck="false" type="text" name="[[name]]" class="jqx-input jqx-path-input"/>\n                                <div class="jqx-path-multiline-container jqx-hidden" id="multilineContainer">\n                                    <div id="multiline" contenteditable="true" spellcheck="false" class="jqx-input jqx-path-input"></div>\n                                </div>\n                            </div>\n                            <span id="browseButton" class="jqx-browse-button">\n                                <span id="icon"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden"></div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}static get listeners(){return{"inputContainer.change":"_inputChangeHandler","inputContainer.keydown":"_inputKeyDownHandler","inputContainer.keyup":"_inputKeyUpHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler",mouseover:"_mouseOverEventHandler",mouseout:"_mouseOverEventHandler","dropDownContainer.mouseover":"_mouseOverEventHandler","dropDownContainer.mouseout":"_mouseOverEventHandler","inputContainer.focusin":"_focusHandler","inputContainer.focusout":"_focusHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler"}}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler();break;case"dataSource":n._dataBind(),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally");break;case"dropDownMinWidth":case"dropDownWidth":case"dropDownMaxWidth":case"dropDownHeight":case"dropDownMinHeight":case"dropDownMaxHeight":n._setDropDownSize();break;case"dropDownOverlay":i||n._positionDetection.removeOverlay();break;case"wrap":n._setInput(),n._handleValue(n.value),document.activeElement!==n&&n._trim();break;case"readonly":n.$.multiline.readOnly=n.$.input.readOnly=i;break;case"value":case"pathFormat":n._handleValue(n.value),"value"===e&&n.value!==t&&n.$.fireEvent("change",{oldValue:t,value:n.value}),document.activeElement!==n&&n._trim();break;case"placeholder":n.$.input.placeholder=n.$.multiline.placeholder=n.placeholder}}attached(){super.attached(),this.isCompleted&&this.$.dropDownContainer&&(this._positionDetection.dropDownAttached("_setDropDownSize"),this._positionDetection.checkBrowserBounds())}detached(){super.detached(),this.$.dropDownContainer&&(this.close(),this._positionDetection.dropDownDetached())}ready(){super.ready();const e=this;e._setInput(),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e._positionDetection.handleAutoPositioning(),e._setDropDownSize(),e._dataBind(),e.wrap?e._wrapRefresh():e._handleValue(e.value),e._trim(),e.opened&&e.open()}blur(){this.$[this.wrap?"multiline":"input"].blur()}focus(){this.$[this.wrap?"multiline":"input"].focus()}setToNotAPath(){this._setPathTo("//")}setToEmptyPath(){this._setPathTo("////")}_setPathTo(e){const t=this,i=t.value;t.set("value",e),t.$.input.value=t.$.multiline.value="",i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value})}close(){const e=this;e.$dropDownContainer.hasClass("jqx-visibility-hidden")||e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.opened=!1,e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e._edgeMacFF&&!e.hasAnimation&&e.$.dropDownContainer&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}open(){const e=this;if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e._handleItemSelection(),e._updateDropDown(),e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){const t=e.getBoundingClientRect();if(e.$.container.contains(e.$.dropDownContainer)){let t=0;const i=setInterval(function(){const n=e.getBoundingClientRect();t++,n.top===e._positionTop&&t<10||(e.open(),clearInterval(i),e._positionTop=n.top)},100);return}t.top!==e._positionTop&&(e._positionTop=t.top)}e.$.fireEvent("opening").defaultPrevented||(e.opened=!0,e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e._handleKeyStrokes("Home"),JQX.Utilities.Core.isMobile||(e.wrap?e.$.multiline.focus():e.$.input.focus()))}}_calculateDropDownSize(){const e=this;e._dropDownSize={};const t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),n=parseFloat(t.getPropertyValue("border-bottom-width").trim()),r=parseFloat(t.getPropertyValue("margin-top").trim()),a=parseFloat(t.getPropertyValue("margin-bottom").trim()),s=parseFloat(t.getPropertyValue("padding-top").trim()),o=parseFloat(t.getPropertyValue("padding-bottom").trim());JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(n)?0:n),e._dropDownSize.paddingWidth=(isNaN(s)?0:s)+(isNaN(o)?0:o),e._dropDownSize.marginWidth=(isNaN(r)?0:r)+(isNaN(a)?0:a)}_focusHandler(e){const t=this;if("focusin"===e.type)return t.setAttribute("focus",""),t.wrap?t._wrapRefresh():t._handleValue(t.value),void t._refreshInputSelection(!0);if(t._buttonClicked||t._isDropDownClicked)t.focus();else{if(t.removeAttribute("focus"),t.wrap){const e=t.value;t._handleValue(t.$.multiline.value,!0),t.value!==e&&t.$.fireEvent("change",{oldValue:e,value:t.value})}else t._handleValue(t.$.input.value,!0);t._buttonClicked||t._isDropDownClicked||t.close(),t._trim()}}_setInput(){const e=this;let t=e.$.input,i=e.$.multiline;i.value||Object.defineProperty(i,"value",{get(){return this.textContent},set(e){this.innerHTML=e,e?this.removeAttribute("show-placeholder"):this.setAttribute("show-placeholder",""),t.value=this.textContent}}),i.readOnly||Object.defineProperty(i,"readOnly",{get(){return this.getAttribute("contenteditable")},set(e){this.setAttribute("contenteditable",!e)}}),e.wrap?(t.$.addClass("jqx-hidden"),e.$multilineContainer.removeClass("jqx-hidden")):(t.$.removeClass("jqx-hidden"),e.$multilineContainer.addClass("jqx-hidden")),t.placeholder=i.placeholder=e.placeholder,t.readOnly=i.readOnly=e.readonly,i.value="",i.setAttribute("placeholder",e.placeholder),i.setAttribute("readonly",e.readonly)}_handleItemSelection(e,t){const i=this,n=i.$.dropDownContainer.getElementsByClassName("jqx-path-item");for(let e=0;e<n.length;e++)n[e].removeAttribute("active");if(!e)return;if(t&&i.$.fireEvent(t,{selected:e.hasAttribute("selected"),disabled:e.hasAttribute("disabled"),label:e.label,value:e.value}),e.hasAttribute("disabled"))return;const r=i.value;e.setAttribute("active",""),"notAPath"===e.value?(i.set("value","//"),i.$.input.value=i.$.multiline.value=""):"validPath"===e.value&&(i.set("value","////"),i.$.input.value=i.$.multiline.value=""),r!==i.value&&i.$.fireEvent("change",{oldValue:r,value:i.value}),i.close()}_handleKeyStrokes(e){const t=[].slice.call(this.$.dropDownContainer.children),i=t.find(e=>e.hasAttribute("focus")),n=function(e,t){if(!e)return;let i;for(i=e[t+"ElementSibling"];i;){if(!i.hasAttribute("disabled"))return i;i=i[t+"ElementSibling"]}};let r;if(t.length){switch(e){case"ArrowDown":r=i?n(i,"next"):t.find(e=>!e.hasAttribute("disabled"));break;case"ArrowUp":r=i?n(i,"previous"):t.find(e=>!e.hasAttribute("disabled"));break;case"Home":r=t.find(e=>!e.hasAttribute("disabled"));break;case"End":for(let e=t.length-1;e>=0;e--)if(!t[e].hasAttribute("disabled")){r=t[e];break}}r&&(t.map(e=>e.removeAttribute("focus")),r.setAttribute("focus",""))}}_getPathType(e){if(e&&e.length)return 0===e.indexOf("//rel//")?"rel":0===e.indexOf("//abs//")?"abs":0===e.indexOf("//unc//")?"unc":/(^|[\/\\])(\.{1,2})[\/\\]/g.test(e)?"rel":/^[\w\d]{1}:\\/gim.test(e)||/^\/[\w\d]+\//gim.test(e)?"abs":/^\\\\[\w\d]+\\/gim.test(e)||/^\/\/[\w\d]+\//gim.test(e)?"unc":"rel"}_getDriveName(e,t){const i=this;let n;return"rel"===t?(n=e[0].replace(/[:\\\/]+|\s/gim,""),e[0]=n):"abs"===t?(n=e[0].replace(/[:\\\/]+|[.]{1,}|\s/gim,""),"windows"===i.pathFormat?n+=":":"unix"===i.pathFormat&&(n="/"+n),e[0]=n):"unc"===t&&(n=e[0].replace(/[:\\\/]+|[.]{1,}|\s/gim,""),n="windows"===i.pathFormat?"\\\\"+n:"//"+n,e[0]=n),n}_handleValue(e){const t=this;if("//"===e||"////"===e)return void(t.$.multiline.value=t.$.input.value="");e=e.trim();const i=t._getPathType(e);if(!e||!e.length||!i)return t.set("value","//"),void(t.$.multiline.value=t.$.input.value="");const n=(e=(e=e.replace(/^(\/+((abs)|(rel)|(unc))\/+)|([?*"<>|]+)/gim,"")).replace(/[\\|\/]+/gim,">")).split(">").filter(e=>e.length);if(!n.length)return t.$.multiline.value=t.$.input.value="",void t.set("value",t._formatValue(i));for(let e=0;e<n.length-1;e++)if("..."!==n[e]){if(!1===/^\.+$/g.test(n[e]))for(;"."===n[e].charAt(n[e].length-1);)n[e]=n[e].slice(0,n[e].length-1)}else n[e]="";if("rel"===i)for(let e=0;e<n.length-1;e++)/^\.{3,}$/g.test(n[e])&&(n[e]="");else for(let e=0;e<n.length-1;e++)/^\.+$/g.test(n[e])&&(n[e]="");const r=t._getDriveName(n,i);t.set("value",t._formatValue(t._constructPath(n,">",r),i)),t.$.multiline.value=t.$.input.value=t._constructPath(n,"windows"===t.pathFormat?"\\":"/",r)}_constructPath(e,t,i){let n="";for(let r=0;r<e.length;r++){let a=e[r];const s=0===a.indexOf("<div>");(a=a.replace(/(<div>)|(<\/div>)/gim,""))!==i&&(a=a.replace(/[:\\\/]+|\s+$/gim,"")),this.wrap?a=a!==i?t+a:a:a+=t,s&&(a="<div>"+a+"</div>"),n+=a}return!this.wrap&&(e.length>1||1===e.length&&e[0].indexOf(":")<0)&&(n=n.slice(0,-1)),n}_trim(){const e=this;if(document.activeElement===e)return;const t="windows"===e.pathFormat?"\\":"/",i=e.value;if(!i||"//"===i||"////"===i)return void(e.$.multiline.value=e.$.input.value="");const n=e.$.pathWrapper,r=e.wrap?e.$.multiline:e.$.input;let a=i.replace(/^(\/+((abs)|(rel)|(unc))\/+)|([?*"<>]+)/gim,"").split("/");const s=e._getDriveName(a,e._getPathType(i));if(e.wrap){let i=e._trimVertically(a,s);for(;n.offsetHeight>e.offsetHeight;){const r=i.length<=2?0:1;if(!i.length)break;i.splice(r,1,"..."),i=e._trimVertically(i,s),n.innerHTML=e._constructPath(i,t,s?i[0]:void 0),n.offsetHeight>e.offsetHeight&&i.splice(r,1)}a=i}for(n.innerHTML=e._constructPath(a,t,s?a[0]:void 0);n.offsetWidth>r.offsetWidth;){const i=a.length<=2?0:1;if(!a.length)break;a.splice(i,1,"..."),n.innerHTML=e._constructPath(a,t,s?a[0]:void 0),n.offsetWidth>r.offsetWidth&&a.splice(i,1)}a.length||(n.innerHTML="..."),e.$.multiline.value=e.$.input.value=n.innerHTML}_trimVertically(e,t){const i=this,n=i.$.pathWrapper,r=i.wrap?i.$.multiline:i.$.input,a="windows"===i.pathFormat?"\\":"/",s=()=>{let t=-1;for(let i=0;i<e.length;i++)0!==i&&e[i].indexOf("<div>")<0&&(t=i);return t};for(let t=0;t<e.length;t++)e[t]=e[t].replace(/(<div>)|(<\/div>)/gim,"");for(n.innerHTML=i._constructPath(e,a,t?e[0]:void 0);n.offsetWidth>r.offsetWidth;){let r=s();if(r<=1||"..."===e[r])break;e[r]="<div>"+e[r]+"</div>",n.innerHTML=i._constructPath(e,a,t?e[0]:void 0)}return e.length||(n.innerHTML="..."),i.$.multiline.value=i.$.input.value=n.innerHTML,e}_formatValue(e,t){const i=this;return e||(e=i.wrap?i.$.multiline.value:i.$.input.value),t?"//"+t+"//"+e.replace(/[:]+|\\+|\/+/gim,"").replace(/>/g,"/"):"//"}_inputChangeHandler(e){const t=this,i=t.value;e.preventDefault(),e.stopPropagation(),t._handleValue((t.wrap?t.$.multiline:t.$.input).value,!0),i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}),t._updateDropDown()}_updateDropDown(){const e=this,t=e.$.dropDownContainer.children,i=e.wrap?e.$.multiline:e.$.input;let n,r;for(let e=0;e<t.length;e++){const i=t[e];if("notAPath"===i.value?n=i:"validPath"===i.value&&(r=i),n&&r)break}n&&(!i.value.length||e.indicator?(n.setAttribute("disabled",""),n.hasAttribute("focus")&&n.removeAttribute("focus")):n.removeAttribute("disabled")),r&&(i.value.length||e.indicator?(r.setAttribute("disabled",""),r.hasAttribute("focus")&&r.removeAttribute("focus")):r.removeAttribute("disabled"))}_dataBind(){const e=this,t=e.dataSource;let i=[];if(e.$.dropDownContainer.innerHTML="",t&&t.length&&("string"==typeof t&&(e.dataSource=JSON.parse(t)),Array.isArray(t))){const n=document.createDocumentFragment();for(let r=0;r<t.length;r++){const a=t[r],s=e._createItem(a);i.push(s),n&&n.appendChild(s)}e.$.dropDownContainer.appendChild(n)}}_documentDownHandler(e){const t=this;if(t.disabled||t.readonly)return;let i=e.originalEvent.target;if(i===t._overlay&&(t._overlayDown=!0),t.enableShadowDOM){let n=(i=e.originalEvent.composedPath()[0]).getRootNode().host;for(;n;)n.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),n=n.getRootNode().host}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;t.contains(i)&&(t._buttonClicked=i.closest(".jqx-browse-button")||i.closest(".jqx-drop-down-button"),t._isPathInputDown=i.closest(".jqx-path-input"));let n=i.closest(".jqx-path-item");t.$.dropDownContainer.contains(n)||(n=void 0),n&&(!t.hasRippleAnimation||n.hasAttribute("disabled")||n.hasAttribute("readonly")||JQX.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),t._itemClicked=n,t._preventDropDownClose=!0),t._isDropDownClicked&&(t._preventDropDownClose=!0)}_documentUpHandler(e){const t=this;let i=e.originalEvent.target;const n=i.closest(".jqx-path-item");if(n!==t._itemClicked){if(t._itemClicked=void 0,t._buttonClicked&&(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t._buttonClicked,e.pageX+t._buttonClicked.offsetWidth/4,e.pageY+t._buttonClicked.offsetHeight/4),i.closest(".jqx-browse-button")===t._buttonClicked&&t._buttonClicked===t.$.browseButton?t.$.fireEvent("browseButtonClick"):i.closest(".jqx-drop-down-button")===t._buttonClicked&&t._buttonClicked===t.$.dropDownButton&&t.$.fireEvent("dropDownButtonClick")),i.closest(".jqx-drop-down-button")===t._buttonClicked&&t._buttonClicked===t.$.dropDownButton)return t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close(),void(t._buttonClicked=void 0);t._buttonClicked=void 0,t._isPathInputDown!==t.$.input&&t._isPathInputDown!==t.$.multiline?void 0!==(i=t._getUpEventTarget(i))&&("dropDownContainer"!==i&&"item"!==i||"item"===i)&&t.close():t._isPathInputDown=void 0}else t._handleItemSelection(n,"itemClick")}_inputKeyDownHandler(e){const t=this;if(t.opened)switch(e.key){case"ArrowDown":case"ArrowUp":case"Home":case"End":return e.preventDefault(),e.altKey&&"ArrowUp"===e.key?void t.close():void t._handleKeyStrokes(e.key)}else{if(e.altKey&&"ArrowDown"===e.key)return e.preventDefault(),void t.open();if("PageDown"===e.key||"PageUp"===e.key)return void e.preventDefault()}if("Enter"===e.key)return t.wrap&&e.preventDefault(),void(t.opened&&(t._handleItemSelection(t._focusedItem(),"itemClick"),t.close()));if(t.opened&&"Escape"===e.key)return e.preventDefault(),void t.close();/^[a-z0-9\/\\.:\s]$/gim.test(e.key)&&t.$.multiline.removeAttribute("show-placeholder")}_focusedItem(){const e=this.$.dropDownContainer.children;for(let t=0;t<e.length;t++)if(e[t].hasAttribute("focus"))return e[t]}_inputKeyUpHandler(e){const t=this;if(t.wrap){const i=t.$.multiline.value;if(i||t.$.multiline.setAttribute("show-placeholder",""),t.$.input.value=i,"Enter"===e.key){const e=t.value;t._handleValue(i),i||(t.set("value","//"),t.$.multiline.value=t.$.input.value=""),i&&t._refreshInputSelection(),t.value!==e&&t.$.fireEvent("change",{oldValue:e,value:i})}t._updateDropDown()}else t.opened&&t._inputChangeHandler(e),"Enter"!==e.key||t.$.input.value.length||t.set("value","//")}_refreshInputSelection(e){const t=this;if(t.disabled||t.readonly)return;if(!t.wrap)return void t.$.input.setSelectionRange(0,t.$.input.value.length);const i=new Range,n=window.getSelection(),r=t.$.multiline.childNodes[t.$.multiline.childNodes.length-1];r&&(i.setStart(r,r.length),i.collapse(!0),e&&i.selectNodeContents(r),n.removeAllRanges(),n.addRange(i))}_getUpEventTarget(e){const t=this;let i=e;for(;i;){if(i.classList.contains(".jqx-path-item")){if(i.hasAttribute("disabled"))return;i="item";break}if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}if(t.enableShadowDOM&&null!==i)for(i=e.getRootNode().host;i;){if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}return i}_mouseOverEventHandler(e){const t=e.target,i=t.closest(".jqx-drop-down-button")||t.closest(".jqx-browse-button")||t.closest(".jqx-input")||t.closest(".jqx-path-item");i&&!i.hasAttribute("disabled")&&("mouseover"===e.type?i.setAttribute("hover",""):i.removeAttribute("hover"))}_createItem(e){const t=document.createElement("div");"number"==typeof e&&(e=""+e);const i=function(t,i){return void 0!==e[t]?""+e[t]:e[i]};let n=("string"==typeof e?e:i(this.displayMember,"label"))||"",r=("string"==typeof e?e:i(this.valueMember,"value"))||"";return t.label=t.innerHTML=""+(this.localize(n)||n),t.value=""+(r||n),t.selected=!!e.selected&&e.selected,t.disabled=!!e.disabled&&e.disabled,t.classList.add("jqx-path-item"),t}_resizeHandler(){const e=this;e._wrapRefresh(),"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize()),e._trim()}_wrapRefresh(){const e=this;e.wrap&&(e._handleValue(e.value),e.$.multiline.removeAttribute("position-absolute"),e.offsetHeight<e.$.multiline.offsetHeight&&e.$.multiline.setAttribute("position-absolute",""))}_styleChangedHandler(){this._trim()}_setDropDownSize(){const e=this;e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(t=>{e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?e[t]+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth?"auto"!==e.dropDownWidth?e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px":e.$.dropDownContainer.style.width="auto":e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px",e.dropDownHeight&&"auto"!==e.dropDownHeight?e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px"):e.$.dropDownContainer.style.height=e._dropDownSize.height}});var pe=Object.freeze({});JQX("jqx-drop-down-button",class extends JQX.ContentElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",type:"string"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},label:{value:"",type:"string"},messages:{extend:!0,value:{en:{invalidNode:'jqx-drop-down-button: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","actionButton.focus":"_buttonsFocusHandler","actionButton.blur":"_buttonsFocusHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownButton.focus":"_buttonsFocusHandler","dropDownButton.blur":"_buttonsFocusHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler"}}template(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <div id="buttonsContainer" class="jqx-buttons-container">\n                            <span id="actionButton" class="jqx-input jqx-action-button">[[placeholder]]</span>\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span id="arrow"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-scroll-viewer id="scrollViewer"                            \n                                right-to-left="[[right-to-left]]"\n                                horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]">\n                                <content></content>\n                            </jqx-scroll-viewer>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}attached(){super.attached(),this.isCompleted&&this.$.dropDownContainer&&(this._positionDetection.dropDownAttached("_setDropDownSize"),this._positionDetection.checkBrowserBounds())}detached(){super.detached(),this.$.dropDownContainer&&(this.close(),this._positionDetection.dropDownDetached())}propertyChangedHandler(e,t,i){const n=this;switch(e){case"disabled":case"unfocusable":n._setFocusable();break;case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler();break;case"dropDownHeight":case"dropDownMaxHeight":case"dropDownMaxWidth":case"dropDownMinHeight":case"dropDownMinWidth":case"dropDownWidth":n._setDropDownSize();break;case"dropDownOpenMode":n._setFocusable(),n.close();break;case"dropDownOverlay":i||n._positionDetection.removeOverlay();break;case"dropDownPlaceholder":n.$.dropDownContainer.hasAttribute("empty")&&(n.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=i,n.opened&&n.$.scrollViewer.refresh());break;case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler();break;case"innerHTML":""===i.trim()?(n.$.dropDownContainer.setAttribute("empty",""),requestAnimationFrame(()=>n.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=n.dropDownPlaceholder)):(n.$.dropDownContainer.removeAttribute("empty"),n.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=i),n.opened&&n.$.scrollViewer.refresh();break;case"opened":i?n.open():n.close();break;case"placeholder":""!==t&&""!==i||n._setFocusable();break;case"resizeIndicator":i?n.$.dropDownContainer.setAttribute("resize-indicator",""):n.$.dropDownContainer.removeAttribute("resize-indicator");break;case"resizeMode":n.$.dropDownContainer.setAttribute("resize-mode",n.resizeMode),n.opened&&n.$.scrollViewer.refresh()}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?t.$.scrollViewer.appendChild(e):t.error(t.localize("invalidNode",{method:"removeChild",node:"node"}))}removeChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?t.$.dropDownContainer.contains(e)&&t.$.scrollViewer.removeChild(e):t.error(t.localize("invalidNode",{method:"removeChild",node:"node"}))}removeAll(){const e=this;e.isCompleted&&e.$.scrollViewer.removeAll()}_open(){const e=this;if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){const t=e.getBoundingClientRect();if(e.$.container.contains(e.$.dropDownContainer)){let t=0;const i=setInterval(function(){const n=e.getBoundingClientRect();t++,n.top===e._positionTop&&t<10||(e.open(),clearInterval(i),e._positionTop=n.top)},100);return}t.top!==e._positionTop&&(e._positionTop=t.top)}e.$.fireEvent("opening").defaultPrevented||(e.opened=!0,e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e.$.dropDownButton&&("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("selected",""):e.$.dropDownButton.removeAttribute("selected")),e.$.input&&e.$.input.focus())}}open(){const e=this,t=document.querySelectorAll("jqx-drop-down-button, jqx-color-picker");for(let i=0;i<t.length;i++)t[i]!==e&&t[i].opened&&t[i].close();e._open(),e.$.scrollViewer.refresh()}scrollTo(e,t){this.isCompleted&&this.$.scrollViewer.scrollTo(e,t)}ready(){super.ready();const e=this;e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e.$.dropDownContainer.setAttribute("resize-mode",e.resizeMode),e.resizeIndicator&&e.$.dropDownContainer.setAttribute("resize-indicator",""),e._positionDetection.handleAutoPositioning(),e._createElement(),e.opened?e.open():e.hasAnimation&&e._edgeMacFF&&e.$dropDownContainer.addClass("not-in-view"),e._positionTop=e.getBoundingClientRect().top}_setDropDownSize(){const e=this;e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(t=>{e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?e[t]+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth?"auto"!==e.dropDownWidth?e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px":e.$.dropDownContainer.style.width="auto":e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px",e.dropDownHeight&&"auto"!==e.dropDownHeight?e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px"):e.$.dropDownContainer.style.height=e._dropDownSize.height}_setFocusable(){const e=this;if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.actionButton.removeAttribute("tabindex"),void e.$.dropDownButton.removeAttribute("tabindex");let t=e.tabIndex>0?e.tabIndex:0;"dropDownButton"===e.dropDownOpenMode?(e.removeAttribute("tabindex"),""===e.placeholder?e.$.actionButton.removeAttribute("tabindex"):e.$.actionButton.setAttribute("tabindex",t),e.$.dropDownButton.setAttribute("tabindex",t)):(e.$.actionButton.removeAttribute("tabindex"),e.$.dropDownButton.removeAttribute("tabindex"),e.tabIndex=t)}_calculateDropDownSize(){const e=this;e._dropDownSize={};const t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),n=parseFloat(t.getPropertyValue("border-bottom-width").trim()),r=parseFloat(t.getPropertyValue("margin-top").trim()),a=parseFloat(t.getPropertyValue("margin-bottom").trim()),s=parseFloat(t.getPropertyValue("padding-top").trim()),o=parseFloat(t.getPropertyValue("padding-bottom").trim());JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(n)?0:n),e._dropDownSize.paddingWidth=(isNaN(s)?0:s)+(isNaN(o)?0:o),e._dropDownSize.marginWidth=(isNaN(r)?0:r)+(isNaN(a)?0:a)}_createElement(){const e=this;""===e.innerHTML.trim()&&(e.$.dropDownContainer.setAttribute("empty",""),e.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=e.dropDownPlaceholder),e._setDropDownSize(),e._setFocusable(),e.$.arrow.noRipple=!0}_dragStartHandler(e){this._resizeDetails&&this._resizeDetails.started&&e.preventDefault()}_dropDownTransitionendHandler(){const e=this;e._edgeMacFF&&!e.opened&&e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view"))}_blurEventHandler(){const e=this;e.$.dropDownButton&&(e.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),e.$.actionButton&&(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus"))}_focusEventHandler(){const e=this;e.$.dropDownButton&&(e.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus","")),e.$.actionButton&&(e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus","")),e.removeAttribute("drop-down-button-focus"),e.removeAttribute("action-button-focus")}_buttonsFocusHandler(e){const t=this;e.target===t.$.dropDownButton?"focus"===e.type?t.setAttribute("drop-down-button-focus",""):t.removeAttribute("drop-down-button-focus"):"focus"===e.type?t.setAttribute("action-button-focus",""):t.removeAttribute("action-button-focus")}_getUpEventTarget(e){const t=this;let i=e;for(;i;){if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}if(t.enableShadowDOM&&null!==i)for(i=e.getRootNode().host;i;){if(i===t.$.dropDownContainer){i="dropDownContainer";break}i=i.parentElement}return i}close(){const e=this;e.$dropDownContainer.hasClass("jqx-visibility-hidden")||e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.$.dropDownButton&&e.$.dropDownButton.removeAttribute("selected"),e.opened=!1,e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e._edgeMacFF&&!e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}_documentUpHandler(e){const t=this,i=t.hasAttribute("resizing");if(t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._preventDropDownClose=!1,t.focus(),void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}});if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked;if(t._overlayDown)return t.close(),void delete t._overlayDown;let n=e.originalEvent.target;if(t.enableShadowDOM&&(n=e.originalEvent.composedPath()[0]),t._preventsSelectStart=!1,void 0===n||n===t.$.resizeBar)return;const r=n.closest(".jqx-action-button");if(t._buttonClicked&&("dropDownButton"===t.dropDownOpenMode&&r&&t._buttonClicked===t.$.actionButton?t.$.fireEvent("actionButtonClick"):n.closest(".jqx-drop-down-button")!==t._buttonClicked&&r!==t._buttonClicked||t.$.fireEvent("dropDownButtonClick")),t._buttonClicked=void 0,!t.editable&&r===t.$.actionButton||n.closest(".jqx-drop-down-button")===t.$.dropDownButton)return"dropDownButton"===t.dropDownOpenMode&&r===t.$.actionButton?void t.close():void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode?t.open():t.close());void 0!==(n=t._getUpEventTarget(n))&&(("dropDownContainer"!==n&&"item"!==n||"item"===n&&"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0)&&t.close(),i&&t.$.scrollViewer&&t.$.scrollViewer.refresh())}_keyDownHandler(e){const t=this,i=document.activeElement;if(!(t.disabled||t.readonly||i!==t&&i!==t.$.dropDownButton&&i!==t.$.actionButton))switch(e.key){case"Enter":case" ":e.preventDefault(),e.target!==t.$.actionButton&&(t.opened&&"Enter"===e.key?t.close():t.opened||t.readonly||"none"===t.dropDownOpenMode||t.open());break;case"End":t.$.scrollViewer.scrollTop=t.$.scrollViewer.scrollHeight;break;case"Home":t.$.scrollViewer.scrollTop=0;break;case"PageUp":case"PageDown":t.$.scrollViewer.scrollTop+=(e.key.indexOf("Down")>-1?1:-1)*t.$.dropDownContainer.offsetHeight;break;case"ArrowUp":case"ArrowDown":if(e.altKey)return void(t.disabled||t.readonly||"none"===t.dropDownOpenMode||(t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close()));e.preventDefault(),t.$.scrollViewer.scrollTop+=10*(e.key.indexOf("Down")>-1?1:-1);break;case"Escape":e.preventDefault(),t.close()}}_propertyValidator(e,t){return"number"!=typeof t&&"string"!=typeof t?e:t}_mouseEnterHandler(){const e=this;e._isElementHovered=!0,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e.open()}_mouseLeaveHandler(){const e=this;e.removeAttribute("hover"),e._isElementHovered=!1,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e._autoClose()}_autoClose(){const e=this;e._autoCloseTimeout=setTimeout(function(){e._isElementHovered||e.close(),clearTimeout(e._autoCloseTimeout)}.bind(e),e.autoCloseDelay)}_documentMoveHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;if("auto"===t.dropDownOpenMode&&null!==t.dropDownAppendTo&&(t.contains(i)||t.$.dropDownContainer.contains(i)?t._isElementHovered=!0:(t._isElementHovered=!1,t._autoClose())),!t._resizeDetails||t._resizeDetails&&!t._resizeDetails.started)return;t.setAttribute("resizing",""),t._resizeDetails.resizeEventFired||(t.$.fireEvent("resizeStart",{position:{left:e.pageX,top:e.pageY}}),t._resizeDetails.resizeEventFired=!0);const n=document.documentElement,r=t.$.dropDownContainer.getBoundingClientRect(),a=t.getBoundingClientRect(),s=t.$.dropDownContainer.hasAttribute("top")?"top":"bottom";let o;function l(){if(o=e.pageY-t._resizeDetails.y,"bottom"===s)t._resizeDetails.height=Math.min(n.clientHeight-r.top-6,Math.max(0,t._resizeDetails.height+o)),t._resizeDetails.y=Math.max(r.top+n.scrollTop-t._resizeDetails.offsetY,Math.min(n.clientHeight+n.scrollTop-1.5*t._resizeDetails.offsetY,e.pageY));else{if(t._resizeDetails.height=Math.min(t._dropDownSize.maxHeight,Math.max(0,Math.min(a.top,t._resizeDetails.height-o))),o=Math.max(0,r.top+(r.height-Math.max(t._dropDownSize.minHeight,t._resizeDetails.height))),t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const e=Math.abs(parseFloat(getComputedStyle(t.$.dropDownContainer).getPropertyValue("margin-bottom")))||0;t.$.dropDownContainer.style.top=t.dropDownAppendTo&&t.dropDownAppendTo.length>0?e+o+"px":""}const i=a.top+n.scrollTop+t._resizeDetails.offsetYtop;t._resizeDetails.y=Math.max(t._resizeDetails.offsetYtop,Math.min(i,Math.max(i-t._dropDownSize.maxHeight,e.pageY)))}t.$.dropDownContainer.style.height=t._resizeDetails.height+"px"}function d(){o=e.pageX-t._resizeDetails.x,t._resizeDetails.width=Math.min(n.clientWidth-r.left-6,Math.max(0,t._resizeDetails.width+o)),t.$.dropDownContainer.style.width=t._resizeDetails.width+"px",t._resizeDetails.x=Math.max(r.left+n.scrollLeft-t._resizeDetails.offsetXR,Math.min(n.clientWidth+n.scrollLeft-1.5*t._resizeDetails.offsetXR,e.pageX))}switch(t.resizeMode){case"vertical":l();break;case"horizontal":d();break;case"both":d(),l()}}_documentDownHandler(e){const t=this;if(t.disabled||t.readonly)return;let i=e.originalEvent.target;if(i===t._overlay&&(t._overlayDown=!0),t.enableShadowDOM){let n=(i=e.originalEvent.composedPath()[0]).getRootNode().host;for(;n;)n.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),n=n.getRootNode().host}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;if(t._buttonClicked=i.closest(".jqx-action-button")||i.closest(".jqx-drop-down-button"),t._isDropDownClicked&&(t._preventDropDownClose=!0),i!==t.$.resizeBar||"none"===t.resizeMode)return;t._resizeDetails||(t._resizeDetails={});const n=t.$.dropDownContainer.getBoundingClientRect();t._resizeDetails.started=!0,t._resizeDetails.x=e.pageX,t._resizeDetails.y=e.pageY,t._resizeDetails.width=t.$.dropDownContainer.offsetWidth,t._resizeDetails.height=t.$.dropDownContainer.offsetHeight,t._resizeDetails.offsetXL=e.clientX-n.left,t._resizeDetails.offsetXR=n.left+t.$.dropDownContainer.offsetWidth-e.clientX,t._resizeDetails.offsetY=n.top+t.$.dropDownContainer.offsetHeight-e.clientY,t._resizeDetails.offsetYtop=e.clientY-n.top,t._preventDropDownClose=!0}_resizeHandler(){const e=this;"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize())}_resizeBarMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_styleChangedHandler(e){const t=this;if(t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const i=e.detail.styleProperties,n=["font-size","font-family","font-style","font-weight"];for(let e=0;e<n.length;e++)i[n[e]]&&(t.$.dropDownContainer.style[n[e]]=i[n[e]].value)}"auto"===t._dropDownSize.height&&t._setDropDownSize()}_buttonsDownHandler(e){const t=this;if(!t.disabled){if(t.hasRippleAnimation)if("dropDownButton"===t.dropDownOpenMode)JQX.Utilities.Animation.Ripple.animate(e.target,e.pageX,e.pageY);else if(e.target===t.$.dropDownButton||!t.editable){const i=t.$.buttonsContainer;i.firstElementChild.noRipple=!0,JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i.firstElementChild.noRipple=!1}t._preventsSelectStart=!0,"dropDownButton"===t.dropDownOpenMode&&e.target===t.$.actionButton&&t.$.actionButton.setAttribute("active",""),t.opened&&(t._preventDropDownClose=!0)}}_buttonsMouseEventsHandler(e){const t=this;t.disabled||("mouseenter"===e.type?(t.setAttribute("hover",""),e.target.setAttribute("hover","")):(t.removeAttribute("hover"),e.target.removeAttribute("hover")))}_selectStartHandler(e){this._preventsSelectStart&&e.preventDefault()}});var me=Object.freeze({});JQX("jqx-color-panel",class extends JQX.BaseElement{static get properties(){return{applyValueMode:{value:"instantly",allowedValues:["instantly","useButtons"],type:"string"},columnCount:{value:8,type:"number?"},displayMode:{value:"default",allowedValues:["default","grid","palette","radial","hexagonal","spectrumGrid","materialGrid"],type:"string"},disableUndo:{value:!1,type:"boolean"},editAlphaChannel:{value:!1,type:"boolean"},enableCustomColors:{value:!1,type:"boolean"},gridThemeColors:{value:null,type:"array?",reflectToAttribute:!1},gridShadeColors:{value:null,type:"array?",reflectToAttribute:!1},gridStandardColors:{value:null,type:"array?",reflectToAttribute:!1},hideAlphaEditor:{value:!1,type:"boolean"},hideContentToFit:{value:["RGB","HEX","alpha","previewContainer"],type:"array"},hideHEXEditor:{value:!1,type:"boolean"},hidePreviewContainer:{value:!1,type:"boolean"},hideRGBEditor:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},messages:{value:{en:{redPrefix:"R:",greenPrefix:"G:",bluePrefix:"B:",hexPrefix:"#:",alphaPrefix:"Alpha:",ok:"OK",cancel:"CANCEL",customColor:"CUSTOM COLOR",standardColors:"Standard colors",themeColors:"Theme colors"}},type:"object",extend:!0},name:{value:"",type:"string"},palette:{value:"default",allowedValues:["default","gray","red","green","blue","custom"],type:"string"},paletteColors:{value:null,type:"array?",reflectToAttribute:!1},paletteCustomColors:{value:null,type:"array?",reflectToAttribute:!1},tooltipDisplayMode:{value:"hex",allowedValues:["none","rgba","rgb","hex"],type:"string"},value:{value:null,type:"string?"},valueFormat:{value:"default",allowedValues:["rgb","rgba","hex","hsv","default"],type:"string"},valueMember:{value:"value",type:"string?"}}}static get listeners(){return{"container.click":"_containerClickHandler","container.mouseover":"_handleGridModeCellHover","paletteModeContainer.down":"_paletteDownHandler","container.change":"_handleInputChange","document.move":"_moveThumbHandler","document.up":"_releaseThumbUpHandler","paletteModeContainer.wheel":"_inputWheelHandler",resize:"_hideControlsByPriority","hexModeResizeTrigger.resize":"_resizeHoneycombItems","paletteModeContainer.move":"_trackMoveHandler"}}static get requires(){return{"JQX.Utilities.Draw":"jqxdraw.js","JQX.Button":"jqxbutton.js","JQX.Tooltip":"jqxtooltip.js"}}static get styleUrls(){return["jqx.button.css","jqx.tooltip.css","jqx.colorpanel.css"]}template(){return'<div id="container">\n                    <div id="gridModeContainer" class ="grid-mode-container"></div>\n                    <div id="paletteModeContainer" class ="palette-mode-container">\n                        <div id="colorPaletteContainer" class ="color-palette-container">\n                            <div id="colorPalette" class ="color-palette">\n                                <div id="colorPaletteThumb" class ="color-palette-thumb"></div>\n                            </div>\n                            <div id="hueScale" class ="hue-scale">\n                                <div id="hueScaleThumb" class ="hue-scale-thumb"></div>\n                            </div>\n                            <div id="colorPaletteRadial" class ="color-palette-radial">\n                                <span class="white-radial-gradient"></span>\n                                <div id="colorPaletteRadialThumb" class ="color-palette-radial-thumb"></div>\n                            </div>\n                            <div id="colorPaletteHexagonal" class ="color-palette-hexagonal"></div>\n                            <div id="brightnessScale" class ="brightness-scale">\n                                <div id="brightnessScaleThumb" class ="brightness-scale-thumb"></div>\n                            </div>\n                            <span id="hexModeResizeTrigger" class ="color-sample hex-mode-resize-trigger"></span>\n                            <div id="colorControlsContainer" class ="color-controls-container"></div>\n                        </div>\n                        <div id="alphaChannelContainer" class ="alpha-channel-container"></div>\n                    </div>\n                    <div id="buttonsContainer" class ="buttons-container"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}propertyChangedHandler(e,t,i){const n=this;switch(e){case"applyValueMode":"instantly"!==i||n.value||(n._HSV={h:0,s:0,v:1},n._selectedItem&&n._selectedItem.classList.contains("selected")&&(n._selectedItem.classList.remove("selected"),n._selectedItem.style.stroke=null)),"palette"!==n.displayMode&&"radial"!==n.displayMode&&"hexagonal"!==n.displayMode||n._handleCancelButtonClick(),"useButtons"===i&&n._createApplyValueButtons();break;case"paletteColors":n._customPalette=n._mapDataSourceToPalette(),r(n.displayMode);break;case"inverted":{const e=n.value,t=n.$.hueScaleThumb.offsetHeight,a=n._validateInRange(t/2,0,n.$.hueScale.offsetHeight-t)/n.$.brightnessScale.offsetHeight;i?(n._HSV.v=n._HSV.s,n._HSV.s=1-a):(n._HSV.s=n._HSV.v,n._HSV.v=1-a),n.value=n._HSVtoRGBA(n._HSV),n.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",n.$.brightnessScaleThumb.s||0),r(n.displayMode),n.value!==e&&n.$.fireEvent("change",{oldValue:e,value:n.value});break}case"palette":r(n.displayMode),n._updatePreviewContainerValues(n.value);break;case"displayMode":case"gridThemeColors":case"gridShadeColors":case"gridStandardColors":if("displayMode"===e){const e=n.value;if(n.$.container.className.indexOf("custom-color-selection")>-1&&n._handleCancelButtonClick(),null!==n.value&&"palette"!==i&&"hexagonal"!==i&&"radial"!==i){!n.editAlphaChannel&&n.$.alphaChannelThumb&&(n.$.alphaChannelThumb.style.left=0,n.$.alphaChannelThumb.a=n._RGBA.a=1),n.value=n._getValue(n.valueFormat),r(),n.$.fireEvent("change",{oldValue:e,value:n.value});break}if(null===n.value&&("palette"===i||"hexagonal"===i||"radial"===i)){n._RGBA={r:255,g:255,b:255,a:1},n._HSV={h:0,s:0,v:1},n.value=n._getValue(n.valueFormat),r(),n.$.fireEvent("change",{oldValue:e,value:n.value});break}n.value=n._getValue(n.valueFormat)}r(n.displayMode);break;case"locale":case"messages":n._localizeLabels();break;case"paletteCustomColors":n._userPalette=i||[],(n.displayMode.toLowerCase().indexOf("grid")>-1||"default"===n.displayMode)&&n._generatePaletteUserColorGrid(!0);break;case"editAlphaChannel":{if(!i&&(n._RGBA.a=1),!n.value)return;const e=n.value;n.value=n._getValue(n.valueFormat),n.value!==e&&n.$.fireEvent("change",{oldValue:e,value:n.value}),i&&n._createAlphaChannel();break}case"value":if(i="string"==typeof i?i.trim():i,!n._isValidColor(i))return void n._reset();n._applyValue(i),n.value=n._getValue(n.valueFormat),"hexagonal"===n.displayMode&&n._generateHoneycomb(n.columnCount,n.inverted?{s:n._HSV.s}:{v:n._HSV.v}),t!==n.value&&n.$.fireEvent("change",{oldValue:t,value:n.value});break;case"columnCount":{const e=n.$.container.style;null===i||isNaN(i)?e.removeProperty("--jqx-color-panel-grid-mode-column-count"):e.setProperty("--jqx-color-panel-grid-mode-column-count",i),n._generatePaletteUserColorGrid(),"spectrumGrid"===n.displayMode?n._generateSpectrumGrid(parseInt(i)):"hexagonal"===n.displayMode&&n._generateHoneycomb(i,n._HSV)}break;case"valueFormat":{if(!n.value)return;const e=n.value;n.value=n._getValue(i),n.$.fireEvent("change",{oldValue:e,value:n.value});break}case"tooltipDisplayMode":if(!n.$.tooltip)return;"none"===i?(n.$.tooltip.close(),n.$.tooltip.disabled=!0):n.$.tooltip.disabled=!1;break;default:if(super.propertyChangedHandler(e,t,i),"disabled"===e){const t=n.getElementsByClassName("color-input");for(let i=0;i<t.length;i++)t[i][e]}"disabled"!==e&&"theme"!==e&&"animation"!==e||(n.$.buttonOk&&(n.$.buttonOk[e]=i),n.$.buttonCancel&&(n.$.buttonCancel[e]=i),n.$.buttonCustom&&(n.$.buttonCustom[e]=i),n.$.tooltip&&(n.$.tooltip[e]=i))}function r(){n._generateGridStructures(),n._applyValue(n.value)}}ready(){super.ready();const e=this;e._initializeBaseVars(),null===e.columnCount||isNaN(e.columnCount)?e.$.container.style.removeProperty("--jqx-color-panel-grid-mode-column-count"):e.$.container.style.setProperty("--jqx-color-panel-grid-mode-column-count",e.columnCount),"useButtons"===e.applyValueMode&&e._createApplyValueButtons(),e.editAlphaChannel&&e._createAlphaChannel(),e._localizeLabels(),e._generateGridStructures(),e.value||"hexagonal"!==e.displayMode&&"radial"!==e.displayMode&&"palette"!==e.displayMode||(e.value=e._getValue(e.valueFormat)),e._applyValue(e.value),e._hideControlsByPriority(),e.enableShadowDOM&&e.appendChild(e.$.hiddenInput)}_createApplyValueButtons(e){const t=this;function i(e){let i=document.createElement("jqx-button");return i.classList.add(e),i.classList.add("primary"),i.disabled=t.disabled,i.theme=t.theme,i.animation=t.animation,t.$.buttonsContainer.appendChild(i),i}(e||"useButtons"===t.applyValueMode)&&(t.$.buttonsContainer.innerHTML.trim()||(t.$.buttonOk=i("button-ok"),t.$.buttonCancel=i("button-cancel"),t.$.buttonOk.content=t.localize("ok"),t.$.buttonCancel.content=t.localize("cancel")))}_createAlphaChannel(){!this.editAlphaChannel||this.editAlphaChannel&&this.$.alphaChannelContainer.innerHTML.trim()||(this.$.alphaChannelContainer.innerHTML='\n                            <div class ="alpha-channel-scale">\n                                <div class ="alpha-channel-thumb"></div>\n                            </div>\n                            <label for="aChannelInput" class ="a-channel"></label>\n                            <input type="number" step="0.01" id="aChannelInput" class ="color-input a-channel" value="1" min="0" max="1">',this.$.alphaChannelScale=this.$.alphaChannelContainer.querySelector(".alpha-channel-scale"),this.$.alphaChannelThumb=this.$.alphaChannelContainer.querySelector(".alpha-channel-thumb"),this.$.alphaChannelContainer.querySelector("input").disabled=this.disabled,this._localizeLabels(),this._applyAlphaValue(this._RGBA.a,"alphaScale"))}_createGridModeComponents(){if(["radial","palette","hexagonal"].indexOf(this.displayMode)>-1)return!1;if(this.$.gridModeContainer.innerHTML.trim())return;const e=this.$.gridModeContainer;e.innerHTML='\n                        <div id="defaultSamplesContainer" class ="default-samples-container"></div>\n                        <div id="gridSamplesContainer" class ="grid-samples-container"></div>\n                        <div id="materialGridSamplesContainer" class ="material-grid-samples-container"></div>\n                        <div id="spectrumGridSamplesContainer" class ="spectrum-grid-samples-container"></div>\n                        <jqx-button id="buttonCustom" class ="button-custom-color primary"></jqx-button>\n                        <div id="userSamplesContainer" class ="user-samples-container"></div>\n                        <jqx-tooltip id="tooltip" arrow position="auto"></jqx-tooltip>',this.$.defaultSamplesContainer=e.querySelector(".default-samples-container"),this.$.gridSamplesContainer=e.querySelector(".grid-samples-container"),this.$.materialGridSamplesContainer=e.querySelector(".material-grid-samples-container"),this.$.materialGridSamplesContainer.$=JQX.Utilities.Extend(this.$.materialGridSamplesContainer),this.$.spectrumGridSamplesContainer=e.querySelector(".spectrum-grid-samples-container"),this.$.userSamplesContainer=e.querySelector(".user-samples-container"),this.$.buttonCustom=e.querySelector("jqx-button"),this.$.tooltip=e.querySelector("jqx-tooltip"),this.$.buttonCustom.disabled=this.disabled,this.$.buttonCustom.animation=this.animation,this.$.buttonCustom.theme=this.theme,this.$.buttonCustom.content=this.localize("customColor"),this.$.tooltip.disabled=this.disabled||"none"===this.tooltipDisplayMode,this.$.tooltip.animation=this.animation,this.$.tooltip.theme=this.theme}_createColorControls(e){const t=this;if(!e&&["radial","palette","hexagonal"].indexOf(t.displayMode)<0)return!1;const i=t.$.colorControlsContainer;if(i.innerHTML.trim())return;i.innerHTML='\n                                <div id="previewContainer" class ="preview-container gradient-background">\n                                       <span  class ="preview-container-top"></span>\n                                       <span class ="preview-container-bottom"></span>\n                                </div>\n                                <label for="rChannelInput" id="rChannelLabel" class ="r-channel"></label>\n                                <input type="number" min="0" max="255" id="rChannelInput" class ="color-input r-channel" value="255">\n                                <label for="gChannelInput" id="gChannelLabel" class ="g-channel"></label>\n                                <input type="number" min="0" max="255" id="gChannelInput" class ="color-input g-channel" value="255" >\n                                <label for="bChannelInput" id="bChannelLabel" class ="b-channel"></label>\n                                <input type="number" min="0" max="255" id="bChannelInput" class ="color-input b-channel" value="255">\n                                <label for="hexInput" id="hexLabel" class ="hex"></label>\n                                <input type="text" id="hexInput" class ="color-input hex" value="FFFFFF" maxlength="6">';const n=i.getElementsByClassName("color-input");for(let e=0;e<n.length;e++)n[e].disabled=t.disabled;t._localizeLabels()}_containerClickHandler(e){const t=this;if(t.disabled||t.readonly||!e.target)return;if(e.target.classList.contains("color-sample"))return void t._handleSampleClick(e);const i=e.target.closest("jqx-button");if(i!==t.$.buttonCancel)return i===t.$.buttonCustom?(t.$container.addClass("custom-color-selection"),t._createApplyValueButtons(!0),t._createColorControls(!0),t._applyValueInPaletteMode(),t._customColorSelection=!0,void(1===t._RGBA.a&&t.$.alphaChannelThumb&&(t.$.alphaChannelThumb.style.left=0,t.$.alphaChannelThumb.a=t._RGBA.a))):void(i!==t.$.buttonOk?e.target!==(t.shadowRoot||t).querySelector(".preview-container-top")||"useButtons"!==t.applyValueMode||t.disableUndo||t._applyValue(t.value):t._handleOkButtonClick(!0));t._handleCancelButtonClick(!0)}_reset(e=this.value){const t=this;t._RGBA={r:255,g:255,b:255,a:1},t._HSV={h:0,s:0,v:1},t.$.hueScaleThumb.h=0,t.$.colorPaletteThumb.s=0,t.$.colorPaletteThumb.v=1,t.$.colorPaletteRadialThumb.h=0,t.$.colorPaletteRadialThumb.s=0,t.$.brightnessScaleThumb.v=1,t.$.brightnessScaleThumb.s=0,"hexagonal"!==t.displayMode&&"radial"!==t.displayMode&&"palette"!==t.displayMode?(t.value=null,t._selectedItem&&t._selectedItem.classList.contains("selected")&&(t._selectedItem.classList.remove("selected"),t._selectedItem.style.stroke=null)):t.value=t._getValue(t.valueFormat),t._applyValue(t.value),t.$.fireEvent("change",{oldValue:e,value:t.value})}_handleColorPaletteDown(e){const t=this,i=t._getXYcoordinates(e);if(!i)return;const n="palette"===t.displayMode||"grid"===t.displayMode?t.$.colorPaletteThumb:t.$.colorPaletteRadialThumb;if(t._activeComponent=i.container,"palette"===t.displayMode||t.$.container.className.indexOf("custom-color-selection")>-1){if(n.s=t._HSV.s=i.x/i.container.offsetWidth,n.v=t._HSV.v=1-i.y/i.container.offsetHeight,"grid"===t.displayMode)return t._moveThumbHandler(e,!0),void t._applyValueInPaletteMode(e)}else if("radial"===t.displayMode){const e=t.$.colorPaletteRadial.offsetWidth,r=i.x-e/2,a=i.y-e/2;n.h=t._HSV.h=t._calcHueAngle(r,a)<0?360+t._calcHueAngle(r,a):t._calcHueAngle(r,a);const s=t.$.brightnessScaleThumb,o=t.$.brightnessScale,l=t._validateInRange(2*t._calcSatDistance(r,a)/e,0,1),d=o.offsetHeight-s.offsetHeight,h=t._validateInRange(s.offsetTop,0,d)/d;t.inverted?(n.v=t._HSV.v=l,n.s=t._HSV.s=1-h):(n.s=t._HSV.s=l,n.v=t._HSV.v=1-h)}t._applyValue(t._HSVtoRGBA(t._HSV),e),t._instantUpdate()}_handleScalesDown(e){const t=this,i=t._getXYcoordinates(e);let n,r;i&&(t._activeComponent=i.container,i.container===t.$.hueScale?t._updateHueScale(i):i.container===t.$.brightnessScale?(t._updateBrightnessScale(i),"hexagonal"===t.displayMode&&t._generateHoneycomb(t.columnCount,t._HSV)):t.$.alphaChannelScale&&(n=i.x-t.$.alphaChannelThumb.offsetWidth/2,r=t.$.alphaChannelScale.offsetWidth-t.$.alphaChannelThumb.offsetWidth,t.$.alphaChannelThumb.style.left=100*t._validateInRange(n,0,r)/t.$.alphaChannelScale.offsetWidth+"%",t.$.alphaChannelThumb.a=t._RGBA.a=parseFloat(((i.container.offsetWidth-i.x)/i.container.offsetWidth).toFixed(2)),t._applyAlphaValue(t._RGBA.a,"alphaScale")),t._applyValue(t._HSVtoRGBA(t._HSV),e),t._instantUpdate())}_updateBrightnessScale(e){const t=this,i=e.y-t.$.brightnessScaleThumb.offsetHeight/2,n=t.$.brightnessScale.offsetHeight-t.$.brightnessScaleThumb.offsetHeight,r=Math.min(Math.max(parseFloat(i),0),parseFloat(n))/n;t.inverted?t.$.brightnessScaleThumb.s=t._HSV.s=1-r:t.$.brightnessScaleThumb.v=t._HSV.v=1-r,t.$.brightnessScaleThumb.style.top=n*r+"px",t.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",r)}_updateHueScale(e){const t=e.y-this.$.hueScaleThumb.offsetHeight/2,i=this.$.hueScale.offsetHeight,n=i-this.$.hueScaleThumb.offsetHeight;this.$.hueScaleThumb.h=this._HSV.h=360*(i-e.y)/i,this.$.hueScaleThumb.style.top=n*Math.min(Math.max(parseFloat(t),0),parseFloat(n))/n+"px"}_trackMoveHandler(e){JQX.Utilities.Core.isMobile||e.stopPropagation(),"touchmove"===e.originalEvent.type&&this._dragDetails&&e.originalEvent.preventDefault()}_moveThumbHandler(e,t){const i=this,n=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset;if(i.disabled||i.readonly||!i._activeComponent||!i._dragDetails||i._dragDetails.x===n&&i._dragDetails.y===r&&!t)return;const a=i._getXYcoordinates(e);if(!a)return;const s=i._activeComponent.offsetWidth,o=i._activeComponent.offsetHeight;switch(i._activeComponent){case i.$.colorPalette:i.$.colorPaletteThumb.style.left=100*a.x/s+"%",i.$.colorPaletteThumb.style.top=100*a.y/o+"%",i.$.colorPaletteThumb.s=i._HSV.s=a.x/s,i.$.colorPaletteThumb.v=i._HSV.v=1-a.y/o;break;case i.$.colorPaletteRadial:{const e=s,t=a.x-e/2,n=a.y-e/2;i.$.colorPaletteRadialThumb.h=i._HSV.h=i._calcHueAngle(t,n)<0?360+i._calcHueAngle(t,n):i._calcHueAngle(t,n),i.inverted?i.$.colorPaletteRadialThumb.v=i._HSV.v=i._validateInRange(2*i._calcSatDistance(t,n)/e,0,1):i.$.colorPaletteRadialThumb.s=i._HSV.s=i._validateInRange(2*i._calcSatDistance(t,n)/e,0,1);const r=(i.shadowRoot||i).querySelector(".preview-container-bottom");r&&(r.style.backgroundColor=i._HSVtoRGBA());break}case i.$.hueScale:i._updateHueScale(a);break;case i.$.brightnessScale:if(i._updateBrightnessScale(a),"hexagonal"===i.displayMode){const e=i.inverted?{s:i._HSV.s}:{v:i._HSV.v};i._generateHoneycomb(i.columnCount,e)}break;case i.$.alphaChannelScale:{const e=a.x-i.$.alphaChannelThumb.offsetWidth/2,t=s-i.$.alphaChannelThumb.offsetWidth;i.$.alphaChannelThumb.a=i._RGBA.a=parseFloat(((s-a.x)/s).toFixed(2)),i.$.alphaChannelThumb.style.left=100*i._validateInRange(e,0,t)/s+"%";break}}i._applyValue(i._HSVtoRGBA(i._HSV),e),i._instantUpdate()}_releaseThumbUpHandler(){const e=!!this._activeComponent;this._activeComponent=null,this.disabled||this.readonly||!e||this._dragDetails&&this._dragDetails.isPalettePressed||this._instantUpdate()}_handleCancelButtonClick(e){const t=this,i=t.value;switch("palette"!==t.displayMode&&"radial"!==t.displayMode&&"hexagonal"!==t.displayMode?(t.value=i,t._HSV=t._getValue("hsv",t.value)||{h:1,s:0,v:1},t._RGBA=t._getValue("HSVtoRGBAarray",t.value)):(t._HSV=t._getValue("hsv",t.value)||{h:1,s:0,v:1},t._RGBA=t._getValue("HSVtoRGBAarray",t.value),t.value=t._getValue(t.valueFormat)),t._applyValue(t.value),t.displayMode){case"radial":t._generateRadialCanvas();break;case"hexagonal":t._generateHoneycomb(t.columnCount,t._HSV)}if(null===t.value&&t._selectedItem&&t._selectedItem.classList.contains("selected")&&t._selectedItem.classList.remove("selected"),i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}),t.$.container.className.indexOf("custom-color-selection")>-1&&t._applyValueInPaletteMode(),e&&t.$.fireEvent("cancelButtonClick"),!1===t._customColorSelection){t._updatePreviewContainerValues(t.value);let e=("hexagonal"===t.displayMode?t.$.colorPaletteHexagonal:t.$.gridModeContainer).getElementsByClassName("selected");for(let i=0;i<e.length;i++)!e[i]||t.value&&t._equalValues(e[i].colorCode,t.value)||(e[i].style.stroke=null,e[i].classList.remove("selected"))}else t.$container.removeClass("custom-color-selection");if(t._customColorSelection=!1,t._customTempColor=void 0,"palette"===t.displayMode||"radial"===t.displayMode){const e=(t.shadowRoot||t).querySelector(".preview-container-top");e&&(e.style.backgroundColor=t.value)}}_handleOkButtonClick(e){const t=this,i=t.value;if(!1!==t._customColorSelection&&void 0!==t._customColorSelection){const e=t._getValue(t.valueFormat);return"useButtons"!==t.applyValueMode&&(t.value=e),t.$container.removeClass("custom-color-selection"),t._userPalette.unshift(e),t._generatePaletteUserColorGrid(),t._customColorSelection=!1,void(i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}))}if(t._customTempColor&&(t._userPalette.unshift(t._customTempColor),t._generatePaletteUserColorGrid(),t._generateNewPalette=!1,t._customTempColor=""),"palette"===t.displayMode||"radial"===t.displayMode||"hexagonal"===t.displayMode||t._selectedItem&&t._selectedItem.classList.contains("selected")?t.value=t._getValue(t.valueFormat):t.value=null,null===t.value)if("palette"===t.displayMode)t._applyValue(t._HSVtoRGBA(t._HSV),event);else{let e=t.$.gridModeContainer.getElementsByClassName("selected");for(let t=0;t<e.length;t++)e[t]&&e[t].classList.remove("selected")}i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}),e&&t.$.fireEvent("okButtonClick",{}),t._customColorSelection=!1,"useButtons"!==t.applyValueMode||t._equalValues(t.value,t._HSVtoRGBA())||t._updatePreviewContainerValues(t._getValue("rgba"),!0)}_handleInputChange(e){const t=this,i=t.value,n=e.target;if(t.disabled||t.readonly)return;e.preventDefault(),e.stopPropagation();const r=["r-channel","g-channel","b-channel"].find(e=>n.className.indexOf(e)>-1),a=n.classList.contains("a-channel");if(r||a)n.value=r?Math.min(255,Math.max(0,n.value)):Math.min(1,Math.max(0,parseFloat(n.value)||0)),t._RGBA=t._getRGBAFromInputs(),t._HSV=t._getValue("hsv","rgba("+t._RGBA.r+", "+t._RGBA.g+", "+t._RGBA.b+", "+t._RGBA.a+")");else if(n.classList.contains("hex")){const e=t.value?t._getValue("hex"):null,i="#"+n.value;t._isHEX(i)?(t._RGBA.a=1,t._applyValue(t.editAlphaChannel?t._toRGBA(i):t._toHEX(i))):n.value=e?e.substring(1):"ffffff"}t._applyValue(t.editAlphaChannel?t._getValue("rgba"):t._getValue("hex")),"useButtons"===t.applyValueMode||t.$.container.className.indexOf("custom-color-selection")>-1||(t.value=t._getValue(t.valueFormat),t.$.fireEvent("change",{oldValue:i,value:t.value}))}_applyValue(e,t){const i=this;if(!e||null===e||"rgba(NaN, NaN, NaN, 1)"===e)return i._RGBA={r:255,g:255,b:255,a:1},void(i.$.hiddenInput.value=i.value);i._HSVRGBArefresh(e.trim()),"palette"===i.displayMode||i.$.container.className.indexOf("custom-color-selection")>-1?i._applyValueInPaletteMode(t):"radial"===i.displayMode?i._applyValueInRadialMode(t):"hexagonal"===i.displayMode?i._applyValueInHexagonalMode(t):i._applyValueInAnyGridMode(e.trim()),i._applyAlphaValue(i._RGBA.a),i.$.hiddenInput.value=i.value}_applyAlphaValue(e,t){const i=this;if(e=parseFloat(e),i.$.alphaChannelScale){if("alphaScale"!==t){const t=i.$.alphaChannelThumb.offsetWidth,n=i.$.alphaChannelScale.offsetWidth,r=(1-e)*n>t?(1-e)*t:0;i.$.alphaChannelThumb.style.left=(1-e)*n-r+"px"}if("alphaInput"!==t){i.$.alphaChannelContainer.querySelector("input.a-channel").value=e}}i._RGBA.a=e,i._updatePreviewContainerValues(i._getValue("rgba"))}_applyValueInPaletteMode(e){const t=this,i=t._getValue("hex"),n=t.$.hueScale.offsetHeight,r=t.$.hueScaleThumb.offsetHeight,a=t._HSV.h?t.$.hueScale.offsetHeight*(360-t._HSV.h)/360:0,s=a-r>0?a/n*r:0,o=(t.shadowRoot||t).querySelector("input.hex");if(t._setRGBAToInputs(),o&&(o.value=i.substring(1)),t.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",t._rgbArrayToHEX([t._RGBA.r,t._RGBA.g,t._RGBA.b,1])),!t._activeComponent){if(t.$.alphaChannelThumb){const e=t.$.alphaChannelThumb.offsetWidth,i=t.$.alphaChannelScale.offsetWidth,n=(1-t._RGBA.a)*i>e?(1-t._RGBA.a)*e:0;t.$.alphaChannelThumb.style.left=(1-t._RGBA.a)*i-n+"px"}t.$.hueScaleThumb.style.top=Math.min(t.$.hueScale.offsetHeight-t.$.hueScaleThumb.offsetHeight,a+s)+"px",t._setPalettePointerXYPosition()}t._activeComponent===t.$.hueScale&&(t.$.colorPalette.style.backgroundColor=t._rgbaToRGB(t._HSVtoRGBA({h:t.$.hueScaleThumb.h,s:1,v:1}))),t._activeComponent&&t._activeComponent!==t.$.colorPalette||t._setPalettePointerXYPosition(e),t.event?t._HSV.h=t.$.hueScaleThumb.h:(t.$.hueScaleThumb.h=t._HSV.h,t.$.colorPalette.style.backgroundColor=t._rgbaToRGB(t._HSVtoRGBA({h:t._HSV.h,s:1,v:1}))),t._updatePreviewContainerValues(t._getValue("rgba"))}_applyValueInRadialMode(e){const t=this,i=t._getValue("hex"),n=(t.shadowRoot||t).querySelector("input.hex");if(t._setRGBAToInputs(),n&&(n.value=i.substring(1)),t.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",t._rgbArrayToHEX([t._RGBA.r,t._RGBA.g,t._RGBA.b,1])),!t._activeComponent){const e=t.$.brightnessScale.offsetHeight-t.$.brightnessScaleThumb.offsetHeight;if(t.$.alphaChannelThumb){const e=t.$.alphaChannelThumb.offsetWidth,i=t.$.alphaChannelScale.offsetWidth,n=(1-t._RGBA.a)*i>e?(1-t._RGBA.a)*e:0;t.$.alphaChannelThumb.style.left=(1-t._RGBA.a)*i-n+"px"}const i=t.inverted?t._HSV.v:1-t._HSV.v;t.$.brightnessScaleThumb.style.top=e*i+"px",t.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",i)}if(t._activeComponent&&t._activeComponent!==t.$.colorPaletteRadial||t._setPalettePointerXYPosition(e),t._updatePreviewContainerValues(t._getValue("rgba")),t.inverted){const e=null===t.value?"black":t._HSVtoRGBA({h:t._HSV.h,s:1,v:t._HSV.v});t.$.brightnessScale.style.backgroundImage="linear-gradient("+e+", white)"}else{const e=null===t.value?"white":t._HSVtoRGBA({h:t._HSV.h,s:t._HSV.s,v:1});t.$.brightnessScale.style.backgroundImage="linear-gradient("+e+", black)"}}_applyValueInHexagonalMode(){const e=this,t=e._getValue("hex"),i=(e.shadowRoot||e).querySelector("input.hex");if(e._setRGBAToInputs(),i&&(i.value=t?t.substring(1):null),e.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",e._rgbArrayToHEX([e._RGBA.r,e._RGBA.g,e._RGBA.b,1])),!e._activeComponent&&!e._targetItem){const t=e.$.brightnessScale.offsetHeight-e.$.brightnessScaleThumb.offsetHeight;if(e.$.alphaChannelThumb){const t=e.$.alphaChannelThumb.offsetWidth,i=e.$.alphaChannelScale.offsetWidth,n=(1-e._RGBA.a)*i>t?(1-e._RGBA.a)*t:0;e.$.alphaChannelThumb.style.left=(1-e._RGBA.a)*i-n+"px"}e.$.brightnessScaleThumb.style.top=t*(e.inverted?e._HSV.v:1-e._HSV.v)+"px"}const n=e._getValue("rgba");if(e._updatePreviewContainerValues(n||e._getValue("hex")),e.inverted){const t=e._HSVtoRGBA({h:e._HSV.h,s:1,v:e._HSV.v},1);e.$.brightnessScale.style.backgroundImage="linear-gradient("+t+", white)"}else{const t=e._HSVtoRGBA({h:e._HSV.h,s:e._HSV.s,v:1},1);e.$.brightnessScale.style.backgroundImage="linear-gradient("+t+", black)"}e._applyValueInAnyGridMode(t,e.$.colorPaletteHexagonal)}_radialThumbPoint(e,t,i,n){return{x:Math.round(Math.cos(i*Math.PI/180)*n*e+e),y:Math.round(Math.sin(i*Math.PI/180)*n*e+t)}}_updatePreviewContainerValues(e,t){const i=(this.shadowRoot||this).querySelector(".preview-container");i&&(("instantly"===this.applyValueMode||t)&&(i.firstElementChild.style.backgroundColor=e),i.lastElementChild.style.backgroundColor=e)}_applyValueInAnyGridMode(e,t){const i=this;if(!e&&null!==e)return;if(!t)switch(i.displayMode){case"default":t=i.$.defaultSamplesContainer;break;case"grid":t=i.$.gridSamplesContainer;break;case"materialGrid":t=i.$.materialGridSamplesContainer;break;case"spectrumGrid":t=i.$.spectrumGridSamplesContainer;break;default:t=i.$.gridModeContainer}if(!t)return;const n=Array.from(t.getElementsByClassName("color-sample"));let r=i._targetItem;if(null==r)for(let t=0;t<n.length;t++){const a=n[t];if(i._equalValues(a.colorCode,e)){r=n[t];break}}i.$.container.className.indexOf("custom-color-selection")>-1&&i._HSV.h&&i._applyValueInPaletteMode(),i._changeSampleSelection(r)}_generatePaletteGrid(){const e=this;if(!e.$.gridSamplesContainer)return;const t=e["_"+e.palette+"Palette"];let i=document.createDocumentFragment();for(let n=0;n<t.length;n++){const r=document.createElement("span"),a=t[n];r.className="color-sample",r.colorCode=a,r.style.backgroundColor=a,"rgba(255, 255, 255, 0)"===e._toRGBA(a)||"#FFFFFF00"===e._toHEX(e._toRGBA(a))||"transparent"===a?r.setAttribute("transparent",""):r.removeAttribute("transparent"),i.appendChild(r)}e.$.gridSamplesContainer.innerHTML="",e.$.gridSamplesContainer.appendChild(i)}_generatePaletteUserColorGrid(e){const t=this;if(!t.$.userSamplesContainer)return;if(!t._userPalette||!t._userPalette.length)return void(t.$.userSamplesContainer.innerHTML="");let i,n=t._userPalette.filter(e=>""!==e).slice(0,t.columnCount||1),r=document.createDocumentFragment();n=[...new Set(n)];for(let e=0;e<n.length;e++)if(n[e]){const a=t._createColorSample(n[e],"user-color");r.appendChild(a),i||(i=a)}t.$.userSamplesContainer.innerHTML="",t.$.userSamplesContainer.appendChild(r),!e&&i.colorCode&&t._changeSampleSelection(i),t.paletteCustomColors=t._userPalette.slice(0)}_initializeBaseVars(){void 0===this._RGBA&&(this._RGBA={r:255,g:255,b:255,a:1},this._HSV={h:0,s:0,v:1},this.$.hueScaleThumb.h=0,this.$.colorPaletteThumb.s=0,this.$.colorPaletteThumb.v=1,this.$.colorPaletteRadialThumb.h=0,this.$.colorPaletteRadialThumb.s=0,this._defaultPalette=["rgba(255, 255, 255, 0)","rgb(0, 0, 0)","rgb(153, 51, 0)","rgb(51, 51, 0)","rgb(0, 51, 0)","rgb(0, 51, 102)","rgb(0, 0, 128)","rgb(51, 51, 153)","rgb(51, 51, 51)","rgb(128, 0, 0)","rgb(255, 102, 0)","rgb(128, 128, 0)","rgb(0, 128, 0)","rgb(0, 128, 128)","rgb(0, 0, 255)","rgb(102, 102, 153)","rgb(128, 128, 128)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(153, 204, 0)","rgb(51, 153, 102)","rgb(51, 204, 204)","rgb(51, 102, 255)","rgb(128, 0, 128)","rgb(153, 153, 153)","rgb(255, 0, 255)","rgb(255, 204, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(0, 204, 255)","rgb(153, 51, 102)","rgb(192, 192, 192)","rgb(255, 153, 204)","rgb(255, 204, 153)","rgb(255, 255, 153)","rgb(204, 255, 204)","rgb(204, 255, 255)","rgb(153, 204, 255)","rgb(204, 153, 255)","rgb(255, 255, 255)"],this._grayPalette=this._generateShades(40,"gray"),this._redPalette=this._generateShades(40,"red"),this._greenPalette=this._generateShades(40,"green"),this._bluePalette=this._generateShades(40,"blue"),this._customPalette=this._mapDataSourceToPalette(),this._userPalette=this.paletteCustomColors||[],this._colorPalette={},this._cssColorNamesHEX={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},this._defaultModeThemeColors=null===this.gridThemeColors?["#FFFFFF","#000000","#E6E6E6","#495469","#5671C2","#D48439","#A5A5A5","#EEC328","#7399D3","#85AA4C"]:this.gridThemeColors,this._defaultModeStandardColors=null===this.gridStandardColors?["#A52A0D","#DB3A15","#EEC328","#FEFE33","#A6CD57","#62AC54","#65ADEE","#3F6FBE","#10205F","#64379E"]:this.gridStandardColors,this._defaultModeShadesColors=null===this.gridShadeColors?["#F2F2F2","#808080","#D0CECE","#D6DCE4","#DDEBF7","#FCE4D6","#EBEBEB","#FFF2CC","#DDE5F7","#E2EFDA","#D8D8D8","#595959","#AEAAAA","#ACB9CA","#BDD7EE","#F6CAAD","#DBDBDB","#FFE699","#B4C6E7","#C6E0B4","#BFBFBF","#404040","#757171","#8497B0","#9BC2E6","#F4B084","#C0C0C0","#FFD966","#8EA9DB","#A9D08E","#A6A6A6","#262626","#312F2F","#333F4F","#2F75B5","#C65911","#7B7B7B","#BF8F00","#305496","#548235","#808080","#0D0D0D","#161616","#222B35","#1F4E78","#833C0C","#525252","#806000","#203764","#375623"]:this.gridShadeColors,this._materialColors={Red:{50:"rgb(255, 235, 238)",100:"rgb(255, 205, 210)",200:"rgb(239, 154, 154)",300:"rgb(229, 115, 115)",400:"rgb(239, 83, 80)",500:"rgb(244, 67, 54)",600:"rgb(229, 57, 53)",700:"rgb(211, 47, 47)",800:"rgb(198, 40, 40)",900:"rgb(183, 28, 28)","A 100":"rgb(255, 138, 128)","A 200":"rgb(255, 82, 82)","A 400":"rgb(255, 23, 68)","A 700":"rgb(213, 0, 0)"},Pink:{50:"rgb(252, 228, 236)",100:"rgb(248, 187, 208)",200:"rgb(244, 143, 177)",300:"rgb(240, 98, 146)",400:"rgb(236, 64, 122)",500:"rgb(233, 30, 99)",600:"rgb(216, 27, 96)",700:"rgb(194, 24, 91)",800:"rgb(173, 20, 87)",900:"rgb(136, 14, 79)","A 100":"rgb(255, 128, 171)","A 200":"rgb(255, 64, 129)","A 400":"rgb(245, 0, 87)","A 700":"rgb(197, 17, 98)"},Purple:{50:"rgb(243, 229, 245)",100:"rgb(225, 190, 231)",200:"rgb(206, 147, 216)",300:"rgb(186, 104, 200)",400:"rgb(171, 71, 188)",500:"rgb(156, 39, 176)",600:"rgb(142, 36, 170)",700:"rgb(123, 31, 162)",800:"rgb(106, 27, 154)",900:"rgb(74, 20, 140)","A 100":"rgb(234, 128, 252)","A 200":"rgb(224, 64, 251)","A 400":"rgb(213, 0, 249)","A 700":"rgb(170, 0, 255)"},"Deep Purple":{50:"rgb(237, 231, 246)",100:"rgb(209, 196, 233)",200:"rgb(179, 157, 219)",300:"rgb(149, 117, 205)",400:"rgb(126, 87, 194)",500:"rgb(103, 58, 183)",600:"rgb(94, 53, 177)",700:"rgb(81, 45, 168)",800:"rgb(69, 39, 160)",900:"rgb(49, 27, 146)","A 100":"rgb(179, 136, 255)","A 200":"rgb(124, 77, 255)","A 400":"rgb(101, 31, 255)","A 700":"rgb(98, 0, 234)"},Indigo:{50:"rgb(232, 234, 246)",100:"rgb(197, 202, 233)",200:"rgb(159, 168, 218)",300:"rgb(121, 134, 203)",400:"rgb(92, 107, 192)",500:"rgb(63, 81, 181)",600:"rgb(57, 73, 171)",700:"rgb(48, 63, 159)",800:"rgb(40, 53, 147)",900:"rgb(26, 35, 126)","A 100":"rgb(140, 158, 255)","A 200":"rgb(83, 109, 254)","A 400":"rgb(61, 90, 254)","A 700":"rgb(48, 79, 254)"},Blue:{50:"rgb(227, 242, 253)",100:"rgb(187, 222, 251)",200:"rgb(144, 202, 249)",300:"rgb(100, 181, 246)",400:"rgb(66, 165, 245)",500:"rgb(33, 150, 243)",600:"rgb(30, 136, 229)",700:"rgb(25, 118, 210)",800:"rgb(21, 101, 192)",900:"rgb(13, 71, 161)","A 100":"rgb(130, 177, 255)","A 200":"rgb(68, 138, 255)","A 400":"rgb(41, 121, 255)","A 700":"rgb(41, 98, 255)"},"Light Blue":{50:"rgb(225, 245, 254)",100:"rgb(179, 229, 252)",200:"rgb(129, 212, 250)",300:"rgb(79, 195, 247)",400:"rgb(41, 182, 246)",500:"rgb(3, 169, 244)",600:"rgb(3, 155, 229)",700:"rgb(2, 136, 209)",800:"rgb(2, 119, 189)",900:"rgb(1, 87, 155)","A 100":"rgb(128, 216, 255)","A 200":"rgb(64, 196, 255)","A 400":"rgb(0, 176, 255)","A 700":"rgb(0, 145, 234)"},Cyan:{50:"rgb(224, 247, 250)",100:"rgb(178, 235, 242)",200:"rgb(128, 222, 234)",300:"rgb(77, 208, 225)",400:"rgb(38, 198, 218)",500:"rgb(0, 188, 212)",600:"rgb(0, 172, 193)",700:"rgb(0, 151, 167)",800:"rgb(0, 131, 143)",900:"rgb(0, 96, 100)","A 100":"rgb(132, 255, 255)","A 200":"rgb(24, 255, 255)","A 400":"rgb(0, 229, 255)","A 700":"rgb(0, 184, 212)"},Teal:{50:"rgb(224, 242, 241)",100:"rgb(178, 223, 219)",200:"rgb(128, 203, 196)",300:"rgb(77, 182, 172)",400:"rgb(38, 166, 154)",500:"rgb(0, 150, 136)",600:"rgb(0, 137, 123)",700:"rgb(0, 121, 107)",800:"rgb(0, 105, 92)",900:"rgb(0, 77, 64)","A 100":"rgb(167, 255, 235)","A 200":"rgb(100, 255, 218)","A 400":"rgb(29, 233, 182)","A 700":"rgb(0, 191, 165)"},Green:{50:"rgb(232, 245, 233)",100:"rgb(200, 230, 201)",200:"rgb(165, 214, 167)",300:"rgb(129, 199, 132)",400:"rgb(102, 187, 106)",500:"rgb(76, 175, 80)",600:"rgb(67, 160, 71)",700:"rgb(56, 142, 60)",800:"rgb(46, 125, 50)",900:"rgb(27, 94, 32)","A 100":"rgb(185, 246, 202)","A 200":"rgb(105, 240, 174)","A 400":"rgb(0, 230, 118)","A 700":"rgb(0, 200, 83)"},"Light Green":{50:"rgb(241, 248, 233)",100:"rgb(220, 237, 200)",200:"rgb(197, 225, 165)",300:"rgb(174, 213, 129)",400:"rgb(156, 204, 101)",500:"rgb(139, 195, 74)",600:"rgb(124, 179, 66)",700:"rgb(104, 159, 56)",800:"rgb(85,139,47)",900:"rgb(51,105,30)","A 100":"rgb(204,255,144)","A 200":"rgb(178,255,89)","A 400":"rgb(118,255,3)","A 700":"rgb(100, 221, 23)"},Lime:{50:"rgb(249, 251, 231)",100:"rgb(255, 249, 196)",200:"rgb(255, 245, 157)",300:"rgb(255, 241, 118)",400:"rgb(255, 238, 88)",500:"rgb(255, 235, 59)",600:"rgb(253, 216, 53)",700:"rgb(251, 192, 45)",800:"rgb(249, 168, 37)",900:"rgb(245, 127, 23)","A 100":"rgb(244, 255, 129)","A 200":"rgb(238, 255, 65)","A 400":"rgb(198, 255, 0)","A 700":"rgb(174, 234, 0)"},Yellow:{50:"rgb(255, 253, 231)",100:"rgb(255, 249, 196)",200:"rgb(255, 245, 157)",300:"rgb(255, 241, 118)",400:"rgb(255, 238, 88)",500:"rgb(255, 235, 59)",600:"rgb(253, 216, 53)",700:"rgb(251, 192, 45)",800:"rgb(249, 168, 37)",900:"rgb(245, 127, 23)","A 100":"rgb(255, 255, 141)","A 200":"rgb(255, 255, 0)","A 400":"rgb(255, 234, 0)","A 700":"rgb(255, 214, 0)"},Amber:{50:"rgb(255, 248, 225)",100:"rgb(255, 236, 179)",200:"rgb(255, 224, 130)",300:"rgb(255, 213, 79)",400:"rgb(255, 202, 40)",500:"rgb(255, 193, 7)",600:"rgb(255, 179, 0)",700:"rgb(255, 160, 0)",800:"rgb(255, 143, 0)",900:"rgb(255, 111, 0)","A 100":"rgb(255, 229, 127)","A 200":"rgb(255, 215, 64)","A 400":"rgb(255, 196, 0)","A 700":"rgb(255, 171, 0)"},Orange:{50:"rgb(255, 243, 224)",100:"rgb(255, 224, 178)",200:"rgb(255, 204, 128)",300:"rgb(255, 183, 77)",400:"rgb(255, 167, 38)",500:"rgb(255, 152, 0)",600:"rgb(251, 140, 0)",700:"rgb(245, 124, 0)",800:"rgb(239, 108, 0)",900:"rgb(230, 81, 0)","A 100":"rgb(255, 209, 128)","A 200":"rgb(255, 171, 64)","A 400":"rgb(255, 145, 0)","A 700":"rgb(255, 109, 0)"},"Deep Orange":{50:"rgb(251, 233, 231)",100:"rgb(255, 204, 188)",200:"rgb(255, 171, 145)",300:"rgb(255, 138, 101)",400:"rgb(255, 112, 67)",500:"rgb(255, 87, 34)",600:"rgb(244, 81, 30)",700:"rgb(230, 74, 25)",800:"rgb(216, 67, 21)",900:"rgb(191, 54, 12)","A 100":"rgb(255, 158, 128)","A 200":"rgb(255, 110, 64)","A 400":"rgb(255, 61, 0)","A 700":"rgb(221, 44, 0)"},Brown:{50:"rgb(239, 235, 233)",100:"rgb(215, 204, 200)",200:"rgb(188, 170, 164)",300:"rgb(161, 136, 127)",400:"rgb(141, 110, 99)",500:"rgb(121, 85, 72)",600:"rgb(109, 76, 65)",700:"rgb(93, 64, 55)",800:"rgb(78, 52, 46)",900:"rgb(62, 39, 35)","A 100":"","A 200":"","A 400":"","A 700":""},Grey:{50:"rgb(250, 250, 250)",100:"rgb(245, 245, 245)",200:"rgb(238, 238, 238)",300:"rgb(224, 224, 224)",400:"rgb(189, 189, 189)",500:"rgb(158, 158, 158)",600:"rgb(117, 117, 117)",700:"rgb(97, 97, 97)",800:"rgb(66, 66, 66)",900:"rgb(33, 33, 33)","A 100":"","A 200":"","A 400":"","A 700":""},"Blue Grey":{50:"rgb(236, 239, 241)",100:"rgb(207, 216, 220)",200:"rgb(176, 190, 197)",300:"rgb(144, 164, 174)",400:"rgb(120, 144, 156)",500:"rgb(96, 125, 139)",600:"rgb(84, 110, 122)",700:"rgb(69, 90, 100)",800:"rgb(55, 71, 79)",900:"rgb(38, 50, 56)","A 100":"","A 200":"","A 400":"","A 700":""}})}_mapDataSourceToPalette(){const e=this;let t=[];if(!e.paletteColors||!Array.isArray(e.paletteColors)||0===e.paletteColors.length)return[];for(let i=0;i<e.paletteColors.length;i++){const n=e.paletteColors[i];"string"==typeof n?t.push(e.paletteColors[i]):("object"==typeof n&&(n.value&&"string"==typeof n||n[e.valueMember]&&n[e.valueMember]),t.push(e.paletteColors[i]))}return t}_handleSampleClick(e){const t=this,i=e.target,n=t.value;let r=i.colorCode;"hexagonal"===t.displayMode?(r=t._HSVtoRGBA({h:i.h,s:i.s,v:i.v},t._RGBA.a),t._hexagonItems.indexOf(i)>-1&&(t._HSV.h=i.h,t.inverted,t._HSV.s=i.s,t._HSV.v=i.v,t._targetItem=i,t._applyValue(t._HSVtoRGBA(t._HSV),e),delete t._targetItem)):t._changeSampleSelection(i),t._HSVRGBArefresh(i.classList.contains("selected")?r:null),"instantly"===t.applyValueMode&&(t.$.hiddenInput.value=t.value=t._getValue(t.valueFormat,i.classList.contains("selected")?r:null),t.value!==n&&t.$.fireEvent("change",{oldValue:n,value:t.value}))}_changeSampleSelection(e){if(this._selectedItem&&"radial"!==this.displayMode&&"hexagonal"!==this.displayMode&&(!e||this._selectedItem===e&&e.classList.contains("selected")))return;if(!e)return;const t=this._getContrastColor(this._rgbaToHEX(this._toRGBA(e.colorCode))),i=e.closest("svg");return Array.from((this.shadowRoot||this).querySelectorAll(".selected")).forEach(e=>{e.classList.remove("selected"),e.style.stroke=null}),e.classList.add("selected"),this._selectedItem=e,i&&(e.style.stroke=t,i.appendChild(e)),!0}_getContrastColor(e){if(void 0===e)return;let t=(i=e.slice(1,3),n=e.slice(3,5),r=e.slice(5,7),[parseInt(i,16),parseInt(n,16),parseInt(r,16)]);var i,n,r;return(.299*t[0]+.61*t[1]+.114*t[2])/255>.6?"#000000":"#FFFFFF"}_getXYcoordinates(e){if(!e)return;const t=this._activeComponent||(e.originalEvent||e).target;if(!t.closest)return;const i=t.closest(".color-palette")||t.closest(".color-palette-radial")||t.closest(".hue-scale")||t.closest(".brightness-scale")||t.closest(".alpha-channel-scale");if(!i||this.disabled||this.readonly)return;const n=i.getBoundingClientRect();let r=e.pageX-window.pageXOffset-n.left,a=e.pageY-window.pageYOffset-n.top;return r<0?r=0:r>i.offsetWidth&&(r=i.offsetWidth),a<0?a=0:a>i.offsetHeight&&(a=i.offsetHeight),{x:r,y:a,container:i}}_inputWheelHandler(e){const t=this,i=t.value,n=e.target;if(!(e.target instanceof HTMLInputElement)||e.target.classList.contains("hex"))return;let r;e.preventDefault(),n.classList.contains("a-channel")?(r=parseFloat(n.value)||0,r=e.deltaY<0?r+.01:r-.01,n.value=t._toFixed(t._validateInRange(r,0,1)),t._RGBA=t._getRGBAFromInputs(),t._applyAlphaValue(t._RGBA.a,"alphaInput")):(r=parseInt(n.value)||0,r=e.deltaY<0?r+1:r-1,n.value=t._validateInRange(r,0,255),t._RGBA=t._getRGBAFromInputs(),t._HSV=t._getValue("hsv","rgba("+t._RGBA.r+", "+t._RGBA.g+", "+t._RGBA.b+", "+t._RGBA.a+")")),t._updatePreviewContainerValues(t._getValue(t.valueFormat)),t._setPalettePointerXYPosition(),"useButtons"===t.applyValueMode&&("palette"===t.displayMode?t._applyValueInPaletteMode():"radial"===t.displayMode?t._applyValueInRadialMode():"hexagonal"===t.displayMode&&t._generateHoneycomb(t.columnCount,t._HSV)),t.$.container.className.indexOf("custom-color-selection")>-1?t._applyValue(t._HSVtoRGBA(t._HSV)):"useButtons"!==t.applyValueMode&&(t.value=t._getValue(t.valueFormat),t._applyValue(t.value,e),t.$.fireEvent("change",{oldValue:i,value:t.value}))}_paletteDownHandler(e){const t=this;if(!JQX.Utilities.Core.isMobile&&0!==e.button||t.disabled||t.readonly)return;t._dragDetails={x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset};const i=(e.originalEvent||e).target;if(i&&i.closest){if(t._dragDetails.target=i.closest(".color-palette")||i.closest(".color-palette-radial"),i.closest(".color-palette")||i.closest(".color-palette-radial"))return t._handleColorPaletteDown(e.originalEvent),void(t._dragDetails.isPalettePressed=!0);(i.closest(".hue-scale")||i.closest(".alpha-channel-scale")||i.closest(".brightness-scale"))&&t._handleScalesDown(e.originalEvent)}}_setPalettePointerXYPosition(e){const t=this;let i;if("palette"===t.displayMode||t.$.container.className.indexOf("custom-color-selection")>-1)i=t._getXYcoordinates(e),t.$.colorPaletteThumb.style.left=e&&i&&i.x?100*i.x/i.container.offsetWidth+"%":100*t._HSV.s+"%",t.$.colorPaletteThumb.style.top=e&&i&&i.y?100*i.y/i.container.offsetHeight+"%":100*(1-t._HSV.v)+"%";else if("radial"===t.displayMode){if(e){if(!(i=t._getXYcoordinates(e)))return;const n=i.container.offsetWidth?i.container.offsetWidth:t.$.colorPaletteRadial.offsetWidth,r=i.container.offsetHeight?i.container.offsetHeight:t.$.colorPaletteRadial.offsetHeight,a=Math.round(Math.cos(t._HSV.h*Math.PI/180)*n/2+n/2),s=Math.round(Math.sin(t._HSV.h*Math.PI/180)*n/2+r/2);return Math.abs(n/2-i.x)<5?(t.$.colorPaletteRadialThumb.style.left=100*i.x/t.$.colorPaletteRadial.offsetWidth+"%",void(t.$.colorPaletteRadialThumb.style.top=100*i.y/t.$.colorPaletteRadial.offsetHeight+"%")):(t.$.colorPaletteRadialThumb.style.left=100*(i.x<n/2?Math.max(a,i.x):Math.min(a,i.x))/n+"%",void(t.$.colorPaletteRadialThumb.style.top=100*(i.y<r/2?Math.max(s,i.y):Math.min(s,i.y))/r+"%"))}{const e=t._radialThumbPoint(t.$.colorPaletteRadial.offsetWidth/2,t.$.colorPaletteRadial.offsetHeight/2,t._HSV.h,t._HSV.s);t.$.colorPaletteRadialThumb.style.left=100*e.x/t.$.colorPaletteRadial.offsetWidth+"%",t.$.colorPaletteRadialThumb.style.top=100*e.y/t.$.colorPaletteRadial.offsetHeight+"%"}}}_handleGridModeCellHover(e){const t=this,i=e.target.closest(".color-sample");if(t.disabled||!i||"none"===t.tooltipDisplayMode||!t.$.tooltip)return;if(t.$.tooltip.arrow="hexagonal"!==t.displayMode,!t._isValidColor(i.colorCode))return void(t.$.tooltip.disabled=!0);t.$.tooltip.disabled=!1,t.$.tooltip.selector=i;const n=i.h&&i.s&&i.v?t._HSVtoRGBA({h:i.h,s:i.s,v:i.v},t._RGBA.a):t._toRGBA(i.colorCode);switch(t.tooltipDisplayMode){case"rgba":t.$.tooltip.value=n||"";break;case"rgb":t.$.tooltip.value=t._rgbaToRGB(n)||"";break;case"hex":t.$.tooltip.value=t._rgbaToHEX(n)||""}}_localizeLabels(){const e=this,t=(e.shadowRoot||e).querySelector("label.r-channel"),i=(e.shadowRoot||e).querySelector("label.g-channel"),n=(e.shadowRoot||e).querySelector("label.b-channel"),r=(e.shadowRoot||e).querySelector("label.a-channel"),a=(e.shadowRoot||e).querySelector("label.hex");if(t&&(t.innerHTML=e.localize("redPrefix")),i&&(i.innerHTML=e.localize("greenPrefix")),n&&(n.innerHTML=e.localize("bluePrefix")),r&&(r.innerHTML=e.localize("alphaPrefix")),a&&(a.innerHTML=e.localize("hexPrefix")),e.$.buttonCustom&&(e.$.buttonCustom.content=e.localize("customColor")),e.$.buttonOk&&(e.$.buttonOk.content=e.localize("ok")),e.$.buttonCancel&&(e.$.buttonCancel.content=e.localize("cancel")),e.$.defaultSamplesContainer){const t=e.$.defaultSamplesContainer.querySelector(".theme-colors-label"),i=e.$.defaultSamplesContainer.querySelector(".standard-colors-label");t&&(t.innerHTML=e.localize("themeColors")),i&&(i.innerHTML=e.localize("standardColors"))}}_generateHoneycomb(e,t){const i=this,n=parseInt(getComputedStyle(i).getPropertyValue("--jqx-color-panel-grid-mode-item-size"))/4,r=Math.sqrt(5*Math.pow(n,2)),a=e%2==0?parseInt(e)+1:parseInt(e),s=t&&void 0!==t.s?t.s:1,o=t&&void 0!==t.v?t.v:1,l=i._calculateHexagonCoords(a,r,1),d=l[Math.floor(l.length/2)],h=i._getHoneycomb30degDimmensions(l.length,r,1);i._draw||(i._draw=new JQX.Utilities.Draw(i.$.colorPaletteHexagonal)),i._draw.clear(),i._hexagonItems=[],i.$.materialGridSamplesContainer&&i.$.materialGridSamplesContainer.$.addClass("jqx-hidden");for(let e=0;e<l.length;e++){const t=l[e].x-d.x,n=l[e].y-d.y,a=i._validateInRange(i._calcSatDistance(t,n)/d.x,0,1);let h,c,u=i._calcHueAngle(t,n)<0?360+i._calcHueAngle(t,n):i._calcHueAngle(t,n);switch(i.inverted?(h=s,c=a):(h=a,c=o),i.palette){case"red":u=0;break;case"green":u=120;break;case"blue":u=240;break;case"gray":h=0,c=i.inverted?a:1-a}const p={offsetX:l[e].x,offsetY:l[e].y,style:{fill:i._HSVtoRGBA({h:u,s:h,v:c},1),class:"color-sample"}};let m=i._hexagon(r,p);m.colorCode=i._HSVtoRGBA({h:u,s:h,v:c}),m.h=u,m.s=h,m.v=c,i._hexagonItems.push(m)}i._draw.host.style.width=h.width+"px",i._draw.host.style.height=h.height+"px",i.$.container.style.setProperty("--jqx-color-panel-palette-width",h.width+"px"),i.$.container.style.setProperty("--jqx-color-panel-palette-height",h.height+"px"),i._applyValueInHexagonalMode(),i._hideControlsByPriority()}_hexagon(e,t){const i=this._shortStepHexagon(e),n=2*i,r=n+(t.offsetX||0),a=t.offsetY||0,s=r+n,o=a+i,l=o+e,d=s-n,h=l+i,c=d-n,u=h-i,p="M "+r+","+a+" L "+s+","+o+" L "+s+","+l+" L "+d+","+h+" L "+c+","+u+" L "+c+","+(u-e)+" Z";return this._draw.path(p,t.style||{class:"color-sample"})}_shortStepHexagon(e){return Math.sqrt(Math.pow(e,2)/5)}_getHoneycomb30degDimmensions(e,t,i){const n=.5*(1+Math.sqrt(1-(1-e)/3*4)),r=this._shortStepHexagon(t);return{width:(2*n-1)*(4*r)+2*n*2*i,height:(2*n-1)*t+2*n*r+2*n*i}}_generateShades(e,t){const i=this,n=t||"gray";let r,a=[];const s=255/((e=Math.max(parseInt(e),2))-1);for(let t=0;t<e;t++){let e=Math.max(parseInt(255-t*s),0);switch(i.inverted&&(e=255-e),n){case"red":r="rgb("+e+", 0, 0)";break;case"green":r="rgb(0, "+e+", 0)";break;case"blue":r="rgb(0, 0, "+e+")";break;default:r="rgb("+e+", "+e+", "+e+")"}a.push(r)}return a}_generateColorSpectrum(e){const t=this;let i=[];const n=360/((e=Math.max(parseInt(e),2))-1),r=2/e;let a=0,s=1,o=1;for(let l=0;l<e;l++){t.inverted?0===l?s=1:l<e/2?s=Math.max(s-r,r/2):l<e-1?(o=Math.max(o-r,r/2),s=Math.min(s+r,1)):(o=Math.max(o-r,r/2),s=Math.min(s+r/4,1)):0===l?o=1:l<e/2?o=Math.max(o-r,r/2):l<e-1?(s=Math.max(s-r,r/2),o=Math.min(o+r,1)):(s=Math.max(s-r,r/2),o=Math.min(o+r/4,1));for(let r=0;r<e;r++)a=360===(a=parseInt(n*r))?360-n/2:a,i.push(t._HSVtoRGBA({h:a,s:s,v:o},1))}return i}_generateSpectrumGrid(e){const t=this;if(!t.$.spectrumGridSamplesContainer)return;const i=Math.pow(e,2),n=document.createDocumentFragment(),r={},a=t._generateShades(e,"gray"),s=t._customPalette;let o;["grayShadesBox","spectrumBox","customColorsBox"].forEach(e=>{r[e]=document.createElement("div"),r[e].className=JQX.Utilities.Core.toDash(e),n.appendChild(r[e])}),o="default"===t.palette?t._generateColorSpectrum(e):["gray","red","green","blue"].indexOf(t.palette)>-1?t._generateShades(i,t.palette):t._generateColorSpectrum(e);for(let i=0;i<e;i++){const e=t._createColorSample(a[i],"gray-shade");r.grayShadesBox.appendChild(e)}for(let e=0;e<i;e++){const i=t._createColorSample(o[e],"spectrum");r.spectrumBox.appendChild(i)}for(let i=0;i<e;i++){const e=s[i];if(!e)break;const n=t._createColorSample(e,"custom-color");r.customColorsBox.appendChild(n)}t.$.spectrumGridSamplesContainer.innerHTML="",t.$.spectrumGridSamplesContainer.appendChild(n)}_generateDefaultGrid(){const e=this;if(!e.$.defaultSamplesContainer)return;const t={},i=null===e.gridThemeColors?e._defaultModeThemeColors:e.gridThemeColors,n=null===e.gridShadeColors?e._defaultModeShadesColors:e.gridShadeColors,r=null===e.gridStandardColors?e._defaultModeStandardColors:e.gridStandardColors,a=document.createDocumentFragment();["themeColorsLabel","themeColorsBox","themeShadesBox","standardColorsLabel","standardColorsBox"].forEach(e=>{t[e]=document.createElement("div"),t[e].className=JQX.Utilities.Core.toDash(e),a.appendChild(t[e])}),t.themeColorsLabel.innerHTML=e.localize("themeColors"),t.standardColorsLabel.innerHTML=e.localize("standardColors");for(let i=0;i<e._defaultModeShadesColors.length;i++)t.themeShadesBox.appendChild(e._createColorSample(n[i],"shades-color"));for(let n=0;n<10;n++)t.themeColorsBox.appendChild(e._createColorSample(i[n],"theme-color")),t.standardColorsBox.appendChild(e._createColorSample(r[n],"standard-color"));e.$.defaultSamplesContainer.innerHTML="",e.$.defaultSamplesContainer.appendChild(a)}_mixColors(e,t,i){const n=e=>e.toString(16),r=e=>parseInt(e,16);let a,s="#";i=void 0!==i?i:.5,e=e.replace(/#/g,""),t=t.replace(/#/g,"");for(let o=0;o<=5;o+=2){const l=r(e.substr(o,2)),d=r(t.substr(o,2));for(a=n(Math.round(d+(l-d)*i));a.length<2;)a="0"+a;s+=a}return s}_generateMaterialGrid(){const e=this;if(!e.$.materialGridSamplesContainer)return;const t=document.createDocumentFragment();e.$.materialGridSamplesContainer.$.removeClass("jqx-hidden"),t.appendChild(e._createColorSample("rgb(255, 255, 255, 0)","material-color label-column")),Object.entries(e._materialColors.Red).forEach(i=>{const n=e._createColorSample("rgb(255, 255, 255, 0)","material-color header");n.textContent=i[0],t.appendChild(n)}),Object.entries(e._materialColors).forEach(i=>{const n=e._createColorSample("rgb(255, 255, 255, 0)","material-color label-column");n.textContent=i[0],t.appendChild(n),Object.entries(i[1]).forEach(i=>{t.appendChild(e._createColorSample(i[1],"material-color"))})}),e.$.materialGridSamplesContainer.innerHTML="",e.$.materialGridSamplesContainer.appendChild(t)}_createColorSample(e,t){const i=document.createElement("div"),n=e?"":" empty";return i.className="color-sample "+t+n,t.indexOf("header")>-1||t.indexOf("label-column")>-1?i:(i.colorCode=e,i.style.backgroundColor=e,i)}_calculateHexagonCoords(e,t,i){const n=e,r=function(e){return((e=e%2==0?e+1:e)+1)/2}(e),a=this._shortStepHexagon(t),s=4*a+2*i,o=2*a+i,l=t+a+i,d=o*(n-1)/2;let h=[];for(let t=0;t<n;t++){const i=t<r?r+t:e-1-(t-r),n=t<r?d-t*o:d-(e-t-1)*o,a=t*l;for(let e=0;e<i;e++){const t=n+e*s;h.push({x:t,y:a})}}return h}_generateGridStructures(){const e=this;if(!e._initializeOnOpening)if(void 0!==e._createGridModeComponents())switch(e._createColorControls(),e.displayMode){case"radial":e._generateRadialCanvas();break;case"hexagonal":e._generateHoneycomb(e.columnCount,e._HSV)}else{switch(e.displayMode){case"spectrumGrid":e._generateSpectrumGrid(e.columnCount);break;case"materialGrid":e._generateMaterialGrid();break;case"default":e._generateDefaultGrid();break;case"grid":e._generatePaletteGrid()}e._generatePaletteUserColorGrid()}}_generateRadialCanvas(){const e=this;if("radial"!==e.displayMode||"radial"===e.displayMode&&!JQX.Utilities.Core.Browser.Firefox)return;const t=e.$.colorPaletteRadial.offsetWidth,i=t/2;let n=e.$.colorPaletteRadial.querySelector("canvas");n||(n=document.createElement("canvas"));let r=n.getContext("2d"),a=r.createImageData(t,t),s=a.data;n.width=n.height=t;for(let t=-i;t<i;t++)for(let n=-i;n<i;n++){let[r,a]=e._xy2polar(t,n);if(r>i)continue;let o=(t+i+(n+i)*(2*i))*4,l=e._rad2deg(a),d=1,h=1;const[c,u,p]=e._hsv2rgb(l,d,h);s[o]=c,s[o+1]=u,s[o+2]=p,s[o+3]=255}r.putImageData(a,0,0),e.$.colorPaletteRadial.appendChild(n)}_xy2polar(e,t){return[Math.sqrt(e*e+t*t),Math.atan2(t,e)]}_rad2deg(e){return(e+Math.PI)/(2*Math.PI)*360}_hsv2rgb(e,t,i){let n,r,a,s=i*t,o=e/60,l=s*(1-Math.abs(o%2-1));o>=0&&o<=1?[n,r,a]=[s,l,0]:o>=1&&o<=2?[n,r,a]=[l,s,0]:o>=2&&o<=3?[n,r,a]=[0,s,l]:o>=3&&o<=4?[n,r,a]=[0,l,s]:o>=4&&o<=5?[n,r,a]=[l,0,s]:o>=5&&o<=6&&([n,r,a]=[s,0,l]);let d=i-s,[h,c,u]=[n+d,r+d,a+d];return[255*h,255*c,255*u]}_hideControlsByPriority(){const e=this,t=(e.shadowRoot||e).querySelector(".color-controls-container");if(!t.innerHTML.trim())return;function i(t){const i=e.getElementsByClassName(t);for(let e=0;e<i.length;e++)i[e].classList.add("jqx-hidden")}const n=e.hideContentToFit.slice().reverse(),r=["hex","r-channel","g-channel","b-channel","a-channel","preview-container"];let a=n.length;for(r.forEach(t=>{const i=e.getElementsByClassName(t);for(let e=0;e<i.length;e++)i[e].classList.remove("jqx-hidden")});t.scrollHeight>t.offsetHeight&&a>0;)switch(n[--a]){case"HEX":i(r[0]);break;case"RGB":r.slice(1,4).forEach(e=>i(e));break;case"previewContainer":i(r[5]);break;case"alpha":i(r[4])}e._generateRadialCanvas()}_resizeHoneycombItems(){"hexagonal"===this.displayMode&&this._generateHoneycomb(this.columnCount,this._HSV)}_getValue(e,t){const i=this,n=i._RGBA;let r,a=null;switch(e){case"hex":a=i._rgbArrayToHEX([n.r,n.g,n.b,n.a]);break;case"rgb":a="rgb("+n.r+", "+n.g+", "+n.b+")";break;case"rgba":a=null!==n.r&&null!==n.g&&null!==n.b?"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")":null;break;case"HSVtoRGBAarray":{let e="hexagonal"===i.displayMode||"radial"===i.displayMode||"palette"===i.displayMode?i._RGBA.a:1;t&&(i._isRGBA(t)&&/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.test(t.replace(/\s/g,""))?e=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(t.replace(/\s/g,""))[4]:i._isHEX(t)&&/(^#[0-9A-F]{8}$)/gi.test(t.replace(/\s/g,""))&&(e=parseInt(/(^#[0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2}$)/gi.exec(t.replace(/\s/g,""))[4],16)/255),e=Math.min(1,Math.max(0,parseFloat(e))),isNaN(e)&&(e=i._RGBA.a)),a=i._HSVtoRGBA(i._HSV,e),r=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(a.replace(/\s/g,"")),a={r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3]),a:parseFloat(r[4])};break}case"hsv":t&&i._isValidColor(t)&&(a=i._colorToHSV(t));break;default:"radial"===i.displayMode||"hexagonal"===i.displayMode||"palette"===i.displayMode?(a="rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")",i.editAlphaChannel||(a=i._rgbaToRGB(a))):a=null!==t?i._rgbArrayToHEX([n.r,n.g,n.b,n.a]):null}return a||null}_instantUpdate(){const e=this.value;"instantly"!==this.applyValueMode||this.$.container.className.indexOf("custom-color-selection")>-1||(this.value=this._getValue(this.valueFormat),this.$.fireEvent("change",{oldValue:e,value:this.value}))}_equalValues(e,t){return e===t||!(!e||!t)&&this._toRGBA(e,!0)===this._toRGBA(t,!0)}_toHEX(e){const t=this;return t._isHEX(e)?e:(t._isRGB(e)&&(e=e.toLowerCase().replace("rgb","rgba"),e=t.editAlphaChannel?e.replace(")",", "+(t._RGBA.a||1)+")"):e.replace(")",", 1)")),t._isRGBA(e)?t._rgbaToHEX(e):void 0)}_toRGBA(e,t){const i=this;let n=i.value;if(i._isRGBA(e)){if(t){return"rgba("+e.match(/(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})/gi)+", 1)"}return e}if(i._isValidColorName(e))n=r(i._cssColorNamesHEX[e.trim().toLowerCase()]);else if(i._isHEX(e))n=r(e);else{if(!i._isRGB(e))return!1;n=(n=e.toLowerCase()).replace("rgb","rgba"),n=i.editAlphaChannel?n.replace(")",", "+(i._RGBA.a||1)+")"):n.replace(")",", 1)")}return n;function r(e){const i=/^#(.)(.)(.)$/gi.exec(e),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e),r=i?parseInt(i[1]+i[1],16):parseInt(n[1],16),a=i?parseInt(i[2]+i[2],16):parseInt(n[2],16),s=i?parseInt(i[3]+i[3],16):parseInt(n[3],16),o=i?parseInt(i[4]+i[4],16):parseInt(n[4],16);return t?"rgba("+r+", "+a+", "+s+", 1)":"rgba("+r+", "+a+", "+s+", "+(isNaN(o)?"1":o/255)+")"}}_rgbaToRGB(e){const t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""));return"rgb("+t[1].trim()+", "+t[2].trim()+", "+t[3].trim()+")"}_rgbaToHEX(e){const t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""));return this._rgbArrayToHEX([t[1],t[2],t[3],t[4]])}_rgbArrayToHEX(e){let t="#";if(Array.isArray(e)&&null===e[0])return null;for(let i=0;i<3;i++){let n=parseInt(e[i]).toString(16).toUpperCase();t+=n=1===n.length?0+n:n}let i=parseFloat(e[3]);return isNaN(i)||"FF"!==(i=parseInt(255*i).toString(16).toUpperCase())&&(t=t.slice(0,7)+(1===i.length?0+i:i)),t}_colorToHSV(e){const t=this;if(!t._isValidColor(e))return;e=t._toRGBA(e).replace(/\s/g,"");const i=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e),n=Math.min(255,Math.max(0,parseFloat(i[1])))/255,r=Math.min(255,Math.max(0,parseFloat(i[2])))/255,a=Math.min(255,Math.max(0,parseFloat(i[3])))/255;let s={h:0,s:0,v:0},o=0,l=0;if(n>=r&&n>=a?(l=n,o=r>a?a:r):r>=a&&r>=n?(l=r,o=n>a?a:n):(l=a,o=r>n?n:r),s.v=l,s.s=l?(l-o)/l:0,s.s){const e=l-o;s.h=n===l?(r-a)/e:r===l?2+(a-n)/e:4+(n-r)/e,s.h=60*s.h,s.h<0&&(s.h+=360)}else s.h=t._HSV.h?t._HSV.h:0;return s.s=parseFloat(s.s),s.v=parseFloat(s.v),s}_HSVtoRGBA(e,t){const i=(e=e||{h:0,s:0,v:0})&&e.h>=0?e.h:this._HSV.h,n=e&&e.s>=0?e.s:this._HSV.s,r=e&&e.v>=0?e.v:this._HSV.v;let a,s,o,l=r*n,d=i/60,h=l*(1-Math.abs(d%2-1));d>=0&&d<=1?[a,s,o]=[l,h,0]:d>=1&&d<=2?[a,s,o]=[h,l,0]:d>=2&&d<=3?[a,s,o]=[0,l,h]:d>=3&&d<=4?[a,s,o]=[0,h,l]:d>=4&&d<=5?[a,s,o]=[h,0,l]:d>=5&&d<=6&&([a,s,o]=[l,0,h]);const c=r-l;return"rgba("+Math.round(255*(a+c))+", "+Math.round(255*(s+c))+", "+Math.round(255*(o+c))+", "+(void 0!==t?t:this._RGBA.a||0)+")"}_HSVRGBArefresh(e){this._HSV=this._getValue("hsv",e)||{h:1,s:0,v:1},this._RGBA=this._getValue("HSVtoRGBAarray",e)}_toFixed(e,t){return parseFloat(parseFloat(e).toFixed(t||2))}_validateInRange(e,t,i){return Math.min(Math.max(parseFloat(e),parseFloat(t)),parseFloat(i))}_isHEX(e){return/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(e)}_isRGB(e){return/rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\)/i.test(e)}_isRGBA(e){return/rgba\((\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\)/i.test(e)}_isValidColorName(e){return!(!e||void 0===this._cssColorNamesHEX[e.trim().toLowerCase()])}_isValidColor(e){return this._isHEX(e)||this._isRGB(e)||this._isRGBA(e)||this._isValidColorName(e)}_getRGBAFromInputs(){let e=(this.shadowRoot||this).querySelector("input.r-channel"),t=(this.shadowRoot||this).querySelector("input.g-channel"),i=(this.shadowRoot||this).querySelector("input.b-channel"),n=(this.shadowRoot||this).querySelector("input.a-channel");return e=e?e.value:this._RGBA.r,t=t?t.value:this._RGBA.g,i=i?i.value:this._RGBA.b,n=n?n.value:this._RGBA.a,{r:parseInt(e),g:parseInt(t),b:parseInt(i),a:n}}_setRGBAToInputs(){const e=this;Object.entries(e._RGBA).forEach(t=>{const i=(e.shadowRoot||e).querySelector("input."+t[0]+"-channel");i&&(i.value=e._RGBA[t[0]])})}_calcHueAngle(e,t){return 180*Math.atan2(t,e)/Math.PI}_calcSatDistance(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}});var fe=Object.freeze({});JQX("jqx-color-picker",class extends JQX.DropDownButton{static get properties(){return{applyValueMode:{value:"instantly",allowedValues:["instantly","useButtons"],type:"string"},columnCount:{value:8,type:"number"},gridThemeColors:{value:null,type:"array?",reflectToAttribute:!1},gridShadeColors:{value:null,type:"array?",reflectToAttribute:!1},gridStandardColors:{value:null,type:"array?",reflectToAttribute:!1},paletteColors:{value:null,type:"array?",reflectToAttribute:!1},paletteCustomColors:{value:null,type:"array?",reflectToAttribute:!1},disableUndo:{value:!1,type:"boolean"},displayMode:{value:"default",allowedValues:["default","grid","palette","radial","hexagonal","spectrumGrid","materialGrid"],type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownHeight:{value:"auto",type:"string"},dropDownWidth:{value:"auto",type:"string"},editable:{value:!1,type:"boolean"},editAlphaChannel:{value:!1,type:"boolean"},enableCustomColors:{value:!1,type:"boolean"},hidePreviewContainer:{value:!1,type:"boolean"},hideRGBEditor:{value:!1,type:"boolean"},hideHEXEditor:{value:!1,type:"boolean"},hideAlphaEditor:{value:!1,type:"boolean"},messages:{value:{en:{redPrefix:"R:",greenPrefix:"G:",bluePrefix:"B:",hexPrefix:"#:",alphaPrefix:"Alpha:",ok:"OK",cancel:"CANCEL",customColor:"CUSTOM COLOR",standardColors:"Standard colors",themeColors:"Theme colors"}},type:"object",extend:!0},name:{value:"",type:"string"},palette:{value:"default",allowedValues:["default","gray","red","green","blue","custom"],type:"string"},placeholder:{value:"Please Select Color",type:"string"},tooltipDisplayMode:{value:"hex",allowedValues:["none","rgba","rgb","hex"],type:"string"},value:{value:null,type:"string?"},valueDisplayMode:{value:"default",allowedValues:["default","colorBox","colorCode","none"],type:"string"},valueFormat:{value:"default",allowedValues:["default","rgb","rgba","hex"],type:"string"},inverted:{value:!1,type:"boolean"},hideContentToFit:{value:["RGB","HEX","alpha","previewContainer"],type:"array"}}}static get listeners(){return{"input.change":"_inputChangeHandler","input.focus":"_focusEventHandler","input.blur":"_blurEventHandler","colorPanel.cancelButtonClick":"_cancelButtonHandler","colorPanel.okButtonClick":"_okButtonHandler","colorPanel.change":"_colorPanelChangeHandler",keydown:"_keyDownHandler"}}static get requires(){return{"JQX.ColorPanel":"jqxcolorpanel.js","JQX.DropDownButton":"jqxdropdownbutton.js"}}static get styleUrls(){return["jqx.colorpanel.css","jqx.colorpicker.css"]}template(){return'<div id="container">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <div id="buttonsContainer" class ="jqx-buttons-container">\n                            <div id="actionButton" class ="jqx-input jqx-action-button">\n                                <div id="colorSampleContainer" class="color-picker-sample-container">\n                                    <div id="colorSample" class="color-picker-sample"></div>\n                                </div>\n                                <input type="text" id="input" class ="color-picker-action-input" placeholder="[[placeholder]]" spellcheck="false" autocomplete="off"/>\n                            </div>\n                            <span id="dropDownButton" class ="jqx-drop-down-button">\n                                <span id="arrow"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class ="jqx-drop-down jqx-drop-down-color-picker jqx-drop-down-container jqx-visibility-hidden">\n                            <jqx-scroll-viewer id="scrollViewer"\n                                right-to-left="[[right-to-left]]"\n                                horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]">\n                                    <jqx-color-panel id="colorPanel" wait\n                                        animation="[[animation]]"\n                                        apply-value-mode="[[applyValueMode]]"\n                                        column-count="[[columnCount]]"\n                                        disabled="[[disabled]]"\n                                        display-mode="[[displayMode]]"\n                                        edit-alpha-channel="[[editAlphaChannel]]"\n                                        enable-custom-colors="[[enableCustomColors]]"\n                                        grid-theme-colors="[[gridThemeColors]]"\n                                        grid-shade-colors="[[gridShadeColors]]"\n                                        grid-standard-colors="[[gridStandardColors]]"\n                                        hide-content-to-fit="[[hideContentToFit]]"\n                                        hide-preview-container="[[hidePreviewContainer]]"\n                                        hide-r-g-b-editor="[[hideRGBEditor]]"\n                                        hide-h-e-x-editor="[[hideHEXEditor]]"\n                                        hide-alpha-editor="[[hideAlphaEditor]]"\n                                        inverted="[[inverted]]"\n                                        locale="[[locale]]"\n                                        name="[[name]]"\n                                        palette-colors="[[paletteColors]]"\n                                        palette-custom-colors="[[paletteCustomColors]]"\n                                        palette="[[palette]]"\n                                        theme="[[theme]]"\n                                        tooltip-display-mode="[[tooltipDisplayMode]]"\n                                        value="{{value}}"\n                                        value-format="[[valueFormat]]">\n                                    </jqx-color-panel>\n                            </jqx-scroll-viewer>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this;switch(n._bindProperties(e),e){case"editable":case"disabled":case"readonly":n.$.input.readOnly=n.disabled||n.readonly||!n.editable;break;case"value":n.$.colorPanel._isValidColor(n.value)&&n._applyValue(n.value);break;case"displayMode":n._applyValue(n.value);break;default:super.propertyChangedHandler(e,t,i)}"displayMode"===e&&n.$.colorPanel._hideControlsByPriority()}open(){const e=this;e.$.colorPanel._initializeOnOpening&&(delete e.$.colorPanel._initializeOnOpening,e.$.colorPanel._generateGridStructures(),e.$.colorPanel._applyValue(e.value),e.$.colorPanel._hideControlsByPriority()),e.$.colorPanel&&e.$.colorPanel.$container.hasClass("custom-color-selection")&&e.$.colorPanel._handleCancelButtonClick(),super.open()}blur(){this.$.input.blur()}focus(){this.$.input.focus()}_createElement(){this.$.colorPanel._initializeOnOpening=!this.opened,this.$.colorPanel.wait=!1,this.$.input.readOnly=this.disabled||this.readonly||!this.editable,this._applyValue(this.$.colorPanel.value),this._setFocusable()}_colorPanelChangeHandler(e){this._applyValue(e.detail.value),e.stopPropagation(),this.$.fireEvent("change",e.detail)}_cancelButtonHandler(){this.$.colorPanel.$.container.className.indexOf("custom-color-selection")>-1||this.close()}_okButtonHandler(){this._applyValue(this.$.colorPanel.value),this.close()}_setFocusable(){const e=this;if(!e.disabled&&!e.unfocusable){let t=e.tabIndex>0?e.tabIndex:0;return e.$.input.tabIndex=t,void("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("tabindex",t):e.$.dropDownButton.removeAttribute("tabindex"))}e.$.input.tabIndex=-1,e.$.dropDownButton.removeAttribute("tabindex")}_bindProperties(e){const t=this;if(e)return(["columnCount","gridThemeColors","gridShadeColors","gridStandardColors","paletteCustomColors","name","hideContentToFit","applyValueMode","inverted","paletteColors","displayMode","tooltipDisplayMode","editAlphaChannel","enableCustomColors","hidePreviewContainer","hideRGBEditor","hideHEXEditor","hideAlphaEditor","hideContentToFit","messages","theme","animation","theme","locale","palette","valueMember","disabled","valueFormat"].indexOf(e)>-1||"value"===e)&&(t.$.colorPanel[e]=t[e]),void t.$.scrollViewer.refresh()}_inputChangeHandler(e){e.preventDefault(),e.stopPropagation(),this.value=this.$.colorPanel.value=this.$.input.value}_applyValue(e){this.value=this.$.colorPanel.value=this.$.colorSample.style.backgroundColor=this.$.input.value=e,this.value?this.$colorSampleContainer.removeClass("no-color"):this.$colorSampleContainer.addClass("no-color")}_keyDownHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target,n=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement;if(!(t.disabled||t.readonly||n!==t&&n!==t.$.dropDownButton&&n!==t.$.input))switch(e.key){case"Enter":case" ":i!==t.$.input?t.opened&&"Enter"===e.key?(e.preventDefault(),t.close()):t.opened||t.readonly||"none"===t.dropDownOpenMode||(e.preventDefault(),t.open()):"Enter"===e.key&&(e.preventDefault(),t.$.colorPanel.value=t.$.input.value);break;case"PageUp":case"PageDown":t.$.scrollViewer.scrollTop+=(e.key.indexOf("Down")>-1?1:-1)*t.$.dropDownContainer.offsetHeight;break;case"ArrowUp":case"ArrowDown":if(e.altKey)return void(t.disabled||t.readonly||"none"===t.dropDownOpenMode||("ArrowDown"===e.key?t.open():t.close()));e.preventDefault();break;case"Escape":e.preventDefault(),t.close()}}});var ge=Object.freeze({});JQX("jqx-password-text-box",class extends JQX.TextBox{static get properties(){return{messages:{value:{en:{passwordStrength:"Password strength",short:"Short",weak:"Weak",far:"Far",good:"Good",strong:"Strong",showPassword:"Show password"}},type:"object",extend:!0},passwordStrength:{value:null,type:"function?",reflectToAttribute:!1},showPasswordIcon:{value:!1,type:"boolean"},showPasswordStrength:{value:!1,type:"boolean"},tooltipArrow:{value:!1,type:"boolean"},tooltipDelay:{value:0,type:"number"},tooltipPosition:{allowedValues:["bottom","top","left","right","absolute"],value:"top",type:"string"},tooltipTemplate:{value:null,type:"string?"},type:{value:"password",type:"string",defaultReflectToAttribute:!0,readonly:!0},value:{value:"",reflectToAttribute:!1,type:"string"}}}static get requires(){return{"JQX.Tooltip":"jqxtooltip.js"}}static get listeners(){return{"document.up":"_documentUpHandler",blur:"_blurHandler",focus:"_focusHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","passwordIcon.down":"_showPassword","input.change":"_textBoxChangeHandler","input.paste":"_textBoxChangeHandler","input.keyup":"_textBoxChangeHandler","input.blur":"_blurHandler","input.focus":"_focusHandler"}}template(){return'<div id="container">\n                    <span id="label" inner-h-t-m-l="[[label]]" class ="jqx-label"></span>\n                    <div id="innerContainer" class="jqx-inner-container">\n                            <input class ="jqx-input" type="password" id="input"\n                                disabled="[[disabled]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                value="[[value]]">\n                            <span id="passwordIcon" title="Show Password" class ="jqx-password-icon jqx-hidden">&#xe80a; </span>\n                    </div>\n                    <span id="hint" class ="jqx-hint"></span>\n                    <jqx-tooltip id="tooltip"\n                        open-mode="manual"\n                        arrow="[[tooltipArrow]]"\n                        tooltip-template="[[tooltipTemplate]]"\n                        position="[[tooltipPosition]]"\n                        delay="[[tooltipDelay]]">\n                     </jqx-tooltip>\n                </div>'}propertyChangedHandler(e,t,i){const n=this;let r;switch(e){case"locale":case"messages":case"passwordStrength":r=n._evaluatePasswordStrength(),n._updateTooltipString(r),n.$.passwordIcon.setAttribute("title",n.localize("showPassword")),n._updatePasswordStrengthStyles(r);break;case"tooltipPosition":n.$.tooltip.position=n.tooltipPosition;break;case"tooltipTemplate":n.$.tooltip.tooltipTemplate=n.tooltipTemplate;break;case"value":r=n._evaluatePasswordStrength(),n._updateTooltipString(r),n._updatePasswordStrengthStyles(r);break;case"disabled":n._setFocusable();break;case"readonly":break;default:super.propertyChangedHandler(e,t,i)}}_createElement(){const e=this;e.autoFocus&&e.$.input.focus(),e._setFocusable(),e.$.tooltip.selector=e.$.innerContainer,e.$.passwordIcon.setAttribute("title",e.localize("showPassword")),e._updateTooltipString("short"),e._updatePasswordStrengthStyles(),e._initializationValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer()}_focusHandler(){const e=this;e.disabled||(e.selectAllOnFocus&&e.$.input.select(),e.showPasswordIcon&&e.$passwordIcon.removeClass("jqx-hidden"),e.setAttribute("focus",""),e._valueBeforeChange=e.value,e.showPasswordStrength&&(e._tooltipOpened||(e.$.tooltip.open(),e._tooltipOpened=!0)))}_blurHandler(){const e=this;e.disabled||e._passwordIconPressed||(e._valueBeforeChange!==e.value&&(e.$.fireEvent("change",{newValue:e.value,oldValue:e._valueBeforeChange}),e._valueBeforeChange=""),e.showPasswordIcon&&e.$passwordIcon.addClass("jqx-hidden"),e.removeAttribute("focus"),e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._tooltipOpened&&(e.$.tooltip.close(),e._tooltipOpened=!1))}_showPassword(){!this.disabled&&this.showPasswordIcon&&(this.$.input.type="text",this._passwordIconPressed=!0)}_documentUpHandler(){!this.disabled&&this.showPasswordIcon&&this._passwordIconPressed&&(this.$.input.type="password",this._passwordIconPressed=!1,this.$.input.focus())}_textBoxChangeHandler(){if(this.disabled||this.readonly)return;this.value=this.$.input.value;let e=this._evaluatePasswordStrength();this._updateTooltipString(e),this._updatePasswordStrengthStyles(e)}_updatePasswordStrengthStyles(e){const t=this,i=["short","weak","far","good","strong"];e=e||"short";for(let e=0;e<i.length;e++)t.$container.removeClass("jqx-password-"+i[e]);t.disabled||t.$container.addClass("jqx-password-"+e)}_evaluatePasswordStrength(){const e=this,t=e.$.input.value,i=t.length;if(e.disabled)return;if(e.passwordStrength)return e.passwordStrength(t,"<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=");let n=0,r=0,a=0,s=0;for(var o=0;o<i;o++){const e=t.charAt(o),i=t.charCodeAt(o);i>64&&i<91||i>96&&i<123||i>127&&i<155||i>159&&i<166?n+=1:!1!==isNaN(e)?-1==="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".indexOf(e)||(a+=1):r+=1}return s=n+r+2*a+n*r/2+i,i<8?"short":s<20?"weak":s<30?"far":s<40?"good":"strong"}_keyUpHandler(){}_mouseWheelHandler(){}_resizeHandler(){}_selectStartHandler(){}_setDropDownSize(){}_styleChangedHandler(){}_updateTooltipString(e){this.$.tooltip.value='<span class="password-strength-label">'+this.localize("passwordStrength")+':</span><span class="password-strength-value">'+this.localize(e)+"</span>"}});var ve=Object.freeze({});JQX("jqx-accordion-item",class extends JQX.ContentElement{static get properties(){return{dragged:{value:!1,type:"boolean"},expanded:{value:!1,type:"boolean"},focused:{value:!1,type:"boolean"},index:{value:null,type:"number?"},label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}static get listeners(){return{"accordionItemHeader.mouseenter":"_headerMouseEnterHandler","accordionItemHeader.mouseleave":"_headerMouseLeaveHandler","accordionItemHeader.down":"_ripple"}}template(){return'<div id="container">\n                    <div id="accordionItemHeader" class ="jqx-accordion-item-header jqx-unselectable">\n                        <span id="arrow" class ="jqx-arrow"></span>\n                        <span id="label" class ="jqx-label" inner-h-t-m-l=\'[[label]]\'></span>\n                    </div>\n                    <div id="accordionItemContent" class ="jqx-accordion-item-content">\n                        <div id="contentContainer" class ="jqx-content-container"><content></content></div>\n                    </div>\n                </div>'}propertyChangedHandler(e,t,i){if(super.propertyChangedHandler(e,t,i),t=parseInt(t),i=parseInt(i),"index"!==e||isNaN(t)||isNaN(i))return;const n=this,r=n.parentElement.parentElement._items.length;i<0?i=0:i>=r&&(i=r-1),i!==t&&n.$.fireEvent("indexChange",{newIndex:i,oldIndex:t}),n.index=i}_headerMouseEnterHandler(){this.disabled||this.setAttribute("hovered","")}_headerMouseLeaveHandler(){this.disabled||this.removeAttribute("hovered")}_ripple(e){const t=this;t.disabled||t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t.$.container,e.pageX,e.pageY)}_setIndex(e){const t=this.context;this.context=this,this.index=e,this.context=t}}),JQX("jqx-accordion",class extends JQX.BaseElement{static get properties(){return{expandedIndexes:{value:[],type:"array"},expandMode:{allowedValues:["single","singleFitHeight","multiple","toggle","none"],value:"singleFitHeight",type:"string"},messages:{extend:!0,value:{en:{accordionItemRequired:'{{elementType}}: "{{method}}" requires an item from type "jqx-accordion-item".',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',missingReference:"{{elementType}}: Missing reference to {{files}}.",noItems:"{{elementType}}: No child elements found.",overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.'}},type:"object"},reorder:{value:!1,type:"boolean"}}}static get listeners(){return{down:"_downHandler",focus:"_focusHandler",indexChange:"_indexChangeHandler",keydown:"_keyDownHandler",move:"_moveHandler",resize:"_resizeHandler",styleChanged:"_resizeHandler","document.up":"_upHandler"}}template(){return'<div id="container">\n                    <content></content>\n                </div>'}static get styleUrls(){return["jqx.accordion.css"]}ready(){super.ready();this._createElement()}propertyChangedHandler(e,t,i){const n=this;if("expandedIndexes"===e){if(t.toString()===i.toString())return;let e=[];if(n._items.length>0)for(let t=0;t<i.length;t++){let r=parseInt(i[t]);if(!isNaN(r)){if(n._expandModeIs(["single","singleFitHeight","toggle"])){e.length<1&&r>=0&&r<n._items.length&&e.push(r);break}r>=0&&r<=n._items.length&&-1===e.indexOf(r)&&e.push(r)}}if(0===e.length&&n._expandModeIs(["single","singleFitHeight"]))return i=t.slice(),void(n.expandedIndexes=i);i=e;const r=n._compareExpandedIndexes(t,i);return n._toggleItems("collapse",r.collapse),n._toggleItems("expand",r.expand),void(n.expandedIndexes=i)}switch(super.propertyChangedHandler(e,t,i),e){case"disabled":n._setFocusable(),n._enableDisableHandler();break;case"expandMode":if(0===n._items.length)break;if("multiple"===t&&"none"!==i||"none"===t&&"multiple"!==i){const e=n.expandedIndexes.slice(1);n._toggleItems("collapse",e),0===n.expandedIndexes.length&&n._expandModeIs(["single","singleFitHeight"])&&r()}else"toggle"===t&&n._expandModeIs(["single","singleFitHeight"])&&0===n.expandedIndexes.length&&r();if(!n._supportCSSVariables||!n._usedCSSVariables){const e=n.expandedIndexes[0];"singleFitHeight"===t?n._items[e].$.accordionItemContent.style.height="":"singleFitHeight"===i&&(n._items[e].$.accordionItemContent.style.height=n._expandedItemsContainerHeight-1+"px")}break;case"unfocusable":n._setFocusable()}function r(){n._toggleItems("expand",[0]),n.expandedIndexes=[0]}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&(e.classList.contains("jqx-resize-trigger-container")||e.classList.contains("jqx-measure-element"))){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof JQX.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"appendChild"})),t.insert(t._items.length,e)}collapse(e,t){e=this._validateItemsIndex(e,"collapse"),isNaN(e)||!this._items[e].expanded||this._expandModeIs(["single","singleFitHeight"])&&this.expandedIndexes.indexOf(e)>-1||this._collapseItem(e,t)}expand(e,t){const i=this;e=i._validateItemsIndex(e,"expand"),isNaN(e)||i._items[e].expanded||(i._expandModeIs(["single","singleFitHeight","toggle"])&&i._toggleItems("collapse",i.expandedIndexes),i._expandItem(e,t))}insert(e,t){const i=this,n=0===i._items.length;let r,a;if(t||("number"==typeof e?t=[{label:"",content:""}]:(t=[{label:e?e.toString():"",content:e?e.toString():""}],e=0)),t instanceof HTMLElement)t instanceof JQX.AccordionItem?r=t:i.error(i.localize("accordionItemRequired",{method:"insert"}));else if(Array.isArray(t)){a=document.createDocumentFragment();for(let e=0;e<t.length;e++){const n=i._createItem(t[e]);a.appendChild(n)}}else r=t instanceof Object?i._createItem(t):"string"==typeof t||"number"==typeof t?i._createItem({label:t.toString(),content:t.toString()}):i._createItem({label:"",content:""});e>i._items.length?r?i.$.container.appendChild(r):i.$.container.appendChild(a):r?i.$.container.insertBefore(r,i._items[e]):i.$.container.insertBefore(a,i._items[e]),r&&(r.tabIndex=i._tabIndex),i._storeItems(),n&&i._expandModeIs(["single","singleFitHeight"])?i._expandItem(0):i.expandedIndexes=i._getExpandedIndexes(),i._updateExpanedContentHeight(),i._updateInlineHeight(),i._storeItemsCoordinates(),i._updateItemsIndexProperty()}insertBefore(e,t){const i=this;if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}void 0!==e&&void 0!==t&&e instanceof JQX.AccordionItem&&t instanceof JQX.AccordionItem||i.error(i.localize("accordionItemRequired",{method:"insertBefore"})),null!=t?(i.contains(t)||i.error(i.localize("referenceNodeNotChild",{argument:"referenceNode"})),i.insert(i._items.indexOf(t),e)):i.insert(i._items.indexOf(t),e)}remove(e){const t=this;let i;if(e instanceof HTMLElement)e instanceof JQX.AccordionItem?t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})):t.error(t.localize("accordionItemRequired",{method:"remove"})),e=(i=e).index;else{if(e=t._validateItemsIndex(e,"remove"),isNaN(e))return;i=t._items[e]}i&&(i.parentNode.removeChild(i),t._storeItems(),t._expandModeIs(["singleFitHeight"])&&(t._preventAnimation=!0),t._expandModeIs(["single","singleFitHeight"])&&e===t.expandedIndexes[0]&&t._items.length>0&&(t._expandItem(0),t._selectedItem=t._items[0],t._selectedItemIndex=0,t._itemIsFocussed=!0),t.expandedIndexes=t._getExpandedIndexes(),t._updateExpanedContentHeight(),t._updateInlineHeight(),t._storeItemsCoordinates(),t._updateItemsIndexProperty())}removeChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement||t.error(t.localize("accordionItemRequired",{method:"removeChild"})),"jqx-resize-trigger-container"!==e.className?(e instanceof JQX.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"removeChild"})),t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.remove(e)):super.removeChild(e)}_setFocusable(){const e=this;if(e.disabled||e.unfocusable){e.removeAttribute("tabindex");for(let t=0;t<e._items.length;t++)e._items[t].removeAttribute("tabindex")}else{e.tabIndex=e._tabIndex;for(let t=0;t<e._items.length;t++)e._items[t].tabIndex=e._tabIndex}}update(e,t){const i=this;if(e=i._validateItemsIndex(e,"update"),isNaN(e))return;let n=i._items[e];if(t||i.error(i.localize("invalidSettings",{elementType:i.nodeName.toLowerCase(),method:"update"})),n)if(Array.isArray(t)&&(t=0===t.length?{label:"",content:""}:t[0]),"string"==typeof t)n.content=t;else for(let e in t)n[e]=t[e];const r=i._getItemsHeights(e);i._updateExpanedContentLocalHeight(i._items[e],r),i._updateInlineHeight(),i._storeItemsCoordinates()}_adjustHeightValue(e){const t=this,i=t._items.length;let n,r;for(let e=0;e<i&&(t._items[e].expanded?n=t._items[e]:r=t._items[e],!n||!r);e++);if(n||(n=t._items[0]),!n&&!r)return;const a=n.expanded;n.expanded=!0;const s=window.getComputedStyle(n,null),o=!!r&&window.getComputedStyle(r,null),l=parseInt(s.getPropertyValue("margin-top"))+parseInt(s.getPropertyValue("margin-bottom")),d=o?parseInt(o.getPropertyValue("margin-top"))+parseInt(o.getPropertyValue("margin-bottom")):0;return n.expanded=a,e-((i-1)*d+l)}_collapseItem(e,t){const i=this;let n=i._items[e];if(n.expanded&&("none"!==i.expandMode||!t)){if(n.expanded=!1,i.$.fireEvent("collapsing",{index:e,label:n.label,content:n.content.innerHTML}),i.expandedIndexes.indexOf(e)>-1){let t=i.expandedIndexes.indexOf(e),n=i.expandedIndexes.slice();n.splice(t,1),i.expandedIndexes=n}n.$.accordionItemContent.style.height="",i._handleAnimationsDuration(n,e,"collapsed")}}_compareExpandedIndexes(e,t){let i=[],n=[],r=[],a=e.length,s=t.length;for(let r=0;r<a;r++)-1===t.indexOf(e[r])?-1===i.indexOf(e[r])&&i.push(e[r]):-1===n.indexOf(e[r])&&n.push(e[r]);for(let e=0;e<s;e++)-1===n.indexOf(t[e])&&r.push(t[e]);return{collapse:i,expand:r}}_createElement(){const e=this;e._reorderItemsByIndex(),e._usedCSSVariables=Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-accordion-animation-duration")),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport(),e._storeItems(),e._enableDisableHandler(),e._expandedIndexesHandler(),e._updateExpanedContentHeight(),e._tabIndex=e.tabIndex<=0?0:e.tabIndex,e._setFocusable(),e._updateItemsIndexProperty(),e._updateInlineHeight();for(let t=0;t<e._items.length;t++)e._items[t].$.arrow.classList.add("jqx-animate-trigger")}_createItem(e){const t=this,i=document.createElement("jqx-accordion-item");if(e)return i.disabled=t.disabled,t._tabIndex>-1&&(i.tabIndex=t._tabIndex),"string"==typeof e||"number"==typeof e?(i.label=e+"",i.content=e+"",i):(i.label=e.label||"",i.content=e.content||"",i)}_downHandler(e){if(this.disabled||this.readonly||"none"===this.expandMode||this._toggled)return;const t=this.enableShadowDOM&&this.shadowRoot?this.shadowRoot.elementFromPoint(e.pageX,e.pageY):e.originalEvent.target,i=t.closest(".jqx-accordion-item-header"),n=t.closest("jqx-accordion-item");i?(this._selectedItem=n,this._itemIsPressed=this._itemIsFocussed=!0,this._reorderedIndex=this._selectedItemIndex=this._items.indexOf(n),this._storeItemsCoordinates()):n&&(n.focused=!0)}_enableDisableHandler(){const e=this;if(e.disabled)for(let t=0;t<e._items.length;t++)e._items[t].disabled=!0;else for(let t=0;t<e._items.length;t++)e._items[t].disabled=!1}_expandedIndexesHandler(){const e=this;let t=e._getExpandedIndexes("initial"),i=t.length,n=e.expandedIndexes.length;if(0!==e._items.length){if(0===n&&i>0&&(e.expandedIndexes=t,n=i),e._expandModeIs(["multiple","none"])||1===n)return e._toggleItems("expand",e.expandedIndexes),void(e._animationAfterInitialization=!0);switch(e.expandMode){case"single":case"singleFitHeight":0===n?e._toggleItems("expand",[0]):n>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes));break;case"toggle":n>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes))}e._animationAfterInitialization=!0}else e._animationAfterInitialization=!0}_expandItem(e,t){const i=this;let n=i._items[e];if(!(n.expanded||"none"===i.expandMode&&t)){if(n.$.container.style.getPropertyValue("--jqx-accordion-expanded-content-local-height")||(n.expanded=!0,n.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",n.$.accordionItemContent.scrollHeight+"px"),n.expanded=!1),n.expanded=!0,i.$.fireEvent("expanding",{index:e,label:n.label,content:n.content.innerHTML}),-1===i.expandedIndexes.indexOf(e)){let t=i.expandedIndexes.slice();t.push(e),i.expandedIndexes=t}i._supportCSSVariables&&i._usedCSSVariables||"singleFitHeight"!==i.expandMode||(n.$.accordionItemContent.style.height=i._expandedItemsContainerHeight-1+"px"),i._handleAnimationsDuration(n,e,"expanded")}}_expandModeIs(e){return e.indexOf(this.expandMode)>-1}_focusHandler(){const e=this;e.disabled||0===e._items.length||(e._itemIsFocussed?e._selectedItem.focused=!1:e._items[0].focused=!1)}_getExpandedIndexes(e){const t=this,i=[];for(let n=0;n<t._items.length;n++)"initial"===e?t._items[n].hasAttribute("expanded")&&(i.push(n),t._items[n].removeAttribute("expanded")):t._items[n].expanded&&i.push(n);return i.slice()}_getItemsHeights(e){const t=this._items,i=t.length;let n=[];if(0!==i){if(!isNaN(e)&&e>=0&&e<i){const i=t[e];let n=0;return i.expanded?n=i.$.accordionItemContent.scrollHeight:(i.expanded=!0,n=i.$.accordionItemContent.scrollHeight,i.expanded=!1),n+"px"}for(let e=0;e<i;e++){const i=t[e];let r=0;i.expanded?r=i.$.accordionItemContent.scrollHeight:(i.expanded=!0,r=i.$.accordionItemContent.scrollHeight,i.expanded=!1),n.push(r+"px")}return this._heightCalcAfterInitialization=!0,n}}_handleAnimationsDuration(e,t,i){const n=this;if(!n._animationAfterInitialization)return;if(1===n._items.length&&"singleFitHeight"===n.expandMode)return void n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML});if(!1===n.hasAnimation||!n._supportCSSVariables)return void n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML});if(n._preventAnimation)return n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML}),void(n._preventAnimation=!1);n._toggled=!0;let r,a=window.getComputedStyle(n).animationDuration;if(a.indexOf("ms")>-1)a=parseFloat(a.substring(0,a.length-2)),r=isNaN(a)||a<0?0:a-50;else{if(!(a.indexOf("s")>-1))return void n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML});a=parseFloat(a.substring(0,a.length-1)),r=isNaN(a)||a<0?0:1e3*a-50}e instanceof JQX.AccordionItem&&(e.$.addClass("jqx-toggled-item"),n.$container.addClass("jqx-toggling"),setTimeout(function(){e.$.removeClass("jqx-toggled-item"),n.$container.removeClass("jqx-toggling"),n.$.fireEvent(i,{index:t}),n._toggled=!1},r))}_indexChangeHandler(e){const t=this,i=t._items,n=i.length,r=e.detail;r.newIndex>=n?t.$.container.appendChild(i[r.oldIndex]):r.newIndex>r.oldIndex?t.$.container.insertBefore(i[r.oldIndex],i[r.newIndex+1]):t.$.container.insertBefore(i[r.oldIndex],i[r.newIndex]);let a=t.enableShadowDOM&&t.shadowRoot?t.shadowRoot.querySelectorAll("jqx-accordion-item"):t.getElementsByTagName("jqx-accordion-item");t._items=Array.from(a),t._updateItemsIndexProperty()}_keyDownHandler(e){const t=this,i=e.key;if("none"===t.expandMode||t.disabled||t.readonly||t._toggled)return;const n=(t.shadowRoot?t.shadowRoot.activeElement:document.activeElement)||document.activeElement;if(-1===["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home"," ","Enter","Tab"].indexOf(i)||!(n instanceof JQX.AccordionItem))return;"Tab"!==i&&e.preventDefault();let r,a,s=t._items.length,o=s-1;for(let e=0;e<s;e++){let i=t._items[e];i.focused&&(r=i,a=e)}switch(i){case"Tab":e.shiftKey?d("up"):d("down");break;case"ArrowLeft":t.collapse(a);break;case"ArrowDown":d("down");break;case"ArrowRight":t.expand(a);break;case"ArrowUp":d("up");break;case"End":l(o);break;case"Home":l(0);break;case" ":case"Enter":if(r.expanded)return void t.collapse(a);t.expand(a);break;default:return}function l(e){e===a||isNaN(e)||(r.focused=!1,a=e,(r=t._items[a]).focused=!0)}function d(e){l("up"!==e?a+1>o?o:a+1:a-1<0?0:a-1)}}_moveHandler(e){const t=this;if(e.stopPropagation(),t._itemIsPressed&&t.reorder&&!t.readonly&&!(t._items.length<2))if(t._dragStart){if(t.$container.addClass("jqx-reordering"),!t._dragging){const i=t._selectedItem;t.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:i.label,content:i.content.innerHTML}),t._selectedItem.dragged=t._dragging=!0}if(t.hasAnimation){const e=t._selectedItem.querySelector(".jqx-ripple");e&&(e.style.height=0)}const i=e.clientY;let n=!1;for(let e=0;e<t._itemsCoordinates.length;e++){const r=t._itemsCoordinates[e];if(i>=r.fromY&&i<=r.toY){n=e;break}}const r=t._items[n];if(!1!==n&&r!==t._selectedItem){if(t._lastReorderedItem&&r===t._lastReorderedItem)return;if(t._lastReorderedItem=r,Math.abs(t._reorderedIndex-n)>1){const e=t._reorderedIndex-n<0?-1:1;t._swapItems(t._reorderedIndex,n+e)}return t._swapItems(t._reorderedIndex,n),t._reorderedIndex=n,void t._storeItemsCoordinates()}t._lastReorderedItem=void 0}else t._dragStart=!0}_reorderItemsByIndex(){const e=this;let t=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item"),i=Array.from(t),n=!1,r=i.map(function(e){return null!==e.index?n=!0:e.index=0,e.index});if(!n)return;const a=i.length;if(a<2)return;let s=r.slice();if(s.sort(function(e,t){return parseInt(e)-parseInt(t)}),r.toString()!==s.toString())for(let i=0;i<a;i++){let n;for(let e=0;e<a;e++)t[e].index===s[i]&&(n=t[e]);e.$.container.insertBefore(n,t[i])}}_resizeHandler(){this._updateExpanedContentHeight(),this._updateInlineHeight(),this._storeItemsCoordinates()}_storeItems(){const e=this,t=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item");if(e._items=Array.from(t),0===e._items.length)return void e.$container.addClass("jqx-empty");e.$container.removeClass("jqx-empty");const i=e._getItemsHeights();for(let t=0;t<e._items.length;t++)e._updateExpanedContentLocalHeight(e._items[t],i[t])}_storeItemsCoordinates(){const e=this;if(e.disabled||!e.reorder)return;const t=[];for(let i=0;i<e._items.length;i++){const n=e._items[i].getBoundingClientRect();t.push({fromY:n.top+(window.scrollY||window.pageYOffset),toY:n.bottom+(window.scrollY||window.pageYOffset)})}e._itemsCoordinates=t}_swapItems(e,t){const i=this,n=Math.min(e,t),r=Math.max(e,t),a=i._items;let s=i.expandedIndexes.slice();if(i._items[e].expanded&&!i._items[t].expanded){const n=s.indexOf(e);s[n]=t,i.expandedIndexes=s.slice()}else if(i._items[t].expanded&&!i._items[e].expanded){const n=s.indexOf(t);s[n]=e,i.expandedIndexes=s.slice()}i.selectedIndex=i.selectedIndex===e?t:e,i.$.container.insertBefore(a[r],a[n]),function(e,t,i){const n=e[i];e[i]=e[t],e[t]=n}(a,e,t),i._items[e].$.removeClass("hovered"),i._reorderedIndex=t}_toggleItems(e,t){const i=this,n=t.length;if(n>0)for(let r=0;r<n;r++)i["_"+e+"Item"](t[r])}_updateExpanedContentHeight(){const e=this;e.$.container.style.setProperty("--jqx-accordion-item-header-height","");const t=e._items.length,i=e.$.container.offsetHeight,n=e._items[e.expandedIndexes[0]];let r=0,a=0,s=0,o=0;if(1===t){let t=e._items[0],i=t.expanded;t.expanded=!1,r=t.offsetHeight,a=t.$.accordionItemHeader.offsetHeight,t.expanded=i}else for(;0===r&&o<t;){const t=e._items[o];t instanceof JQX.AccordionItem&&!t.expanded&&(r=t.offsetHeight,a=t.$.accordionItemHeader.offsetHeight),o++}if(t>1&&n instanceof JQX.AccordionItem){s=n.$.accordionItemHeader.offsetHeight-a}const l=getComputedStyle(e.$.root);let d=i-r*t-s-parseFloat(l.paddingBottom)-parseFloat(l.paddingTop);"singleFitHeight"===e.expandMode&&(d=e._adjustHeightValue(d)),d=d>=0?d:0,e.$.container.style.setProperty("--jqx-accordion-expanded-content-height",d+"px"),e.$.container.style.setProperty("--jqx-accordion-item-header-height",a+"px"),e._expandedItemsContainerHeight=d}_updateExpanedContentLocalHeight(e,t){this._supportCSSVariables&&this._usedCSSVariables&&e.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",t)}_updateInlineHeight(){this._supportCSSVariables&&this._usedCSSVariables||"singleFitHeight"!==this.expandMode||0===this._items.length||(this._items[this.expandedIndexes[0]].$.accordionItemContent.style.height=this._expandedItemsContainerHeight-1+"px")}_updateItemsIndexProperty(){const e=this;let t=[];for(let i=0;i<e._items.length;i++)e._items[i]._setIndex(i),e._items[i].expanded&&t.push(i);e.expandedIndexes=t.slice()}_upHandler(e){const t=this;if(t._itemIsPressed&&!t.disabled&&!t.readonly){for(let e=0;e<t._items.length;e++)e!==t._selectedItemIndex&&(t._items[e].focused=!1);if(t._selectedItem.focused=!0,t._dragging){const i=t._selectedItem;t.$container.removeClass("jqx-reordering"),t.$.fireEvent("dragEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:i.label,content:i.content.innerHTML})}else t._selectedItem.expanded?t.collapse(t._selectedItemIndex,!0):t.expand(t._selectedItemIndex,!0);t._reorderedIndex=void 0,t._dragStart=!1,t._dragging=!1,t._itemIsPressed=!1,t._selectedItem.dragged=!1,t._updateItemsIndexProperty()}}_validateItemsIndex(e,t){const i=this;if(!(isNaN(parseInt(e))||e<0||e>i._items.length-1))return parseInt(e);i.log(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:t}))}});var be=Object.freeze({});!function(e){e.fn.drag=function(e,t,i){return t&&this.bind("dragstart",e),i&&this.bind("dragend",i),e?this.bind("drag",t||e):this.trigger("drag")};var t=e.event,i=t.special,n=i.drag={not:":input",distance:0,which:1,drop:!1,dragging:!1,setup:function(i){(i=e.extend({distance:n.distance,which:n.which,not:n.not,drop:n.drop},i||{})).distance=s(i.distance),t.add(this,"mousedown",r,i),this.attachEvent&&this.attachEvent("ondragstart",o)},teardown:function(){t.remove(this,"mousedown",r),this===n.dragging&&(n.dragging=n.proxy=!1),l(this,!0),this.detachEvent&&this.detachEvent("ondragstart",o)}};function r(o){var d,h=this,c=o.data||{};if(c.elem)h=o.dragTarget=c.elem,o.dragProxy=n.proxy||h,o.cursorOffsetX=c.pageX-c.left,o.cursorOffsetY=c.pageY-c.top,o.offsetX=o.pageX-o.cursorOffsetX,o.offsetY=o.pageY-o.cursorOffsetY;else if(n.dragging||c.which>0&&o.which!=c.which||e(o.target).is(c.not))return;switch(o.type){case"mousedown":e.extend(c,e(h).offset(),{elem:h,target:o.target,pageX:o.pageX,pageY:o.pageY}),t.add(document,"mousemove mouseup",r,c),l(h,!1),n.dragging=null;break;case!n.dragging&&"mousemove":if(s(o.pageX-c.pageX)+s(o.pageY-c.pageY)<c.distance)break;o.target=c.target,!1!==(d=a(o,"dragstart",h))&&(n.dragging=h,n.proxy=o.dragProxy=e(d||h)[0]);case"mousemove":if(n.dragging){if(d=a(o,"drag",h),c.drop&&i.drop&&(i.drop.allowed=!1!==d,i.drop.handler(o)),!1!==d)break;o.type="mouseup"}case"mouseup":t.remove(document,"mousemove mouseup",r),n.dragging&&(c.drop&&i.drop&&i.drop.handler(o),a(o,"dragend",h)),l(h,!0),n.dragging=n.proxy=c.elem=!1}}function a(t,i,n){t.type=i;var r=(e.event.dispatch||e.event.handle).call(n,t);return!1!==r&&(r||t.result)}function s(e){return Math.pow(e,2)}function o(){return!1===n.dragging}function l(t,i){t&&((t=t.ownerDocument?t.ownerDocument:t).unselectable=i?"off":"on",t.style&&(t.style.MozUserSelect=i?"":"none"),e.event[i?"remove":"add"](t,"selectstart mousedown",o))}i.dragstart=i.dragend={setup:function(){},teardown:function(){}}}(jQuery);var ye=Object.freeze({});!function(e){var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=t.length;i;)e.event.fixHooks[t[--i]]=e.event.mouseHooks;function n(t){var i=t||window.event,n=[].slice.call(arguments,1),r=0,a=0,s=0;return(t=e.event.fix(i)).type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),s=r,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,a=-1*r),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(a=-1*i.wheelDeltaX/120),n.unshift(t,r,a,s),(e.event.dispatch||e.event.handle).apply(this,n)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);var _e=Object.freeze({});!function(e){var t=function(t,i){var n=i.getElementsByClassName(t)[0];if(!n&&((n=document.createElement("canvas")).className=t,n.style.direction="ltr",n.style.position="absolute",n.style.left="0px",n.style.top="0px",i.appendChild(n),!n.getContext))throw new Error("Canvas is not available.");this.element=n;var r=this.context=n.getContext("2d");this.pixelRatio=e.plot.browser.getPixelRatio(r);var a=e(i).width(),s=e(i).height();this.resize(a,s),this.SVGContainer=null,this.SVG={},this._textCache={}};function i(e,t){e.transform.baseVal.clear(),t&&t.forEach(function(t){e.transform.baseVal.appendItem(t)})}t.prototype.resize=function(e,t){e=e<10?10:e,t=t<10?10:t;var i=this.element,n=this.context,r=this.pixelRatio;this.width!==e&&(i.width=e*r,i.style.width=e+"px",this.width=e),this.height!==t&&(i.height=t*r,i.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(r,r)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache;for(var t in e)if(hasOwnProperty.call(e,t)){var i=this.getSVGLayer(t),n=e[t],r=i.style.display;for(var a in i.style.display="none",n)if(hasOwnProperty.call(n,a)){var s=n[a];for(var o in s)if(hasOwnProperty.call(s,o)){for(var l,d=s[o],h=d.positions,c=0;h[c];c++)if((l=h[c]).active)l.rendered||(i.appendChild(l.element),l.rendered=!0);else if(h.splice(c--,1),l.rendered){for(;l.element.firstChild;)l.element.removeChild(l.element.firstChild);l.element.parentNode.removeChild(l.element)}0===h.length&&(d.measured?d.measured=!1:delete s[o])}}i.style.display=r}},t.prototype.getSVGLayer=function(e){var t,i=this.SVG[e];i||(this.SVGContainer?t=this.SVGContainer.firstChild:(this.SVGContainer=document.createElement("div"),this.SVGContainer.className="flot-svg",this.SVGContainer.style.position="absolute",this.SVGContainer.style.top="0px",this.SVGContainer.style.left="0px",this.SVGContainer.style.height="100%",this.SVGContainer.style.width="100%",this.SVGContainer.style.pointerEvents="none",this.element.parentNode.appendChild(this.SVGContainer),(t=document.createElementNS("http://www.w3.org/2000/svg","svg")).style.width="100%",t.style.height="100%",this.SVGContainer.appendChild(t)),(i=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("class",e),i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.bottom="0px",i.style.right="0px",t.appendChild(i),this.SVG[e]=i);return i},t.prototype.getTextInfo=function(e,t,i,r,a){var s,o,l,d;t=""+t,s="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(o=this._textCache[e])&&(o=this._textCache[e]={}),null==(l=o[s])&&(l=o[s]={});var h=function(e){return e.replace(/0|1|2|3|4|5|6|7|8|9/g,"0")}(t);if(!(d=l[h])){var c=document.createElementNS("http://www.w3.org/2000/svg","text");if(-1!==t.indexOf("<br>"))n(t,c,-9999);else{var u=document.createTextNode(t);c.appendChild(u)}c.style.position="absolute",c.style.maxWidth=a,c.setAttributeNS(null,"x",-9999),c.setAttributeNS(null,"y",-9999),"object"==typeof i?(c.style.font=s,c.style.fill=i.fill):"string"==typeof i&&c.setAttribute("class",i),this.getSVGLayer(e).appendChild(c);var p=c.getBBox();for(d=l[h]={width:p.width,height:p.height,measured:!0,element:c,positions:[]};c.firstChild;)c.removeChild(c.firstChild);c.parentNode.removeChild(c)}return d.measured=!0,d},t.prototype.addText=function(e,t,r,a,s,o,l,d,h,c){var u=this.getTextInfo(e,a,s,o,l),p=u.positions;"center"===d?t-=u.width/2:"right"===d&&(t-=u.width),"middle"===h?r-=u.height/2:"bottom"===h&&(r-=u.height),r+=.75*u.height;for(var m,f=0;p[f];f++){if((m=p[f]).x===t&&m.y===r&&m.text===a)return m.active=!0,void i(m.element,c);if(!1===m.active)return m.active=!0,m.text=a,-1!==a.indexOf("<br>")?(r-=.25*u.height,n(a,m.element,t)):m.element.textContent=a,m.element.setAttributeNS(null,"x",t),m.element.setAttributeNS(null,"y",r),m.x=t,m.y=r,void i(m.element,c)}m={active:!0,rendered:!1,element:p.length?u.element.cloneNode():u.element,text:a,x:t,y:r},p.push(m),-1!==a.indexOf("<br>")?(r-=.25*u.height,n(a,m.element,t)):m.element.textContent=a,m.element.setAttributeNS(null,"x",t),m.element.setAttributeNS(null,"y",r),m.element.style.textAlign=d,i(m.element,c)};var n=function(e,t,i){var n,r,a,s=e.split("<br>");for(r=0;r<s.length;r++)t.childNodes[r]?n=t.childNodes[r]:(n=document.createElementNS("http://www.w3.org/2000/svg","tspan"),t.appendChild(n)),n.textContent=s[r],a=1*r+"em",n.setAttributeNS(null,"dy",a),n.setAttributeNS(null,"x",i)};t.prototype.removeText=function(e,t,i,n,r,a){var s,o;if(null==n){var l=this._textCache[e];if(null!=l)for(var d in l)if(hasOwnProperty.call(l,d)){var h=l[d];for(var c in h)if(hasOwnProperty.call(h,c)){var u=h[c].positions;u.forEach(function(e){e.active=!1})}}}else(u=(s=this.getTextInfo(e,n,r,a)).positions).forEach(function(e){o=i+.75*s.height,e.x===t&&e.y===o&&e.text===n&&(e.active=!1)})},t.prototype.clearCache=function(){var e=this._textCache;for(var t in e)if(hasOwnProperty.call(e,t))for(var i=this.getSVGLayer(t);i.firstChild;)i.removeChild(i.firstChild);this._textCache={}},window.Flot||(window.Flot={}),window.Flot.Canvas=t}(jQuery);var we=Object.freeze({});!function(e){e.color={},e.color.make=function(t,i,n,r){var a={};return a.r=t||0,a.g=i||0,a.b=n||0,a.a=null!=r?r:1,a.add=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]+=t;return a.normalize()},a.scale=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]*=t;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return a.r=e(0,parseInt(a.r),255),a.g=e(0,parseInt(a.g),255),a.b=e(0,parseInt(a.b),255),a.a=e(0,a.a,1),a},a.clone=function(){return e.color.make(a.r,a.b,a.g,a.a)},a.normalize()},e.color.extract=function(t,i){var n;do{if(""!==(n=t.css(i).toLowerCase())&&"transparent"!==n)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"===n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(i){var n,r=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*\)/.exec(i))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return r(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return r(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var a=e.trim(i).toLowerCase();return"transparent"===a?r(255,255,255,0):r((n=t[a]||[0,0,0])[0],n[1],n[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery);var xe=Object.freeze({});!function(e){var t=window.Flot.Canvas;function i(t){var i,n=[],r=e.plot.saturated.saturate(e.plot.saturated.floorInBase(t.min,t.tickSize)),a=0,s=Number.NaN;r===-Number.MAX_VALUE&&(n.push(r),r=e.plot.saturated.floorInBase(t.min+t.tickSize,t.tickSize));do{i=s,s=e.plot.saturated.multiplyAdd(t.tickSize,a,r),n.push(s),++a}while(s<t.max&&s!==i);return n}function n(e,t,i){var n=t.tickDecimals;if(-1!==(""+e).indexOf("e"))return r(e,t,i);i>0&&(t.tickDecimals=i);var a=t.tickDecimals?parseFloat("1e"+t.tickDecimals):1,s=""+Math.round(e*a)/a;if(null!=t.tickDecimals){var o=s.indexOf("."),l=-1===o?0:s.length-o-1;if(l<t.tickDecimals)s=(l?s:s+".")+(""+a).substr(1,t.tickDecimals-l)}return t.tickDecimals=n,s}function r(e,t,i){var n=(""+e).indexOf("e"),r=parseInt((""+e).substr(n+1)),s=-1!==n?r:e>0?Math.floor(Math.log(e)/Math.LN10):0,o=parseFloat("1e"+s),l=e/o;if(i){var d=a(e,i);return(e/o).toFixed(d)+"e"+s}return t.tickDecimals>0?l.toFixed(a(e,t.tickDecimals))+"e"+s:l.toFixed()+"e"+s}function a(e,t){var i=Math.log(Math.abs(e))*Math.LOG10E,n=Math.abs(i+t);return n<=20?Math.floor(n):20}function s(r,a,s,o){var l=[],d={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoScaleMargin:null,autoScale:"exact",windowSize:null,growOnly:null,ticks:null,tickFormatter:null,showTickLabels:"major",labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,showMinorTicks:null,showTicks:null,gridLines:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},yaxis:{autoScaleMargin:.02,autoScale:"loose",growOnly:null,position:"left",showTickLabels:"major",offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:1,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,horizontal:!1,barWidth:.8,fill:!0,fillColor:null,align:"left",zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:1,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:15},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},h=null,c=null,u=null,p=null,m=null,f=[],g=[],v={left:0,right:0,top:0,bottom:0},b=0,y=0,_={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],setupGrid:[],adjustSeriesDataRange:[],setRange:[],drawBackground:[],drawSeries:[],drawAxis:[],draw:[],axisReserveSpace:[],bindEvents:[],drawOverlay:[],resize:[],shutdown:[]},w=this,x={},C=null;w.setData=I,w.setupGrid=q,w.draw=L,w.getPlaceholder=function(){return r},w.getCanvas=function(){return h.element},w.getSurface=function(){return h},w.getEventHolder=function(){return u[0]},w.getPlotOffset=function(){return v},w.width=function(){return b},w.height=function(){return y},w.offset=function(){var e=u.offset();return e.left+=v.left,e.top+=v.top,e},w.getData=function(){return l},w.getAxes=function(){var t={};return e.each(f.concat(g),function(e,i){i&&(t[i.direction+(1!==i.n?i.n:"")+"axis"]=i)}),t},w.getXAxes=function(){return f},w.getYAxes=function(){return g},w.c2p=function(e){var t,i,n={};for(t=0;t<f.length;++t)(i=f[t])&&i.used&&(n["x"+i.n]=i.c2p(e.left));for(t=0;t<g.length;++t)(i=g[t])&&i.used&&(n["y"+i.n]=i.c2p(e.top));void 0!==n.x1&&(n.x=n.x1);void 0!==n.y1&&(n.y=n.y1);return n},w.p2c=function(e){var t,i,n,r={};for(t=0;t<f.length;++t)if((i=f[t])&&i.used&&(n="x"+i.n,null==e[n]&&1===i.n&&(n="x"),null!=e[n])){r.left=i.p2c(e[n]);break}for(t=0;t<g.length;++t)if((i=g[t])&&i.used&&(n="y"+i.n,null==e[n]&&1===i.n&&(n="y"),null!=e[n])){r.top=i.p2c(e[n]);break}return r},w.getOptions=function(){return d},w.triggerRedrawOverlay=K,w.pointOffset=function(e){return{left:parseInt(f[E(e,"x")-1].p2c(+e.x)+v.left,10),top:parseInt(g[E(e,"y")-1].p2c(+e.y)+v.top,10)}},w.shutdown=j,w.destroy=function(){j(),r.removeData("plot").empty(),l=[],d=null,h=null,c=null,u=null,p=null,m=null,f=[],g=[],_=null,w=null},w.resize=function(){var e=r.width(),t=r.height();h.resize(e,t),c.resize(e,t),P(_.resize,[e,t])},w.clearTextCache=function(){h.clearCache(),c.clearCache()},w.autoScaleAxis=O,w.computeRangeForDataSeries=function(e,t,i){for(var n=e.datapoints.points,r=e.datapoints.pointsize,a=e.datapoints.format,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l={xmin:s,ymin:s,xmax:o,ymax:o},d=0;d<n.length;d+=r)if(null!==n[d]&&("function"!=typeof i||i(n[d])))for(var h=0;h<r;++h){var c=n[d+h],u=a[h];null!=u&&(("function"!=typeof i||i(c))&&(t||u.computeRange)&&c!==1/0&&c!==-1/0&&(!0===u.x&&(c<l.xmin&&(l.xmin=c),c>l.xmax&&(l.xmax=c)),!0===u.y&&(c<l.ymin&&(l.ymin=c),c>l.ymax&&(l.ymax=c))))}return l},w.adjustSeriesDataRange=function(e,t){if(e.bars.show){var i,n=e.bars.barWidth[1];e.datapoints&&e.datapoints.points&&!n&&function(e){var t=[],i=e.datapoints.pointsize,n=Number.MAX_VALUE;e.datapoints.points.length<=i&&(n=1);for(var r=e.bars.horizontal?1:0;r<e.datapoints.points.length;r+=i)isFinite(e.datapoints.points[r])&&null!==e.datapoints.points[r]&&t.push(e.datapoints.points[r]);(t=t.filter(function(e,t,i){return i.indexOf(e)===t})).sort(function(e,t){return e-t});for(var r=1;r<t.length;r++){var a=Math.abs(t[r]-t[r-1]);a<n&&isFinite(a)&&(n=a)}"number"==typeof e.bars.barWidth?e.bars.barWidth=e.bars.barWidth*n:e.bars.barWidth[0]=e.bars.barWidth[0]*n}(e);var r=e.bars.barWidth[0]||e.bars.barWidth;switch(e.bars.align){case"left":i=0;break;case"right":i=-r;break;default:i=-r/2}e.bars.horizontal?(t.ymin+=i,t.ymax+=i+r):(t.xmin+=i,t.xmax+=i+r)}if(e.bars.show&&e.bars.zero||e.lines.show&&e.lines.zero){var a=e.datapoints.pointsize;a<=2&&(t.ymin=Math.min(0,t.ymin),t.ymax=Math.max(0,t.ymax))}return t},w.findNearbyItem=function(e,t,i,n,r){for(var a,s=null,o=n*n+1,d=l.length-1;d>=0;--d)if(i(d)){var h=l[d];if(!h.datapoints)return;if(h.lines.show||h.points.show){var c=J(h,e,t,n,o,r);c&&(o=c.distance,s=[d,c.dataIndex])}if(h.bars.show&&!s){var u=Q(h,e,t);u>=0&&(s=[d,u])}}if(s){d=s[0],a=s[1];var p=l[d].datapoints.pointsize;return{datapoint:l[d].datapoints.points.slice(a*p,(a+1)*p),dataIndex:a,series:l[d],seriesIndex:d}}return null},w.findNearbyInterpolationPoint=function(e,t,i){var n,r,a,s,o,d,h,c=Number.MAX_VALUE;for(n=0;n<l.length;++n){if(!i(n))continue;var u=l[n].datapoints.points;d=l[n].datapoints.pointsize;const v=u[u.length-d]<u[0]?function(e,t){return e>t}:function(e,t){return t>e};if(!v(e,u[0])){for(r=d;r<u.length&&!v(e,u[r]);r+=d);var p=u[r-d],m=u[r-d+1],f=u[r],g=u[r+1];void 0!==p&&void 0!==f&&void 0!==m&&void 0!==g&&(t=p===f?g:m+(g-m)*(e-p)/(f-p),s=Math.abs(l[n].xaxis.p2c(f)-e),o=Math.abs(l[n].yaxis.p2c(g)-t),(a=s*s+o*o)<c&&(c=a,h=[e,t,n,r]))}}if(h)return n=h[2],r=h[3],d=l[n].datapoints.pointsize,u=l[n].datapoints.points,p=u[r-d],m=u[r-d+1],f=u[r],g=u[r+1],{datapoint:[h[0],h[1]],leftPoint:[p,m],rightPoint:[f,g],seriesIndex:n};return null},w.computeValuePrecision=B,w.computeTickSize=R,w.addEventHandler=function(e,t,i,n){var r=i+e,a=x[r]||[];a.push({event:e,handler:t,eventHolder:i,priority:n}),a.sort((e,t)=>t.priority-e.priority),a.forEach(e=>{e.eventHolder.unbind(e.event,e.handler),e.eventHolder.bind(e.event,e.handler)}),x[r]=a},w.hooks=_;var S=e.plot.uiConstants.MINOR_TICKS_COUNT_CONSTANT,T=e.plot.uiConstants.TICK_LENGTH_CONSTANT;function P(e,t){t=[w].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function I(t){var i=l;l=function(t){for(var i=[],n=0;n<t.length;++n){var r=e.extend(!0,{},d.series);null!=t[n].data?(r.data=t[n].data,delete t[n].data,e.extend(!0,r,t[n]),t[n].data=r.data):r.data=t[n],i.push(r)}return i}(t),function(){var t,i=l.length,n=-1;for(t=0;t<l.length;++t){var r=l[t].color;null!=r&&(i--,"number"==typeof r&&r>n&&(n=r))}i<=n&&(i=n+1);var a,s=[],o=d.colors,h=o.length,c=0,u=Math.max(0,l.length-i);for(t=0;t<i;t++)a=e.color.parse(o[(u+t)%h]||"#666"),t%h==0&&t&&(c=c>=0?c<.5?-c-.2:0:-c),s[t]=a.scale("rgb",1+c);var p,m=0;for(t=0;t<l.length;++t){if(null==(p=l[t]).color?(p.color=s[m].toString(),++m):"number"==typeof p.color&&(p.color=s[p.color].toString()),null==p.lines.show){var v,b=!0;for(v in p)if(p[v]&&p[v].show){b=!1;break}b&&(p.lines.show=!0)}null==p.lines.zero&&(p.lines.zero=!!p.lines.fill),p.xaxis=k(f,E(p,"x")),p.yaxis=k(g,E(p,"y"))}}(),function(t){var i,n,r,a,s,o,d,h,c,u,p,m,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY;function v(e,t,i){t<e.datamin&&t!==-1/0&&(e.datamin=t),i>e.datamax&&i!==1/0&&(e.datamax=i)}function b(e,t){return e&&e[t]&&e[t].datapoints&&e[t].datapoints.points?e[t].datapoints.points:[]}for(e.each(D(),function(e,t){!0!==t.options.growOnly?(t.datamin=f,t.datamax=g):(void 0===t.datamin&&(t.datamin=f),void 0===t.datamax&&(t.datamax=g)),t.used=!1}),i=0;i<l.length;++i)(s=l[i]).datapoints={points:[]},0===s.datapoints.points.length&&(s.datapoints.points=b(t,i)),P(_.processRawData,[s,s.data,s.datapoints]);for(i=0;i<l.length;++i){if(s=l[i],p=s.data,!(m=s.datapoints.format)){if((m=[]).push({x:!0,y:!1,number:!0,required:!0,computeRange:"none"!==s.xaxis.options.autoScale,defaultValue:null}),m.push({x:!1,y:!0,number:!0,required:!0,computeRange:"none"!==s.yaxis.options.autoScale,defaultValue:null}),s.stack||s.bars.show||s.lines.show&&s.lines.fill){var y=null!=s.datapoints.pointsize?s.datapoints.pointsize:s.data&&s.data[0]&&s.data[0].length?s.data[0].length:3;y>2&&m.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==s.yaxis.options.autoScale,defaultValue:0})}s.datapoints.format=m}if(s.xaxis.used=s.yaxis.used=!0,null==s.datapoints.pointsize){s.datapoints.pointsize=m.length,d=s.datapoints.pointsize,o=s.datapoints.points;s.lines.show&&s.lines.steps;for(n=r=0;n<p.length;++n,r+=d){var x=null==(u=p[n]);if(!x)for(a=0;a<d;++a)h=u[a],(c=m[a])&&(c.number&&null!=h&&(h=+h,isNaN(h)&&(h=null)),null==h&&(c.required&&(x=!0),null!=c.defaultValue&&(h=c.defaultValue))),o[r+a]=h;if(x)for(a=0;a<d;++a)null!=(h=o[r+a])&&(c=m[a]).computeRange&&(c.x&&v(s.xaxis,h,h),c.y&&v(s.yaxis,h,h)),o[r+a]=null}o.length=r}}for(i=0;i<l.length;++i)s=l[i],P(_.processDatapoints,[s,s.datapoints]);for(i=0;i<l.length;++i)if(s=l[i],!(m=s.datapoints.format).every(function(e){return!e.computeRange})){var C=w.adjustSeriesDataRange(s,w.computeRangeForDataSeries(s));P(_.adjustSeriesDataRange,[s,C]),v(s.xaxis,C.xmin,C.xmax),v(s.yaxis,C.ymin,C.ymax)}e.each(D(),function(e,t){t.datamin===f&&(t.datamin=null),t.datamax===g&&(t.datamax=null)})}(i)}function E(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function D(){return f.concat(g).filter(function(e){return e})}function k(t,i){return t[i-1]||(t[i-1]={n:i,direction:t===f?"x":"y",options:e.extend(!0,{},t===f?d.xaxis:d.yaxis)}),t[i-1]}function j(){C&&clearTimeout(C),P(_.shutdown,[u])}function M(t){function i(e){return e}var n,r,a=t.options.transform||i,it=t.options.inverseTransform;"x"===t.direction?(n=isFinite(a(t.max)-a(t.min))?t.scale=b/Math.abs(a(t.max)-a(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(a(t.min),a(t.max),b)),r=Math.min(a(t.max),a(t.min))):(n=-(n=isFinite(a(t.max)-a(t.min))?t.scale=y/Math.abs(a(t.max)-a(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(a(t.min),a(t.max),y))),r=Math.max(a(t.max),a(t.min))),t.p2c=a===i?function(e){return isFinite(e-r)?(e-r)*n:(e/4-r/4)*n*4}:function(e){var t=a(e);return isFinite(t-r)?(t-r)*n:(t/4-r/4)*n*4},t.c2p=it?function(e){return it(r+e/n)}:function(e){return r+e/n}}function A(t){P(_.axisReserveSpace,[t]);var i=t.labelWidth,n=t.labelHeight,r=t.options.position,a="x"===t.direction,s=t.options.tickLength,o=t.options.showTicks,l=t.options.showMinorTicks,c=t.options.gridLines,u=d.grid.axisMargin,p=d.grid.labelMargin,m=!0,b=!0,y=!1;e.each(a?f:g,function(e,i){i&&(i.show||i.reserveSpace)&&(i===t?y=!0:i.options.position===r&&(y?b=!1:m=!1))}),b&&(u=0),null==s&&(s=T),null==o&&(o=!0),null==l&&(l=!0),null==c&&(c=!!m),isNaN(+s)||(p+=o?+s:0),a?(n+=p,"bottom"===r?(v.bottom+=n+u,t.box={top:h.height-v.bottom,height:n}):(t.box={top:v.top+u,height:n},v.top+=n+u)):(i+=p,"left"===r?(t.box={left:v.left+u,width:i},v.left+=i+u):(v.right+=i+u,t.box={left:h.width-v.right,width:i})),t.position=r,t.tickLength=s,t.showMinorTicks=l,t.showTicks=o,t.gridLines=c,t.box.padding=p,t.innermost=m}function N(e,t,i){"x"===e.direction?("bottom"===e.position&&i(t.bottom)&&(e.box.top-=Math.ceil(t.bottom)),"top"===e.position&&i(t.top)&&(e.box.top+=Math.ceil(t.top))):("left"===e.position&&i(t.left)&&(e.box.left+=Math.ceil(t.left)),"right"===e.position&&i(t.right)&&(e.box.left-=Math.ceil(t.right)))}function q(t){var r,a,s=D(),o=d.grid.show;for(a in v)v[a]=0;for(a in P(_.processOffset,[v]),v)"object"==typeof d.grid.borderWidth?v[a]+=o?d.grid.borderWidth[a]:0:v[a]+=o?d.grid.borderWidth:0;if(e.each(s,function(i,r){var a=r.options;r.show=null==a.show?r.used:a.show,r.reserveSpace=null==a.reserveSpace?r.show:a.reserveSpace,function(e){var t=e.options;e.tickFormatter||("function"==typeof t.tickFormatter?e.tickFormatter=function(){var e=Array.prototype.slice.call(arguments);return""+t.tickFormatter.apply(null,e)}:e.tickFormatter=n)}(r),P(_.setRange,[r,t]),function(t,i){var n="number"==typeof t.options.min?t.options.min:t.min,r="number"==typeof t.options.max?t.options.max:t.max,a=t.options.offset;i&&(O(t),n=t.autoScaledMin,r=t.autoScaledMax);if(n=(null!=n?n:-1)+(a.below||0),r=(null!=r?r:1)+(a.above||0),n>r){var s=n;n=r,r=s,t.options.offset={above:0,below:0}}t.min=e.plot.saturated.saturate(n),t.max=e.plot.saturated.saturate(r)}(r,t)}),o){b=h.width-v.left-v.right,y=h.height-v.bottom-v.top;var c=e.grep(s,function(e){return e.show||e.reserveSpace});for(e.each(c,function(t,n){!function(t){var n,r=t.options;n=V(t.direction,h,r.ticks),t.delta=e.plot.saturated.delta(t.min,t.max,n);var a=w.computeValuePrecision(t.min,t.max,t.direction,n,r.tickDecimals);t.tickDecimals=Math.max(0,null!=r.tickDecimals?r.tickDecimals:a),t.tickSize=function(e,t,i,n,r){var a;a="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"===i?h.width:h.height);var s=R(e,t,a,r);return null!=n.minTickSize&&s<n.minTickSize&&(s=n.minTickSize),n.tickSize||s}(t.min,t.max,t.direction,r,r.tickDecimals),t.tickGenerator||("function"==typeof r.tickGenerator?t.tickGenerator=r.tickGenerator:t.tickGenerator=i);if(null!=r.alignTicksWithAxis){var s=("x"===t.direction?f:g)[r.alignTicksWithAxis-1];if(s&&s.used&&s!==t){var o=t.tickGenerator(t,w);if(o.length>0&&(null==r.min&&(t.min=Math.min(t.min,o[0])),null==r.max&&o.length>1&&(t.max=Math.max(t.max,o[o.length-1]))),t.tickGenerator=function(e){var t,i,n=[];for(i=0;i<s.ticks.length;++i)t=(s.ticks[i].v-s.min)/(s.max-s.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==r.tickDecimals){var l=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),d=t.tickGenerator(t,w);d.length>1&&/\..*0$/.test((d[1]-d[0]).toFixed(l))||(t.tickDecimals=l)}}}}(n),function(t){var i,n,r=t.options.ticks,a=[];null==r||"number"==typeof r&&r>0?a=t.tickGenerator(t,w):r&&(a=e.isFunction(r)?r(t):r);for(t.ticks=[],i=0;i<a.length;++i){var s=null,o=a[i];"object"==typeof o?(n=+o[0],o.length>1&&(s=o[1])):n=+o,isNaN(n)||t.ticks.push(H(n,s,t,"major"))}}(n),function(e,t,i){"loose"===e.options.autoScale&&t.length>0&&function(e){return e.some(e=>e.datapoints.points.length>0)}(i)&&(e.min=Math.min(e.min,t[0].v),e.max=Math.max(e.max,t[t.length-1].v))}(n,n.ticks,l),M(n),function(e,t){(function(e,t){if("endpoints"===e.options.showTickLabels)return!0;if("all"===e.options.showTickLabels){var i=t.filter(function(t){return t.xaxis===e}),n=i.some(function(e){return!e.bars.show});return 0===i.length||n}if("major"===e.options.showTickLabels||"none"===e.options.showTickLabels)return!1})(e,t)&&(e.ticks.unshift(H(e.min,null,e,"min")),e.ticks.push(H(e.max,null,e,"max")))}(n,l),function(e){for(var t=e.options,i="none"!==t.showTickLabels&&e.ticks?e.ticks:[],n="major"===t.showTickLabels||"all"===t.showTickLabels,r="endpoints"===t.showTickLabels||"all"===t.showTickLabels,a=t.labelWidth||0,s=t.labelHeight||0,o=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+o,d=t.font||"flot-tick-label tickLabel",c=0;c<i.length;++c){var u=i[c],p=u.label;if(u.label&&!(!1===n&&c>0&&c<i.length-1)&&(!1!==r||0!==c&&c!==i.length-1)){"object"==typeof u.label&&(p=u.label.name);var m=h.getTextInfo(l,p,d);a=Math.max(a,m.width),s=Math.max(s,m.height)}}e.labelWidth=t.labelWidth||a,e.labelHeight=t.labelHeight||s}(n)}),r=c.length-1;r>=0;--r)A(c[r]);!function(){var t,i=d.grid.minBorderMargin;if(null==i)for(i=0,t=0;t<l.length;++t)i=Math.max(i,2*(l[t].points.radius+l[t].points.lineWidth/2));var n,r={},a={left:i,right:i,top:i,bottom:i};for(n in e.each(D(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(a.left=Math.max(a.left,t.labelWidth/2),a.right=Math.max(a.right,t.labelWidth/2)):(a.bottom=Math.max(a.bottom,t.labelHeight/2),a.top=Math.max(a.top,t.labelHeight/2)))}),a)r[n]=a[n]-v[n];e.each(f.concat(g),function(e,t){N(t,r,function(e){return e>0})}),v.left=Math.ceil(Math.max(a.left,v.left)),v.right=Math.ceil(Math.max(a.right,v.right)),v.top=Math.ceil(Math.max(a.top,v.top)),v.bottom=Math.ceil(Math.max(a.bottom,v.bottom))}(),e.each(c,function(e,t){!function(e){"x"===e.direction?(e.box.left=v.left-e.labelWidth/2,e.box.width=h.width-v.left-v.right+e.labelWidth):(e.box.top=v.top-e.labelHeight/2,e.box.height=h.height-v.bottom-v.top+e.labelHeight)}(t)})}if(d.grid.margin){for(a in v){var u=d.grid.margin||0;v[a]+="number"==typeof u?u:u[a]||0}e.each(f.concat(g),function(e,t){N(t,d.grid.margin,function(e){return null!=e})})}b=h.width-v.left-v.right,y=h.height-v.bottom-v.top,e.each(s,function(e,t){M(t)}),o&&e.each(D(),function(e,t){var i,n,r,a,s,o,l,d=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,p=t.options.font||"flot-tick-label tickLabel",m={x:NaN,y:NaN,width:NaN,height:NaN},f=[],g=function(e,i){return!e||!e.label||e.v<t.min||e.v>t.max?m:(o=h.getTextInfo(u,e.label,p),"x"===t.direction?(a="center",n=v.left+t.p2c(e.v),"bottom"===t.position?r=d.top+d.padding-t.boxPosition.centerY:(r=d.top+d.height-d.padding+t.boxPosition.centerY,s="bottom"),l={x:n-o.width/2-3,y:r-3,width:o.width+6,height:o.height+6}):(s="middle",r=v.top+t.p2c(e.v),"left"===t.position?(n=d.left+d.width-d.padding-t.boxPosition.centerX,a="right"):n=d.left+d.padding+t.boxPosition.centerX,l={x:n-o.width/2-3,y:r-3,width:o.width+6,height:o.height+6}),function(e,t){return t.some(function(t){return i=e.x,n=e.y,r=e.x+e.width,a=e.y+e.height,s=t.x,o=t.y,l=t.x+t.width,d=t.y+t.height,(i<=s&&s<=r||s<=i&&i<=l)&&(n<=o&&o<=a||o<=n&&n<=d);var i,n,r,a,s,o,l,d})}(l,i)?m:(h.addText(u,n,r,e.label,p,null,null,a,s),l))};if(h.removeText(u),P(_.drawAxis,[t,h]),t.show)switch(t.options.showTickLabels){case"none":break;case"endpoints":f.push(g(t.ticks[0],f)),f.push(g(t.ticks[t.ticks.length-1],f));break;case"major":for(f.push(g(t.ticks[0],f)),f.push(g(t.ticks[t.ticks.length-1],f)),i=1;i<t.ticks.length-1;++i)f.push(g(t.ticks[i],f));break;case"all":for(f.push(g(t.ticks[0],[])),f.push(g(t.ticks[t.ticks.length-1],f)),i=1;i<t.ticks.length-1;++i)f.push(g(t.ticks[i],f))}}),P(_.setupGrid,[])}function O(t){var i,n=t.options,r=n.min,a=n.max,s=t.datamin,o=t.datamax;switch(n.autoScale){case"none":r=+(null!=n.min?n.min:s),a=+(null!=n.max?n.max:o);break;case"loose":if(null!=s&&null!=o){r=s,a=o,i=e.plot.saturated.saturate(a-r);var l="number"==typeof n.autoScaleMargin?n.autoScaleMargin:.02;r=e.plot.saturated.saturate(r-i*l),a=e.plot.saturated.saturate(a+i*l),r<0&&s>=0&&(r=0)}else r=n.min,a=n.max;break;case"exact":r=null!=s?s:n.min,a=null!=o?o:n.max;break;case"sliding-window":o>a&&(a=o,r=Math.max(o-(n.windowSize||100),r))}var d=function(e,t){var i=void 0===e?null:e,n=void 0===t?null:t;if(0==n-i){var r=0===n?1:.01,a=null;null==i&&(a-=r),null!=n&&null==i||(n+=r),null!=a&&(i=a)}return{min:i,max:n}}(r,a);r=d.min,a=d.max,!0===n.growOnly&&"none"!==n.autoScale&&"sliding-window"!==n.autoScale&&(r=r<s?r:null!==s?s:r,a=a>o?a:null!==o?o:a),t.autoScaledMin=r,t.autoScaledMax=a}function B(t,i,n,r,a){var s=V(n,h,r),o=e.plot.saturated.delta(t,i,s),l=-Math.floor(Math.log(o)/Math.LN10);a&&l>a&&(l=a);var d=o/parseFloat("1e"+-l);return d>2.25&&d<3&&l+1<=a&&++l,isFinite(l)?l:0}function R(t,i,n,r){var a=e.plot.saturated.delta(t,i,n),s=-Math.floor(Math.log(a)/Math.LN10);r&&s>r&&(s=r);var o,l=parseFloat("1e"+-s),d=a/l;return d<1.5?o=1:d<3?(o=2,d>2.25&&(null==r||s+1<=r)&&(o=2.5)):o=d<7.5?5:10,o*=l}function V(e,t,i){return"number"==typeof i&&i>0?i:.3*Math.sqrt("x"===e?t.width:t.height)}function H(e,t,i,n){if(null===t)switch(n){case"min":case"max":var r=function(e,t){var i=Math.floor(t.p2c(e)),n="x"===t.direction?i+1:i-1,r=t.c2p(i),a=t.c2p(n);return B(r,a,t.direction,1)}(e,i);isFinite(r),t=i.tickFormatter(e,i,r,w);break;case"major":t=i.tickFormatter(e,i,void 0,w)}return{v:e,label:t}}function L(){h.clear(),P(_.drawBackground,[p]);var e=d.grid;e.show&&e.backgroundColor&&(p.save(),p.translate(v.left,v.top),p.fillStyle=ee(d.grid.backgroundColor,y,0,"rgba(255, 255, 255, 0)"),p.fillRect(0,0,b,y),p.restore()),e.show&&!e.aboveData&&X();for(var t=0;t<l.length;++t)P(_.drawSeries,[p,l[t],t,ee]),Y(l[t]);P(_.draw,[p]),e.show&&e.aboveData&&X(),h.render(),K()}function z(e,t){for(var i,n,r,a,s=D(),o=0;o<s.length;++o)if((i=s[o]).direction===t&&(e[a=t+i.n+"axis"]||1!==i.n||(a=t+"axis"),e[a])){n=e[a].from,r=e[a].to;break}if(e[a]||(i="x"===t?f[0]:g[0],n=e[t+"1"],r=e[t+"2"]),null!=n&&null!=r&&n>r){var l=n;n=r,r=l}return{from:n,to:r,axis:i}}function F(e){var t=e.box,i=0,n=0;return"x"===e.direction?(i=0,n=t.top-v.top+("top"===e.position?t.height:0)):(n=0,i=t.left-v.left+("left"===e.position?t.width:0)+e.boxPosition.centerX),{x:i,y:n}}function U(e,t){return e%2!=0?Math.floor(t)+.5:t}function $(e){p.lineWidth=1;var t=F(e),i=t.x,n=t.y;if(e.show){var r=0,a=0;p.strokeStyle=e.options.color,p.beginPath(),"x"===e.direction?r=b+1:a=y+1,"x"===e.direction?n=U(p.lineWidth,n):i=U(p.lineWidth,i),p.moveTo(i,n),p.lineTo(i+r,n+a),p.stroke()}}function W(e){var t=e.tickLength,i=e.showMinorTicks,n=S,r=F(e),a=r.x,s=r.y,o=0;for(p.strokeStyle=e.options.color,p.beginPath(),o=0;o<e.ticks.length;++o){var l,d=e.ticks[o].v,h=0,c=0,u=0,m=0;if(!isNaN(d)&&d>=e.min&&d<=e.max&&("x"===e.direction?(a=e.p2c(d),c=t,"top"===e.position&&(c=-c)):(s=e.p2c(d),h=t,"left"===e.position&&(h=-h)),"x"===e.direction?a=U(p.lineWidth,a):s=U(p.lineWidth,s),p.moveTo(a,s),p.lineTo(a+h,s+c)),!0===i&&o<e.ticks.length-1){var f=e.ticks[o].v,g=(e.ticks[o+1].v-f)/(n+1);for(l=1;l<=n;l++){if("x"===e.direction){if(m=t/2,a=U(p.lineWidth,e.p2c(f+l*g)),"top"===e.position&&(m=-m),a<0||a>b)continue}else if(u=t/2,s=U(p.lineWidth,e.p2c(f+l*g)),"left"===e.position&&(u=-u),s<0||s>y)continue;p.moveTo(a,s),p.lineTo(a+u,s+m)}}}p.stroke()}function G(e){var t,i,n;for(p.strokeStyle=d.grid.tickColor,p.beginPath(),t=0;t<e.ticks.length;++t){var r=e.ticks[t].v,a=0,s=0,o=0,l=0;isNaN(r)||r<e.min||r>e.max||(i=r,n=void 0,(!("object"==typeof(n=d.grid.borderWidth)&&n[e.position]>0||n>0)||i!==e.min&&i!==e.max)&&("x"===e.direction?(o=e.p2c(r),l=y,s=-y):(o=0,l=e.p2c(r),a=b),"x"===e.direction?o=U(p.lineWidth,o):l=U(p.lineWidth,l),p.moveTo(o,l),p.lineTo(o+a,l+s)))}p.stroke()}function X(){var t,i;p.save(),p.translate(v.left,v.top),function(){var t,i,n=d.grid.markings;if(n)for(e.isFunction(n)&&((t=w.getAxes()).xmin=t.xaxis.min,t.xmax=t.xaxis.max,t.ymin=t.yaxis.min,t.ymax=t.yaxis.max,n=n(t)),i=0;i<n.length;++i){var r=n[i],a=z(r,"x"),s=z(r,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),!(a.to<a.axis.min||a.from>a.axis.max||s.to<s.axis.min||s.from>s.axis.max)){a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max);var o=a.from===a.to,l=s.from===s.to;if(!o||!l)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),o||l){var h=r.lineWidth||d.grid.markingsLineWidth,c=h%2?.5:0;p.beginPath(),p.strokeStyle=r.color||d.grid.markingsColor,p.lineWidth=h,o?(p.moveTo(a.to+c,s.from),p.lineTo(a.to+c,s.to)):(p.moveTo(a.from,s.to+c),p.lineTo(a.to,s.to+c)),p.stroke()}else p.fillStyle=r.color||d.grid.markingsColor,p.fillRect(a.from,s.to,a.to-a.from,s.from-s.to)}}}(),t=D(),i=d.grid.borderWidth;for(var n=0;n<t.length;++n){var r=t[n];r.show&&($(r),!0===r.showTicks&&W(r),!0===r.gridLines&&G(r))}i&&function(){var e=d.grid.borderWidth,t=d.grid.borderColor;"object"==typeof e||"object"==typeof t?("object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),"object"!=typeof t&&(t={top:t,right:t,bottom:t,left:t}),e.top>0&&(p.strokeStyle=t.top,p.lineWidth=e.top,p.beginPath(),p.moveTo(0-e.left,0-e.top/2),p.lineTo(b,0-e.top/2),p.stroke()),e.right>0&&(p.strokeStyle=t.right,p.lineWidth=e.right,p.beginPath(),p.moveTo(b+e.right/2,0-e.top),p.lineTo(b+e.right/2,y),p.stroke()),e.bottom>0&&(p.strokeStyle=t.bottom,p.lineWidth=e.bottom,p.beginPath(),p.moveTo(b+e.right,y+e.bottom/2),p.lineTo(0,y+e.bottom/2),p.stroke()),e.left>0&&(p.strokeStyle=t.left,p.lineWidth=e.left,p.beginPath(),p.moveTo(0-e.left/2,y+e.bottom),p.lineTo(0-e.left/2,0),p.stroke())):(p.lineWidth=e,p.strokeStyle=d.grid.borderColor,p.strokeRect(-e/2,-e/2,b+e,y+e))}(),p.restore()}function Y(t){t.lines.show&&e.plot.drawSeries.drawSeriesLines(t,p,v,b,y,w.drawSymbol,ee),t.bars.show&&e.plot.drawSeries.drawSeriesBars(t,p,v,b,y,w.drawSymbol,ee),t.points.show&&e.plot.drawSeries.drawSeriesPoints(t,p,v,b,y,w.drawSymbol,ee)}function J(e,t,i,n,r,a){var s=e.xaxis.c2p(t),o=e.yaxis.c2p(i),l=n/e.xaxis.scale,d=n/e.yaxis.scale,h=e.datapoints.points,c=e.datapoints.pointsize;e.xaxis.options.inverseTransform&&(l=Number.MAX_VALUE),e.yaxis.options.inverseTransform&&(d=Number.MAX_VALUE);for(var u=null,p=0;p<h.length;p+=c){var m=h[p],f=h[p+1];if(null!=m&&!(m-s>l||m-s<-l||f-o>d||f-o<-d)){var g=Math.abs(e.xaxis.p2c(m)-t),v=Math.abs(e.yaxis.p2c(f)-i),b=a?a(g,v):g*g+v*v;b<r&&(r=b,u={dataIndex:p/c,distance:b})}}return u}function Q(e,t,i){var n,r,a=e.bars.barWidth[0]||e.bars.barWidth,s=e.xaxis.c2p(t),o=e.yaxis.c2p(i),l=e.datapoints.points,d=e.datapoints.pointsize;switch(e.bars.align){case"left":n=0;break;case"right":n=-a;break;default:n=-a/2}r=n+a;for(var h=e.bars.fillTowards||0,c=h>e.yaxis.min?Math.min(e.yaxis.max,h):e.yaxis.min,u=-1,p=0;p<l.length;p+=d){var m=l[p],f=l[p+1];null!=m&&((e.bars.horizontal?s<=Math.max(c,m)&&s>=Math.min(c,m)&&o>=f+n&&o<=f+r:s>=m+n&&s<=m+r&&o>=Math.min(c,f)&&o<=Math.max(c,f))&&(u=p/d))}return u}function K(){var e=d.interaction.redrawOverlayInterval;-1!==e?C||(C=setTimeout(function(){Z(w)},e)):Z()}function Z(e){if(C=null,m){c.clear(),P(_.drawOverlay,[m,c]);var t=new CustomEvent("onDrawingDone");e.getEventHolder().dispatchEvent(t),e.getPlaceholder().trigger("drawingdone")}}function ee(t,i,n,r){if("string"==typeof t)return t;for(var a=p.createLinearGradient(0,n,0,i),s=0,o=t.colors.length;s<o;++s){var l=t.colors[s];if("string"!=typeof l){var d=e.color.parse(r);null!=l.brightness&&(d=d.scale("rgb",l.brightness)),null!=l.opacity&&(d.a*=l.opacity),l=d.toString()}a.addColorStop(s/(o-1),l)}return a}!function(){for(var i={Canvas:t},n=0;n<o.length;++n){var r=o[n];r.init(w,i),r.options&&e.extend(!0,d,r.options)}}(),function(){r.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"===r.css("position")&&r.css("position","relative");h=new t("flot-base",r[0]),c=new t("flot-overlay",r[0]),p=h.context,m=c.context,u=e(c.element).unbind();var i=r.data("plot");i&&(i.shutdown(),c.clear());r.data("plot",w)}(),function(t){e.extend(!0,d,t),t&&t.colors&&(d.colors=t.colors);null==d.xaxis.color&&(d.xaxis.color=e.color.parse(d.grid.color).scale("a",.22).toString());null==d.yaxis.color&&(d.yaxis.color=e.color.parse(d.grid.color).scale("a",.22).toString());null==d.xaxis.tickColor&&(d.xaxis.tickColor=d.grid.tickColor||d.xaxis.color);null==d.yaxis.tickColor&&(d.yaxis.tickColor=d.grid.tickColor||d.yaxis.color);null==d.grid.borderColor&&(d.grid.borderColor=d.grid.color);null==d.grid.tickColor&&(d.grid.tickColor=e.color.parse(d.grid.color).scale("a",.22).toString());var i,n,a,s=r.css("font-size"),o=s?+s.replace("px",""):13,l={style:r.css("font-style"),size:Math.round(.8*o),variant:r.css("font-variant"),weight:r.css("font-weight"),family:r.css("font-family")};for(a=d.xaxes.length||1,i=0;i<a;++i)(n=d.xaxes[i])&&!n.tickColor&&(n.tickColor=n.color),n=e.extend(!0,{},d.xaxis,n),d.xaxes[i]=n,n.font&&(n.font=e.extend({},l,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(a=d.yaxes.length||1,i=0;i<a;++i)(n=d.yaxes[i])&&!n.tickColor&&(n.tickColor=n.color),n=e.extend(!0,{},d.yaxis,n),d.yaxes[i]=n,n.font&&(n.font=e.extend({},l,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(i=0;i<d.xaxes.length;++i)k(f,i+1).options=d.xaxes[i];for(i=0;i<d.yaxes.length;++i)k(g,i+1).options=d.yaxes[i];for(var h in e.each(D(),function(e,t){t.boxPosition=t.options.boxPosition||{centerX:0,centerY:0}}),_)d.hooks[h]&&d.hooks[h].length&&(_[h]=_[h].concat(d.hooks[h]));P(_.processOptions,[d])}(s),I(a),q(!0),L(),P(_.bindEvents,[u])}e.plot=function(t,i,n){return new s(e(t),i,n,e.plot.plugins)},e.plot.version="3.0.0",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})},e.plot.linearTickGenerator=i,e.plot.defaultTickFormatter=n,e.plot.expRepTickFormatter=r}(jQuery);var Ce=Object.freeze({});!function(e){var t={saturate:function(e){return e===1/0?Number.MAX_VALUE:e===-1/0?-Number.MAX_VALUE:e},delta:function(e,t,i){return(t-e)/i==1/0?t/i-e/i:(t-e)/i},multiply:function(e,i){return t.saturate(e*i)},multiplyAdd:function(e,i,n){if(isFinite(e*i))return t.saturate(e*i+n);for(var r=n,a=0;a<i;a++)r+=e;return t.saturate(r)},floorInBase:function(e,t){return t*Math.floor(e/t)}};e.plot.saturated=t}(jQuery);var Se=Object.freeze({});!function(e){var t={getPageXY:function(e){var t=document.documentElement;return{X:e.clientX+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),Y:e.clientY+(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}},getPixelRatio:function(e){return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},isSafari:function(){return/constructor/i.test(window.top.HTMLElement)||"[object SafariRemoteNotification]"===(!window.top.safari||void 0!==window.top.safari&&window.top.safari.pushNotification).toString()},isMobileSafari:function(){return navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)},isOpera:function(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return!!document.documentMode},isEdge:function(){return!t.isIE()&&!!window.StyleMedia},isChrome:function(){return!!window.chrome&&!!window.chrome.webstore},isBlink:function(){return(t.isChrome()||t.isOpera())&&!!window.CSS}};e.plot.browser=t}(jQuery);var Te=Object.freeze({});!function(e){e.plot.drawSeries=new function(){function t(e,t,i,n,r,a,s,o,l,d,h){var c,u,p,m,f=e+n,g=e+r,v=i,b=t,y=!1;c=u=p=!0,d?(y=u=p=!0,c=!1,b=t+n,v=t+r,(g=e)<(f=i)&&(m=g,g=f,f=m,c=!0,u=!1)):(c=u=p=!0,y=!1,f=e+n,g=e+r,(b=t)<(v=i)&&(m=b,b=v,v=m,y=!0,p=!1)),g<s.min||f>s.max||b<o.min||v>o.max||(f<s.min&&(f=s.min,c=!1),g>s.max&&(g=s.max,u=!1),v<o.min&&(v=o.min,y=!1),b>o.max&&(b=o.max,p=!1),f=s.p2c(f),v=o.p2c(v),g=s.p2c(g),b=o.p2c(b),a&&(l.fillStyle=a(v,b),l.fillRect(f,b,g-f,v-b)),h>0&&(c||u||p||y)&&(l.beginPath(),l.moveTo(f,v),c?l.lineTo(f,b):l.moveTo(f,b),p?l.lineTo(g,b):l.moveTo(g,b),u?l.lineTo(g,v):l.moveTo(g,v),y?l.lineTo(f,v):l.moveTo(f,v),l.stroke()))}function i(t,i,n,r,a){var s=t.fill;if(!s)return null;if(t.fillColor)return a(t.fillColor,n,r,i);var o=e.color.parse(i);return o.a="number"==typeof s?s:.4,o.normalize(),o.toString()}this.drawSeriesLines=function(e,t,n,r,a,s,o){t.save(),t.translate(n.left,n.top),t.lineJoin="round",e.lines.dashes&&t.setLineDash&&t.setLineDash(e.lines.dashes);var l={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimate&&(l.points=e.decimate(e,e.xaxis.min,e.xaxis.max,r,e.yaxis.min,e.yaxis.max,a));var d=e.lines.lineWidth;t.lineWidth=d,t.strokeStyle=e.color;var h=i(e.lines,e.color,0,a,o);h&&(t.fillStyle=h,function(e,t,i,n,r,a){for(var s=e.points,o=e.pointsize,l=n>i.min?Math.min(i.max,n):i.min,d=0,h=1,c=!1,u=0,p=0,m=null,f=null;!(o>0&&d>s.length+o);){var g=s[(d+=o)-o],v=s[d-o+h],b=s[d],y=s[d+h];if(-2===o&&(v=y=l),c){if(o>0&&null!=g&&null==b){p=d,o=-o,h=2;continue}if(o<0&&d===u+o){r.fill(),c=!1,h=1,d=u=p+(o=-o);continue}}if(null!=g&&null!=b){if(a&&(null!==m&&null!==f?(b=g,y=v,g=m,v=f,m=null,f=null,d-=o):v!==y&&g!==b&&(y=v,m=b,f=v)),g<=b&&g<t.min){if(b<t.min)continue;v=(t.min-g)/(b-g)*(y-v)+v,g=t.min}else if(b<=g&&b<t.min){if(g<t.min)continue;y=(t.min-g)/(b-g)*(y-v)+v,b=t.min}if(g>=b&&g>t.max){if(b>t.max)continue;v=(t.max-g)/(b-g)*(y-v)+v,g=t.max}else if(b>=g&&b>t.max){if(g>t.max)continue;y=(t.max-g)/(b-g)*(y-v)+v,b=t.max}if(c||(r.beginPath(),r.moveTo(t.p2c(g),i.p2c(l)),c=!0),v>=i.max&&y>=i.max)r.lineTo(t.p2c(g),i.p2c(i.max)),r.lineTo(t.p2c(b),i.p2c(i.max));else if(v<=i.min&&y<=i.min)r.lineTo(t.p2c(g),i.p2c(i.min)),r.lineTo(t.p2c(b),i.p2c(i.min));else{var _=g,w=b;v<=y&&v<i.min&&y>=i.min?(g=(i.min-v)/(y-v)*(b-g)+g,v=i.min):y<=v&&y<i.min&&v>=i.min&&(b=(i.min-v)/(y-v)*(b-g)+g,y=i.min),v>=y&&v>i.max&&y<=i.max?(g=(i.max-v)/(y-v)*(b-g)+g,v=i.max):y>=v&&y>i.max&&v<=i.max&&(b=(i.max-v)/(y-v)*(b-g)+g,y=i.max),g!==_&&r.lineTo(t.p2c(_),i.p2c(v)),r.lineTo(t.p2c(g),i.p2c(v)),r.lineTo(t.p2c(b),i.p2c(y)),b!==w&&(r.lineTo(t.p2c(b),i.p2c(y)),r.lineTo(t.p2c(w),i.p2c(y)))}}else m=null,f=null}}(l,e.xaxis,e.yaxis,e.lines.fillTowards||0,t,e.lines.steps)),d>0&&function(e,t,i,n,r,a,s){var o=e.points,l=e.pointsize,d=null,h=null,c=0,u=0,p=0,m=0,f=null,g=null,v=0;for(a.beginPath(),v=l;v<o.length;v+=l)if(c=o[v-l],u=o[v-l+1],p=o[v],m=o[v+1],null!==c&&null!==p)if(isNaN(c)||isNaN(p)||isNaN(u)||isNaN(m))d=null,h=null;else{if(s&&(null!==f&&null!==g?(p=c,m=u,c=f,u=g,f=null,g=null,v-=l):u!==m&&c!==p&&(m=u,f=p,g=u)),u<=m&&u<r.min){if(m<r.min)continue;c=(r.min-u)/(m-u)*(p-c)+c,u=r.min}else if(m<=u&&m<r.min){if(u<r.min)continue;p=(r.min-u)/(m-u)*(p-c)+c,m=r.min}if(u>=m&&u>r.max){if(m>r.max)continue;c=(r.max-u)/(m-u)*(p-c)+c,u=r.max}else if(m>=u&&m>r.max){if(u>r.max)continue;p=(r.max-u)/(m-u)*(p-c)+c,m=r.max}if(c<=p&&c<n.min){if(p<n.min)continue;u=(n.min-c)/(p-c)*(m-u)+u,c=n.min}else if(p<=c&&p<n.min){if(c<n.min)continue;m=(n.min-c)/(p-c)*(m-u)+u,p=n.min}if(c>=p&&c>n.max){if(p>n.max)continue;u=(n.max-c)/(p-c)*(m-u)+u,c=n.max}else if(p>=c&&p>n.max){if(c>n.max)continue;m=(n.max-c)/(p-c)*(m-u)+u,p=n.max}c===d&&u===h||a.moveTo(n.p2c(c)+t,r.p2c(u)+i),d=p,h=m,a.lineTo(n.p2c(p)+t,r.p2c(m)+i)}else f=null,g=null;a.stroke()}(l,0,0,e.xaxis,e.yaxis,t,e.lines.steps),t.restore()},this.drawSeriesPoints=function(e,t,n,r,a,s,o){function l(e,t,i,n,r,a){e.moveTo(t+n,i),e.arc(t,i,n,0,r?Math.PI:2*Math.PI,!1)}l.fill=!0,t.save(),t.translate(n.left,n.top);var d={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimatePoints&&(d.points=e.decimatePoints(e,e.xaxis.min,e.xaxis.max,r,e.yaxis.min,e.yaxis.max,a));var h,c=e.points.lineWidth,u=e.points.radius,p=e.points.symbol;"circle"===p?h=l:"string"==typeof p&&s&&s[p]?h=s[p]:"function"==typeof s&&(h=s),0===c&&(c=1e-4),t.lineWidth=c,t.fillStyle=i(e.points,e.color,null,null,o),t.strokeStyle=e.color,function(e,i,n,r,a,s,o,l){var d=e.points,h=e.pointsize;t.beginPath();for(var c=0;c<d.length;c+=h){var u=d[c],p=d[c+1];null==u||u<s.min||u>s.max||p<o.min||p>o.max||(u=s.p2c(u),p=o.p2c(p)+r,l(t,u,p,i,a,n))}l.fill&&!a&&t.fill(),t.stroke()}(d,u,!0,0,!1,e.xaxis,e.yaxis,h),t.restore()},this.drawSeriesBars=function(e,n,r,a,s,o,l){n.save(),n.translate(r.left,r.top);var d,h={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimate&&(h.points=e.decimate(e,e.xaxis.min,e.xaxis.max,a)),n.lineWidth=e.bars.lineWidth,n.strokeStyle=e.color;var c=e.bars.barWidth[0]||e.bars.barWidth;switch(e.bars.align){case"left":d=0;break;case"right":d=-c;break;default:d=-c/2}!function(i,r,a,s,o,l){for(var d=i.points,h=i.pointsize,c=e.bars.fillTowards||0,u=c>l.min?Math.min(l.max,c):l.min,p=0;p<d.length;p+=h)if(null!=d[p]){var m=3===h?d[p+2]:u;t(d[p],d[p+1],m,r,a,s,o,l,n,e.bars.horizontal,e.bars.lineWidth)}}(h,d,d+c,e.bars.fill?function(t,n){return i(e.bars,e.color,t,n,l)}:null,e.xaxis,e.yaxis),n.restore()},this.drawBar=t}}(jQuery);var Pe=Object.freeze({});!function(e){function t(e,t,i,n){if(t.points.errorbars){var r=[{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}],a=t.points.errorbars;"x"!==a&&"xy"!==a||(t.points.xerr.asymmetric?(r.push({x:!0,number:!0,required:!0}),r.push({x:!0,number:!0,required:!0})):r.push({x:!0,number:!0,required:!0})),"y"!==a&&"xy"!==a||(t.points.yerr.asymmetric?(r.push({y:!0,number:!0,required:!0}),r.push({y:!0,number:!0,required:!0})):r.push({y:!0,number:!0,required:!0})),n.format=r}}function i(e,t){var i=e.datapoints.points,n=null,r=null,a=null,s=null,o=e.points.xerr,l=e.points.yerr,d=e.points.errorbars;"x"===d||"xy"===d?o.asymmetric?(n=i[t+2],r=i[t+3],"xy"===d&&(l.asymmetric?(a=i[t+4],s=i[t+5]):a=i[t+4])):(n=i[t+2],"xy"===d&&(l.asymmetric?(a=i[t+3],s=i[t+4]):a=i[t+3])):"y"===d&&(l.asymmetric?(a=i[t+2],s=i[t+3]):a=i[t+2]),null==r&&(r=n),null==s&&(s=a);var h=[n,r,a,s];return o.show||(h[0]=null,h[1]=null),l.show||(h[2]=null,h[3]=null),h}function n(t,i,n,a,s,o,l,d,h,c,u){a+=c,s+=c,o+=c,"x"===i.err?(s>n+h?r(t,[[s,a],[Math.max(n+h,u[0]),a]]):l=!1,o<n-h?r(t,[[Math.min(n-h,u[1]),a],[o,a]]):d=!1):(s<a-h?r(t,[[n,s],[n,Math.min(a-h,u[0])]]):l=!1,o>a+h?r(t,[[n,Math.max(a+h,u[1])],[n,o]]):d=!1),h=null!=i.radius?i.radius:h,l&&("-"===i.upperCap?"x"===i.err?r(t,[[s,a-h],[s,a+h]]):r(t,[[n-h,s],[n+h,s]]):e.isFunction(i.upperCap)&&("x"===i.err?i.upperCap(t,s,a,h):i.upperCap(t,n,s,h))),d&&("-"===i.lowerCap?"x"===i.err?r(t,[[o,a-h],[o,a+h]]):r(t,[[n-h,o],[n+h,o]]):e.isFunction(i.lowerCap)&&("x"===i.err?i.lowerCap(t,o,a,h):i.lowerCap(t,n,o,h)))}function r(e,t){e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(var i=1;i<t.length;i++)e.lineTo(t[i][0],t[i][1]);e.stroke()}function a(t,r){var a=t.getPlotOffset();r.save(),r.translate(a.left,a.top),e.each(t.getData(),function(e,t){t.points.errorbars&&(t.points.xerr.show||t.points.yerr.show)&&function(e,t,r){var a,s=r.datapoints.points,o=r.datapoints.pointsize,l=[r.xaxis,r.yaxis],d=r.points.radius,h=[r.points.xerr,r.points.yerr],c=!1;l[0].p2c(l[0].max)<l[0].p2c(l[0].min)&&(c=!0,a=h[0].lowerCap,h[0].lowerCap=h[0].upperCap,h[0].upperCap=a);var u=!1;l[1].p2c(l[1].min)<l[1].p2c(l[1].max)&&(u=!0,a=h[1].lowerCap,h[1].lowerCap=h[1].upperCap,h[1].upperCap=a);for(var p=0;p<r.datapoints.points.length;p+=o)for(var m=i(r,p),f=0;f<h.length;f++){var g=[l[f].min,l[f].max];if(m[f*h.length]){var v=s[p],b=s[p+1],y=[v,b][f]+m[f*h.length+1],_=[v,b][f]-m[f*h.length];if("x"===h[f].err&&(b>l[1].max||b<l[1].min||y<l[0].min||_>l[0].max))continue;if("y"===h[f].err&&(v>l[0].max||v<l[0].min||y<l[1].min||_>l[1].max))continue;var w=!0,x=!0;y>g[1]&&(w=!1,y=g[1]),_<g[0]&&(x=!1,_=g[0]),("x"===h[f].err&&c||"y"===h[f].err&&u)&&(a=_,_=y,y=a,a=x,x=w,w=a,a=g[0],g[0]=g[1],g[1]=a),v=l[0].p2c(v),b=l[1].p2c(b),y=l[f].p2c(y),_=l[f].p2c(_),g[0]=l[f].p2c(g[0]),g[1]=l[f].p2c(g[1]);var C=h[f].lineWidth?h[f].lineWidth:r.points.lineWidth,S=null!=r.points.shadowSize?r.points.shadowSize:r.shadowSize;if(C>0&&S>0){var T=S/2;t.lineWidth=T,t.strokeStyle="rgba(0,0,0,0.1)",n(t,h[f],v,b,y,_,w,x,d,T+T/2,g),t.strokeStyle="rgba(0,0,0,0.2)",n(t,h[f],v,b,y,_,w,x,d,T/2,g)}t.strokeStyle=h[f].color?h[f].color:r.color,t.lineWidth=C,n(t,h[f],v,b,y,_,w,x,d,0,g)}}}(0,r,t)}),r.restore()}e.plot.plugins.push({init:function(e){e.hooks.processRawData.push(t),e.hooks.draw.push(a)},options:{series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}},name:"errorbars",version:"1.0"})}(jQuery);var Ie=Object.freeze({});jQuery.plot.uiConstants={SNAPPING_CONSTANT:20,PANHINT_LENGTH_CONSTANT:10,MINOR_TICKS_COUNT_CONSTANT:4,TICK_LENGTH_CONSTANT:10,ZOOM_DISTANCE_MARGIN:25};var Ee=Object.freeze({});!function(e){var t=n(Number.MAX_VALUE,10),i=n(Number.MAX_VALUE,4);function n(e,t){for(var i,n,r=Math.floor(Math.log(e)*Math.LOG10E)-1,a=[],s=-r;s<=r;s++){n=parseFloat("1e"+s);for(var o=1;o<9;o+=t)i=n*o,a.push(i)}return a}var r=function(n,r,s){var o=[],l=-1,d=-1,h=n.getCanvas(),c=t,u=a(r,n),p=r.max;s||(s=.3*Math.sqrt("x"===r.direction?h.width:h.height)),t.some(function(e,t){return e>=u&&(l=t,!0)}),t.some(function(e,t){return e>=p&&(d=t,!0)}),-1===d&&(d=t.length-1),d-l<=s/4&&c.length!==i.length&&(c=i,l*=2,d*=2);var m,f,g,v=null,b=1/s;if(d-l>=s/4){for(var y=d;y>=l;y--)m=c[y],f=(Math.log(m)-Math.log(u))/(Math.log(p)-Math.log(u)),g=m,null===v?v={pixelCoord:f,idealPixelCoord:f}:Math.abs(f-v.pixelCoord)>=b?v={pixelCoord:f,idealPixelCoord:v.idealPixelCoord-b}:g=null,g&&o.push(g);o.reverse()}else{var _=n.computeTickSize(u,p,s),w={min:u,max:p,tickSize:_};o=e.plot.linearTickGenerator(w)}return o},a=function(e,t){var i=e.min,n=e.max;return i<=0&&n<(i=null===e.datamin?e.min=.1:p(t,e))&&(e.max=null!==e.datamax?e.datamax:e.options.max,e.options.offset.below=0,e.options.offset.above=0),i},s=function(t,i,n){var r=t>0?Math.floor(Math.log(t)/Math.LN10):0;if(n)return r>=-4&&r<=7?e.plot.defaultTickFormatter(t,i,n):e.plot.expRepTickFormatter(t,i,n);if(r>=-4&&r<=7){var a=r<0?t.toFixed(-r):t.toFixed(r+2);if(-1!==a.indexOf(".")){for(var s=a.lastIndexOf("0");s===a.length-1;)s=(a=a.slice(0,-1)).lastIndexOf("0");a.indexOf(".")===a.length-1&&(a=a.slice(0,-1))}return a}return e.plot.expRepTickFormatter(t,i)},o=function(e){return e<t[0]&&(e=t[0]),Math.log(e)},l=function(e){return Math.exp(e)},d=function(e){return-e},h=function(e){return-o(e)},c=function(e){return l(-e)};function u(e,t){"log"===t.options.mode&&t.datamin<=0&&(null===t.datamin?t.datamin=.1:t.datamin=p(e,t))}function p(e,t){var i=e.getData().filter(function(e){return e.xaxis===t||e.yaxis===t}).map(function(t){return e.computeRangeForDataSeries(t,null,m)}),n="x"===t.direction?Math.min(.1,i&&i[0]?i[0].xmin:.1):Math.min(.1,i&&i[0]?i[0].ymin:.1);return t.min=n,n}function m(e){return e>0}e.plot.plugins.push({init:function(t){t.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(e,i){var n=i.options;"log"===n.mode?(i.tickGenerator=function(e){return r(t,e,11)},"function"!=typeof i.options.tickFormatter&&(i.options.tickFormatter=s),i.options.transform=n.inverted?h:o,i.options.inverseTransform=n.inverted?c:l,i.options.autoScaleMargin=0,t.hooks.setRange.push(u)):n.inverted&&(i.options.transform=d,i.options.inverseTransform=d)})})},options:{xaxis:{}},name:"log",version:"0.1"}),e.plot.logTicksGenerator=r,e.plot.logTickFormatter=s}(jQuery);var De=Object.freeze({});!function(e){var t=function(e,t,i,n,r){var a=n*Math.sqrt(Math.PI)/2;e.rect(t-a,i-a,a+a,a+a)},i=function(e,t,i,n,r){var a=n*Math.sqrt(Math.PI)/2;e.rect(t-a,i-a,a+a,a+a)},n=function(e,t,i,n,r){var a=n*Math.sqrt(Math.PI/2);e.moveTo(t-a,i),e.lineTo(t,i-a),e.lineTo(t+a,i),e.lineTo(t,i+a),e.lineTo(t-a,i),e.lineTo(t,i-a)},r=function(e,t,i,n,r){var a=n*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),s=a*Math.sin(Math.PI/3);e.moveTo(t-a/2,i+s/2),e.lineTo(t+a/2,i+s/2),r||(e.lineTo(t,i-s/2),e.lineTo(t-a/2,i+s/2),e.lineTo(t+a/2,i+s/2))},a=function(e,t,i,n,r,a){r||(e.moveTo(t+n,i),e.arc(t,i,n,0,2*Math.PI,!1))},s={square:t,rectangle:i,diamond:n,triangle:r,cross:function(e,t,i,n,r){var a=n*Math.sqrt(Math.PI)/2;e.moveTo(t-a,i-a),e.lineTo(t+a,i+a),e.moveTo(t-a,i+a),e.lineTo(t+a,i-a)},ellipse:a,plus:function(e,t,i,n,r){var a=n*Math.sqrt(Math.PI/2);e.moveTo(t-a,i),e.lineTo(t+a,i),e.moveTo(t,i+a),e.lineTo(t,i-a)}};t.fill=!0,i.fill=!0,n.fill=!0,r.fill=!0,a.fill=!0,e.plot.plugins.push({init:function(e){e.drawSymbol=s},name:"symbols",version:"1.0"})}(jQuery);var ke=Object.freeze({});!function(e){function t(e,t,i,n){if(!0===t.flatdata){var r=t.start||0,a="number"==typeof t.step?t.step:1;n.pointsize=2;for(var s=0,o=0;s<i.length;s++,o+=2)n.points[o]=r+s*a,n.points[o+1]=i[s];void 0!==n.points?n.points.length=2*i.length:n.points=[]}}jQuery.plot.plugins.push({init:function(e){e.hooks.processRawData.push(t)},name:"flatdata",version:"0.0.2"})}();var je=Object.freeze({});!function(e){var t=e.plot.saturated,i=e.plot.browser,n=e.plot.uiConstants.SNAPPING_CONSTANT,r=e.plot.uiConstants.PANHINT_LENGTH_CONSTANT;function a(a,s){var o=null,l=!1,d="manual"===s.pan.mode,h="smartLock"===s.pan.mode,c=h||"smart"===s.pan.mode;var u,p="default",m=null,f=null,g={x:0,y:0},v=!1;function b(e,t){var n=Math.abs(e.originalEvent.deltaY)<=1?1+Math.abs(e.originalEvent.deltaY)/50:null;if(v&&C(e),a.getOptions().zoom.active)return e.preventDefault(),function(e,t,n){var r=i.getPageXY(e),s=a.offset();s.left=r.X-s.left,s.top=r.Y-s.top;var o=a.getPlaceholder().offset();o.left=r.X-o.left,o.top=r.Y-o.top;var l=a.getXAxes().concat(a.getYAxes()).filter(function(e){var t=e.box;if(void 0!==t)return o.left>t.left&&o.left<t.left+t.width&&o.top>t.top&&o.top<t.top+t.height});0===l.length&&(l=void 0),t?a.zoomOut({center:s,axes:l,amount:n}):a.zoom({center:s,axes:l,amount:n})}(e,t<0,n),!1}function y(e){l=!0}function _(e){l=!1}function w(e){if(!l||!function(e){return 0===e.button}(e))return!1;v=!0;var t=i.getPageXY(e),n=a.getPlaceholder().offset();n.left=t.X-n.left,n.top=t.Y-n.top,0===(o=a.getXAxes().concat(a.getYAxes()).filter(function(e){var t=e.box;if(void 0!==t)return n.left>t.left&&n.left<t.left+t.width&&n.top>t.top&&n.top<t.top+t.height})).length&&(o=void 0);var r=a.getPlaceholder().css("cursor");r&&(p=r),a.getPlaceholder().css("cursor",a.getOptions().pan.cursor),c?u=a.navigationState(t.X,t.Y):d&&(g.x=t.X,g.y=t.Y)}function x(e){if(v){var t=i.getPageXY(e),n=a.getOptions().pan.frameRate;-1!==n?!f&&n&&(f=setTimeout(function(){c?a.smartPan({x:u.startPageX-t.X,y:u.startPageY-t.Y},u,o,!1,h):d&&(a.pan({left:g.x-t.X,top:g.y-t.Y,axes:o}),g.x=t.X,g.y=t.Y),f=null},1/n*1e3)):c?a.smartPan({x:u.startPageX-t.X,y:u.startPageY-t.Y},u,o,!1,h):d&&(a.pan({left:g.x-t.X,top:g.y-t.Y,axes:o}),g.x=t.X,g.y=t.Y)}}function C(e){if(v){f&&(clearTimeout(f),f=null),v=!1;var t=i.getPageXY(e);a.getPlaceholder().css("cursor",p),c?(a.smartPan({x:u.startPageX-t.X,y:u.startPageY-t.Y},u,o,!1,h),a.smartPan.end()):d&&(a.pan({left:g.x-t.X,top:g.y-t.Y,axes:o}),g.x=0,g.y=0)}}function S(t){if(a.activate(),a.getOptions().recenter.interactive){var i,n=a.getTouchedAxis(t.clientX,t.clientY);a.recenter({axes:n[0]?n:null}),i=n[0]?new e.Event("re-center",{detail:{axisTouched:n[0]}}):new e.Event("re-center",{detail:t}),a.getPlaceholder().trigger(i)}}function T(e){return a.activate(),v&&C(e),!1}a.navigationState=function(e,t){var i=this.getAxes(),n={};return Object.keys(i).forEach(function(e){var t=i[e];n[e]={navigationOffset:{below:t.options.offset.below||0,above:t.options.offset.above||0},axisMin:t.min,axisMax:t.max,diagMode:!1}}),n.startPageX=e||0,n.startPageY=t||0,n},a.activate=function(){var e=a.getOptions();e.pan.active&&e.zoom.active||(e.pan.active=!0,e.zoom.active=!0,a.getPlaceholder().trigger("plotactivated",[a]))},a.zoomOut=function(e){e||(e={}),e.amount||(e.amount=a.getOptions().zoom.amount),e.amount=1/e.amount,a.zoom(e)},a.zoom=function(t){t||(t={});var i=t.center,n=t.amount||a.getOptions().zoom.amount,r=a.width(),s=a.height(),o=t.axes||a.getAxes();i||(i={left:r/2,top:s/2});var l=i.left/r,d=i.top/s,h={x:{min:i.left-l*r/n,max:i.left+(1-l)*r/n},y:{min:i.top-d*s/n,max:i.top+(1-d)*s/n}};for(var c in o)if(o.hasOwnProperty(c)){var u=o[c],p=u.options,m=h[u.direction].min,f=h[u.direction].max,g=u.options.offset;if((p.axisZoom||!t.axes)&&(t.axes||p.plotZoom)){if((m=e.plot.saturated.saturate(u.c2p(m)))>(f=e.plot.saturated.saturate(u.c2p(f)))){var v=m;m=f,f=v}var b=e.plot.saturated.saturate(g.below-(u.min-m)),y=e.plot.saturated.saturate(g.above-(u.max-f));p.offset={below:b,above:y}}}a.setupGrid(!0),a.draw(),t.preventEvent||a.getPlaceholder().trigger("plotzoom",[a,t])},a.pan=function(i){var n={x:+i.left,y:+i.top};isNaN(n.x)&&(n.x=0),isNaN(n.y)&&(n.y=0),e.each(i.axes||a.getAxes(),function(e,r){var a=r.options,s=n[r.direction];if((a.axisPan||!i.axes)&&(a.plotPan||i.axes)&&0!==s){var o=t.saturate(r.c2p(r.p2c(r.min)+s)-r.c2p(r.p2c(r.min))),l=t.saturate(r.c2p(r.p2c(r.max)+s)-r.c2p(r.p2c(r.max)));isFinite(o)||(o=0),isFinite(l)||(l=0),a.offset={below:t.saturate(o+(a.offset.below||0)),above:t.saturate(l+(a.offset.above||0))}}}),a.setupGrid(!0),a.draw(),i.preventEvent||a.getPlaceholder().trigger("plotpan",[a,i])},a.recenter=function(t){e.each(t.axes||a.getAxes(),function(e,i){t.axes?"x"===this.direction?i.options.offset={below:0}:"y"===this.direction&&(i.options.offset={above:0}):i.options.offset={below:0,above:0}}),a.setupGrid(!0),a.draw()};var P=null,I={x:0,y:0};a.smartPan=function(e,i,r,s,o){var l,d,h,c,u,p,f=!!o||function(e){return Math.abs(e.y)<n&&Math.abs(e.x)>=n||Math.abs(e.x)<n&&Math.abs(e.y)>=n}(e),g=a.getAxes();(function(e){return Math.abs(e.x)>0&&Math.abs(e.y)>0})(e=o?function(e){switch(!P&&Math.max(Math.abs(e.x),Math.abs(e.y))>=n&&(P=Math.abs(e.x)<Math.abs(e.y)?"y":"x"),P){case"x":return{x:e.x,y:0};case"y":return{x:0,y:e.y};default:return{x:0,y:0}}}(e):function(e){return Math.abs(e.x)<n&&Math.abs(e.y)>=n?{x:0,y:e.y}:Math.abs(e.y)<n&&Math.abs(e.x)>=n?{x:e.x,y:0}:e}(e))&&(i.diagMode=!0),f&&!0===i.diagMode&&(i.diagMode=!1,function(e,t,i){var n;Object.keys(e).forEach(function(r){n=e[r],0===i[n.direction]&&(n.options.offset.below=t[r].navigationOffset.below,n.options.offset.above=t[r].navigationOffset.above)})}(g,i,e)),m=f?{start:{x:i.startPageX-a.offset().left+a.getPlotOffset().left,y:i.startPageY-a.offset().top+a.getPlotOffset().top},end:{x:i.startPageX-e.x-a.offset().left+a.getPlotOffset().left,y:i.startPageY-e.y-a.offset().top+a.getPlotOffset().top}}:{start:{x:i.startPageX-a.offset().left+a.getPlotOffset().left,y:i.startPageY-a.offset().top+a.getPlotOffset().top},end:!1},isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0),r&&(g=r),Object.keys(g).forEach(function(i){if(d=g[i],h=d.min,c=d.max,l=d.options,p=e[d.direction],u=I[d.direction],(l.axisPan||!r)&&(r||l.plotPan)&&0!==p){var n=t.saturate(d.c2p(d.p2c(h)-(u-p))-d.c2p(d.p2c(h))),a=t.saturate(d.c2p(d.p2c(c)-(u-p))-d.c2p(d.p2c(c)));isFinite(n)||(n=0),isFinite(a)||(a=0),d.options.offset.below=t.saturate(n+(d.options.offset.below||0)),d.options.offset.above=t.saturate(a+(d.options.offset.above||0))}}),I=e,a.setupGrid(!0),a.draw(),s||a.getPlaceholder().trigger("plotpan",[a,e,r,i])},a.smartPan.end=function(){m=null,P=null,I={x:0,y:0},a.triggerRedrawOverlay()},a.getTouchedAxis=function(e,t){var i=a.getPlaceholder().offset();return i.left=e-i.left,i.top=t-i.top,a.getXAxes().concat(a.getYAxes()).filter(function(e){var t=e.box;if(void 0!==t)return i.left>t.left&&i.left<t.left+t.width&&i.top>t.top&&i.top<t.top+t.height})},a.hooks.drawOverlay.push(function(e,t){if(m){t.strokeStyle="rgba(96, 160, 208, 0.7)",t.lineWidth=2,t.lineJoin="round";var i,n,a=Math.round(m.start.x),s=Math.round(m.start.y);if(o?"x"===o[0].direction?(n=Math.round(m.start.y),i=Math.round(m.end.x)):"y"===o[0].direction&&(i=Math.round(m.start.x),n=Math.round(m.end.y)):(i=Math.round(m.end.x),n=Math.round(m.end.y)),t.beginPath(),!1===m.end)t.moveTo(a,s-r),t.lineTo(a,s+r),t.moveTo(a+r,s),t.lineTo(a-r,s);else{var l=s===n;t.moveTo(a-(l?0:r),s-(l?r:0)),t.lineTo(a+(l?0:r),s+(l?r:0)),t.moveTo(a,s),t.lineTo(i,n),t.moveTo(i-(l?0:r),n-(l?r:0)),t.lineTo(i+(l?0:r),n+(l?r:0))}t.stroke()}}),a.hooks.bindEvents.push(function(e,t){var i=e.getOptions();i.zoom.interactive&&t.mousewheel(b),i.pan.interactive&&(e.addEventHandler("dragstart",w,t,0),e.addEventHandler("drag",x,t,0),e.addEventHandler("dragend",C,t,0),t.bind("mousedown",y),t.bind("mouseup",_)),t.dblclick(S),t.click(T)}),a.hooks.shutdown.push(function(e,t){t.unbind("mousewheel",b),t.unbind("mousedown",y),t.unbind("mouseup",_),t.unbind("dragstart",w),t.unbind("drag",x),t.unbind("dragend",C),t.unbind("dblclick",S),t.unbind("click",T),f&&clearTimeout(f)})}e.plot.plugins.push({init:function(e){e.hooks.processOptions.push(a)},options:{zoom:{interactive:!1,active:!1,amount:1.5},pan:{interactive:!1,active:!1,cursor:"move",frameRate:60,mode:"smart"},recenter:{interactive:!0},xaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0},yaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0}},name:"navigate",version:"1.3"})}(jQuery);var Me=Object.freeze({});!function(e){jQuery.plot.plugins.push({init:function(e){e.hooks.processRawData.push(function(e,t,n,r){null!=t.fillBetween&&(format=r.format,format||(format=[],format.push({x:!0,number:!0,computeRange:"none"!==t.xaxis.options.autoScale,required:!0}),format.push({y:!0,number:!0,computeRange:"none"!==t.yaxis.options.autoScale,required:!0}),void 0!==t.fillBetween&&""!==t.fillBetween&&function(t){var n=e.getData();for(i=0;i<n.length;i++)if(n[i].id===t)return!0;return!1}(t.fillBetween)&&t.fillBetween!==t.id&&format.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==t.yaxis.options.autoScale,defaultValue:0}),r.format=format))}),e.hooks.processDatapoints.push(function(e,t,i){if(null!=t.fillBetween){var n=function(e,t){var i;for(i=0;i<t.length;++i)if(t[i].id===e.fillBetween)return t[i];return"number"==typeof e.fillBetween?e.fillBetween<0||e.fillBetween>=t.length?null:t[e.fillBetween]:null}(t,e.getData());if(n){for(var r,a,s,o,l,d,h,c,u=i.pointsize,p=i.points,m=n.datapoints.pointsize,f=n.datapoints.points,g=[],v=t.lines.show,b=u>2&&i.format[2].y,y=v&&t.lines.steps,_=!0,w=0,x=0;!(w>=p.length);){if(h=g.length,null==p[w]){for(c=0;c<u;++c)g.push(p[w+c]);w+=u}else if(x>=f.length){if(!v)for(c=0;c<u;++c)g.push(p[w+c]);w+=u}else if(null==f[x]){for(c=0;c<u;++c)g.push(null);_=!0,x+=m}else{if(r=p[w],a=p[w+1],o=f[x],l=f[x+1],d=0,r===o){for(c=0;c<u;++c)g.push(p[w+c]);d=l,w+=u,x+=m}else if(r>o){if(v&&w>0&&null!=p[w-u]){for(s=a+(p[w-u+1]-a)*(o-r)/(p[w-u]-r),g.push(o),g.push(s),c=2;c<u;++c)g.push(p[w+c]);d=l}x+=m}else{if(_&&v){w+=u;continue}for(c=0;c<u;++c)g.push(p[w+c]);v&&x>0&&null!=f[x-m]&&(d=l+(f[x-m+1]-l)*(r-o)/(f[x-m]-o)),w+=u}_=!1,h!==g.length&&b&&(g[h+2]=d)}if(y&&h!==g.length&&h>0&&null!==g[h]&&g[h]!==g[h-u]&&g[h+1]!==g[h-u+1]){for(c=0;c<u;++c)g[h+u+c]=g[h+c];g[h+1]=g[h-u+1]}}i.points=g}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"})}();var Ae=Object.freeze({});!function(e){jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(e,t,i){if(null!=t.stack&&!1!==t.stack){var n=t.bars.show||t.lines.show&&t.lines.fill,r=i.pointsize>2&&(_?i.format[2].x:i.format[2].y);n&&!r&&function(e,t){for(var i=[],n=0;n<t.points.length;n+=2)i.push(t.points[n]),i.push(t.points[n+1]),i.push(0);t.format.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==e.yaxis.options.autoScale,defaultValue:0}),t.points=i,t.pointsize=3}(t,i);var a=function(e,t){for(var i=null,n=0;n<t.length&&e!==t[n];++n)t[n].stack===e.stack&&(i=t[n]);return i}(t,e.getData());if(a){for(var s,o,l,d,h,c,u,p,m=i.pointsize,f=i.points,g=a.datapoints.pointsize,v=a.datapoints.points,b=[],y=t.lines.show,_=t.bars.horizontal,w=y&&t.lines.steps,x=!0,C=_?1:0,S=_?0:1,T=0,P=0;!(T>=f.length);){if(u=b.length,null==f[T]){for(p=0;p<m;++p)b.push(f[T+p]);T+=m}else if(P>=v.length){if(!y)for(p=0;p<m;++p)b.push(f[T+p]);T+=m}else if(null==v[P]){for(p=0;p<m;++p)b.push(null);x=!0,P+=g}else{if(s=f[T+C],o=f[T+S],d=v[P+C],h=v[P+S],c=0,s===d){for(p=0;p<m;++p)b.push(f[T+p]);b[u+S]+=h,c=h,T+=m,P+=g}else if(s>d){if(y&&T>0&&null!=f[T-m]){for(l=o+(f[T-m+S]-o)*(d-s)/(f[T-m+C]-s),b.push(d),b.push(l+h),p=2;p<m;++p)b.push(f[T+p]);c=h}P+=g}else{if(x&&y){T+=m;continue}for(p=0;p<m;++p)b.push(f[T+p]);y&&P>0&&null!=v[P-g]&&(c=h+(v[P-g+S]-h)*(s-d)/(v[P-g+C]-d)),b[u+S]+=c,T+=m}x=!1,u!==b.length&&n&&(b[u+2]+=c)}if(w&&u!==b.length&&u>0&&null!==b[u]&&b[u]!==b[u-m]&&b[u+1]!==b[u-m+1]){for(p=0;p<m;++p)b[u+m+p]=b[u+p];b[u+1]=b[u-m+1]}}i.points=b}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})}();var Ne=Object.freeze({});!function(e){var t=e.plot.uiConstants.ZOOM_DISTANCE_MARGIN;function i(i,d){var h,c,u,p,m={zoomEnable:!1,prevDistance:null,prevTapTime:0,prevPanPosition:{x:0,y:0},prevTapPosition:{x:0,y:0}},f={prevTouchedAxis:"none",currentTouchedAxis:"none",touchedAxis:null,navigationConstraint:"unconstrained",initialState:null},g=d.pan.interactive&&"manual"===d.pan.touchMode,v="smartLock"===d.pan.touchMode,b=d.pan.interactive&&(v||"smart"===d.pan.touchMode);function y(e,t,r){f.touchedAxis=function(e,t,i,n){if("pinchstart"!==t.type)return"panstart"===t.type?e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY):"pinchend"===t.type?e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY):n.touchedAxis;var r=e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY),a=e.getTouchedAxis(t.detail.touches[1].pageX,t.detail.touches[1].pageY);if(r.length===a.length&&r.toString()===a.toString())return r}(i,e,0,f),n(f)?f.navigationConstraint="unconstrained":f.navigationConstraint="axisConstrained"}h={start:function(e){if(y(e,"pan",m),r(e,"pan",m,f),b){var t=l(e,"pan");f.initialState=i.navigationState(t.x,t.y)}},drag:function(e){if(y(e,"pan",m),b){var t=l(e,"pan");i.smartPan({x:f.initialState.startPageX-t.x,y:f.initialState.startPageY-t.y},f.initialState,f.touchedAxis,!1,v)}else g&&(i.pan({left:-o(e,"pan",m).x,top:-o(e,"pan",m).y,axes:f.touchedAxis}),s(e,"pan",m,f))},end:function(e){y(e,"pan",m),b&&i.smartPan.end(),function(e,t){return t.zoomEnable&&1===e.detail.touches.length}(e,m)&&updateprevPanPosition(e,"pan",m,f)}},c={start:function(e){p&&(clearTimeout(p),p=null),y(e,"pinch",m),function(e,t){t.prevDistance=a(e)}(e,m),r(e,"pinch",m,f)},drag:function(e){p||(p=setTimeout(function(){y(e,"pinch",m),i.pan({left:-o(e,"pinch",m).x,top:-o(e,"pinch",m).y,axes:f.touchedAxis}),s(e,"pinch",m,f);var n=a(e);(m.zoomEnable||Math.abs(n-m.prevDistance)>t)&&(!function(e,t,i,n){var r=e.offset(),s={left:0,top:0},o=a(t)/i.prevDistance,d=a(t);s.left=l(t,"pinch").x-r.left,s.top=l(t,"pinch").y-r.top,e.zoom({center:s,amount:o,axes:n.touchedAxis}),i.prevDistance=d}(i,e,m,f),m.zoomEnable=!0),p=null},1e3/60))},end:function(e){p&&(clearTimeout(p),p=null),y(e,"pinch",m),m.prevDistance=null}},u={recenterPlot:function(t){t&&t.detail&&"touchstart"===t.detail.type&&function(t,i,r,a){if(function(e,t,i){var r=e.getTouchedAxis(t.detail.firstTouch.x,t.detail.firstTouch.y);void 0!==r[0]&&(i.prevTouchedAxis=r[0].direction),void 0!==(r=e.getTouchedAxis(t.detail.secondTouch.x,t.detail.secondTouch.y))[0]&&(i.touchedAxis=r,i.currentTouchedAxis=r[0].direction),n(i)&&(i.touchedAxis=null,i.prevTouchedAxis="none",i.currentTouchedAxis="none")}(t,i,a),"x"===a.currentTouchedAxis&&"x"===a.prevTouchedAxis||"y"===a.currentTouchedAxis&&"y"===a.prevTouchedAxis||"none"===a.currentTouchedAxis&&"none"===a.prevTouchedAxis){var s;t.recenter({axes:a.touchedAxis}),s=a.touchedAxis?new e.Event("re-center",{detail:{axisTouched:a.touchedAxis}}):new e.Event("re-center",{detail:i}),t.getPlaceholder().trigger(s)}}(i,t,0,f)}},!0!==d.pan.enableTouch&&!0!==d.zoom.enableTouch||(i.hooks.bindEvents.push(function(e,t){var i=e.getOptions();i.zoom.interactive&&i.zoom.enableTouch&&(t[0].addEventListener("pinchstart",c.start,!1),t[0].addEventListener("pinchdrag",c.drag,!1),t[0].addEventListener("pinchend",c.end,!1)),i.pan.interactive&&i.pan.enableTouch&&(t[0].addEventListener("panstart",h.start,!1),t[0].addEventListener("pandrag",h.drag,!1),t[0].addEventListener("panend",h.end,!1)),i.recenter.interactive&&i.recenter.enableTouch&&t[0].addEventListener("doubletap",u.recenterPlot,!1)}),i.hooks.shutdown.push(function(e,t){t[0].removeEventListener("panstart",h.start),t[0].removeEventListener("pandrag",h.drag),t[0].removeEventListener("panend",h.end),t[0].removeEventListener("pinchstart",c.start),t[0].removeEventListener("pinchdrag",c.drag),t[0].removeEventListener("pinchend",c.end),t[0].removeEventListener("doubletap",u.recenterPlot)}))}function n(e){return!e.touchedAxis||0===e.touchedAxis.length}function r(e,t,i,n){var r,a=l(e,t);switch(n.navigationConstraint){case"unconstrained":n.touchedAxis=null,i.prevTapPosition={x:i.prevPanPosition.x,y:i.prevPanPosition.y},i.prevPanPosition={x:a.x,y:a.y};break;case"axisConstrained":r=n.touchedAxis[0].direction,n.currentTouchedAxis=r,i.prevTapPosition[r]=i.prevPanPosition[r],i.prevPanPosition[r]=a[r]}}function a(e){var t,i,n,r,a=e.detail.touches[0],s=e.detail.touches[1];return t=a.pageX,i=a.pageY,n=s.pageX,r=s.pageY,Math.sqrt((t-n)*(t-n)+(i-r)*(i-r))}function s(e,t,i,n){var r=l(e,t);switch(n.navigationConstraint){case"unconstrained":i.prevPanPosition.x=r.x,i.prevPanPosition.y=r.y;break;case"axisConstrained":i.prevPanPosition[n.currentTouchedAxis]=r[n.currentTouchedAxis]}}function o(e,t,i){var n=l(e,t);return{x:n.x-i.prevPanPosition.x,y:n.y-i.prevPanPosition.y}}function l(e,t){return"pinch"===t?{x:(e.detail.touches[0].pageX+e.detail.touches[1].pageX)/2,y:(e.detail.touches[0].pageY+e.detail.touches[1].pageY)/2}:{x:e.detail.touches[0].pageX,y:e.detail.touches[0].pageY}}e.plot.plugins.push({init:function(e){e.hooks.processOptions.push(i)},options:{zoom:{enableTouch:!1},pan:{enableTouch:!1,touchMode:"manual"},recenter:{enableTouch:!0}},name:"navigateTouch",version:"0.3"})}(jQuery);var qe=Object.freeze({});!function(e){var t=e.plot.browser,i={click:"click",hover:"hover"};e.plot.plugins.push({init:function(n){var r,a=[];function s(e){var t=n.getOptions(),r=new CustomEvent("mouseevent");return r.pageX=e.detail.changedTouches[0].pageX,r.pageY=e.detail.changedTouches[0].pageY,r.clientX=e.detail.changedTouches[0].clientX,r.clientY=e.detail.changedTouches[0].clientY,t.grid.hoverable&&o(r,i.hover,30),!1}function o(e,t,i){var r=n.getData();if(void 0!==e&&r.length>0&&void 0!==r[0].xaxis.c2p&&void 0!==r[0].yaxis.c2p){var a=t+"able";u("plot"+t,e,function(e){return!1!==r[e][a]},i)}}function l(e){r=e,n.getPlaceholder()[0].lastMouseMoveEvent=e,o(e,i.hover)}function d(e){r=void 0,n.getPlaceholder()[0].lastMouseMoveEvent=void 0,u("plothover",e,function(e){return!1})}function h(e){o(e,i.click)}function c(){n.unhighlight(),n.getPlaceholder().trigger("plothovercleanup")}function u(e,i,r,s){var o=n.getOptions(),l=n.offset(),d=t.getPageXY(i),h=d.X-l.left,c=d.Y-l.top,u=n.c2p({left:h,top:c}),f=void 0!==s?s:o.grid.mouseActiveRadius;u.pageX=d.X,u.pageY=d.Y;var g=n.findNearbyItem(h,c,r,f);if(g&&(g.pageX=parseInt(g.series.xaxis.p2c(g.datapoint[0])+l.left,10),g.pageY=parseInt(g.series.yaxis.p2c(g.datapoint[1])+l.top,10)),o.grid.autoHighlight){for(var v=0;v<a.length;++v){var b=a[v];(b.auto!==e||g&&b.series===g.series&&b.point[0]===g.datapoint[0]&&b.point[1]===g.datapoint[1])&&g||m(b.series,b.point)}g&&p(g.series,g.datapoint,e)}n.getPlaceholder().trigger(e,[u,g])}function p(e,t,i){if("number"==typeof e&&(e=n.getData()[e]),"number"==typeof t){var r=e.datapoints.pointsize;t=e.datapoints.points.slice(r*t,r*(t+1))}var s=f(e,t);-1===s?(a.push({series:e,point:t,auto:i}),n.triggerRedrawOverlay()):i||(a[s].auto=!1)}function m(e,t){if(null==e&&null==t)return a=[],void n.triggerRedrawOverlay();if("number"==typeof e&&(e=n.getData()[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var r=f(e,t);-1!==r&&(a.splice(r,1),n.triggerRedrawOverlay())}function f(e,t){for(var i=0;i<a.length;++i){var n=a[i];if(n.series===e&&n.point[0]===t[0]&&n.point[1]===t[1])return i}return-1}function g(){c(),o(r,i.hover)}function v(){o(r,i.hover)}function b(e,t,i){var n,r,s=e.getPlotOffset();for(t.save(),t.translate(s.left,s.top),n=0;n<a.length;++n)(r=a[n]).series.bars.show?_(r.series,r.point,t):y(r.series,r.point,t,e);t.restore()}function y(t,i,n,r){var a=i[0],s=i[1],o=t.xaxis,l=t.yaxis,d="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(a<o.min||a>o.max||s<l.min||s>l.max)){var h=t.points.radius+t.points.lineWidth/2;n.lineWidth=h,n.strokeStyle=d;var c=1.5*h;a=o.p2c(a),s=l.p2c(s),n.beginPath();var u=t.points.symbol;"circle"===u?n.arc(a,s,c,0,2*Math.PI,!1):"string"==typeof u&&r.drawSymbol&&r.drawSymbol[u]&&r.drawSymbol[u](n,a,s,c,!1),n.closePath(),n.stroke()}}function _(t,i,n){var r,a="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),s=a,o=t.bars.barWidth[0]||t.bars.barWidth;switch(t.bars.align){case"left":r=0;break;case"right":r=-o;break;default:r=-o/2}n.lineWidth=t.bars.lineWidth,n.strokeStyle=a;var l=t.bars.fillTowards||0,d=l>t.yaxis.min?Math.min(t.yaxis.max,l):t.yaxis.min;e.plot.drawSeries.drawBar(i[0],i[1],i[2]||d,r,r+o,function(){return s},t.xaxis,t.yaxis,n,t.bars.horizontal,t.bars.lineWidth)}n.hooks.bindEvents.push(function(e,t){var i=e.getOptions();(i.grid.hoverable||i.grid.clickable)&&(t[0].addEventListener("touchevent",c,!1),t[0].addEventListener("tap",s,!1)),i.grid.clickable&&t.bind("click",h),i.grid.hoverable&&(t.bind("mousemove",l),t.bind("mouseleave",d))}),n.hooks.shutdown.push(function(e,t){t[0].removeEventListener("tap",s),t[0].removeEventListener("touchevent",c),t.unbind("mousemove",l),t.unbind("mouseleave",d),t.unbind("click",h),a=[]}),n.hooks.processOptions.push(function(e,t){e.highlight=p,e.unhighlight=m,(t.grid.hoverable||t.grid.clickable)&&(e.hooks.drawOverlay.push(b),e.hooks.processDatapoints.push(g),e.hooks.setupGrid.push(v)),r=e.getPlaceholder()[0].lastMouseMoveEvent})},options:{grid:{hoverable:!1,clickable:!1}},name:"hover",version:"0.1"})}(jQuery);var Oe=Object.freeze({});!function(e){function t(e,t){var i,n={twoTouches:!1,currentTapStart:{x:0,y:0},currentTapEnd:{x:0,y:0},prevTap:{x:0,y:0},currentTap:{x:0,y:0},interceptedLongTap:!1,isUnsupportedGesture:!1,prevTapTime:null,tapStartTime:null,longTapTriggerId:null},r=20,a=500;function s(t){var s=e.getOptions();(s.pan.active||s.zoom.active)&&(!function(e){e.touches.length>=3?n.isUnsupportedGesture=!0:n.isUnsupportedGesture=!1}(t),i.dispatchEvent(new CustomEvent("touchevent",{detail:t})),v(t)?o(t,"pinch"):(o(t,"pan"),g(t)||(function(e){var t=(new Date).getTime(),i=t-n.prevTapTime;if(i>=0&&i<a&&f(n.prevTap.x,n.prevTap.y,n.currentTap.x,n.currentTap.y)<r)return e.firstTouch=n.prevTap,e.secondTouch=n.currentTap,!0;return n.prevTapTime=t,!1}(t)&&o(t,"doubleTap"),o(t,"tap"),o(t,"longTap"))))}function o(e,t){switch(t){case"pan":l[e.type](e);break;case"pinch":d[e.type](e);break;case"doubleTap":h.onDoubleTap(e);break;case"longTap":c[e.type](e);break;case"tap":u[e.type](e)}}var l={touchstart:function(e){n.prevTap={x:n.currentTap.x,y:n.currentTap.y},p(e),function(e){n.tapStartTime=(new Date).getTime(),n.interceptedLongTap=!1,n.currentTapStart={x:e.touches[0].pageX,y:e.touches[0].pageY},n.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}(e),i.dispatchEvent(new CustomEvent("panstart",{detail:e}))},touchmove:function(e){m(e),p(e),function(e){n.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}(e),n.isUnsupportedGesture||i.dispatchEvent(new CustomEvent("pandrag",{detail:e}))},touchend:function(e){m(e),g(e)?(i.dispatchEvent(new CustomEvent("pinchend",{detail:e})),i.dispatchEvent(new CustomEvent("panstart",{detail:e}))):function(e){return e.touches&&0===e.touches.length}(e)&&i.dispatchEvent(new CustomEvent("panend",{detail:e}))}},d={touchstart:function(e){i.dispatchEvent(new CustomEvent("pinchstart",{detail:e}))},touchmove:function(e){m(e),n.twoTouches=v(e),n.isUnsupportedGesture||i.dispatchEvent(new CustomEvent("pinchdrag",{detail:e}))},touchend:function(e){m(e)}},h={onDoubleTap:function(e){m(e),i.dispatchEvent(new CustomEvent("doubletap",{detail:e}))}},c={touchstart:function(e){c.waitForLongTap(e)},touchmove:function(e){},touchend:function(e){n.longTapTriggerId&&(clearTimeout(n.longTapTriggerId),n.longTapTriggerId=null)},isLongTap:function(e){return(new Date).getTime()-n.tapStartTime>=1500&&!n.interceptedLongTap&&f(n.currentTapStart.x,n.currentTapStart.y,n.currentTapEnd.x,n.currentTapEnd.y)<20&&(n.interceptedLongTap=!0,!0)},waitForLongTap:function(e){n.longTapTriggerId||(n.longTapTriggerId=setTimeout(function(){c.isLongTap(e)&&i.dispatchEvent(new CustomEvent("longtap",{detail:e})),n.longTapTriggerId=null},1500))}},u={touchstart:function(e){n.tapStartTime=(new Date).getTime()},touchmove:function(e){},touchend:function(e){u.isTap(e)&&(i.dispatchEvent(new CustomEvent("tap",{detail:e})),m(e))},isTap:function(e){return(new Date).getTime()-n.tapStartTime<=125&&f(n.currentTapStart.x,n.currentTapStart.y,n.currentTapEnd.x,n.currentTapEnd.y)<20}};function p(e){n.currentTap={x:e.touches[0].pageX,y:e.touches[0].pageY}}function m(t){n.isUnsupportedGesture||(t.preventDefault(),e.getOptions().propagateSupportedGesture||t.stopPropagation())}function f(e,t,i,n){return Math.sqrt((e-i)*(e-i)+(t-n)*(t-n))}function g(e){return n.twoTouches&&1===e.touches.length}function v(t){return!!(t.touches&&t.touches.length>=2&&t.touches[0].target===e.getEventHolder()&&t.touches[1].target===e.getEventHolder())}(!0===t.pan.enableTouch||t.zoom.enableTouch)&&(e.hooks.bindEvents.push(function(e,t){i=t[0],t[0].addEventListener("touchstart",s,!1),t[0].addEventListener("touchmove",s,!1),t[0].addEventListener("touchend",s,!1)}),e.hooks.shutdown.push(function(e,t){t[0].removeEventListener("touchstart",s),t[0].removeEventListener("touchmove",s),t[0].removeEventListener("touchend",s),n.longTapTriggerId&&(clearTimeout(n.longTapTriggerId),n.longTapTriggerId=null)}))}jQuery.plot.plugins.push({init:function(e){e.hooks.processOptions.push(t)},options:{propagateSupportedGesture:!1},name:"navigateTouch",version:"0.3"})}();var Be=Object.freeze({});!function(e){var t=e.plot.saturated.floorInBase,i=function(e,t){var i=new e(t),n=i.setTime.bind(i);i.update=function(e){n(e),e=Math.round(1e3*e)/1e3,this.microseconds=1e3*(e-Math.floor(e))};var r=i.getTime.bind(i);return i.getTime=function(){return r()+this.microseconds/1e3},i.setTime=function(e){this.update(e)},i.getMicroseconds=function(){return this.microseconds},i.setMicroseconds=function(e){var t=r()+e/1e3;this.update(t)},i.setUTCMicroseconds=function(e){this.setMicroseconds(e)},i.getUTCMicroseconds=function(){return this.getMicroseconds()},i.microseconds=null,i.microEpoch=null,i.update(t),i};function n(e,t,i,n){if("function"==typeof e.strftime)return e.strftime(t);var r,a=function(e,t){return t=""+(null==t?"0":t),1==(e=""+e).length?t+e:e},s=function(e,t,i){var n,r=1e3*e+t;if(i<6&&i>0){var a=parseFloat("1e"+(i-6));n=("00000"+(r=Math.round(Math.round(r*a)/a))).slice(-6,-(6-i))}else n=("00000"+(r=Math.round(r))).slice(-6);return n},o=[],l=!1,d=e.getHours(),h=d<12;i||(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),n||(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),r=d>12?d-12:0==d?12:d;for(var c=-1,u=0;u<t.length;++u){var p=t.charAt(u);if(!isNaN(Number(p))&&Number(p)>0)c=Number(p);else if(l){switch(p){case"a":p=""+n[e.getDay()];break;case"b":p=""+i[e.getMonth()];break;case"d":p=a(e.getDate());break;case"e":p=a(e.getDate()," ");break;case"h":case"H":p=a(d);break;case"I":p=a(r);break;case"l":p=a(r," ");break;case"m":p=a(e.getMonth()+1);break;case"M":p=a(e.getMinutes());break;case"q":p=""+(Math.floor(e.getMonth()/3)+1);break;case"S":p=a(e.getSeconds());break;case"s":p=""+s(e.getMilliseconds(),e.getMicroseconds(),c);break;case"y":p=a(e.getFullYear()%100);break;case"Y":p=""+e.getFullYear();break;case"p":p=h?"am":"pm";break;case"P":p=h?"AM":"PM";break;case"w":p=""+e.getDay()}o.push(p),l=!1}else"%"==p?l=!0:o.push(p)}return o.join("")}function r(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};void 0!==e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var n=["Date","Day","FullYear","Hours","Minutes","Month","Seconds","Milliseconds","Microseconds"],r=0;r<n.length;r++)t(i,"get"+n[r],e,"getUTC"+n[r]),t(i,"set"+n[r],e,"setUTC"+n[r]);return i}function a(e,t){if(t&&"seconds"===t.timeBase?e*=1e3:"microseconds"===t.timeBase&&(e/=1e3),e>864e13?e=864e13:e<-864e13&&(e=-864e13),"browser"===t.timezone)return i(Date,e);if(t.timezone&&"utc"!==t.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var n=i(timezoneJS.Date,e);return n.setTimezone(t.timezone),n.setTime(e),n}return r(i(Date,e))}return r(i(Date,e))}var s={microsecond:1e-6,millisecond:.001,second:1,minute:60,hour:3600,day:86400,month:2592e3,quarter:7776e3,year:525949.2*60},o={microsecond:.001,millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l={microsecond:1,millisecond:1e3,second:1e6,minute:6e7,hour:36e8,day:864e8,month:2592e9,quarter:7776e9,year:525949.2*60*1e6},d=[[1,"microsecond"],[2,"microsecond"],[5,"microsecond"],[10,"microsecond"],[25,"microsecond"],[50,"microsecond"],[100,"microsecond"],[250,"microsecond"],[500,"microsecond"],[1,"millisecond"],[2,"millisecond"],[5,"millisecond"],[10,"millisecond"],[25,"millisecond"],[50,"millisecond"],[100,"millisecond"],[250,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],h=d.concat([[3,"month"],[6,"month"],[1,"year"]]),c=d.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function u(e){var i,n=e.options,r=[],d=a(e.min,n),u=0,p=n.tickSize&&"quarter"===n.tickSize[1]||n.minTickSize&&"quarter"===n.minTickSize[1]?c:h;i="seconds"===n.timeBase?s:"microseconds"===n.timeBase?l:o,null!==n.minTickSize&&void 0!==n.minTickSize&&(u="number"==typeof n.tickSize?n.tickSize:n.minTickSize[0]*i[n.minTickSize[1]]);for(var m=0;m<p.length-1&&!(e.delta<(p[m][0]*i[p[m][1]]+p[m+1][0]*i[p[m+1][1]])/2&&p[m][0]*i[p[m][1]]>=u);++m);var f=p[m][0],g=p[m][1];if("year"===g){if(null!==n.minTickSize&&void 0!==n.minTickSize&&"year"===n.minTickSize[1])f=Math.floor(n.minTickSize[0]);else{var v=parseFloat("1e"+Math.floor(Math.log(e.delta/i.year)/Math.LN10)),b=e.delta/i.year/v;f=b<1.5?1:b<3?2:b<7.5?5:10,f*=v}f<1&&(f=1)}e.tickSize=n.tickSize||[f,g];var y=e.tickSize[0],_=y*i[g=e.tickSize[1]];"microsecond"===g?d.setMicroseconds(t(d.getMicroseconds(),y)):"millisecond"===g?d.setMilliseconds(t(d.getMilliseconds(),y)):"second"===g?d.setSeconds(t(d.getSeconds(),y)):"minute"===g?d.setMinutes(t(d.getMinutes(),y)):"hour"===g?d.setHours(t(d.getHours(),y)):"month"===g?d.setMonth(t(d.getMonth(),y)):"quarter"===g?d.setMonth(3*t(d.getMonth()/3,y)):"year"===g&&d.setFullYear(t(d.getFullYear(),y)),_>=i.millisecond&&(_>=i.second?d.setMicroseconds(0):d.setMicroseconds(1e3*d.getMilliseconds())),_>=i.minute&&d.setSeconds(0),_>=i.hour&&d.setMinutes(0),_>=i.day&&d.setHours(0),_>=4*i.day&&d.setDate(1),_>=2*i.month&&d.setMonth(t(d.getMonth(),3)),_>=2*i.quarter&&d.setMonth(t(d.getMonth(),6)),_>=i.year&&d.setMonth(0);var w,x,C=0,S=Number.NaN;do{if(x=S,w=d.getTime(),S=n&&"seconds"===n.timeBase?w/1e3:n&&"microseconds"===n.timeBase?1e3*w:w,r.push(S),"month"===g||"quarter"===g)if(y<1){d.setDate(1);var T=d.getTime();d.setMonth(d.getMonth()+("quarter"===g?3:1));var P=d.getTime();d.setTime(S+C*i.hour+(P-T)*y),C=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+y*("quarter"===g?3:1));else"year"===g?d.setFullYear(d.getFullYear()+y):"seconds"===n.timeBase?d.setTime(1e3*(S+_)):"microseconds"===n.timeBase?d.setTime((S+_)/1e3):d.setTime(S+_)}while(S<e.max&&S!==x);return r}e.plot.plugins.push({init:function(t){t.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(e,t){var i=t.options;"time"===i.mode&&(t.tickGenerator=u,t.tickFormatter=function(e,t){var r=a(e,t.options);if(null!=i.timeformat)return n(r,i.timeformat,i.monthNames,i.dayNames);var d,h=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1];d="seconds"===i.timeBase?s:"microseconds"===i.timeBase?l:o;var c,u,p=t.tickSize[0]*d[t.tickSize[1]],m=t.max-t.min,f=i.twelveHourClock?" %p":"",g=i.twelveHourClock?"%I":"%H";if(c="seconds"===i.timeBase?1:"microseconds"===i.timeBase?1e6:1e3,p<d.second){var v=-Math.floor(Math.log10(p/c));String(p).indexOf("25")>-1&&v++,u="%S.%"+v+"s"}else u=p<d.minute?g+":%M:%S"+f:p<d.day?m<2*d.day?g+":%M"+f:"%b %d "+g+":%M"+f:p<d.month?"%b %d":h&&p<d.quarter||!h&&p<d.year?m<d.year?"%b":"%b %Y":h&&p<d.year?m<d.year?"Q%q":"Q%q %Y":"%Y";return n(r,u,i.monthNames,i.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null,timeBase:"seconds"},yaxis:{timeBase:"seconds"}},name:"time",version:"1.0"}),e.plot.formatDate=n,e.plot.dateGenerator=a,e.plot.dateTickGenerator=u,e.plot.makeUtcWrapper=r}(jQuery);var Re=Object.freeze({});!function(e){function t(e,t,i,n,r,a){this.axisName=e,this.position=t,this.padding=i,this.placeholder=n,this.axisLabel=r,this.surface=a,this.width=0,this.height=0,this.elem=null}t.prototype.calculateSize=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels",n=this.surface.getTextInfo(t,this.axisLabel,i);this.labelWidth=n.width,this.labelHeight=n.height,"left"===this.position||"right"===this.position?(this.width=this.labelHeight+this.padding,this.height=0):(this.width=0,this.height=this.labelHeight+this.padding)},t.prototype.transforms=function(e,t,i,n){var r,a,s=[];if(0===t&&0===i||((r=n.createSVGTransform()).setTranslate(t,i),s.push(r)),0!==e){a=n.createSVGTransform();var o=Math.round(this.labelWidth/2);a.setRotate(e,o,0),s.push(a)}return s},t.prototype.calculateOffsets=function(e){var t={x:0,y:0,degrees:0};return"bottom"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top+e.height-this.labelHeight):"top"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top):"left"===this.position?(t.degrees=-90,t.x=e.left-this.labelWidth/2,t.y=e.height/2+e.top):"right"===this.position&&(t.degrees=90,t.x=e.left+e.width-this.labelWidth/2,t.y=e.height/2+e.top),t.x=Math.round(t.x),t.y=Math.round(t.y),t},t.prototype.cleanup=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels";this.surface.removeText(t,0,0,this.axisLabel,i)},t.prototype.draw=function(e){var t=this.axisName+"Label",i=t+"Layer",n=t+" axisLabels",r=this.calculateOffsets(e),a={position:"absolute",bottom:"",right:"",display:"inline-block","white-space":"nowrap"},s=this.surface.getSVGLayer(i),o=this.transforms(r.degrees,r.x,r.y,s.parentNode);this.surface.addText(i,0,0,this.axisLabel,n,void 0,void 0,void 0,void 0,o),this.surface.render(),Object.keys(a).forEach(function(e){s.style[e]=a[e]})},e.plot.plugins.push({init:function(i){i.hooks.processOptions.push(function(i,n){if(n.axisLabels.show){var r={};i.hooks.axisReserveSpace.push(function(e,i){var n=i.options,a=i.direction+i.n;if(i.labelHeight+=i.boxPosition.centerY,i.labelWidth+=i.boxPosition.centerX,n&&n.axisLabel&&i.show){var s=void 0===n.axisLabelPadding?2:n.axisLabelPadding,o=r[a];o||(o=new t(a,n.position,s,e.getPlaceholder()[0],n.axisLabel,e.getSurface()),r[a]=o),o.calculateSize(),i.labelHeight+=o.height,i.labelWidth+=o.width}}),i.hooks.draw.push(function(t,i){e.each(t.getAxes(),function(e,t){var i=t.options;if(i&&i.axisLabel&&t.show){var n=t.direction+t.n;r[n].draw(t.box)}})}),i.hooks.shutdown.push(function(e,t){for(var i in r)r[i].cleanup()})}})},options:{axisLabels:{show:!0}},name:"axisLabels",version:"3.0"})}(jQuery);var Ve=Object.freeze({});!function(e){e.plot.plugins.push({init:function(t){var i={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,currentMode:"xy",active:!1},n=e.plot.uiConstants.SNAPPING_CONSTANT,r={};function a(e){i.active&&(p(e),t.getPlaceholder().trigger("plotselecting",[l()]))}function s(e){var n=t.getOptions();1===e.which&&null!==n.selection.mode&&(i.currentMode="xy",document.body.focus(),void 0!==document.onselectstart&&null==r.onselectstart&&(r.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==r.ondrag&&(r.ondrag=document.ondrag,document.ondrag=function(){return!1}),u(i.first,e),i.active=!0)}function o(e){return void 0!==document.onselectstart&&(document.onselectstart=r.onselectstart),void 0!==document.ondrag&&(document.ondrag=r.ondrag),i.active=!1,p(e),g()?d():(t.getPlaceholder().trigger("plotunselected",[]),t.getPlaceholder().trigger("plotselecting",[null])),!1}function l(){if(!g())return null;if(!i.show)return null;var n={},r={x:i.first.x,y:i.first.y},a={x:i.second.x,y:i.second.y};return"x"===c(t)&&(r.y=0,a.y=t.height()),"y"===c(t)&&(r.x=0,a.x=t.width()),e.each(t.getAxes(),function(e,t){if(t.used){var i=t.c2p(r[t.direction]),s=t.c2p(a[t.direction]);n[e]={from:Math.min(i,s),to:Math.max(i,s)}}}),n}function d(){var e=l();t.getPlaceholder().trigger("plotselected",[e]),e.xaxis&&e.yaxis&&t.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function h(e,t,i){return t<e?e:t>i?i:t}function c(e){var t=e.getOptions();return"smart"===t.selection.mode?i.currentMode:t.selection.mode}function u(e,r){var a=t.getPlaceholder().offset(),s=t.getPlotOffset();e.x=h(0,r.pageX-a.left-s.left,t.width()),e.y=h(0,r.pageY-a.top-s.top,t.height()),e!==i.first&&function(e){if(i.first){var t={x:e.x-i.first.x,y:e.y-i.first.y};Math.abs(t.x)<n?i.currentMode="y":Math.abs(t.y)<n?i.currentMode="x":i.currentMode="xy"}}(e),"y"===c(t)&&(e.x=e===i.first?0:t.width()),"x"===c(t)&&(e.y=e===i.first?0:t.height())}function p(e){null!=e.pageX&&(u(i.second,e),g()?(i.show=!0,t.triggerRedrawOverlay()):m(!0))}function m(e){i.show&&(i.show=!1,i.currentMode="",t.triggerRedrawOverlay(),e||t.getPlaceholder().trigger("plotunselected",[]))}function f(e,i){var n,r,a,s,o=t.getAxes();for(var l in o)if((n=o[l]).direction===i&&(e[s=i+n.n+"axis"]||1!==n.n||(s=i+"axis"),e[s])){r=e[s].from,a=e[s].to;break}if(e[s]||(n="x"===i?t.getXAxes()[0]:t.getYAxes()[0],r=e[i+"1"],a=e[i+"2"]),null!=r&&null!=a&&r>a){var d=r;r=a,a=d}return{from:r,to:a,axis:n}}function g(){var e=t.getOptions().selection.minSize;return Math.abs(i.second.x-i.first.x)>=e&&Math.abs(i.second.y-i.first.y)>=e}t.clearSelection=m,t.setSelection=function(e,n){var r;"y"===c(t)?(i.first.x=0,i.second.x=t.width()):(r=f(e,"x"),i.first.x=r.axis.p2c(r.from),i.second.x=r.axis.p2c(r.to)),"x"===c(t)?(i.first.y=0,i.second.y=t.height()):(r=f(e,"y"),i.first.y=r.axis.p2c(r.from),i.second.y=r.axis.p2c(r.to)),i.show=!0,t.triggerRedrawOverlay(),!n&&g()&&d()},t.getSelection=l,t.hooks.bindEvents.push(function(e,t){null!=e.getOptions().selection.mode&&(e.addEventHandler("dragstart",s,t,0),e.addEventHandler("drag",a,t,0),e.addEventHandler("dragend",o,t,0))}),t.hooks.drawOverlay.push(function(t,n){if(i.show&&g()){var r=t.getPlotOffset(),a=t.getOptions();n.save(),n.translate(r.left,r.top);var s=e.color.parse(a.selection.color),o=a.selection.visualization,l=1;"fill"===o&&(l=.8),n.strokeStyle=s.scale("a",l).toString(),n.lineWidth=1,n.lineJoin=a.selection.shape,n.fillStyle=s.scale("a",.4).toString();var d=Math.min(i.first.x,i.second.x)+.5,h=d,u=Math.min(i.first.y,i.second.y)+.5,p=u,m=Math.abs(i.second.x-i.first.x)-1,f=Math.abs(i.second.y-i.first.y)-1;"x"===c(t)&&(f+=u,u=0),"y"===c(t)&&(m+=d,d=0),"fill"===o?(n.fillRect(d,u,m,f),n.strokeRect(d,u,m,f)):(n.fillRect(0,0,t.width(),t.height()),n.clearRect(d,u,m,f),function(e,t,i,n,r,a,s,o){var l=Math.max(0,Math.min(15,n/2-2,r/2-2));e.fillStyle="#ffffff","xy"===o&&(e.beginPath(),e.moveTo(t,i+l),e.lineTo(t-3,i+l),e.lineTo(t-3,i-3),e.lineTo(t+l,i-3),e.lineTo(t+l,i),e.lineTo(t,i),e.closePath(),e.moveTo(t,i+r-l),e.lineTo(t-3,i+r-l),e.lineTo(t-3,i+r+3),e.lineTo(t+l,i+r+3),e.lineTo(t+l,i+r),e.lineTo(t,i+r),e.closePath(),e.moveTo(t+n,i+l),e.lineTo(t+n+3,i+l),e.lineTo(t+n+3,i-3),e.lineTo(t+n-l,i-3),e.lineTo(t+n-l,i),e.lineTo(t+n,i),e.closePath(),e.moveTo(t+n,i+r-l),e.lineTo(t+n+3,i+r-l),e.lineTo(t+n+3,i+r+3),e.lineTo(t+n-l,i+r+3),e.lineTo(t+n-l,i+r),e.lineTo(t+n,i+r),e.closePath(),e.stroke(),e.fill()),t=a,i=s,"x"===o&&(e.beginPath(),e.moveTo(t,i+15),e.lineTo(t,i-15),e.lineTo(t-3,i-15),e.lineTo(t-3,i+15),e.closePath(),e.moveTo(t+n,i+15),e.lineTo(t+n,i-15),e.lineTo(t+n+3,i-15),e.lineTo(t+n+3,i+15),e.closePath(),e.stroke(),e.fill()),"y"===o&&(e.beginPath(),e.moveTo(t-15,i),e.lineTo(t+15,i),e.lineTo(t+15,i-3),e.lineTo(t-15,i-3),e.closePath(),e.moveTo(t-15,i+r),e.lineTo(t+15,i+r),e.lineTo(t+15,i+r+3),e.lineTo(t-15,i+r+3),e.closePath(),e.stroke(),e.fill())}(n,d,u,m,f,h,p,c(t))),n.restore()}}),t.hooks.shutdown.push(function(e,t){t.unbind("dragstart",s),t.unbind("drag",a),t.unbind("dragend",o)})},options:{selection:{mode:null,visualization:"focus",color:"#888888",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery);var He=Object.freeze({});!function(e){const t=-100,i=0,n=-1,r=-2;var a=1,s=e.plot.browser,o=s.getPixelRatio;function l(e,t){var l=e.filter(d);a=o(t.getContext("2d"));var m=l.map(function(e){var t=new Image;return new Promise(function(e,t){return e.sourceDescription='<info className="'+t.className+'" tagName="'+t.tagName+'" id="'+t.id+'">',e.sourceComponent=t,function(i,n){var r,a,o,l,d;e.onload=function(t){e.successfullyLoaded=!0,i(e)},e.onabort=function(t){e.successfullyLoaded=!1,console.log("Can't generate temp image from "+e.sourceDescription+". It is possible that it is missing some properties or its content is not supported by this browser. Source component:",e.sourceComponent),i(e)},e.onerror=function(t){e.successfullyLoaded=!1,console.log("Can't generate temp image from "+e.sourceDescription+". It is possible that it is missing some properties or its content is not supported by this browser. Source component:",e.sourceComponent),i(e)},l=e,"CANVAS"===(o=t).tagName&&(d=o,l.src=d.toDataURL("image/png")),"svg"===o.tagName&&(r=o,a=l,s.isSafari()||s.isMobileSafari()?function(e,t){var i,n,r=c(h(document),e);r=u(r),n=function(e){var t="";const i=new Uint8Array(e);for(var n=0;n<i.length;n+=16384){const e=String.fromCharCode.apply(null,i.subarray(n,n+16384));t+=e}return t}(new(TextEncoder||TextEncoderLite)("utf-8").encode(r)),i="data:image/svg+xml;base64,"+btoa(n),t.src=i}(r,a):function(e,t){var i=c(h(document),e);i=u(i);var n=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),r=(self.URL||self.webkitURL||self).createObjectURL(n);t.src=r}(r,a)),l.srcImgTagName=o.tagName,function(e,t){t.genLeft=e.getBoundingClientRect().left,t.genTop=e.getBoundingClientRect().top,"CANVAS"===e.tagName&&(t.genRight=t.genLeft+e.width,t.genBottom=t.genTop+e.height),"svg"===e.tagName&&(t.genRight=e.getBoundingClientRect().right,t.genBottom=e.getBoundingClientRect().bottom)}(o,l)}}(t,e))});return Promise.all(m).then(function(e){return function(t){var s=function(e,t){var s=function(e,t){var s=i;if(0===e.length)s=n;else{var o=e[0].genLeft,l=e[0].genTop,d=e[0].genRight,h=e[0].genBottom,c=0;for(c=1;c<e.length;c++)o>e[c].genLeft&&(o=e[c].genLeft),l>e[c].genTop&&(l=e[c].genTop);for(c=1;c<e.length;c++)d<e[c].genRight&&(d=e[c].genRight),h<e[c].genBottom&&(h=e[c].genBottom);if(d-o<=0||h-l<=0)s=r;else{for(t.width=Math.round(d-o),t.height=Math.round(h-l),c=0;c<e.length;c++)e[c].xCompOffset=e[c].genLeft-o,e[c].yCompOffset=e[c].genTop-l;!function(e,t){void 0!==t.find(function(e){return"svg"===e.srcImgTagName})&&a<1&&(e.width=e.width*a,e.height=e.height*a)}(t,e)}}return s}(e,t);if(s===i)for(var o=t.getContext("2d"),l=0;l<e.length;l++)!0===e[l].successfullyLoaded&&o.drawImage(e[l],e[l].xCompOffset*a,e[l].yCompOffset*a);return s}(t,e);return s}}(t),p)}function d(e){var t=!0,i=!0;return null==e?i=!1:"CANVAS"===e.tagName&&(e.getBoundingClientRect().right!==e.getBoundingClientRect().left&&e.getBoundingClientRect().bottom!==e.getBoundingClientRect().top||(t=!1)),i&&t&&"visible"===window.getComputedStyle(e).visibility}function h(e){for(var t=e.styleSheets,i=[],n=0;n<t.length;n++)try{for(var r=t[n].cssRules||[],a=0;a<r.length;a++){var s=r[a];i.push(s.cssText)}}catch(e){console.log("Failed to get some css rules")}return i}function c(e,t){return['<svg class="snapshot '+t.classList+'" width="'+t.width.baseVal.value*a+'" height="'+t.height.baseVal.value*a+'" viewBox="0 0 '+t.width.baseVal.value+" "+t.height.baseVal.value+'" xmlns="http://www.w3.org/2000/svg">',"<style>","/* <![CDATA[ */",e.join("\n"),"/* ]]> */","</style>",t.innerHTML,"</svg>"].join("\n")}function u(e){var t="";return e.match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(t=e.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),e.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(t=e.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),'<?xml version="1.0" standalone="no"?>\r\n'+t}function p(){return t}e.plot.composeImages=l,e.plot.plugins.push({init:function(e){e.composeImages=l},name:"composeImages",version:"1.0"})}(jQuery);var Le=Object.freeze({});!function(e){function t(e){var t="",i=e.name,n=e.xPos,r=e.yPos,a=e.fillColor,s=e.strokeColor,o=e.strokeWidth;switch(i){case"circle":t='<use xlink:href="#circle" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+a+'" stroke="'+s+'" stroke-width="'+o+'" width="1.5em" height="1.5em"/>';break;case"diamond":t='<use xlink:href="#diamond" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+a+'" stroke="'+s+'" stroke-width="'+o+'" width="1.5em" height="1.5em"/>';break;case"cross":t='<use xlink:href="#cross" class="legendIcon" x="'+n+'" y="'+r+'" stroke="'+s+'" stroke-width="'+o+'" width="1.5em" height="1.5em"/>';break;case"rectangle":t='<use xlink:href="#rectangle" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+a+'" stroke="'+s+'" stroke-width="'+o+'" width="1.5em" height="1.5em"/>';break;case"plus":t='<use xlink:href="#plus" class="legendIcon" x="'+n+'" y="'+r+'" stroke="'+s+'" stroke-width="'+o+'" width="1.5em" height="1.5em"/>';break;case"bar":t='<use xlink:href="#bars" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+a+'" width="1.5em" height="1.5em"/>';break;case"area":t='<use xlink:href="#area" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+a+'" width="1.5em" height="1.5em"/>';break;case"line":t='<use xlink:href="#line" class="legendIcon" x="'+n+'" y="'+r+'" stroke="'+s+'" stroke-width="'+o+'" width="1.5em" height="1.5em"/>';break;default:t='<use xlink:href="#circle" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+a+'" stroke="'+s+'" stroke-width="'+o+'" width="1.5em" height="1.5em"/>'}return t}var i='<defs><symbol id="line" fill="none" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0"/></symbol><symbol id="area" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0, 15,15, 0,15"/></symbol><symbol id="bars" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"/></symbol><symbol id="circle" viewBox="-5 -5 25 25"><circle cx="0" cy="15" r="2.5"/><circle cx="5" cy="5" r="2.5"/><circle cx="10" cy="10" r="2.5"/><circle cx="15" cy="0" r="2.5"/></symbol><symbol id="rectangle" viewBox="-5 -5 25 25"><rect x="-2.1" y="12.9" width="4.2" height="4.2"/><rect x="2.9" y="2.9" width="4.2" height="4.2"/><rect x="7.9" y="7.9" width="4.2" height="4.2"/><rect x="12.9" y="-2.1" width="4.2" height="4.2"/></symbol><symbol id="diamond" viewBox="-5 -5 25 25"><path d="M-3,15 L0,12 L3,15, L0,18 Z"/><path d="M2,5 L5,2 L8,5, L5,8 Z"/><path d="M7,10 L10,7 L13,10, L10,13 Z"/><path d="M12,0 L15,-3 L18,0, L15,3 Z"/></symbol><symbol id="cross" fill="none" viewBox="-5 -5 25 25"><path d="M-2.1,12.9 L2.1,17.1, M2.1,12.9 L-2.1,17.1 Z"/><path d="M2.9,2.9 L7.1,7.1 M7.1,2.9 L2.9,7.1 Z"/><path d="M7.9,7.9 L12.1,12.1 M12.1,7.9 L7.9,12.1 Z"/><path d="M12.9,-2.1 L17.1,2.1 M17.1,-2.1 L12.9,2.1 Z"/></symbol><symbol id="plus" fill="none" viewBox="-5 -5 25 25"><path d="M0,12 L0,18, M-3,15 L3,15 Z"/><path d="M5,2 L5,8 M2,5 L8,5 Z"/><path d="M10,7 L10,13 M7,10 L13,10 Z"/><path d="M15,-3 L15,3 M12,0 L18,0 Z"/></symbol></defs>';function n(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!0;return!1}e.plot.plugins.push({init:function(r){r.hooks.setupGrid.push(function(r){var a=r.getOptions(),s=r.getData(),o=a.legend.labelFormatter,l=a.legend.legendEntries,d=a.legend.plotOffset,h=function(t,i,n){var r=i,a=t.reduce(function(e,t,i){var n=r?r(t.label,t):t.label;if(!t.hasOwnProperty("label")||n){var a={label:n||"Plot "+(i+1),color:t.color,options:{lines:t.lines,points:t.points,bars:t.bars}};e.push(a)}return e},[]);if(n)if(e.isFunction(n))a.sort(n);else if("reverse"===n)a.reverse();else{var s="descending"!==n;a.sort(function(e,t){return e.label===t.label?0:e.label<t.label!==s?1:-1})}return a}(s,o,a.legend.sorted),c=r.getPlotOffset();(function(e,t){if(!e||!t)return!0;if(e.length!==t.length)return!0;var i,r,a;for(i=0;i<t.length;i++){if(r=t[i],a=e[i],r.label!==a.label)return!0;if(r.color!==a.color)return!0;if(n(r.options.lines,a.options.lines))return!0;if(n(r.options.points,a.options.points))return!0;if(n(r.options.bars,a.options.bars))return!0}return!1}(l,h)||n(d,c))&&function(n,r,a,s){if(null!=r.legend.container?e(r.legend.container).html(""):a.find(".legend").remove(),r.legend.show){var o,l,d,h,c=r.legend.legendEntries=s,u=r.legend.plotOffset=n.getPlotOffset(),p=[],m=0,f="",g=r.legend.position,v=r.legend.margin,b={name:"",label:"",xPos:"",yPos:""};p[m++]='<svg class="legendLayer" style="width:inherit;height:inherit;">',p[m++]='<rect class="background" width="100%" height="100%"/>',p[m++]=i;var y=0,_=[],w=window.getComputedStyle(document.querySelector("body"));for(h=0;h<c.length;++h){var x=h%r.legend.noColumns;o=c[h],b.label=o.label;var C=n.getSurface().getTextInfo("",b.label,{style:w.fontStyle,variant:w.fontVariant,weight:w.fontWeight,size:parseInt(w.fontSize),lineHeight:parseInt(w.lineHeight),family:w.fontFamily}).width;_[x]?C>_[x]&&(_[x]=C+48):_[x]=C+48}for(h=0;h<c.length;++h)x=h%r.legend.noColumns,o=c[h],d="",b.label=o.label,b.xPos=y+3+"px",y+=_[x],(h+1)%r.legend.noColumns==0&&(y=0),b.yPos=1.5*Math.floor(h/r.legend.noColumns)+"em",o.options.lines.show&&o.options.lines.fill&&(b.name="area",b.fillColor=o.color,d+=t(b)),o.options.bars.show&&(b.name="bar",b.fillColor=o.color,d+=t(b)),o.options.lines.show&&!o.options.lines.fill&&(b.name="line",b.strokeColor=o.color,b.strokeWidth=o.options.lines.lineWidth,d+=t(b)),o.options.points.show&&(b.name=o.options.points.symbol,b.strokeColor=o.color,b.fillColor=o.options.points.fillColor,b.strokeWidth=o.options.points.lineWidth,d+=t(b)),l='<text x="'+b.xPos+'" y="'+b.yPos+'" text-anchor="start"><tspan dx="2em" dy="1.2em">'+b.label+"</tspan></text>",p[m++]="<g>"+d+l+"</g>";p[m++]="</svg>",null==v[0]&&(v=[v,v]),"n"===g.charAt(0)?f+="top:"+(v[1]+u.top)+"px;":"s"===g.charAt(0)&&(f+="bottom:"+(v[1]+u.bottom)+"px;"),"e"===g.charAt(1)?f+="right:"+(v[0]+u.right)+"px;":"w"===g.charAt(1)&&(f+="left:"+(v[0]+u.left)+"px;");var S=6;for(h=0;h<_.length;++h)S+=_[h];var T,P=1.6*Math.ceil(c.length/r.legend.noColumns);r.legend.container?(T=e(p.join("")).appendTo(r.legend.container)[0],r.legend.container.style.width=S+"px",r.legend.container.style.height=P+"em"):((T=e('<div class="legend" style="position:absolute;'+f+'">'+p.join("")+"</div>").appendTo(a)).css("width",S+"px"),T.css("height",P+"em"),T.css("pointerEvents","none"))}}(r,a,r.getPlaceholder(),h)})},options:{legend:{show:!1,noColumns:1,labelFormatter:null,container:null,position:"ne",margin:5,sorted:null}},name:"legend",version:"1.0"})}(jQuery);var ze=Object.freeze({});!function(e){function t(){if(!(this instanceof t))return arguments.length>1||"number"!=typeof arguments[0]?t.apply(new t(arguments.length),arguments):new t(arguments[0]);if(0===arguments.length)throw new Error("Missing Argument: You must pass a valid buffer length");return this.size=this.start=0,this.overflow=null,arguments.length>1||"number"!=typeof arguments[0]?(this.data=new Array(arguments.length),this.end=(this.length=arguments.length)-1,this.push.apply(this,arguments)):(this.data=new Array(arguments[0]),this.end=(this.length=arguments[0])-1),this}function i(e,t){return e==t?0:e>t?1:-1}t.prototype={constructor:t,pop:function(){var e;if(0!==this.size)return e=this.data[this.end],delete this.data[this.end],this.end=(this.end-1+this.length)%this.length,this.size--,e},push:function(e){return this.data[(this.end+1)%this.length]=e,this.size<this.length&&this.size++,this.end=(this.end+1)%this.length,this.start=(this.length+this.end-this.size+1)%this.length,this.size},reverse:function(){for(var e,t=0;t<~~(this.size/2);t++)e=this.data[(this.start+t)%this.length],this.data[(this.start+t)%this.length]=this.data[(this.start+(this.size-t-1))%this.length],this.data[(this.start+(this.size-t-1))%this.length]=e;return this},rotateLeft:function(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number");for(;--e>=0;)this.push(this.shift());return this},rotateRight:function(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number");for(;--e>=0;)this.unshift(this.pop());return this},shift:function(){var e;if(0!==this.size)return e=this.data[this.start],this.start=(this.start+1)%this.length,this.size--,e},sort:function(e){return this.data.sort(e||i),this.start=0,this.end=this.size-1,this},unshift:function(){var e=0;if(this.overflow&&this.size+arguments.length>this.length)for(;e<this.size+arguments.length-this.length;e++)this.overflow(this.data[this.end-e%this.length],this);for(e=0;e<arguments.length;e++)this.data[(this.length+this.start-e%this.length-1)%this.length]=arguments[e];return this.length-this.size-e<0&&(this.end+=this.length-this.size-e,this.end<0&&(this.end=this.length+this.end%this.length)),this.size<this.length&&(this.size+e>this.length?this.size=this.length:this.size+=e),this.start-=arguments.length,this.start<0&&(this.start=this.length+this.start%this.length),this.size},indexOf:function(e,t){for(t||(t=0);t<this.size;t++)if(this.data[(this.start+t)%this.length]===e)return t;return-1},lastIndexOf:function(e,t){for(t||(t=this.size-1);t>=0;t--)if(this.data[(this.start+t)%this.length]===e)return t;return-1},sortedIndex:function(e,t,n){t=t||i;var r=this.start,a=this.size-1;for(r&&t.call(n,e,this.data[a])>0&&(r=0,a=this.end);r<a;){var s=r+a>>>1;t.call(n,e,this.data[s])>0?r=s+1:a=s}return((r-this.start)%this.size+this.size)%this.size},every:function(e,t){for(var i=0;i<this.size;i++)if(!e.call(t,this.data[(this.start+i)%this.length],i,this))return!1;return!0},forEach:function(e,t){for(var i=0;i<this.size;i++)e.call(t,this.data[(this.start+i)%this.length],i,this)},some:function(e,t){for(var i=0;i<this.size;i++)if(e.call(t,this.data[(this.start+i)%this.length],i,this))return!0;return!1},avg:function(){return 0==this.size?0:this.sum()/this.size},sum:function(){for(var e=this.size,t=0;e--;)t+=this.data[e];return t},median:function(){if(0===this.size)return 0;var e=this.slice().sort(i),t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},empty:function(){return this.size=this.start=0,this.end=this.length-1,this},fill:function(e){var t=0;if("function"==typeof e)for(;this.data[t]=e(),++t<this.length;);else for(;this.data[t]=e,++t<this.length;);return this.start=0,this.end=this.length-1,this.size=this.length,this},first:function(){return this.data[this.start]},last:function(){return this.data[this.end]},get:function(e){return this.data[(this.start+e)%this.length]},isFull:function(e){return this.length===this.size},set:function(e,t){return this.data[(this.start+e)%this.length]=t},toArray:function(){return this.slice()},slice:function(e,t){var i=this.size;if((e=+e||0)<0){if(e>=t)return[];e=-e>i?0:i+e}null==t||t>i?t=i:t<0?t+=i:t=+t||0,i=e<t?t-e:0;for(var n=Array(i),r=0;r<i;r++)n[r]=this.data[(this.start+e+r)%this.length];return n}},"object"==typeof module&&module.exports?module.exports=t:e.CBuffer=t}(window);var Fe=Object.freeze({});!function(e){var t=function(e,t){this.hb=new HistoryBufferNumeric(e,t),this.hbType="numeric"};t.prototype.setType=function(e){if(e!==this.hbType){if("numeric"===e){var t=this.hb.callbacks;this.hb.callbacks=void 0,this.hb=new HistoryBufferNumeric(this.capacity,this.width),t.forEach((e,t)=>{this.hb.registerOnChange(t,e)}),this.hbType="numeric",this.hb.callOnChange()}if("analogWaveform"===e){t=this.hb.callbacks;this.hb.callbacks=void 0,this.hb=new HistoryBufferWaveform(this.capacity,this.width),t.forEach((e,t)=>{this.hb.registerOnChange(t,e)}),this.hbType="analogWaveform",this.hb.callOnChange()}}},t.prototype.clear=function(){this.hb.clear()},t.prototype.setCapacity=function(e){this.hb.setCapacity(e)},t.prototype.setWidth=function(e){this.hb.setWidth(e)},t.prototype.push=function(e){this.hb.push(e)},t.prototype.startIndex=function(){return this.hb.startIndex()},t.prototype.lastIndex=function(){return this.hb.lastIndex()},t.prototype.get=function(e){return this.hb.get(e)},t.prototype.appendArray=function(e){this.hb.appendArray(e)},t.prototype.toArray=function(){return this.hb.toArray()},t.prototype.toDataSeries=function(e){return this.hb.toDataSeries(e)},t.prototype.registerOnChange=function(e,t){this.hb.registerOnChange(e,t)},t.prototype.deregisterOnChange=function(e,t){this.hb.deregisterOnChange(e,t)},t.prototype.query=function(e,t,i,n){return this.hb.query(e,t,i,n)},t.prototype.rangeX=function(e){return this.hb.rangeX(e)},t.prototype.rangeY=function(e,t,i){return this.hb.rangeY(e,t,i)},t.prototype.toJSON=function(){return this.hb.toJSON()},Object.defineProperty(t.prototype,"width",{get:function(){return this.hb.width}}),Object.defineProperty(t.prototype,"count",{get:function(){return this.hb.count},set:function(e){this.hb.count=e}}),Object.defineProperty(t.prototype,"capacity",{get:function(){return this.hb.capacity}}),"object"==typeof module&&module.exports?module.exports=t:e.HistoryBuffer=t}(window);var Ue=Object.freeze({});!function(e){var t=function(e,t){this.capacity=e||1024,this.width=t||1,this.lastUpdatedIndex=0,this.firstUpdatedIndex=0,this.branchFactor=32,this.buffers=[],this.trees=[];for(var i=0;i<this.width;i++)this.buffers.push(new CBuffer(e)),this.trees.push(new SegmentTree(this,this.buffers[i]));this.buffer=this.buffers[0],this.tree=this.trees[0],this.count=0,this.callbacks=new Map,this.changed=!1};t.prototype.callOnChange=function(e){this.callbacks.forEach(t=>{t(e)})},t.prototype.setBranchingFactor=function(e){this.branchFactor=e,this.rebuildSegmentTrees()},t.prototype.getDefaultBranchingFactor=function(){return 32},t.prototype.rebuildSegmentTrees=function(){this.trees=[];for(var e=0;e<this.width;e++)this.trees.push(new SegmentTree(this,this.buffers[e]));this.tree=this.trees[0],this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex,this.updateSegmentTrees()},t.prototype.clear=function(){for(var e=0;e<this.width;e++)this.buffers[e].empty();this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.setCapacity=function(e){if(e!==this.capacity){this.capacity=e,this.buffers=[];for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(e));this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},t.prototype.setWidth=function(e){if(e!==this.width){this.width=e,this.buffers=[];for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(this.capacity));this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},t.prototype.getWidth=function(){return this.width},t.prototype.pushNoStatsUpdate=function(e){if("number"==typeof e&&1===this.width)this.buffer.push(e);else if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])},t.prototype.push=function(e){this.pushNoStatsUpdate(e),this.count++,this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.startIndex=function(){return Math.max(0,this.count-this.capacity)},t.prototype.lastIndex=function(){return this.startIndex()+this.buffer.size},t.prototype.get=function(e){if(e-=this.startIndex(),1===this.width)return this.buffer.get(e);for(var t=[],i=0;i<this.width;i++)t.push(this.buffers[i].get(e));return t},t.prototype.appendArray=function(e){for(var t=0;t<e.length;t++)this.pushNoStatsUpdate(e[t]);this.count+=e.length,this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.toArray=function(){if(1===this.width)return this.buffer.toArray();for(var e=this.startIndex(),t=this.lastIndex(),i=[],n=e;n<t;n++)i.push(this.get(n));return i},t.prototype.updateSegmentTrees=function(){var e=this.buffer;this.trees.forEach(function(e){e.updateSegmentTree()}),this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex+e.size},t.prototype.toDataSeries=function(e){for(var t=this.buffer,i=[],n=this.startIndex(),r=0;r<t.size;r++)i.push([r+n,this.buffers[e||0].get(r)]);return i},t.prototype.registerOnChange=function(e,t){this.callbacks.has(e)?console.log("Callback with the given key has already been registered."):this.callbacks.set(e,t)},t.prototype.deregisterOnChange=function(e){this.callbacks.delete(e)},t.prototype.query=function(e,t,i,n){return void 0===n&&(n=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1),this.trees[n].query(e,t,i)},t.prototype.rangeX=function(e){var t=this.startIndex(),i=this.lastIndex()-1;return i===t-1?{}:{xmin:t,xmax:i,deltamin:1}},t.prototype.rangeY=function(e,t,i){null==e&&(e=this.startIndex()),null==t&&(t=this.lastIndex()-1),null==i&&(i=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1);var n=this.query(e,t,t-e,i),r=n.length;if(r>0){for(var a={ymin:1/0,ymax:-1/0},s=0;s<r;s+=2)null==n[s+1]||n[s+1]===1/0||n[s+1]===-1/0||isNaN(n[s+1])||(a.ymin=Math.min(a.ymin,n[s+1]),a.ymax=Math.max(a.ymax,n[s+1]));return a}return{}},t.prototype.toJSON=function(){var e={data:[],width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count};if(1===this.width)e.data=this.buffer.toArray();else for(var t=0;t<this.width;t++)e.data.push(this.buffers[t].toArray());return e},"object"==typeof module&&module.exports?module.exports=t:e.HistoryBufferNumeric=t}(window);var $e=Object.freeze({});!function(e){var t=function(e,t){this.capacity=e||1024,this.width=t||1,this.buffers=[];for(var i=0;i<this.width;i++)this.buffers.push(new CBuffer(e));this.buffer=this.buffers[0],this.count=0,this.callbacks=new Map,this.changed=!1};function i(e,t){if(1==e.Y.length||1==t.Y.length)return!1;var i=new NITimestamp(e.t0).add(e.dt*(e.Y.length-1)).valueOf();return new NITimestamp(t.t0).valueOf()-i>=2*e.dt}t.prototype.__proto__=HistoryBufferNumeric.prototype,t.prototype.rebuildSegmentTrees=function(){},t.prototype.pushNoStatsUpdate=function(e){if(1!==this.width||Array.isArray(e)){if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])}else this.buffer.push(e)},t.prototype.getTreeNodes=function(e,t,i){},t.prototype.updateSegmentTrees=function(){},t.prototype.query=function(e,t,n,r){void 0===r&&(r=0);var a=[],s=this.buffers[r].toArray(),o=s[0];return s.forEach(function(n){(function(e,t,i){if(0===e.Y.length)return!1;var n=new NITimestamp(e.t0),r=n.valueOf(),a=n.valueOf()+e.Y.length*e.dt;return!(r<t&&a<t||r>i&&a>i)})(n,e,t)&&(i(o,n)&&(a.push(null),a.push(null)),o=n,function(e,t,i,n){for(var r,a=e.Y,s=e.t0,o=new NITimestamp(s),l=0;l<a.length;l++)(r=o.valueOf())>=t-e.dt&&r<=i+e.dt&&(n.push(r),n.push(a[l])),o.add(e.dt)}(n,e,t,a))}),a},t.prototype.toDataSeries=function(e){void 0===e&&(e=0);var t=[],n=this.buffers[e].toArray(),r=n[0];return n.forEach(function(e){i(r,e)&&t.push([null,null]),r=e,function(e,t){for(var i,n=e.Y,r=e.t0,a=new NITimestamp(r),s=0;s<n.length;s++)i=a.valueOf(),t.push([i,n[s]]),a.add(e.dt)}(e,t)}),t},t.prototype.rangeX=function(e){var t,i,n,r=1/0,a=-1/0,s=1/0;void 0===e&&(e=0);var o=this.buffers[e].toArray();if(0===o.length)return{};if(o.forEach(function(e){t=new NITimestamp(e.t0),i=t.valueOf(),n=new NITimestamp(t).add(e.dt*(e.Y.length-1)).valueOf(),i<r&&(r=i),n>a&&(a=n),s>Math.abs(e.dt)&&(s=Math.abs(e.dt))}),0===s&&(s=1),r>a){var l=r;r=a,a=l}return{xmin:r,xmax:a,deltamin:s}},t.prototype.rangeY=function(e,t,i){var n={min:1/0,max:-1/0};null==i&&(i=0);var r=this.buffers[i].toArray();if(0===r.length)return{};if(null==e&&(e=new NITimestamp(r[0].t0).valueOf()),null==t){var a=r[r.length-1];t=new NITimestamp(a.t0).add(a.dt*a.Y.length).valueOf()}return r.forEach(function(i){!function(e,t,i,n){var r,a,s,o=e.Y,l=new NITimestamp(e.t0);if(0===o.length)return;if(r=l.valueOf(),a=new NITimestamp(l).add(e.dt*e.Y.length).valueOf(),r>n||a<i)return;for(var d=0;d<o.length;d++)(s=new NITimestamp(l).add(e.dt*d).valueOf())<i||s>n||null==o[d]||o[d]===1/0||o[d]===-1/0||isNaN(o[d])||(o[d]>t.max&&(t.max=o[d]),o[d]<t.min&&(t.min=o[d]))}(i,n,e,t)}),{ymin:n.min,ymax:n.max}},t.prototype.toJSON=function(){return{data:this.toArray(),width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count}},"object"==typeof module&&module.exports?module.exports=t:e.HistoryBufferWaveform=t}(window);var We=Object.freeze({});!function(e){var t=function(){this.init()},i=function(e,t){this.historyBuffer=e,this.cbuffer=t,this.tree=this.buildEmptySegmentTree()};t.prototype.init=function(){this.maxIndex=0,this.minIndex=0,this.max=Math.Nan,this.min=Math.Nan};var n=function(e,t){this.level=t,this.step=Math.pow(e.branchFactor,t),this.capacity=Math.ceil(e.capacity/Math.pow(e.branchFactor,t))+1,this.startIndex=0,this.nodes=new CBuffer(this.capacity)};function r(e,t,i){t<i.min&&(i.min=t,i.minIndex=e),t>i.max&&(i.max=t,i.maxIndex=e)}function a(e,t){e.min<t.min&&(t.min=e.min,t.minIndex=e.minIndex),e.max>t.max&&(t.max=e.max,t.maxIndex=e.maxIndex)}function s(e,t){return t*Math.floor(e/t)}n.prototype.rotate=function(){this.startIndex+=this.step;var e=this.nodes.shift();e.init(),this.nodes.push(e)},n.prototype.init=function(e){this.startIndex=e,this.nodes.forEach(function(e){e.init()})},i.prototype.get=function(e){return e-=this.historyBuffer.startIndex(),this.cbuffer.get(e)},i.prototype.getTreeNode=function(e,t){var i=this.tree.levels[e],n=i.step,r=Math.floor((t-i.startIndex)/n);return r<0||r>=i.capacity?null:i.nodes.get(r)},i.prototype.buildEmptySegmentTree=function(){var e=this.historyBuffer,i=Math.ceil(Math.log(e.capacity)/Math.log(e.branchFactor))-1;i<1&&(i=1);for(var r={depth:i,levels:[]},a=0;a<i;a++){var s=new n(e,a+1);r.levels.push(s);for(var o=0;o<s.capacity;o++){var l=new t;s.nodes.push(l)}}return r},i.prototype.populateTreeLevel=function(e,t){var i,n,r,a,o,l=this.historyBuffer,d=this.cbuffer,h=l.startIndex(),c=l.lastIndex(),u=0,p=0,m=!0,f=0===t?{step:1,startIndex:h}:this.tree.levels[t-1];for(e=s(e,this.tree.levels[t].step),f.startIndex>e&&(u=(e=f.startIndex)/f.step%l.branchFactor),p=e;p<c;p+=f.step){if(0===t){var g=d.get(p-h);m?(n=g,r=p,a=g,o=p,m=!1):(g>n&&(n=g,r=p),g<a&&(a=g,o=p))}else{var v=this.getTreeNode(t-1,p);m?(n=v.max,r=v.maxIndex,a=v.min,o=v.minIndex,m=!1):(v.max>n&&(n=v.max,r=v.maxIndex),v.min<a&&(a=v.min,o=v.minIndex))}++u===l.branchFactor&&(u=0,m=!0,(i=this.getTreeNode(t,p)).max=n,i.maxIndex=r,i.min=a,i.minIndex=o)}0!==u&&((i=this.getTreeNode(t,p)).max=n,i.maxIndex=r,i.min=a,i.minIndex=o)},i.prototype.rotateTreeLevel=function(e){var t=this.historyBuffer,i=t.startIndex(),n=this.tree.levels[e],o=s(i,n.step);if(o-n.startIndex>t.capacity)n.init(o);else for(;n.startIndex<o;)n.rotate();if(i!==o){var l,d={minIndex:i,min:this.get(i),maxIndex:i,max:this.get(i)},h=n.nodes.get(0);if(0===e)for(l=i;l<o+t.branchFactor;l++)r(l,this.get(l),d);else for(l=i;l<o+n.step;l+=n.step/t.branchFactor)a(this.getTreeNode(e-1,l),d);h.minIndex=d.minIndex,h.min=d.min,h.maxIndex=d.maxIndex,h.max=d.max}},i.prototype.updateSegmentTree=function(){var e;for(e=0;e<this.tree.depth;e++)this.rotateTreeLevel(e);for(e=0;e<this.tree.depth;e++)this.populateTreeLevel(this.historyBuffer.lastUpdatedIndex,e)},i.prototype.readMinMax=function(e,t,i){var n,o=t-e,l=this.historyBuffer,d=l.startIndex(),h=this.cbuffer,c=Math.floor(Math.log(o)/Math.log(l.branchFactor));if(c<=0){for(n=e;n<t;n++)r(n,h.get(n-d),i);return i}c>this.tree.levels.length&&(c=this.tree.levels.length);var u=Math.pow(l.branchFactor,c),p=Math.ceil(e/u)*u,m=s(t,u);e!==p&&this.readMinMax(e,p,i);var f=s(d,u),g=(m-f)/u;for(n=(p-f)/u;n<g;n++)a(this.tree.levels[c-1].nodes.get(n),i);return t!==m&&this.readMinMax(m,t,i),i},i.prototype.query=function(e,i,n){var r,a=this.historyBuffer;e=Math.floor(e),i=Math.ceil(i);var s=[],o=a.startIndex(),l=a.lastIndex();if(e<o&&(e=o),e>l&&(e=l),i<o&&(i=o-1),i>l-1&&(i=l-1),n<4)for(r=e;r<=i;r++)s.push(r),s.push(this.get(r));else{var d,h,c=new t;for(r=e;r<=i;r=Math.round(r+n)){var u=Math.min(i+1,Math.round(r+n));c.max=Number.NEGATIVE_INFINITY,c.min=Number.POSITIVE_INFINITY,c.minIndex=0,c.maxIndex=0,d=(c=this.readMinMax(r,u,c)).maxIndex,(h=c.minIndex)===d?(s.push(h),s.push(c.min)):h<d?(s.push(h),s.push(c.min),s.push(d),s.push(c.max)):(s.push(d),s.push(c.max),s.push(h),s.push(c.min))}}return s},"object"==typeof module&&module.exports?module.exports=i:e.SegmentTree=i}(window);var Ge=Object.freeze({});!function(e){function t(e,t,n,r){var a;if(t.historyBuffer){var s,o=t.historyBuffer;a=o.indexMap;var l=e.getData().indexOf(t);l<o.width?(s=function(e,t){var i=e.rangeX(t),n=[];if(void 0===i.xmin||void 0===i.xmax||void 0===i.deltamin)return[];return n[0]=i.xmin,n[2]=i.xmax,n[4]=i.xmax-i.deltamin,n[1]=0,n[3]=1,n[5]=2,n}(o,l),t.index=l):s=[];for(var d=r.points,h=0;h<s.length;h+=2)d[h]=a?a[s[h]]:s[h],d[h+1]=s[h+1];d.length=s.length,r.pointsize=2,t.decimate=i,t.decimatePoints=i}}function i(e,t,i,n){var r=e.historyBuffer,a=i-t,s=r.indexMap,o=e.datapoints,l=Math.floor(a/n),d=e.index;if(d<r.width)var h=e.historyBuffer.query(t,i,l,d);else h=[];for(var c=o.points,u=0;u<h.length;u+=2)c[u]=s?s[h[u]]:h[u],c[u+1]=h[u+1];return c.length=h.length,o.pointsize=2,c}function n(e,t){for(var i=e.getData(),n=0;n<t.width;n++)"object"==typeof i[n]?(i[n].data=[],i[n].datapoints=void 0):i[n]={data:[]};e.setData(i)}function r(e,t,i){t.datapoints.points&&(i.xmin=t.datapoints.points[0])}function a(e,t){if("y"===t.direction&&"none"!==t.options.autoScale){var i,n,r,a,s,o=e.getData().filter(function(e){return e.yaxis===t}),l=o.length;for(i=0;i<l;i++)s=o[i].index,n=o[i].xaxis.min?o[i].xaxis.min:o[i].xaxis.options.min,r=o[i].xaxis.max?o[i].xaxis.max:o[i].xaxis.options.max,i<o[i].historyBuffer.width&&(a=o[i].historyBuffer.rangeY(n,r,s),0===i?(t.datamin=a.ymin,t.datamax=a.ymax):(t.datamin=Math.min(t.datamin,a.ymin)||void 0,t.datamax=Math.max(t.datamax,a.ymax)||void 0))}}jQuery.plot.plugins.push({init:function(e){var i=!1;e.hooks.processOptions.push(function(e){var s=e.getOptions().series.historyBuffer;s&&(e.hooks.processRawData.push(t),s.registerOnChange("setDataCallback",function(){!function(e,t){e.dataUpdateTriggered||(e.dataUpdateTriggered=requestAnimationFrame(function(){i||(n(e,t),function(e){e.setupGrid(!0),e.draw()}(e)),e.dataUpdateTriggered=null}))}(e,s)}),n(e,s),e.hooks.adjustSeriesDataRange.push(r),e.hooks.setRange.push(a),e.hooks.shutdown.push(function(){s.deregisterOnChange("setDataCallback"),i=!0}))})},name:"charting",version:"0.3"})}();var Xe=Object.freeze({});!function(e){var t={iRectSize:8,mouseGrabMargin:12,textHeight:10,labelPadding:10,thumbRadius:17},i=Object.freeze({axis:0,relative:1}),n=Object.freeze({xy:0,x:1});const r=Object.freeze({t:"top",b:"bottom",l:"left",r:"right"});function a(e,t){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}function s(e,t,i){var n,r,a=p(e,t),s=m(e,t);n=void 0!==i.x&&a.p2c?a.p2c(i.x):i.relativeX*e.width(),r=void 0!==i.y&&s.p2c?s.p2c(i.y):i.relativeY*e.height(),t.x=n,t.y=r}function o(e,i,n,r){var a="left",s=Number(i.fontSize.substring(0,i.fontSize.length-2)),o=i.y,l=i.x;return"left"===i.halign?(l-=t.labelPadding,a="right"):l+=t.labelPadding,"above"===i.valign?o-=t.labelPadding*(r-n)+s*(r-1-n):o+=t.labelPadding*(n+1)+s*(n+1),{x:l,y:o,textAlign:a}}function l(e){return(e.showLabel?1:0)+(e.showValues?1:0)}function d(e,t){return t>=0&&Math.round(t)<=e.width()}function h(e,t){return t>=0&&Math.round(t)<=e.height()}function c(e,t){return d(e,t.x)&&h(e,t.y)}function u(e,t,i){var n="x"===t.direction?i+1:i-1,r=t.c2p(i),a=t.c2p(n);return e.computeValuePrecision(r,a,t.direction,1)}function p(e,t){var i=e.getData(),n=e.getXAxes(),r=t.defaultxaxis-1;if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var a=i[t.intersections.points[0].seriesIndex];return a?a.xaxis:n[r]}return n[r]}return n[r]}function m(e,t){var i=e.getData(),n=e.getYAxes(),r=t.defaultyaxis-1;if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var a=i[t.intersections.points[0].seriesIndex];return a?a.yaxis:n[r]}return n[r]}return n[r]}function f(e,t){var i=p(e,t),n=m(e,t),r=u(e,i,t.x),a=i.tickFormatter(i.c2p(t.x),i,r,e),s=u(e,n,t.y),o=n.tickFormatter(n.c2p(t.y),n,s,e);return{xTextValue:a=(a=a.replace("<br>"," ")).replace("&nbsp;"," "),yTextValue:o=(o=o.replace("<br>"," ")).replace("&nbsp;"," ")}}function g(e){return-1!==e.mode.indexOf("x")}function v(e,i,n,r){var a=n.offset(),s=Math.max(0,Math.min(e-a.left,n.width())),o=Math.max(0,Math.min(i-a.top,n.height())),l=r.symbolSize+t.mouseGrabMargin;return s>r.x-l&&s<r.x+l&&o>r.y-l&&o<r.y+l&&"none"!==r.symbol}function b(e,i,n,r){var a=n.offset(),s=Math.max(0,Math.min(e-a.left,n.width())),o=Math.max(0,Math.min(i-a.top,n.height()));return g(r)&&s>r.x-t.mouseGrabMargin&&s<r.x+t.mouseGrabMargin&&o>0&&o<n.height()}function y(e,i,n,r){var a=n.offset(),s=Math.max(0,Math.min(e-a.left,n.width())),o=Math.max(0,Math.min(i-a.top,n.height()));return function(e){return-1!==e.mode.indexOf("y")}(r)&&o>r.y-t.mouseGrabMargin&&o<r.y+t.mouseGrabMargin&&s>0&&s<n.width()}e.plot.plugins.push({init:function(u){var _=[],w=[],x=i.axis,C=n.xy;const S=new Map;let T,P;var I=!1;function E(e){const t={name:"unnamed "+_.length,position:{relativeX:.5,relativeY:.5,x:void 0,y:void 0},mousePosition:{relativeX:void 0,relativeY:void 0},x:0,y:0,valign:"below",halign:"right",show:!0,selected:!1,highlighted:!1,mode:"xy",showIntersections:!1,showLabel:!1,showValues:!0,color:"gray",fontSize:"10px",fontFamily:"sans-serif",fontStyle:"",fontWeight:"",lineWidth:1,movable:!0,dashes:[],intersectionColor:"darkgray",intersectionLabelPosition:"bottom-right",snapToPlot:void 0,interpolate:!1,defaultxaxis:1,defaultyaxis:1,symbolSize:8,showThumbs:"none",thumbAbbreviation:"C"+_.length,thumbClassList:["draggable"],thumbs:[],thumbColor:void 0,horizontalThumbConstrain:void 0,verticalThumbConstrain:void 0};return D(t,e),a(e,t)}function D(e,t){!function(e,t){if("none"===t.showThumbs)return;if(function(e,t){if(t.mode&&t.showThumbs){if(k(t.mode,t.showThumbs)){switch(console.log(`showThumbs ${t.showThumbs} doesn't match mode ${t.mode}.`),t.mode){case"x":t.showThumbs="t";break;case"y":t.showThumbs="r";break;case"xy":t.showThumbs="tr"}console.log(`showThumbs is coerced to ${t.showThumbs}`)}}else t.mode?k(t.mode,e.showThumbs)&&(console.log("mode doesn't match the existing showThumbs. It will be ignored"),delete t.mode):t.showThumbs&&k(e.mode,t.showThumbs)&&(console.log("showThumbs doesn't match the existing mode. It will be ignored"),delete t.showThumbs)}(e,t),!t.showThumbs)return;const i=t.showThumbs.split("").map(e=>r[e]);let n;for(let t=0;t<e.thumbs.length;t++)i.includes(e.thumbs[t].shape)||(n=e.thumbs[t],e.thumbs[t]=null,e._createThumbs=!0,j("thumbWillBeRemoved",{current:n}),P.removeChild(n),S.delete(n))}(e,t),function(e,t){if(0===e.thumbs.length)return;const i=void 0!==t.show?t.show:e.show,n=void 0!==t.showThumbs?t.showThumbs:e.showThumbs,r=void 0!==t.show&&t.show!==e.show,a=void 0!==t.showThumbs&&t.showThumbs!==e.showThumbs&&("none"===t.showThumbs||"none"===e.showThumbs);e.triggerThumbVisibilityChanged=r&&"none"!==n||a&&i}(e,t)}function k(e,t){return"x"===e&&-1!==t.search(/[lr]/)||"y"===e&&-1!==t.search(/[tb]/)||"xy"===e&&-1!==t.search(/l\s*r|r\s*l|t\s*b|b\s*t/)}function j(e,t){const i=new CustomEvent(e,{detail:t});u.getPlaceholder()[0].dispatchEvent(i)}function M(e,t){e.triggerThumbVisibilityChanged&&e.thumbs.forEach(e=>{j("thumbVisibilityChanged",{visible:t,current:e})})}u.hooks.processOptions.push(function(e){e.getOptions().cursors.forEach(function(t){e.addCursor(t)})}),u.hooks.processOffset.push(function(e,t){A(_,e,t)}),u.getCursors=function(){return _},u.addCursor=function(e){var t=E(e);s(u,t,t.position),_.push(t),u.triggerRedrawOverlay()},u.removeCursor=function(e){const t=_.indexOf(e);-1!==t&&(e.thumbs.forEach(e=>{j("thumbWillBeRemoved",{current:e}),P.removeChild(e),S.delete(e)}),_.splice(t,1)),u.triggerRedrawOverlay()},u.setCursor=function(e,t){const i=_.indexOf(e);-1!==i&&(D(e,t),a(t,_[i]),s(u,_[i],_[i].position),e._createThumbs?(u.setupGrid(),u.draw()):u.triggerRedrawOverlay())},u.getIntersections=function(e){var t=_.indexOf(e);return-1!==t?_[t].intersections:[]},u.formatCursorPosition=f,u.setPlotPositionConstrain=(e=>{if("function"!=typeof e)throw new Error("plot position constrain should be a function");T=e});var A=function(e,i,n){var r,a,s,o,l,d=0,h=2*t.thumbRadius;for(l in r=["left","right","top","bottom"].map(function(t,n){return a=e.some(e=>-1!==e.showThumbs.indexOf(t[0])),o=n>1?i.getXAxes():i.getYAxes(),s=o.some(e=>e.options.position===t),a&&!s?h:0}),n)n[l]+=r[d++]},N=function(e){var t;return e.forEach(function(e){e.selected&&(t||(t=e))}),t},q=function(e){return e.filter(function(e){return e.show})},O=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY);ee(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},B=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY);K(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},R=function(e){te(e)},V=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY);ee(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},H=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY);K(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},L=function(e){te(e)},z=function(e){!function(e){function t(e){return e.getAttribute("class").includes("draggable")}N(_)||q(_).filter(e=>!0===e.movable).forEach(function(i){i.thumbs.filter(t).filter(t=>t===function(e){var t=e,i=e.getAttribute("class");return i.includes("interactionLayer")&&(t=e.parentNode,i=t.getAttribute("class")),i.includes("thumb")?t:null}(e.detail.target)).forEach(function(t){var n=i;n&&(t.classList.contains("x")?n.dragmode="x":n.dragmode="y",n.selected=!0,n.thumbmove=!0,"x"===n.mode?u.getPlaceholder().css("cursor","ew-resize"):"y"===n.mode&&u.getPlaceholder().css("cursor","ns-resize"),u.getPlaceholder().css("cursor","move"),u.getPlaceholder().trigger("cursordragstart",n),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())})})}(e)},F=function(e){const[t,i]=ne(e.pageX,e.pageY);!function(e,t,i){const n=N(_);if(n){ie(n,t,i);const r=e.selectedThumb;let a;a=r.classList.contains("x")?n.x+u.getPlotOffset().left:n.y+u.getPlotOffset().top,S.set(r,a),u.getPlaceholder().trigger("cursordrag",n),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault()}}(e,t,i)},U=function(e){te(e)},$=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y);ee(t,n,r,i.X,i.Y)},W=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y);K(t,n,r,i.X,i.Y)},G=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y);!function(e,t,i,n,r){if(!I){var a=N(_);a&&0===e.buttons&&(a.selected=!1,u.triggerRedrawOverlay()),q(_).forEach(function(e){Z(n,r,u,e)})}}(t,0,0,i.X,i.Y)},X=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y);te(t,n,r,i.X,i.Y)};function Y(){x=i.relative,_.forEach(function(e){if(!isNaN(e.x)&&!isNaN(e.y)){var t={relativeX:e.position.relativeX||e.x/u.width(),relativeY:e.position.relativeY||e.y/u.height(),x:void 0,y:void 0};isNaN(t.relativeX)||isNaN(t.relativeY)||(e.position=t)}})}function J(){x=i.axis,_.forEach(function(e){if(e.mousePosition={},void 0===e.position.x){var t=p(u,e);e.position.x=t.c2p?t.c2p(e.x):void 0}if(void 0===e.position.y){var i=m(u,e);e.position.y=i.c2p?i.c2p(e.y):void 0}e.position.relativeX=void 0,e.position.relativeY=void 0})}function Q(e,t){var r={cursor:t.name,points:[]};return t.interpolate?function(e,t,i){var n=e.c2p({left:t.x,top:t.y}),r=e.getAxes();if(!(n.x<r.xaxis.min||n.x>r.xaxis.max||n.y<r.yaxis.min||n.y>r.yaxis.max)){var a=e.findNearbyInterpolationPoint(n.x,n.y,function(e){return-1===t.snapToPlot||e===t.snapToPlot});a&&i.points.push({x:a.datapoint[0],y:a.datapoint[1],leftPoint:a.leftPoint,rightPoint:a.rightPoint,seriesIndex:a.seriesIndex})}}(e,t,r):function(e,t,r){var a,s;x===i.axis?(a=t.x,s=t.y):(a=t.mousePosition.relativeX*e.width(),s=t.mousePosition.relativeY*e.height());var o=e.findNearbyItem(a,s,function(e){return-1===t.snapToPlot||e===t.snapToPlot},Number.MAX_VALUE,function(e,t){return C===n.x?e:e*e+t*t*.025});if(o){var l=e.getData(),d=l[o.seriesIndex].datapoints.pointsize,h=o.dataIndex*d;r.points.push({x:o.datapoint[0],y:o.datapoint[1],leftPoint:[h-d,h-d+1],rightPoint:[h,h+1],seriesIndex:o.seriesIndex})}}(e,t,r),r}function K(e,t,i,n,r){var a=N(_);a&&(ie(a,t,i),u.getPlaceholder().trigger("cursordrag",a),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())}function Z(e,t,i,n){n.movable&&(v(e,t,i,n)?(n.highlighted||(n.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","pointer")):b(e,t,i,n)?(n.highlighted||(n.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","col-resize")):y(e,t,i,n)?(n.highlighted||(n.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","row-resize")):n.highlighted&&(n.highlighted=!1,i.getPlaceholder().css("cursor","default"),i.triggerRedrawOverlay()))}function ee(e,t,i,r,a){I=!0;var s,o,l=N(_);C=n.xy,l?(u.getPlaceholder().css("cursor","default"),l.x=t,l.y=i,l.position.relativeX=t/u.width(),l.position.relativeY=i/u.height(),u.triggerRedrawOverlay()):(q(_).forEach(function(e){e.movable&&(v(r,a,u,e)?(s=e,o="xy"):y(r,a,u,e)?(s=e,o="y"):b(r,a,u,e)&&(s=e,o="x"),Z(r,a,u,e))}),s&&(s.thumbmove=!1,s.selected=!0,s.dragmode=o,"x"===s.mode?u.getPlaceholder().css("cursor","ew-resize"):"y"===s.mode?u.getPlaceholder().css("cursor","ns-resize"):u.getPlaceholder().css("cursor","move"),u.getPlaceholder().css("cursor","move"),u.getPlaceholder().trigger("cursordragstart",s),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())),l=N(_)}function te(e,t,i,n,r){I=!1;var a=N(_);a&&(isFinite(t)&&isFinite(i)&&ie(a,t,i),a.selected=!1,a.thumbmove=!1,u.getPlaceholder().css("cursor","default"),u.getPlaceholder().trigger("cursordragend",a),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())}function ie(e,t,i){var n=p(u,e),r=m(u,e);-1!==e.dragmode.indexOf("x")&&(e.x=t,e.position.x=n.c2p?n.c2p(t):void 0,e.position.relativeX=t/u.width(),e.mousePosition.relativeX=t/u.width()),-1!==e.dragmode.indexOf("y")&&(e.y=i,e.position.y=r.c2p?r.c2p(i):void 0,e.position.relativeY=i/u.height(),e.mousePosition.relativeY=i/u.height())}function ne(e,t){if(T)return T(e,t);const i=u.offset();return[Math.max(0,Math.min(e-i.left,u.width())),Math.max(0,Math.min(t-i.top,u.height()))]}function re(t){t.thumbs.forEach(t=>{e.thumb.setHidden(t,!0)})}function ae(e,t,i){const n=new CustomEvent(e,{detail:t});i.dispatchEvent(n)}function se(e){return-1!==e.showThumbs.indexOf("b")||-1!==e.showThumbs.indexOf("t")}function oe(e){return-1!==e.showThumbs.indexOf("l")||-1!==e.showThumbs.indexOf("r")}u.hooks.bindEvents.push(function(e,t){t[0].addEventListener("panstart",O,!1),t[0].addEventListener("pandrag",B,!1),t[0].addEventListener("panend",R,!1),t[0].addEventListener("pinchstart",V,!1),t[0].addEventListener("pinchdrag",H,!1),t[0].addEventListener("pinchend",L,!1),e.getPlaceholder().bind("plotpan",J),e.getPlaceholder().bind("plotzoom",J),t[0].addEventListener("thumbmovestart",z,!1),t[0].addEventListener("thumbmove",F,!1),t[0].addEventListener("thumbmoveend",U,!1),e.addEventHandler("dragstart",$,t,10),e.addEventHandler("drag",W,t,10),e.addEventHandler("dragend",X,t,10),t.bind("mousemove",G)}),u.hooks.processRawData.push(function(e,t,i,r){t.historyBuffer&&(Y(),C=n.x)}),u.hooks.drawOverlay.push(function(i,n){w=[],_.forEach(function(r){var a,u;if(function(e,t){var i=p(e,t),n=m(e,t),r=t.position;void 0!==r.x&&void 0!==r.y||!i.c2p||!n.c2p||0===i.min&&1===i.max&&0===n.min&&1===n.max||(r.x=i.c2p(r.relativeX*e.width()),r.y=n.c2p(r.relativeY*e.height())),(void 0===r.relativeX||void 0===r.relativeY)&&i.p2c&&n.p2c&&void 0!==r.x&&void 0!==r.y&&(r.relativeX=i.p2c(r.x)/e.width(),r.relativeY=n.p2c(r.y)/e.height())}(i,r),s(i,r,r.position),(void 0===(u=r.mousePosition).relativeX||void 0===u.relativeY)&&(r.mousePosition.relativeX=r.x/i.width(),r.mousePosition.relativeY=r.y/i.height()),a=Q(i,r),function(e,t,i){if(t.snapToPlot>=-1){var n=i.points[0];if(n){var r=e.getData()[n.seriesIndex],a=r.xaxis.p2c(n.x)/e.width(),o=r.yaxis.p2c(n.y)/e.height();s(e,t,{x:n.x,y:n.y}),t.position.x=n.x,t.position.y=n.y,t.position.relativeX=a,t.position.relativeY=o,i.x=n.x,i.y=n.y}}}(i,r,a),r.intersections=a,a.target=r,w.push(a),r.show){var v=i.getPlotOffset();n.save(),n.translate(v.left,v.top),function(e,i,n){var r=e.width(),a=e.height(),s=n.y,o=n.x,d=0,h=0,c=l(n),u=Number(n.fontSize.substring(0,n.fontSize.length-2));if(i.font=n.fontStyle+" "+n.fontWeight+" "+n.fontSize+" "+n.fontFamily,n.showLabel&&(d=Math.max(d,i.measureText(n.name).width)),n.showValues){var p=f(e,n),m=p.xTextValue+", "+p.yTextValue;d=Math.max(d,i.measureText(m).width)}"right"===n.halign&&o+d>.95*r?n.halign="left":"left"===n.halign&&o-d<.05*r&&(n.halign="right"),h=c*(u+t.labelPadding),"below"===n.valign&&s+h>.95*a?n.valign="above":"above"===n.valign&&s-h<.05*a&&(n.valign="below")}(i,n,r),function(e,t,i){if(0!==i.lineWidth){var n=i.lineWidth%2?.5:0;if(t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.lineJoin="round",t.beginPath(),t.setLineDash(i.dashes),-1!==i.mode.indexOf("x")&&d(e,i.x)){var r=Math.floor(i.x)+n;t.moveTo(r,Math.min(e.height(),Math.max(0,i.y-i.symbolSize/2))),t.lineTo(r,0),t.moveTo(r,Math.min(e.height(),Math.max(0,i.y+i.symbolSize/2))),t.lineTo(r,e.height())}if(-1!==i.mode.indexOf("y")&&h(e,i.y)){var a=Math.floor(i.y)+n;t.moveTo(Math.min(e.width(),Math.max(0,i.x-i.symbolSize/2)),a),t.lineTo(0,a),t.moveTo(Math.min(e.width(),Math.max(0,i.x+i.symbolSize/2)),a),t.lineTo(e.width(),a)}t.stroke(),t.setLineDash([])}}(i,n,r),function(e,t,i){if(i.showLabel&&c(e,i)){t.beginPath();var n=o(0,i,0,l(i));t.fillStyle=i.color,t.textAlign=n.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(i.name,n.x,n.y),t.textAlign="left",t.stroke()}}(i,n,r),function(e,i,n){if(n.showIntersections&&g(n)){if(i.beginPath(),void 0===n.intersections)return;n.intersections.points.forEach(function(r,a){if("object"!=typeof n.showIntersections||-1!==n.showIntersections.indexOf(a)){var s,o=e.p2c(r);i.fillStyle=n.intersectionColor,i.fillRect(Math.floor(o.left)-t.iRectSize/2,Math.floor(o.top)-t.iRectSize/2,t.iRectSize,t.iRectSize),s="function"==typeof n.formatIntersectionData?n.formatIntersectionData(r):r.y.toFixed(2),function(e,i,n,r,a,s,o,l,d){var h,c=Number(l.substring(0,l.length-2));switch(a){case"left":h=e.measureText(i).width,n=n-h-t.iRectSize;break;case"bottom-left":h=e.measureText(i).width,n=n-h-t.iRectSize,r+=c;break;case"top-left":h=e.measureText(i).width,n=n-h-t.iRectSize,r-=t.iRectSize;break;case"top-right":n+=t.iRectSize,r-=t.iRectSize;break;case"right":n+=t.iRectSize;break;case"bottom-right":default:n+=t.iRectSize,r+=c}e.textBaseline="middle",e.font=s+" "+o+" "+l+" "+d,e.fillText(i,n,r)}(i,s,o.left,o.top,n.intersectionLabelPosition,n.fontStyle,n.fontWeight,n.fontSize,n.fontFamily)}}),i.stroke()}}(i,n,r),function(e,t,i){if(i.showValues&&c(e,i)){var n=f(e,i),r=n.xTextValue+", "+n.yTextValue,a=o(0,i,function(e){return e.showLabel?1:0}(i),l(i));t.fillStyle=i.color,t.textAlign=a.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(r,a.x,a.y)}}(i,n,r),"none"!==r.symbol&&function(e,t,i){if(c(e,i)){var n=i.lineWidth%2?.5:0;t.beginPath(),i.highlighted?t.strokeStyle="orange":t.strokeStyle=i.color,i.symbol&&e.drawSymbol&&e.drawSymbol[i.symbol]?(t.fillStyle=i.color,e.drawSymbol[i.symbol](t,Math.floor(i.x)+n,Math.floor(i.y)+n,i.symbolSize/2,0)):t.fillRect(Math.floor(i.x)+n-i.symbolSize/2,Math.floor(i.y)+n-i.symbolSize/2,i.symbolSize,i.symbolSize),t.stroke()}}(i,n,r),n.restore(),"none"!==r.showThumbs?0===r.thumbs.length||r._createThumbs?(function(i,n,r){P=e.thumb.createSVGLayer(n.getPlaceholder(),n.getEventHolder());let a,s,o,l,d=0;const h={size:t.thumbRadius,svgRoot:P,abbreviation:i.thumbAbbreviation||i.name[0],classList:i.thumbClassList,offset:i.thumbOffset,fill:i.thumbColor};se(i)&&!i.thumbs[0]&&(d=1,s=i.x+r.left,o=-1!==i.showThumbs.indexOf("b")?n.height()+r.top+t.thumbRadius:r.top-t.thumbRadius,l=i.horizontalThumbConstrain?i.horizontalThumbConstrain:function(e,t,i,r,a,s){var o=n.offset().left,l=Math.max(o,Math.min(a,n.width()+o))-a+e;return[l,r]},h.shape=-1!==i.showThumbs.indexOf("b")?"bottom":"top",h.x=s,h.y=o,h.constraintFunction=l,a=e.thumb.createThumb(h),i.thumbs[0]=a,S.set(a,s),j("thumbCreated",{current:a})),oe(i)&&!i.thumbs[d]&&(s=-1!==i.showThumbs.indexOf("l")?r.left-t.thumbRadius:r.left+n.width()+t.thumbRadius,o=i.y+r.top,l=i.verticalThumbConstrain?i.verticalThumbConstrain:function(e,t,i,r,a,s){var o=n.offset(),l=Math.max(o.top,Math.min(s,n.height()+o.top))-s+t;return[i,l]},h.shape=-1!==i.showThumbs.indexOf("l")?"left":"right",h.x=s,h.y=o,h.constraintFunction=l,a=e.thumb.createThumb(h),i.thumbs[d]=a,S.set(a,o),j("thumbCreated",{current:a}))}(r,i,v),r._createThumbs=!1):r.thumbmove||(function(t,i,n){let r;if(se(i)){r=i.thumbs[0];const a=i.x+n.left,s=S.get(r),o=function(e){return e.classList.contains("top")}(r);d(t,i.x)?(s<n.left?ae("thumbIntoRange",{target:r,edge:o?"topleft":"bottomleft",orientation:"horizontal",position:a},t.getEventHolder()):s>n.left+t.width()&&ae("thumbIntoRange",{target:r,edge:o?"topright":"bottomright",orientation:"horizontal",position:a},t.getEventHolder()),e.thumb.setHidden(r,!1),e.thumb.updateComputedXPosition(r,a)):(d(t,s-n.left)&&i.x<0?ae("thumbOutOfRange",{target:r,edge:o?"topleft":"bottomleft",orientation:"horizontal"},t.getEventHolder()):d(t,s-n.left)&&i.x>t.width()&&ae("thumbOutOfRange",{target:r,edge:o?"topright":"bottomright",orientation:"horizontal"},t.getEventHolder()),e.thumb.setHidden(r,!0)),S.set(r,a)}if(oe(i)){const a=se(i)?1:0;r=i.thumbs[a];const s=i.y+n.top,o=S.get(r),l=function(e){return e.classList.contains("left")}(r);h(t,i.y)?(o<n.top?ae("thumbIntoRange",{target:r,edge:l?"topleft":"topright",orientation:"vertical",position:s},t.getEventHolder()):o>n.top+t.height()&&ae("thumbIntoRange",{target:r,edge:l?"bottomleft":"bottomright",orientation:"vertical",position:s},t.getEventHolder()),e.thumb.setHidden(r,!1),e.thumb.updateComputedYPosition(r,s)):(h(t,o-n.top)&&(i.y<0?ae("thumbOutOfRange",{target:r,edge:l?"topleft":"topright",orientation:"vertical"},t.getEventHolder()):i.y>t.height()&&ae("thumbOutOfRange",{target:r,edge:l?"bottomleft":"bottomright",orientation:"vertical"},t.getEventHolder())),e.thumb.setHidden(r,!0)),S.set(r,s)}}(i,r,v),M(r,!0)):(re(r),M(r,!1))}else re(r),M(r,!1)}),w.length>0&&i.getPlaceholder().trigger("cursorupdates",[w])}),u.hooks.resize.push(function(i,n,r){_.forEach(function(a){const s=i.getPlotOffset();let o=0;const l=a.thumbs[0];if(se(a)&&l&&(o=1,-1!==a.showThumbs.indexOf("b"))){const i=r-s.bottom+t.thumbRadius;e.thumb.updateComputedYPosition(l,i)}const d=a.thumbs[o];if(oe(a)&&d&&-1!==a.showThumbs.indexOf("r")){const i=n-s.right+t.thumbRadius;e.thumb.updateComputedXPosition(d,i)}})}),u.hooks.shutdown.push(function(t,i){i[0].removeEventListener("panstart",O),i[0].removeEventListener("pandrag",B),i[0].removeEventListener("panend",R),i[0].removeEventListener("pinchstart",V),i[0].removeEventListener("pinchdrag",H),i[0].removeEventListener("pinchend",L),i[0].removeEventListener("thumbmovestart",z),i[0].removeEventListener("thumbmove",F),i[0].removeEventListener("thumbmoveend",U),i.unbind("dragstart",$),i.unbind("drag",W),i.unbind("dragend",X),i.unbind("mousemove",G),i.unbind("cursorupdates");var n=t.getPlaceholder();n.unbind("plotpan",J),n.unbind("plotzoom",J),n.css("cursor","default"),n.find(".flot-thumbs")[0]&&e.thumb.shutdown(n.find(".flot-thumbs")[0].firstChild),_=[],S.clear(),w=[]})},options:{cursors:[]},name:"cursors",version:"0.2"})}(jQuery);var Ye=Object.freeze({});!function(e,t){function i(e){return e.options.type===n.ColorScaleType}function n(){this.pluginName="intensitygraph",this.pluginVersion="0.2",this.defaultOptions={series:{intensitygraph:{data:[],show:!1,lowColor:"rgba(0,0,0,1)",highColor:"rgba(255,255,255,1)",min:0,max:1}}};var e=[{value:0,color:"#3182bd"},{value:.5,color:"#9ecae1"},{value:1,color:"#deebf7"}],r={centerX:20,centerY:0};function a(e,t,i,n){!0===e.getOptions().series.intensitygraph.show&&i[0].length>0&&(n.pointsize=2,n.points.length=0,n.points.push(0,0),n.points.push(i.length||0,i[0]?i[0].length:0))}this.init=function(s){var o,l,d,h=null;function c(e,t,r){var a=e.getPlotOffset(),s=e.getSurface().pixelRatio,c=e.getYAxes().filter(function(e){return i(e)})[0],u=c&&"none"!==c.options.autoScale?c.min:r.intensitygraph.min,p=c&&"none"!==c.options.autoScale?c.max:r.intensitygraph.max;function m(e,t,i){return o&&o.width===t&&o.height===i||(o=e.createImageData(t,i)),o}r.data.length>0&&r.data[0].length>0&&(t.save(),t.beginPath(),t.rect(a.left,a.top,e.width(),e.height()),t.clip(),r.xaxis.options.mode&&"linear"!==r.xaxis.options.mode||r.yaxis.options.mode&&"linear"!==r.yaxis.options.mode?function(e,t){var i=Math.max(e.xaxis.min,0),n=Math.min(e.data.length,e.xaxis.max),r=Math.max(e.yaxis.min,0),o=Math.min(e.data[0].length,e.yaxis.max),l=e.xaxis.p2c(i),d=e.xaxis.p2c(n),h=e.yaxis.p2c(r),c=e.yaxis.p2c(o),f=Math.floor(l*s),g=Math.floor(d*s),v=Math.floor(c*s),b=Math.floor(h*s),y=g-f,_=b-v;if(y>0&&_>0){var w=m(t,y,_);!function(e,t,i,n,r,a,s,o,l,d,h,c,u,p){var m,f,g,v,b,y,_,w,x,C,S,T,P=u-c;for(m=0;m<a;m++)for(g=0|o(t+m/p),f=s-1;f>=0;f--){for(v=0|l(n-f/p),x=h[g][v],_=0|Math.min(o(t+m/p+1),h.length),w=0|Math.min(l(n-f/p-1),h[0].length),b=g;b<_;b++)for(y=v;y<w;y++)(C=h[b][y])>x&&(x=C);for(b=g;b<_;b++)(C=h[b][v])>x&&(x=C);for(y=v;y<w;y++)(C=h[g][y])>x&&(x=C);S=x<c?1024:x>u?1028:4*Math.round(255*(x-c)/P),T=4*(s-f-1)*a+4*m,e.data[T+0]=d[S+0],e.data[T+1]=d[S+1],e.data[T+2]=d[S+2],e.data[T+3]=d[S+3]}}(w,l,0,h,0,y,_,e.xaxis.c2p,e.yaxis.c2p,e.intensitygraph.palette,e.data,u,p,s),t.putImageData(w,Math.ceil((l+a.left)*s),Math.ceil((c+a.top)*s))}}(r,t):function(t,i){var r,o,h,c=0|Math.floor(Math.max(t.xaxis.min,0)),f=0|Math.ceil(Math.min(t.data.length,t.xaxis.max)),g=0|Math.floor(Math.max(t.yaxis.min,0)),v=0|Math.ceil(Math.min(t.data[0].length,t.yaxis.max)),b=t.xaxis.p2c(c),y=t.xaxis.p2c(f),_=t.yaxis.p2c(g),w=t.yaxis.p2c(v),x=Math.abs((f-c)/(y-b))/s,C=Math.abs((v-g)/(w-_))/s,S=x>1&&C>1;e.getYAxes().filter(function(e){return n.prototype.isColorScale(e)})[0];if(S){var T=Math.floor(b*s),P=Math.floor(y*s),I=Math.floor(w*s),E=Math.floor(_*s);o=E-I,(r=P-T)>0&&o>0&&(function(e,t,i,n,r,a,s,o,l,d,h,c,u){var p,m,f,g,v,b,y,_,w,x,C,S,T=u-c;for(p=0;p<a;p++)for(f=t+p*o|0,m=0;m<s;m++){for(g=n+m*l|0,w=h[f][g],y=0|Math.floor(Math.min(f+o,h.length)),_=0|Math.floor(Math.min(g+l,h[0].length)),v=f;v<y;v++)for(b=g;b<_;b++)(x=h[v][b])>w&&(w=x);C=w<c?1024:w>u?1028:4*Math.round(255*(w-c)/T),S=4*(s-m-1)*a+4*p,e.data[S+0]=d[C+0],e.data[S+1]=d[C+1],e.data[S+2]=d[C+2],e.data[S+3]=d[C+3]}}(h=m(i,r,o),c,0,g,0,r,o,x,C,t.intensitygraph.palette,t.data,u,p),i.putImageData(h,Math.ceil((b+a.left)*s),Math.ceil((w+a.top)*s)))}else o=v-g,(r=f-c)>0&&o>0&&(function(e,t,i,n,r,a,s,o,l,d,h){var c,u,p,m,f,g=h-d;for(c=t;c<i;c++)for(u=n;u<r;u++)p=l[c][u],m=p<d?1024:p>h?1028:4*Math.round(255*(p-d)/g),f=4*(r-u-1)*a+4*(c-t),e.data[f+0]=o[m+0],e.data[f+1]=o[m+1],e.data[f+2]=o[m+2],e.data[f+3]=o[m+3]}(h=function(e,t){l||((l=document.createElement("canvas")).className="tempCanvas",l.style.visibility="hidden",d=null);d&&l.width===e&&l.height===t||(l.width=e,l.style.width=e+"px",l.height=t,l.style.height=t+"px",d=l.getContext("2d").createImageData(e,t));return d}(r,o),c,f,g,v,r,0,t.intensitygraph.palette,t.data,u,p),l.getContext("2d").putImageData(h,0,0),i.imageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.drawImage(l,0,0,r,o,b+a.left,w+a.top,Math.max(y-b,1),Math.max(_-w,1)))}(r,t),t.restore()),function(e,t,i){var r=i&&i.show?i.box.left+10:a.left+e.width()+20,s=h.series.intensitygraph.gradient,o=h.series.intensitygraph.lowColor,l=h.series.intensitygraph.highColor;i&&i.show&&n.prototype.drawLegend(t,r,a.top,10,e.height(),s,o,l)}(e,t,c)}s.hooks.processOptions.push(function(i,s){if(s.series.intensitygraph.show){s.series.intensitygraph.gradient||(s.series.intensitygraph.gradient=e);var o=i.getYAxes(),l=o.filter(function(e){return n.prototype.isColorScale(e)})[0];!l||l.boxPosition&&0!==l.boxPosition.centerX||(l.boxPosition=r),i.hooks.drawSeries.push(c),i.hooks.processRawData.push(a),h=s,s.series.intensitygraph.palette=function(e){var i,n,r=document.createElement("canvas");r.width="1",r.height="256";var a,s=r.getContext("2d"),o=s.createLinearGradient(0,0,0,256),l=e.series.intensitygraph.gradient,d=l[0].value,h=l[l.length-1].value;if(h===d)o.addColorStop(0,l[0].color),o.addColorStop(1,l[0].color);else for(i=0;i<l.length;i++)n=l[i].value,(a=(n-d)/(h-d))>=0&&a<=1&&o.addColorStop(a,l[i].color);s.fillStyle=o,s.fillRect(0,0,1,256);var c=[],u=s.getImageData(0,0,1,256).data;for(i=0;i<u.length;i++)c[i]=u[i];var p=e.series.intensitygraph.lowColor,m=e.series.intensitygraph.highColor,f=t.color.parse(p),g=t.color.parse(m);return c.push(0|f.r),c.push(0|f.g),c.push(0|f.b),c.push(255*f.a|0),c.push(0|g.r),c.push(0|g.g),c.push(0|g.b),c.push(255*g.a|0),c}(s)}})}}n.ColorScaleType="colorScale",n.prototype.drawLegend=function(e,t,i,n,r,a,s,o){var l,d,h=e.createLinearGradient(0,i+r,0,i),c=a[0].value,u=a[a.length-1].value;for(d=0;d<a.length;d++)(l=(a[d].value-c)/(u-c))>=0&&l<=1&&h.addColorStop(l,a[d].color);e.fillStyle=h,e.fillRect(t,i,n,r),e.fillStyle=s,e.fillRect(t,i+r,n,7),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i+r+.5,n+1,7),e.fillStyle=o,e.fillRect(t,i-7,n,7),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i-7+.5,n+1,7)},n.prototype.isColorScale=i;var r=new n;t.plot.plugins.push({init:r.init,options:r.defaultOptions,name:r.pluginName,version:r.pluginVersion}),t.plot.IntensityGraph=n}(0,jQuery);var Je=Object.freeze({});!function(){const e="Invalid URL or protocols LVError(21501)",t="WebSocket Error occurred LVError(21502)",i="Websocket connection closed LVError(21503)",n="Could not send message LVError(21504)",r="Unable to read message LVError(21505)",a="The network operation exceeded the user-specified or system time limit LVError(56)";class s{constructor(){this._queue=[],this._pendingResolve=void 0,this._pendingReject=void 0,this._preDequeueTest=void 0}_clearPending(){this._pendingResolve=void 0,this._pendingReject=void 0,this._preDequeueTest=void 0}enqueue(e){if(void 0===this._queue)throw new Error(`The queue has already been destroyed, cannot enqueue new data: ${e}`);if(this._queue.push(e),void 0!==this._pendingResolve){const e=this._pendingResolve,t=this._pendingReject,i=this._preDequeueTest;this._clearPending();try{i(this._queue[0]),e(this._queue.shift())}catch(e){t(e)}}}dequeue(e,t){if(void 0===this._queue)throw new Error("The queue has already been destroyed, cannot dequeue any data.");if(void 0!==this._pendingResolve)throw new Error(r);return 0===this._queue.length?new Promise((i,n)=>{this._pendingResolve=i,this._pendingReject=n,this._preDequeueTest=t,e(()=>{this._pendingResolve===i&&this._clearPending()})}):(t(this._queue[0]),this._queue.shift())}destroy(){const e=this._queue;if(this._queue=void 0,void 0!==this._pendingResolve){const e=this._pendingReject;this._clearPending(),e(new Error("Pending dequeue operation failed due to queue destruction."))}return e}}const o=async function(e){try{return await e()}catch(e){return}},l=function(e){let t;return{timeoutPromise:new Promise((i,n)=>{if(Number.isNaN(e)||e<0)t=void 0;else if(0===e)t=void 0,n(new Error(a));else{t=setTimeout(()=>{n(new Error(a))},e>2147483647?2147483647:e)}}),timeoutAbort:()=>{void 0!==t&&clearTimeout(t)}}},d=function(e,t){let i=()=>{};return{messageDequeuePromise:e.dequeue(e=>{i=e},t),messageDequeueAbort:i}},h=Object.freeze({BINARY:"BINARY",STRING:"STRING"}),c=function(e){if("string"!=typeof e)throw new Error("Read string was used to read a non-string message LVError(21506)")},u=function(e){if(e instanceof ArrayBuffer==!1)throw new Error("Read byte array was used to read a non-binary message LVError(21507)")},p=function(e){switch(e){case h.STRING:return c;case h.BINARY:return u;default:throw new Error(`Unsupported message type: ${e}`)}};class m{constructor(n,r){this._webSocket=void 0;try{this._webSocket=new WebSocket(n,r)}catch(t){throw new Error(e)}this._webSocket.binaryType="arraybuffer",this._messageQueue=new s;const a={open:void 0,close:void 0,error:void 0,message:void 0},o=()=>{Object.keys(a).forEach(e=>{this._webSocket.removeEventListener(e,a[e]),a[e]=void 0})};this._opened=new Promise(e=>{a.open=(()=>{e(this._webSocket.protocol)})}),this._closed=new Promise((e,t)=>{a.close=(()=>{o(),t(new Error(i))})}),this._errored=new Promise((e,i)=>{a.error=(()=>{o(),i(new Error(t))})}),a.message=(e=>{this._messageQueue.enqueue(e.data)}),Object.keys(a).forEach(e=>{this._webSocket.addEventListener(e,a[e])})}async open(){return await Promise.race([this._errored,this._closed,this._opened])}send(e){try{this._webSocket.send(e)}catch(e){throw new Error(n)}}async read(e,t){const i=1e3*t,{timeoutPromise:n,timeoutAbort:r}=l(i),{messageDequeuePromise:a,messageDequeueAbort:s}=d(this._messageQueue,p(e));try{const t=await Promise.race([a,this._errored,this._closed,n]);return e===h.BINARY?new Uint8Array(t):t}finally{s(),r()}}async close(){this._webSocket.close();const e=o(async()=>await this._closed);await Promise.race([e,this._errored]),this._messageQueue.destroy(),this._messageQueue=void 0}}let f=1;const g=new class{constructor(){this.refnums=new Map}createRefnum(e){const t=f;return f+=1,this.refnums.set(t,e),t}getObject(e){return this.refnums.get(e)}closeRefnum(e){this.refnums.delete(e)}},v=function(e){const t=g.getObject(e);if(void 0===t)throw new Error("Invalid Refnum LVError(21500)");return t},b=function(e,t){v(e).send(t)};void 0===window.NationalInstrumentsWebSockets&&(window.NationalInstrumentsWebSockets={}),window.NationalInstrumentsWebSockets.open=async function(e,t){const i=function(e){let t;try{t=JSON.parse(e)}catch(t){throw new Error(`Protocols is not a valid JSON format. Protocols JSON: ${e} Error message: ${t.message}`)}if(!1===Array.isArray(t)||!1===t.every(e=>"string"==typeof e))throw new Error(`Invalid format for protocols, expected an array of zero or more strings. Protocols JSON: ${e}`);return t}(t),n=new m(e,i),r=await n.open(),a=g.createRefnum(n);return JSON.stringify({refnum:a,protocol:r})},window.NationalInstrumentsWebSockets.sendString=b,window.NationalInstrumentsWebSockets.sendByteArray=b,window.NationalInstrumentsWebSockets.readString=function(e,t){return v(e).read(h.STRING,t)},window.NationalInstrumentsWebSockets.readByteArray=function(e,t){return v(e).read(h.BINARY,t)},window.NationalInstrumentsWebSockets.close=async function(e){const t=v(e);g.closeRefnum(e),await t.close()}}();var Qe=Object.freeze({});!function(){var e,t,i,n,r,a,s,o,l,d,h,c,u,p,m,f,g,v,b,y,_,w,x,C,S;e=window,t=function(e){return new t.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=t:e.Globalize=t,t.cultures={},t.prototype={constructor:t,init:function(e){return this.cultures=t.cultures,this.cultureSelector=e,this}},t.prototype.init.prototype=t.prototype,t.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},t.cultures.default.calendar=t.cultures.default.calendars.standard,t.cultures.en=t.cultures.default,t.cultureSelector="en",i=/^0x[a-f0-9]+$/i,n=/^[+\-]?infinity$/i,r=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,a=/^\s+|\s+$/g,s=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},o=function(e,t){return e.substr(e.length-t.length)===t},l=function(){var e,t,i,n,r,a,s=arguments[0]||{},o=1,u=arguments.length,p=!1;for("boolean"==typeof s&&(p=s,s=arguments[1]||{},o=2),"object"==typeof s||h(s)||(s={});o<u;o++)if(null!=(e=arguments[o]))for(t in e)i=s[t],s!==(n=e[t])&&(p&&n&&(c(n)||(r=d(n)))?(r?(r=!1,a=i&&d(i)?i:[]):a=i&&c(i)?i:{},s[t]=l(p,a,n)):void 0!==n&&(s[t]=n));return s},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=function(e){return"[object Function]"===Object.prototype.toString.call(e)},c=function(e){return"[object Object]"===Object.prototype.toString.call(e)},u=function(e,t){return 0===e.indexOf(t)},p=function(e){return(e+"").replace(a,"")},m=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},f=function(e,t,i){var n;for(n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e},g=function(e,t){for(var i=0,n=!1,r=0,a=e.length;r<a;r++){var s=e.charAt(r);switch(s){case"'":n?t.push("'"):i++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(s),n=!1}}return i},v=function(e,t){t=t||"F";var i,n=e.patterns,r=t.length;if(1===r){if(!(i=n[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},b=function(e,t,i){function n(e,t){if(e<0)return"-"+n(-e,t);var i,r=e+"";return t>1&&r.length<t?(i=y[t-2]+r).substr(i.length-t,t):i=r}function r(e,t){if(f)return f[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var a,s=i.calendar,o=s.convert;if(!t||!t.length||"i"===t){if(i&&i.name.length)if(o)a=b(e,s.patterns.F,i);else{var l=new Date(e.getTime()),d=w(e,s.eras);l.setFullYear(x(e,s,d)),a=l.toLocaleString()}else a=e.toString();return a}var h=s.eras,c="s"===t;t=v(s,t),a=[];var u,p,m,f,y=["0","00","000"],C=/([^d]|^)(d|dd)([^d]|$)/g,S=0,T=_();for(!c&&o&&(f=o.fromGregorian(e));;){var P=T.lastIndex,I=T.exec(t),E=t.slice(P,I?I.index:t.length);if(S+=g(E,a),!I)break;if(S%2)a.push(I[0]);else{var D=I[0],k=D.length;switch(D){case"ddd":case"dddd":var j=3===k?s.days.namesAbbr:s.days.names;a.push(j[e.getDay()]);break;case"d":case"dd":p=!0,a.push(n(r(e,2),k));break;case"MMM":case"MMMM":var M=r(e,1);a.push(s.monthsGenitive&&(p||m?p:(p=C.test(t),m=!0,p))?s.monthsGenitive[3===k?"namesAbbr":"names"][M]:s.months[3===k?"namesAbbr":"names"][M]);break;case"M":case"MM":a.push(n(r(e,1)+1,k));break;case"y":case"yy":case"yyyy":M=f?f[0]:x(e,s,w(e,h),c),k<4&&(M%=100),a.push(n(M,k));break;case"h":case"hh":0==(u=e.getHours()%12)&&(u=12),a.push(n(u,k));break;case"H":case"HH":a.push(n(e.getHours(),k));break;case"m":case"mm":a.push(n(e.getMinutes(),k));break;case"s":case"ss":a.push(n(e.getSeconds(),k));break;case"t":case"tt":M=e.getHours()<12?s.AM?s.AM[0]:" ":s.PM?s.PM[0]:" ",a.push(1===k?M.charAt(0):M);break;case"f":case"ff":case"fff":a.push(n(e.getMilliseconds(),3).substr(0,k));break;case"z":case"zz":u=e.getTimezoneOffset()/60,a.push((u<=0?"+":"-")+n(Math.floor(Math.abs(u)),k));break;case"zzz":u=e.getTimezoneOffset()/60,a.push((u<=0?"+":"-")+n(Math.floor(Math.abs(u)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":s.eras&&a.push(s.eras[w(e,h)].name);break;case"/":a.push(s["/"]);break;default:throw"Invalid date format pattern '"+D+"'."}}}return a.join("")},function(){var e;e=function(e,t,i){var n=i.groupSizes,r=n[0],a=1,s=Math.pow(10,t),o=Math.round(e*s)/s;isFinite(o)||(o=e);var l=(e=o)+"",d="",h=l.split(/e/i),c=h.length>1?parseInt(h[1],10):0;h=(l=h[0]).split("."),l=h[0],d=h.length>1?h[1]:"",c>0?(l+=(d=f(d,c,!1)).slice(0,c),d=d.substr(c)):c<0&&(d=(l=f(l,1+(c=-c),!0)).slice(-c,l.length)+d,l=l.slice(0,-c)),d=t>0?i["."]+(d.length>t?d.slice(0,t):f(d,t)):"";for(var u=l.length-1,p=i[","],m="";u>=0;){if(0===r||r>u)return l.slice(0,u+1)+(m.length?p+m+d:d);m=l.slice(u-r+1,u+1)+(m.length?p+m:""),u-=r,a<n.length&&(r=n[a],a++)}return l.slice(0,u+1)+p+m+d},y=function(t,i,n){if(!isFinite(t))return t===1/0?n.numberFormat.positiveInfinity:t===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!i||"i"===i)return n.name.length?t.toLocaleString():t.toString();i=i||"D";var r,a=n.numberFormat,s=Math.abs(t),o=-1;i.length>1&&(o=parseInt(i.slice(1),10));var l,d=i.charAt(0).toUpperCase();switch(d){case"D":r="n",s=m(s),-1!==o&&(s=f(""+s,o,!0)),t<0&&(s="-"+s);break;case"N":l=a;case"C":l=l||a.currency;case"P":l=l||a.percent,r=t<0?l.pattern[0]:l.pattern[1]||"n",-1===o&&(o=l.decimals),s=e(s*("P"===d?100:1),o,l);break;default:throw"Bad number format specifier: "+d}for(var h=/n|\$|-|%/g,c="";;){var u=h.lastIndex,p=h.exec(r);if(c+=r.slice(u,p?p.index:r.length),!p)break;switch(p[0]){case"n":c+=s;break;case"$":c+=a.currency.symbol;break;case"-":/[1-9]/.test(s)&&(c+=a["-"]);break;case"%":c+=a.percent.symbol}}return c}}(),_=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(e,t){if(!t)return 0;for(var i,n=e.getTime(),r=0,a=t.length;r<a;r++)if(null===(i=t[r].start)||n>=i)return r;return 0},x=function(e,t,i,n){var r=e.getFullYear();return!n&&t.eras&&(r-=t.eras[i].offset),r},function(){var e,t,i,n,r,a,o;e=function(e,t){if(t<100){var i=new Date,n=w(i),r=x(i,e,n),a=e.twoDigitYearMax;(t+=r-r%100)>(a="string"==typeof a?(new Date).getFullYear()%100+parseInt(a,10):a)&&(t-=100)}return t},t=function(e,t,i){var n,r=e.days,l=e._upperDays;return l||(e._upperDays=l=[o(r.names),o(r.namesAbbr),o(r.namesShort)]),t=a(t),i?-1===(n=s(l[1],t))&&(n=s(l[2],t)):n=s(l[0],t),n},i=function(e,t,i){var n=e.months,r=e.monthsGenitive||e.months,l=e._upperMonths,d=e._upperMonthsGen;l||(e._upperMonths=l=[o(n.names),o(n.namesAbbr)],e._upperMonthsGen=d=[o(r.names),o(r.namesAbbr)]),t=a(t);var h=s(i?l[1]:l[0],t);return h<0&&(h=s(i?d[1]:d[0],t)),h},n=function(e,t){var i=e._parseRegExp;if(i){var n=i[t];if(n)return n}else e._parseRegExp=i={};for(var r,a=v(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],l=0,d=0,h=_();null!==(r=h.exec(a));){var c=a.slice(l,r.index);if(l=h.lastIndex,(d+=g(c,s))%2)s.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\/)";break;default:throw"Invalid date format pattern '"+p+"'."}u&&s.push(u),o.push(r[0])}}g(a.slice(l),s),s.push("$");var f={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:o};return i[t]=f},r=function(e,t,i){return e<t||e>i},a=function(e){return e.split("Â ").join(" ").toUpperCase()},o=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=a(e[i]);return t},C=function(a,s,o){a=p(a);var l=o.calendar,d=n(l,s),h=new RegExp(d.regExp).exec(a);if(null===h)return null;for(var c,m=d.groups,f=null,g=null,v=null,b=null,y=null,_=0,w=0,x=0,C=0,S=null,T=!1,P=0,I=m.length;P<I;P++){var E=h[P+1];if(E){var D=m[P],k=D.length,j=parseInt(E,10);switch(D){case"dd":case"d":if(r(b=j,1,31))return null;break;case"MMM":case"MMMM":if(v=i(l,E,3===k),r(v,0,11))return null;break;case"M":case"MM":if(r(v=j-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(g=k<4?e(l,j):j,r(g,0,9999))return null;break;case"h":case"hh":if(12===(_=j)&&(_=0),r(_,0,11))return null;break;case"H":case"HH":if(r(_=j,0,23))return null;break;case"m":case"mm":if(r(w=j,0,59))return null;break;case"s":case"ss":if(r(x=j,0,59))return null;break;case"tt":case"t":if(!(T=l.PM&&(E===l.PM[0]||E===l.PM[1]||E===l.PM[2]))&&(!l.AM||E!==l.AM[0]&&E!==l.AM[1]&&E!==l.AM[2]))return null;break;case"f":case"ff":case"fff":if(C=j*Math.pow(10,3-k),r(C,0,999))return null;break;case"ddd":case"dddd":if(y=t(l,E,3===k),r(y,0,6))return null;break;case"zzz":var M=E.split(/:/);if(2!==M.length)return null;if(c=parseInt(M[0],10),r(c,-12,13))return null;var A=parseInt(M[1],10);if(r(A,0,59))return null;S=60*c+(u(E,"-")?-A:A);break;case"z":case"zz":if(r(c=j,-12,13))return null;S=60*c;break;case"g":case"gg":var N=E;if(!N||!l.eras)return null;N=p(N.toLowerCase());for(var q=0,O=l.eras.length;q<O;q++)if(N===l.eras[q].name.toLowerCase()){f=q;break}if(null===f)return null}}}var B,R=new Date,V=l.convert;if(B=V?V.fromGregorian(R)[0]:R.getFullYear(),null===g?g=B:l.eras&&(g+=l.eras[f||0].offset),null===v&&(v=0),null===b&&(b=1),V){if(null===(R=V.toGregorian(g,v,b)))return null}else{if(R.setFullYear(g,v,b),R.getDate()!==b)return null;if(null!==y&&R.getDay()!==y)return null}if(T&&_<12&&(_+=12),R.setHours(_,w,x,C),null!==S){var H=R.getMinutes()-(S+R.getTimezoneOffset());R.setHours(R.getHours()+parseInt(H/60,10),H%60)}return R}}(),S=function(e,t,i){var n,r=t["-"],a=t["+"];switch(i){case"n -":r=" "+r,a=" "+a;case"n-":o(e,r)?n=["-",e.substr(0,e.length-r.length)]:o(e,a)&&(n=["+",e.substr(0,e.length-a.length)]);break;case"- n":r+=" ",a+=" ";case"-n":u(e,r)?n=["-",e.substr(r.length)]:u(e,a)&&(n=["+",e.substr(a.length)]);break;case"(n)":u(e,"(")&&o(e,")")&&(n=["-",e.substr(1,e.length-2)])}return n||["",e]},t.prototype.findClosestCulture=function(e){return t.findClosestCulture.call(this,e)},t.prototype.format=function(e,i,n){return t.format.call(this,e,i,n)},t.prototype.localize=function(e,i){return t.localize.call(this,e,i)},t.prototype.parseInt=function(e,i,n){return t.parseInt.call(this,e,i,n)},t.prototype.parseFloat=function(e,i,n){return t.parseFloat.call(this,e,i,n)},t.prototype.culture=function(e){return t.culture.call(this,e)},t.addCultureInfo=function(e,t,i){var n={},r=!1;"string"!=typeof e?(i=e,e=this.culture().name,n=this.cultures[e]):"string"!=typeof t?(i=t,r=null==this.cultures[e],n=this.cultures[e]||this.cultures.default):(r=!0,n=this.cultures[t]),this.cultures[e]=l(!0,{},n,i),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},t.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),d(e)){var i,n,r=this.cultures,a=e,s=a.length,o=[];for(n=0;n<s;n++){var l,h=(e=p(a[n])).split(";");i=p(h[0]),1===h.length?l=1:0===(e=p(h[1])).indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1,o.push({lang:i,pri:l})}for(o.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),n=0;n<s;n++)if(t=r[i=o[n].lang])return t;for(n=0;n<s;n++)for(i=o[n].lang;;){var c=i.lastIndexOf("-");if(-1===c)break;if(t=r[i=i.substr(0,c)])return t}for(n=0;n<s;n++)for(var u in i=o[n].lang,r){var m=r[u];if(m.language==i)return m}}else if("object"==typeof e)return e;return t||null},t.format=function(e,t,i){var n=this.findClosestCulture(i);return e instanceof Date?e=b(e,t,n):"number"==typeof e&&(e=y(e,t,n)),e},t.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},t.parseDate=function(e,t,i){var n,r,a;if(i=this.findClosestCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(var s=0,o=t.length;s<o;s++){var l=t[s];if(l&&(n=C(e,l,i)))break}}else for(r in a=i.calendar.patterns)if(n=C(e,a[r],i))break;return n||null},t.parseInt=function(e,i,n){return m(t.parseFloat(e,i,n))},t.parseFloat=function(e,t,a){"number"!=typeof t&&(a=t,t=10);var s=this.findClosestCulture(a),o=NaN,l=s.numberFormat;if(e.indexOf(s.numberFormat.currency.symbol)>-1&&(e=(e=e.replace(s.numberFormat.currency.symbol,"")).replace(s.numberFormat.currency["."],s.numberFormat["."])),e.indexOf(s.numberFormat.percent.symbol)>-1&&(e=e.replace(s.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),n.test(e))o=parseFloat(e);else if(!t&&i.test(e))o=parseInt(e,16);else{var d=S(e,l,l.pattern[0]),h=d[0],c=d[1];""===h&&"(n)"!==l.pattern[0]&&(h=(d=S(e,l,"(n)"))[0],c=d[1]),""===h&&"-n"!==l.pattern[0]&&(h=(d=S(e,l,"-n"))[0],c=d[1]),h=h||"+";var u,p,m=c.indexOf("e");m<0&&(m=c.indexOf("E")),m<0?(p=c,u=null):(p=c.substr(0,m),u=c.substr(m+1));var f,g,v=l["."],b=p.indexOf(v);b<0?(f=p,g=null):(f=p.substr(0,b),g=p.substr(b+v.length));var y=l[","];f=f.split(y).join("");var _=y.replace(/\u00A0/g," ");y!==_&&(f=f.split(_).join(""));var w=h+f;if(null!==g&&(w+="."+g),null!==u){var x=S(u,l,"-n");w+="e"+(x[0]||"+")+x[1]}r.test(w)&&(o=parseFloat(w))}return o},t.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}();var Ke,Ze=Object.freeze({});Ke=window,("undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?require("globalize"):Ke.Globalize).addCultureInfo("en-US","default",{name:"en-US",englishName:"English (United States)"});var et=Object.freeze({});document.all&&!document.addEventListener||function(e,t){var i,n,r,a=!!e.ActiveXObject&&function(){for(var e in i)i[e](0,1)},s=0,o=e.document,l=(e.location,e.navigator),d=e.JQXLite,h=e.$,c=Array.prototype.push,u=Array.prototype.slice,p=Array.prototype.indexOf,m=Object.prototype.toString,f=Object.prototype.hasOwnProperty,g=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},b=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,y=/\S/,_=/\s+/,w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,T=/(?:^|:|,)(?:\s*\[)+/g,P=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,I=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,E=/^-ms-/,D=/-([\da-z])/gi,k=function(e,t){return(t+"").toUpperCase()},j=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",j,!1),v.ready()):"complete"===o.readyState&&(o.detachEvent("onreadystatechange",j),v.ready())},M={};v.fn=v.prototype={constructor:v,init:function(e,i,n){var r,a,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:x.exec(e))||!r[1]&&i)return!i||i.jqx?(i||n).find(e):this.constructor(i).find(e);if(r[1])return s=(i=i instanceof v?i[0]:i)&&i.nodeType?i.ownerDocument||i:o,e=v.parseHTML(r[1],s,!0),C.test(r[1])&&v.isPlainObject(i)&&this.attr.call(e,i,!0),v.merge(this,e);if((a=o.getElementById(r[2]))&&a.parentNode){if(a.id!==r[2])return n.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return v.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return u.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=v.merge(this.constructor(),e);return n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return-1==(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(u.apply(this,arguments),"slice",u.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:c,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,i,n,r,a,s,o=arguments[0]||{},l=1,d=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[1]||{},l=2),"object"==typeof o||v.isFunction(o)||(o={}),d===l&&(o=this,--l);l<d;l++)if(null!=(e=arguments[l]))for(i in e)n=o[i],o!==(r=e[i])&&(h&&r&&(v.isPlainObject(r)||(a=v.isArray(r)))?(a?(a=!1,s=n&&v.isArray(n)?n:[]):s=n&&v.isPlainObject(n)?n:{},o[i]=v.extend(h,s,r)):r!==t&&(o[i]=r));return o},v.extend({noConflict:function(t){return e.$===v&&(e.$=h),t&&e.JQXLite===v&&(e.JQXLite=d),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(!0===e?!--v.readyWait:!v.isReady){if(!o.body)return setTimeout(v.ready,1);v.isReady=!0,!0!==e&&--v.readyWait>0||(r.resolveWith(o,[v]),v.fn.trigger&&v(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===v.type(e)},isArray:Array.isArray||function(e){return"array"===v.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):M[m.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==v.type(e)||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;for(i in e);return i===t||f.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var n;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||o,(n=C.exec(e))?[t.createElement(n[1])]:(n=v.buildFragment([e],t,i?null:[]),v.merge([],(n.cacheable?v.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=v.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):S.test(t.replace(P,"@").replace(I,"]").replace(T,""))?new Function("return "+t)():void v.error("Invalid JSON: "+t)):null},parseXML:function(i){var n;if(!i||"string"!=typeof i)return null;try{e.DOMParser?n=(new DOMParser).parseFromString(i,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(i))}catch(e){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&y.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(E,"ms-").replace(D,k)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,n){var r,a=0,s=e.length,o=s===t||v.isFunction(e);if(n)if(o){for(r in e)if(!1===i.apply(e[r],n))break}else for(;a<s&&!1!==i.apply(e[a++],n););else if(o){for(r in e)if(!1===i.call(e[r],r,e[r]))break}else for(;a<s&&!1!==i.call(e[a],a,e[a++]););return e},trim:g&&!g.call("\ufeffÂ ")?function(e){return null==e?"":g.call(e)}:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var i,n=t||[];return null!=e&&(i=v.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||v.isWindow(e)?c.call(n,e):v.merge(n,e)),n},inArray:function(e,t,i){var n;if(t){if(p)return p.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,r=e.length,a=0;if("number"==typeof n)for(;a<n;a++)e[r++]=i[a];else for(;i[a]!==t;)e[r++]=i[a++];return e.length=r,e},grep:function(e,t,i){var n=[],r=0,a=e.length;for(i=!!i;r<a;r++)i!==!!t(e[r],r)&&n.push(e[r]);return n},map:function(e,i,n){var r,a,s=[],o=0,l=e.length;if(e instanceof v||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||v.isArray(e)))for(;o<l;o++)null!=(r=i(e[o],o,n))&&(s[s.length]=r);else for(a in e)null!=(r=i(e[a],a,n))&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,i){var n,r,a;return"string"==typeof i&&(n=e[i],i=e,e=n),v.isFunction(e)?(r=u.call(arguments,2),(a=function(){return e.apply(i,r.concat(u.call(arguments)))}).guid=e.guid=e.guid||v.guid++,a):t},access:function(e,i,n,r,a,s,o){var l,d=null==n,h=0,c=e.length;if(n&&"object"==typeof n){for(h in n)v.access(e,i,h,n[h],1,s,r);a=1}else if(r!==t){if(l=o===t&&v.isFunction(r),d&&(l?(l=i,i=function(e,t,i){return l.call(v(e),i)}):(i.call(e,r),i=null)),i)for(;h<c;h++)i(e[h],n,l?r.call(e[h],h,i(e[h],n)):r,o);a=1}return a?e:d?i.call(e):c?i(e[0],n):s},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r)if(r=v.Deferred(),"complete"===o.readyState)setTimeout(v.ready,1);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",j,!1),e.addEventListener("load",v.ready,!1);else{o.attachEvent("onreadystatechange",j),e.attachEvent("onload",v.ready);var i=!1;try{i=null==e.frameElement&&o.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!v.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}v.ready()}}()}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){M["[object "+t+"]"]=t.toLowerCase()}),n=v(o);var A={};v.Callbacks=function(e){e="string"==typeof e?A[e]||function(e){var t=A[e]={};return v.each(e.split(_),function(e,i){t[i]=!0}),t}(e):v.extend({},e);var i,n,r,a,s,o,l=[],d=!e.once&&[],h=function(t){for(i=e.memory&&t,n=!0,o=a||0,a=0,s=l.length,r=!0;l&&o<s;o++)if(!1===l[o].apply(t[0],t[1])&&e.stopOnFalse){i=!1;break}r=!1,l&&(d?d.length&&h(d.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var t=l.length;!function t(i){v.each(i,function(i,n){var r=v.type(n);"function"===r?e.unique&&c.has(n)||l.push(n):n&&n.length&&"string"!==r&&t(n)})}(arguments),r?s=l.length:i&&(a=t,h(i))}return this},remove:function(){return l&&v.each(arguments,function(e,t){for(var i;(i=v.inArray(t,l,i))>-1;)l.splice(i,1),r&&(i<=s&&s--,i<=o&&o--)}),this},has:function(e){return v.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=d=i=t,this},disabled:function(){return!l},lock:function(){return d=t,i||c.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!l||n&&!d||(r?d.push(t):h(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(i){v.each(t,function(t,n){var a=n[0],s=e[t];r[n[1]](v.isFunction(s)?function(){var e=s.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===r?i:this,[e])}:i[a])}),e=null}).promise()},promise:function(e){return null!=e?v.extend(e,n):n}},r={};return n.pipe=n.then,v.each(t,function(e,a){var s=a[2],o=a[3];n[a[1]]=s.add,o&&s.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),r[a[0]]=s.fire,r[a[0]+"With"]=s.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,a=u.call(arguments),s=a.length,o=1!==s||e&&v.isFunction(e.promise)?s:0,l=1===o?e:v.Deferred(),d=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?u.call(arguments):r,n===t?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);r<s;r++)a[r]&&v.isFunction(a[r].promise)?a[r].promise().done(d(r,n,a)).fail(l.reject).progress(d(r,i,t)):--o;return o||l.resolveWith(n,a),l.promise()}}),v.support=function(){var t,i,n,r,a,s,l,d,h,c,u,p=o.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),n=p.getElementsByTagName("a")[0],!i||!n||!i.length)return{};a=(r=o.createElement("select")).appendChild(o.createElement("option")),s=p.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===s.value,optSelected:a.selected,getSetAttribute:"t"!==p.className,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete p.test}catch(e){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",u=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",u)),(s=o.createElement("input")).value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),p.appendChild(s),(l=o.createDocumentFragment()).appendChild(p.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,l.removeChild(s),l.appendChild(p),p.attachEvent)for(h in{submit:!0,change:!0,focusin:!0})(c=(d="on"+h)in p)||(p.setAttribute(d,"return;"),c="function"==typeof p[d]),t[h+"Bubbles"]=c;return v(function(){var i,n,r,a,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",l=o.getElementsByTagName("body")[0];l&&((i=o.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",l.insertBefore(i,l.firstChild),n=o.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=n.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===n.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(n,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width,(a=o.createElement("div")).style.cssText=n.style.cssText=s,a.style.marginRight=a.style.width="0",n.style.width="1px",n.appendChild(a),t.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),void 0!==n.style.zoom&&(n.innerHTML="",n.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),l.removeChild(i),i=n=r=a=null)}),l.removeChild(p),i=n=r=a=s=l=p=null,t}();var N=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,q=/([A-Z])/g;function O(e,i,n){if(n===t&&1===e.nodeType){var r="data-"+i.replace(q,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:N.test(n)?v.parseJSON(n):n)}catch(e){}v.data(e,i,n)}else n=t}return n}function B(e){var t;for(t in e)if(("data"!==t||!v.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}v.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(v.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?v.cache[e[v.expando]]:e[v.expando])&&!B(e)},data:function(e,i,n,r){if(v.acceptData(e)){var a,s,o=v.expando,l="string"==typeof i,d=e.nodeType,h=d?v.cache:e,c=d?e[o]:e[o]&&o;if(c&&h[c]&&(r||h[c].data)||!l||n!==t)return c||(d?e[o]=c=v.deletedIds.pop()||v.guid++:c=o),h[c]||(h[c]={},d||(h[c].toJSON=v.noop)),"object"!=typeof i&&"function"!=typeof i||(r?h[c]=v.extend(h[c],i):h[c].data=v.extend(h[c].data,i)),a=h[c],r||(a.data||(a.data={}),a=a.data),n!==t&&(a[v.camelCase(i)]=n),l?null==(s=a[i])&&(s=a[v.camelCase(i)]):s=a,s}},removeData:function(e,t,i){if(v.acceptData(e)){var n,r,a,s=e.nodeType,o=s?v.cache:e,l=s?e[v.expando]:v.expando;if(o[l]){if(t&&(n=i?o[l]:o[l].data)){v.isArray(t)||(t=t in n?[t]:(t=v.camelCase(t))in n?[t]:t.split(" "));for(r=0,a=t.length;r<a;r++)delete n[t[r]];if(!(i?B:v.isEmptyObject)(n))return}(i||(delete o[l].data,B(o[l])))&&(s?v.cleanData([e],!0):v.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}},_data:function(e,t,i){return v.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,i){var n,r,a,s,o,l=this[0],d=0,h=null;if(e===t){if(this.length&&(h=v.data(l),1===l.nodeType&&!v._data(l,"parsedAttrs"))){for(o=(a=l.attributes).length;d<o;d++)(s=a[d].name).indexOf("data-")||(s=v.camelCase(s.substring(5)),O(l,s,h[s]));v._data(l,"parsedAttrs",!0)}return h}return"object"==typeof e?this.each(function(){v.data(this,e)}):((n=e.split(".",2))[1]=n[1]?"."+n[1]:"",r=n[1]+"!",v.access(this,function(i){if(i===t)return(h=this.triggerHandler("getData"+r,[n[0]]))===t&&l&&(h=v.data(l,e),h=O(l,e,h)),h===t&&n[1]?this.data(n[0]):h;n[1]=i,this.each(function(){var t=v(this);t.triggerHandler("setData"+r,n),v.data(this,e,i),t.triggerHandler("changeData"+r,n)})},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=v._data(e,t),i&&(!n||v.isArray(i)?n=v._data(e,t,v.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=v.queue(e,t),n=i.length,r=i.shift(),a=v._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,function(){v.dequeue(e,t)},a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return v._data(e,i)||v._data(e,i,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,i,!0)})})}}),v.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?v.queue(this[0],e):i===t?this:this.each(function(){var t=v.queue(this,e,i);v._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx&&v.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,a=v.Deferred(),s=this,o=this.length,l=function(){--r||a.resolveWith(s,[s])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";o--;)(n=v._data(s[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),a.promise(i)}});var R,V=/[\t\r\n]/g,H=/\r/g,L=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,F=/^a(?:rea|)$/i,U=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,$=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,n,r,a,s,o;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(_),i=0,n=this.length;i<n;i++)if(1===(r=this[i]).nodeType)if(r.className||1!==t.length){for(a=" "+r.className+" ",s=0,o=t.length;s<o;s++)a.indexOf(" "+t[s]+" ")<0&&(a+=t[s]+" ");r.className=v.trim(a)}else r.className=e;return this},removeClass:function(e){var i,n,r,a,s,o,l;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(_),o=0,l=this.length;o<l;o++)if(1===(r=this[o]).nodeType&&r.className){for(n=(" "+r.className+" ").replace(V," "),a=0,s=i.length;a<s;a++)for(;n.indexOf(" "+i[a]+" ")>=0;)n=n.replace(" "+i[a]+" "," ");r.className=e?v.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return v.isFunction(e)?this.each(function(i){v(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var r,a=0,s=v(this),o=t,l=e.split(_);r=l[a++];)o=n?o:!s.hasClass(r),s[o?"addClass":"removeClass"](r);else"undefined"!==i&&"boolean"!==i||(this.className&&v._data(this,"__className__",this.className),this.className=this.className||!1===e?"":v._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(V," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,r,a=this[0];return arguments.length?(r=v.isFunction(e),this.each(function(n){var a,s=v(this);1===this.nodeType&&(null==(a=r?e.call(this,n,s.val()):e)?a="":"number"==typeof a?a+="":v.isArray(a)&&(a=v.map(a,function(e){return null==e?"":e+""})),(i=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,a,"value")!==t||(this.value=a))})):a?(i=v.valHooks[a.type]||v.valHooks[a.nodeName.toLowerCase()])&&"get"in i&&(n=i.get(a,"value"))!==t?n:"string"==typeof(n=a.value)?n.replace(H,""):null==n?"":n:void 0}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,a="select-one"===e.type||r<0,s=a?null:[],o=a?r+1:n.length,l=r<0?o:a?r:0;l<o;l++)if(((i=n[l]).selected||l===r)&&(v.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!v.nodeName(i.parentNode,"optgroup"))){if(t=v(i).val(),a)return t;s.push(t)}return s},set:function(e,t){var i=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,n,r){var a,s,o,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&v.isFunction(v.fn[i])?v(e)[i](n):void 0===e.getAttribute?v.prop(e,i,n):((o=1!==l||!v.isXMLDoc(e))&&(i=i.toLowerCase(),s=v.attrHooks[i]||(U.test(i)?R:void 0)),n!==t?null===n?void v.removeAttr(e,i):s&&"set"in s&&o&&(a=s.set(e,n,i))!==t?a:(e.setAttribute(i,n+""),n):s&&"get"in s&&o&&null!==(a=s.get(e,i))?a:null===(a=e.getAttribute(i))?t:a)},removeAttr:function(e,t){var i,n,r,a,s=0;if(t&&1===e.nodeType)for(n=t.split(_);s<n.length;s++)(r=n[s])&&(i=v.propFix[r]||r,(a=U.test(r))||v.attr(e,r,""),e.removeAttribute($?r:i),a&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(L.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&"radio"===t&&v.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var r,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!v.isXMLDoc(e))&&(i=v.propFix[i]||i,a=v.propHooks[i]),n!==t?a&&"set"in a&&(r=a.set(e,n,i))!==t?r:e[i]=n:a&&"get"in a&&null!==(r=a.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):z.test(e.nodeName)||F.test(e.nodeName)&&e.href?0:t}}}}),R={get:function(e,i){var n,r=v.prop(e,i);return!0===r||"boolean"!=typeof r&&(n=e.getAttributeNode(i))&&!1!==n.nodeValue?i.toLowerCase():t},set:function(e,t,i){var n;return!1===t?v.removeAttr(e,i):((n=v.propFix[i]||i)in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},v.support.enctype||(v.propFix.enctype="encoding");var W=/^([^\.]*|)(?:\.(.+)|)$/,G=/(?:^|\s)hover(\.\S+|)\b/,X=/^key/,Y=/^(?:mouse|contextmenu)|click/,J=/^(?:focusinfocus|focusoutblur)$/,Q=function(e){return v.event.special.hover?e:e.replace(G,"mouseenter$1 mouseleave$1")};function K(){return!1}function Z(){return!0}v.event={add:function(e,i,n,r,a){var s,o,l,d,h,c,u,p,m,f,g;if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(s=v._data(e))){for(n.handler&&(n=(m=n).handler,a=m.selector),n.guid||(n.guid=v.guid++),(l=s.events)||(s.events=l={}),(o=s.handle)||(s.handle=o=function(e){return void 0===v||e&&v.event.triggered===e.type?t:v.event.dispatch.apply(o.elem,arguments)},o.elem=e),i=v.trim(Q(i)).split(" "),d=0;d<i.length;d++)c=(h=W.exec(i[d])||[])[1],u=(h[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(a?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:h[1],data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&v.expr.match.needsContext.test(a),namespace:u.join(".")},m),(f=l[c])||((f=l[c]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,r,u,o)||(e.addEventListener?e.addEventListener(c,o,!1):e.attachEvent&&e.attachEvent("on"+c,o))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,p):f.push(p),v.event.global[c]=!0;e=null}},global:{},remove:function(e,t,i,n,r){var a,s,o,l,d,h,c,u,p,m,f,g=v.hasData(e)&&v._data(e);if(g&&(u=g.events)){for(t=v.trim(Q(t||"")).split(" "),a=0;a<t.length;a++)if(o=l=(s=W.exec(t[a])||[])[1],d=s[2],o){for(p=v.event.special[o]||{},h=(m=u[o=(n?p.delegateType:p.bindType)||o]||[]).length,d=d?new RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;c<m.length;c++)f=m[c],!r&&l!==f.origType||i&&i.guid!==f.guid||d&&!d.test(f.namespace)||n&&n!==f.selector&&("**"!==n||!f.selector)||(m.splice(c--,1),f.selector&&m.delegateCount--,p.remove&&p.remove.call(e,f));0===m.length&&h!==m.length&&(p.teardown&&!1!==p.teardown.call(e,d,g.handle)||v.removeEvent(e,o,g.handle),delete u[o])}else for(o in u)v.event.remove(e,o+t[a],i,n,!0);v.isEmptyObject(u)&&(delete g.handle,v.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,a){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,l,d,h,c,u,p,m,f,g,b=i.type||i,y=[];if(!J.test(b+v.event.triggered)&&(b.indexOf("!")>=0&&(b=b.slice(0,-1),l=!0),b.indexOf(".")>=0&&(y=b.split("."),b=y.shift(),y.sort()),r&&!v.event.customEvent[b]||v.event.global[b]))if((i="object"==typeof i?i[v.expando]?i:new v.Event(b,i):new v.Event(b)).type=b,i.isTrigger=!0,i.exclusive=l,i.namespace=y.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=b.indexOf(":")<0?"on"+b:"",r){if(i.result=t,i.target||(i.target=r),(n=null!=n?v.makeArray(n):[]).unshift(i),!(p=v.event.special[b]||{}).trigger||!1!==p.trigger.apply(r,n)){if(f=[[r,p.bindType||b]],!a&&!p.noBubble&&!v.isWindow(r)){for(g=p.delegateType||b,h=J.test(g+b)?r:r.parentNode,c=r;h;h=h.parentNode)f.push([h,g]),c=h;c===(r.ownerDocument||o)&&f.push([c.defaultView||c.parentWindow||e,g])}for(d=0;d<f.length&&!i.isPropagationStopped();d++)h=f[d][0],i.type=f[d][1],(m=(v._data(h,"events")||{})[i.type]&&v._data(h,"handle"))&&m.apply(h,n),(m=u&&h[u])&&v.acceptData(h)&&m.apply&&!1===m.apply(h,n)&&i.preventDefault();return i.type=b,a||i.isDefaultPrevented()||p._default&&!1!==p._default.apply(r.ownerDocument,n)||"click"===b&&v.nodeName(r,"a")||!v.acceptData(r)||u&&r[b]&&("focus"!==b&&"blur"!==b||0!==i.target.offsetWidth)&&!v.isWindow(r)&&((c=r[u])&&(r[u]=null),v.event.triggered=b,r[b](),v.event.triggered=t,c&&(r[u]=c)),i.result}}else for(d in s=v.cache)s[d].events&&s[d].events[b]&&v.event.trigger(i,n,s[d].handle.elem,!0)}},dispatch:function(i){i=v.event.fix(i||e.event);var n,r,a,s,o,l,d,h,c,p=(v._data(this,"events")||{})[i.type]||[],m=p.delegateCount,f=u.call(arguments),g=!i.exclusive&&!i.namespace,b=v.event.special[i.type]||{},y=[];if(f[0]=i,i.delegateTarget=this,!b.preDispatch||!1!==b.preDispatch.call(this,i)){if(m&&(!i.button||"click"!==i.type))for(a=i.target;a!=this;a=a.parentNode||this)if(!0!==a.disabled||"click"!==i.type){for(o={},d=[],n=0;n<m;n++)o[c=(h=p[n]).selector]===t&&(o[c]=h.needsContext?v(c,this).index(a)>=0:v.find(c,this,null,[a]).length),o[c]&&d.push(h);d.length&&y.push({elem:a,matches:d})}for(p.length>m&&y.push({elem:this,matches:p.slice(m)}),n=0;n<y.length&&!i.isPropagationStopped();n++)for(l=y[n],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)h=l.matches[r],(g||!i.namespace&&!h.namespace||i.namespace_re&&i.namespace_re.test(h.namespace))&&(i.data=h.data,i.handleObj=h,(s=((v.event.special[h.origType]||{}).handle||h.handler).apply(l.elem,f))!==t&&(i.result=s,!1===s&&(i.preventDefault(),i.stopPropagation())));return b.postDispatch&&b.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,a,s=i.button,l=i.fromElement;return null==e.pageX&&null!=i.clientX&&(r=(n=e.target.ownerDocument||o).documentElement,a=n.body,e.pageX=i.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?i.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,i,n=e,r=v.event.fixHooks[e.type]||{},a=r.props?this.props.concat(r.props):this.props;for(e=v.Event(n),t=a.length;t;)e[i=a[--t]]=n[i];return e.target||(e.target=n.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,n):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){v.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var r=v.extend(new v.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?v.event.trigger(r,null,t):v.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=o.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,i))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?Z:K):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Z;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=Z;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z,this.stopPropagation()},isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return r.selector,n&&(n===this||v.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),v.fn.extend({on:function(e,i,n,r,a){var s,o;if("object"==typeof e){for(o in"string"!=typeof i&&(n=n||i,i=t),e)this.on(o,i,n,e[o],a);return this}if(null==n&&null==r?(r=i,n=i=t):null==r&&("string"==typeof i?(r=n,n=t):(r=n,n=i,i=t)),!1===r)r=K;else if(!r)return this;return 1===a&&(s=r,(r=function(e){return v().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=v.guid++)),this.each(function(){v.event.add(this,e,r,n,i)})},off:function(e,i,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,v(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,i,e[a]);return this}return!1!==i&&"function"!=typeof i||(n=i,i=t),!1===n&&(n=K),this.each(function(){v.event.remove(this,e,n,i)})},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||v.guid++,n=0,r=function(i){var r=(v._data(this,"lastToggle"+e.guid)||0)%n;return v._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=i;n<t.length;)t[n++].guid=i;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},X.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),Y.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){var i,n,r,a,s,o,l,d,h,c,u,p,m,f,g,b,y,_,w=("sizcache"+Math.random()).replace(".",""),x=String,C=e.document,S=C.documentElement,T=0,P=0,I=[].pop,E=[].push,D=[].slice,k=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},j=function(e,t){return e[w]=null==t||t,e},M=function(){var e={},t=[];return j(function(i,n){return t.push(i)>r.cacheLength&&delete e[t.shift()],e[i+" "]=n},e)},A=M(),N=M(),q=M(),O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",R=B.replace("w","w#"),V="\\["+O+"*("+B+")"+O+"*(?:([*^$|!~]?=)"+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+O+"*\\]",H=":("+B+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+V+")|[^:]|\\\\.)*|.*))\\)|)",L=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",z=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),U=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),$=new RegExp(H),W=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,G=/[\x20\t\r\n\f]*[+~]/,X=/h\d/i,Y=/input|select|textarea|button/i,J=/\\(?!\\)/g,Q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+H),POS:new RegExp(L,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+L,"i")},K=function(e){var t=C.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},Z=K(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),ee=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")}),te=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ie=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),ne=K(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",S.insertBefore(e,S.firstChild);var t=C.getElementsByName&&C.getElementsByName(w).length===2+C.getElementsByName(w+0).length;return n=!C.getElementById(w),S.removeChild(e),t});try{D.call(S.childNodes,0)[0].nodeType}catch(e){D=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}function re(e,t,i,n){i=i||[];var r,a,l,d,h=(t=t||C).nodeType;if(!e||"string"!=typeof e)return i;if(1!==h&&9!==h)return[];if(!(l=s(t))&&!n&&(r=W.exec(e)))if(d=r[1]){if(9===h){if(!(a=t.getElementById(d))||!a.parentNode)return i;if(a.id===d)return i.push(a),i}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(d))&&o(t,a)&&a.id===d)return i.push(a),i}else{if(r[2])return E.apply(i,D.call(t.getElementsByTagName(e),0)),i;if((d=r[3])&&ie&&t.getElementsByClassName)return E.apply(i,D.call(t.getElementsByClassName(d),0)),i}return fe(e.replace(z,"$1"),t,i,n,l)}function ae(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function se(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function oe(e){return j(function(t){return t=+t,j(function(i,n){for(var r,a=e([],i.length,t),s=a.length;s--;)i[r=a[s]]&&(i[r]=!(n[r]=i[r]))})})}function le(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}function de(e,t){var i,n,a,s,o,l,d,h=N[w][e+" "];if(h)return t?0:h.slice(0);for(o=e,l=[],d=r.preFilter;o;){for(s in i&&!(n=F.exec(o))||(n&&(o=o.slice(n[0].length)||o),l.push(a=[])),i=!1,(n=U.exec(o))&&(a.push(i=new x(n.shift())),o=o.slice(i.length),i.type=n[0].replace(z," ")),r.filter)!(n=Q[s].exec(o))||d[s]&&!(n=d[s](n))||(a.push(i=new x(n.shift())),o=o.slice(i.length),i.type=s,i.matches=n);if(!i)break}return t?o.length:o?re.error(e):N(e,l).slice(0)}function he(e,t,n){var r=t.dir,a=n&&"parentNode"===t.dir,s=P++;return t.first?function(t,i,n){for(;t=t[r];)if(a||1===t.nodeType)return e(t,i,n)}:function(t,n,o){if(o){for(;t=t[r];)if((a||1===t.nodeType)&&e(t,n,o))return t}else for(var l,d=T+" "+s+" ",h=d+i;t=t[r];)if(a||1===t.nodeType){if((l=t[w])===h)return t.sizset;if("string"==typeof l&&0===l.indexOf(d)){if(t.sizset)return t}else{if(t[w]=h,e(t,n,o))return t.sizset=!0,t;t.sizset=!1}}}}function ce(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function ue(e,t,i,n,r){for(var a,s=[],o=0,l=e.length,d=null!=t;o<l;o++)(a=e[o])&&(i&&!i(a,n,r)||(s.push(a),d&&t.push(o)));return s}function pe(e,t,i,n,r,a){return n&&!n[w]&&(n=pe(n)),r&&!r[w]&&(r=pe(r,a)),j(function(a,s,o,l){var d,h,c,u=[],p=[],m=s.length,f=a||function(e,t,i){for(var n=0,r=t.length;n<r;n++)re(e,t[n],i);return i}(t||"*",o.nodeType?[o]:o,[]),g=!e||!a&&t?f:ue(f,u,e,o,l),v=i?r||(a?e:m||n)?[]:s:g;if(i&&i(g,v,o,l),n)for(d=ue(v,p),n(d,[],o,l),h=d.length;h--;)(c=d[h])&&(v[p[h]]=!(g[p[h]]=c));if(a){if(r||e){if(r){for(d=[],h=v.length;h--;)(c=v[h])&&d.push(g[h]=c);r(null,v=[],d,l)}for(h=v.length;h--;)(c=v[h])&&(d=r?k.call(a,c):u[h])>-1&&(a[d]=!(s[d]=c))}}else v=ue(v===s?v.splice(m,v.length):v),r?r(null,s,v,l):E.apply(s,v)})}function me(e){for(var t,i,n,a=e.length,s=r.relative[e[0].type],o=s||r.relative[" "],l=s?1:0,d=he(function(e){return e===t},o,!0),h=he(function(e){return k.call(t,e)>-1},o,!0),u=[function(e,i,n){return!s&&(n||i!==c)||((t=i).nodeType?d(e,i,n):h(e,i,n))}];l<a;l++)if(i=r.relative[e[l].type])u=[he(ce(u),i)];else{if((i=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(n=++l;n<a&&!r.relative[e[n].type];n++);return pe(l>1&&ce(u),l>1&&e.slice(0,l-1).join("").replace(z,"$1"),i,l<n&&me(e.slice(l,n)),n<a&&me(e=e.slice(n)),n<a&&e.join(""))}u.push(i)}return ce(u)}function fe(e,t,i,n,a){var s,o,d,h,c,u=de(e);if(u.length,!n&&1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(d=o[0]).type&&9===t.nodeType&&!a&&r.relative[o[1].type]){if(!(t=r.find.ID(d.matches[0].replace(J,""),t,a)[0]))return i;e=e.slice(o.shift().length)}for(s=Q.POS.test(e)?-1:o.length-1;s>=0&&(d=o[s],!r.relative[h=d.type]);s--)if((c=r.find[h])&&(n=c(d.matches[0].replace(J,""),G.test(o[0].type)&&t.parentNode||t,a))){if(o.splice(s,1),!(e=n.length&&o.join("")))return E.apply(i,D.call(n,0)),i;break}}return l(e,u)(n,t,a,i,G.test(e)),i}function ge(){}re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){return re(t,null,null,[e]).length>0},a=re.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=a(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n];n++)i+=a(t);return i},s=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},o=re.contains=S.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:S.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},re.attr=function(e,t){var i,n=s(e);return n||(t=t.toLowerCase()),(i=r.attrHandle[t])?i(e):n||te?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},r=re.selectors={cacheLength:50,createPseudo:j,match:Q,attrHandle:ee?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:n?function(e,t,i){if(void 0!==t.getElementById&&!i){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}}:function(e,t,i){if(void 0!==t.getElementById&&!i){var n=t.getElementById(e);return n?n.id===e||void 0!==n.getAttributeNode&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},TAG:Z?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var n,r=[],a=0;n=i[a];a++)1===n.nodeType&&r.push(n);return r}return i},NAME:ne&&function(e,t){if(void 0!==t.getElementsByName)return t.getElementsByName(name)},CLASS:ie&&function(e,t,i){if(void 0!==t.getElementsByClassName&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,""),e[3]=(e[4]||e[5]||"").replace(J,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||re.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&re.error(e[0]),e},PSEUDO:function(e){var t,i;return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&($.test(t)&&(i=de(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:n?function(e){return e=e.replace(J,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(J,""),function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(J,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=A[w][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&A(e,function(e){return t.test(e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n,r){var a=re.attr(n,e);return null==a?"!="===t:!t||(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.substr(a.length-i.length)===i:"~="===t?(" "+a+" ").indexOf(i)>-1:"|="===t&&(a===i||a.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n){return"nth"===e?function(e){var t,r,a=e.parentNode;if(1===i&&0===n)return!0;if(a)for(r=0,t=a.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return(r-=n)===i||r%i==0&&r/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,n=r.pseudos[e]||r.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return n[w]?n(t):n.length>1?(i=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?j(function(e,i){for(var r,a=n(e,t),s=a.length;s--;)e[r=k.call(e,a[s])]=!(i[r]=a[s])}):function(e){return n(e,0,i)}):n}},pseudos:{not:j(function(e){var t=[],i=[],n=l(e.replace(z,"$1"));return n[w]?j(function(e,t,i,r){for(var a,s=n(e,null,r,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,r,a){return t[0]=e,n(t,null,a,i),!i.pop()}}),has:j(function(e){return function(t){return re(e,t).length>0}}),contains:j(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!r.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:ae("radio"),checkbox:ae("checkbox"),file:ae("file"),password:ae("password"),image:ae("image"),submit:se("submit"),reset:se("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return Y.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:oe(function(){return[0]}),last:oe(function(e,t){return[t-1]}),eq:oe(function(e,t,i){return[i<0?i+t:i]}),even:oe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:oe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:oe(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:oe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},d=S.compareDocumentPosition?function(e,t){return e===t?(h=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return h=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,r=[],a=[],s=e.parentNode,o=t.parentNode,l=s;if(s===o)return le(e,t);if(!s)return-1;if(!o)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=o;l;)a.unshift(l),l=l.parentNode;i=r.length,n=a.length;for(var d=0;d<i&&d<n;d++)if(r[d]!==a[d])return le(r[d],a[d]);return d===i?le(e,a[d],-1):le(r[d],t,1)},[0,0].sort(d),u=!h,re.uniqueSort=function(e){var t,i=[],n=1,r=0;if(h=u,e.sort(d),h){for(;t=e[n];n++)t===e[n-1]&&(r=i.push(n));for(;r--;)e.splice(i[r],1)}return e},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},l=re.compile=function(e,t){var n,a=[],s=[],o=q[w][e+" "];if(!o){for(t||(t=de(e)),n=t.length;n--;)(o=me(t[n]))[w]?a.push(o):s.push(o);o=q(e,function(e,t){var n=t.length>0,a=e.length>0,s=function(o,l,d,h,u){var p,m,f,g=[],v=0,b="0",y=o&&[],_=null!=u,w=c,x=o||a&&r.find.TAG("*",u&&l.parentNode||l),S=T+=null==w?1:Math.E;for(_&&(c=l!==C&&l,i=s.el);null!=(p=x[b]);b++){if(a&&p){for(m=0;f=e[m];m++)if(f(p,l,d)){h.push(p);break}_&&(T=S,i=++s.el)}n&&((p=!f&&p)&&v--,o&&y.push(p))}if(v+=b,n&&b!==v){for(m=0;f=t[m];m++)f(y,g,l,d);if(o){if(v>0)for(;b--;)y[b]||g[b]||(g[b]=I.call(h));g=ue(g)}E.apply(h,g),_&&!o&&g.length>0&&v+t.length>1&&re.uniqueSort(h)}return _&&(T=S,c=w),y};return s.el=0,n?j(s):s}(s,a))}return o},C.querySelectorAll&&(m=fe,f=/'|\\/g,g=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,b=[":focus"],y=[":active"],_=S.matchesSelector||S.mozMatchesSelector||S.webkitMatchesSelector||S.oMatchesSelector||S.msMatchesSelector,K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||b.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||b.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&b.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled")}),b=new RegExp(b.join("|")),fe=function(e,t,i,n,r){if(!n&&!r&&!b.test(e)){var a,s,o=!0,l=w,d=t,h=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(a=de(e),(o=t.getAttribute("id"))?l=o.replace(f,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",s=a.length;s--;)a[s]=l+a[s].join("");d=G.test(e)&&t.parentNode||t,h=a.join(",")}if(h)try{return E.apply(i,D.call(d.querySelectorAll(h),0)),i}catch(e){}finally{o||t.removeAttribute("id")}}return m(e,t,i,n,r)},_&&(K(function(e){p=_.call(e,"div");try{_.call(e,"[test!='']:sizzle"),y.push("!=",H)}catch(e){}}),y=new RegExp(y.join("|")),re.matchesSelector=function(e,t){if(t=t.replace(g,"='$1']"),!s(e)&&!y.test(t)&&!b.test(t))try{var i=_.call(e,t);if(i||p||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,null,null,[e]).length>0})),r.pseudos.nth=r.pseudos.eq,r.filters=ge.prototype=r.pseudos,r.setFilters=new ge,re.attr=v.attr,v.find=re,v.expr=re.selectors,v.expr[":"]=v.expr.pseudos,v.unique=re.uniqueSort,v.text=re.getText,v.isXMLDoc=re.isXML,v.contains=re.contains}(e);var ee=/Until$/,te=/^(?:parents|prev(?:Until|All))/,ie=/^.[^:#\[\.,]*$/,ne=v.expr.match.needsContext,re={children:!0,contents:!0,next:!0,prev:!0};function ae(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function se(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function oe(e,t,i){if(t=t||0,v.isFunction(t))return v.grep(e,function(e,n){return!!t.call(e,n,e)===i});if(t.nodeType)return v.grep(e,function(e,n){return e===t===i});if("string"==typeof t){var n=v.grep(e,function(e){return 1===e.nodeType});if(ie.test(t))return v.filter(t,n,!i);t=v.filter(t,n)}return v.grep(e,function(e,n){return v.inArray(e,t)>=0===i})}function le(e){var t=ce.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}v.fn.extend({find:function(e){var t,i,n,r,a,s,o=this;if("string"!=typeof e)return v(e).filter(function(){for(t=0,i=o.length;t<i;t++)if(v.contains(o[t],this))return!0});for(s=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(n=s.length,v.find(e,this[t],s),t>0)for(r=n;r<s.length;r++)for(a=0;a<n;a++)if(s[a]===s[r]){s.splice(r--,1);break}return s},has:function(e){var t,i=v(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(v.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(oe(this,e,!1),"not",e)},filter:function(e){return this.pushStack(oe(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ne.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,r=this.length,a=[],s=ne.test(e)||"string"!=typeof e?v(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(s?s.index(i)>-1:v.find.matchesSelector(i,e)){a.push(i);break}i=i.parentNode}return a=a.length>1?v.unique(a):a,this.pushStack(a,"closest",e)},index:function(e){return e?"string"==typeof e?v.inArray(this[0],v(e)):v.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),n=v.merge(this.get(),i);return this.pushStack(ae(i[0])||ae(n[0])?n:v.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,i){return v.dir(e,"parentNode",i)},next:function(e){return se(e,"nextSibling")},prev:function(e){return se(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,i){return v.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return v.dir(e,"previousSibling",i)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(i,n){var r=v.map(this,t,i);return ee.test(e)||(n=i),n&&"string"==typeof n&&(r=v.filter(n,r)),r=this.length>1&&!re[e]?v.unique(r):r,this.length>1&&te.test(e)&&(r=r.reverse()),this.pushStack(r,e,u.call(arguments).join(","))}}),v.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,i,n){for(var r=[],a=e[i];a&&9!==a.nodeType&&(n===t||1!==a.nodeType||!v(a).is(n));)1===a.nodeType&&r.push(a),a=a[i];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var de,he,ce="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ue=/ JQXLite\d+="(?:null|\d+)"/g,pe=/^\s+/,me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fe=/<([\w:]+)/,ge=/<tbody/i,ve=/<|&#?\w+;/,be=/<(?:script|style|link)/i,ye=/<(?:script|object|embed|option|style)/i,_e=new RegExp("<(?:"+ce+")[\\s/>]","i"),we=/^(?:checkbox|radio)$/,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/\/(java|ecma)script/i,Se=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Te={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Pe=le(o),Ie=Pe.appendChild(o.createElement("div"));function Ee(e,t){if(1===t.nodeType&&v.hasData(e)){var i,n,r,a=v._data(e),s=v._data(t,a),o=a.events;if(o)for(i in delete s.handle,s.events={},o)for(n=0,r=o[i].length;n<r;n++)v.event.add(t,i,o[i][n]);s.data&&(s.data=v.extend({},s.data))}}function De(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&we.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando))}function ke(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function je(e){we.test(e.type)&&(e.defaultChecked=e.checked)}Te.optgroup=Te.option,Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,v.support.htmlSerialize||(Te._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(i){v(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!ae(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ae(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)e&&!v.filter(e,[i]).length||(t||1!==i.nodeType||(v.cleanData(i.getElementsByTagName("*")),v.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&v.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var i=this[0]||{},n=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(ue,""):t;if("string"==typeof e&&!be.test(e)&&(v.support.htmlSerialize||!_e.test(e))&&(v.support.leadingWhitespace||!pe.test(e))&&!Te[(fe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(me,"<$1></$2>");try{for(;n<r;n++)1===(i=this[n]||{}).nodeType&&(v.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(e){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ae(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var i=v(this),n=i.html();i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;v(this).remove(),t?v(t).before(e):v(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){var r,a,s,o,l,d,h=0,c=(e=[].concat.apply([],e))[0],u=[],p=this.length;if(!v.support.checkClone&&p>1&&"string"==typeof c&&xe.test(c))return this.each(function(){v(this).domManip(e,i,n)});if(v.isFunction(c))return this.each(function(r){var a=v(this);e[0]=c.call(this,r,i?a.html():t),a.domManip(e,i,n)});if(this[0]){if(a=(s=(r=v.buildFragment(e,this,u)).fragment).firstChild,1===s.childNodes.length&&(s=a),a)for(i=i&&v.nodeName(a,"tr"),o=r.cacheable||p-1;h<p;h++)n.call(i&&v.nodeName(this[h],"table")?(l=this[h],d="tbody",l.getElementsByTagName(d)[0]||l.appendChild(l.ownerDocument.createElement(d))):this[h],h===o?s:v.clone(s,!0,!0));s=a=null,u.length&&v.each(u,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Se,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,i,n){var r,a,s,l=e[0];return i=(i=!(i=i||o).nodeType&&i[0]||i).ownerDocument||i,!(1===e.length&&"string"==typeof l&&l.length<512&&i===o&&"<"===l.charAt(0))||ye.test(l)||!v.support.checkClone&&xe.test(l)||!v.support.html5Clone&&_e.test(l)||(a=!0,s=(r=v.fragments[l])!==t),r||(r=i.createDocumentFragment(),v.clean(e,i,r,n),a&&(v.fragments[l]=s&&r)),{fragment:r,cacheable:a}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(i){var n,r=0,a=[],s=v(i),o=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===o)return s[t](this[0]),this;for(;r<o;r++)n=(r>0?this.clone(!0):this).get(),v(s[r])[t](n),a=a.concat(n);return this.pushStack(a,e,s.selector)}}),v.extend({clone:function(e,t,i){var n,r,a,s;if(v.support.html5Clone||v.isXMLDoc(e)||!_e.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ie.innerHTML=e.outerHTML,Ie.removeChild(s=Ie.firstChild)),!(v.support.noCloneEvent&&v.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||v.isXMLDoc(e)))for(De(e,s),n=ke(e),r=ke(s),a=0;n[a];++a)r[a]&&De(n[a],r[a]);if(t&&(Ee(e,s),i))for(n=ke(e),r=ke(s),a=0;n[a];++a)Ee(n[a],r[a]);return n=r=null,s},clean:function(e,t,i,n){var r,a,s,l,d,h,c,u,p,m,f,g=t===o&&Pe,b=[];for(t&&void 0!==t.createDocumentFragment||(t=o),r=0;null!=(s=e[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(ve.test(s)){for(g=g||le(t),c=t.createElement("div"),g.appendChild(c),s=s.replace(me,"<$1></$2>"),l=(fe.exec(s)||["",""])[1].toLowerCase(),h=(d=Te[l]||Te._default)[0],c.innerHTML=d[1]+s+d[2];h--;)c=c.lastChild;if(!v.support.tbody)for(u=ge.test(s),a=(p="table"!==l||u?"<table>"!==d[1]||u?[]:c.childNodes:c.firstChild&&c.firstChild.childNodes).length-1;a>=0;--a)v.nodeName(p[a],"tbody")&&!p[a].childNodes.length&&p[a].parentNode.removeChild(p[a]);!v.support.leadingWhitespace&&pe.test(s)&&c.insertBefore(t.createTextNode(pe.exec(s)[0]),c.firstChild),s=c.childNodes,c.parentNode.removeChild(c)}else s=t.createTextNode(s);s.nodeType?b.push(s):v.merge(b,s)}if(c&&(s=c=g=null),!v.support.appendChecked)for(r=0;null!=(s=b[r]);r++)v.nodeName(s,"input")?je(s):void 0!==s.getElementsByTagName&&v.grep(s.getElementsByTagName("input"),je);if(i)for(m=function(e){if(!e.type||Ce.test(e.type))return n?n.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},r=0;null!=(s=b[r]);r++)v.nodeName(s,"script")&&m(s)||(i.appendChild(s),void 0!==s.getElementsByTagName&&(f=v.grep(v.merge([],s.getElementsByTagName("script")),m),b.splice.apply(b,[r+1,0].concat(f)),r+=f.length));return b},cleanData:function(e,t){for(var i,n,r,a,s=0,o=v.expando,l=v.cache,d=v.support.deleteExpando,h=v.event.special;null!=(r=e[s]);s++)if((t||v.acceptData(r))&&(i=(n=r[o])&&l[n])){if(i.events)for(a in i.events)h[a]?v.event.remove(r,a):v.removeEvent(r,a,i.handle);l[n]&&(delete l[n],d?delete r[o]:r.removeAttribute?r.removeAttribute(o):r[o]=null,v.deletedIds.push(n))}}}),v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},he={},(de=v.uaMatch(l.userAgent)).browser&&(he[de.browser]=!0,he.version=de.version),he.chrome?he.webkit=!0:he.webkit&&(he.safari=!0),v.browser=he,v.sub=function(){function e(t,i){return new e.fn.init(t,i)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof v&&!(n instanceof e)&&(n=e(n)),v.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn;var t=e(o);return e};var Me,Ae,Ne,qe=/alpha\([^)]*\)/i,Oe=/opacity=([^)]*)/,Be=/^(top|right|bottom|left)$/,Re=/^(none|table(?!-c[ea]).+)/,Ve=/^margin/,He=new RegExp("^("+b+")(.*)$","i"),Le=new RegExp("^("+b+")(?!px)[a-z%]+$","i"),ze=new RegExp("^([-+])=("+b+")","i"),Fe={BODY:"block"},Ue={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:0,fontWeight:400},We=["Top","Right","Bottom","Left"],Ge=["Webkit","O","Moz","ms"],Xe=v.fn.toggle;function Ye(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=Ge.length;r--;)if((t=Ge[r]+i)in e)return t;return n}function Je(e,t){return e=t||e,"none"===v.css(e,"display")||!v.contains(e.ownerDocument,e)}function Qe(e,t){for(var i,n,r=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(r[a]=v._data(i,"olddisplay"),t?(r[a]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&Je(i)&&(r[a]=v._data(i,"olddisplay",tt(i.nodeName)))):(n=Me(i,"display"),r[a]||"none"===n||v._data(i,"olddisplay",n)));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function Ke(e,t,i){var n=He.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function Ze(e,t,i,n){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===i&&(a+=v.css(e,i+We[r],!0)),n?("content"===i&&(a-=parseFloat(Me(e,"padding"+We[r]))||0),"margin"!==i&&(a-=parseFloat(Me(e,"border"+We[r]+"Width"))||0)):(a+=parseFloat(Me(e,"padding"+We[r]))||0,"padding"!==i&&(a+=parseFloat(Me(e,"border"+We[r]+"Width"))||0));return a}function et(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,r=!0,a=v.support.boxSizing&&"border-box"===v.css(e,"boxSizing");if(n<=0||null==n){if(((n=Me(e,t))<0||null==n)&&(n=e.style[t]),Le.test(n))return n;r=a&&(v.support.boxSizingReliable||n===e.style[t]),n=parseFloat(n)||0}return n+Ze(e,t,i||(a?"border":"content"),r)+"px"}function tt(e){if(Fe[e])return Fe[e];var t=v("<"+e+">").appendTo(o.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(Ae=o.body.appendChild(Ae||v.extend(o.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ne&&Ae.createElement||((Ne=(Ae.contentWindow||Ae.contentDocument).document).write("<!doctype html><html><body>"),Ne.close()),t=Ne.body.appendChild(Ne.createElement(e)),i=Me(t,"display"),o.body.removeChild(Ae)),Fe[e]=i,i}v.fn.extend({css:function(e,i){return v.access(this,function(e,i,n){return n!==t?v.style(e,i,n):v.css(e,i)},e,i,arguments.length>1)},show:function(){return Qe(this,!0)},hide:function(){return Qe(this)},toggle:function(e,t){var i="boolean"==typeof e;return v.isFunction(e)&&v.isFunction(t)?Xe.apply(this,arguments):this.each(function(){(i?e:Je(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Me(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,o,l=v.camelCase(i),d=e.style;if(i=v.cssProps[l]||(v.cssProps[l]=Ye(d,l)),o=v.cssHooks[i]||v.cssHooks[l],n===t)return o&&"get"in o&&(a=o.get(e,!1,r))!==t?a:d[i];if("string"==(s=typeof n)&&(a=ze.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(v.css(e,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||v.cssNumber[l]||(n+="px"),o&&"set"in o&&(n=o.set(e,n,r))===t)))try{d[i]=n}catch(e){}}},css:function(e,i,n,r){var a,s,o,l=v.camelCase(i);return i=v.cssProps[l]||(v.cssProps[l]=Ye(e.style,l)),(o=v.cssHooks[i]||v.cssHooks[l])&&"get"in o&&(a=o.get(e,!0,r)),a===t&&(a=Me(e,i)),"normal"===a&&i in $e&&(a=$e[i]),n||r!==t?(s=parseFloat(a),n||v.isNumeric(s)?s||0:a):a},swap:function(e,t,i){var n,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in n=i.call(e),t)e.style[r]=a[r];return n}}),e.getComputedStyle?Me=function(t,i){var n,r,a,s,o=e.getComputedStyle(t,null),l=t.style;return o&&(""!==(n=o.getPropertyValue(i)||o[i])||v.contains(t.ownerDocument,t)||(n=v.style(t,i)),Le.test(n)&&Ve.test(i)&&(r=l.width,a=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=o.width,l.width=r,l.minWidth=a,l.maxWidth=s)),n}:o.documentElement.currentStyle&&(Me=function(e,t){var i,n,r=e.currentStyle&&e.currentStyle[t],a=e.style;return null==r&&a&&a[t]&&(r=a[t]),Le.test(r)&&!Be.test(t)&&(i=a.left,(n=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=i,n&&(e.runtimeStyle.left=n)),""===r?"auto":r}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,i,n){if(i)return 0===e.offsetWidth&&Re.test(Me(e,"display"))?v.swap(e,Ue,function(){return et(e,t,n)}):et(e,t,n)},set:function(e,i,n){return Ke(0,i,n?Ze(e,t,n,v.support.boxSizing&&"border-box"===v.css(e,"boxSizing")):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return Oe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=v.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,t>=1&&""===v.trim(a.replace(qe,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=qe.test(a)?a.replace(qe,r):a+" "+r)}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Me(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,i){if(i){var n=Me(e,t);return Le.test(n)?v(e).position()[t]+"px":n}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!v.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Me(e,"display"))},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],a={};for(n=0;n<4;n++)a[e+We[n]+t]=r[n]||r[n-2]||r[0];return a}},Ve.test(e)||(v.cssHooks[e+t].set=Ke)});var nt=/%20/g,rt=/\[\]$/,at=/\r?\n/g,st=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ot=/^(?:select|textarea)/i;function lt(e,t,i,n){var r;if(v.isArray(t))v.each(t,function(t,r){i||rt.test(e)?n(e,r):lt(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==v.type(t))n(e,t);else for(r in t)lt(e+"["+r+"]",t[r],i,n)}v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ot.test(this.nodeName)||st.test(this.type))}).map(function(e,t){var i=v(this).val();return null==i?null:v.isArray(i)?v.map(i,function(e,i){return{name:t.name,value:e.replace(at,"\r\n")}}):{name:t.name,value:i.replace(at,"\r\n")}}).get()}}),v.param=function(e,i){var n,r=[],a=function(e,t){t=v.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(e)||e.jqx&&!v.isPlainObject(e))v.each(e,function(){a(this.name,this.value)});else for(n in e)lt(n,e[n],i,a);return r.join("&").replace(nt,"+")},v.support.ajax&&v.ajaxTransport(function(n){var r;if(!n.crossDomain||v.support.cors)return{send:function(o,l){var d,h,c=n.xhr();if(n.username?c.open(n.type,n.url,n.async,n.username,n.password):c.open(n.type,n.url,n.async),n.xhrFields)for(h in n.xhrFields)c[h]=n.xhrFields[h];n.mimeType&&c.overrideMimeType&&c.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(h in o)c.setRequestHeader(h,o[h])}catch(e){}c.send(n.hasContent&&n.data||null),r=function(e,s){var o,h,u,p,m;try{if(r&&(s||4===c.readyState))if(r=t,d&&(c.onreadystatechange=v.noop,a&&delete i[d]),s)4!==c.readyState&&c.abort();else{o=c.status,u=c.getAllResponseHeaders(),p={},(m=c.responseXML)&&m.documentElement&&(p.xml=m);try{p.text=c.responseText}catch(e){}try{h=c.statusText}catch(e){h=""}o||!n.isLocal||n.crossDomain?1223===o&&(o=204):o=p.text?200:404}}catch(e){s||l(-1,e)}p&&l(o,h,p,u)},n.async?4===c.readyState?setTimeout(r,0):(d=++s,a&&(i||(i={},v(e).unload(a)),i[d]=r),c.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}});var dt,ht,ct=/^(?:toggle|show|hide)$/,ut=new RegExp("^(?:([-+])=|)("+b+")([a-z%]*)$","i"),pt=/queueHooks$/,mt=[function(e,t,i){var n,r,a,s,o,l,d,h,c,u=this,p=e.style,m={},f=[],g=e.nodeType&&Je(e);for(n in i.queue||(null==(h=v._queueHooks(e,"fx")).unqueued&&(h.unqueued=0,c=h.empty.fire,h.empty.fire=function(){h.unqueued||c()}),h.unqueued++,u.always(function(){u.always(function(){h.unqueued--,v.queue(e,"fx").length||h.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===v.css(e,"display")&&"none"===v.css(e,"float")&&(v.support.inlineBlockNeedsLayout&&"inline"!==tt(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||u.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),t)if(a=t[n],ct.exec(a)){if(delete t[n],l=l||"toggle"===a,a===(g?"hide":"show"))continue;f.push(n)}if(s=f.length){"hidden"in(o=v._data(e,"fxshow")||v._data(e,"fxshow",{}))&&(g=o.hidden),l&&(o.hidden=!g),g?v(e).show():u.done(function(){v(e).hide()}),u.done(function(){var t;for(t in v.removeData(e,"fxshow",!0),m)v.style(e,t,m[t])});for(n=0;n<s;n++)r=f[n],d=u.createTween(r,g?o[r]:0),m[r]=o[r]||v.style(e,r),r in o||(o[r]=d.start,g&&(d.end=d.start,d.start="width"===r||"height"===r?1:0))}}],ft={"*":[function(e,t){var i,n,r=this.createTween(e,t),a=ut.exec(t),s=r.cur(),o=+s||0,l=1,d=20;if(a){if(i=+a[2],"px"!==(n=a[3]||(v.cssNumber[e]?"":"px"))&&o){o=v.css(r.elem,e,!0)||i||1;do{o/=l=l||".5",v.style(r.elem,e,o+n)}while(l!==(l=r.cur()/s)&&1!==l&&--d)}r.unit=n,r.start=o,r.end=a[1]?o+(a[1]+1)*i:i}return r}]};function gt(){return setTimeout(function(){dt=t},0),dt=v.now()}function vt(e,t,i){var n,r=0,a=mt.length,s=v.Deferred().always(function(){delete o.elem}),o=function(){for(var t=dt||gt(),i=Math.max(0,l.startTime+l.duration-t),n=1-(i/l.duration||0),r=0,a=l.tweens.length;r<a;r++)l.tweens[r].run(n);return s.notifyWith(e,[l,n,i]),n<1&&a?i:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:dt||gt(),duration:i.duration,tweens:[],createTween:function(t,i,n){var r=v.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var i=0,n=t?l.tweens.length:0;i<n;i++)l.tweens[i].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),d=l.props;for(function(e,t){var i,n,r,a,s;for(i in e)if(n=v.camelCase(i),r=t[n],a=e[i],v.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(s=v.cssHooks[n])&&"expand"in s)for(i in a=s.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=r);else t[n]=r}(d,l.opts.specialEasing);r<a;r++)if(n=mt[r].call(l,e,d,l.opts))return n;return function(e,t){v.each(t,function(t,i){for(var n=(ft[t]||[]).concat(ft["*"]),r=0,a=n.length;r<a;r++)if(n[r].call(e,t,i))return})}(l,d),v.isFunction(l.opts.start)&&l.opts.start.call(e,l),v.fx.timer(v.extend(o,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function bt(e,t,i,n,r){return new bt.prototype.init(e,t,i,n,r)}function yt(e,t){var i,n={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=We[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}v.Animation=v.extend(vt,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;n<r;n++)i=e[n],ft[i]=ft[i]||[],ft[i].unshift(t)},prefilter:function(e,t){t?mt.unshift(e):mt.push(e)}}),v.Tween=bt,bt.prototype={constructor:bt,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(v.cssNumber[i]?"":"px")},cur:function(){var e=bt.propHooks[this.prop];return e&&e.get?e.get(this):bt.propHooks._default.get(this)},run:function(e){var t,i=bt.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):bt.propHooks._default.set(this),this}},bt.prototype.init.prototype=bt.prototype,bt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=v.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[v.cssProps[e.prop]]||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},bt.propHooks.scrollTop=bt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var i=v.fn[t];v.fn[t]=function(n,r,a){return null==n||"boolean"==typeof n||!e&&v.isFunction(n)&&v.isFunction(r)?i.apply(this,arguments):this.animate(yt(t,!0),n,r,a)}}),v.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Je).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=v.isEmptyObject(e),a=v.speed(t,i,n),s=function(){var t=vt(this,v.extend({},e),a);r&&t.stop(!0)};return r||!1===a.queue?this.each(s):this.queue(a.queue,s)},stop:function(e,i,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=v.timers,s=v._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&pt.test(i)&&r(s[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));!t&&n||v.dequeue(this,e)})}}),v.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),v.speed=function(e,t,i){var n=e&&"object"==typeof e?v.extend({},e):{complete:i||!i&&t||v.isFunction(e)&&e,duration:e,easing:i&&t||t&&!v.isFunction(t)&&t};return n.duration=v.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in v.fx.speeds?v.fx.speeds[n.duration]:v.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v.isFunction(n.old)&&n.old.call(this),n.queue&&v.dequeue(this,n.queue)},n},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=bt.prototype.init,v.fx.tick=function(){var e,i=v.timers,n=0;for(dt=v.now();n<i.length;n++)(e=i[n])()||i[n]!==e||i.splice(n--,1);i.length||v.fx.stop(),dt=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!ht&&(ht=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(ht),ht=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var _t=/^(?:body|html)$/i;function wt(e){return v.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var i,n,r,a,s,o,l,d={top:0,left:0},h=this[0],c=h&&h.ownerDocument;return c?(n=c.body)===h?v.offset.bodyOffset(h):(i=c.documentElement,v.contains(i,h)?(void 0!==h.getBoundingClientRect&&(d=h.getBoundingClientRect()),r=wt(c),a=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,o=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:d.top+o-a,left:d.left+l-s}):d):void 0},v.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,i+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=v.css(e,"position");"static"===n&&(e.style.position="relative");var r,a,s=v(e),o=s.offset(),l=v.css(e,"top"),d=v.css(e,"left"),h={},c={};("absolute"===n||"fixed"===n)&&v.inArray("auto",[l,d])>-1?(r=(c=s.position()).top,a=c.left):(r=parseFloat(l)||0,a=parseFloat(d)||0),v.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(h.top=t.top-o.top+r),null!=t.left&&(h.left=t.left-o.left+a),"using"in t?t.using.call(e,h):s.css(h)}},v.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var t,i=null,n=null,r=this[0];return r.style.width&&(i=r.style.width),r.style.height&&(n=r.style.height),(t=e.getComputedStyle?getComputedStyle(r,null):r.currentStyle)&&(t.width&&(i=t.width),t.height&&(n=t.height)),"0px"===i&&(i=0),"0px"===n&&(n=0),null===i&&(i=0),null===n&&(n=0),{width:i,height:n}},initAnimate:function(){},sizeStyleChanged:function(e){var t,i=this;t={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver(function(e){var n=t;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(n.element.offsetWidth===n.offsetWidth&&n.element.offsetHeight===n.offsetHeight||(n.offsetWidth=n.element.offsetWidth,n.offsetHeight=n.element.offsetHeight,i.isRendered()&&n.callback()))}),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),n=_t.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(v.css(e,"marginTop"))||0,i.left-=parseFloat(v.css(e,"marginLeft"))||0,n.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||o.body;e&&!_t.test(e.nodeName)&&"static"===v.css(e,"position");)e=e.offsetParent;return e||o.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);v.fn[e]=function(r){return v.access(this,function(e,r,a){var s=wt(e);if(a===t)return s?i in s?s[i]:s.document.documentElement[r]:e[r];s?s.scrollTo(n?v(s).scrollLeft():a,n?a:v(s).scrollTop()):e[r]=a},e,r,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,i){v.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){v.fn[r]=function(r,a){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===a?"margin":"border");return v.access(this,function(i,n,r){var a;return v.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(a=i.documentElement,Math.max(i.body["scroll"+e],a["scroll"+e],i.body["offset"+e],a["offset"+e],a["client"+e])):r===t?v.css(i,n,r,o):v.style(i,n,r,o)},i,s?r:t,s,null)}})}),e.JQXLite=e.jqxHelper=v,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return v})}(window),function(e){e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window),window.jqxBaseFramework=window.minQuery||window.jQuery,function(e){e.jqx=e.jqx||{};var t,i,n,r,a={createInstance:function(t,i,n){if("jqxDataAdapter"==i){var r=n[0],a=n[1]||{};return new e.jqx.dataAdapter(r,a)}return e(t)[i](n||{}),e(t)[i]("getInstance")}};e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var n=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();null==t[n]&&null!=t.base;){if(null!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r);var a;if("string"==typeof n&&null!=t[a=n.toLowerCase()]&&e.isFunction(t[a]))return t[a].apply(t,r);t=t.base}if(null!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r);if("string"==typeof n&&null!=t[a=n.toLowerCase()]&&e.isFunction(t[a]))return t[a].apply(t,r)}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var n=e;n;){if(n.hasOwnProperty(i))return!0;if(n.hasOwnProperty(i.toLowerCase()))return!0;n=n.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(null==t)return!1;var n=typeof i==Array||i.length>0?i[0]:i;for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);null==t[n]&&null!=t.base;){if(t[n]&&e.isFunction(t[n]))return!0;var r;if("string"==typeof n&&t[r=n.toLowerCase()]&&e.isFunction(t[r]))return!0;t=t.base}return!(!t[n]||!e.isFunction(t[n]))||!("string"!=typeof n||!t[r=n.toLowerCase()]||!e.isFunction(t[r]))},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,n){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var a=t;!a.hasOwnProperty(r)&&a.base;)a=a.base;if(!a||!a.hasOwnProperty(r)){if(!n){if(a.hasOwnProperty(r.toString().toLowerCase()))return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!n)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!n)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=(t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),r=(n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var a,s,o=[];for(a in e)t.call(e,a)&&o.push(a);if(i)for(s=0;s<r;s++)t.call(e,n[s])&&o.push(n[s]);return o})),e.jqx.set=function(t,i){var n=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,a=e.data(r,t.widgetName).initArgs;if(a&&JSON&&JSON.stringify&&i[0]&&a[0])try{if(JSON.stringify(i[0])==JSON.stringify(a[0])){var s=!0;if(e.each(i[0],function(e,i){if(t[e]!=i)return s=!1,!1}),s)return}}catch(e){}t.batchUpdate=i[0];var o={},l={};e.each(i[0],function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=i&&(o[e]=t[e],l[e]=i,n++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(o[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,n++)}),n<2&&(t.batchUpdate=null)}e.each(i[0],function(i,n){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,n);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),n);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&n>1&&t.propertiesChangedHandler(t,o,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var n=e[t];e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,n,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,n,i))},e.jqx.get=function(e,t){if(null!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var n=void 0;if(typeof t==Array){if(1!=t.length)return;n=t[0]}else"string"==typeof t&&(n=t);for(;!e.hasOwnProperty(n)&&e.base;)e=e.base;return e?e[n]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var n=0;n<t.length;n++)n>0&&(i+=", "),i+=e.jqx.serialize(t[n]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var n in t)r++>0&&(i+=", "),i+=n+": "+e.jqx.serialize(t[n]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,n){e(i);var r=e.data(i,t);if(null!=r){var a=r.instance;if(e.jqx.hasFunction(a,n))return e.jqx.invoke(a,n);if(e.jqx.isPropertySetter(a,n)){if(e.jqx.validatePropertySetter(a,n))return void e.jqx.set(a,n)}else{if("object"==typeof n&&0==n.length)return;if("object"==typeof n&&1==n.length&&e.jqx.hasProperty(a,n[0]))return e.jqx.get(a,n[0]);if("string"==typeof n&&e.jqx.hasProperty(a,n[0]))return e.jqx.get(a,n)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(n)+"' does not exist."}},e.jqx.applyWidget=function(t,i,n,r){var a=!1;try{a=null!=window.MSApp}catch(e){}var s=e(t);r?(r.host=s,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var o={host:s,element:t,instance:r,initArgs:n};r.widgetName=i,e.data(t,i,o),e.data(t,"jqxWidget",o.instance);var l=new Array;for(r=o.instance;r;)r.isInitialized=!1,l.push(r),r=r.base;for(var d in l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,n),l)r=l[d],0==d&&(r.host=s,r.element=t,r.WinJS=a),null!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(a?MSApp.execUnsafeLocalFunction(function(){r.createInstance(n)}):r.createInstance(n)));for(var d in l)null!=l[d]&&(l[d].isInitialized=!0);a?MSApp.execUnsafeLocalFunction(function(){o.instance.refresh(!0)}):o.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,n){try{Array.prototype.slice.call(n,0)}catch(e){}try{window.MSApp}catch(e){}var r=t,s="";i&&(s="_"+i),e.jqx.define(e.jqx,"_"+r,s);var o=new Array;if(!window[r]){var l=function(t){if(null==t)return"";switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var i="";return e.each(t,function(t,n){var r=n;t>0&&(i+=", "),i+="[";var a=0;if("object"==e.type(r))for(var s in r)a>0&&(i+=", "),i+="{"+s+":"+r[s]+"}",a++;else a>0&&(i+=", "),i+="{"+t+":"+r+"}",a++;i+="]"}),i};a[r]=window[r]=function(t,i){var n=[];i||(i={}),n.push(i);var a=t;if("object"===e.type(a)&&t[0]?""===(a=t[0].id)&&(a=t[0].id=e.jqx.utilities.createId()):"object"===e.type(t)&&t&&t.nodeName&&""===(a=t.id)&&(a=t.id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[a]){var s;if(i&&e.each(window.jqxWidgets[a],function(t){var n=e(this.element).data();n&&n.jqxWidget&&e(this.element)[r](i)}),1==window.jqxWidgets[a].length&&(s=e(window.jqxWidgets[a][0].widgetInstance.element).data())&&s.jqxWidget)return window.jqxWidgets[a][0];if((s=e(window.jqxWidgets[a][0].widgetInstance.element).data())&&s.jqxWidget)return window.jqxWidgets[a]}var d=e(t);0===d.length&&(d=e("<div></div>"),"jqxInput"!==r&&"jqxPasswordInput"!==r&&"jqxMaskedInput"!==r||(d=e("<input/>")),"jqxTextArea"===r&&(d=e("<textarea></textarea>")),"jqxButton"!==r&&"jqxRepeatButton"!==r&&"jqxToggleButton"!==r||(d=e("<button/>")),"jqxSplitter"===r&&(d=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===r&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===r&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===r&&(d=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===r&&(d=e("<div><div>Title 1</div><div>Content 1</div></div>")));var h=[];return e.each(d,function(t){var i=d[t];if(e.jqx.applyWidget(i,r,n,void 0),!o[r]){var s=e.data(i,"jqxWidget"),c=e.jqx["_"+r].prototype.defineInstance();e.jqx["_"+r].prototype.metaInfo&&e.jqx["_"+r].prototype.metaInfo(),"jqxDockingLayout"==r&&(c=e.extend(c,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=r&&"jqxRepeatButton"!=r||(c=e.extend(c,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==r&&(c=e.extend(c,e.jqx._jqxDataTable.prototype.defineInstance()));var u=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var n=e.extend(this,i);for(var r in n.on=n.addEventListener=function(e,t){n.addHandler(n.base?n.base.host:n.host,e,t)},n.off=n.removeEventListener=function(e){n.removeHandler(n.base?n.base.host:n.host,e)},i)"function"==e.type(i[r])&&(n[r]=e.proxy(i[r],i));return n};o[r]=u,e.each(c,function(t,i){Object.defineProperty(u.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[t]!=i||"width"===t||"height"===t)){var n=this.widgetInstance[t],a=i,s=!1;if(e.type(n)==e.type(a)&&"source"!==t&&"width"!==t&&"height"!==t||(s=!0),s||l(n)!=l(a)){var o={};o[t]=i,this.widgetInstance.host?this.widgetInstance.host[r](o):this.widgetInstance.base.host[r](o),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,n,i)}}}})})}s=new o[r](i),h.push(s),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[a]||(window.jqxWidgets[a]=new Array),window.jqxWidgets[a].push(s)}),1===h.length?h[0]:h}}e.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){e(this),null==e.data(this,r)?e.jqx.applyWidget(this,r,t,void 0):e.jqx.jqxWidgetProxy(r,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,n=0;return this.each(function(){var a=e.jqx.jqxWidgetProxy(r,this,t);if(0==n)i=a,n++;else{if(1==n){var s=[];s.push(i),i=s}i.push(a)}}),i};try{e.extend(e.jqx["_"+r].prototype,Array.prototype.slice.call(n,0)[0])}catch(e){}e.extend(e.jqx["_"+r].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+r].prototype.createInstance=function(){},e.jqx["_"+r].prototype.addEventHandler=function(e,t){this.host.bind(e,t)},e.jqx["_"+r].prototype.removeEventHandler=function(e,t){this.host.unbind(e)},e.jqx["_"+r].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var n=[];n.push(i),i=n}e.jqx.applyWidget(t,r,i,this)},e.jqx["_"+r].prototype.getInstance=function(){return this},e.jqx["_"+r].prototype.propertyChangeMap={},e.jqx["_"+r].prototype.addHandler=function(t,i,n,r){e.jqx.addHandler(e(t),i,n,r)},e.jqx["_"+r].prototype.removeHandler=function(t,i,n){e.jqx.removeHandler(e(t),i,n)},e.jqx["_"+r].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return e.jqx.jqxWidgetProxy(r,this.host[0],arguments)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var n=t.split(" "),r="",a=0;a<n.length;a++){a>0&&(r+=" ");var s=n[a];r+=null!=i&&i?s+"-"+e.theme:s+" "+s+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,n,r){for(var a=i.split(" "),s=0;s<a.length;s++){var o=a[s];if(window.addEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",n,!1):t[0].addEventListener("mousewheel",n,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",n,!1);continue}}null==r||null==r?t.on?t.on(o,n):t.bind(o,n):t.on?t.on(o,r,n):t.bind(o,r,n)}},e.jqx.removeHandler=function(t,i,n){if(i)for(var r=i.split(" "),a=0;a<r.length;a++){var s=r[a];if(window.removeEventListener)switch(s){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",n,!1):t[0].removeEventListener("mousewheel",n,!1);continue;case"mousemove":if(n){t[0].removeEventListener("mousemove",n,!1);continue}}null!=s?null==n?t.off?t.off(s):t.unbind(s):t.off?t.off(s,n):t.unbind(s,n):t.off?t.off():t.unbind()}else t.off?t.off():t.unbind()},e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,n){if(void 0!==n&&n[0].className.split){for(var r=n[0].className.split(" "),a=[],s=[],o=n.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(a.push(r[l]),s.push(r[l].replace(t,i))):s.push(r[l].replace("-"+i,"")+"-"+i));for(this._removeOldClasses(a,n),this._addNewClasses(s,n),l=0;l<o.length;l+=1)this.setTheme(t,i,e(o[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]);return{top:e.jqx.mobile.getTopPos(t[0]),left:i}},resize:function(t,i,n,r){void 0===r&&(r=!0);var a=-1,s=this,o=function(e){if(!s.hiddenWidgets)return-1;for(var t=-1,i=0;i<s.hiddenWidgets.length;i++)if(e.id){if(s.hiddenWidgets[i].id==e.id){t=i;break}}else if(s.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){a=l;break}}else if(this.resizeHandlers[l].id==t[0].id){a=l;break}if(!0===n)return-1!=a&&this.resizeHandlers.splice(a,1),0==this.resizeHandlers.length&&((h=e(window)).off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null),void(-1!=(d=o(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}else if(!0===n){var d;return void(-1!=(d=o(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}s=this;var h,c=function(t,i){if(s.resizeHandlers){var n=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=n(e.widget[0]),r=n(t.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(e){}return 0},a=function(t){if(s.hiddenWidgets.length>0){s.hiddenWidgets.sort(r);var n=function(){for(var t=!1,n=new Array,r=0;r<s.hiddenWidgets.length;r++){var a=s.hiddenWidgets[r];e.jqx.isHidden(a.widget)?(t=!0,n.push(a)):a.callback&&a.callback(i)}s.hiddenWidgets=n,t||clearInterval(s.__resizeInterval)};if(0==t)return n(),void(s.__resizeInterval&&clearInterval(s.__resizeInterval));s.__resizeInterval&&clearInterval(s.__resizeInterval),s.__resizeInterval=setInterval(function(){n()},100)}};s.hiddenWidgets&&s.hiddenWidgets.length>0&&a(!1),s.hiddenWidgets=new Array,s.resizeHandlers.sort(r);for(var l=0;l<s.resizeHandlers.length;l++){var d=s.resizeHandlers[l],h=d.widget,c=d.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(null==u&&(u=c.jqxWidget.base.width),null==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var m=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(m=!0),null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),e.jqx.isHidden(h))-1===o(h)&&(m||!0===t)&&!0!==d.data.nestedWidget&&s.hiddenWidgets.push(d);else if(void 0===t||!0!==t){if(m){if(d.callback(i),s.watchedElementData)for(var f=0;f<s.watchedElementData.length;f++)if(s.watchedElementData[f].element==c.jqxWidget.element){s.watchedElementData[f].offsetWidth=c.jqxWidget.element.offsetWidth,s.watchedElementData[f].offsetHeight=c.jqxWidget.element.offsetHeight;break}s.hiddenWidgets.indexOf(d)>=0&&s.hiddenWidgets.splice(s.hiddenWidgets.indexOf(d),1)}if(c.jqxWidget.element){var g=c.jqxWidget.element.className;if((g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)&&c.jqxWidget.isOpened&&c.jqxWidget.isOpened()){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}a()}};this.resizeHandlers||(this.resizeHandlers=new Array,(h=e(window)).on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",function(t){null!=s._resizeTimer&&clearTimeout(s._resizeTimer),s._initResize?s._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(s._initResize=!0,c(null,"resize"))}),h.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(h.bind("resize.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")})));var u=t.data();r&&-1===a&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u});try{var p=u.jqxWidget.width,m=u.jqxWidget.height;u.jqxWidget.base&&(null==p&&(p=u.jqxWidget.base.width),null==m&&(m=u.jqxWidget.base.height)),void 0===p&&void 0===m&&(p=u.jqxWidget.element.style.width,m=u.jqxWidget.element.style.height);var f=!1;null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),null!=m&&-1!=m.toString().indexOf("%")&&(f=!0),f&&(this.watchedElementData||(this.watchedElementData=[]),(s=this).watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),s.observer||(s.observer=new MutationObserver(function(t){s.watchedElementData.forEach&&s.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval(function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())},100):t.callback()}))})}),s.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0})))}catch(e){}e.jqx.isHidden(t)&&!0===r&&c(!0),e.jqx.resize=function(){c(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null;if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t)},html:function(t,i){var n=/ JQXLite\d+="(?:null|\d+)"/g;if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var r=t[0]||{},a=0,s=t.length;if(void 0===i)return 1===r.nodeType?r.innerHTML.replace(n,""):void 0;var o=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if("string"==typeof i&&!/<(?:script|style|link)/i.test(i)&&(e.support.htmlSerialize||!o.test(i))&&(e.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");try{for(;a<s;a++)1===(r=this[a]||{}).nodeType&&(e.cleanData(r.getElementsByTagName("*")),r.innerHTML=i);r=0}catch(e){}}r&&t.empty().append(i)},null,i,arguments.length)}catch(n){return e(t).html(i)}},hasTransform:function(t){var i="";if(""==(i=t.css("transform"))||"none"==i){if(""!=(i=t.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i;var n=e.jqx.utilities.getBrowser();"msie"==n.browser?""!=(i=t.css("-ms-transform"))&&"none"!=i||(i=t.parents().css("-ms-transform")):"chrome"==n.browser?""!=(i=t.css("-webkit-transform"))&&"none"!=i||(i=t.parents().css("-webkit-transform")):"opera"==n.browser?""!=(i=t.css("-o-transform"))&&"none"!=i||(i=t.parents().css("-o-transform")):"mozilla"==n.browser&&(""!=(i=t.css("-moz-transform"))&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,n){if(e.jqx.ariaEnabled)if(null==i)e.each(t.aria,function(i,n){if(null==(r=t.base?t.base.host.attr(i):t.host.attr(i))||e.isFunction(r)){var r=t[n.name];e.isFunction(r)&&(r=t[n.name]()),null==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(e){}}else{var a=r;switch(n.type){case"number":a=new Number(r),isNaN(a)&&(a=r);break;case"boolean":a="true"==r;break;case"date":("Invalid Date"==(a=new Date(r))||isNaN(a))&&(a=r)}t[n.name]=a}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,n.toString()):t.attr(i,n.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,n.toString()):t.host.attr(i,n.toString()):t.attr(i,n.toString()):t.setAttribute&&t.setAttribute(i,n.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),n=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t)[0];i=parseInt(r.pageX),n=parseInt(r.pageY)}return{left:i,top:n}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},n=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i}(i[e.type],e);e.target.dispatchEvent(n);var r=e.target["on"+i[e.type]];"function"==typeof r&&r(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var a=function(){for(var e in n)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,a()}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,-1!=(e+="User-agent header: "+navigator.userAgent).indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(null!=this.touchDevice)return this.touchDevice;for(var i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)){var n=t[i];if(e.match(new RegExp("(?:"+n+")([^\\s;]+)")))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0)}var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(r.indexOf("Touch")>=0)return"MSPointerDown"in window||"pointerdown"in window?(this.touchDevice=!0,!0):r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,n=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase();return-1==r.indexOf("windows phone")&&-1==r.indexOf("WPDesktop")&&-1==r.indexOf("ZuneWP7")&&-1==r.indexOf("msie 9")&&-1==r.indexOf("msie 11")&&-1==r.indexOf("msie 10")||-1==r.indexOf("touch")?this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?n.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():n.top):i:n.top},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var n=document.createEvent("MouseEvent");n.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(n)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,n,r,a,s){if(null!=t){var o=this,l=0,d=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var h=!1,c=e(t),u=["select","input","textarea"];this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0,r=r;var p,m,f,g,v,b,y,_,w,x,C,S,T,P,I,E,D=this.getTouchEventName("touchstart")+".touchScroll",k=this.getTouchEventName("touchend")+".touchScroll",j=this.getTouchEventName("touchmove")+".touchScroll";m=i,f=0;var M=0,A=0,N=0,q=0;p=a.jqxScrollBar("max"),P=325;var O=function(){var e,t,i;t=(e=Date.now())-_,_=e,i=f-y,I=M-q,y=f,q=M,v=!0,b=1e3*i/(1+t)*.8+.2*b,E=1e3*I/(1+t)*.8+.2*E},B=!1,R=function(t){if(!o.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),u)){f=s.jqxScrollBar("value"),M=a.jqxScrollBar("value");var i,n=o.getTouches(t),c=n[0];return 1==n.length&&o.dispatchMouseEvent("mousedown",c,o.getRootNode(c.target)),p=a.jqxScrollBar("max"),m=s.jqxScrollBar("max"),B=!1,v=!0,g=W(i=t),T=G(i),b=x=E=0,y=f,q=M,_=Date.now(),clearInterval(w),w=setInterval(O,100),A=f,N=M,f>0&&f<m&&s[0].style.visibility,h=!1,l=c.pageY,d=c.pageX,o.simulatetouches&&null!=c._pageY&&(l=c._pageY,d=c._pageX),o.scrolling[r]=!0,0,0,!0}};c.on?c.on(D,R):c.bind(D,R);var V=function(e,t){return f=e>m?m:e<0?0:e,n(null,e,0,0,t),e>m?"max":e<0?"min":"value"},H=function(e,t){return M=e>p?p:e<0?0:e,n(e,null,0,0,t),e>p?"max":e<0?"min":"value"},L=function(e){if(!o.enableScrolling[r])return!0;if(!o.scrolling[r])return!0;B&&(e.preventDefault(),e.stopPropagation());var t=o.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,n=t[0].pageX;o.simulatetouches&&null!=t[0]._pageY&&(i=t[0]._pageY,n=t[0]._pageX);var c=i-l,u=n-d;h=!0,c,u;var b=null==a||"hidden"!=a[0].style.visibility,y=null==s||"hidden"!=s[0].style.visibility;(b||y)&&(b||y)&&function(e){var t,i,n;if(v){t=W(e),n=G(e),I=T-n;var r="value";if((i=g-t)>2||i<-2)return g=t,r=V(f+i,e),O(),"min"==r&&0===A||"max"==r&&A===m||!y||(e.preventDefault(),e.stopPropagation(),B=!0,!1);if(I>2||I<-2)return T=n,r=H(M+I,e),O(),"min"==r&&0===N||"max"==r&&N===p||!b||(B=!0,e.preventDefault(),e.stopPropagation(),!1);e.preventDefault()}}(e)};c.on?c.on(j,L):c.bind(j,L);var z=function(e){if(!o.enableScrolling[r])return!0;var t=o.getTouches(e)[0];if(!o.scrolling[r])return!0;if(v=!1,clearInterval(w),b>10||b<-10?(x=.8*b,C=Math.round(f+x),_=Date.now(),requestAnimationFrame(X),s.fadeIn(100)):E>10||E<-10?(x=.8*E,S=Math.round(M+x),_=Date.now(),requestAnimationFrame(Y),a.fadeIn(100)):(a.fadeOut(100),s.fadeOut(100)),o.scrolling[r]=!1,!h){t=o.getTouches(e)[0];var i=o.getRootNode(t.target);return o.dispatchMouseEvent("mouseup",t,i),o.dispatchMouseEvent("click",t,i),!0}o.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){null!=e(window).on||e(window).bind;var F=function(e){try{z(e)}catch(e){}o.scrolling[r]=!1};if(null!=e(window).on?e(document).on("mouseup.touchScroll",F):e(document).bind("mouseup.touchScroll",F),window.frameElement&&null!=window.top){var U=function(e){try{z(e)}catch(e){}o.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",U):e(window.top.document).bind("mouseup",U))}null!=e(document).on||e(document).bind;var $=function(e){if(!o.scrolling[r])return!0;o.scrolling[r]=!1;var t=o.getTouches(e)[0],i=o.getRootNode(t.target);o.dispatchMouseEvent("mouseup",t,i),o.dispatchMouseEvent("click",t,i)};null!=e(document).on?e(document).on("touchend",$):e(document).bind("touchend",$)}c.on&&(c.on("dragstart",function(e){e.preventDefault()}),c.on("selectstart",function(e){e.preventDefault()})),c.on?c.on(k+" touchcancel.touchScroll",z):c.bind(k+" touchcancel.touchScroll",z)}function W(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:o.getTouches(e)[0].clientY}function G(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:o.getTouches(e)[0].clientX}function X(){var e,t;x&&(e=Date.now()-_,(t=-x*Math.exp(-e/P))>.5||t<-.5?(V(C+t),requestAnimationFrame(X)):(V(C),s.fadeOut("fast")))}function Y(){var e,t;x&&(e=Date.now()-_,(t=-x*Math.exp(-e/P))>.5||t<-.5?(H(S+t),requestAnimationFrame(Y)):(H(S),a.fadeOut("fast")))}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,n){if(arguments.length>1&&"[object Object]"!==String(i)){if(n=e.extend({},n),null==i&&(n.expires=-1),"number"==typeof n.expires){var r=n.expires,a=n.expires=new Date;a.setDate(a.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}var s,o=(n=i||{}).raw?function(e){return e}:decodeURIComponent;return(s=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(s[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var n=e,r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t);return n},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),e.extend(e.easing,{easeOutBack:function(e,t,i,n,r,a){return null==a&&(a=1.70158),n*((t=t/r-1)*t*((a+1)*t+a)+1)+i},easeInQuad:function(e,t,i,n,r){return n*(t/=r)*t+i},easeInOutCirc:function(e,t,i,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,n,r){return n*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,n,r){return n*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,r){return(t/=r/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,r){return n*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents)return t.element.contains(this.element);for(var i=e(this).parents().get(),n=0;n<i.length;n++)if("string"!=typeof t){var r=i[n];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[n]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),n=t.element;return n||(n=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,n,i)};var t=e.fn.val;e.fn.val=function(i){return void 0===i?e(this).hasClass("jqx-widget")&&(n=e(this).data().jqxWidget)&&n.val?n.val():this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(n=e(this).find(".jqx-widget").data().jqxWidget)&&n.val?n.val():t.call(this):e(this).hasClass("jqx-widget")&&(n=e(this).data().jqxWidget)&&n.val?2!=arguments.length?n.val(i):n.val(i,arguments[1]):this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(n=e(this).find(".jqx-widget").data().jqxWidget)&&n.val?2!=arguments.length?n.val(i):n.val(i,arguments[1]):t.call(this,i);var n},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,n,r={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){if(i=s.documentElement,!e.contains(i,a))return r;void 0!==typeof a.getBoundingClientRect&&(r=a.getBoundingClientRect()),n=function(t){return e.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(s);var o=0,l=0,d=navigator.userAgent.toLowerCase();if((-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone"))&&(o=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var h=e(document.body).coord();o=-h.left,l=-h.top}return{top:l+r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o+r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework);var tt=Object.freeze({});$.jqx.theme="legacy";var nt=Object.freeze({});!function(e){e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var n=Object.defineProperty;Object.defineProperty=function(e,t,i){if(n)try{return n(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,r=arguments[1];for(n=0;n<i;n++)n in t&&e.call(r,t[n],n,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,a=this,s=[];a.notifier=null,a.name="observableArray",a.observing=!0,a.changes=new Array;i=i;return a.observe=function(){a.observing=!0,1==arguments.length&&(i=arguments[0])},a.unobserve=function(){a.observing=!1},a.toArray=function(){return s.slice(0)},a.toJSON=function(e,t){var i=s;t&&(i=t);var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return'"'+e.replace(n,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function o(e){return e<10?"0"+e:e}function l(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return function(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+'Z"':"null"}(t);case"[object Array]":return function(e){var t,i=e.length,n=[];for(t=0;t<i;t++)n.push(d(t,e)||"null");return"["+n.join(",")+"]"}(t)}return function(t){var i,n,r=[];for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(""!=i&&e&&-1===e.indexOf(i))continue;(n=d(i,t))&&r.push(a(i)+":"+n)}return"{"+r.join(",")+"}"}(t)}function d(e,t){var i=t[e],n=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(n=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(n)||!i&&"object"===n?function(e,t){switch(t){case"string":return a(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,n):l(i)}return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(i):d("",{"":i})},a.defineIndexProperty=function(t){if(!(t in a)){var i=function(t,i,n,o){var l=t[i],d=l,h=function(){return d},c=function(t){if(d!==(l=t)){var n=d;if(d=l,"function"==typeof r){var h=s.indexOf(o),c="",u=function(t,n){Object.getOwnPropertyNames(t).forEach(function(r){var a=e.type(t[r]);"array"==a||"object"==a?u(t[r],n+"."+r):i===r&&(c=n+"."+r)})};u(o,h),r({object:a,type:"update",path:c,index:h,name:i,newValue:l,oldValue:n})}}return d=l,l};null!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:h,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,h),Object.prototype.__defineSetter__.call(t,i,c)))},n=function(t,r,a){var s=e.type(t);/(number|float|int|integer|string|boolean)/.test(s)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(s){var o=e.type(t[s]);"array"==o||"object"==o?(i(t,s,0,a),n(t[s],r+"."+s,a)):i(t,s,0,a)})};Object.defineProperty(a,t,{configurable:!0,enumerable:!0,get:function(){return s[t]},set:function(e){var i=s[t];a.toJSON(null,i)!=a.toJSON(null,e)&&(s[t]=e,"function"==typeof r&&r({object:a,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),n(e,t,e))}}),n(a[t],t,a[t])}},a.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=s.length,s.push(arguments[t]),a.defineIndexProperty(e),"function"==typeof r&&r({object:a,type:"add",name:"length",index:e,newValue:s.length,oldValue:e});return s.length},a.pop=function(){if(~s.length){var e=s.length-1,t=s.pop();return delete a[e],"function"==typeof r&&r({object:a,type:"delete",name:"length",index:e,newValue:s.length,oldValue:e}),t}},a.unshift=function(){for(var e=s.length,t=0,i=arguments.length;t<i;t++)s.splice(t,0,arguments[t]),a.defineIndexProperty(s.length-1);return"function"==typeof r&&r({object:a,type:"add",index:0,name:"length",newValue:s.length,oldValue:e}),s.length},a.shift=function(){var e=s.length;if(~s.length){var t=s.shift();return 0===s.length&&delete a[e],"function"==typeof r&&r({object:a,type:"delete",index:e,name:"length",newValue:s.length,oldValue:e}),t}},a.slice=function(t,i,n){var r=s.slice(t,i);return new e.jqx.observableArray(r,n)},a.splice=function(t,i,n){var o,l=[];for(t=~t?t:s.length-t,i=(null==i?s.length-t:i)||0;i--;)o=s.splice(t,1)[0],l.push(o),delete a[s.length],"function"==typeof r&&r({object:a,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var d=2,h=arguments.length;d<h;d++)s.splice(t,0,arguments[d]),a.defineIndexProperty(s.length-1),"function"==typeof r&&r({object:a,type:"add",index:t,name:"length",newValue:s.length-1,oldValue:t}),t++;return new e.jqx.observableArray(l,n)},Object.defineProperty(a,"length",{configurable:!1,enumerable:!0,get:function(){return s.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<s.length?a.splice(t):t>s.length&&a.push.apply(a,new Array(t-s.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){return new e.jqx.observableArray(t,i)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(s,i);return t.observing=a.observing,t.changes=a.changes,t.notifier=a.notifier,t},a.remove=function(e){if(e<0||e>=a.length)throw new Error("Invalid index : "+e);if(a.hasOwnProperty(e)){var t=a[e];return a[e]=void 0,s[e]=void 0,"function"==typeof r&&r({object:a,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},a.concat=function(t,i){var n=s.concat(t);return new e.jqx.observableArray(n,i)},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in a)){Object.defineProperty(a,e,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var t=a.observing;a.observing=!1;var i=s[e].apply(s,arguments);return a.observing=t,i}})}}),a.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var n=t.split("."),r=a,s=0;s<n.length;s++){if(0===s&&n[s]>=a.length)throw new Error("Invalid Index: "+t);s<n.length-1?r=r[n[s]]:r[n[s]]=i}return!0}return t>=a.length?a.push(i):a[t]=i,!0},a.get=function(e){return a[e]},t instanceof Array&&a.push.apply(a,t),r=function(){a.observing&&(arguments&&arguments[0]&&a.changes.push(arguments[0]),i&&i.apply(a,arguments),a.notifier&&a.notifier.apply(a,arguments))},a},e.jqx.formatDate=function(t,i,n){return e.jqx.dataFormat.formatdate(t,i,n)},e.jqx.formatNumber=function(t,i,n){return e.jqx.dataFormat.formatnumber(t,i,n)},e.jqx.dataAdapter=function(t,i){if(null!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),null!=t.totalRecords&&(t.totalrecords=t.totalRecords),null!=t.loadError&&(t.loadError=t.loadError),null!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},null!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=t.formatData&&(this._options.formatData=this._source.formatData),null!=t.loadError&&(this._options.loadError=this._source.loadError),null!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=t.contentType&&(this._options.contentType=this._source.contentType),null!=t.async&&(this._options.async=this._source.async),null!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=t&&null!=t.localdata&&"function"==typeof t.localdata){var n=t.localdata();if(null!=n){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};0!=r.suspendKO&&null!=r.suspendKO&&0!=r._oldlocaldata.length||(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||null==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=n}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,n){return e.jqx.dataFormat.formatdate(t,i,n)},formatNumber:function(t,i,n){return e.jqx.dataFormat.formatnumber(t,i,n)},dataBind:function(t,i){if(1!=this.isUpdating){var n=this._source;if(n){n.generatedfields&&(n.datafields=null,n.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=n.dataFields&&(n.datafields=n.dataFields),null==n.recordstartindex&&(n.recordstartindex=0),null==n.recordendindex&&(n.recordendindex=0),null==n.loadallrecords&&(n.loadallrecords=!0),null==n.root&&(n.root=""),null==n.record&&(n.record=""),null!=n.sort&&(this.sort=n.sort),null!=n.filter?this.filter=n.filter:this.filter=null,null!=n.sortcolumn&&(this.sortcolumn=n.sortcolumn),null!=n.sortdirection&&(this.sortdirection=n.sortdirection),null!=n.sortcomparer&&(this.sortcomparer=n.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=null!=r.virtualmode&&r.virtualmode,this.totalrecords=null!=r.totalrecords?r.totalrecords:0,this.pageable=null!=r.pageable&&r.pageable,this.pagesize=null!=r.pagesize?r.pagesize:0,this.pagenum=null!=r.pagenum?r.pagenum:0,this.cachedrecords=null!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=r.updaterow?r.updaterow:null,this.addrow=null!=r.addrow?r.addrow:null,this.deleterow=null!=r.deleterow?r.deleterow:null,this.cache=null!=r.cache&&r.cache,this.unboundmode=!1,null!=n.formatdata&&(r.formatData=n.formatdata),null!=n.data&&(null==r.data&&(r.data={}),e.extend(r.data,n.data)),null!=n.mapChar&&(n.mapchar=n.maxChar),null!=n.mapchar?this.mapChar=n.mapchar?n.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||n.unboundmode)&&(this.unboundmode=r.unboundmode||n.unboundmode),null!=n.cache&&(this.cache=n.cache),this.koSubscriptions)for(var a=0;a<this.koSubscriptions.length;a++)this.koSubscriptions[a].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var s=this,o=n.datatype;"csv"!==n.datatype&&"tab"!==n.datatype&&"tsv"!==n.datatype&&"text"!=n.datatype||(o="text");var l=null==r.async||r.async;switch(null!=n.async&&(l=n.async),o){case"local":case"array":case"observablearray":case"observableArray":default:if(null==n.localdata&&n.length){n.localdata=new Array;for(var d=0;d<n.length;d++)n.localdata[n.localdata.length]=n[d],n[d].uid=d}n.beforeprocessing&&e.isFunction(n.beforeprocessing)&&n.beforeprocessing(n.localdata);var h=n.localdata.length;if(this.totalrecords=this.virtualmode&&n.totalrecords||h,this.unboundmode)if(this.totalrecords=this.unboundmode&&n.totalrecords||h,(p=n.datafields?n.datafields.length:0)>0)for(d=0;d<this.totalrecords;d++){for(var c={},u=0;u<p;u++)c[n.datafields[u].name]="";c.uid=d,n.localdata[n.localdata.length]=c}null==this.totalrecords&&(this.totalrecords=0);var p=n.datafields?n.datafields.length:0,m=function(t,i){for(var r={},a=0;a<i;a++){var o=n.datafields?n.datafields[a]:{},l="";if(null!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(t);else{var d=o.map.split(s.mapChar);if(d.length>0){for(var h=t,c=0;c<d.length;c++)h&&(h=h[d[c]]);l=h}else l=t[o.map]}null!=l&&null!=l?l=l.toString():null==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,null!=(l=t[o.name])&&null!=l&&(n._localdata&&l.subscribe?l=l():"array"!=o.type&&("date"===o.type?l&&l instanceof Date&&(l=l):l=l.toString()))),"[object Object]"==l&&o.map&&u&&(l=""),l=s.getvaluebytype(l,o),null!=o.displayname?r[o.displayname]=l:r[o.name]=l}}return r};if(n._localdata){this._changedrecords=[],this.records=new Array;var f=n._localdata();if(e.each(f,function(t,r){if("string"==typeof r)s.records.push(r);else{var a={},o=0,l=this;e.each(this,function(i,r){var d=null,h="string",c=i;if(p>0){for(var u=!1,m=!1,f=0;f<p;f++){var g=n.datafields[f];if(null!=g&&g.name==i){u=!0,d=g.map,h=g.type,c=g.name;break}if(null!=g&&g.map&&g.map.indexOf(i)>=0){u=!0,d=g.map,h=g.type,c=g.name,m=!0;var v=l[i];if(null!=d)if((w=d.split(s.mapChar)).length>0){for(var b=l,y=0;y<w.length;y++)b=b[w[y]];v=b}else v=l[d];"string"!=h&&(v=s.getvaluebytype(v,{type:h})),a[c]=v,null!=a[c]&&(o+=a[c].toString().length+a[c].toString().substr(0,1))}}if(!u)return!0;if(m)return!0}if(e.isFunction(l[i])){v=l[i]();if("string"!=h&&(v=s.getvaluebytype(v,{type:h})),a[i]=v,l[i].subscribe){var _=t;s.koSubscriptions[s.koSubscriptions.length]=l[i].subscribe(function(e){var t=_;a[i]=e;var n={index:t,oldrecord:a,record:a};if(s._changedrecords.push(n),!s.isUpdating)return s.callBindingUpdate("update"),s._changedrecords=[],!1})}}else{var w;v=l[i];if(null!=d)if((w=d.split(s.mapChar)).length>0){for(b=l,y=0;y<w.length;y++)b=b[w[y]];v=b}else v=l[d];"string"!=h&&(v=s.getvaluebytype(v,{type:h})),a[c]=v,null!=a[c]&&(o+=a[c].toString().length+a[c].toString().substr(0,1))}});var d=s.getid(n.id,l,t);if(a.uid=d,s.records.push(a),a._koindex=o,s._oldrecords){var h=s.records.length-1;if("update"==i&&s._oldrecords[h]._koindex!=o){var c={index:h,oldrecord:s._oldrecords[h],record:a};s._changedrecords.push(c)}}}}),"add"==i)for(h=s.records.length,d=0;d<h;d++){c=s.records[d];for(var g=!1,v=0;v<s._oldrecords.length;v++)if(s._oldrecords[v]._koindex===c._koindex){g=!0;break}g||s._changedrecords.push({index:d,oldrecord:null,record:c,position:0!=d?"last":"first"})}else if("remove"==i)for(h=s._oldrecords.length,d=0;d<h;d++){var b=s._oldrecords[d];s.records[d]?s.records[d]._koindex!=b._koindex&&s._changedrecords.push({index:d,oldrecord:b,record:null}):s._changedrecords.push({index:d,oldrecord:b,record:null})}}else if(e.isArray(n.localdata))if(0==p){y=0,_=new Array;e.each(n.localdata,function(t,i){var r=new Object(this);if("string"==typeof i)return s.records=n.localdata,!1;var a=s.getid(n.id,r,t);if("object"==typeof a&&(a=t),r.uid=a,0==t){for(var o in this){y++;var l=e.type(this[o]);_.push({name:o,type:l})}p=y,n.datafields=_,n.generatedfields=_}if(p>0){var d=m(r,p);d.uid=a,s.records[s.records.length]=d}else s.records[s.records.length]=r})}else e.each(n.localdata,function(e){var t,i=m(t=this,p),r=s.getid(n.id,i,e);"object"==typeof r&&(r=e),(t=new Object(i)).uid=r,s.records[s.records.length]=t});else{this.records=new Array;var y=0,_=new Array;e.each(n.localdata,function(t){var i=s.getid(n.id,this,t);if(0==p&&!("string"==typeof this||this instanceof String)){for(var r in this){y++;var a=e.type(this[r]);_.push({name:r,type:a})}p=y,n.datafields=_,n.generatedfields=_}if(p>0){var o=m(this,p);o.uid=i,s.records[s.records.length]=o}else this.uid=i,s.records[s.records.length]=this})}if(this.originaldata=n.localdata,this.cachedrecords=this.records,this.addForeignValues(n),r.uniqueDataFields){var w=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=w,this.cachedrecords=w}if(r.beforeLoadComplete)null!=(C=r.beforeLoadComplete(s.records,this.originaldata))&&(s.records=C,s.cachedrecords=C);if(r.autoSort&&r.autoSortField){var x=Object.prototype.toString;Object.prototype.toString=function(){return this[r.autoSortField]},s.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0}),Object.prototype.toString=x}s.loadedData=n.localdata,s.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(n.localdata,s.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=n.localdata&&!n.url){if(e.isFunction(n.beforeprocessing)&&n.beforeprocessing(n.localdata),"xml"===n.datatype?s.loadxml(n.localdata,n.localdata,n):"text"===o?s.loadtext(n.localdata,n):"ics"===o?s.loadics(n.localdata,n):s.loadjson(n.localdata,n.localdata,n),s.addForeignValues(n),r.uniqueDataFields){w=s.getUniqueRecords(s.records,r.uniqueDataFields);s.records=w,s.cachedrecords=w}var C;if(r.beforeLoadComplete)null!=(C=r.beforeLoadComplete(s.records,this.originaldata))&&(s.records=C,s.cachedrecords=C);return s.loadedData=n.localdata,s.buildHierarchy.call(s),e.isFunction(r.loadComplete)&&r.loadComplete(n.localdata,s.records),void s.callBindingUpdate(i)}var S=null!=r.data?r.data:{};if(n.processdata&&n.processdata(S),e.isFunction(r.processData)&&r.processData(S),e.isFunction(r.formatData)){var T=r.formatData(S);null!=T&&(S=T)}var P="application/x-www-form-urlencoded";r.contentType&&(P=r.contentType);var I="GET";n.type&&(I=n.type),r.type&&(I=r.type);var E=o;if("ics"==o&&(E="text"),n.url&&n.url.length>0)e.isFunction(r.loadServerData)?s._requestData(S,n,r):this.xhr=e.jqx.data.ajax({dataType:E,cache:this.cache,type:I,url:n.url,async:l,timeout:n.timeout,contentType:P,data:S,success:function(t,i,a){var l;e.isFunction(n.beforeprocessing)&&(null!=(l=n.beforeprocessing(t,i,a))&&(t=l));e.isFunction(r.downloadComplete)&&(null!=(l=r.downloadComplete(t,i,a))&&(t=l));if(null==t)return s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var d=t;if(t.records&&(d=t.records),null!=t.totalrecords?n.totalrecords=t.totalrecords:null!=t.totalRecords&&(n.totalrecords=t.totalRecords),"xml"===n.datatype?s.loadxml(null,d,n):"text"===o?s.loadtext(d,n):"ics"===o?s.loadics(d,n):s.loadjson(null,d,n),s.addForeignValues(n),r.uniqueDataFields){var h=s.getUniqueRecords(s.records,r.uniqueDataFields);s.records=h,s.cachedrecords=h}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(s.records,t);null!=c&&(s.records=c,s.cachedrecords=c)}s.loadedData=t,s.buildHierarchy.call(s),s.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,a,s.records)},error:function(t,i,a){e.isFunction(n.loaderror)&&n.loaderror(t,i,a),e.isFunction(r.loadError)&&r.loadError(t,i,a),t=null,s.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(n.beforesend)&&n.beforesend(t,i)}});else if(s.buildHierarchy(new Array),s.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!D)var D={};r.loadComplete(D)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy)(r=t.hierarchy.reservedNames).leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data");if(t.hierarchy){var n=this,r=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var a=t.hierarchy.root,s=0;s<this.records.length;s++){var o=this.records[s];if(o){var l=function(e){if(t.hierarchy.record)e.records=e[a][t.hierarchy.record];else{var i=a.split(n.mapChar),s=null;if(i.length>1){for(var o=e,l=0;l<i.length;l++)null!=o&&(o=o[i[l]]);s=o}else s=e[a];e.records=s}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)};l(o),o[r.level]=0;var d=this.getid(t.id,o,s);o.uid=d,o[r.parent]=null,o[r.data]=o,void 0===o[r.expanded]&&(o[r.expanded]=!1);var h=function(e,i){if(i)for(var a=0;a<i.length;a++){var s=i[a];if(s){l(s),s[r.level]=e[r.level]+1,s[r.parent]=e,s[r.data]=s;var o=n.getid(t.id,s,a);o==a&&null==t.id?s.uid=e.uid+"_"+o:s.uid=o,void 0===s[r.expanded]&&(s[r.expanded]=!1),h(s,s.records)}}else e.records=new Array};h(o,o.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){var c=new Array;for(s=0;s<t.hierarchy.groupingDataFields.length;s++)c.push(t.hierarchy.groupingDataFields[s].name);i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,n){var r=this;if(null!=e){if(null==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||n)){var a=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==a&&(a={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[a.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var s=function(n){if(n)for(var a=0;a<n.length;a++){var o=n[a];if(o.uid==i){var l=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==l&&(l={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[l.parent]=o,e[l.level]=o[l.level]+1,o.records?o[l.leaf]=!1:(o.records=new Array,o[l.leaf]=!1),"last"==t?o.records.push(e):"number"==typeof t&&isFinite(t)?o.records.splice(t,0,e):o.records.splice(0,0,e),!0}o.records&&s(o.records)}};s(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(n){if(n)for(var r=0;r<n.length;r++){if((o=n[r]).uid==e){n.splice(r,1),t.recordids[e]&&delete t.recordids[e];var a=function(e){for(var i=0;i<e.length;i++){for(var n=e[i].uid,r=0;r<t.records.length;r++){if(t.records[r].uid==n){t.records.splice(r,1);break}}e[i].records&&a(e[i].records)}};o.records&&a(o.records);for(var s=0;s<t.records.length;s++){var o;if((o=t.records[s]).uid==e){t.records.splice(s,1);break}}return!0}o.records&&i(o.records)}};i(this.hierarchy)}else for(var n=0;n<this.records.length;n++){if(this.records[n].uid==e)return this.records.splice(n,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,n=0;n<i;n++){var r=e.datafields[n];if(null!=r)if(null!=r.values){null==r.value&&(r.value=r.name),null==r.values.value&&(r.values.value=r.value);var a,s,o=new Array;t.pageable&&t.virtualmode?(s=(a=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(s=t.totalrecords):t.virtualmode?(a=e.recordstartindex,(s=e.recordendindex)>t.totalrecords&&(s=t.totalrecords)):(a=0,s=t.records.length);for(var l=a;l<s;l++){var d=t.records[l],h=r.name,c=d[r.value];if(null!=o[c])d[h]=o[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],m=p[r.values.value];if(null==m&&(m=p.uid),m==c){var f=p[r.values.name];d[h]=f,o[c]=f;break}}}}else if(null!=r.value)for(l=0;l<t.records.length;l++){(d=t.records[l])[r.name]=d[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(t,i,n){var r=this;n.loadServerData(t,i,function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),n.uniqueDataFields){var a=r.getUniqueRecords(r.records,n.uniqueDataFields);r.records=a,r.cachedrecords=a}if(n.beforeLoadComplete){var s=n.beforeLoadComplete(r.records);null!=s&&(r.records=s,r.cachedrecords=s)}for(var o=0;o<r.records.length;o++){var l=r.records[o];null!=l&&null==l.uid&&(l.uid=r.getid(i.id,l,o))}r.buildHierarchy.call(r),e.isFunction(n.loadComplete)&&n.loadComplete(t),r.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,n=t.length,r=new Array,a=new Array,s=0;s<i;s++){var o=e[s],l="";if(null!=o){for(var d=0;d<n;d++){l+=o[t[d]]+"_"}a[l]||(r[r.length]=o),a[l]=!0}}return r},getAggregatedData:function(t,i,n,r){var a=n;a||(a=this.records);var s={},o=new Array,l=a.length;if(0!=l&&null!=l){for(var d=0;d<l;d++)for(var h=a[d],c=0;c<t.length;c++){var u=t[c],p=h[u.name];if(u.aggregates){s[u.name]=s[u.name]||{},o[u.name]=o[u.name]||0,o[u.name]++;var m=function(t){for(var i in t){var n=s[u.name][i];null==n&&(s[u.name][i]=0,n=0),e.isFunction(t[i])&&(n=t[i](n,p,u.name,h,r)),s[u.name][i]=n}},f=parseFloat(p);(f=!isNaN(f))&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=s[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==d?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void m(this);s[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=s[u.name][this];return null==e&&(e=0),s[u.name][this]=e,!0}"object"==typeof this&&m(this)})}}for(c=0;c<t.length;c++){u=t[c];if(s[u.name]||(s[u.name]={},e.each(u.aggregates,function(e){s[u.name][this]=0})),null!=s[u.name].avg){p=s[u.name].avg;var g=o[u.name];s[u.name].avg=0===g||null==g?0:p/g}else null!=s[u.name].count&&(s[u.name].count=l);(s[u.name].stdev||s[u.name].stdevp||s[u.name].var||s[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=s[u.name][this],i=l,n=t/l,r=0,o=0;o<l;o++){var d=a[o][u.name];r+=(d-n)*(d-n)}var h="stdevp"==this||"varp"==this?i:i-1;0==h&&(h=1),"var"==this||"varp"==this?s[u.name][this]=r/h:"stdevp"!=this&&"stdev"!=this||(s[u.name][this]=Math.sqrt(r/h))}}),u.formatStrings&&e.each(u.aggregates,function(t){var n=u.formatStrings[t];if(n)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=s[u.name][this];s[u.name][this]=e.jqx.dataFormat.formatnumber(r,n,i)}else if("object"==typeof this)for(var a in this){r=s[u.name][a];s[u.name][a]=e.jqx.dataFormat.formatnumber(r,n,i)}})}return s}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,n,r,a,s,o,l,d){d||(d=0);for(var h=new Array,c=0;c<t.length;c++)h[c]=this.generatekey();i||(i="items"),n||(n="group"),a||(a="record"),o||(o="parentItem"),void 0===s&&(s="value");var u=new Array,p=0,m=new Array,f=t.length;new Array;if(!l)l=this.records;for(var g=l.length,v=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},b=0;b<g;b++){var y=v(l[b]),_=(y[this.uniqueId],new Array),w=0;for(c=0;c<f;c++){var x=y[t[c]];null!=x&&(_[w++]={value:x,hash:h[c]})}if(_.length!=f)break;for(var C=null,S="",T=0;T<_.length;T++){0;var P=_[T].value;if(null==m[S=S+"_"+_[T].hash+"_"+P]||null==m[S]){if(null==C){(C={level:0})[o]=null,C[n]=P,C[a]=y,void 0!==y.expanded?C.expanded=y.expanded:C.expanded=!1,s&&(C[s]=y[s]),C[i]=new Array;var I=u.length+d;this._source.id&&"number"!=typeof y.uid&&!isFinite(y.uid)||(I="Row"+I),C.uid=I,u[p++]=C}else{var E={level:C.level+1};E[o]=C,E[n]=P,E[i]=new Array,E[a]=y,void 0!==y.expanded?E.expanded=y.expanded:E.expanded=!1,s&&(E[s]=y[s]),E.uid=C.uid+"_"+C[i].length,C[i][C[i].length]=E,C=E}m[S]=C}else C=m[S]}y&&(y.leaf=!0),null!=C?(null==this._source.id&&(null==y.uid?y.uid=C.uid+"_"+C[i].length:-1==y.uid.toString().indexOf(C.uid)&&(y.uid=C.uid+"_"+y.uid)),y[o]=C,y.level=C.level+1,C[i][C[i].length]=y):null==y.uid&&(y.uid=this.generatekey())}return u},getRecordsHierarchy:function(t,i,n,r,a){var s=new Array,o=this.records;if(a&&(o=a),0==this.records.length)return null;for(var l=null!=n?n:"items",d=[],h=o,c=h.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},m=0;m<c;m++){var f=(v=e.extend({},h[m]))[i];d[g=v[t]]={parentid:f,item:v}}for(m=0;m<c;m++){f=(v=e.extend({},h[m]))[i];var g=v[t];if(null!=d[f]){var v={parentid:f,item:d[g].item},b=d[f].item;b[l]||(b[l]=[]);var y=b[l].length,_=v.item;u?null==_[u.parent]&&(_[u.parent]=b):null==_.parent&&(_.parent=b);var w=p(_);b[l][y]=w,d[f].item=b,d[g]=v}else{_=d[g].item;u?null==_[u.parent]&&(_[u.parent]=null):null==_.parent&&(_.parent=null);w=p(_);u?w[u.level]=0:w.level=0,s[s.length]=w}}if(0!=s.length){var x=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var n=t[i][l];n&&n.length>0?x(e+1,n):u?t[i][u.leaf]=!0:t[i].leaf=!0}};x(0,s)}return s},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,n){if(null==t||null==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){if(null!=(o=e(i).attr(t))&&o.toString().length>0)return e.trim(o).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var r=t.split(this.mapChar);if(r.length>1){for(var a=i,s=0;s<r.length;s++)null!=a&&(a=a[r[s]]);if(null!=a)return a}else if(null!=i[t])return i[t]}return n}if(null!=(o=e(i).attr(t.name))&&o.toString().length>0)return o;if(t.map)try{var o;if(null!=(o=e(i).attr(t.map))&&o.toString().length>0)return o;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(e){return n}},loadjson:function(t,i,n){"string"==typeof t&&(t=e.parseJSON(t)),null==n.root&&(n.root=""),null==n.record&&(n.record=""),(t=t||i)||(t=[]);var r=this;if(""!=n.root)if((S=n.root.split(r.mapChar)).length>1){for(var a=t,s=0;s<S.length;s++)null!=a&&(a=a[S[s]]);t=a}else{if(void 0!==t[n.root]?t=t[n.root]:t[0]&&void 0!==t[0][n.root]?t=t[0][n.root]:e.each(t,function(e){if(this==n.root)return t=this,!1;null!=this[n.root]&&(t=this[n.root])}),!t)if((S=n.root.split(r.mapChar)).length>0){for(a=t,s=0;s<S.length;s++)null!=a&&(a=a[S[s]]);t=a}}else if(!t.length)for(var o in t)if(e.isArray(t[o])){t=t[o];break}if(null!=t&&null==t.length&&(t=e.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var l=t.length;this.totalrecords=this.virtualmode&&n.totalrecords||l,this.records=new Array,this.originaldata=new Array;var d=this.records,h=this.pageable?this.pagesize*this.pagenum:n.recordstartindex;this.recordids=new Array,n.loadallrecords&&(h=0,l=this.totalrecords);var c=0;this.virtualmode&&(c=h=this.pageable?this.pagesize*this.pagenum:n.recordstartindex,h=0,l=this.totalrecords);var u=n.datafields?n.datafields.length:0;if(0==u){var p=t[0],m=new Array;for(var o in p){var f=o;m[m.length]={name:f}}n.datafields=m,n.generatedfields=n.datafields,u=m.length}for(var g=h,v=h;v<l;v++){var b=t[v];if(null==b)break;if(!n.record||""==n.record||null!=(b=b[n.record])){var y=this.getid(n.id,b,v);if("object"==typeof y&&(y=v),!this.recordids[y]){this.recordids[y]=b;for(var _={},w=0;w<u;w++){var x=n.datafields[w],C="";if(null!=x&&null!=x){if(x.map){var S;if(e.isFunction(x.map))C=x.map(b);else if((S=x.map.split(r.mapChar)).length>0){var T=b;for(s=0;s<S.length;s++)null!=T&&(T=T[S[s]]);C=T}else C=b[x.map];null!=C&&null!=C?C=this.getvaluebytype(C,x):null==C&&null!=C&&(C="")}if(""==C&&!x.map&&(null==(C=b[x.name])&&null!=C&&(C=""),null!=x.value&&null!=C)){var P=C[x.value];null!=P&&(C=P)}if(C=this.getvaluebytype(C,x),null!=x.displayname?_[x.displayname]=C:_[x.name]=C,"array"===x.type){var I=function(t){if(t)for(var i=0;i<t.length;i++){var a=t[i];if(a)for(var s=0;s<u;s++){var o=n.datafields[s],l="";if(null!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(a);else{var d=o.map.split(r.mapChar);if(d.length>0){for(var h=a,c=0;c<d.length;c++)null!=h&&(h=h[d[c]]);l=h}else l=a[o.map]}null!=l&&null!=l?l=this.getvaluebytype(l,o):null==l&&null!=l&&(l="")}if(""==l&&!o.map&&(null==(l=a[o.name])&&null!=l&&(l=""),null!=o.value&&null!=l)){var p=l[o.value];null!=p&&(l=p)}l=this.getvaluebytype(l,o),null!=o.displayname?a[o.displayname]=l:a[o.name]=l,"array"===o.type&&I.call(this,l)}}}};I.call(this,C)}}}(n.recordendindex<=0||h<n.recordendindex)&&(d[c+g]=new Object(_),d[c+g].uid=y,this.originaldata[c+g]=new Object(d[v]),g++)}}}this.records=d,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(t,i,n){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),null==n.root&&(n.root=""),null==n.record&&(n.record=""),(t=e.jqx.browser.msie&&i&&null!=i.xml?e(n.root+" "+n.record,e.parseXML(i.xml)):t||e(n.root+" "+n.record,i))||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode&&n.totalrecords||r,this.records=new Array,this.originaldata=new Array;var a=this.records,s=this.pageable?this.pagesize*this.pagenum:n.recordstartindex;this.recordids=new Array,n.loadallrecords&&(s=0,r=this.totalrecords);var o=0;this.virtualmode&&(o=s=this.pageable?this.pagesize*this.pagenum:n.recordstartindex,s=0,r=this.totalrecords);var l=n.datafields?n.datafields.length:0;if(0==l){var d=t[0],h=new Array;for(var c in d){var u=c;h[h.length]={name:u}}n.datafields=h,n.generatedfields=n.datafields,l=h.length}for(var p=s,m=s;m<r;m++){if(null==(I=t[m]))break;var f=this.getid(n.id,I,m);if(!this.recordids[f]){this.recordids[f]=I;var g={},v=!1;n.hierarchy&&n.hierarchy.root&&(v=!0);for(var b=0;b<l;b++){var y=n.datafields[b],_="";if(null!=y&&null!=y){if(y.map)if(e.isFunction(y.map))_=y.map(I);else{var w=y.map.indexOf("[");if(w<0)if(1==(_=e(y.map,I)).length)_=_.text();else{!0;for(var x=new Array,C=0;C<_.length;C++)x.push(e(_[C]).text());_=x,v&&x.length>0&&(_=x[0])}else{var S=y.map.substring(0,w-1),T=y.map.indexOf("]"),P=y.map.substring(w+1,T);null==(_=e(S,I).attr(P))&&(_=e(I).attr(P)),null==_&&(_="")}""==_&&null==(_=e(I).attr(y.map))&&(_="")}if(""==_){if(1==(_=e(y.name,I)).length)_=_.text();else{for(x=new Array,C=0;C<_.length;C++)x.push(e(_[C]).text());_=x,v&&x.length>0&&(_=x[0])}""==_&&null==(_=e(I).attr(y.name))&&(_=""),""==_&&I.nodeName&&I.nodeName==y.name&&I.firstChild&&(_=e(I.firstChild).text())}_=this.getvaluebytype(_,y),null!=y.displayname?g[y.displayname]=_:g[y.name]=_}}(n.recordendindex<=0||s<n.recordendindex)&&(a[o+p]=e.extend({},g),a[o+p].uid=f,this.originaldata[o+p]=e.extend({},a[m]),p++)}}if(n.hierarchy&&n.hierarchy.root)for(m=s;m<r;m++){var I=t[m],E=a[m];if(e(I).parent().length>0){f=this.getid(n.id,e(I).parents(n.hierarchy.record+":first"));E.parentuid=f}else E.parentuid=null}this.records=a,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",n=e.split(i),r=n.length,a=e.split("\r");1==r&&a.length>1&&(r=(n=a).length),this.records=new Array,this.originaldata=new Array;var s=this.records;this.recordids=new Array;for(var o=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},l=0;l<r;l++){var d=n[l];if("BEGIN:VEVENT"!=d)if(d.indexOf("SUMMARY")>=0)c.SUMMARY=d.substring(d.indexOf("SUMMARY")+8);else if(d.indexOf("LOCATION")>=0)c.LOCATION=d.substring(d.indexOf("LOCATION")+9);else if(d.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12);else if(d.indexOf("RRULE")>=0)c.RRULE=d.substring(d.indexOf("RRULE")+6);else if(d.indexOf("EXDATE")>=0){var h=d.substring(d.indexOf("EXDATE")+7);c.EXDATE=h}else d.indexOf("DTEND")>=0?c.DTEND=o(d.substring(d.indexOf("DTEND")+6)):d.indexOf("DTSTART")>=0?c.DTSTART=o(d.substring(d.indexOf("DTSTART")+8)):d.indexOf("UID")>=0?c.uid=c.UID=d.substring(d.indexOf("UID")+4):d.indexOf("STATUS")>=0?c.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"!=d||s.push(c);else var c={}}this.records=s,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var n=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(n),a=r.length,s=t.split("\r");1==a&&s.length>1&&(a=(r=s).length),this.totalrecords=this.virtualmode&&i.totalrecords||a,this.records=new Array,this.originaldata=new Array;var o=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,a=this.totalrecords);var d=0;this.virtualmode&&(d=l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,l=0,a=this.totalrecords);var h=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"\t":",");for(var u=l;u<a;u++){var p=r[u],m=null;if(!this.recordids[m]){null==i.id&&(m=u,this.recordids[m]=p);for(var f={},g=r[u].split(c),v=0;v<h;v++)if(!(v>=g.length)){var b=i.datafields[v],y=g[v];b.map&&e.isFunction(b.map)&&(y=b.map(p)),b.type&&(y=this.getvaluebytype(y,b)),f[b.map||b.name||v.toString()]=y,null!=i.id&&i.id===b.name&&(m=y,this.recordids[m]=p)}null==m&&(m=u),o[d+u]=e.extend({},f),o[d+u].uid=m,this.originaldata[d+u]=e.extend({},o[u])}}this.records=o,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var n=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{if(t&&t instanceof Date)return t;var a=new Date(t);if("string"==typeof t&&i.format){var s=e.jqx.dataFormat.parsedate(t,i.format);null!=s&&(a=s)}null==(t=("NaN"==a.toString()||"Invalid Date"==a.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):a)&&(t=n)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=n)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=n)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var i,n=e.patterns,r=t.length;if(1===r){if(!(i=n[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,n=e.getTime(),r=0,a=t.length;r<a;r++)if(null===(i=t[r].start)||n>=i)return r;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,n){var r=e.getFullYear();return!n&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var n,r=e.days,a=e._upperDays;return a||(e._upperDays=a=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(n=this.arrayIndexOf(a[1],t))&&(n=this.arrayIndexOf(a[2],t)):n=this.arrayIndexOf(a[0],t),n},getMonthIndex:function(e,t,i){var n=e.months,r=e.monthsGenitive||e.months,a=e._upperMonths,s=e._upperMonthsGen;a||(e._upperMonths=a=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)],e._upperMonthsGen=s=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var o=this.arrayIndexOf(i?a[1]:a[0],t);return o<0&&(o=this.arrayIndexOf(i?s[1]:s[0],t)),o},appendPreOrPostMatch:function(e,t){for(var i=0,n=!1,r=0,a=e.length;r<a;r++){var s=e.charAt(r);switch(s){case"'":n?t.push("'"):i++,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(s),n=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(null!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;var n;this.isNumber(e)||(e*=1),t.length>1&&(n=parseInt(t.slice(1),10));var r={},a=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,a){case"D":case"d":case"F":case"f":r.decimalPlaces=n;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=n,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=n;break;default:throw"Bad number format specifier: "+a}if(this.isNumber(e)){var s,o=e<0,l=e+"",d=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var h=r.decimalPlaces,c=Math.pow(10,h);if(s=(l=(e*c).toFixed(0)/c+"").lastIndexOf("."),h>0)for(s<0?s=(l+=d).length-1:"."!==d&&(l=l.replace(".",d));l.length-1-s<h;)l+="0"}else{(s=(l=e+"").lastIndexOf("."))>0&&null==h&&"."!==d&&(l=l.replace(".",d))}if(r.thousandsSeparator){var u=r.thousandsSeparator;s=(s=l.lastIndexOf(d))>-1?s:l.length;for(var p=l.substring(s),m=-1,f=s;f>0;f--)++m%3==0&&f!==s&&(!o||f>1)&&(p=u+p),p=l.charAt(f-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){null!=i&&null!=i||(i=this.defaultcalendar());if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){if("Invalid Date"==(n=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var n=null;(N=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(n=new Date(1*N[1]+36e5*N[2]+6e4*N[3]))}if(null==n||"Invalid Date"==n||isNaN(n)){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(t);if(r){var a=new Date(parseInt(r[1]));if(r[2]){var s=parseInt(r[3]);"-"===r[2]&&(s=-s);var o=a.getUTCMinutes();a.setUTCMinutes(o-s)}if(!isNaN(a.valueOf()))return a}}return n}var l,d,h=i.patterns;for(var c in h)if(n=this.parsedate(t,h[c],i)){if("ISO"==c)if(u=this.parsedate(t,h.ISO2,i))return u;return n}if(null!=t){for(var u=null,p=[":","/","-"],m=!0,f=0;f<p.length;f++)-1!=t.indexOf(p[f])&&(m=!1);if(m){var g=new Number(t);if(!isNaN(g))return new Date(g)}}if("string"===e.type(t)){var v=this;t=v.trim(t);var b=[":","/","-"," ",","];l=", ",d=",";var y="",_=t=t.replace(new RegExp(l,"g"),d);t.indexOf(":")>=0?(y=t.substring(t.indexOf(":")-2),y=v.trim(y),_=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(y=t.substring(t.toUpperCase().indexOf("AM")-2),y=v.trim(y),_=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(y=t.substring(t.toUpperCase().indexOf("PM")-2),y=v.trim(y),_=t.substring(0,t.toUpperCase().indexOf("PM")-2));var w=new Date,x=!1;if(_){for(var C=0;C<b.length;C++)if(_.indexOf(b[C])>=0){p=_.split(b[C]);break}var S=new Array,T=new Array,P=new Array,I=null,E=null;for(C=0;C<p.length;C++){f=p[C];var D=v.parsedate(f,"d",i)||v.parsedate(f,"dd",i)||v.parsedate(f,"ddd",i)||v.parsedate(f,"dddd",i);if(D&&f.length<=2){I=C,S.push(D.getDate());break}}for(C=0;C<p.length;C++){f=p[C];var k=v.parsedate(f,"M",i)||v.parsedate(f,"MM",i)||v.parsedate(f,"MMM",i)||v.parsedate(f,"MMMM",i);if(k){if(null!=I&&I==C)continue;if(T.push(k.getMonth()),f.length>2){E=C;break}}}for(C=0;C<p.length;C++){f=p[C];var j=v.parsedate(f,"yyyy",i);if(j){if(null!=I&&I==C)continue;if(null!=E&&E==C)continue;P.push(j.getFullYear())}}for(var M=new Array,A=0;A<S.length;A++)for(var N=0;N<T.length;N++)for(var q=0;q<P.length;q++){a=new Date(P[q],T[N],S[A]);P[q]<1970&&a.setFullYear(P[q]),NaN!=a.getTime()&&M.push(a)}M.length>0&&(w=M[0],x=!0)}if(y){var O=y.indexOf(":")>=0?y.split(":"):y,B=v.parsedate(y,"h:mm tt",i)||v.parsedate(y,"h:mm:ss tt",i)||v.parsedate(y,"HH:mm:ss.fff",i)||v.parsedate(y,"HH:mm:ss.ff",i)||v.parsedate(y,"HH:mm:ss.tttt",i)||v.parsedate(y,"HH:mm:ss",i)||v.parsedate(y,"HH:mm",i)||v.parsedate(y,"HH",i),R=0,V=0,H=0,L=0;B&&NaN!=B.getTime()?(R=B.getHours(),V=B.getMinutes(),H=B.getSeconds(),L=B.getMilliseconds()):(1==O.length&&(R=parseInt(O[0])),2==O.length&&(R=parseInt(O[0]),V=parseInt(O[1])),3==O.length&&(R=parseInt(O[0]),V=parseInt(O[1]),O[2].indexOf(".")>=0?(H=parseInt(O[2].toString().split(".")[0]),L=parseInt(O[2].toString().split(".")[1])):H=parseInt(O[2])),4==O.length&&(R=parseInt(O[0]),V=parseInt(O[1]),H=parseInt(O[2]),L=parseInt(O[3]))),!w||isNaN(R)||isNaN(V)||isNaN(H)||isNaN(L)||(w.setHours(R,V,H,L),x=!0)}if(x)return w}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var n=i[t];if(n)return n}else e._parseRegExp=i={};for(var r,a=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],l=0,d=0,h=this.getTokenRegExp();null!==(r=h.exec(a));){var c=a.slice(l,r.index);if(l=h.lastIndex,(d+=this.appendPreOrPostMatch(c,s))%2)s.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&s.push(u),o.push(r[0])}}this.appendPreOrPostMatch(a.slice(l),s),s.push("$");var f={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:o};return i[t]=f},outOfRange:function(e,t,i){return e<t||e>i},expandYear:function(e,t){var i=new Date,n=this.getEra(i);if(t<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var a=this.getEraYear(i,e,n);(t+=a-a%100)>r&&(t-=100)}return t},parsedate:function(e,t,i){null!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var n=i,r=this.getparseregexp(n,t),a=new RegExp(r.regExp).exec(e);if(null===a)return null;for(var s,o=r.groups,l=null,d=null,h=null,c=null,u=null,p=0,m=0,f=0,g=0,v=null,b=!1,y=0,_=o.length;y<_;y++){var w=a[y+1];if(w){var x=o[y],C=x.length,S=parseInt(w,10);switch(x){case"dd":case"d":if(c=S,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(h=this.getMonthIndex(n,w,3===C),this.outOfRange(h,0,11))return null;break;case"M":case"MM":if(h=S-1,this.outOfRange(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=C<4?this.expandYear(n,S):S,this.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(12===(p=S)&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=S,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(m=S,this.outOfRange(m,0,59))return null;break;case"s":case"ss":if(f=S,this.outOfRange(f,0,59))return null;break;case"tt":case"t":if(!(b=n.PM&&(w===n.PM[0]||w===n.PM[1]||w===n.PM[2]))&&(!n.AM||w!==n.AM[0]&&w!==n.AM[1]&&w!==n.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=S*Math.pow(10,3-C),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(n,w,3===C),this.outOfRange(u,0,6))return null;break;case"zzz":var T=w.split(/:/);if(2!==T.length)return null;if(s=parseInt(T[0],10),this.outOfRange(s,-12,13))return null;var P=parseInt(T[1],10);if(this.outOfRange(P,0,59))return null;v=60*s+(this.startsWith(w,"-")?-P:P);break;case"z":case"zz":if(s=S,this.outOfRange(s,-12,13))return null;v=60*s;break;case"g":case"gg":var I=w;if(!I||!n.eras)return null;I=this.trim(I.toLowerCase());for(var E=0,D=n.eras.length;E<D;E++)if(I===n.eras[E].name.toLowerCase()){l=E;break}if(null===l)return null}}}var k,j=new Date,M=n.convert;if(k=j.getFullYear(),null===d?d=k:n.eras&&(d+=n.eras[l||0].offset),null===h&&(h=0),null===c&&(c=1),M){if(null===(j=M.toGregorian(d,h,c)))return null}else{if(j.setFullYear(d,h,c),j.getDate()!==c)return null;if(null!==u&&j.getDay()!==u)return null}if(b&&p<12&&(p+=12),j.setHours(p,m,f,g),null!==v){var A=j.getMinutes()-(v+j.getTimezoneOffset());j.setHours(j.getHours()+parseInt(A/60,10),A%60)}return j},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){if(null!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var n,r=e.toString()+"_"+t;if(this.datescache&&this.datescache[r]&&-1==t.indexOf("f"))return this.datescache[r];if(!t||!t.length||"i"===t)return n=this.formatDate(e,i.patterns.F,i);var a=i.eras,s="s"===t;t=this.expandFormat(i,t),n=[];var o,l,d=["0","00","000"],h=0,c=this.getTokenRegExp();function u(e,t){var i,n=e+"";return t>1&&n.length<t?(i=d[t-2]+n).substr(i.length-t,t):i=n}function p(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var m=c.lastIndex,f=c.exec(t),g=t.slice(m,f?f.index:t.length);if(h+=this.appendPreOrPostMatch(g,n),!f)break;if(h%2)n.push(f[0]);else{var v=f[0],b=v.length;switch(v){case"ddd":case"dddd":var y=3===b?i.days.namesAbbr:i.days.names;n.push(y[e.getDay()]);break;case"d":case"dd":!0,n.push(u(p(e,2),b));break;case"MMM":case"MMMM":var _=p(e,1);n.push(i.months[3===b?"namesAbbr":"names"][_]);break;case"M":case"MM":n.push(u(p(e,1)+1,b));break;case"y":case"yy":case"yyyy":_=this.getEraYear(e,i,this.getEra(e,a),s),b<4&&(_%=100),n.push(u(_,b));break;case"h":case"hh":0===(o=e.getHours()%12)&&(o=12),n.push(u(o,b));break;case"H":case"HH":n.push(u(e.getHours(),b));break;case"m":case"mm":n.push(u(e.getMinutes(),b));break;case"s":case"ss":n.push(u(e.getSeconds(),b));break;case"t":case"tt":_=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",n.push(1===b?_.charAt(0):_);break;case"f":case"ff":case"fff":n.push(u(e.getMilliseconds(),3).substr(0,b));break;case"z":case"zz":o=e.getTimezoneOffset()/60,n.push((o<=0?"+":"-")+u(Math.floor(Math.abs(o)),b));break;case"zzz":o=e.getTimezoneOffset()/60,n.push((o<=0?"+":"-")+u(Math.floor(Math.abs(o)),2)+":"+u(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&n.push(i.eras[this.getEra(e,a)].name);break;case"/":n.push(i["/"]);break;default:throw"Invalid date format pattern '"+v+"'."}}}var w=n.join("");return this.datescache||(this.datescache=new Array),this.datescache[r]=w,w}}),e.jqx.data={};var t,i,n=/#.*$/,r=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,a=/^(?:GET|HEAD)$/,s=/^\/\//,o=/\?/,l=/([?&])_=[^&]*/,d=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,h=/\s+/,c=(e.fn.load,{}),u={},p=["*/"]+["*"];try{i=location.href}catch(e){(i=document.createElement("a")).href="",i=i.href}function m(t){return function(i,n){"string"!=typeof i&&(n=i,i="*");var r,a,s=i.toLowerCase().split(h),o=0,l=s.length;if(e.isFunction(n))for(;o<l;o++)r=s[o],(a=/^\+/.test(r))&&(r=r.substr(1)||"*"),(t[r]=t[r]||[])[a?"unshift":"push"](n)}}function f(e,t,i,n,r,a){(a=a||{})[r=r||t.dataTypes[0]]=!0;for(var s,o=e[r],l=0,d=o?o.length:0,h=e===c;l<d&&(h||!s);l++)"string"==typeof(s=o[l](t,i,n))&&(!h||a[s]?s=void 0:(t.dataTypes.unshift(s),s=f(e,t,i,n,s,a)));return!h&&s||a["*"]||(s=f(e,t,i,n,"*",a)),s}function g(t,i){var n,r,a=e.jqx.data.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((a[n]?t:r||(r={}))[n]=i[n]);r&&e.extend(!0,t,r)}t=d.exec(i.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?g(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),g(t,i),t},ajaxSettings:{url:i,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":p},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:m(c),ajaxTransport:m(u),ajax:function(i,m){"object"==typeof i&&(m=i,i=void 0),m=m||{};var g,v,b,y,_,w,x,C,S=e.jqx.data.ajaxSetup({},m),T=S.context||S,P=T!==S&&(T.nodeType||T instanceof e)?e(T):e.event,I=e.Deferred(),E=e.Callbacks("once memory"),D=S.statusCode||{},k={},j={},M=0,A="canceled",N={readyState:0,setRequestHeader:function(e,t){if(!M){var i=e.toLowerCase();e=j[i]=j[i]||e,k[e]=t}return this},getAllResponseHeaders:function(){return 2===M?v:null},getResponseHeader:function(e){var t;if(2===M){if(!b)for(b={};t=r.exec(v);)b[t[1].toLowerCase()]=t[2];t=b[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return M||(S.mimeType=e),this},abort:function(e){return e=e||A,y&&y.abort(e),q(0,e),this}};function q(t,i,n,r){var a,s,o,l,d,h=i;2!==M&&(M=2,_&&clearTimeout(_),y=void 0,v=r||"",N.readyState=t>0?4:0,n&&(l=function(e,t,i){var n,r,a,s,o=e.contents,l=e.dataTypes,d=e.responseFields;for(r in d)r in i&&(t[d[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("content-type"));if(n)for(r in o)if(o[r]&&o[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}s||(s=r)}a=a||s}if(a)return a!==l[0]&&l.unshift(a),i[a]}(S,N,n)),t>=200&&t<300||304===t?(S.ifModified&&((d=N.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=d),(d=N.getResponseHeader("Etag"))&&(e.etag[g]=d)),304===t?(h="notmodified",a=!0):(h=(a=function(e,t){var i,n,r,a,s=e.dataTypes.slice(),o=s[0],l={},d=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(s[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=s[++d];)if("*"!==r){if("*"!==o&&o!==r){if(!(i=l[o+" "+r]||l["* "+r]))for(n in l)if((a=n.split(" "))[1]===r&&(i=l[o+" "+a[0]]||l["* "+a[0]])){!0===i?i=l[n]:!0!==l[n]&&(r=a[0],s.splice(d--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+o+" to "+r}}}o=r}return{state:"success",data:t}}(S,l)).state,s=a.data,a=!(o=a.error))):(o=h,h&&!t||(h="error",t<0&&(t=0))),N.status=t,N.statusText=(i||h)+"",a?I.resolveWith(T,[s,h,N]):I.rejectWith(T,[N,h,o]),N.statusCode(D),D=void 0,x&&P.trigger("ajax"+(a?"Success":"Error"),[N,S,a?s:o]),E.fireWith(T,[N,h]),x&&(P.trigger("ajaxComplete",[N,S]),--e.active||e.event.trigger("ajaxStop")))}if(I.promise(N),N.success=N.done,N.error=N.fail,N.complete=E.add,N.statusCode=function(e){var t;if(e)if(M<2)for(t in e)D[t]=[D[t],e[t]];else t=e[N.status],N.always(t);return this},S.url=((i||S.url)+"").replace(n,"").replace(s,t[1]+"//"),S.dataTypes=e.trim(S.dataType||"*").toLowerCase().split(h),null==S.crossDomain&&(w=d.exec(S.url.toLowerCase()),S.crossDomain=!(!w||w[1]===t[1]&&w[2]===t[2]&&(w[3]||("http:"===w[1]?80:443))==(t[3]||("http:"===t[1]?80:443)))),S.data&&S.processData&&"string"!=typeof S.data&&(S.data=e.param(S.data,S.traditional)),f(c,S,m,N),2===M)return N;if(x=S.global,S.type=S.type.toUpperCase(),S.hasContent=!a.test(S.type),x&&0==e.active++&&e.event.trigger("ajaxStart"),!S.hasContent&&(S.data&&(S.url+=(o.test(S.url)?"&":"?")+S.data,delete S.data),g=S.url,!1===S.cache)){var O=(new Date).getTime(),B=S.url.replace(l,"$1_="+O);S.url=B+(B===S.url?(o.test(S.url)?"&":"?")+"_="+O:"")}for(C in(S.data&&S.hasContent&&!1!==S.contentType||m.contentType)&&N.setRequestHeader("Content-Type",S.contentType),S.ifModified&&(g=g||S.url,e.lastModified[g]&&N.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&N.setRequestHeader("If-None-Match",e.etag[g])),N.setRequestHeader("Accept",S.dataTypes[0]&&S.accepts[S.dataTypes[0]]?S.accepts[S.dataTypes[0]]+("*"!==S.dataTypes[0]?", "+p+"; q=0.01":""):S.accepts["*"]),S.headers)N.setRequestHeader(C,S.headers[C]);if(S.beforeSend&&(!1===S.beforeSend.call(T,N,S)||2===M))return N.abort();for(C in A="abort",{success:1,error:1,complete:1})N[C](S[C]);if(y=f(u,S,m,N)){N.readyState=1,x&&P.trigger("ajaxSend",[N,S]),S.async&&S.timeout>0&&(_=setTimeout(function(){N.abort("timeout")},S.timeout));try{M=1,y.send(k,q)}catch(e){if(!(M<2))throw e;q(-1,e)}}else q(-1,"No Transport");return N},active:0,lastModified:{},etag:{}});var v=[],b=/\?/,y=/(=)\?(?=&|$)|\?\?/,_=(new Date).getTime();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=v.pop()||e.expando+"_"+_++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,n){var r,a,s,o=t.data,l=t.url,d=!1!==t.jsonp,h=d&&y.test(l),c=d&&!h&&"string"==typeof o&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&y.test(o);if("jsonp"===t.dataTypes[0]||h||c)return r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=window[r],h?t.url=l.replace(y,"$1"+r):c?t.data=o.replace(y,"$1"+r):d&&(t.url+=(b.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||e.error(r+" was not called"),s[0]},t.dataTypes[0]="json",window[r]=function(){s=arguments},n.always(function(){window[r]=a,t[r]&&(t.jsonpCallback=i.jsonpCallback,v.push(r)),s&&e.isFunction(a)&&a(s[0]),s=a=void 0}),"script"}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(n,r){(t=document.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,n||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var w,x,C=!!window.ActiveXObject&&function(){for(var e in w)w[e](0,1)},S=0;function T(){try{return new window.XMLHttpRequest}catch(e){}}e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&T()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:T,x=e.jqx.data.ajaxSettings.xhr(),e.extend(e.support,{ajax:!!x,cors:!!x&&"withCredentials"in x}),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){var i;if(!t.crossDomain||e.support.cors)return{send:function(n,r){var a,s,o=t.xhr();if(t.username?o.open(t.type,t.url,t.async,t.username,t.password):o.open(t.type,t.url,t.async),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(s in n)o.setRequestHeader(s,n[s])}catch(e){}o.send(t.hasContent&&t.data||null),i=function(e,n){var s,l,d,h,c;try{if(i&&(n||4===o.readyState))if(i=void 0,a&&(o.onreadystatechange=function(){},C&&delete w[a]),n)4!==o.readyState&&o.abort();else{s=o.status,d=o.getAllResponseHeaders(),h={},(c=o.responseXML)&&c.documentElement&&(h.xml=c);try{h.text=o.responseText}catch(e){}try{l=o.statusText}catch(e){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=h.text?200:404}}catch(e){n||r(-1,e)}h&&r(s,l,h,d)},t.async?4===o.readyState?setTimeout(i,0):(a=++S,C&&(w||(w={},e(window).unload(C)),w[a]=i),o.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL"],a=new Array,s=new Array;this.evaluate=function(e){for(var t=!0,i=0;i<a.length;i++){var n=a[i].evaluate(e);t=0==i?n:1==s[i]||"or"==s[i]?t||n:t&&n}return t},this.getfilterscount=function(){return a.length},this.setoperatorsbyfiltertype=function(e,a){switch(e){case"numericfilter":i=a;break;case"stringfilter":t=a;break;case"datefilter":n=a;break;case"booleanfilter":r=a}},this.getoperatorsbyfiltertype=function(e){var a=new Array;switch(e){case"numericfilter":a=i.slice(0);break;case"stringfilter":a=t.slice(0);break;case"datefilter":a=n.slice(0);break;case"booleanfilter":a=r.slice(0)}return a};var o=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,n,r,a){if(null==e||null==e)return null;switch(e){case"numericfilter":return new h(t,i.toUpperCase());case"stringfilter":return new l(t,i.toUpperCase());case"datefilter":return new c(t,i.toUpperCase(),r,a);case"booleanfilter":return new d(t,i.toUpperCase());case"custom":return new u(t,i.toUpperCase(),n)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<a.length;t++){var i={value:a[t].filtervalue,condition:a[t].comparisonoperator,operator:s[t],type:a[t].type};a[t].data&&(i.id=a[t].data),e[t]=i}return e},this.addfilter=function(e,t){a[a.length]=t,t.key=o(),s[s.length]=e},this.removefilter=function(e){for(var t=0;t<a.length;t++)if(a[t].key==e.key){a.splice(t,1),s.splice(t,1);break}},this.getoperatorat=function(e){return null==e||null==e?null:e<0||e>a.length?null:s[e]},this.setoperatorat=function(e,t){return null==e||null==e?null:e<0||e>a.length?null:void(s[t]=t)},this.getfilterat=function(e){return null==e||null==e?null:e<0||e>a.length?null:a[e]},this.setfilterat=function(e,t){return null==e||null==e?null:e<0||e>a.length?null:(t.key=o(),void(a[e]=t))},this.clear=function(){a=new Array,s=new Array};var l=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator;if(null==t||null==t||""==t){if("NULL"==n)return!0;if("EQUAL"==n&&t==i)return!0;if("NOT_EQUAL"==n&&t!=i)return!0;if("EMPTY"!=n)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(e){return!0}var a=function(t,i){switch(n){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},s=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=a(r,i))return g;var o=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,h=i.indexOf(" or ")>=0?i.split(" or "):new Array,c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);var p=i.indexOf(" ")>=0?i.split(" "):new Array;if(p.length>0)for(u=0;u<p.length;u++)p[u]=e.trim(p[u]);if(o=(o=o.concat(p)).concat(d),l=(l=l.concat(c)).concat(h),o.length>0)for(u=0;u<o.length;u++)!o[u].indexOf(" OR ")>=0&&s.push(o[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&s.push(l[u]);for(var m=void 0,f=0;f<s.length;f++){var g=a(r,t=s[f]),v=f<o.length?"and":"or";m=null==m?g:"or"==v?m||g:m&&g}return m}return a(r,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||null==e)return"NULL"==i;var n=e;switch(i){case"EQUAL":return n==t||n.toString()==t.toString();case"NOT_EQUAL":return n!=t&&n.toString()!=t.toString();default:return!1}}},h=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==n)return!1;if("NULL"==n)return!0;switch(n){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==n)return!1;if("NOT_NULL"==n)return!0;var r=t;try{r=parseFloat(r)}catch(e){if(""!=t.toString())return!1}var a=function(t,i){switch(n){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},s=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=a(r,i))return g;var o=(i=i.toString()).indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,h=i.indexOf(" or ")>=0?i.split(" or "):new Array;o=o.concat(d),l=l.concat(h);var c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);if(l=l.concat(c),o.length>0)for(u=0;u<o.length;u++)!o[u].indexOf(" OR ")>=0&&s.push(o[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&s.push(l[u]);for(var p=void 0,m=0;m<s.length;m++){if((t=s[m])&&t.indexOf&&t.indexOf("..")>=0){var f=t.toString().split("..");2==f.length&&(g=r>=f[0]&&r<=f[1])}else var g=a(r,t);var v=m<o.length?"and":"or";p=null==p?g:"or"==v?p||g:p&&g}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(s=i.toString().split("..")).length?r>=s[0]&&r<=s[1]:a(r,i)}},c=function(t,i,n,r){this.filtervalue=t,this.type="datefilter";var a=this;if(null!=n&&null!=r){var s=e.jqx.dataFormat.parsedate(t,n,r);if(null!=s)this.filterdate=s;else{var o=e.jqx.dataFormat.tryparsedate(t,r);null!=o&&(this.filterdate=o)}}else{var l;"NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.filterdate||("NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l);this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||null==t||""==t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var o=new Date;o.setFullYear(1900,0,1),o.setHours(12,0,0,0);try{var l=new Date(t);o=t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l;var d=!1;if(null!=n&&null!=r)if(n.indexOf("t")>=0||n.indexOf("T")>=0||n.indexOf(":")>=0||n.indexOf("f")>=0)if(d=!0,i&&-1==i.toString().indexOf(":"))null!=(C=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r))&&(a.filterdate=C);d||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=a.filterdate)i=a.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var h=new Date(o);h.setHours(12,0,0,0);for(var c=i.split(":"),u=0;u<c.length;u++)0==u&&h.setHours(c[u]),1==u&&h.setMinutes(c[u]),2==u&&h.setSeconds(c[u]);i=h}d&&i&&i.setFullYear&&o&&o.getFullYear&&-1==n.indexOf("d")&&-1==n.indexOf("M")&&-1==n.indexOf("y")&&i.setFullYear(o.getFullYear(),o.getMonth(),o.getDate());var p=function(t,i){switch(null==t&&(t=""),s){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},m=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(C=p(o,i))return C;var f=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,g=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,v=i.indexOf(" and ")>=0?i.split(" and "):new Array,b=i.indexOf(" or ")>=0?i.split(" or "):new Array;f=f.concat(v),g=g.concat(b);var y=i.indexOf("|")>=0?i.split("|"):new Array;if(y.length>0)for(u=0;u<y.length;u++)y[u]=e.trim(y[u]);if(g=g.concat(y),f.length>0)for(u=0;u<f.length;u++)!f[u].indexOf(" OR ")>=0&&m.push(f[u]);if(g.length>0)for(u=0;u<g.length;u++)!g[u].indexOf(" AND ")>=0&&m.push(g[u]);for(var _=void 0,w=0;w<m.length;w++){if((t=m[w])&&t.indexOf&&t.indexOf("..")>=0){var x=t.toString().split("..");2==x.length&&(C=o>=x[0]&&o<=x[1])}else var C=p(o,t);var S=w<f.length?"and":"or";_=null==_?C:"or"==S?_||C:_&&C}return _}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(m=i.toString().split("..")).length?o>=m[0]&&o<=m[1]:p(o,i)}},u=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework);var rt=Object.freeze({});!function(e){e.jqx.longInt=function(){this.longObj=new Object;var e=this.longObj;return e.mathObj=new Object,e.mathObj.Long=new Object,e.mathObj.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},e.mathObj.Long.IntCache={},e.mathObj.Long.fromInt=function(t){if(-128<=t&&t<128){var i=e.mathObj.Long.IntCache[t];if(i)return i}var n=new e.mathObj.Long(0|t,t<0?-1:0);return-128<=t&&t<128&&(e.mathObj.Long.IntCache[t]=n),n},e.mathObj.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.mathObj.Long.ZERO:t<=-e.mathObj.Long.TWO_PWR_63_DBL_?e.mathObj.Long.MIN_VALUE:t+1>=e.mathObj.Long.TWO_PWR_63_DBL_?e.mathObj.Long.MAX_VALUE:t<0?e.mathObj.Long.fromNumber(-t).negate():new e.mathObj.Long(t%e.mathObj.Long.TWO_PWR_32_DBL_|0,t/e.mathObj.Long.TWO_PWR_32_DBL_|0)},e.mathObj.Long.fromBits=function(t,i){return new e.mathObj.Long(t,i)},e.mathObj.Long.fromString=function(t,i){if(0===t.length)throw new Error("number format error: empty string");var n=i||10;if(n<2||36<n)throw new Error("radix out of range: "+n);if("-"===t.charAt(0))return e.mathObj.Long.fromString(t.substring(1),n).negate();if(t.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+t);for(var r=e.mathObj.Long.fromNumber(Math.pow(n,8)),a=e.mathObj.Long.ZERO,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),n);if(o<8){var d=e.mathObj.Long.fromNumber(Math.pow(n,o));a=a.multiply(d).add(e.mathObj.Long.fromNumber(l))}else a=(a=a.multiply(r)).add(e.mathObj.Long.fromNumber(l))}return a},e.mathObj.Long.TWO_PWR_16_DBL_=65536,e.mathObj.Long.TWO_PWR_24_DBL_=1<<24,e.mathObj.Long.TWO_PWR_32_DBL_=e.mathObj.Long.TWO_PWR_16_DBL_*e.mathObj.Long.TWO_PWR_16_DBL_,e.mathObj.Long.TWO_PWR_31_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_/2,e.mathObj.Long.TWO_PWR_48_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_*e.mathObj.Long.TWO_PWR_16_DBL_,e.mathObj.Long.TWO_PWR_64_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_*e.mathObj.Long.TWO_PWR_32_DBL_,e.mathObj.Long.TWO_PWR_63_DBL_=e.mathObj.Long.TWO_PWR_64_DBL_/2,e.mathObj.Long.ZERO=e.mathObj.Long.fromInt(0),e.mathObj.Long.ONE=e.mathObj.Long.fromInt(1),e.mathObj.Long.NEG_ONE=e.mathObj.Long.fromInt(-1),e.mathObj.Long.MAX_VALUE=e.mathObj.Long.fromBits(-1,2147483647),e.mathObj.Long.MIN_VALUE=e.mathObj.Long.fromBits(0,-2147483648),e.mathObj.Long.TWO_PWR_24_=e.mathObj.Long.fromInt(1<<24),e.mathObj.Long.prototype.toInt=function(){return this.lowBits},e.mathObj.Long.prototype.toNumber=function(){return this.highBits*e.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},e.mathObj.Long.prototype.toString=function(t){var i,n,r=t||10;if(r<2||36<r)throw new Error("radix out of range: "+r);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(e.mathObj.Long.MIN_VALUE)){var a=e.mathObj.Long.fromNumber(r),s=this.div(a);return i=s.multiply(a).subtract(this),s.toString(r)+i.toInt().toString(r)}switch(r){case 2:case 8:case 16:return function(e,t){for(var i="";e.length<64;)e="0"+e;for(var n=0;n<e.length;n++)i+="1"===e.charAt(n)?"0":"1";for(var r=!0,a="",s=i.length-1;s>=0;s--){var o;"0"===i.charAt(s)?!0===r?(o="1",r=!1):o="0":o=!0===r?"0":"1",a=o+""+a}switch(t){case 2:return a;case 8:a="00"+a;for(var l="",d=22;d>=1;d--){var h=a[3*d-3]+""+a[3*d-2]+a[3*d-1];l=parseInt(h,2).toString(8)+""+l}return l;case 16:for(var c="",u=16;u>=1;u--){var p=a[4*u-4]+""+a[4*u-3]+a[4*u-2]+a[4*u-1];c=parseInt(p,2).toString(16)+""+c}return c}}(n=this.negate().toString(2),r);default:return n="-"+this.negate().toString(r)}}var o=e.mathObj.Long.fromNumber(Math.pow(r,6));for(i=this,n="";;){var l=i.div(o),d=i.subtract(l.multiply(o)).toInt().toString(r);if((i=l).isZero())return d+n;for(;d.length<6;)d="0"+d;n=""+d+n}},e.mathObj.Long.prototype.getHighBits=function(){return this.highBits},e.mathObj.Long.prototype.getLowBits=function(){return this.lowBits},e.mathObj.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:e.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits},e.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0==(t&1<<i);i--);return 0!==this.highBits?i+33:i+1},e.mathObj.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},e.mathObj.Long.prototype.isNegative=function(){return this.highBits<0},e.mathObj.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},e.mathObj.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},e.mathObj.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},e.mathObj.Long.prototype.lessThan=function(e){return this.compare(e)<0},e.mathObj.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.mathObj.Long.prototype.greaterThan=function(e){return this.compare(e)>0},e.mathObj.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.mathObj.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},e.mathObj.Long.prototype.negate=function(){return this.equals(e.mathObj.Long.MIN_VALUE)?e.mathObj.Long.MIN_VALUE:this.not().add(e.mathObj.Long.ONE)},e.mathObj.Long.prototype.add=function(t){var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,a=65535&this.lowBits,s=t.highBits>>>16,o=65535&t.highBits,l=t.lowBits>>>16,d=0,h=0,c=0,u=0;return c+=(u+=a+(65535&t.lowBits))>>>16,u&=65535,h+=(c+=r+l)>>>16,c&=65535,d+=(h+=n+o)>>>16,h&=65535,d+=i+s,d&=65535,e.mathObj.Long.fromBits(c<<16|u,d<<16|h)},e.mathObj.Long.prototype.subtract=function(e){return this.add(e.negate())},e.mathObj.Long.prototype.multiply=function(t){if(this.isZero())return e.mathObj.Long.ZERO;if(t.isZero())return e.mathObj.Long.ZERO;if(this.equals(e.mathObj.Long.MIN_VALUE))return t.isOdd()?e.mathObj.Long.MIN_VALUE:e.mathObj.Long.ZERO;if(t.equals(e.mathObj.Long.MIN_VALUE))return this.isOdd()?e.mathObj.Long.MIN_VALUE:e.mathObj.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(e.mathObj.Long.TWO_PWR_24_)&&t.lessThan(e.mathObj.Long.TWO_PWR_24_))return e.mathObj.Long.fromNumber(this.toNumber()*t.toNumber());var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,a=65535&this.lowBits,s=t.highBits>>>16,o=65535&t.highBits,l=t.lowBits>>>16,d=65535&t.lowBits,h=0,c=0,u=0,p=0;return u+=(p+=a*d)>>>16,p&=65535,c+=(u+=r*d)>>>16,u&=65535,c+=(u+=a*l)>>>16,u&=65535,h+=(c+=n*d)>>>16,c&=65535,h+=(c+=r*l)>>>16,c&=65535,h+=(c+=a*o)>>>16,c&=65535,h+=i*d+n*l+r*o+a*s,h&=65535,e.mathObj.Long.fromBits(u<<16|p,h<<16|c)},e.mathObj.Long.prototype.div=function(t){if(t.isZero())throw new Error("division by zero");if(this.isZero())return e.mathObj.Long.ZERO;var i,n;if(this.equals(e.mathObj.Long.MIN_VALUE))return t.equals(e.mathObj.Long.ONE)||t.equals(e.mathObj.Long.NEG_ONE)?e.mathObj.Long.MIN_VALUE:t.equals(e.mathObj.Long.MIN_VALUE)?e.mathObj.Long.ONE:(i=this.shiftRight(1).div(t).shiftLeft(1)).equals(e.mathObj.Long.ZERO)?t.isNegative()?e.mathObj.Long.ONE:e.mathObj.Long.NEG_ONE:(n=this.subtract(t.multiply(i)),i.add(n.div(t)));if(t.equals(e.mathObj.Long.MIN_VALUE))return e.mathObj.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var r=e.mathObj.Long.ZERO;for(n=this;n.greaterThanOrEqual(t);){i=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),s=a<=48?1:Math.pow(2,a-48),o=e.mathObj.Long.fromNumber(i),l=o.multiply(t);l.isNegative()||l.greaterThan(n);)i-=s,l=(o=e.mathObj.Long.fromNumber(i)).multiply(t);o.isZero()&&(o=e.mathObj.Long.ONE),r=r.add(o),n=n.subtract(l)}return r},e.mathObj.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},e.mathObj.Long.prototype.not=function(){return e.mathObj.Long.fromBits(~this.lowBits,~this.highBits)},e.mathObj.Long.prototype.and=function(t){return e.mathObj.Long.fromBits(this.lowBits&t.lowBits,this.highBits&t.highBits)},e.mathObj.Long.prototype.or=function(t){return e.mathObj.Long.fromBits(this.lowBits|t.lowBits,this.highBits|t.highBits)},e.mathObj.Long.prototype.xor=function(t){return e.mathObj.Long.fromBits(this.lowBits^t.lowBits,this.highBits^t.highBits)},e.mathObj.Long.prototype.shiftLeft=function(t){if(0===(t&=63))return this;var i=this.lowBits;if(t<32){var n=this.highBits;return e.mathObj.Long.fromBits(i<<t,n<<t|i>>>32-t)}return e.mathObj.Long.fromBits(0,i<<t-32)},e.mathObj.Long.prototype.shiftRight=function(t){if(0===(t&=63))return this;var i=this.highBits;if(t<32){var n=this.lowBits;return e.mathObj.Long.fromBits(n>>>t|i<<32-t,i>>t)}return e.mathObj.Long.fromBits(i>>t-32,i>=0?0:-1)},e.mathObj.Long.prototype.shiftRightUnsigned=function(t){if(0===(t&=63))return this;var i=this.highBits;if(t<32){var n=this.lowBits;return e.mathObj.Long.fromBits(n>>>t|i<<32-t,i>>>t)}return 32===t?e.mathObj.Long.fromBits(i,0):e.mathObj.Long.fromBits(i>>>t-32,0)},e},e.jqx.math=function(){var t=new Object,i=new e.jqx.longInt;return t.getDecimalNotation=function(e,t,i,n){if("decimal"===t)return e;e=e.toString();var r,a=Number(e).toExponential();return"scientific"===t?function(e){var t=e.indexOf("e"),i=e.slice(t+1),n=e.slice(0,t+1);return n=n.replace("e","Ã10"),n=(n+=function(e){for(var t="",i=0;i<e.length;i++){var n="-0123456789".indexOf(e.charAt(i));t+=-1!==n?"â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹"[n]:e[i]}return t}(i)).replace("+","")}(a):"engineering"===t?function(e){var t=e.indexOf("e"),r=e.slice(t+1),a=e.slice(0,t),s=parseInt(r,10)%3;if(a*=Math.pow(10,s),r>0){var o=e.slice(0,t).length-s-2;o>=0&&(a=a.toFixed(o))}var l,d=parseInt(r,10)-s;return l=d<0?"":"+",void 0!==i?a=Number(a).toFixed(i):void 0!==n&&(a=Number(Number(a).toPrecision(n)).toString()),a+"e"+l+d}(a):(void 0!==i?r=i:void 0!==n&&(r=n-1),void 0!==r&&(a=Number(e).toExponential(r)),a)},t.getRadixValue=function(t,i,n){function r(e,t,i,n){this.sign=e,this.firstCoefficient=t,this.otherCoefficients=i,this.exponent=n,this.NaN=0,this.infinity=0,this.parse=a}function a(e){var t,i,n,r,a,s,o,l,d,h,c,u;n="123456789",r="0123456789",a="0",s="Ee",o="+",l="",d="",h=1;var p=0;c="",i=0;for(var m=0;m<e.length;m++)switch(t=e.charAt(m),i){case 0:i=-1,-1!="+".indexOf(t)&&(i=1,o="+"),-1!="-".indexOf(t)&&(i=2,o="-"),-1!=n.indexOf(t)&&(i=3,o="+",l=t),-1!=".".indexOf(t)&&(i=4,o="+",p--),-1!=a.indexOf(t)&&(i=5,o="+");break;case 1:case 2:i=-1,-1!=n.indexOf(t)&&(i=3,l=t),-1!=".".indexOf(t)&&(i=4,p--),-1!=a.indexOf(t)&&(i=5);break;case 3:i=-1,-1!=".".indexOf(t)&&(i=6),-1!=r.indexOf(t)&&(i=3,p++,d+=t),-1!=s.indexOf(t)&&(i=9);break;case 4:i=-1,-1!=n.indexOf(t)&&(i=8,l=t),-1!=a.indexOf(t)&&(i=7,p--);break;case 5:i=-1,-1!=n.indexOf(t)&&(i=3,l=t),-1!=".".indexOf(t)&&(i=4,p--),-1!=a.indexOf(t)&&(i=5);break;case 6:i=-1,-1!=r.indexOf(t)&&(i=6,d+=t),-1!=s.indexOf(t)&&(i=9);break;case 7:i=-1,-1!=a.indexOf(t)&&(i=7,p--),-1!=n.indexOf(t)&&(i=8,l=t),-1!=s.indexOf(t)&&(i=9);break;case 8:i=-1,-1!=r.indexOf(t)&&(i=8,d+=t),-1!=s.indexOf(t)&&(i=9);break;case 9:i=-1,-1!="+".indexOf(t)&&(i=10,h=1),-1!="-".indexOf(t)&&(i=11,h=-1),-1!=r.indexOf(t)&&(i=12,h=1,c+=t);break;case 10:case 11:case 12:i=-1,-1!=r.indexOf(t)&&(i=12,c+=t)}if(u="",-1==i)return"infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"+infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"-infinity"==e.toLowerCase()?(this.sign="-",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):(this.sign="",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=1,this.infinity=0,-1);i=0;for(m=d.length-1;m>=0;m--)switch(t=d.charAt(m),i){case 0:case 1:-1!=a.indexOf(t)&&(i=1),-1!=n.indexOf(t)&&(i=2,u=t+u);break;case 2:-1!=r.indexOf(t)&&(i=2,u=t+u)}return""==c&&(c="0"),c=parseInt(c,10)*h+p+"",""==u&&(u="0"),""==l&&(l="0",u="0",h="+",c="0"),this.sign=o,this.firstCoefficient=l,this.otherCoefficients=u,this.exponent=parseInt(c,10),this.NaN=0,this.infinity=0,0}function s(e,t,i,n){this.integer=e,this.fractional=t,this.sign=i,this.status=n,this.fromScientific=o}function o(e,t,i){var n,r;0==e.NaN?1==e.infinity?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="infinity"):e.exponent>=t&&e.exponent<=i?(e.exponent<0&&(n="0",r=function(e,t){for(var i=0;i<t;i++)e="0"+e;return e}(e.firstCoefficient+e.otherCoefficients,-1*e.exponent-1)),e.exponent>=0&&(n=function(e,t){for(var i=0;i<t;i++)e+="0";return e}(n=e.firstCoefficient+e.otherCoefficients.substr(0,e.exponent),e.exponent-e.otherCoefficients.length),""==(r=e.otherCoefficients.substr(e.exponent))&&(r="0")),this.integer=n,this.fractional=r,this.sign=e.sign,this.status="normal"):e.exponent<t?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="normal"):e.exponent>i&&(this.integer="",this.fractional="",this.sign=e.sign,this.status="infinity"):(this.integer="",this.fractional="",this.sign="",this.status="NaN")}function l(e,t,i){this.mantissa=e,this.exponent=t,this.sign=i,this.getBinary=h,this.getHex=c,this.fromDecimal=d}function d(e){var t,i,n,r,a,s,o,l,d,h;if(t=e.integer,i=e.fractional,n=e.sign,"infinity"==e.status)this.mantissa="00000000000000000000000",this.exponent=128,this.sign=n;else if("NaN"==e.status)this.mantissa="11111111111111111111111",this.exponent=128,this.sign="+";else{if(a="0"!=(r=u(t))?p(i,25-r.length,0):p(i,25,1),0==parseInt(r,10)&&0==parseInt(a,10))l=-127,d="00000000000000000000000";else{(l=(s=r+"."+a).indexOf(".")-s.indexOf("1"))>0&&l--,o=l<-126?-126-l:0,h=(d=(s=r+a).substr(s.indexOf("1")+1-o,24)).length;for(var c=0;c<23-h;c++)d+="0";(h=function(e,t){var i,n,r;if(1==t){i="";for(var a=e.length-1;a>=0;a--)r=parseInt(e.charAt(a),10),1==t&&1==r?(n=0,t=1):0==t&&0==r?(n=0,t=0):(n=1,t=0),i=n+i;1==t&&(i=t+i)}else i=e;return i}(d.substr(0,23),parseInt(d.charAt(23),10))).length>23?(d=h.substr(1),l++):d=h,l<-126&&(l=-127),l>127&&(l=128,d="00000000000000000000000")}this.mantissa=d,this.exponent=l,this.sign=n}}function h(){var e,t;t=8-(e=u(this.exponent+127+"")).length;for(var i=0;i<t;i++)e="0"+e;return("+"==this.sign?"0":"1")+e+this.mantissa}function c(){return function(e){var t,i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");t="";for(var n=0;n<e.length;n+=4)t+=i[parseInt(e.substr(n,4),2)];return t}(this.getBinary())}function u(e){var t,i,n,r,a,s,o,l,d,h,c=new Array,u=new Array("000","001","010","011","100","101","110","111");if(a=3*Math.floor((Math.floor(Math.log(Math.pow(10,e.length))/Math.LN2)+1)/3)+3,i=e,0!=(t=e.length-13*Math.floor(e.length/13)))for(var p=t;p<13;p++)i="0"+i;n=0;for(p=0;p<i.length;p+=13)c[n]=parseInt(i.substr(p,13),10),n++;r=n,o="",s=0;for(l=1;s<a&&0!=l;){d=0,l=0;for(p=0;p<r;p++)c[p]+=1e13*d,h=Math.floor(c[p]/8),d=c[p]-8*h,c[p]=h,l+=c[p];o=u[d]+o,0!=s?s+=3:-1!=u[d].indexOf("1")?(s=3-u[d].indexOf("1"),2-u[d].indexOf("1")):3}return o=-1==o.indexOf("1")?"0":o.substr(o.indexOf("1"))}function p(e,t,i){var n,r,a,s,o,l,d,h,c,u,p,m=new Array,f=new Array("000","001","010","011","100","101","110","111");if(o=3*Math.floor(t/3)+3,r=e,0!=(n=e.length-15*Math.floor(e.length/15)))for(var g=n;g<15;g++)r+="0";a=0;for(g=0;g<r.length;g+=15)m[a]=parseInt(r.substr(g,15),10),a++;for(s=a,d="",l=0==i?0:-1,c=0,h=1;l<o&&0!=h;){u=0,h=0;for(g=s-1;g>=0;g--)m[g]=8*m[g]+u,u=Math.floor(m[g]/1e15),m[g]-=1e15*u,h+=m[g];d+=f[u],-1!=l?l+=3:-1!=f[u].indexOf("1")?(l=3-f[u].indexOf("1"),c+=f[u].indexOf("1")):c+=3}if(d.length<t){p=t-d.length;for(g=0;g<p;g++)d+="0"}else d=d.substr(0,c+t);return d}var m,f,g,v,b;switch(i){case!1:if(10!==n){var y=(f=t.toString(),g=new r("","","",""),v=new s("","","",""),b=new l("","",""),g.parse(f),v.fromScientific(g,-45,45),b.fromDecimal(v),b.getHex()),_=function(e){var t,i=new Array("0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111");t="";for(var n=0;n<e.length;n++)t+=i["0123456789ABCDEF".indexOf(e.charAt(n))];return t}(y);switch(n){case 2:return _;case 8:return parseInt(_,2).toString(8);case 16:return y}m=parseInt(t)}else m=parseFloat(t);m=m.toString(n);break;case"s":m=new e.jqx.longObj.mathObj.Long.fromString(t.toString(),10).toString(n);break;case"u":var w=new BigNumber(t);if(-1===w.compare(0))throw new Error("Unsigned 64-bit integers cannot be negative.");m=w.toString(n)}return m},e.extend(t,i.mathObj.Long),t}}(jqxBaseFramework);var at=Object.freeze({});!function(){var e;(e=jqxBaseFramework).jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){e.extend(!0,this,{renderEngine:""});var t=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var i in t)this._addFn(e.jqx._jqxDraw.prototype,t[i])},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){if(!e.jqx.isHidden(this.host)){this.renderer||(this.host.empty(),this._initRenderer(this.host));var t=this.renderer;if(t){var i=t.getRect();this._render({x:1,y:1,width:i.width,height:i.height}),t instanceof e.jqx.HTML5Renderer&&t.refresh()}}},_saveAsImage:function(t,i,n,r){return e.jqx._widgetToImage(this,t,i,n,r)},_render:function(e){this.renderer,this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}}),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var n=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+n[0]+n[1]+n[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var n=e.jqx.cssToRgb(t),r=e.jqx.rgbToHsl(n);r[2]=Math.min(1,r[2]*i),r[1]=Math.min(1,r[1]*i*1.1),n=e.jqx.hslToRgb(r);t="#";for(var a=0;a<3;a++){var s=Math.round(n[a]);1==(s=e.jqx.decToHex(s)).toString().length&&(t+="0"),t+=s}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,n){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(n)]},e.jqx.hexToRgb=function(t,i,n){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(n)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i,n,r,a=parseFloat(t[0]),s=parseFloat(t[1]),o=parseFloat(t[2]);if(0==s)i=n=r=o;else{var l=o<.5?o*(1+s):o+s-o*s,d=2*o-l;i=e.jqx.hueToRgb(d,l,a+1/3),n=e.jqx.hueToRgb(d,l,a),r=e.jqx.hueToRgb(d,l,a-1/3)}return[255*i,255*n,255*r]},e.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,n=parseFloat(e[0])/255,r=parseFloat(e[1])/255,a=parseFloat(e[2])/255,s=Math.max(n,r,a),o=Math.min(n,r,a),l=(s+o)/2;if(s==o)t=i=0;else{var d=s-o;switch(i=l>.5?d/(2-s-o):d/(s+o),s){case n:t=(r-a)/d+(r<a?6:0);break;case r:t=(a-n)/d+2;break;case a:t=(n-r)/d+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,n){return Math.sqrt((i-e)*(i-e)+(n-t)*(n-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,n,r){var a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-n),2)),s=Math.asin((e-i)/a)+r;return{x:e=i+Math.cos(s)*a,y:t=n+Math.sin(s)*a}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),n=1;if(0!=i)for(;i*n<100;)n*=10;return(e*=n)%(t*=n)/n},e.jqx._rnd=function(t,i,n,r){if(isNaN(t))return t;void 0===r&&(r=!0);var a=t-(1==r?t%i:e.jqx._mod(t,i));return t==a?a:(n?t>a&&(a+=i):a>t&&(a-=i),1==i?Math.round(a):a)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,n,r,a,s){n||(n=1);var o=Math.abs(r-a),l=o>180?1:0;o>=360&&(a=r+359.99);var d=r*Math.PI*2/360,h=a*Math.PI*2/360,c=e,u=e,p=t,m=t,f=!isNaN(i)&&i>0;if(f&&(s=0),s+i>0){if(s>0){var g=(o/2+r)*Math.PI*2/360;e+=s*Math.cos(g),t-=s*Math.sin(g)}if(f){var v=i;c=e+v*Math.cos(d),p=t-v*Math.sin(d),u=e+v*Math.cos(h),m=t-v*Math.sin(h)}}var b=e+n*Math.cos(d),y=e+n*Math.cos(h),_=t-n*Math.sin(d),w=t-n*Math.sin(h),x="",C=Math.abs(Math.abs(a-r)-360)>.02;return f?(x="M "+u+","+m,x+=" a"+i+","+i,x+=" 0 "+l+",1 "+(c-u)+","+(p-m),x+=C?" L"+b+","+_:" M"+b+","+_,x+=" a"+n+","+n,x+=" 0 "+l+",0 "+(y-b)+","+(w-_),C&&(x+=" Z")):(x="M "+y+","+w,x+=" a"+n+","+n,x+=" 0 "+l+",1 "+(b-y)+","+(_-w),C&&(x+=" L"+e+","+t,x+=" Z")),x},measureText:function(t,i,n,r,a){var s=a._getTextParts(t,i,n),o=s.width,l=s.height;0==r&&(l/=.6);var d={};if(isNaN(i)&&(i=0),0==i)d={width:e.jqx._rup(o),height:e.jqx._rup(l)};else{var h=i*Math.PI*2/360,c=Math.abs(Math.sin(h)),u=Math.abs(Math.cos(h)),p=Math.abs(o*c+l*u),m=Math.abs(o*u+l*c);d={width:e.jqx._rup(m),height:e.jqx._rup(p)}}return r&&(d.textPartsInfo=s),d},alignTextInRect:function(t,i,n,r,a,s,o,l,d,h){var c=d*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),m=a*u,f=a*p;"center"==o||""==o||"undefined"==o?t+=n/2:"right"==o&&(t+=n),"center"==l||"middle"==l||""==l||"undefined"==l?i+=r/2:"bottom"==l?i+=r-s/2:"top"==l&&(i+=s/2);var g="middle";-1!=(h=h||"").indexOf("top")?g="top":-1!=h.indexOf("bottom")&&(g="bottom");var v="center";return-1!=h.indexOf("left")?v="left":-1!=h.indexOf("right")&&(v="right"),"center"==v?(t-=f/2,i-=m/2):"right"==v&&(t-=f,i-=m),"top"==g?(t-=s*u,i+=s*p):"middle"==g&&(t-=s*u/2,i+=s*p/2),{x:t=e.jqx._rup(t),y:i=e.jqx._rup(i)}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=e;var t=e.find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),n=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){i=!0,n=!0;for(var r=this.host,a=0,s=0;r&&r.position&&r[0].parentNode;){var o=r.position();a+=parseFloat(o.left)-parseInt(o.left),s+=parseFloat(o.top)-parseInt(o.top),r=r.parent()}i=parseFloat(a)==parseInt(a),n=parseFloat(s)==parseInt(s)}i||(this.host.find(".tdLeft")[0].style.width="0.5px"),n||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?i=(i=i.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,n){e(t).on?e(t).on(i,n):e(t).bind(i,n)},removeHandler:function(t,i,n){e(t).off?e(t).off(i,n):e(t).unbind(i,n)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var n in t)i.setAttribute(n,t[n]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,n){var r={width:0,height:0,parts:[]};if(void 0===t)return r;var a=t.toString().split("<br>"),s=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,n);for(var l=0;l<a.length;l++){var d,h=a[l],c=o.ownerDocument.createTextNode(h);o.appendChild(c),s.appendChild(o);try{d=o.getBBox()}catch(e){}var u=e.jqx._rup(d.width),p=e.jqx._rup(.6*d.height);o.removeChild(c),r.width=Math.max(r.width,u),r.height+=p+(l>0?4:0),r.parts.push({width:u,height:p,text:h})}return s.removeChild(o),r},_measureText:function(t,i,n,r){return e.jqx.commonRenderer.measureText(t,i,n,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,n,r,a,s,o,l,d,h,c){var u,p=this._measureText(t,s,o,!0).textPartsInfo,m=p.parts;if(d||(d="center"),h||(h="center"),(m.length>1||l)&&(u=this.beginGroup()),l){var f=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(n)-1,width:e.jqx._rup(r)+2,height:e.jqx._rup(a)+2});this.setClip(u,f)}var g,v,b=this._activeParent();g=p.width,v=p.height,(isNaN(r)||r<=0)&&(r=g),(isNaN(a)||a<=0)&&(a=v);var y=r||0,_=a||0;if(!s||0==s){n+=v,"center"==h||"middle"==h?n+=(_-v)/2:"bottom"==h&&(n+=_-v),r||(r=g),a||(a=v);b=this._activeParent();for(var w=0,x=m.length-1;x>=0;x--){var C=document.createElementNS(this._svgns,"text");this.attr(C,o),this.attr(C,{cursor:"default"});var S=C.ownerDocument.createTextNode(m[x].text);C.appendChild(S);var T=i,P=m[x].width,I=m[x].height;"center"==d?T+=(y-P)/2:"right"==d&&(T+=y-P),this.attr(C,{x:e.jqx._rup(T),y:e.jqx._rup(n+w),width:e.jqx._rup(P),height:e.jqx._rup(I)}),b.appendChild(C),w-=m[x].height+4}return u?(this.endGroup(),u):C}var E=e.jqx.commonRenderer.alignTextInRect(i,n,r,a,g,v,d,h,s,c);i=E.x,n=E.y;var D=this.shape("g",{transform:"translate("+i+","+n+")"}),k=this.shape("g",{transform:"rotate("+s+")"});D.appendChild(k);for(w=0,x=m.length-1;x>=0;x--){var j=document.createElementNS(this._svgns,"text");this.attr(j,o),this.attr(j,{cursor:"default"});S=j.ownerDocument.createTextNode(m[x].text);j.appendChild(S);T=0,P=m[x].width,I=m[x].height;"center"==d?T+=(p.width-P)/2:"right"==d&&(T+=p.width-P),this.attr(j,{x:e.jqx._rup(T),y:e.jqx._rup(w),width:e.jqx._rup(P),height:e.jqx._rup(I)}),k.appendChild(j),w-=I+4}return b.appendChild(D),u&&this.endGroup(),D},line:function(e,t,i,n,r){var a=this.shape("line",{x1:e,y1:t,x2:i,y2:n});return this.attr(a,r),a},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,n,r,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),n=Math.max(1,e.jqx._rnd(n,1,!1)),r=Math.max(1,e.jqx._rnd(r,1,!1));var s=this.shape("rect",{x:t,y:i,width:n,height:r});return a&&this.attr(s,a),s},circle:function(e,t,i,n){var r=this.shape("circle",{cx:e,cy:t,r:i});return n&&this.attr(r,n),r},pieSlicePath:function(t,i,n,r,a,s,o){return e.jqx.commonRenderer.pieSlicePath(t,i,n,r,a,s,o)},pieslice:function(e,t,i,n,r,a,s,o){var l=this.pieSlicePath(e,t,i,n,r,a,s),d=this.shape("path");return d.setAttribute("d",l),o&&this.attr(d,o),d},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,n){var r="grd"+this._id+t.replace("#","")+(i?"v":"h"),a="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[a])return a;var s=document.createElementNS(this._svgns,"linearGradient");this.attr(s,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:r});for(var o=0;o<n.length;o++){var l=n[o],d=document.createElementNS(this._svgns,"stop"),h="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(d,{offset:l[0]+"%",style:h}),s.appendChild(d)}return this._defs.appendChild(s),this._gradients[a]=!0,a},_toRadialGradient:function(t,i,n){var r="grd"+this._id+t.replace("#","")+"r"+(null!=n?n.key:""),a="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[a])return a;var s=document.createElementNS(this._svgns,"radialGradient");null==n?this.attr(s,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(s,{cx:n.x,cy:n.y,r:n.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var o=0;o<i.length;o++){var l=i[o],d=document.createElementNS(this._svgns,"stop"),h="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(d,{offset:l[0]+"%",style:h}),s.appendChild(d)}return this._defs.appendChild(s),this._gradients[a]=!0,a}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t;var i=t.find(".chartContainer");i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px";var n=!0;try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){n=!1;break}}catch(e){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(n&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):n&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(e.jqx._rup(i.width()),0),this._height=Math.max(e.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,n){e(t).on?e(t).on(i,n):e(t).bind(i,n)},removeHandler:function(t,i,n){e(t).off?e(t).off(i,n):e(t).unbind(i,n)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,n){var r={width:0,height:0,parts:[]},a=t.toString().split("<br>"),s=this._activeParent(),o=document.createElement("v:textbox");this.attr(o,n),s.appendChild(o);for(var l=0;l<a.length;l++){var d=a[l],h=document.createElement("span");h.appendChild(document.createTextNode(d)),o.appendChild(h),n&&n.class&&(h.className=n.class);var c=e(o),u=e.jqx._rup(c.width()),p=e.jqx._rup(.6*c.height());if(0==p&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var m=c.css("font-size");m&&(p=parseInt(m),isNaN(p)&&(p=0))}o.removeChild(h),r.width=Math.max(r.width,u),r.height+=p+(l>0?2:0),r.parts.push({width:u,height:p,text:d})}return s.removeChild(o),r},_measureText:function(t,i,n,r){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,n,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,n,r,a,s,o,l,d,h){var c;o&&o.stroke&&(c=o.stroke),null==c&&(c="black");var u,p=this._measureText(t,s,o,!0),m=p.textPartsInfo.parts,f=p.width,g=p.height;if((isNaN(r)||0==r)&&(r=f),(isNaN(a)||0==a)&&(a=g),d||(d="center"),h||(h="center"),(m.length>0||l)&&(u=this.beginGroup()),l){var v=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(n),width:e.jqx._rup(r),height:e.jqx._rup(a)});this.setClip(u,v)}var b=this._activeParent(),y=r||0,_=a||0,w=0,x=0;"center"==d?w+=(y-f)/2:"right"==d&&(w+=y-f),"center"==h?x=(_-g)/2:"bottom"==h&&(x=_-g),0==(s=Math.abs(s)>45?90:0)?(n+=g+x,i+=w):(i+=f+w,n+=x);for(var C,S=0,T=m.length-1;T>=0;T--){var P=m[T],I=(f-P.width)/2;0==s&&"left"==d?I=0:0==s&&"right"==d?I=f-P.width:90==s&&(I=(g-P.width)/2);var E=S-P.height;x=90==s?I:E,w=90==s?E:I,(C=document.createElement("v:textbox")).style.position="absolute",C.style.left=e.jqx._rup(i+w),C.style.top=e.jqx._rup(n+x),C.style.width=e.jqx._rup(P.width),C.style.height=e.jqx._rup(P.height),90==s&&(C.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",C.style.height=e.jqx._rup(P.height)+5);var D=document.createElement("span");D.appendChild(document.createTextNode(P.text)),o&&o.class&&(D.className=o.class),C.appendChild(D),b.appendChild(C),S-=P.height+(T>0?2:0)}return u?(this.endGroup(),b):C},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var n in t)i.setAttribute(n,t[n]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,n,r){var a="M "+e+","+t+" L "+i+","+n+" X E",s=this.path(a);return this.attr(s,r),s},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,n,r,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),n=e.jqx._rup(n),r=e.jqx._rup(r);var s=this.shape("rect",a);return s.style.position="absolute",s.style.left=t,s.style.top=i,s.style.width=n,s.style.height=r,s.strokeweight=0,a&&this.attr(s,a),s},circle:function(t,i,n,r){var a=this.shape("oval");return t=e.jqx._ptrnd(t-n),i=e.jqx._ptrnd(i-n),n=e.jqx._rup(n),a.style.position="absolute",a.style.left=t,a.style.top=i,a.style.width=2*n,a.style.height=2*n,r&&this.attr(a,r),a},updateCircle:function(t,i,n,r){null==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),null==n&&(n=parseFloat(t.style.top)+parseFloat(t.style.height)/2),null==r&&(r=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-r),n=e.jqx._ptrnd(n-r),r=e.jqx._rup(r),t.style.left=i,t.style.top=n,t.style.width=2*r,t.style.height=2*r},pieSlicePath:function(t,i,n,r,a,s,o){r||(r=1);var l=Math.abs(a-s);l>360&&(a=0,s=360);var d=a*Math.PI*2/360,h=s*Math.PI*2/360,c=t,u=i,p=!isNaN(n)&&n>0;if(p&&(o=0),o>0){var m=(l/2+a)*Math.PI*2/360;t+=o*Math.cos(m),i-=o*Math.sin(m)}if(p){var f=n;c=e.jqx._ptrnd(t+f*Math.cos(d)),u=e.jqx._ptrnd(i-f*Math.sin(d)),e.jqx._ptrnd(t+f*Math.cos(h)),e.jqx._ptrnd(i-f*Math.sin(h))}e.jqx._ptrnd(t+r*Math.cos(d));var g=e.jqx._ptrnd(t+r*Math.cos(h)),v=(e.jqx._ptrnd(i-r*Math.sin(d)),e.jqx._ptrnd(i-r*Math.sin(h)));r=e.jqx._ptrnd(r),n=e.jqx._ptrnd(n),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var b=Math.round(65535*a),y=Math.round(65536*(s-a));n<0&&(n=1);var _="";return p?(_="M"+c+" "+u,_+=" AE "+t+" "+i+" "+n+" "+n+" "+b+" "+y,_+=" L "+g+" "+v,b=Math.round(65535*(a-s)),_+=" AE "+t+" "+i+" "+r+" "+r+" "+(y=Math.round(65536*s))+" "+b,_+=" L "+c+" "+u):(_="M"+t+" "+i,_+=" AE "+t+" "+i+" "+r+" "+r+" "+b+" "+y),_+=" X E"},pieslice:function(e,t,i,n,r,a,s,o){var l=this.pieSlicePath(e,t,i,n,r,a,s),d=this.path(l,o);return o&&this.attr(d,o),d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var n=this._translateParam(i);null!=t[i]&&("fillcolor"==n&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==n&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==n||"fillopacity"==n?e.fill&&(e.fill.opacity=t[i]):"textContent"==n?e.children[0].innerText=t[i]:"dashstyle"==n?e.dashstyle=t[i].replace(","," "):-1==n.indexOf("style.")?e[n]=t[i]:e.style[n.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,n){if(this._ie8mode)return t;var r="grd"+t.replace("#","")+(i?"v":"h"),a="#"+r;if(this._gradients[a])return a;var s=document.createElement(this._createElementMarkup("fill"));s.type="gradient",s.method="linear",s.angle=i?0:90;for(var o="",l=0;l<n.length;l++){var d=n[l];d>0&&(o+=", "),o+=d[0]+"% "+e.jqx.adjustColor(t,d[1])}s.colors=o;var h=document.createElement(this._createElementMarkup("shapetype"));return h.appendChild(s),h.id=r,this.canvas.appendChild(h),a}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var n in t)i[n]=t[n];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,n,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(n))throw'Invalid value for "height"';var a=this.shape("rect",{x:e,y:t,width:i,height:n});return r&&this.attr(a,r),a},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,n,r){return this.path("M "+e+","+t+" L "+i+","+n,r)},circle:function(e,t,i,n){var r=this.shape("circle",{x:e,y:t,r:i});return n&&this.attr(r,n),r},pieSlicePath:function(t,i,n,r,a,s,o){return e.jqx.commonRenderer.pieSlicePath(t,i,n,r,a,s,o)},pieslice:function(e,t,i,n,r,a,s,o){var l=this.path(this.pieSlicePath(e,t,i,n,r,a,s),o);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:n,angleFrom:r,angleTo:a}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var n=0;t[i].cssRules&&n<t[i].cssRules.length;n++)if(-1!=t[i].cssRules[n].selectorText.indexOf(e))return t[i].cssRules[n].style}catch(e){}return{}},_getTextParts:function(t,i,n){var r="Arial",a="10pt",s="";if(n&&n.class){var o=this._getCSSStyle(n.class);o.fontSize&&(a=o.fontSize),o.fontFamily&&(r=o.fontFamily),o.fontWeight&&(s=o.fontWeight)}this.ctx.font=s+" "+a+" "+r;for(var l={width:0,height:0,parts:[]},d=t.toString().split("<br>"),h=0;h<d.length;h++){var c=d[h],u=this.ctx.measureText(c).width,p=document.createElement("span.jqxchart");p.font=this.ctx.font,p.textContent=c,document.body.appendChild(p);var m=.6*p.offsetHeight;document.body.removeChild(p),l.width=Math.max(l.width,e.jqx._rup(u)),l.height+=m+(h>0?4:0),l.parts.push({width:u,height:m,text:c})}return l},_measureText:function(t,i,n,r){return e.jqx.commonRenderer.measureText(t,i,n,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,n,r,a,s,o,l,d,h){var c=this.shape("text",{text:e,x:t,y:i,width:n,height:r,angle:a,clip:o,halign:l,valign:d,rotateAround:h});if(s&&this.attr(c,s),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",s&&s.class){var u=this._getCSSStyle(s.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,s,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(n<=0||isNaN(n))&&this.attr(c,{width:p.width}),(r<=0||isNaN(r))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(t,i,n){if(this._renderers._gradients[t])return t;for(var r=[],a=0;a<n.length;a++)r.push({percent:n[a][0]/100,color:e.jqx.adjustColor(t,n[a][1])});var s="gr"+this._gradientId++;return this.createGradient(s,i?"vertical":"horizontal",r),s},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var n=[],r=0;r<i.length;r++)n.push({percent:i[r][0]/100,color:e.jqx.adjustColor(t,i[r][1])});var a="gr"+this._gradientId++;return this.createGradient(a,"radial",n),a},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,n){e._gradients[t]={orientation:i,colorStops:n}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var n=t.ctx;if(n.fillStyle="transparent",null!=i["fill-opacity"]?n.globalAlpha=i["fill-opacity"]:null!=i.opacity?n.globalAlpha=i.opacity:n.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var r,a,s,o,l,d="horizontal"!=t._gradients[i.fill].orientation,h="radial"==t._gradients[i.fill].orientation,c=e.jqx.ptrnd(i.x),u=e.jqx.ptrnd(i.y),p=e.jqx.ptrnd(i.x+(d?0:i.width)),m=e.jqx.ptrnd(i.y+(d?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!h||(a=e.jqx.ptrnd(i.x),s=e.jqx.ptrnd(i.y),o=i.innerRadius||0,l=i.outerRadius||i.r||0,"rect"==i.type&&(a+=i.width/2,s+=i.height/2),r=n.createRadialGradient(a,s,o,a,s,l)),h||((isNaN(c)||isNaN(p)||isNaN(u)||isNaN(m))&&(c=0,u=0,p=d?0:n.canvas.width,m=d?n.canvas.height:0),r=n.createLinearGradient(c,u,p,m));for(var f=t._gradients[i.fill].colorStops,g=0;g<f.length;g++)r.addColorStop(f[g].percent,f[g].color);n.fillStyle=r}else i.fill&&(n.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var n=parseFloat(e.substring(this._pos,i));if(!isNaN(n))return this._pos=i,n},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var n=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var r=this._parseCmd(i);if(null==r)break;if("M"!=r&&"m"!=r)if("L"!=r&&"l"!=r)if("A"!=r&&"a"!=r)if("Z"!=r&&"z"!=r||null==n)if("C"!=r&&"c"!=r)if("Q"!=r&&"q"!=r);else{a=this._parsePoint(i),s=this._parsePoint(i);e.quadraticCurveTo(a.x,a.y,s.x,s.y),this._currentPoint=s}else{var a=this._parsePoint(i),s=this._parsePoint(i),o=this._parsePoint(i);e.bezierCurveTo(a.x,a.y,s.x,s.y,o.x,o.y),this._currentPoint=o}else e.lineTo(n.x,n.y),this._currentPoint=n;else{var l=this._parseNumber(i),d=this._parseNumber(i),h=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(r)&&(p=this._toAbsolutePoint(p)),0==l||0==d)continue;var m=this._currentPoint,f={x:Math.cos(h)*(m.x-p.x)/2+Math.sin(h)*(m.y-p.y)/2,y:-Math.sin(h)*(m.x-p.x)/2+Math.cos(h)*(m.y-p.y)/2},g=Math.pow(f.x,2)/Math.pow(l,2)+Math.pow(f.y,2)/Math.pow(d,2);g>1&&(l*=Math.sqrt(g),d*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(d,2)-Math.pow(l,2)*Math.pow(f.y,2)-Math.pow(d,2)*Math.pow(f.x,2))/(Math.pow(l,2)*Math.pow(f.y,2)+Math.pow(d,2)*Math.pow(f.x,2)));isNaN(v)&&(v=0);var b={x:v*l*f.y/d,y:v*-d*f.x/l},y={x:(m.x+p.x)/2+Math.cos(h)*b.x-Math.sin(h)*b.y,y:(m.y+p.y)/2+Math.sin(h)*b.x+Math.cos(h)*b.y},_=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(_(e)*_(t))},x=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))},C=x([1,0],[(f.x-b.x)/l,(f.y-b.y)/d]),S=[(f.x-b.x)/l,(f.y-b.y)/d],T=[(-f.x-b.x)/l,(-f.y-b.y)/d],P=x(S,T);w(S,T)<=-1&&(P=Math.PI),w(S,T)>=1&&(P=0),0==u&&P>0&&(P-=2*Math.PI),1==u&&P<0&&(P+=2*Math.PI);w=l>d?l:d;var I=l>d?1:l/d,E=l>d?d/l:1;e.translate(y.x,y.y),e.rotate(h),e.scale(I,E),e.arc(0,0,w,C,C+P,1-u),e.scale(1/I,1/E),e.rotate(-h),e.translate(-y.x,-y.y)}else{if(null==(D=this._parsePoint(i)))break;e.lineTo(D.x,D.y),this._currentPoint=D}else{var D;if(null==(D=this._parsePoint(i)))break;e.moveTo(D.x,D.y),this._currentPoint=D,null==n&&(n=D)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var n=e.jqx.ptrnd(i.x),r=e.jqx.ptrnd(i.y),a=e.jqx.ptrnd(i.width),s=e.jqx.ptrnd(i.height),o=i.halign,l=i.valign,d=i.angle,h=i.rotateAround,c=i.textPartsInfo,u=c.parts,p=i.clip;null==p&&(p=!0),t.save(),o||(o="center"),l||(l="center"),p&&(t.rect(n,r,a,s),t.clip());var m=i.textWidth,f=i.textHeight,g=a||0,v=s||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,d&&0!=d){var b=e.jqx.commonRenderer.alignTextInRect(n,r,a,s,m,f,o,l,d,h);n=b.x,r=b.y;var y=d*Math.PI*2/360;t.translate(n,r),t.rotate(y);w=0;var _=c.width;for(x=u.length-1;x>=0;x--){S=0;"center"==o?S+=(_-u[x].width)/2:"right"==o&&(S+=_-u[x].width),t.fillText(u[x].text,S,w),w-=u[x].height+4}t.restore()}else{r+=f,"center"==l||"middle"==l?r+=(v-f)/2:"bottom"==l&&(r+=v-f),a||(a=m),s||(s=f);for(var w=0,x=u.length-1;x>=0;x--){var C=u[x],S=n,T=u[x].width;u[x].height;"center"==o?S+=(g-T)/2:"right"==o&&(S+=g-T),t.fillText(C.text,S,r+w),w-=C.height+(x>0?4:0)}t.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var n=t,r=n.renderer=null;if(document.createElementNS&&"HTML5"!=n.renderEngine&&"VML"!=n.renderEngine&&!(r=new e.jqx.svgRenderer).init(i)){if("SVG"==n.renderEngine)throw"Your browser does not support SVG";return null}if(null==r&&"HTML5"!=n.renderEngine){if(!(r=new e.jqx.vmlRenderer).init(i)){if("VML"==n.renderEngine)throw"Your browser does not support VML";return null}n._isVML=!0}if(null==r&&("HTML5"==n.renderEngine||null==n.renderEngine)&&!(r=new e.jqx.HTML5Renderer).init(i))throw"Your browser does not support HTML5 Canvas";return n.renderer=r,r},e.jqx._widgetToImage=function(t,i,n,r,a,s){var o=t;if(!o)return!1;null!=n&&""!=n||(n="image."+i);var l=o.renderEngine,d=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=l)try{o.refresh()}catch(e){return o.renderEngine=l,o.refresh(),o.enableAnimations=d,!1}var h=o.renderer.getContainer().find("canvas")[0],c=!0;e.isFunction(s)&&(c=s(t,h));var u=!0;return c&&(u=e.jqx.exportImage(h,i,n,r,a)),o.renderEngine!=l&&(o.renderEngine=l,o.refresh(),o.enableAnimations=d),u},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,n,r,a){if(!t)return!1;var s="pdf"===i.toLowerCase();if(s&&(i="jpeg"),null!=n&&""!=n||(n="image."+i),null==r||""==r)throw"Please specifiy export server";var o=!0;try{if(t){var l=t.toDataURL("image/"+i);if(s){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var d=595;switch(e.jqx.pdfExport.paperSize){case"legal":d=612;"portrait"!==e.jqx.pdfExport.orientation&&(d=1008);break;case"letter":d=612;"portrait"!==e.jqx.pdfExport.orientation&&(d=792);break;case"a3":d=841;"portrait"!==e.jqx.pdfExport.orientation&&(d=1190);break;case"a4":d=595;"portrait"!==e.jqx.pdfExport.orientation&&(d=842);break;case"a5":d=420;"portrait"!==e.jqx.pdfExport.orientation&&(d=595)}var h=72*e(t).width()/96;h>=d-20&&(h=d-20);var c=new(void 0)(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return c.addImage(l,"JPEG",10,10,h,0),void c.save(n)}if(l=l.replace("data:image/"+i+";base64,",""),a)e.ajax({dataType:"string",url:r,type:"POST",data:{content:l,fname:n},async:!1,success:function(e,t,i){o=!0},error:function(e,t,i){o=!1}});else{var u=document.createElement("form");u.method="POST",u.action=r,u.style.display="none",document.body.appendChild(u);var p=document.createElement("input");p.name="fname",p.value=n,p.style.display="none";var m=document.createElement("input");m.name="content",m.value=l,m.style.display="none",u.appendChild(p),u.appendChild(m),u.submit(),document.body.removeChild(u),o=!0}}}catch(e){o=!1}return o}}(jqxBaseFramework),jqxBaseFramework}();var st=Object.freeze({});!function(){var e;(e=jqxBaseFramework).jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===e.jqx._jqxMenu.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var n=this.loadItems(this.source);this.element.innerHTML=n}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation){this.host.focus();var t=this,i=function(){if(e.jqx.isHidden(e(t.items[0].element))){var i=t._nextVisibleItem(t.items[0],0);i&&(e(i.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=i)}else e(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),i()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):i()}}catch(e){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var n=this;this.items=new Array;var r='<ul class="jqx-menu-ul">';return i&&(r='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){if(null==e)return null;r+=n._parseItem(e)}),r+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e),null!=e.selected&&e.selected;var n=!1;return null!=e.disabled&&e.disabled&&(n=!0),t+="<li",n&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){if(null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto"),null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;navigator.userAgent.match(/Windows|Linux|MacOS/)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0||(i=!0));var n=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var r=new e.jqx.response;"Phone"!=r.device.type&&"Tablet"!=r.device.type||this.minimized||this.minimize()}else t<n&&!this.minimized?this.minimize():this.minimized&&t>=n&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;if(this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(r=this.host.closest("div.jqx-menu-wrapper")).remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){e(this.element),e(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var n=this.host.find("ul:first");n.length>0&&this._createMenu(n[0])}this._render();var r,a=this.host.find("ul:first");a.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(r=a.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,r.detach(),r.appendTo(e(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-menu")),r.addClass(this.toThemeProperty("jqx-menu-minimized")),r.addClass(this.toThemeProperty("jqx-widget-header")),a.children().hide(),r.hide(),r.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(r,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var s=function(e){if(t.minimizedHidden){r.find("ul:first").children().show(),t.minimizedHidden=!1,r.show(),r.css("opacity",0),r.css("left",-r.outerWidth());var i=!1,n=r.width();"right"==t.minimizedItem.css("float")&&(r.css("left",t.host.coord().left+t.host.width()+n),i=!0),r.css("top",t.host.coord().top+t.host.height()),r.animate({left:i?t.host.coord().left+t.host.width()-n:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else!function(e){t.minimizedHidden=!0,t.minimizedItem.show();var i=!1;"right"==t.minimizedItem.css("float")&&(i=!0),r.animate({left:i?t.host.coord().left+t.host.width()+r.width():-r.outerWidth(),opacity:0},t.animationHideDuration,function(){r.find("ul:first").children().hide(),r.hide()})}();t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=r.width(),i=!1;e=r.width(),"right"==t.minimizedItem.css("float")&&(i=!0),r.css("top",t.host.coord().top+t.host.height()),r.css({left:i?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){s(e)})}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),e("#menuWrapper"+this.element.id).remove(),this.source){var t=this.loadItems(this.source);this.element.innerHTML=t,this._tmpHTML=t}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var i=this.host.find("ul:first");i.length>0&&this._createMenu(i[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,n=i.items;e.each(n,function(){1==this.hasItems&&this.isOpen&&i._closeItem(i,this)}),"popup"==i.mode&&null!=t&&(i._isRightClick(t)||i.close())},closeItem:function(t){if(null==t)return!1;var i=t,n=document.getElementById(i),r=this;return e.each(r.items,function(){1==this.isOpen&&this.element==n&&(r._closeItem(r,this),this.parentId&&r.closeItem(this.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,n=document.getElementById(i),r=this;return e.each(r.items,function(){0==this.isOpen&&this.element==n&&(r._openItem(r,this),this.parentId&&r.openItem(this.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),n=-i.outerHeight(),r=-i.outerWidth(),a=0==t.level&&"horizontal"==this.mode;switch(a?r=0:n=0,t.openVerticalDirection){case"up":case"center":n=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):case"center":r=a?0:i.outerWidth()}return{left:r,top:n}},_closeItem:function(t,i,n,r){if(null==t||null==i)return!1;var a=e(i.subMenuElement),s=0==i.level&&"horizontal"==this.mode,o=this._getClosedSubMenuOffset(i),l=o.top,d=o.left,h=(e(i.element),a.closest("div.jqx-menu-popup"));if(null!=h){var c=t.animationHideDelay;1==r&&(c=0),a.data("timer")&&null!=a.data("timer").show&&(clearTimeout(a.data("timer").show),a.data("timer").show=null);var u=function(){i.isOpen=!1,s?a.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),h.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var n=e(i.arrow);n.length>0&&t.showTopLevelArrows&&(n.removeClass(),"down"==i.openVerticalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),n.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),n.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),0==t.animationHideDuration&&a.css({top:l}),t._raiseEvent("1",i)}):(e.jqx.browser.msie,a.stop().animate({left:d},t.animationHideDuration,function(){var n;0==t.animationHideDuration&&a.css({left:d}),i.level>0?(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?a.data("timer")&&(a.data("timer").hide=setTimeout(function(){u()},c)):u(),null!=n&&n){var p=a.children();e.each(p,function(){t.menuElements[this.id]&&t.menuElements[this.id].isOpen&&(e(t.menuElements[this.id].subMenuElement),t._closeItem(t,t.menuElements[this.id],!0,!0))})}}},getSubItems:function(t,i){if(null==t)return!1;var n=this,r=new Array;null!=i&&e.extend(r,i);var a=t,s=this.menuElements[a],o=e(s.subMenuElement).find(".jqx-menu-item");return e.each(o,function(){r[this.id]=n.menuElements[this.id];var t=n.getSubItems(this.id,r);e.extend(r,t)}),r},disable:function(t,i){if(null!=t){var n=t;if(this.menuElements[n]){var r=this.menuElements[n];r.disabled=i;var a=e(r.element);r.element.disabled=i,e.each(a.children(),function(){this.disabled=i}),i?(a.addClass(this.toThemeProperty("jqx-menu-item-disabled")),a.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(a.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),a.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var n=e;if(this.menuElements[n]){var r=this.menuElements[n];r[t]&&(r[t]=i)}}},setItemOpenDirection:function(t,i,n){if(null!=t){var r=t,a=this,s=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[r]){var o=this.menuElements[r];if(null!=i&&(o.openHorizontalDirection=i,o.hasItems&&o.level>0&&null!=(d=e(o.element)))){var l=e(o.arrow);null==o.arrow&&(l=e('<span id="arrow'+d[0].id+'"></span>'),s?l.appendTo(d):l.prependTo(d),o.arrow=l[0]),l.removeClass(),"left"==o.openHorizontalDirection?(l.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("left"))),l.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("left")))):(l.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("right"))),l.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("right")))),l.css("visibility","inherit"),s?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right"))}if(null!=n){o.openVerticalDirection=n,l=e(o.arrow);var d=e(o.element);if(!a.showTopLevelArrows)return;null!=d&&(null==o.arrow&&(l=e('<span id="arrow'+d[0].id+'"></span>'),s?l.appendTo(d):l.prependTo(d),o.arrow=l[0]),l.removeClass(),"down"==o.openVerticalDirection?(l.addClass(a.toThemeProperty("jqx-menu-item-arrow-down")),l.addClass(a.toThemeProperty("jqx-icon-arrow-down"))):(l.addClass(a.toThemeProperty("jqx-menu-item-arrow-up")),l.addClass(a.toThemeProperty("jqx-icon-arrow-up"))),l.css("visibility","inherit"),s?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,n=0;n<this.items.length;n++)this.items[n]!=e&&this.items[n].parentId==e.parentId&&this.items[n].hasItems&&(t[i++]=this.items[n]);return t},_openItem:function(t,i,n){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var r=t.popupZIndex;null!=n&&(r=n);var a=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=a,e(i.element).focus();var s=[5,5],o=e(i.subMenuElement);null!=o&&o.stop(),o.data("timer")&&null!=o.data("timer").hide&&clearTimeout(o.data("timer").hide);var l=o.closest("div.jqx-menu-popup"),d=e(i.element),h=0==i.level?this._getOffset(i.element):d.position();if(i.level>0&&this.hasTransform){var c=parseInt(d.coord().top)-parseInt(this._getOffset(i.element).top);h.top+=c}0==i.level&&"popup"==this.mode&&(h=d.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?h.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-s[0]:parseInt(o.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?h.top+d.outerHeight():h.top,zIndex:r}),o.css("display","block"),"horizontal"!=this.mode&&0==i.level){var m=this._getOffset(this.element);l.css("left",-1+m.left+this.host.outerWidth()),o.css("left",-o.outerWidth())}else{var f=this._getClosedSubMenuOffset(i);o.css("left",f.left),o.css("top",f.top)}l.css({height:parseInt(o.outerHeight())+parseInt(s[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){o.css("top",o.outerHeight()),g=s[1];var b=parseInt(o.parent().css("padding-bottom"));isNaN(b)&&(b=0),b>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),o.css("top",o.outerHeight()-b),l.css({display:"block",top:h.top-l.outerHeight(),zIndex:r})}else g=s[1],o.css("top",o.outerHeight()),l.css({display:"block",top:h.top-l.outerHeight()+s[1]+d.outerHeight(),zIndex:r});break;case"center":u?(o.css("top",0),l.css({display:"block",top:h.top-l.outerHeight()/2+s[1],zIndex:r})):(o.css("top",0),l.css({display:"block",top:h.top+d.outerHeight()/2-l.outerHeight()/2+s[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:h.left-(l.outerWidth()-d.outerWidth()-s[0])}):(v=0,o.css("left",l.outerWidth()),l.css({left:h.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-s[0]/2)}):(l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-s[0]/2)}),o.css("left",l.outerWidth()))}if(u){if(parseInt(o.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(o.css("left"))==v)return void i.isOpen;e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var y=e.data(t.element,"animationHideDelay");t.animationHideDelay=y,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),o.data("timer")&&(o.data("timer").show=setTimeout(function(){if(null!=l)if(u)o.stop(),o.css("left",v),e.jqx.browser.msie,d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),(n=e(i.arrow)).length>0&&t.showTopLevelArrows&&(n.removeClass(),"down"==i.openVerticalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(o.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):o.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)});else{var n;o.stop(),o.css("top",g),e.jqx.browser.msie,i.level>0?(d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),e.jqx.browser.msie,0==t.animationShowDuration?(o.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):o.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var n,r=this,a=0;if(r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal")),r.host.removeClass(r.toThemeProperty("jqx-menu-vertical")),r.host.removeClass(r.toThemeProperty("jqx-menu")),r.host.removeClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-menu")),null!=t&&null!=i&&"popup"==i){if(r.host.parent().length>0&&r.host.parent().parent().length>0&&r.host.parent().parent()[0]==document.body){var s=e.data(document.body,"jqxMenuOldHost"+r.element.id);null!=s&&((o=r.host.closest("div.jqx-menu-wrapper")).remove(),o.appendTo(s),r.host.css("display","block"),r.host.css("visibility","visible"),o.css("display","block"),o.css("visibility","visible"))}}else null==t&&null==i&&e.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0]);switch(r.autoOpenPopup?"popup"==r.mode?(r.addHandler(e(document),"contextmenu."+r.element.id,function(e){return!1}),r.addHandler(e(document),"mousedown.menu"+r.element.id,function(e){r._openContextMenu(e)})):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id)):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id),r.addHandler(e(document),"contextmenu."+r.element.id,function(e){if(e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0)return!1})),r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl")),r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header")),r.host.addClass(r.toThemeProperty("jqx-menu-horizontal")),e.each(r.items,function(){if(n=e(this.element),(t=e(this.arrow)).removeClass(),this.hasItems&&this.level>0&&((t=e('<span style="border: none; background-color: transparent;" id="arrow'+n[0].id+'"></span>')).prependTo(n),t.css("float",r._getDir("right")),t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),this.arrow=t[0]),0==this.level){if(e(this.element).css("float",r._getDir("left")),!this.ignoretheme&&this.hasItems&&r.showTopLevelArrows){var t=e('<span style="border: none; background-color: transparent;" id="arrow'+n[0].id+'"></span>'),i=e.jqx.browser.msie&&e.jqx.browser.version<8;null==this.arrow?i?t.appendTo(n):t.prependTo(n):t=e(this.arrow),"down"==this.openVerticalDirection?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),t.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),t.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),t.css("visibility","inherit"),i?t.css("display","inline-block"):(t.css("display","block"),t.css("float","right")),this.arrow=t[0]}else this.ignoretheme||!this.hasItems||r.showTopLevelArrows||null!=this.arrow&&((t=e(this.arrow)).remove(),this.arrow=null);a=Math.max(a,n.height())}});break;case"vertical":case"popup":case"simple":if(r.host.addClass(r.toThemeProperty("jqx-menu-vertical")),e.each(r.items,function(){if(n=e(this.element),this.hasItems&&!this.ignoretheme){if(this.arrow&&e(this.arrow).remove(),"simple"==r.mode)return!0;var t=e('<span style="border: none; background-color: transparent;" id="arrow'+n[0].id+'"></span>');t.prependTo(n),t.css("float","right"),0==this.level?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))),this.arrow=t[0]}n.css("float","none")}),"popup"==r.mode){r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=r.host.closest("div.jqx-menu-wrapper");r.host.addClass(r.toThemeProperty("jqx-popup")),o[0].id="menuWrapper"+r.element.id,o.appendTo(e(document.body)),r.addHandler(o,"keydown",function(e){return r.handleKeyDown(e)})}else r.host.addClass(r.toThemeProperty("jqx-widget-header"));if("popup"==r.mode){var l=r.host.height();r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),"simple"!=r.mode&&(r.host.height(l),r.host.css("display","none"))}}var d=r.isTouchDevice();r.autoCloseOnClick&&(r.removeHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),d&&(r.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),n=e(t).coord(!0),r=n.top,a=n.left;"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(a=parseInt(a)+this._getBodyOffset().left);var s=e.jqx.mobile.isWindowsPhone(),o=e.jqx.mobile.isTouchDevice();return this.hasTransform||null!=i&&i||s||o?{left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)}:{left:a,top:r}},_isRightClick:function(e){var t;return e||(e=window.event),e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this;e.data(this.element,"contextMenuOpened"+this.element.id)&&(this.host,e.each(t.items,function(){this.hasItems&&t._closeItem(t,this)}),e.each(t.items,function(){1==this.isOpen&&e(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5"))},open:function(t,i){if("popup"==this.mode){var n=0;"block"==this.host.css("display")&&(this.close(),n=this.animationHideDuration);var r=this;null!=t&&null!=t||(t=0),null!=i&&null!=i||(i=0),setTimeout(function(){r.host.show(r.animationShowDuration),r.host.css("visibility","visible"),e.data(r.element,"contextMenuOpened"+r.element.id,!0),r._raiseEvent("0",r),r._raiseEvent("4",{left:t,top:i}),r.host.css("z-index",9999),null!=t&&null!=i&&r.host.css({left:t,top:i}),r.focus()},n)}},_renderHover:function(e,t,i){var n=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){n.hoveredItem=t,t.disabled||t.separator||!n.enableHover||n.disabled||(t.level>0?(e.addClass(n.toThemeProperty("jqx-fill-state-hover")),e.addClass(n.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(n.toThemeProperty("jqx-fill-state-hover")),e.addClass(n.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!n.enableHover||n.disabled||(t.level>0?(e.removeClass(n.toThemeProperty("jqx-fill-state-hover")),e.removeClass(n.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(n.toThemeProperty("jqx-fill-state-hover")),e.removeClass(n.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,n=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return n=!0,!1}),n||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i,n=this.maxHeight;parseInt(n)>parseInt(this.host.height())&&(n=parseInt(this.host.height())),n=parseInt(this.host.height()),e.each(this.items,function(){if(i=e(this.element),0==this.level&&n>0){var r=i.children().length>0?parseInt(i.children().height()):i.height(),a=t.host.find("ul:first"),s=parseInt(a.css("padding-top")),o=parseInt(a.css("margin-top")),l=n-2*(o+s),d=parseInt(l)/2-r/2,h=parseInt(d),c=parseInt(d);i.css("padding-top",h),i.css("padding-bottom",c),parseInt(i.outerHeight())>l&&(i.css("padding-top",h-1),h-=1)}})}e.each(this.items,function(){if(i=e(this.element),this.hasItems&&this.level>0&&this.arrow){var t=e(this.arrow),n=e(this.element).height();n>15&&t.css("margin-top",(n-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||null==t)return null;var i=t.parentElement;if(!i)return null;var n=null;return e.each(this.items,function(){if(this.element==i)return n=this,!1}),n},_isElementVisible:function(t){return null!=t&&"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var n=this.popupZIndex,r=[5,5],a=this;e.data(a.element,"animationHideDelay",a.animationHideDelay);var s=this.isTouchDevice(),o=s&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);-1!=navigator.platform.toLowerCase().indexOf("win")&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&("MSPointerDown"in window||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(o=!0,a.clickToOpen=!0,a.autoCloseOnClick=!1,a.enableHover=!1)),e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(a.keyboardNavigation&&a.activeItem){if("popup"===a.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(a.keyboardNavigation&&!a.activeItem)if(a.hoveredItem)e(a.hoveredItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(a.items[0].element))){var t=a._nextVisibleItem(a.items[0],0);t&&(e(t.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=t)}else e(a.items[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.items[0]};a.activeItem?e.jqx.isHidden(e(a.activeItem.element))?(e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),i()):e(a.activeItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown"),a.handleKeyDown=function(t){if(!a.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,n=null;if(e.each(a.items,function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(n=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&n&&(i=n),i||(e(a.items[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.items[0],i=a.activeItem),27==t.keyCode&&(t.data=a,a._closeAll(t),i))for(var r=i;null!=r;)r.parentItem?r=r.parentItem:(e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=r,e(a.activeItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),r=r.parentItem);if(13==t.keyCode&&i){a._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var s=null!=i.anchor?e(i.anchor):null;if(null!=s&&s.length>0){var o=s.attr("href"),l=s.attr("target");null!=o&&(null!=l?window.open(o,l):window.location=o)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var d=function(e){if(null==e)return new Array;for(var t=new Array,i=0,n=0;n<a.items.length;n++)a.items[n].parentId==e.parentId&&(t[i++]=a.items[n]);return t},h="";switch(t.keyCode){case 40:h="down";break;case 38:h="up";break;case 39:h="right";break;case 37:h="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===h&&(h="right"),i&&"left"===i.openHorizontalDirection&&"right"===h&&(h="left"),i&&"top"===i.openVerticalDirection&&"top"===h&&(h="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===h&&(h="top"),a.rtl&&("right"===h?h="left":"left"===h&&(h="right")),"right"===h&&!a.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=a.mode))a._openItem(a,i);else{var c=a._nextVisibleItem(i,0),u=a._nextVisibleItem(i),p=d(u);c||(c=u),c&&(c.parentId===i.parentId&&0==c.level&&"horizontal"==a.mode||u.id==p[0].id&&0!=u.level)&&(u.id==p[0].id&&(0!=i.level||0==i.level&&"horizontal"!=a.mode)&&(c=u),e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c)}t.preventDefault(),t.stopPropagation()}if("left"===h&&!a.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==a.mode||i.level>1&&"horizontal"===a.mode||1==i.level&&i.hasItems&&"horizontal"===a.mode))i.hasItems?a._closeItem(a,i):i.parentItem&&(a._closeItem(a,i.parentItem),e(i.parentItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=i.parentItem);else{var c=a._prevVisibleItem(i,0),m=i.parentItem;c&&c.parentId===i.parentId&&0==c.level&&"horizontal"==a.mode?(e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c):m&&0==m.level&&"horizontal"==a.mode||!m||m.level!=i.level-1||(e(m.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===h?(t.altKey?(0==i.level&&i.hasItems&&a._openItem(a,i),a.minimized&&a.minimizedHidden&&a.minimizedItem.trigger("click")):(p=d(c=a._nextVisibleItem(i,i.level)),a.minimized&&c?(e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c):(c&&(c.parentId===i.parentId||c.id==p[0].id&&"horizontal"==a.mode)&&(0==c.level&&"horizontal"==a.mode||(e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c)),"horizontal"===a.mode&&0===i.level&&i.isOpen&&i.hasItems&&(c=a._nextVisibleItem(i),e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c))),t.preventDefault(),t.stopPropagation()):"up"===h&&(t.altKey?(i.parentItem&&0==i.parentItem.level?(a._closeItem(a,i.parentItem),e(i.parentItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===a.mode&&a._closeItem(a,i),a.minimized&&(a.minimizedHidden||a.minimizedItem.trigger("click"))):(c=a._prevVisibleItem(i,i.level),p=d(i),a.minimized&&c?(e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c):c&&(c.parentId===i.parentId||c.id==i.parentId&&0==c.level&&"horizontal"==a.mode)?0==c.level&&"horizontal"===a.mode&&0===i.level||(e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c):i&&i.id==p[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===a.mode&&(c=i.parentItem,e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c)),t.preventDefault(),t.stopPropagation()),9==t.keyCode)if(c=t.shiftKey?a._prevVisibleItem(i):a._nextVisibleItem(i))e(c.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=c,t.preventDefault(),t.stopPropagation();else if(a.lockFocus){p=new Array;for(var f=0,g=0;g<a.items.length;g++)a.items[g]!=i&&a.items[g].parentId==i.parentId&&(p[f++]=a.items[g]);p.length>0&&(t.shiftKey?(e(p[p.length-1].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=p[p.length-1]):(e(p[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=p[0]),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=null)},this.addHandler(this.host,"keydown",function(e){a.handleKeyDown(e)}),a.enableRoundedCorners&&this.host.addClass(a.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),a.enableRoundedCorners&&i.addClass(a.toThemeProperty("jqx-rc-all")),a.removeHandler(i,"click"),a.addHandler(i,"click",function(i){if(!t.disabled&&!a.disabled&&(a.keyboardNavigation&&(a.activeItem&&e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=t,e(t.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.minimized&&i.stopPropagation()),a._raiseEvent("2",{type:"mouse",item:t.element,event:i}),a.autoOpen?!a.autoCloseOnClick||s||a.clickToOpen||t.closeOnClick&&(i.data=a,a._closeAll(i)):t.level>0&&(!a.autoCloseOnClick||s||a.clickToOpen||(i.data=a,a._closeAll(i))),s&&a.autoCloseOnClick&&(i.data=a,t.hasItems||a._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var n=null!=t.anchor?e(t.anchor):null;if(null!=n&&n.length>0){var r=n.attr("href"),o=n.attr("target");null!=r&&(null!=o?window.open(r,o):window.location=r)}}}),a.removeHandler(i,"mouseenter"),a.removeHandler(i,"mouseleave"),o||"simple"==a.mode||a._renderHover(i,t,s),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==a.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+a.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+n+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==a.mode&&l.css("left",0),n++;var d=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(r[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(r[1])+"px"}),h=i.closest("div.jqx-menu-popup");if(h.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right");d.appendTo(h),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}else c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right"),d.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m);a.clickToOpen?(a.removeHandler(i,"mousedown"),a.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=a,a._closeAll(e)),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t)})):((s||o)&&(a.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),a.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==a.mode||(e.data=a,a._closeAll(e)),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t),!1})),o||(a.addHandler(i,"mouseenter",function(){if((a.autoOpen||t.level>0&&!a.autoOpen)&&clearTimeout(l.data("timer").hide),!t.parentId||0==t.parentId||!a.menuElements[t.parentId]||a.menuElements[t.parentId].isOpen)return(a.autoOpen||t.level>0&&!a.autoOpen)&&a._openItem(a,t),!1}),a.addHandler(i,"mousedown",function(){a.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t))}),a.addHandler(i,"mouseleave",function(i){if(a.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var n=e(t.subMenuElement),r={left:parseInt(i.pageX),top:parseInt(i.pageY)},s={left:parseInt(n.coord().left),top:parseInt(n.coord().top),width:parseInt(n.outerWidth()),height:parseInt(n.outerHeight())},o=!0;s.left-5<=r.left&&r.left<=s.left+s.width+5&&s.top<=r.top&&r.top<=s.top+s.height&&(o=!1),o&&a._closeItem(a,t,!0)}}),a.removeHandler(d,"mouseenter"),a.addHandler(d,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),a.removeHandler(d,"mouseleave"),a.addHandler(d,"mouseleave",function(e){a.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),a._closeItem(a,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){null==i&&(i=!0),null==i&&(i=!0),e(t).addClass("jqx-menu-ul");var n=e(t).find("li"),r=0;this.itemMapping=new Array;for(var a=0;a<n.length;a++){var s=n[a],o=e(s);if(-1!=s.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=s.id;l||(l=this.createID()),i&&(s.id=l,this.items[r]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[r]),r+=1;var d=0,h=this;o.children().each(function(){return i||(this.className="",h.autoGenerate&&(e(h.items[r-1].subMenuElement)[0].className="",h.minimized||e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-widget-content")),e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(h.items[r-1].subMenuElement).addClass(h.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(h.items[r-1].subMenuElement=this),!1):!h.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(h.items[r-1].subMenuElement=this),this.className="",h.minimized||e(this).addClass(h.toThemeProperty("jqx-widget-content")),e(this).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(h.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),h.rtl?e(this).addClass(h.toThemeProperty("jqx-rc-l")):e(this).addClass(h.toThemeProperty("jqx-rc-r")),e(this).addClass(h.toThemeProperty("jqx-rc-b")),!1)}),o.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(d=this.id,!1):!h.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(d=this.id,!1)});var c=!1,u=s.getAttribute("type"),p=s.getAttribute("ignoretheme")||s.getAttribute("data-ignoretheme");p?"true"!=p&&1!=p||(p=!0):p=!1,u?"separator"==u&&(c=!0):u=s.type,c||(u=d?"sub":"top");var m=this.items[r-1];if(i){m.id=l,m.parentId=d,m.type=u,m.separator=c,m.element=n[a];var f=o.children("a");m.disabled="true"==s.getAttribute("item-disabled"),m.level=o.parents("li").length,m.anchor=f.length>0?f:null,m.anchor&&e(m.anchor).attr("tabindex",-1)}m.ignoretheme=p;var g=this.menuElements[d];null!=g&&(g.ignoretheme&&(m.ignoretheme=g.ignoretheme,p=g.ignoretheme),m.parentItem=g,m.parentElement=g.element),this.autoGenerate&&("separator"==u?(o.removeClass(),o.addClass(this.toThemeProperty("jqx-menu-item-separator")),o.attr("role","separator")):p||(o[0].className.indexOf("jqx-grid-menu-item-touch")>=0?o[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):o[0].className="",this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl")),m.level>0&&!h.minimized?(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item"))):(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item-top"))))),m.disabled&&(o.addClass(h.toThemeProperty("jqx-menu-item-disabled")),o.addClass(h.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[a]={element:n[a],item:m},this.itemMapping["id"+n[a].id]=this.itemMapping[a],i&&!p&&(m.hasItems=o.find("li").length>0,m.hasItems&&m.element&&(e.jqx.aria(e(m.element),"aria-haspopup",!0),m.subMenuElement.id||(m.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(m.element),"aria-owns",m.subMenuElement.id)))}}for(var v=0;v<n.length;v++){var b=n[v];if(this.itemMapping["id"+b.id]){if(!(m=this.itemMapping["id"+b.id].item))continue;m.prevItem=null,m.nextItem=null,v>0&&this.itemMapping["id"+n[v-1].id]&&(m.prevItem=this.itemMapping["id"+n[v-1].id].item),v<n.length-1&&this.itemMapping["id"+n[v+1].id]&&(m.nextItem=this.itemMapping["id"+n[v+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=e(this.element);t.removeHandler(i,"click"),t.removeHandler(i,"selectstart"),t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),t.removeHandler(i,"mousedown"),t.removeHandler(i,"mouseleave"),e(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var n=e.data(t.element,"jqxMenu");n&&delete n.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var n=this.events[t],r=i;r.owner=this;var a=new e.Event(n);return"2"==t&&((r=i.item).owner=this,r.clickType=i.type,e.extend(a,i.event),a.type="itemclick"),a.owner=this,a.args=r,this.host.trigger(a)},propertiesChangedHandler:function(t,i,n){if(n.width&&n.height&&2==Object.keys(n).length&&(t._setSize(),"popup"===t.mode)){this.host.closest("div.jqx-menu-wrapper")[i](n);var r=this.host[0].id;e("#"+r)[i](n)}},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),r!=n))if("touchMode"==i&&(this._isTouchDevice=null,t._render(r,n)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var a=t.loadItems(t.source);t.element.innerHTML=a;var s=t.host.find("ul:first");s.length>0&&(t.refresh(),t._createMenu(s[0]),t._render())}"autoCloseOnClick"==i?0==r?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(r,n):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(n,r,t.host)}else if(t._setSize(),"popup"===t.mode){this.host.closest("div.jqx-menu-wrapper")[i](r);var o=this.host[0].id;e("#"+o)[i](r)}}}),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}}}();var ot=Object.freeze({});!function(){var e;(e=jqxBaseFramework).jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxListBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),null==this.width&&(this.width=200),null==this.height&&(this.height=200),this.renderListBox();var i=this;e.jqx.utilities.resize(this.host,function(){i._updateSize()},!1,this._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=(o=this).element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){o.field=o.element,o.field.className&&(o._className=o.field.className);var i={title:o.field.title};o.field.id.length?i.id=o.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":i.id=e.jqx.utilities.createId()+"_jqxListBox";var n=e("<div></div>",i);o.width||(o.width=e(o.field).width()),o.height||(o.height=e(o.field).outerHeight()),o.element.style.cssText=o.field.style.cssText,e(o.field).hide().after(n);var r=o.host.data();if(o.host=n,o.host.data(r),o.element=n[0],o.element.id=o.field.id,o.field.id=i.id,o._className&&(o.host.addClass(o._className),e(o.field).removeClass(o._className)),o.field.tabIndex){var a=o.field.tabIndex;o.field.tabIndex=-1,o.element.tabIndex=a}}else if(o.host.find("li").length>0||o.host.find("option").length>0){var s=e.jqx.parseSourceTag(this.element);o.source=s.items}o.element.innerHTML="";var o,l=(o=o).element.className;l+=" "+o.toThemeProperty("jqx-listbox"),l+=" "+o.toThemeProperty("jqx-reset"),l+=" "+o.toThemeProperty("jqx-rc-all"),l+=" "+o.toThemeProperty("jqx-widget"),l+=" "+o.toThemeProperty("jqx-widget-content"),o.element.className=l,null!=o.width&&-1!=o.width.toString().indexOf("%")&&o.host.width(o.width),null!=o.height&&-1!=o.height.toString().indexOf("%")&&(o.host.height(o.height),0==o.host.height()&&o.host.height(200)),null!=o.width&&-1!=o.width.toString().indexOf("px")?o.host.width(o.width):null==o.width||isNaN(o.width)||(o.element.style.width=parseInt(o.width)+"px"),null!=o.height&&-1!=o.height.toString().indexOf("px")?o.host.height(o.height):null==o.height||isNaN(o.height)||(o.element.style.height=parseInt(o.height)+"px"),o.multiple||o.multipleextended||o.checkboxes?e.jqx.aria(o,"aria-multiselectable",!0):e.jqx.aria(o,"aria-multiselectable",!1);var d="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+o.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+o.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+o.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";o.host.attr("role","listbox"),o.element.innerHTML=d,o._checkForHiddenParent&&(o._addInput(),o.host.attr("tabIndex")||o.host.attr("tabIndex",1)),o.filter=e(o.element.firstChild.firstChild.firstChild),o.filterInput=e(o.filter[0].firstChild),o.filterInput.attr("placeholder",o.filterPlaceHolder),o.filterInput.addClass(o.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),o.addHandler(o.filterInput,"keyup.textchange",function(e){13==e.keyCode?o._search(e):o.filterDelay>0&&(o._filterTimer&&clearTimeout(o._filterTimer),o._filterTimer=setTimeout(function(){o._search(e)},o.filterDelay)),e.stopPropagation()});var h=e(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!o.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!h.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(o.host.height())/2;0==c&&(c=10),o.vScrollBar=h.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:o.rtl,theme:o.theme,touchMode:o.touchMode,largestep:c});var u=e(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(o.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:o.rtl,touchMode:o.touchMode,theme:o.theme}),o.content=e(o.element.firstChild.firstChild.firstChild.nextSibling),o.content[0].id="listBoxContent"+o.element.id,o.bottomRight=e(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(o.toThemeProperty("jqx-listbox-bottomright")).addClass(o.toThemeProperty("jqx-scrollbar-state-normal")),o.bottomRight[0].id="bottomRight"+o.element.id,o.vScrollInstance=e.data(o.vScrollBar[0],"jqxScrollBar").instance,o.hScrollInstance=e.data(o.hScrollBar[0],"jqxScrollBar").instance,o.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");o.content.parent().append(p),o.overlayContent=o.host.find(".overlay"),o.filterable&&o.overlayContent.css("top","30px")}o._updateTouchScrolling(),o.host.addClass("jqx-disableselect"),o.host.jqxDragDrop},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){null!=i&&"hidden"!=t.vScrollBar.css("visibility")&&(t.vScrollInstance.value,t.vScrollInstance.setPosition(i),t._lastScroll=new Date),null!=e&&"hidden"!=t.hScrollBar.css("visibility")&&(t.hScrollInstance.value,t.hScrollInstance.setPosition(e),t._lastScroll=new Date)},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&n!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var a=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(a,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=a),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),"source"!=i&&"checkboxes"!=i||(null==r&&n&&n.unbindBindingUpdate&&(n.unbindBindingUpdate(t.element.id),n.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||r!=n&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var s=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(s),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&n!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(n!=r){var o=t.selectedIndex;t.refresh(),t.selectedIndex=o,t.selectedIndexes[o]=o}t._renderItems()}"autoHeight"==i&&(n!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i=e("#"+t);if(i.length>0){var n=e.jqx.parseSourceTag(i[0]),r=n.items,a=n.index;this.source=r,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=a,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(null!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var n=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void n(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),n(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),n=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(null!=this.renderedVisibleItems[n]&&this.renderedVisibleItems[n].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return n=this._searchFirstVisibleIndex(t+i),this.visibleItems[n]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.visibleItems);for(var n=t.length;i<=n;){var r=parseInt((i+n)/2),a=t[r];if(null==a)break;if(a.initialTop>e&&a.initialTop+a.height>e)n=r-1;else{if(!(a.initialTop<e&&a.initialTop+a.height<=e))return r;i=r+1}}return 0},_renderItems:function(){if(null!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,n=this.hScrollInstance,r=parseInt(i.value),a=parseInt(n.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(a=n.max-a),this.items.length,this.host.width();var s=parseInt(this.content[0].style.width),o=s+parseInt(n.max);parseInt(this.vScrollBar[0].style.width),this.vScrollBar[0].style.visibility,"visible"!=this.hScrollBar[0].style.visibility&&(o=s),this._getVirtualItemsCount();var l=new Array,d=0,h=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(h=this.host.outerHeight()),isNaN(h)&&(h=0);var c=0,u=0,p=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++)(P=this.items[m]).visible&&(P.top=-r,P.initialTop=-r,!P.isGroup&&P.visible&&(this.visibleItems[u++]=P,P.visibleIndex=u-1),this.renderedVisibleItems[p++]=P,P.left=-a,P.top+P.height>=0&&P.top-P.height<=h&&(l[d++]={index:m,item:P}),r-=P.height,r--);var f=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,g=0;d=0;for(var v=this.vScrollInstance.value,b=0;g<100+h&&null!=(P=this.renderedVisibleItems[f])&&(P.visible&&(P.left=-a,P.top+P.height-v>=0&&P.initialTop-v-P.height<=2*h&&(l[d++]={index:f,item:P})),f++,P.visible&&(g+=P.initialTop-v+P.height-g),!(++b>this.items.length-1)););if(!this._renderOnDemand){var y=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),_=this.toThemeProperty("jqx-listitem-state-group"),w=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),x=0,C=this;for(m=0;m<this.visualItems.length;m++){var S=this.visualItems[m],T=function(){var e=S[0].firstChild;C.checkboxes&&(e=S[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),C.checkboxes&&S.find(".chkbox").css({visibility:"hidden"})};if(m<l.length){var P;if((P=l[m].item).initialTop-v>=h){T();continue}var I=e(S[0].firstChild);if(this.checkboxes&&(I=e(S[0].lastChild)),0==I.length)continue;if(null==I[0])continue;I[0].className="",I[0].style.display="block",I[0].style.visibility="inherit";var E="";if(E=!P.isGroup&&!this.selectedIndexes[P.index]>=0?y:_,(P.disabled||this.disabled)&&(E+=" "+w),this.roundedcorners&&(E+=" "+this.toThemeProperty("jqx-rc-all")),t&&(E+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),I[0].className=E,this.renderer)if(P.key||(P.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[P.key])I[0].innerHTML!=this._cachedItemHtml[P.key]&&(I[0].innerHTML=this._cachedItemHtml[P.key]);else{var D=this.renderer(P.index,P.label,P.value);I[0].innerHTML=D,this._cachedItemHtml[P.key]=I[0].innerHTML}else{if(-1!==this.itemHeight){var k=2+2*parseInt(I.css("padding-top"));I[0].style.lineHeight=P.height-k+"px",I.css("vertical-align","middle")}null!=P.html&&P.html.toString().length>0?I[0].innerHTML=P.html:null!=P.label||null!=P.value?null!=P.label?(I[0].innerHTML!==P.label&&(I[0].innerHTML=P.label),""==e.trim(P.label)&&(I[0].innerHTML=this.emptyString,""==this.emptyString&&(I[0].style.height=P.height-8+"px")),this.incrementalSearch||P.disabled||null!=this.searchString&&""!=this.searchString&&(I[0].innerHTML=this._highlight(P.label.toString(),this.searchString))):null===P.label?(I[0].innerHTML=this.emptyString,""==this.emptyString&&(I[0].style.height=P.height-8+"px")):I[0].innerHTML!==P.value?I[0].innerHTML=P.value:""==P.label&&(I[0].innerHTML=" "):""!=P.label&&null!=P.label||(I[0].innerHTML="",I[0].style.height=P.height-8+"px")}if(S[0].style.left=P.left+"px",S[0].style.top=P.initialTop-v+"px",P.element=I[0],P.title&&(I[0].title=P.title),this.equalItemsWidth&&!P.isGroup){if(0==c){var j=parseInt(o);j-=parseInt(I.outerWidth())-parseInt(I.width());var M=1;c=j-=2*(M=null!=M?parseInt(M):0),this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(c-=18)}s>this.virtualSize.width?(I[0].style.width=c+"px",P.width=c):(I[0].style.width=-4+this.virtualSize.width+"px",P.width=this.virtualSize.width-4)}else I.width()<this.host.width()&&I.width(this.host.width()-2);if(this.rtl&&(I[0].style.textAlign="right"),this.autoItemsHeight&&(I[0].style.whiteSpace="pre-line",I.width(c),P.width=c),x=0,this.checkboxes&&!P.isGroup){0==x&&(x=(P.height-16)/2,x++),(q=e(S.children()[0]))[0].item=P,this.rtl?"0px"!=I[0].style.left&&(I[0].style.left="0px"):"18px"!=I[0].style.left&&(I[0].style.left="18px"),this.rtl&&q.css("left",8+P.width+"px"),q[0].style.top=x+"px",q[0].style.display="block",q[0].style.visibility="inherit";var A=P.checked,N=P.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";q[0].firstChild&&q[0].firstChild.firstChild&&q[0].firstChild.firstChild.firstChild&&q[0].firstChild.firstChild&&(A?q[0].firstChild.firstChild.firstChild.className=N:!1===A?q[0].firstChild.firstChild.firstChild.className="":null===A&&(q[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(A?S[0].setAttribute("aria-selected",!0):S[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var q;(q=e(S.children()[0])).css({display:"none",visibility:"inherit"})}!P.disabled&&(!this.filterable&&this.selectedIndexes[P.visibleIndex]>=0||P.selected&&this.filterable)?(I.addClass(this.toThemeProperty("jqx-listitem-state-selected")),I.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(S[0].setAttribute("aria-selected",!0),this._activeElement=S[0])):this.checkboxes||e.jqx.ariaEnabled&&S[0].removeAttribute("aria-selected")}else T()}}}}else this.visibleItems=new Array},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,n=2,r=0,a=document.createElement("span");this.equalItemsWidth&&e(a).css("float","left"),a.style.whiteSpace="pre";var s=0,o=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(a);var l=this.items.length,d=this.host.width();if(this.autoItemsHeight&&(d-=10,"hidden"!=this.vScrollBar.css("visibility")&&(d-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html){for(r=0;r<l;r++)if((!(_=this.items[r]).isGroup||""!=_.label||""!=_.html)&&_.visible){var h="";if(_.isGroup?h+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):h+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch")),a.className=h,this.autoItemsHeight){a.style.whiteSpace="pre-line";var c=this.checkboxes?-20:0;a.style.width=c+d+"px"}if(this.renderer){var u=this.renderer(_.index,_.label,_.value);a.innerHTML=u}else null!=_.html&&_.html.toString().length>0?a.innerHTML=_.html:null==_.label&&null==_.value||(null!=_.label?(a.innerHTML=_.label,""==_.label&&(a.innerHTML="Empty")):a.innerHTML=_.value);var p=a.offsetHeight,m=a.offsetWidth;this.itemHeight>-1&&(p=this.itemHeight),_.height=p,_.width=m,n+=++p,i=Math.max(i,m),n<=o&&s++}}else{n=0;var f=0,g="",v=0,b=0,y=-1;for(r=0;r<l;r++){var _;(_=this.items[r]).isGroup&&""==_.label&&""==_.html||!_.visible||(h="",0==++y&&(h+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),h+=" "+this.toThemeProperty("jqx-widget"),h+=" "+this.toThemeProperty("jqx-listbox"),h+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch"),h+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),a.className=h,this.autoItemsHeight&&(a.style.whiteSpace="pre-line",c=this.checkboxes?-20:0,a.style.width=c+d+"px"),null==_.html||""==_.label||null==_.label?a.innerHTML="Item":null!=_.html&&_.html.toString().length>0?a.innerHTML=_.html:null==_.label&&null==_.value||(null!=_.label?null!=_.label.toString().match(new RegExp("\\w"))||null!=_.label.toString().match(new RegExp("\\d"))?a.innerHTML=_.label:a.innerHTML="Item":a.innerHTML=_.value),p=1+a.offsetHeight,this.itemHeight>-1&&(p=this.itemHeight),f=p),null!=v&&(b=v),null!=_.html&&_.html.toString().length>0?b!=(v=Math.max(v,_.html.toString().length))&&(g=_.html):null!=_.label?b!=(v=Math.max(v,_.label.length))&&(g=_.label):null!=_.value&&b!=(v=Math.max(v,_.value.length))&&(g=_.value),_.height=f,n+=f,++n<=o&&s++)}a.innerHTML=g,i=a.offsetWidth}return n+=2,s<10&&(s=10),this.filterable&&(n+=this.filterHeight),a.parentNode.removeChild(a),{width:i,height:n,itemsPerPage:s}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand&&1!=(a=this).updatingListBox){if(null==a.items||0==a.items.length)return a.virtualSize={width:0,height:0,itemsPerPage:0},a._updatescrollbars(),a.renderedVisibleItems=new Array,void(a.itemswrapper&&a.itemswrapper.children().remove());var i=a.host.height();if(0==t){var n=2*(u=a._calculateVirtualSize(i)).itemsPerPage;return a.autoHeight&&(n=a.items.length),a.virtualItemsCount=Math.min(n,a.items.length),u.width,a.virtualSize=u,void a._updatescrollbars()}var r=0;a.visibleItems=new Array,a.renderedVisibleItems=new Array,a._removeHandlers(),a.allowDrag&&a._enableDragDrop&&(a.itemswrapper=null),null==a.itemswrapper&&(a.content[0].innerHTML="",a.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),a.itemswrapper[0].style.height=2*i+"px",a.content[0].appendChild(a.itemswrapper[0])),n=2*(u=a._calculateVirtualSize(i)).itemsPerPage,a.autoHeight&&(n=a.items.length),a.virtualItemsCount=Math.min(n,a.items.length);var a=this;u.width,a.virtualSize=u;var s=Math.max(a.host.width(),17+u.width);a.itemswrapper[0].style.width=s+"px";for(var o="",l=e.jqx.browser.msie&&e.jqx.browser.version<9?' unselectable="on"':"",d=0;d<a.virtualItemsCount;d++){var h=a.items[d];if(o+="<div"+l+" role='option' id='listitem"+d+a.element.id+"' class='jqx-listitem-element'>",a.checkboxes){o+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var c='<div class="'+a.toThemeProperty("jqx-checkbox-default")+" "+a.toThemeProperty("jqx-fill-state-normal")+" "+a.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">';c+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+(h.checked?" "+a.toThemeProperty("jqx-checkbox-check-checked"):"")+'"></span>',o+=c+="</div></div>",o+="</div>"}o+="<span"+l+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?a.itemswrapper.html(o):a.itemswrapper[0].innerHTML=o;var u,p=a.itemswrapper.children();for(d=0;d<a.virtualItemsCount;d++){h=a.items[d];var m=e(p[d]);a.allowDrag&&a._enableDragDrop&&m.addClass("draggable"),a.checkboxes&&(e(m.children()[0]),m.css("float","left"),e(m[0].firstChild).css("float","left")),m[0].style.height=h.height+"px",m[0].style.top=r+"px",r+=h.height+1,a.visualItems[d]=m}if(a._addHandlers(),a._updatescrollbars(),a.autoItemsHeight)n=2*(u=a._calculateVirtualSize(i)).itemsPerPage,a.autoHeight&&(n=a.items.length),a.virtualItemsCount=Math.min(n,a.items.length),a=this,u.width,a.virtualSize=u,a._updatescrollbars();e.jqx.browser.msie&&e.jqx.browser.version<8&&(a.host.attr("hideFocus",!0),a.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,n=t.virtualSize.width,r=t.vScrollInstance,a=t.hScrollInstance;t._arrange(!1);var s=!1,o=t.host.outerWidth(),l=t.host.outerHeight(),d=0;if(n>o&&(d=t.hScrollBar.outerHeight()+2),i+d>l){var h=r.max;r.max=2+parseInt(i)+d-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",s=!0),h!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",s=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(n>=o-c-u){var p=a.max;"inherit"==t.vScrollBar[0].style.visibility?a.max=u+c+parseInt(n)-t.host.width()+4:a.max=u+parseInt(n)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",s=!0),p!=a.max&&a._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",s=!0);a.setPosition(0),s&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(o-2,17+n))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px"),t.isTouchDevice()&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,n=0;n<this.selectedIndexes.length;n++){var r=this.selectedIndexes[n];-1!=r&&null!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var a=this.getVisibleItem(e);a&&this.selectedValues[a.value]&&(this.selectedValues[a.value]=null)}null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),n=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var n=new Array,r=0;r<i.length;r++){var a=i[r];if(a){var s=a.initialTop,o=!0;(s+a.height-t<0||s-t>=e.host.height())&&(o=!1),o&&n.push(a)}}return n}();return{items:t,visibleItems:i,viewItems:n}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;return e.each(this.items,function(){if(this.index==t)return i=this,!1}),i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,n){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);(this.groups.length>0||this.filterable)&&(r=this.getVisibleItem(t)),null!=r&&(e(r.checkBoxElement),r.checked=!0,null!=i&&1!=i||this._updateCheckedItems()),null!=n&&1!=n||this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;return null!=this.items?(e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t):void 0},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){!1!==t&&!0!==this.checked&&i._raiseEvent(3,{label:this.label,value:this.value,checked:!0,item:this}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){!1!==t&&!1!==this.checked&&(this.checked=!1,i._raiseEvent(3,{label:this.label,value:this.value,checked:!1,item:this})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,n){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);(this.groups.length>0||this.filterable)&&(r=this.getVisibleItem(t)),null!=r&&(e(r.checkBoxElement),r.checked=!1,null!=i&&1!=i||this._updateCheckedItems()),null!=n&&1!=n||this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,n){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);(this.groups.length>0||this.filterable)&&(r=this.getVisibleItem(t)),null!=r&&(e(r.checkBoxElement),r.checked=null,null!=i&&1!=i||this._updateCheckedItems()),null!=n&&1!=n||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var n in t)-1!=t[n]&&(i[i.length]=e[n]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1),this.getCheckedItems(),this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,n=0;n<i.length;n++)if(i[n].value==t)return i[n]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length)return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,n,r,a){if(!isNaN(e)){var s=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||n||this.checkboxes){if(this.checkboxes){this._updateCheckedItems();var o=s;this.selectedIndex!=e||this.multiple||(o=-1),null==r&&(r="none");var l=this.getItem(e),d=this.getItem(o);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(o)),this._raiseEvent("1",{index:o,type:r,item:d,originalEvent:a}),this.selectedIndex=e,this.selectedIndexes[o]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:a}),void this._renderItems()}this.focused=!0;var h=!1;if(this.selectedIndex!=e&&(h=!0),o=s,this.selectedIndex!=e||this.multiple||(o=-1),null==r&&(r="none"),l=this.getItem(e),d=this.getItem(o),this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(o)),null!=n&&n)this._raiseEvent("1",{index:o,type:r,item:d,originalEvent:a}),this.selectedIndex=e,this.selectedIndexes[o]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:a});else{var c=this,u=function(e,t,i,n,r,a){c._raiseEvent("1",{index:t,type:i,item:n,originalEvent:a}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:a})},p=function(e,t,i,n,r,a){null==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:a}))):(t=c.selectedIndexes[e],(n=c.getVisibleItem(t))&&(c.selectedValues[n.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:n,originalEvent:a}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),p(e,o,r,d,l,a);else if(this._shiftKey){null==c._clickedIndex&&(c._clickedIndex=o);var m=Math.min(c._clickedIndex,e),f=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=m;g<=f;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:a});c.selectedIndex="keyboard"!=r?c._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(p(e,o,r,d,l,a),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,o,r,d,l,a));else this.multiple?p(e,o,r,d,l,a):(l&&(this.selectedValue=l.value),u(e,o,r,d,l,a))}return null!=i&&1!=i||this._renderItems(),null!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:d,type:r,originalEvent:a}),this._updateInputSelection(),h}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),n="";if(i){for(var r=0;r<i.length;r++)null!=i[r]&&(r==i.length-1?n+=i[r].value:n+=i[r].value+",",t.push(i[r].value));this.input.val(n)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,n){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,n){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var n=this.visibleItems[e];if(null==n)return!0;var r=n.initialTop,a=n.height;return!(r-t<i||r-t+i+a>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){if(this.initialTop+this.height>=i.content.height())return!1;t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(var t=e+1;t<this.visibleItems.length;t++)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},_prevItemIndex:function(e){for(var t=e-1;t>=0;t--)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this.filterInput.val();if(9!=e.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||this.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||t!==this.searchString&&this._updateItemsVisibility(t))},_updateItemsVisibility:function(t){var i=this.getItems();if(null==i)return{index:-1,matchItem:new Array};var n=this,r=new Array,a=0;e.each(i,function(i){var s="";if(!this.isGroup){s=(s=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var o=!1;switch(n.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(s,t);break;case"contains":o=e.jqx.string.contains(s,t);break;case"equals":o=e.jqx.string.equals(s,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(s,t);break;case"startswith":o=e.jqx.string.startsWith(s,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(s,t);break;case"endswith":o=e.jqx.string.endsWith(s,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(s,t)}o||(this.visible=!1),o&&(r[a++]=this,this.visible=!0,this.visibleIndex),""==t&&(this.visible=!0,o=!1)}}),n.renderedVisibleItems=new Array,n.visibleItems=new Array,n.vScrollInstance.setPosition(0,!0),n._addItems(!1),n._renderItems();for(var s=0;s<n.items.length;s++)n.selectedIndexes[s]=-1;for(var o in n.selectedIndex=-1,n.selectedValues){t=n.selectedValues[o];var l=n.getItemByValue(t);l&&l.visible&&(n.selectedIndex=l.visibleIndex,n.selectedIndexes[l.visibleIndex]=l.visibleIndex)}n._syncSelection(),n.filterChange&&n.filterChange(t)},_getMatches:function(t,i){if(null==t||0==t.length)return-1;null==i&&(i=0);var n=this.getItems(),r=this,a=-1;return e.each(n,function(n){var s="";if(!this.isGroup){s=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var o=!1;switch(r.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(s,t);break;case"contains":o=e.jqx.string.contains(s,t);break;case"equals":o=e.jqx.string.equals(s,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(s,t);break;case"startswith":o=e.jqx.string.startsWith(s,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(s,t);break;case"endswith":o=e.jqx.string.endsWith(s,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(s,t)}if(o&&this.visibleIndex>=i)return a=this.visibleIndex,!1}}),a},findItems:function(t){var i=this.getItems(),n=this,r=0,a=new Array;return e.each(i,function(i){var s="";if(!this.isGroup){s=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var o=!1;switch(n.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(s,t);break;case"contains":o=e.jqx.string.contains(s,t);break;case"equals":o=e.jqx.string.equals(s,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(s,t);break;case"startswith":o=e.jqx.string.startsWith(s,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(s,t);break;case"endswith":o=e.jqx.string.endsWith(s,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(s,t)}o&&(a[r++]=this)}}),a},_syncSelection:function(){if(this.filterable){if(this.items)for(var e=0;e<this.items.length;e++)(t=this.items[e]).selected=!1;for(e=0;e<this.visibleItems.length;e++){var t=this.visibleItems[e];this.selectedIndexes&&this.selectedIndexes[e]==t.visibleIndex&&(t.selected=!0)}this.itemswrapper&&this._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,n=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var a,s=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes)return null!=(a=this.getItem(n))&&(i._updateItemCheck(a,n),e.preventDefault()),i._searchString="",i.selectIndex(a.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems();if(i.incrementalSearch){var o=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),d=!isNaN(parseInt(l)),h=!1;if(t>=65&&t<=97||d||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?(c=1+i.selectedIndex,i._searchString+=l):i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);(o=u)!=i._lastMatchIndex&&-1!=o||(u=this._getMatches(i._searchString,0),o=u),i._lastMatchIndex=o,o>=0&&(i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){s(),i.selectIndex(o,!1,!1,!1,"keyboard",e),i.isIndexInView(o)?i._renderItems():i.ensureVisible(o)},i.incrementalSearchKeyDownDelay)),h=!0}if(null!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),o>=0)return;if(h)return!1}if(33==t){var p=i._itemsInPage();i.selectedIndex-p>=0?(s(),i.selectIndex(r-p,!1,!1,!1,"keyboard",e)):(s(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes&&(null!=(a=this.getItem(n))&&(i._updateItemCheck(a,n),e.preventDefault()),i._searchString=""),36==t&&(s(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(s(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t&&(p=i._itemsInPage(),i.selectedIndex+p<i.visibleItems.length?(s(),i.selectIndex(r+p,!1,!1,!1,"keyboard",e)):(s(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""),38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;if((m=i._prevItemIndex(i.selectedIndex))==i.selectedIndex||-1==m)return!0;s(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m;if((m=i._nextItemIndex(i.selectedIndex))==i.selectedIndex||-1==m)return!0;s(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}return 35!=t&&36!=t&&38!=t&&40!=t&&34!=t&&33!=t||(i.isIndexInView(i.selectedIndex)?i._renderItems():i.ensureVisible(i.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i);return n&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){if(this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize()),this._arrange(),this.host.height()!=this._oldheight||this.host.width()!=this._oldwidth){if(this.host.width(),this._oldwidth,this.autoItemsHeight)this._render(!1);else if(this.items)if(this.items.length>0&&this.virtualItemsCount*this.items[0].height<this._oldheight-2)this._render(!1);else{var e=this.vScrollInstance.value;this._updatescrollbars(),this._renderItems(),e<this.vScrollInstance.max?this.vScrollInstance.setPosition(e):this.vScrollInstance.setPosition(this.vScrollInstance.max)}this._oldwidth=this.host.width(),this._oldheight=this.host.height()}},_addHandlers:function(){var t=this;this.focused=!1,new Date;var i=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var n=e.data(t.element,"hoveredItem");null!=n&&(e(n).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(n).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var n=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var r=t.isTouchDevice()&&!0!==this.touchMode,a=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var n=e.jqx.mobile.getTouches(i)[0];if(null!=n){var a=t.host.offset(),s=parseInt(n.pageX),o=parseInt(n.pageY);1==t.touchMode&&null!=n._pageX&&(s=parseInt(n._pageX),o=parseInt(n._pageY)),s-=a.left,o-=a.top;var l=t._hitTest(s,o);if(null!=l&&!l.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(l,l.visibleIndex);if(-1==l.html.indexOf("href"))return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var s=!1;this.addHandler(this.content,a,function(i){if(!t.enableSelection)return!0;if(s=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var o=i.target,l=e(o).offset(),d=t.host.offset();if(n){var h=e.jqx.mobile.getLeftPos(o),c=e.jqx.mobile.getTopPos(o);l.left=h,l.top=c,h=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),d.left=h,d.top=c}var u=parseInt(l.top)-parseInt(d.top),p=parseInt(l.left)-parseInt(d.left),m=t._hitTest(p,u);if(null!=m&&!m.isGroup){var f=function(e,i){t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes?(p=20+i.pageX-l.left,t.rtl?("hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width(),p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||s||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))):p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||s||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))):t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};m.disabled||(-1!=m.html.indexOf("href")?setTimeout(function(){f(m,i)},100):f(m,i))}if("mousedown"==a){var g=!1;return i.which?g=3==i.which:i.button&&(g=2==i.button),!!g}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),s=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}i=this.isTouchDevice(),this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;if(1==e.jqx.browser.msie&&e.jqx.browser.version,null==r.target)return!0;if(t.disabled)return!0;if(t.focused=!0,!t.vScrollInstance.isScrolling()&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var a=r.target,s=e(a).offset(),o=t.host.offset();if(n){var l=e.jqx.mobile.getLeftPos(a),d=e.jqx.mobile.getTopPos(a);s.left=l,s.top=d,l=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),o.left=l,o.top=d}var h=parseInt(s.top)-parseInt(o.top),c=parseInt(s.left)-parseInt(o.left),u=t._hitTest(c,h);if(null!=u&&!u.isGroup&&!u.disabled){var p=e.data(t.element,"hoveredItem");null!=p&&(e(p).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(p).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",u.element);var m=e(u.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0);var t=this,i=null,n=null,r=t.filterable?t.filterHeight:0,a=function(e){return 0==(e=t.host.height())&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:null==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?n=t.height:null==t.height||isNaN(t.height)||(n=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),n=a(n)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,n=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,n=t.virtualSize.height)):null!=n&&(n=parseInt(n),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),a(n)));var s=t.scrollBarSize;isNaN(s)&&(s=parseInt(s),isNaN(s)?s="17px":s+="px"),s=parseInt(s);var o=2,l=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?l=s+4:t.vScrollInstance.setPosition(0),0==s&&(l=1,o=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?o=s+4:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",o=0),null==n&&(n=0);var d=parseInt(n)-4-s;d<0&&(d=0),parseInt(t.hScrollBar[0].style.height)!=s&&(parseInt(s)<0&&(s=0),t.hScrollBar[0].style.height=parseInt(s)+"px"),t.hScrollBar[0].style.top!=d+"px"&&(t.hScrollBar[0].style.top=d+"px",t.hScrollBar[0].style.left="0px");var h=i-s-4;h<0&&(h=0);var c=h+"px";if(t.hScrollBar[0].style.width!=c&&(t.hScrollBar[0].style.width=c),l<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),s!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(s)+"px"),parseInt(n)-o!=parseInt(t.vScrollBar[0].style.height)){var u=parseInt(n)-o;u<0&&(u=0),t.vScrollBar[0].style.height=u+"px"}null==i&&(i=0);var p=parseInt(i)-parseInt(s)-4+"px";p!=t.vScrollBar[0].style.left&&(parseInt(p)>=0&&(t.vScrollBar[0].style.left=p),t.vScrollBar[0].style.top="0px");var m=t.vScrollInstance;m.disabled=t.disabled,e&&m._arrange();var f=t.hScrollInstance;if(f.disabled=t.disabled,e&&f._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(s)+3+"px",t.bottomRight[0].style.height=parseInt(s)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-l){var g=parseInt(i)-l;g<0&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(n)-o){var v=parseInt(n)-o;v<0&&(v=0),t.content[0].style.height=v+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-l),t.overlayContent.height(parseInt(n)-o))}},ensureVisible:function(t,i){if(isNaN(t)&&(r=this.getItemByValue(t))&&(t=r.index),this.isIndexInView(t)){if(i)for(n=0;n<this.visibleItems.length;n++)(r=this.visibleItems[n]).visibleIndex!=t||r.isGroup||(s=this.vScrollInstance.value,h=r.initialTop,this.filterable&&(h=this.filterHeight+2+r.initialTop),s+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(h))}else{if(t<0)return;if(this.autoHeight)(a=e.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(var n=0;n<this.visibleItems.length;n++){var r;if((r=this.visibleItems[n]).visibleIndex==t&&!r.isGroup){var a,s=(a=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value,o=this.filterable?this.filterHeight+2:0,l="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;if(r.initialTop<s)a.setPosition(r.initialTop),0==n&&a.setPosition(0);else if(r.initialTop+r.height>s+this.host.height()-o){var d=this.host.height();if(this.filterable?a.setPosition(this.filterHeight+2+r.initialTop+r.height+2-d+l):(a.setPosition(r.initialTop+r.height+2-d+l),n===this.visibleItems.length-1&&a.setPosition(a.max)),i){var s=a.value,h=r.initialTop;this.filterable&&(h=this.filterHeight+2+r.initialTop),s+d<a.max&&a.setPosition(h)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(t,i){this.records=new Array;var n=!!t._source,r=new e.jqx.dataAdapter(t,{autoBind:!1});n&&(r=t,t=t._source);var a=function(t,i){var n=function(i){var n=null;if("string"==typeof i)var r=i,a=i,s="";else null!=t.displayMember&&""!=t.displayMember&&(a=i[t.valueMember],r=i[t.displayMember]);s="",t.groupMember?s=i[t.groupMember]:i&&null!=i.group&&(s=i.group),t.searchMember?n=i[t.searchMember]:i&&null!=i.searchLabel&&(n=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=a=i.toString()),i&&null!=i.label&&(r=i.label),i&&null!=i.value&&(a=i.value);var o=!1;i&&null!=i.checked&&(o=i.checked);var l="";i&&null!=i.html&&(l=i.html);var d=!0;i&&null!=i.visible&&(d=i.visible);var h=!1;i&&null!=i.disabled&&(h=i.disabled);var c=!1;i&&null!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=a,u.searchLabel=n,u.html=l,u.visible=d,u.originalItem=i,u.group=s,u.groupHtml="",u.disabled=h,u.checked=o,u.hasThreeStates=c,u};if(null!=i&&r._changedrecords[0])e.each(r._changedrecords,function(){var e=this.index,r=this.record;if("remove"!=i)var a=n(r);switch(i){case"update":t.updateAt(a,e);break;case"add":t.insertAt(a,e);break;case"remove":t.removeAt(e)}});else{t.records=r.records;for(var a=t.records.length,s=new Array,o=0;o<a;o++){var l=t.records[o],d=n(l);d.index=o,s[o]=d}t.items=t.loadItems(s,!0),t._render(),t._raiseEvent("6")}};null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async);var s=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),a(this),r.bindBindingUpdate(this.element.id,function(e){a(s,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),a(this),void r.bindBindingUpdate(this.element.id,function(){a(s)});var o={};r._options.data?e.extend(r._options.data,o):(t.data&&e.extend(o,t.data),r._options.data=o),r.unbindDownloadComplete(s.element.id),r.bindDownloadComplete(s.element.id,function(){a(s)}),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var n=this,r=0,a=0,s=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var o=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(null==t)return null;var l=new e.jqx._jqxListBox.item,d=t.group,h=t.groupHtml,c=t.title,u=null;if(n.searchMember?u=t[n.searchMember]:t&&null!=t.searchLabel&&(u=t.searchLabel),null!=c&&null!=c||(c=""),null!=d&&null!=d||(d=""),n.groupMember&&(d=t[n.groupMember]),null!=h&&null!=h||(h=""),!n.groups[d]){n.groups[d]={items:new Array,index:-1,caption:d,captionHtml:h};var p=++r+"jqxGroup";n.groups[p]=n.groups[d],a++,n.groups.length=a}var m=n.groups[d];return m.index++,m.items[m.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=n.displayMember&&(null!=t[n.displayMember]?l.label=t[n.displayMember]:l.label=""),void 0===t.value&&""!=n.valueMember&&(l.value=t[n.valueMember])),l.hasThreeStates=null==t.hasThreeStates||t.hasThreeStates,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&t.html,l.group=d,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=null==t.visible||t.visible,l.searchLabel=u,l.index=s,o[s]=l,s++,l});var l=new Array,d=0;if(null==this.fromSelect||0==this.fromSelect)for(var h=0;h<a;h++){var c=(r=h+1)+"jqxGroup",u=this.groups[c];if(null==u||null==u)break;if(0==h&&""==u.caption&&""==u.captionHtml&&a<=1){for(var p=0;p<u.items.length;p++){var m=u.items[p].value;null!=u.items[p].value&&null!=u.items[p].value||(m=p),this.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[p]}return u.items}var f=new e.jqx._jqxListBox.item;f.isGroup=!0,f.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,f.label=u.caption),f.html=u.captionHtml,l[d]=f,d++;for(var g=0;g<u.items.length;g++)l[d]=u.items[g],m=u.items[g].value,""!=u.items[g].value&&null!=u.items[g].value||(m=d),n.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[g],d++}else{d=0;var v=new Array;e.each(o,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[d]=t,d++,v[this.group]=!0}l[d]=this;var i=this.value;""!=this.value&&null!=this.value||(i=d-1),n.itemsByValue[e.trim(i).split(" ").join("?")]=this,d++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(null==t.label&&(t.label=t[this.displayMember]),null==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),null==i.label&&null==i.value&&null==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||null==i.index)&&this.updateAt(e,i.index)},updateAt:function(t,i){if(null!=t){var n=this._mapItem(t);this.itemsByValue[e.trim(n.value).split(" ").join("?")]=this.items[i],this.items[i].value=n.value,this.items[i].label=n.label,this.items[i].html=n.html,this.items[i].disabled=n.disabled,this._raiseEvent("9",{item:this.items[i]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],null==this.items||0==this.items.length){this.source=new Array,this.refresh(),(r=this._mapItem(t)).index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var n=r.value;return""!=r.value&&null!=r.value||(n=i),this.itemsByValue[e.trim(n).split(" ").join("?")]=r,!1}var r=this._mapItem(t);if(-1==i||null==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{for(var a=new Array,s=0,o=!1,l=0,d=0;d<this.items.length;d++)0==this.items[d].isGroup&&l>=i&&!o&&(a[s++]=r,r.index=i,l++,o=!0),a[s]=this.items[d],this.items[d].isGroup||(a[s].index=l,l++),s++;this.items=a}n=r.value,""!=r.value&&null!=r.value||(n=i),this.itemsByValue[e.trim(n).split(" ").join("?")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=h.value;return h.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),h.setPosition(c),this._raiseEvent("7",{item:r}),this.rendered&&this.rendered(),!0},removeAt:function(t){if(t<0||t>this.items.length-1)return!1;if(null==t)return!1;var i=this.items[t].height;""!=(p=this.items[t].value)&&null!=p||(p=t),this.itemsByValue[e.trim(p).split(" ").join("?")]=null;var n=this.items[t];if(this.groups.length>1){for(var r=new Array,a=0;a<this.items.length;a++)this.items[a].isGroup||r.push({item:this.items[a],key:a});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);var s=new Array,o=0,l=0;for(a=0;a<this.items.length;a++)s[o]=this.items[a],this.items[a].isGroup||(s[o].index=l,l++),o++;this.items=s;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=(d=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value;if(d.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?d.setPosition(h):d.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var p=this.items[u].value;""!=this.items[u].value&&null!=this.items[u].value||(p=u),this.itemsByValue[e.trim(p).split(" ").join("?")]=this.items[u]}return this._raiseEvent("8",{item:n}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),n=-1;if(i&&null!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){n=r;break}if(-1!=n)return this.removeAt(n)}if(-1==n)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!(!this.items||e<0||e>this.items.length-1||(this.items[e].disabled=!0,this._renderItems(),0))},enableAt:function(e){return!(!this.items||e<0||e>this.items.length-1||(this.items[e].disabled=!1,this._renderItems(),0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;null==i&&(i={owner:null});var n=this.events[t],r=i;r.owner=this,this._updateInputSelection();var a=new e.Event(n);if(a.owner=this,a.args=r,null!=this.host)var s=this.host.trigger(a);return s}}),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,n=e(t).find("option"),r=e(t).find("optgroup"),a=!1;0===n.length&&(n=e(t).find("li")).length>0&&(a=!0);var s=null,o=(s=-1,new Array);if(e.each(n,function(t){var n=r.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===a&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var d={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&e.jqx.browser.version<8&&!a&&""==d.value&&null!=this.text&&this.text.length>0&&(d.value=this.text),n&&(l=r.find(this).parent()[0].label,d.group=l,o[l]||(o[l]=new Array,o.length++),o[l].push(d)),this.selected&&(s=t),d.checked=this.selected,void 0!==d.label&&i.push(d)}),o.length>0){var l=new Array;for(var d in o)if("indexOf"!==d){for(var h=0;h<r.length;h++)if(d===r[h].label||r[h].text){r[h];break}e.each(o[d],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:s}:{items:i,index:s}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework)}();var lt=Object.freeze({});!function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(var i in t)if(t.hasOwnProperty(i)&&e==i)return t[i]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButton.prototype?t:(e.extend(!0,this,t),t)},_addImage:function(t){if("input"==this.element.nodeName.toLowerCase()||"button"==this.element.nodeName.toLowerCase()||"div"==this.element.nodeName.toLowerCase()){if(this._img)this._img.setAttribute("src",this.imgSrc),this._img.setAttribute("width",this.imgWidth),this._img.setAttribute("height",this.imgHeight),this._text.innerHTML=this.value;else{this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title},n=null;if(this.field.getAttribute("value"))n=this.field.getAttribute("value");else if("input"!=this.element.nodeName.toLowerCase())n=this.element.innerHTML;this.value&&(n=this.value),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var r=document.createElement("div");r.id=i.id,r.title=i.title,r.style.cssText=this.field.style.cssText,r.style.boxSizing="border-box";var a=document.createElement("img");a.setAttribute("src",this.imgSrc),a.setAttribute("width",this.imgWidth),a.setAttribute("height",this.imgHeight),r.appendChild(a),this._img=a;var s=document.createElement("span");n&&(s.innerHTML=n,this.value=n),r.appendChild(s),this._text=s,this.field.style.display="none",this.field.parentNode&&this.field.parentNode.insertBefore(r,this.field.nextSibling);var o=this.host.data();this.host=e(r),this.host.data(o),this.element=r,this.element.id=this.field.id,this.field.id=i.id;var l=new e(this.element),d=new e(this.field);if(this._className&&(l.addClass(this._className),d.removeClass(this._className)),this.field.tabIndex){var h=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=h}}this.imgSrc?this._img.style.display="inline":this._img.style.display="none",this.value?this._text.style.display="inline":this._text.style.display="none",this._positionTextAndImage()}},_positionTextAndImage:function(){var e=this.element.offsetWidth,t=this.element.offsetHeight,i=this.imgWidth,n=this.imgHeight;""==this.imgSrc&&(i=0,n=0);var r=this._text.offsetWidth,a=this._text.offsetHeight,s=0,o=0;switch(this.textImageRelation){case"imageBeforeText":case"textBeforeImage":s=i+r+8+4+8,o=Math.max(n,a)+8+4+8;break;case"imageAboveText":case"textAboveImage":s=Math.max(i,r)+8,o=n+a+4+8+8;break;case"overlay":s=Math.max(i,r)+8,o=Math.max(n,a)+8}this.width||(this.element.style.width=s+"px",e=s),this.height||(this.element.style.height=o+"px",t=o),this._img.style.position="absolute",this._text.style.position="absolute",this.element.style.position="relative",this.element.style.overflow="hidden";var l={},d={},h=function(e,t,i,n,r){switch(t.width<n&&(t.width=n),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px";break;default:case"center":e.style.left=t.left+t.width/2-n/2+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"top":e.style.left=t.left+t.width/2-n/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-n/2+"px",e.style.top=t.top+t.height-r+"px";break;case"right":e.style.left=t.left+t.width-n+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topRight":e.style.left=t.left+t.width-n+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-n+"px",e.style.top=t.top+t.height-r+"px"}},c=0,u=0,p=e,m=t,f=(p-c)/2,g=(m-u)/2,v=this._img,b=this._text,y=m-u,_=p-c;switch(c+=4,u+=4,p=p-4-2,_=_-8-2,y=y-8-2,this.textImageRelation){case"imageBeforeText":switch(this.imgPosition){case"left":case"topLeft":case"bottomLeft":d={left:c,top:u,width:c+i,height:y},l={left:c+i+4,top:u,width:_-i-4,height:y};break;case"center":case"top":case"bottom":l={left:(d={left:f-r/2-i/2-2,top:u,width:i,height:y}).left+i+4,top:u,width:p-d.left-i-4,height:y};break;case"right":case"topRight":case"bottomRight":l={left:(d={left:p-r-i-4,top:u,width:i,height:y}).left+i+4,top:u,width:p-d.left-i-4,height:y}}h(v,d,this.imgPosition,i,n),h(b,l,this.textPosition,r,a);break;case"textBeforeImage":switch(this.textPosition){case"left":case"topLeft":case"bottomLeft":l={left:c,top:u,width:c+r,height:y},d={left:c+r+4,top:u,width:_-r-4,height:y};break;case"center":case"top":case"bottom":d={left:(l={left:f-r/2-i/2-2,top:u,width:r,height:y}).left+r+4,top:u,width:p-l.left-r-4,height:y};break;case"right":case"topRight":case"bottomRight":d={left:(l={left:p-r-i-4,top:u,width:r,height:y}).left+r+4,top:u,width:p-l.left-r-4,height:y}}h(v,d,this.imgPosition,i,n),h(b,l,this.textPosition,r,a);break;case"imageAboveText":switch(this.imgPosition){case"topRight":case"top":case"topLeft":d={left:c,top:u,width:_,height:n},l={left:c,top:u+n+4,width:_,height:y-n-4};break;case"left":case"center":case"right":l={left:c,top:(d={left:c,top:g-n/2-a/2-2,width:_,height:n}).top+4+n,width:_,height:y-d.top-4-n};break;case"bottomLeft":case"bottom":case"bottomRight":l={left:c,top:(d={left:c,top:m-n-a-4,width:_,height:n}).top+4+n,width:_,height:a}}h(v,d,this.imgPosition,i,n),h(b,l,this.textPosition,r,a);break;case"textAboveImage":switch(this.textPosition){case"topRight":case"top":case"topLeft":l={left:c,top:u,width:_,height:a},d={left:c,top:u+a+4,width:_,height:y-a-4};break;case"left":case"center":case"right":d={left:c,top:(l={left:c,top:g-n/2-a/2-2,width:_,height:a}).top+4+a,width:_,height:y-l.top-4-a};break;case"bottomLeft":case"bottom":case"bottomRight":d={left:c,top:(l={left:c,top:m-n-a-4,width:_,height:a}).top+4+a,width:_,height:n}}h(v,d,this.imgPosition,i,n),h(b,l,this.textPosition,r,a);break;case"overlay":default:l={left:c,top:u,width:_,height:y},h(v,d={left:c,top:u,width:_,height:y},this.imgPosition,i,n),h(b,l,this.textPosition,r,a)}},createInstance:function(t){var i=this;i._setSize(),i.buttonObj=new e(i.element),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton"),i.buttonObj=new e(i.element)),i._ariaDisabled||i.element.setAttribute("role","button"),""!==i.type&&i.element.setAttribute("type",i.type),i.overrideTheme||(i.buttonObj.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.buttonObj.addClass(i.toThemeProperty("jqx-button")),i.buttonObj.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.element.style.cursor="arrow":i.element.style.cursor=i.cursor);var n="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)n="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,n,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(document,"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var r="";if(window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)){window.top.document&&i.addHandler(e(window.top.document),"mouseup",function(e){i.isPressed=!1,i.refresh()})}}}catch(e){}i.propertyChangeMap.roundedCorners=function(t,i,n,r){t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(n))),t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.disabled=function(t,i,n,r){n!=r&&(t.refresh(),t.element.setAttribute("disabled",r),t.element.disabled=r,t.element.style.cursor=r?"default":t.cursor,e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,n){i!=n&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,n){i!=n&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,n,r){t.buttonObj.removeClass(t.element),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(t){var i=this.host.find("input");return i.length>0?0==arguments.length||"object"==typeof t?i.val():(i.val(t),this.refresh(),i.val()):0==arguments.length||"object"==typeof t?"button"==this.element.nodeName.toLowerCase()?e(this.element).text():this.element.value:(this.element.value=arguments[0],"button"==this.element.nodeName.toLowerCase()&&e(this.element).text(arguments[0]),void this.refresh())},_setSize:function(){var e=this.height,t=this.width;e&&(isNaN(e)||(e+="px"),this.element.style.height=e),t&&(isNaN(t)||(t+="px"),this.element.style.width=t)},_removeHandlers:function(){this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"mousedown"),this.removeHandler(e(document),"mouseup.button"+this.element.id,this.mouseupfunc),this.isTouchDevice&&(this.removeHandler(this.host,e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id)),this.mouseupfunc=null,delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();var t=e.data(this.element,"jqxButton");t&&delete t.instance,this.host.removeClass(),this.host.removeData(),this.host.remove(),delete this.set,delete this.get,delete this.call,delete this.element,delete this.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,n){null!=this.isInitialized&&0!=this.isInitialized&&n!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",n),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t&&"value"!=t||e._addImage("jqxButton"),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){if(!this.overrideTheme){var e=this.toThemeProperty("jqx-fill-state-focus"),t=this.toThemeProperty("jqx-fill-state-disabled"),i=this.toThemeProperty("jqx-fill-state-normal");this.enableDefault||(i="");var n=this.toThemeProperty("jqx-fill-state-hover"),r=this.toThemeProperty("jqx-fill-state-pressed"),a=this.toThemeProperty("jqx-fill-state-pressed");this.enablePressed||(r="");var s="";if(this.host){if(this.element.disabled=this.disabled,this.disabled)return this._oldCSSCurrent&&this.buttonObj.removeClass(this._oldCSSCurrent),s=i+" "+t,"default"!==this.template&&""!==this.template&&(s+=" jqx-"+this.template,""!=this.theme&&(s+=" jqx-"+this.template+"-"+this.theme)),this.buttonObj.addClass(s),void(this._oldCSSCurrent=s);s=this.isMouseOver&&!this.isTouchDevice?this.isPressed?a:n:this.isPressed?r:i,this.isFocused&&(s+=" "+e),"default"!==this.template&&""!==this.template&&(s+=" jqx-"+this.template,""!=this.theme&&(s+=" jqx-"+this.template+"-"+this.theme)),s!=this._oldCSSCurrent&&(this._oldCSSCurrent&&this.buttonObj.removeClass(this._oldCSSCurrent),this.buttonObj.addClass(s),this._oldCSSCurrent=s),this.rtl&&(this.buttonObj.addClass(this.toThemeProperty("jqx-rtl")),this.element.style.direction="rtl")}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(t){var i=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var n=this.height||this.element.offsetHeight,r=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var a=document.createElement("input");a.type="button",a.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(a,r,n),a.value=this.content,new e(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(a),this._setSize(a,r,n);var s=null==t?{}:t[0]||{};e(a).jqxButton(s),this.wrapElement=a,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,n){e.element.disabled=n,e.wrapElement.jqxButton({disabled:n})},this.addHandler(e(a),"click",function(e){return this.disabled||i.onclick(e),!1})},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,n=e.jqx.mobile.isTouchDevice(),r=n?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,a=n?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),r,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),null!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,a,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){n||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,n=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,n),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var r=e.data(this.base.element,"jqxRepeatButton");r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,n,r){t.base.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(n))),t.base.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.toggled=function(e,t,i,n){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,n){e.base.disabled=n,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this.base.toThemeProperty("jqx-fill-state-disabled"),t=this.base.toThemeProperty("jqx-fill-state-normal");this.base.enableDefault||(t="");var i=this.base.toThemeProperty("jqx-fill-state-hover"),n=this.base.toThemeProperty("jqx-fill-state-pressed"),r=this.base.toThemeProperty("jqx-fill-state-pressed"),a="";if(this.base.element.disabled=this.base.disabled,this.base.disabled)return a=t+" "+e,void this.base.buttonObj.addClass(a);a=this.base.isMouseOver&&!this.isTouchDevice?this.base.isPressed||this.toggled?r:i:this.base.isPressed||this.toggled?n:t,"default"!==this.base.template&&""!==this.base.template&&(a+=" jqx-"+this.base.template,""!=this.base.theme&&(a+=" jqx-"+this.template+"-"+this.base.theme)),this.base.buttonObj.hasClass(e)&&e!=a&&this.base.buttonObj.removeClass(e),this.base.buttonObj.hasClass(t)&&t!=a&&this.base.buttonObj.removeClass(t),this.base.buttonObj.hasClass(i)&&i!=a&&this.base.buttonObj.removeClass(i),this.base.buttonObj.hasClass(n)&&n!=a&&this.base.buttonObj.removeClass(n),this.base.buttonObj.hasClass(r)&&r!=a&&this.base.buttonObj.removeClass(r),this.base.buttonObj.hasClass(a)||this.base.buttonObj.addClass(a)}})}(jqxBaseFramework);var dt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===e.jqx._jqxScrollBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,null!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),null!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var n=this;e.jqx.utilities.resize(this.host,function(){n._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,n){isNaN(n)||i!=n&&e.setPosition(parseFloat(n),!0)},this.propertyChangeMap.width=function(e,t,i,n){null!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,n){null!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,n){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,n){isNaN(n)||i!=n&&(e.max=parseInt(n),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,n){isNaN(n)||i!=n&&(e.min=parseInt(n),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,n){i!=n&&(n?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,n){i!=n&&(e._updateTouchBehavior(),!0===n?(e.showButtons=!1,e.refresh()):!1===n&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,n){i!=n&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(e){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),n=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(n),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,n,r,a){if("visible"==t.host.css("visibility")){if(1==t.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var s=a;s.originalEvent.touches&&s.originalEvent.touches.length?(a.clientX=s.originalEvent.touches[0].clientX,a.clientY=s.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}var o=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(o),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(a)}},t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=null;if(window.parent&&document.referrer&&(n=document.referrer),n&&-1!=n.indexOf(document.location.host)){var r=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(e){}this.addHandler(this.btnDown,"click mouseup mousedown",function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,"click mouseup mousedown",function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var a="click";if(this.isTouchDevice&&(a=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,a,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,a,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){if(!t.disabled)return t.areaUpCapture=!0,!1}),this.addHandler(this.areaDown,"mousedown",function(e){if(!t.disabled)return t.areaDownCapture=!0,!1}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){if("dragstart"===e.type)return!1;t.disabled||t.handlemousedown(e),e.preventDefault&&e.preventDefault()}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var s=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(s=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(s),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(s),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,n=this.btnThumb,r=(this.scrollWrap,this.areaUp),a=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,a.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),n.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),a.jqxRepeatButton("destroy"),n.jqxButton("destroy");var s=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,s&&delete s.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,n=this.btnThumb,r=this.scrollWrap,a=(this.areaUp,this.areaDown,this.arrowUp),s=this.arrowDown,o=this.btnUp,l=this.btnDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var d=this.toThemeProperty("jqx-reset");this.areaDown[0].className=d,this.areaUp[0].className=d;var h=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(h),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var c="";if(this.vertical?(a[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-up"),s[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-down"),c=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(a[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-left"),s[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-right"),c=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),n[0].className=c,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var u=e.jqx.cssroundedcorners("top");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("bottom");p=this.toThemeProperty(p),i.addClass(p)}else{var m=e.jqx.cssroundedcorners("left");m=this.toThemeProperty(m),t.addClass(m);var f=e.jqx.cssroundedcorners("right");f=this.toThemeProperty(f),i.addClass(f)}else{var g=e.jqx.cssroundedcorners(this.roundedCorners);g=this.toThemeProperty(g),o.addClass(g),l.addClass(g)}g=e.jqx.cssroundedcorners(this.roundedCorners);g=this.toThemeProperty(g),n.hasClass(g)||n.addClass(g),"none"===t.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i,n;t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,n=1e3*i/(1+t),this.velocity=.2*n+.2*this.velocity},handlemousedown:function(t){if(null==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var i=this.btnThumb;null!=i&&(i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var n=this;this.thumbCapture&&e.jqx.scrollAnimation&&(n.reference=parseInt(n.btnThumb[0].style.top),n.offset=parseInt(n.btnThumb[0].style.top),n.vertical||(n.reference=parseInt(n.btnThumb[0].style.left),n.offset=parseInt(n.btnThumb[0].style.left)),n.velocity=n.amplitude=0,n.frame=n.offset,n.timestamp=Date.now(),clearInterval(n.ticker),n.ticker=setInterval(function(){n.track()},100)),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var n=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");n.removeClass(r),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var n=this.btnThumb;this.vertical?n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),n.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var n=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return n.removeClass(r),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation();var a=0;try{a=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var s=this._btnAndThumbSize;this._btnAndThumbSize||(s=this.vertical?t.height()+i.height()+n.height():t.width()+i.width()+n.width());var o=(this.max-this.min)/(this.scrollBarSize-s);if("auto"!=this.thumbStep){if(a*=o,Math.abs(this.dragStartValue+a-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(a)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l),!1}return!1}l=a*=o;this.rtl&&!this.vertical&&(l=-a),this.setPosition(this.dragStartValue+l),this.offset=parseInt(n[0].style.left),this.vertical&&(this.offset=parseInt(n[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(t,i){var n=!1;if(this.thumbCapture){this.thumbCapture=!1;var r=this.btnThumb,a=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(r.removeClass(a),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var s=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(function e(){var t,i;if(s.amplitude)if(t=Date.now()-s.timestamp,(i=-s.amplitude*Math.exp(-t/325))>.5||i<-.5){var n=r=(s.max-s.min)/(s.scrollBarSize-s._btnAndThumbSize)*(s.target+i);s.rtl&&!s.vertical&&(n=-r),s.setPosition(s.dragStartValue+n),requestAnimationFrame(e)}else{var r;n=r=(s.max-s.min)/(s.scrollBarSize-s._btnAndThumbSize)*(s.target+i),s.rtl&&!s.vertical&&(n=-r),s.setPosition(s.dragStartValue+n)}}))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var o=this.btnUp,l=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,o.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),n=!0,this._mouseup=new Date}n&&(null!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),null!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element;if(null!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var n=new e.Event("complete");this.host.trigger(n)}var r=this.value;if(this._triggervaluechanged){var a=new e.Event("valueChanged");a.previousValue=this.value,a.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(a),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){return function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){this.element;var e=this.areaUp,t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),n=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),a=this.vertical?r:n;this.showButtons||(a=0);var s=this.vertical?n:r;this.scrollBarSize=s;var o=this._getThumbSize(s-2*a);(o=Math.floor(o))<this.thumbMinSize&&(o=this.thumbMinSize),(NaN==n||n<10)&&(n=10),(NaN==r||r<10)&&(r=10),a+=2,this.btnSize=a;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var d=(s-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(d=(s-l)/(this.max-this.min)*(this.max-this.value-this.min)),(d=Math.round(d))<0&&(d=0),this.vertical){var h=s-d-l;h<0&&(h=0),t[0].style.height=h+"px",e[0].style.height=d+"px",this._setElementTopPosition(e,a),this._setElementTopPosition(i,a+d),this._setElementTopPosition(t,a+d+o)}else e[0].style.width=d+"px",t[0].style.width=s-d-l>=0?s-d-l+"px":"0px",this._setElementLeftPosition(e,a),this._setElementLeftPosition(i,a+d),this._setElementLeftPosition(t,2+a+d+o)},_arrange:function(){if(this._initialLayout)this._initialLayout=!1;else{if(this.min>this.max){var e=this.min;this.min=this.max,this.max=e}if(this.min<0){var t=this.max-this.min;this.min=0,this.max=t}this.element;var i=this.areaUp,n=this.areaDown,r=this.btnUp,a=this.btnDown,s=this.btnThumb,o=this.scrollWrap,l=parseInt(this.element.style.height),d=parseInt(this.element.style.width);if(this.isPercentage)l=this.host.height(),d=this.host.width();isNaN(l)&&(l=0),isNaN(d)&&(d=0),this._width=d,this._height=l;var h=this.vertical?d:l;this.showButtons||(h=0),r[0].style.width=h+"px",r[0].style.height=h+"px",a[0].style.width=h+"px",a[0].style.height=h+"px",this.vertical?o[0].style.width=d+2+"px":o[0].style.height=l+2+"px",this._setElementPosition(r,0,0);var c=h+2;this.vertical?this._setElementPosition(a,0,l-c):this._setElementPosition(a,d-c,0);var u=this.vertical?l:d;this.scrollBarSize=u;var p=this._getThumbSize(u-2*c);(p=Math.floor(p-2))<this.thumbMinSize&&(p=this.thumbMinSize);var m=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(m=!0),this.vertical?(s[0].style.width=d+"px",s[0].style.height=p+"px",m&&0!==this.thumbTouchSize&&(s.css({width:this.thumbTouchSize+"px"}),s.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(s[0].style.width=p+"px",s[0].style.height=l+"px",m&&0!==this.thumbTouchSize&&(s.css({height:this.thumbTouchSize+"px"}),s.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(NaN==l||l<10)&&(l=10),(NaN==d||d<10)&&(d=10),this.btnSize=h;var f=this.vertical?2*c+(2+parseInt(s[0].style.height)):2*c+(2+parseInt(s[0].style.width));f=Math.round(f),this._btnAndThumbSize=f;var g=(u-f)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(g=(u-f)/(this.max-this.min)*(this.max-this.value-this.min)),g=Math.round(g),(isNaN(g)||g<0||g===-1/0||g===1/0)&&(g=0),this.vertical){var v=u-g-f;v<0&&(v=0),n[0].style.height=v+"px",n[0].style.width=d+"px",i[0].style.height=g+"px",i[0].style.width=d+"px";var b=parseInt(this.element.style.height);this.isPercentage&&(b=this.host.height()),s[0].style.visibility="inherit",(b-3*parseInt(h)<0||b<f)&&(s[0].style.visibility="hidden"),this._setElementPosition(i,0,c),this._setElementPosition(s,0,c+g),this._setElementPosition(n,0,c+g+p)}else{g>0&&(i[0].style.width=g+"px"),l>0&&(i[0].style.height=l+"px");var y=u-g-f;y<0&&(y=0),n[0].style.width=y+"px",n[0].style.height=l+"px";var _=parseInt(this.element.style.width);this.isPercentage&&(_=this.host.width()),s[0].style.visibility="inherit",(_-3*parseInt(h)<0||_<f)&&(s[0].style.visibility="hidden"),this._setElementPosition(i,c,0),this._setElementPosition(s,c+g,0),this._setElementPosition(n,c+g+p,0)}}}})}(jqxBaseFramework);var ht=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===e.jqx._jqxNumberInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this.host.attr("value");null!=t&&(this.decimal=t),null!=this.value&&(this.decimal=this.value);this._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title};if(this.field.value&&(this.decimal=parseFloat(this.field.value)),this.field.getAttribute("min")){var n=this.field.getAttribute("min");this.min=parseFloat(n)}if(this.field.getAttribute("step")){var r=this.field.getAttribute("step");this.spinButtonsStep=parseFloat(r)}if(this.field.getAttribute("max")){var a=this.field.getAttribute("max");this.max=parseFloat(a)}this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var s=e("<div></div>",i);s[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(s);var o=this.host.data();if(this.host=s,this.host.data(o),this.element=s[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var l=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=l}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),n=0;n<i.length-1;n++){var r=i.substring(n,n+1);if(isNaN(parseFloat(r))&&-1===e.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1);var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder);var i=this.host.attr("name");(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((t=this).savedValue="",this.addHandler(this.numberInput,"focus",function(){t.savedValue=t.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){t._doTouchHandling()}));e.data(this.host[0],"jqxNumberInput").jqxNumberInput=this;t=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){t.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,r){r?(e.numberInput.addClass(n.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(n.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:r}),e.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;this.element.id,this.element;var n=this;this.oldValue=this._value(),this.items=new Array;this.value;var r=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(r);t=this;setTimeout(function(){},100),this._addHandlers(),e.jqx.utilities.resize(this.host,function(){t._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this;this.addHandler(this.numberInput,"paste",function(i){var n,r=t._selection();i.preventDefault(),i.originalEvent.clipboardData?n=(i.originalEvent||i).clipboardData.getData("text/plain"):window.clipboardData&&(n=window.clipboardData.getData("Text")),this.selectedText=n,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(n),setTimeout(function(){t._setSelectionStart(r.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){if(!t.editcell)return t.wheel(e,t),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",function(n){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val(),t._savedValue=t.decimal}),this.addHandler(this.numberInput,"blur",function(n){if("simple"==t.inputMode&&t._exitSimpleInputMode(n,t,!1,i),t.autoValidate){var r=parseFloat(t.decimal);t.getvalue("negative")&&t.decimal>0&&(r=-parseFloat(t.decimal)),r>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),r<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,n),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return t.changeType="keyboard",t._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return t._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),e.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(e(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));t=this;this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=e.jqx.mobile.isTouchDevice(),n="click";i&&(n=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,n,function(n){return i?(n.preventDefault(),n.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,n,function(n){return i?(n.preventDefault(),n.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){var n=(f=this.getvalue("negative"))?-1:0;if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var r=this._selection(),a=this.decimal;if((c=this.getDecimal())<this.min)return c=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinDown();if(c>this.max)return c=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinDown();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var s=n+(parseInt(t.decimal)-t.spinButtonsStep).toString().length<=t.digits;if("advanced"!=t.spinMode){if(c-t.spinButtonsStep>=t.min&&s){for(var o=1,l=0;l<t.decimalDigits;l++)o*=10;var d=o*c-o*t.spinButtonsStep;d/=o,d=this._parseDecimalValueToEditorValue(d),t.setDecimal(d)}}else{var h=this._getspindecimal(),c=(this._getSeparatorPosition(),parseFloat(h.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);s=n+(parseInt(c)-t.spinButtonsStep).toString().length<=t.digits,o=1;if(-1!=(p=h.decimal.indexOf("."))){var u=h.decimal.length-p-1;for(o=1,l=0;l<u;l++)o*=10;var p;-1==(p=(c=(c-=new Number(t.spinButtonsStep/o)).toFixed(u)).toString().indexOf("."))&&(c=c.toString()+".");var m=c.toString()+h.afterdecimal;(m=(m=new Number(m)).toFixed(t.decimalDigits))>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}else if(c-t.spinButtonsStep>=t.min&&s){d=o*c-o*t.spinButtonsStep;(m=(d/=o).toString()+h.afterdecimal)>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}}if(null==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);m=this.decimal.toString();var f=this.getvalue("negative");0==n&&f?this._setSelectionStart(r.start+1):null==m||null!=a&&a.toString().length!=m.length?f?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start-1):this._setSelectionStart(r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),n=this._getHiddenPrefixCount(),r=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var a="advanced"!=this.inputMode,s=0;s<e.start;s++)if(a){var o=r.substring(s,s+1);!isNaN(parseInt(o))&&(t+=o),o==this.decimalSeparator&&(t+=o)}else i[s].canEdit&&i[s].character!=this.promptChar?t+=i[s].character:i[s].canEdit||-1==this.decimalSeparatorPosition||i[s]!=i[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=i[s].character);var l="";for(s=e.start;s<i.length;s++)if(a){o=r.substring(s,s+1);!isNaN(parseInt(o))&&(l+=o),o==this.decimalSeparator&&(l+=o)}else i[s].canEdit&&i[s].character!=this.promptChar?l+=i[s].character:i[s].canEdit||-1==this.decimalSeparatorPosition||i[s]!=i[this.decimalSeparatorPosition-n]||(l+=i[s].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(l)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling();var n=(f=this.getvalue("negative"))?-1:0;if(!t.disabled){var r=this._selection(),a=t.decimal;if((c=t.getDecimal())<this.min)return c=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinUp();if(c>this.max)return c=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinUp();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var s=n+(parseInt(t.decimal)+t.spinButtonsStep).toString().length<=t.digits;if("advanced"!=t.spinMode){if(c+t.spinButtonsStep<=t.max&&s){for(var o=1,l=0;l<t.decimalDigits;l++)o*=10;var d=o*c+o*t.spinButtonsStep;d/=o,d=this._parseDecimalValueToEditorValue(d),t.setDecimal(d)}}else{var h=this._getspindecimal(),c=(this._getSeparatorPosition(),parseFloat(h.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);s=n+(parseInt(c)+t.spinButtonsStep).toString().length<=t.digits,o=1;if(-1!=(p=h.decimal.indexOf("."))){var u=h.decimal.length-p-1;for(o=1,l=0;l<u;l++)o*=10;var p;-1==(p=(c=(c+=new Number(t.spinButtonsStep/o)).toFixed(u)).toString().indexOf("."))&&(c=c.toString()+".");var m=c.toString()+h.afterdecimal;m=(m=new Number(m)).toFixed(t.decimalDigits),new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m)):m=void 0}else if(c+t.spinButtonsStep<=t.max&&s){d=o*c+o*t.spinButtonsStep,m=(d/=o).toString()+h.afterdecimal;new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),f&&-1==m.indexOf("-")&&"-0"!=h.decimal&&(m="-"+m),t.setDecimal(m)):m=void 0}}if(null==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);m=this.decimal.toString();var f=this.getvalue("negative");-1!=n||f?null==m||null!=a&&a.toString().length!=m.length?f?this._setSelectionStart(r.start):this._setSelectionStart(1+r.start):this._setSelectionStart(r.start):this._setSelectionStart(-1+r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(t,i,n,r){if(null==i&&(i=t.data),null!=i){if(null==n){if(null!=t.target&&null!=i.element&&(null!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var a=i.host.offset(),s=a.left,o=a.top,l=i.host.width(),d=i.host.height(),h=e(t.target).offset();if(h.left>=s&&h.left<=s+l&&h.top>=o&&h.top<=o+d)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly)if(null!=e.data(i.numberInput,"simpleInputMode"))return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)e=e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString;if(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var n=i.toString().indexOf(".");if(n>0){var r=i.toString().substring(0,n)+this.decimalSeparator+i.toString().substring(n+1);i=r}}var a=t?"-":"";"left"==this.symbolPosition&&(a+=this.symbol);var s=this.digits%this.groupSize;0==s&&(s=this.groupSize);var o=i.toString();o.indexOf("-")>=0&&(o=o.substring(o.indexOf("-")+1)),a+=o,"right"==this.symbolPosition&&(a+=this.symbol),0!=e&&this.numberInput.val(a)},_enterSimpleInputMode:function(t,i){null==i&&(i=t.data);var n=this._selection();if(null!=i){var r=i.getvalue("negative"),a=i.decimal;r&&a>0&&(a=-a),i.numberInput.val(a),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(n.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){e+=this.items[t].character}return e},_literal:function(e,t,i,n){return{character:e,regex:t,canEdit:i,isSeparator:n}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var n=this.negativeSymbol.substring(i,i+1),r="",a=!1,s=null;s=this.negative?this._literal(n,r,a,!1):this._literal("",r,a,!1),this.items[e]=s,e++}var o=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<o;i++){n=this.symbol.substring(i,i+1),r="",a=!1,s=this._literal(n,r,a,!1);this.items[e]=s,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(i=0;i<this.digits;i++){n=this.promptChar,r="\\d",a=!0,s=this._literal(n,r,a,!1);if(this.items[e]=s,e++,i<this.digits-1&&null!=this.groupSeparator&&this.groupSeparator.length>0){if(0==--l){l=this.groupSize;var d=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=d,e++}}else i==this.digits-1&&(s.character=0)}if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&this.decimalDigits>0){0==(n=this.decimalSeparator).length&&(n=".");s=this._literal(n,"",!1,!0);this.items[e]=s,this.decimalSeparatorPosition=e,e++;for(i=0;i<this.decimalDigits;i++){r="\\d";var h=this._literal(0,r,!0,!1);this.items[e]=h,e++}}if("right"==this.symbolPosition)for(i=0;i<o;i++){n=this.symbol.substring(i,i+1),r="",a=!1,s=this._literal(n,r,a);this.items[e]=s,e++}}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(t,i){var n=this.events[t],r={};if(r.owner=this,"none"==this.host.css("display"))return!0;var a=i.charCode?i.charCode:i.keyCode?i.keyCode:0,s=!0,o=this.readOnly;if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==t){var l=this.getvalue("decimal");this.max<l||this.min>l?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var d=new e.Event(n);d.owner=this,r.value=this.getvalue("decimal"),r.text=this.numberInput.val(),d.args=r,7==t&&(r.type=this.changeType,this.changeType=null),null!=n&&4!=t&&5!=t&&6!=t&&(s=this.host.trigger(d));var h=this;if("textbox"==this.inputMode)return s;if("simple"!=this.inputMode){if(4==t){if(o||this.disabled)return!1;s=h._handleKeyDown(i,a)}else if(5==t)(o||this.disabled)&&(s=!1);else if(6==t){if(o||this.disabled)return!1;s=h._handleKeyPress(i,a)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(o||this.disabled)return!1;var c=String.fromCharCode(a),u=(parseInt(c),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||a>=65&&a<=90&&(u=!1),6==t&&null!=e.jqx.browser.opera&&8==a)return!1;if(u){if(4==t&&(u=h._handleSimpleKeyDown(i,a)),189==a||45==a||109==a||173==a){var p=h._selection();if(4==t)0==h.getvalue("negative")?h.setvalue("negative",!0):h.setvalue("negative",!1),h.decimal=h.ValueString,h._parseDecimalInSimpleMode(),h._setSelectionStart(p.start),u=!1,h._raiseEvent(0,h.value),h._raiseEvent(1,h.numberInput.val())}var m=r.ctrlKey||r.metaKey;if(!e.jqx.browser.msie)if(m&&99==a||m&&67==a||m&&122==a||m&&90==a||m&&118==a||m&&86==a||i.shiftKey&&45==a)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&h._handleSimpleKeyDown(i,a),67==a;if(m&&97==a||m&&65==a)return!0;if(6==t&&u)return this._isSpecialKey(a)}return u}return s},GetSelectionInValue:function(e,t,i,n){for(var r=0,a=0;a<t.length&&!(a>=e);a++){var s=t.substring(a,a+1);(!isNaN(parseInt(s))||n&&t.substring(a,a+1)==i)&&r++}return r},GetSelectionLengthInValue:function(e,t,i,n){for(var r=0,a=0;a<i.length&&!(a>=e+t);a++){var s=i.substring(a,a+1),o=!isNaN(parseInt(s));(t>0&&a>=e&&o||a>=e&&i[a].toString()==n)&&r++}return r},GetInsertTypeByPositionInValue:function(e,t,i,n){var r="before",a=this.GetValueString(i,t,n);return e>this.GetDigitsToSeparator(0,a,t)&&(r="after"),r},RemoveRange:function(e,t,i,n,r,a){var s=this.digits,o=e,l=t,d=0,h=(this.decimal,this._selection(),""!=(n=this.decimalSeparator));if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return d;var c=this.GetSeparatorPositionInText(n,i);r||(c=this.GetSeparatorPositionInText(n,i)),c<0&&!h&&i.length>1&&(c=i.length),-1==c&&(c=i.length);var u=h?1:0;t<2&&1==a&&(this.ValueString.length-this.decimalDigits-u==s&&e+t<c&&l++);for(var p="",m=0;m<i.length;m++){if(m<o||m>=o+l)p+=i.substring(m,m+1);else if((f=i.substring(m,m+1))!=n){var f=i.substring(m,m+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(f)>=0))if(m>c)p+="0";else{f=i.substring(m,m+1);!isNaN(parseInt(f))&&d++}}else p+=n}0==p.length&&(p="0"),r?this.numberInput.val(p):this.ValueString=p;var g=p.substring(0,1);g==n&&isNaN(parseInt(g))&&(p="0"+p);return this.ValueString=this.GetValueString(p,n,h),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(o),d},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,n=this._selection(),r=this.getvalue("negative"),a=!1;0==n.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(n.start+1),n=this._selection(),a=!0),(r&&a||r&&!a&&0==n.start)&&(this._setSelectionStart(n.start+1),n=this._selection());var s=this.numberInput.val().substring(n.start,n.start+1),o=this.numberInput.val(),l=this.decimalSeparator,d=""!=l&&this.decimalDigits>0;if(s==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(o,l,d),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(o,l,d),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var h=this.ValueString;this.decimalDigits>0&&t>=h.length&&(t=h.length-1);var c="";t<h.length&&(c=h.substring(t,t+1));var u=!1;"after"==this.GetInsertTypeByPositionInValue(t,l,o,d)&&(u=!0);var p=d?1:0;c!=l&&this.ValueString.length-this.decimalDigits-p>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var m=d?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+m)){if(u&&c!=l){if((b=h.substring(0,t)).length==h.length&&this.ValueString.length>=this.digits+this.decimalDigits+m)return;var f=e,g="";t+1<h.length&&(g=h.substring(t+1));var v=b+f+g;this.ValueString=v}else{var b;v=(b=h.substring(0,t))+(f=e)+(g=h.substring(t));"0"==h.substring(0,1)&&h.substring(1,2)==l&&(v=f+h.substring(1),c==l&&(this._setSelectionStart(n.start-1),n=this._selection())),this.ValueString=v}this.decimal=r?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var y=n.start;y+=1,this._setSelectionStart(y),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var n=this.GetSeparatorPositionInText(t,e),r=e.subString(0,n);return this.GetValueString(r,t,i)},GetSeparatorPositionInText:function(e,t){for(var i=-1,n=0;n<t.length;n++)if(t.substring(n,n+1)==e){i=n;break}return i},GetValueString:function(e,t,i){for(var n="",r=0;r<e.length;r++){var a=e.substring(r,r+1);!isNaN(parseInt(a))&&(n+=a),a==t&&(n+=t)}return n},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var n=i.substring[(e.start,e.start+1)];isNaN(parseInt(n));if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1);e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);t=this._selection(),i=this.numberInput.val()}var n=t.start,r=t.length;r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),n>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&n++;var a=0;this.symbol&&("left"==this.symbolPosition&&a--,this.negative&&a--),this.RemoveRange(t.start+a,r,this.ValueString,".",!1);var s=this.ValueString.substring(0,1);!isNaN(parseInt(s))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(n),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){this.decimal;var n=this.decimalSeparator;this.ValueString=this.GetValueString(i,n,""!=n);var r=this.GetSelectionInValue(t.start,i,n,""!=n),a=this.GetSelectionLengthInValue(t.start,t.length,i,n);this.GetDigitsToSeparator(0,this.ValueString,n);if(this.decimalDigits>0&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",n),this.RemoveRange(t.start,a,this.ValueString,n,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,a,this.ValueString,n,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,i){if(null==i&&(i="."),t.indexOf(i)<0)return t.length;for(var n=0;n<t.length;n++)if(t.substring(n,n+1)==i){e=n;break}return e},_handleSimpleKeyDown:function(t,i){var n,r=this._selection(),a=t.ctrlKey||t.metaKey;if((8==i||46==i)&&a)return this.setDecimal(null),!1;if(r.start>=0&&r.start<this.items.length)var s=String.fromCharCode(i);27===i&&(this.setDecimal(this._savedValue),-1!=(n=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(n),t.preventDefault());if(this.rtl&&37==i){var o=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start+1-o,r.start+r.length+1):this._setSelection(r.start+1-o,r.start+1),!1}if(this.rtl&&39==i){var l;o=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start-1,r.length+o+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i)return-1!=(n=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(n+1),!1;if(188==i){for(var d=this.numberInput.val(),h=r.start;h<d.length;h++)if(d[h]==this.groupSeparator){this._setSelectionStart(1+h);break}return!1}if((a=t.ctrlKey||t.metaKey)&&99==i||a&&67==i){r=this._selection();var c="",u=this.numberInput.val();if(r.start>0||r.length>0)for(h=r.start;h<r.end;h++)c+=u.substring(h,h+1);if(e.data(document.body,"jqxSelection",c),e.jqx.browser.msie)window.clipboardData.setData("Text",c);else{var p=this,m=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');m.val(c),e("body").append(m),m.select(),setTimeout(function(){document.designMode="off",m.select(),m.remove(),p.focus()},100)}return this.savedText=c,!0}if(a&&122==i||a&&90==i)return!1;if(a&&118==i||a&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1;s=String.fromCharCode(i);var f=parseInt(s);if(i>=96&&i<=105&&(f=i-96,i-=48),!isNaN(f)){p=this;return this.insertsimple(f),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var g=this._isSpecialKey(i);return!e.jqx.browser.mozilla||g},_getEditRange:function(){for(var e=0,t=0,i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character!=this.promptChar)return t},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var n=this._getFirstVisibleNonEmptyIndex();i.start<n&&this._setSelectionStart(n)}},_insertKey:function(t){this.numberInput[0].focus();var i=String.fromCharCode(t),n=parseInt(i);if(!isNaN(n)){for(var r=0,a=0;a<this.items.length;a++)0==this.items[a].character.length&&r++;var s=this._selection(),o=this;if(s.start>=0&&s.start<=this.items.length){var l=!1,d=this._getFirstVisibleNonEmptyIndex();s.start<d&&0==s.length&&(isNaN(i)&&" "!=i||(this._setSelectionStart(d),s=this._selection()));this._getFirstEditableItemIndex();var h=this._getLastEditableItemIndex(),c=this._getVisibleItems();e.each(c,function(e,t){if(!(s.start>e&&e!=c.length-1)){var n=c[e];if(e>h&&(n=c[h]),!isNaN(i)&&" "!=i&&n.canEdit){var a=o._getSeparatorPosition();if(o._match(i,n.regex)){if(!l&&s.length>0){for(var d=s.start+r;d<s.end+r;d++)o.items[d].canEdit&&(o.items[d].character=d>a?"0":o.promptChar);var u=o._getString();l=!0}a=o._getSeparatorPosition();var p=o._hasEmptyVisibleItems();if(null==o.decimal&&(s.start=a-1,s.start<0&&(s.start=0),s.end=s.start),s.start<=a&&p){var m=e;-1==o.decimalSeparatorPosition&&s.start==a&&(m=e+1),null==o.decimal&&(m=s.start);for(var f="",g=0;g<m;g++)c[g].canEdit&&c[g].character!=o.promptChar&&(f+=c[g].character);f+=i;var v=o.decimal<1?1:0;s.start==a&&-1!=o.decimalSeparatorPosition&&(f+=o.decimalSeparator,v=0);for(g=m+v;g<c.length;g++)c[g].character==o.decimalSeparator&&c[g].isSeparator?f+=c[g].character:c[g].canEdit&&c[g].character!=o.promptChar&&(f+=c[g].character);"."!=o.decimalSeparator&&(f=o._parseDecimalValue(f)),f=parseFloat(f).toString(),f=(f=new Number(f)).toFixed(o.decimalDigits),"."!=o.decimalSeparator&&(f=o._parseDecimalValueToEditorValue(f)),o.setvalue("decimal",f);u=o._getString();if(s.end<a?o._setSelectionStart(s.end+v):o._setSelectionStart(s.end),s.length>=1&&o._setSelectionStart(s.end),s.length==o.numberInput.val().length){var b=o._moveCaretToDecimalSeparator(),y=o.decimalSeparatorPosition>=0?1:0;o._setSelectionStart(b-y)}}else if(s.start<a||s.start>a){if(o.numberInput.val().length==s.start&&-1!=o.decimalSeparatorPosition)return!1;if(o.numberInput.val().length==s.start&&-1==o.decimalSeparatorPosition&&!p)return!1;f="";var _=!1;for(g=0;g<e;g++)c[g].canEdit&&c[g].character!=o.promptChar&&(f+=c[g].character),c[g].character==o.decimalSeparator&&c[g].isSeparator&&(f+=c[g].character,_=!0);f+=i;v=o.decimal<1?1:0;_||s.start!=a-1||(f+=o.decimalSeparator,_=!0);for(g=e+1;g<c.length;g++)!_&&c[g].character==o.decimalSeparator&&c[g].isSeparator?f+=c[g].character:c[g].canEdit&&c[g].character!=o.promptChar&&(f+=c[g].character);o.setvalue("decimal",f);u=o._getString();if(o.decimalSeparatorPosition<0&&n==c[h])return o._setSelectionStart(e),!1;var w=u.indexOf(o.symbol);if(w<=(o.getvalue("negative")?1:0)&&(w=u.length),s.start<w?o._setSelectionStart(e+1):o._setSelectionStart(e),s.length,s.length==o.numberInput.val().length){b=o._moveCaretToDecimalSeparator();o._setSelectionStart(b-1)}}return!1}}}})}}},_handleKeyPress:function(t,i){var n=this._selection(),r=t.ctrlKey||t.metaKey;if(r&&97==i||r&&65==i)return!0;if(8==i)return n.start>0&&this._setSelectionStart(n.start),!1;if(46==i)return n.start<this.items.length&&this._setSelectionStart(n.start),!1;e.jqx.browser.mozilla||(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return e.jqx.browser.msie&&this._insertKey(i),this._isSpecialKey(i)},_deleteSelectedText:function(){var e=this._selection(),t="",i=this._getSeparatorPosition(),n=this._getVisibleItems(),r=this._getHiddenPrefixCount();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var a=0;a<e.start;a++)n[a].canEdit&&n[a].character!=this.promptChar?t+=n[a].character:n[a].canEdit||-1==this.decimalSeparatorPosition||n[a]!=n[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=n[a].character);for(a=e.start;a<e.end;a++)a>i&&-1!=this.decimalSeparatorPosition?n[a].canEdit&&n[a].character!=this.promptChar&&(t+="0"):n[a].canEdit||-1==this.decimalSeparatorPosition||n[a]!=n[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=n[a].character);for(a=e.end;a<n.length;a++)n[a].canEdit&&n[a].character!=this.promptChar?t+=n[a].character:n[a].canEdit||-1==this.decimalSeparatorPosition||n[a]!=n[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=n[a].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);e>0&&(e+=2);for(var t=this.items.length-1;t>this.items.length-1-e&&this.items[t];t--)this.items[t].canEdit&&this.items[t].character==this.promptChar&&(this.items[t].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var t=this._selection(),i="",n=this._getVisibleItems();if(t.start>0||t.length>0)for(var r=t.start;r<t.end;r++)n[r].canEdit&&n[r].character!=this.promptChar?i+=n[r].character:n[r].isSeparator&&(i+=n[r].character);return e.jqx.browser.msie&&window.clipboardData.setData("Text",i),i},_pasteSelectedText:function(){var t=this._selection();if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}t.start,this._getVisibleItems();if(null!=this.selectedText)for(var n=0;n<this.selectedText.length;n++){var r=parseInt(this.selectedText[n]);if(!isNaN(r)){var a=48+r;this._insertKey(a)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(var t=0;t<this.symbol.length;t++)""==this.symbol.substring(t,t+1)&&e++;return e},_getEditableItem:function(){for(var e=this._selection(),t=0;t<this.items.length;t++)if(t<e.start&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return this.items[t];return null},_getEditableItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(var t=this.items.length-1;t>=0;t--)if(this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getEditableItemIndex:function(e){for(var t=this._selection(),i=this._getHiddenPrefixCount(),n=this._getVisibleItems(),r=t.start,a=-1,s=0;s<r;s++)s<n.length&&n[s].canEdit&&(a=s+i);if(-1==a&&t.length>0){r=t.end;for(s=0;s<r;s++)if(s<n.length&&n[s].canEdit){a=s+i;break}}return a},_getEditableItemByIndex:function(e){for(var t=0;t<this.items.length;t++)if(t>e&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getFirstEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].character!=this.promptChar&&e[t].canEdit&&"0"!=e[t].character)return t;return-1},_getLastEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=e.length-1;t>=0;t--)if(e[t].character!=this.promptChar&&e[t].canEdit)return t;return-1},_moveCaretToDecimalSeparator:function(){for(var e=this.items.length-1;e>=0;e--)if(this.items[e].character==this.decimalSeparator&&this.items[e].isSeparator)return this.negative?(this._setSelectionStart(e+1),e):(this._setSelectionStart(e),e);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,n=this._getFirstVisibleNonEmptyIndex(),r=!1;if(this.negative&&(r=!0,(n>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var a=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;a&&(e=this._selection());this._deleteSelectedText();if(e.length<1||a?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||r){var s=this._moveCaretToDecimalSeparator();this._setSelectionStart(s-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,i){var n=this._selection(),r=t.ctrlKey||t.metaKey;if((8==i||46==i)&&r)return this.setDecimal(null),!1;if(this.rtl&&37==i){var a=(s=t.shiftKey)?1:0;return s?this._setSelection(n.start+1-a,n.start+n.length+1):this._setSelection(n.start+1-a,n.start+1),!1}if(this.rtl&&39==i){var s;a=(s=t.shiftKey)?1:0;return s?this._setSelection(n.start-1,n.length+a+n.start-1):this._setSelection(n.start-1,n.start-1),!1}if(r&&97==i||r&&65==i)return!0;if(r&&120==i||r&&88==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(r&&99==i||r&&67==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1;if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||t.shiftKey&&45==i)return this._pasteSelectedText(),!1;if(n.start>=0&&n.start<this.items.length){var o=String.fromCharCode(i);this.items[n.start]}if(8==i)return this._handleBackspace(),!1;if(190==i||110==i)return this._moveCaretToDecimalSeparator(),!1;if(188==i){for(var l=this.numberInput.val(),d=n.start;d<l.length;d++)if(l[d]==this.groupSeparator){this._setSelectionStart(1+d);break}return!1}if(null==e.jqx.browser.msie){o=String.fromCharCode(i);var h=parseInt(o);if(i>=96&&i<=105&&(h=i-96,i-=48),!isNaN(h)){return this._insertKey(i),!1}}if(46==i){var c=this._getVisibleItems();if(n.start<c.length){a=0==c[n.start].canEdit?2:1;if(0==n.start)if(this.negative)if(this.setvalue("negative",!1),0==n.length&&this._setSelectionStart(0),0==(n=this._selection()).length)return!1;0==n.length&&this._setSelection(n.start+a,n.start+a+n.length),this._handleBackspace(),new Number(this.decimal)<1||n.start>this._getSeparatorPosition()?this._setSelectionStart(n.end+a):n.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(n.end+a)}return!1}if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;27===i&&(this.setDecimal(this._savedValue),this._setSelectionStart(n.end),t.preventDefault());var u=this._isSpecialKey(i);e.jqx.browser.mozilla&&(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return!e.jqx.browser.mozilla||u},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var n=this.numberInput[0].createTextRange(),r=n.duplicate();n.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",n);t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}}catch(e){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_setSelection:function(t,i){if(1!=this._disableSetSelection&&(!e.jqx.mobile.isTouchDevice()&&1!=this.touchMode))try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i);else{var n=this.numberInput[0].createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}}catch(e){}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=parseInt(this.host.css("border-left-width")),n=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),a=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width);var s=this.host.width(),o=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(r)&&(r=1),isNaN(n)&&(n=1),isNaN(a)&&(a=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign);var l=this.numberInput.css("font-size");""==l&&(l=13),this.numberInput.css("height",parseInt(l)+4+"px"),this.numberInput.css("width",s-2);var d=o-2*r-parseInt(l)-2;(isNaN(d)&&(d=0),d<0&&(d=0),this.spinButtons&&this.spincontainer)&&(s-=parseInt(this.spinButtonsWidth-2),e.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),s-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",s-6),this.numberInput.css("margin-right","2px"));var h=d/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(h=d/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(h)+"px"),this.numberInput.css("padding-bottom",Math.round(h)+"px"),null!=t&&1!=t||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null!==e){var t=e;(t=t.toString()).indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""));t=(t=function(e,t,i){var n=e;if(t==i)return e;for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t);return n}(t,this.groupSeparator,"")).replace(this.decimalSeparator,".");for(var i="",n=0;n<t.length;n++){var r=t.substring(n,n+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}t=(t=i).replace(/ /g,""),t=new Number(t),this.setDecimal(t)}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i,n,r,a=e;if("number"!=typeof e)if(-1!=(i=(e=e.toString()).indexOf(".")))a=(n=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=n.indexOf("-")&&(n=n.substring(1)),e="advanced"!=this.inputMode?n+"."+r:n+this.decimalSeparator+r;else if(-1!=(i=e.indexOf(this.decimalSeparator)))a=(n=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=n.indexOf("-")&&(n=n.substring(1)),e="advanced"!=this.inputMode?n+"."+r:n+this.decimalSeparator+r;a<0?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(e)}else e<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val("")},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",n="",r=!0;0==t.length&&(t="0");for(var a=0;a<t.length;a++){if("number"==typeof e){if("."==t.substring(a,a+1)){r=!1;continue}}else if(t.substring(a,a+1)==this.decimalSeparator){r=!1;continue}r?i+=t.substring(a,a+1):n+=t.substring(a,a+1)}i.length>0&&(i=parseFloat(i).toString());var s=this.digits;s<i.length&&(i=i.substr(0,s));var o=0,l=this._getSeparatorPosition();for(a=l+=this._getHiddenPrefixCount();a>=0;a--)a<this.items.length&&this.items[a].canEdit&&o<i.length&&(this.items[a].character=i.substring(i.length-o-1,i.length-o),o++);o=0;for(a=l;a<this.items.length;a++)this.items[a].canEdit&&o<n.length&&(this.items[a].character=n.substring(o,o+1),o++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var d=e.toString().indexOf(this.decimalSeparator);if(d>0){var h=e.toString().substring(0,d)+"."+e.toString().substring(d+1);this.ValueString=new Number(h).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode)&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString));(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(t,i,n,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.upbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),("digits"==i||"groupSize"==i||"decimalDigits"==i)&&r<0)throw new Error(this.invalidArgumentExceptions[0]);if("placeHolder"==i&&t.numberInput.attr("placeholder",t.placeHolder),"theme"===i&&e.jqx.utilities.setTheme(n,r,t.host),"digits"==i&&r!=n&&(t.digits=parseInt(r)),"min"!=i&&"max"!=i||(e.jqx.aria(t,"aria-value"+i,r.toString()),t._refreshValue()),"decimalDigits"==i&&r!=n&&(t.decimalDigits=parseInt(r)),"decimalSeparator"==i||"digits"==i||"symbol"==i||"symbolPosition"==i||"groupSize"==i||"groupSeparator"==i||"decimalDigits"==i||"negativeSymbol"==i){var a=t.decimal;if("decimalSeparator"==i&&""==r&&(r=" "),n!=r){var s=t._selection();t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(a)}}if("rtl"==i&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==i&&(t.spincontainer?(r?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===i&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==i&&"advanced"==t.inputMode){s=t._selection();var o=0;r?(t.items[0].character=t.negativeSymbol[0],o=1):(t.items[0].character="",o=-1),t._refreshValue(),t.isInitialized&&t._setSelection(s.start+o,s.end+o)}if("decimal"==i&&(t.value=r,t.setDecimal(r)),"value"===i&&(t.value=r,t.setDecimal(r),t._raiseEvent(1,r)),"textAlign"==i&&(t.textAlign=r,t._render()),"disabled"==i&&(t.numberInput.attr("disabled",r),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",r.toString())),"readOnly"==i&&(t.readOnly=r),"promptChar"==i){for(var l=0;l<t.items.length;l++)t.items[l].character==t.promptChar&&(t.items[l].character=r);t.promptChar=r}"width"==i?(t.width=r,t._render()):"height"==i&&(t.height=r,t._render())}},_value:function(){return this.value},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var n=this.items[i];n.canEdit&&n.character!=this.promptChar&&(t+=n.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var r=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework);var ct=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxFormattedInput","",{}),e.extend(e.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var t={width:null,height:null,radix:10,outputNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,spinButtonsWidth:18,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",int64:"s",digits:8,decimalDigits:null,decimalSeparator:".",spinMode:"simple",_opened:!1,$popup:document.createElement("ul"),events:["open","close","change","radixChange","valueChanged","textChanged"]};e.extend(!0,this,t)},createInstance:function(){if(this._IE8=e.jqx.browser.msie&&e.jqx.browser.version<9,"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-\+e])/i),16:new RegExp(/([0-9]|[a-f])/i)},!1!==this.int64){try{BigNumber}catch(e){throw new Error("jqxFormattedInput: Missing reference to jqxmath.js")}this._regex[10]=new RegExp(/([0-9\-])/),"s"===this.int64&&this._Long()}this.spinButtonsWidth<16&&(this.spinButtonsWidth=16),this._checkStructure(),this.render()},render:function(){var t,i=this;function n(e){function t(t){t.className=i.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),t.style.width=i.spinButtonsWidth-1+"px",e.appendChild(t)}function n(e,t,n){e.setAttribute("unselectable","on"),e.className=i.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+n),t.appendChild(e)}i._spinButtonsContainerElement=e,e.className=i.toThemeProperty("jqx-formatted-input-spin-buttons-container"),e.style.width=i.spinButtonsWidth+"px",i._upbutton=document.createElement("div"),t(i._upbutton),i._downbutton=document.createElement("div"),t(i._downbutton),i._upArrow=document.createElement("div"),n(i._upArrow,i._upbutton,"up"),i._downArrow=document.createElement("div"),n(i._downArrow,i._downbutton,"down"),"s"===i.int64?i._spinButtonsStepObject=new i.longObj.math.Long.fromNumber(i.spinButtonsStep):"u"===i.int64?i._spinButtonsStepObject=new BigNumber(i.spinButtonsStep):!1===i.int64&&(i._spinButtonsStepObject=Number(i.spinButtonsStep))}function r(e){if(i._addon=e,e.className=i.toThemeProperty("jqx-formatted-input-addon"),!i._arrow){var t=document.createElement("div");t.className=i.toThemeProperty("jqx-icon jqx-icon-arrow-down"),e.appendChild(t),i._arrow=t}}if(i._radixNumber=i._getRadix(i.radix),!1===i.int64?(10!==i._radixNumber&&(i.radix=10,i._radixNumber=10),!0===i.dropDown&&(i.dropDown=!1),"-9223372036854775808"===i.min&&(i.min=Number.NEGATIVE_INFINITY),"9223372036854775807"===i.max&&(i.max=1/0)):(null!==i.decimalDigits&&(i.decimalDigits=null),i.min===Number.NEGATIVE_INFINITY&&("s"===i.int64?i.min="-9223372036854775808":i.min="0"),i.max===1/0&&("s"===i.int64?i.max="9223372036854775807":i.max="18446744073709551615")),""!==i.value&&("s"===i.int64?i._number=new i.longObj.math.Long.fromString(i.value.toString(),i._radixNumber):"u"===i.int64?i._number=i._toBigNumberDecimal(i.value):!1===i.int64&&(i._number=Number(i._discardDecimalSeparator(i.value)))),i.baseHost&&(i.host=i.baseHost,i.element=i.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseElement=this.element;var a=i.element.getElementsByTagName("input")[0];if(!a)throw new Error('jqxFormattedInput: Missing <input type="text" /> in the widget\'s HTML structure.');this.baseHost=e(this.baseElement);var s=this.host.data();this.host=e(a),this.element=a,this.host.data(s),this.baseElement.className=i.toThemeProperty("jqx-widget jqx-input-group");for(var o=i.baseHost.children(),l=0;l<o.length;l++){var d=o[l],h="jqx-input-group-addon";d!==i.element&&(h+=" jqx-fill-state-normal"),"div"===d.nodeName.toLowerCase()&&(!1===i.rtl?i._spinButtonsContainerElement||!0!==i.spinButtons?i._addon||!0!==i.dropDown||2!==l&&(1!==l||!1!==i.spinButtons)||r(d):n(d):i._addon||!0!==i.dropDown?i._spinButtonsContainerElement||!0!==i.spinButtons||1!==l&&(0!==l||!1!==i.dropDown)||(n(d),h+=" jqx-formatted-input-spin-buttons-container-rtl",!0===i.dropDown&&-1===i._addon.className.indexOf("jqx-formatted-input-addon-rtl")&&(i._addon.className+=" "+i.toThemeProperty("jqx-formatted-input-addon-rtl"))):(r(d),!0===i.spinButtons&&(h+=" jqx-formatted-input-addon-rtl"))),d.className+=" "+i.toThemeProperty(h)}}!0===i._initialized&&i.removeHandlers(),this.addHandlers(),i.rtl&&(i.element.className+=" "+i.toThemeProperty("jqx-rtl")),!0===i.readOnly&&(i.element.readOnly=!0),"s"===i.int64?(10!==i._radixNumber&&"-9223372036854775808"===i.min.toString()?i._minObject=new i.longObj.math.Long.fromNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"9223372036854775807"===i.max.toString()?i._maxObject=new i.longObj.math.Long.fromNumber(i.max):i._setMinMax("max")):"u"===i.int64?("-9223372036854775808"===i.min&&(i.min="0"),"9223372036854775807"===i.max&&(i.max="18446744073709551615"),10!==i._radixNumber&&"0"===i.min.toString()?i._minObject=new BigNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"18446744073709551615"===i.max.toString()?i._maxObject=new BigNumber(i.max):i._setMinMax("max")):(i._minObject=Number(i._discardDecimalSeparator(i.min)),i._maxObject=Number(i._discardDecimalSeparator(i.max))),""!==i.value&&null!==i.value?(!0===i.upperCase?i.element.className+=" "+i.toThemeProperty("jqx-formatted-input-upper-case"):i.element.className+=" "+i.toThemeProperty("jqx-formatted-input-lower-case"),t=i._validateValue(i.value,!0),i._checkNotation(i.value),10!==i._radixNumber||"exponential"!==i.outputNotation&&"engineering"!==i.outputNotation?i._eNotation&&(i._number=i._largeExponentialToDecimal(i._number),t=i._number):(i._eNotation&&(i._number=i._largeExponentialToDecimal(i._number)),t=i._getDecimalNotation(i.outputNotation)),i.element.value=t):i._spinButtonsContainerElement&&(i._spinButtonsContainerElement.className+=" "+i.toThemeProperty("jqx-fill-state-disabled")),i._checkNotation(),i._eNotation||(i.element.value=i._validateDigits(i.element.value),i._handleOutputNotation())},_addClasses:function(){var t="";this.dropDown&&(this.$popup.className=this.toThemeProperty("jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content"),e.jqx.browser.msie&&(this.$popup.className+=" "+this.toThemeProperty("jqx-noshadow"))),this.roundedCorners&&(this.baseHost?(this.dropDown&&(this.$popup.className+=" "+this.toThemeProperty("jqx-rc-all")),this.baseElement.className+=" "+this.toThemeProperty("jqx-rc-all"),!1===this.rtl?(t+=" jqx-rc-l",this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-rc-r"))):(t+=" jqx-rc-r",this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-rc-l")))):t+=" jqx-rc-all"),this.disabled&&(t+=" jqx-fill-state-disabled",this.baseHost&&(this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")))),this.element.className+=" "+this.toThemeProperty(t)},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},refresh:function(e){if(this.element.className+=" "+this.toThemeProperty("jqx-widget-content jqx-input jqx-formatted-input jqx-widget jqx-formatted-input-align-"+this.textAlign),e&&this._addClasses(),this.baseHost){if(this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height){this.baseElement.style.height=this._toPx(this.height);for(var t=0,i=this.baseHost.children(),n=0;n<i.length;n++){var r=i[n];r.style.height="100%",r!==this.element&&(t+=r.offsetWidth)}var a="string"==typeof this.width&&-1!==this.width.indexOf("%")?1:0;if(this._IE8){var s=this.element.style;s.width=this.baseElement.offsetWidth-t-a+"px",this._spinButtonsContainerElement&&(!1===this.rtl||!0===this.rtl&&this._addon)&&(this._spinButtonsContainerElement.style.borderLeftWidth="0px"),this._addon&&(!1===this.rtl?this._addon.style.borderLeftWidth="0px":this._spinButtonsContainerElement||(this._addon.style.borderRightWidth="0px"));var o=this.element.currentStyle,l=function(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e},d=Math.max(0,this.baseElement.offsetHeight-(l(o.borderTopWidth)+l(o.borderBottomWidth)+l(o.paddingTop)+l(o.paddingBottom)))+"px";s.lineHeight=d}else this.element.style.width="calc(100% - "+(t+a)+"px)"}}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height));this.element.disabled=this.disabled,this.element.placeholder||this._refreshPlaceHolder(),e&&(this._initialized=!0)},_toPx:function(e){return"number"==typeof e?e+"px":e},_refreshPlaceHolder:function(){if("placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9))this.element.placeholder=this.placeHolder;else{""===this.element.value&&(this.element.value=this.placeHolder)}},destroy:function(){this.removeHandlers(),this.baseHost?(e.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):this.host.remove(),this.$popup&&e(this.$popup).remove()},propertyChangedHandler:function(t,i,n,r){function a(e,i){!1===i?(e.style.display="none",!0===t.rtl&&(!0===t.spinButtons&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),!0===t.dropDown&&t._removeClass(t._addon,t.toThemeProperty("jqx-formatted-input-addon-rtl")))):(e.style.display="block",!0===t.rtl&&!0===t.spinButtons&&!0===t.dropDown&&(t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t._addon.className+=" "+t.toThemeProperty("jqx-formatted-input-addon-rtl")));var n=0;t.spinButtons&&(n+=t.spinButtonsWidth),t.dropDown&&(n+=t._addon.offsetWidth),t._IE8?t.element.style.width=t.baseElement.offsetWidth-n-("string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0)+"px":t.element.style.width="calc(100% - "+n+"px)"}function s(i){var n=t.element,r=document.createElement("div");if(t.baseHost){var a,s=t.baseHost.children();a="div"===s[1].nodeName.toLowerCase()||t.rtl&&"spinButtons"===i?s[1]:s[0],!1===t.rtl&&"spinButtons"===i||!0===t.rtl&&"dropDown"===i?t.baseElement.insertBefore(r,a):t.rtl?t.baseElement.insertBefore(r,a):t.baseElement.appendChild(r),t.render();var o="string"==typeof t.width&&-1!==t.width.indexOf("%");t._IE8?(t.element.style.width=t.baseElement.offsetWidth-t.spinButtonsWidth-t._addon.offsetWidth-(o?1:0)+"px",o&&(r.style.borderLeftWidth="0px")):t.element.style.width=t.element.style.width="calc(100% - "+(t.spinButtonsWidth+t._addon.offsetWidth+(o?1:0))+"px)"}else{var l=n.id,d=n.parentNode,h=n.nextSibling,c=document.createElement("div");t.element.removeAttribute("id"),c.setAttribute("id",l),c.appendChild(n),t.rtl?c.insertBefore(r,n):c.appendChild(r),h?d.insertBefore(c,h):d.appendChild(c),t.baseElement=c,t.baseHost=e(c);var u=t.host.data();u.jqxFormattedInput.host=t.baseHost,u.jqxFormattedInput.element=c,t.baseHost.data(u),t.element.style.height="",t.render(),t.refresh()}t._addClasses()}if(r!==n)switch(i){case"roundedCorners":r?t.baseHost?(t.dropDown&&(t.$popup.className+=" "+t.toThemeProperty("jqx-rc-all")),t.baseElement.className+=" "+t.toThemeProperty("jqx-rc-all"),!1===t.rtl?(t.element.className+=" "+t.toThemeProperty("jqx-rc-l"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-r"))):(t.element.className+=" "+t.toThemeProperty("jqx-rc-r"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-l")))):t.element.className+=" "+t.toThemeProperty("jqx-rc-all"):t.baseHost?(t.dropDown&&t._removeClass(t.$popup,t.toThemeProperty("jqx-rc-all")),t._removeClass(t.baseElement,t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(t._removeClass(t.element,t.toThemeProperty("jqx-rc-l")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(t.element,t.toThemeProperty("jqx-rc-r")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-l")))):t._removeClass(t.element,t.toThemeProperty("jqx-rc-all"));break;case"placeHolder":t._refreshPlaceHolder();break;case"theme":e.jqx.utilities.setTheme(n,r,t.host);break;case"disabled":r?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t.baseHost&&(t._spinButtonsContainerElement&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")))):(t._removeClass(t.element,t.toThemeProperty("jqx-fill-state-disabled")),t.baseHost&&""!==t.value&&null!==t.value&&(t._spinButtonsContainerElement&&t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-disabled")))),t.refresh();break;case"value":n.toString().toUpperCase()!==r.toString().toUpperCase()&&t.val(r);break;case"radix":!1!==t.int64?t._changeRadix(r):(t.radix=10,t._radixNumber=10);break;case"outputNotation":var o;if(10===t._radixNumber)o="exponential"===r?t._number.toExponential():"engineering"===r?t._getDecimalNotation("engineering"):t._number.toString(10),t.element.value=t._applyDecimalSeparator(o),t.refresh();break;case"min":case"max":!1!==t.int64&&("min"===i&&r===Number.NEGATIVE_INFINITY?"s"===t.int64?t.min="-9223372036854775808":t.min="0":"max"===i&&r===1/0&&("s"===t.int64?t.max="9223372036854775807":t.max="18446744073709551615")),t._setMinMax(i),t._validateValue(t.value,!0),t.value=t.element.value;break;case"upperCase":""!==t.element.value&&(!0===r?(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-lower-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-upper-case")):(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-upper-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-lower-case")));break;case"spinButtons":t._spinButtonsContainerElement?a(t._spinButtonsContainerElement,r):s("spinButtons");break;case"spinButtonsStep":"s"===t.int64?t._spinButtonsStepObject=new t.longObj.math.Long.fromNumber(r):"u"===t.int64?t._spinButtonsStepObject=new BigNumber(r):!1===t.int64&&(t._spinButtonsStepObject=Number(r));break;case"dropDown":if(!1===t.int64)return void(t.dropDown=!1);t._addon?a(t._addon,r):s("dropDown");break;case"readOnly":!0===r?t.host.attr("readonly",!0):t.host.removeAttr("readonly");break;case"textAlign":t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-align-"+n)),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-align-"+r);break;case"spinButtonsWidth":r<16&&(t.spinButtonsWidth=16,r=16),t._spinButtonsContainerElement.style.width=r+"px",t._upbutton.style.width=r-1+"px",t._downbutton.style.width=r-1+"px",t.refresh();break;case"digits":t.element.value=t._validateDigits(t.element.value),t.refresh();break;case"decimalDigits":!1===t.int64?t.element.value=t._validateDigits(t.element.value):t.decimalDigits=null,t.refresh();break;case"decimalSeparator":var l=t._discardDecimalSeparator(t.element.value,n);t.element.value=t._applyDecimalSeparator(l),t.refresh();break;default:t.refresh()}},select:function(e,t,i){i||(i=this._find("jqx-fill-state-pressed",this.$popup).getAttribute("data-value")),this._changeRadix(parseInt(i,10)),this._setMaxLength(!0),this.close()},setValue:function(e){var t=this.element.value;t!=e&&(this.element.value=e,this.value=e,this._raiseEvent("4",{value:e,oldValue:t}),this._raiseEvent("2",{value:e,oldValue:t,radix:this._radixNumber}))},val:function(t){if(void 0===t&&""!==t||"object"==typeof t&&!0===e.isEmptyObject(t)||"binary"===t||"octal"===t||"decimal"===t||"exponential"===t||"scientific"===t||"engineering"===t||"hexadecimal"===t){if(!t||"object"==typeof t&&!0===e.isEmptyObject(t))return this.element.value;if(!1!==this.int64||"exponential"!==t&&"scientific"!==t&&"engineering"!==t){if(!1===this.int64||"binary"!==t&&"octal"!==t&&"decimal"!==t&&"hexadecimal"===t)return this.element.value;var i=this._getRadix(t);return this._number.toString(i)}return this._getDecimalNotation(t)}if((t=t.toString()).toUpperCase()!==this.element.value.toString().toUpperCase()){var n=this.element.value;!0===this.upperCase&&(t=t.toUpperCase());for(var r=t.split(""),a=0;a<r.length;a++){var s=r[a];if(!this._regex[""+this._radixNumber].test(s)&&s!==this.decimalSeparator||10!==this._radixNumber&&s===this.decimalSeparator)return}var o=this._validateValue(t,!0);return!1===this.int64&&Number(n)===Number(o)?void(this.element.value=n):(this._handleOutputNotation(),o=this.element.value,this.value=o,this._raiseEvent("4",{value:o,oldValue:n}),this._raiseEvent("2",{value:o,oldValue:n,radix:this._radixNumber}),o)}return t},clear:function(){this.val(""),this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled"))},_changeRadix:function(e){var t=this._getRadix(e),i=""!==this.value?this._number.toString(t):"",n=this.radix,r=this.value;this.radix=e,this._radixNumber=t,this.element.value=i,this.value=i,this._raiseEvent("3",{radix:e,oldRadix:n,value:i,oldValue:r})},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var n=this.events[t];i.owner=this;var r=new e.Event(n);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.baseHost?this.baseHost.trigger(r):this.host.trigger(r)},open:function(){var t=this,i=t.baseElement?t.baseElement.id:t.element.id,n=e(t.$popup).children();function r(e){var i=t._find("jqx-fill-state-pressed",t.$popup);i&&t._removeClass(i,"jqx-fill-state-pressed"),e.currentTarget.className+=" "+t.toThemeProperty("jqx-fill-state-pressed")}for(var a=0;a<n.length;a++){var s=n[a];t.removeHandler(s,"mouseenter.jqxFormattedInput"+i)}if(t._setPopupOptions(),t._render(t._popupOptions),!e.jqx.isHidden(this.host)){var o;if(o=t.baseHost?e.extend({},t.baseHost.coord(!0),{height:t.baseElement.offsetHeight}):e.extend({},t.host.coord(!0),{height:t.host[0].offsetHeight}),!this.$popup.parentElement){var l=i+"_popup";this.$popup.setAttribute("id",l),e.jqx.aria(this,"aria-owns",l),document.body.appendChild(t.$popup)}t.$popup.style.position="absolute",t.$popup.style.zIndex=this.popupZIndex,t.$popup.style.top=o.top+o.height+"px",t.$popup.style.left=o.left+"px",t.$popup.style.display="block";for(var d=e(t.$popup).children(),h=0,c=0;c<d.length;c++){var u=d[c];t.addHandler(u,"mouseenter.jqxFormattedInput"+i,r),h+=u.offsetHeight+1}return t.$popup.style.height=h+"px",this._opened=!0,t.baseHost&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected"),t._arrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-selected")),this._raiseEvent("0",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this._opened=!1,this.baseHost&&(this._removeClass(this._addon,this.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),this._removeClass(this._arrow,this.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_render:function(e){for(var t="",i=0;i<e.length;i++){var n,r=e[i],a="jqx-item jqx-menu-item jqx-formatted-input-item";switch(i){case 0:n=2;break;case 1:n=8;break;case 2:n=10;break;case 3:n=16}n===this._radixNumber&&(a+=" jqx-fill-state-pressed"),this.rtl&&(a+=" jqx-rtl jqx-formatted-input-item-rtl"),this.roundedCorners&&(a+=" jqx-rc-all"),t+='<li class="'+this.toThemeProperty(a)+'" data-value="'+n+'"><a href="#">'+r+"</a></li>"}if(this.$popup.innerHTML=t,this.dropDownWidth)this.$popup.style.width=this.dropDownWidth+"px";else if(this.baseHost){var s="string"==typeof this.width&&-1!==this.width.indexOf("%")?1:0;this.$popup.style.width=this.baseElement.offsetWidth-6-s+"px"}else this.$popup.style.width=this.element.offsetWidth-6+"px";return this},next:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.nextSibling;this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.firstChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.previousSibling;this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.lastChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var t=this,i=t.baseElement?t.baseElement.id:t.element.id;this.addHandler(this.host,"focus.jqxFormattedInput"+i,function(){t.onFocus()}),this.addHandler(this.host,"blur.jqxFormattedInput"+i,function(){t.onBlur()}),this.addHandler(this.host,"keypress.jqxFormattedInput"+i,function(e){t.keypress(e)}),this.addHandler(this.host,"keyup.jqxFormattedInput"+i,function(e){t.keyup(e)}),this.addHandler(this.host,"keydown.jqxFormattedInput"+i,function(e){t.keydown(e)}),this.addHandler(this.$popup,"mousedown.jqxFormattedInput"+i,function(e){t.click(e)}),this.addHandler(this.host,"change.jqxFormattedInput"+i,function(e){e.stopPropagation(),e.preventDefault()}),this.addHandler(this.host,"mousewheel.jqxFormattedInput"+i,function(e){t.element===document.activeElement&&(e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}),t.baseHost&&(t._spinButtonsContainerElement&&(t.addHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("add"))}),t.addHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("subtract"))}),t.addHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+i,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))})),t._addon&&(t.addHandler(t._addon,"click.jqxFormattedInputAddon"+i,function(){t.disabled||(t._opened?t.close():t.open())}),t.addHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover"),t._arrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._removeClass(t._arrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()}),t.addHandler(t._arrow,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()})),e.jqx.utilities.resize(t.baseHost,function(){var e;!0===t._opened&&t.close(),t._IE8?(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t._addon&&(e+=t._addon.offsetWidth),t.element.style.width=t.baseElement.offsetWidth-e-1+"px",t.element.style.lineHeight=t.baseElement.offsetHeight+"px"):!0===t._initiallyHidden&&(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t.dropDown&&(e+=t._addon.offsetWidth),t.element.style.width="calc(100% - "+e+"px)",t._initiallyHidden=!1)}))},removeHandlers:function(){var e=this.baseElement?this.baseElement.id:this.element.id;this.removeHandler(this.host,"focus.jqxFormattedInput"+e),this.removeHandler(this.host,"blur.jqxFormattedInput"+e),this.removeHandler(this.host,"keypress.jqxFormattedInput"+e),this.removeHandler(this.host,"keyup.jqxFormattedInput"+e),this.removeHandler(this.host,"keydown.jqxFormattedInput"+e),this.removeHandler(this.$popup,"mousedown.jqxFormattedInput"+e),this.removeHandler(this.host,"mousewheel.jqxFormattedInput"+e),this.removeHandler(this.host,"change.jqxFormattedInput"+e),this.removeHandler(this.host,"mousewheel.jqxFormattedInput"+e),this.baseHost&&(this._spinButtonsContainerElement&&(this.removeHandler(this._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseenter.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseenter.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseleave.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseleave.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+e)),this._addon&&(this.removeHandler(this._addon,"click.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"mouseenter.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"mouseleave.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"blur.jqxFormattedInputAddon"+e),this.removeHandler(this._arrow,"blur.jqxFormattedInputAddon"+e)))},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){var t=e.charCode?e.charCode:e.which;if(this.readOnly)return!1;this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e),40!==t?38!==t||(!0===e.altKey?this._addon&&this.close():this._incrementOrDecrement("add")):!0===e.altKey?this._addon&&(this.onBlur(),this.open()):this._incrementOrDecrement("subtract")},keypress:function(t){var i=t.key||String.fromCharCode(t.keyCode);if(this.valChanged=!1,(!e.jqx.browser.mozilla||"ArrowLeft"!==i&&"ArrowRight"!==i&&"ArrowUp"!==i&&"ArrowDown"!==i&&"Backspace"!==i&&"Delete"!==i&&"Home"!==i&&"End"!==i)&&!this.suppressKeyPressRepeat&&!this.readOnly){this.move(t);var n=this.element.value;if(i===this.decimalSeparator){if((n.match(new RegExp("\\"+this.decimalSeparator,"g"))||[]).length>0)return t.preventDefault(),!1}else{if("Enter"===i)return;if(!0!==this._regex[this._radixNumber.toString()].test(i))return!1===t.ctrlKey?(t.preventDefault(),!1):void 0;if("+"===i||"-"===i)if(!1!==this.int64)"-"===n.charAt(0)?this._minus=!1:this._minus=!0,t.preventDefault();else{var r=(n.match(/-/g)||[]).length+(n.match(/\+/g)||[]).length;if(r>0&&-1===n.toLowerCase().indexOf("e")||r>1)return t.preventDefault(),!1}else if("e"===i.toLowerCase()&&10===this._radixNumber){if((n.toLowerCase().match(/e/g)||[]).length>0)return t.preventDefault(),!1}}var a=this._getCaretPosition(),s=n,o=s.slice(0,a)+i+s.slice(a);o!==s&&(this.valChanged=!0,this.valueChangedOld=s,this.valueChangedNew=o,this._raiseEvent("5",{value:o,oldValue:s}))}},keyup:function(e){switch(this.valChanged&&(this._raiseEvent("4",{value:this.valueChangedNew,oldValue:this.valueChangedOld}),this._supressValueChangedEvent=!0),e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened&&this.select(e,this);break;case 27:if(!this._opened)return;this.close();break;case 189:if("s"!==this.int64)return;if(10===this._radixNumber){var t=this.element.value.replace(/-/g,"");!0===this._minus?this.element.value="-"+t:this.element.value=t}}e.stopPropagation(),e.preventDefault(),""!==this.element.value?this._spinButtonsContainerElement&&this._removeClass(this._spinButtonsContainerElement,this.toThemeProperty("jqx-fill-state-disabled")):(this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(){var e=this.element,t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},onBlur:function(){this._opened&&this.close(),this._setMaxLength(),this._removeClass(this.element,"jqx-fill-state-focus"),this._removeClass(this._spinButtonsContainerElement,"jqx-fill-state-focus"),this._removeClass(this._addon,"jqx-fill-state-focus"),this._change(),!1===this.int64&&(this.element.value=this._validateDigits(this.element.value)),this._handleOutputNotation(),this._checkNotation(),this.upperCase?this.element.className+=" "+this.toThemeProperty("jqx-formatted-input-upper-case"):this.element.className+=" "+this.toThemeProperty("jqx-formatted-input-lower-case"),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==this.element.value&&this.element.value!==this.placeHolder||(this.element.value=this.placeHolder)},_handleOutputNotation:function(){if(this._checkNotation(),!1===this.int64){var e=Number(this._discardDecimalSeparator(this.element.value));switch(this._number=e,this.outputNotation){case"default":if(this._eNotation){var t=-1!==e.toString().indexOf("e");this.element.value=t?this._largeExponentialToDecimal(e):this._validateDigits(e)}break;case"exponential":var i;i=this._eNotation?e.toExponential():this._getDecimalNotation("exponential"),this.element.value=this._applyDecimalSeparator(i);break;case"engineering":this.element.value=this._applyDecimalSeparator(this._getDecimalNotation("engineering"))}}},_largeExponentialToDecimal:function(e){var t=e.toString(),i=t.indexOf("e"),n=new BigNumber(t.slice(0,i)),r=t.slice(i+2),a=t.slice(i+1,i+2),s=new BigNumber(10).pow(a+r);return n.multiply(s).toString()},onFocus:function(){this._setMaxLength(!0),this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-focus")),this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-fill-state-focus")),this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||this.element.value!==this.placeHolder||(this.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.getAttribute("data-value");this.select(e,this,t)},_change:function(){var e=this.value,t=this._validateValue(this.element.value,!0);this._removeClass(this.element,"jqx-input-invalid"),this._removeClass(this._spinButtonsContainerElement,"jqx-input-invalid"),this._removeClass(this._addon,"jqx-input-invalid"),!1===this.int64&&Number(e)===Number(t)||t.toUpperCase()!==e.toString().toUpperCase()&&(this._checkNotation(),!0!==this._supressValueChangedEvent?this._raiseEvent("4",{value:t,oldValue:e}):this._supressValueChangedEvent=!1,this._raiseEvent("2",{value:t,oldValue:e,radix:this._radixNumber}),this.value=t)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){this._popupOptions=[],""!==this.value?(this._popupOptions.push(this._number.toString(2)+" <em>(BIN)</em>"),this._popupOptions.push(this._number.toString(8)+" <em>(OCT)</em>"),this._popupOptions.push(this._number.toString(10)+" <em>(DEC)</em>"),this._popupOptions.push(this._number.toString(16)+" <em>(HEX)</em>")):(this._popupOptions.push("BIN"),this._popupOptions.push("OCT"),this._popupOptions.push("DEC"),this._popupOptions.push("HEX"))},_validateValue:function(e,t){if(""!==e){var i;if("s"===this.int64?i=new this.longObj.math.Long.fromString(e.toString(),this._radixNumber):"u"===this.int64?i=this._toBigNumberDecimal(e.toString()):!1===this.int64&&(i=Number(this._discardDecimalSeparator(e.toString()))),"s"===this.int64&&i.lessThan(this._minObject)||"u"===this.int64&&-1===i.compare(this._minObject)){if(t){this._number=this._minObject;var n=this._minObject.toString(this._radixNumber);return 16===this._radixNumber&&!0===this.upperCase&&(n=n.toUpperCase()),this.element.value=n,n}return!1}if("s"===this.int64&&i.greaterThan(this._maxObject)||"u"===this.int64&&1===i.compare(this._maxObject)){if(t){this._number=this._maxObject;var r=this._maxObject.toString(this._radixNumber);return 16===this._radixNumber&&!0===this.upperCase&&(r=r.toUpperCase()),this.element.value=r,r}return!1}return!1===this.int64&&(i<this._minObject||i>this._maxObject)?!!t&&(i<this._minObject?(this._number=this._minObject,this.element.value=this._validateDigits(this._minObject)):(this._number=this._maxObject,this.element.value=this._validateDigits(this._maxObject)),this.element.value):!t||(this._number=i,this.element.value=e,e)}return!t||(this.element.value="",e)},_validateDigits:function(e){var t=this;function i(e){return"number"==typeof e?e:parseFloat(e.replace(t.decimalSeparator,"."))}return e=t._discardDecimalSeparator(e.toString()),(null!==t.decimalDigits?i(e).toFixed(t.decimalDigits):Number(i(e).toPrecision(t.digits)).toString()).replace(".",t.decimalSeparator)},_getNegativeDecimal:function(e,t){var i=e;if(8===t){for(var n=[],r=0;r<11;r++){for(var a=parseInt(e.charAt(r),8).toString(2);3!==a.length;)a="0"+a;n.push(a)}"0"===(i=n.join("")).charAt(0)&&(i=i.slice(1))}else if(16===t){for(var s=[],o=0;o<8;o++){for(var l=parseInt(e.charAt(o),16).toString(2);4!==l.length;)l="0"+l;s.push(l)}i=s.join("")}for(var d="",h=0;h<i.length;h++){d+="1"===i.charAt(h)?"0":"1"}return d=-1*(parseInt(d,2)+1)},_setMaxLength:function(e){var t;if(!0===e&&!1!==this.int64)switch(this._radixNumber){case 2:t=64;break;case 8:t=22;break;case 10:t=20;break;case 16:t=16}else t=524288;this.host.attr("maxlength",t)},_setMinMax:function(e){"s"===this.int64?this["_"+e+"Object"]=new this.longObj.math.Long.fromString(this[e].toString(),this._radixNumber):"u"===this.int64?this["_"+e+"Object"]=this._toBigNumberDecimal(this[e].toString()):!1===this.int64&&(this["_"+e+"Object"]=Number(this._discardDecimalSeparator(this[e])))},_getDecimalNotation:function(e){var t=this,i=t._number.toString(10);var n,r=Number(i).toExponential();return"scientific"===e?function(e){var i=e.indexOf("e"),n=e.slice(i+1),r=e.slice(0,i+1);return r=r.replace("e","Ã10"),r=(r+=t._toSuperScript(n)).replace("+","")}(r):"engineering"===e?function(e){var i=e.indexOf("e"),n=e.slice(i+1),r=e.slice(0,i),a=parseInt(n,10)%3;if(0===a)return e;if(r*=Math.pow(10,a),n>0){var s=e.slice(0,i).length-a-2;s>=0&&(r=r.toFixed(s))}var o,l=parseInt(n,10)-a;return o=l<0?"":"+",void 0!==t.decimalDigits?r=Number(r).toFixed(t.decimalDigits):void 0!==t.digits&&(r=Number(Number(r).toPrecision(t.digits)).toString()),r+"e"+o+l}(r):(void 0!==t.decimalDigits?n=t.decimalDigits:void 0!==t.digits&&(n=t.digits-1),void 0!==n&&(r=Number(i).toExponential(n)),r)},_toSuperScript:function(e,t){for(var i="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",n="",r=0;r<e.length;r++)if(!0===t){var a=i.indexOf(e.charAt(r));n+=-1!==a?"-0123456789"[a]:e[r]}else{var s="-0123456789".indexOf(e.charAt(r));n+=-1!==s?i[s]:e[r]}return n},_incrementOrDecrement:function(e){var t,i=this.element===document.activeElement,n=!1;if("u"!==this.int64||"0"!==this._number.toString()||"subtract"!==e){if(i&&(t=this._getCaretPosition(),this._setCaretPosition(t)),"s"===this.int64?(this._number=new this.longObj.math.Long.fromString(this.element.value,this._radixNumber),n=this._number.isNegative()):"u"===this.int64?this._number=this._toBigNumberDecimal(this.element.value):!1===this.int64&&(this._number=Number(this._discardDecimalSeparator(this.element.value))),"simple"===this.spinMode||"advanced"===this.spinMode&&!1===i||!0===n&&10!==this._radixNumber)!1!==this.int64?this._number=this._number[e](this._spinButtonsStepObject):"add"===e?this._number+=this._spinButtonsStepObject:this._number-=this._spinButtonsStepObject;else{if(0===t||isNaN(this.element.value.charAt(t-1))&&this.element.value.charAt(t-1)!==this.decimalSeparator)return;var r,a=this.element.value;if(!1!==this.int64){r=a.length-t;var s=new BigNumber(this._radixNumber).pow(r);"s"===this.int64&&(s=new this.longObj.math.Long.fromString(s.toString(),10)),this._number=this._number[e](this._spinButtonsStepObject.multiply(s))}else{var o,l=a.indexOf(this.decimalSeparator),d=1,h=0;!0===this._eNotation&&(o=a.toLowerCase().indexOf("e"),h=Number(a.slice(o+1)),d=Math.pow(10,h)),r=-1===l?this._eNotation?a.slice(0,o).length-t:a.length-t:t-1<=l?t>=l?0:l-t:l-t+1,"add"===e?!this._eNotation||this._eNotation&&t<o+3?this._number+=this._spinButtonsStepObject*Math.pow(10,r)*d:this._number*=10:!this._eNotation||this._eNotation&&t<o+3?this._number-=this._spinButtonsStepObject*Math.pow(10,r)*d:this._number/=10}}if(!1!==this.int64)this.element.value=this._number.toString(this._radixNumber);else switch(this.outputNotation){case"default":this._checkNotation(this._number.toString()),!0===this._eNotation?this.element.value=this._largeExponentialToDecimal(this._number):this.element.value=this._validateDigits(this._number);break;case"exponential":var c=this._number.toExponential();this.element.value=this._applyDecimalSeparator(c);break;case"engineering":this.element.value=this._applyDecimalSeparator(this._getDecimalNotation("engineering"))}this._change(),this._handleOutputNotation()}},_negativeBinary:function(e,t){for(var i="";e.length<64;)e="0"+e;for(var n=0;n<e.length;n++){i+="1"===e.charAt(n)?"0":"1"}for(var r=!0,a="",s=i.length-1;s>=0;s--){var o;"0"===i.charAt(s)?!0===r?(o="1",r=!1):o="0":o=!0===r?"0":"1",a=o+""+a}switch(t){case 2:return a;case 8:a="00"+a;for(var l="",d=22;d>=1;d--){var h=a[3*d-3]+""+a[3*d-2]+a[3*d-1];l=parseInt(h,2).toString(8)+""+l}return l;case 16:for(var c="",u=16;u>=1;u--){var p=a[4*u-4]+""+a[4*u-3]+a[4*u-2]+a[4*u-1];c=parseInt(p,2).toString(16)+""+c}return c}},_toBigNumberDecimal:function(e){var t,i=this._radixNumber;if(10===i)t=new BigNumber(e);else{t=new BigNumber(0);for(var n=e.length-1;n>=0;n--){var r=new BigNumber(parseInt(e.charAt(n),i));t=t.add(r.multiply(new BigNumber(i).pow(e.length-1-n)))}}return t},_checkNotation:function(e){void 0===e&&(e=this.element.value),-1!==e.toString().toLowerCase().indexOf("e")?this._eNotation=!0:this._eNotation=!1},_discardDecimalSeparator:function(e,t){if(void 0===t&&(t=this.decimalSeparator),"."!==t&&e!==1/0&&e!==Number.NEGATIVE_INFINITY){var i=new RegExp(t,"g");return e.replace(i,".")}return e},_applyDecimalSeparator:function(e){return"."!==this.decimalSeparator&&(e=e.replace(/\./g,this.decimalSeparator)),e},_removeClass:function(t,i){e(t).removeClass(i)},_find:function(t,i){for(var n=e(i).children(),r=0;r<n.length;r++){var a=n[r];if(-1!==a.className.indexOf(t))return a}},_checkStructure:function(){if("div"===this.element.nodeName.toLowerCase()){var e=this.element.getElementsByTagName("div"),t=0;this.spinButtons&&(t+=1),this.dropDown&&(t+=1),1===t&&2===e.length||0===t&&1===e.length?this.element.removeChild(e[0]):0===t&&2===e.length&&(this.element.removeChild(e[1]),this.element.removeChild(e[0]))}},_Long:function(){var e=this;e.longObj={};var t=e.longObj;t.math={},t.math.Long={},t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(-128<=e&&e<128){var i=t.math.Long.IntCache[e];if(i)return i}var n=new t.math.Long(0|e,e<0?-1:0);return-128<=e&&e<128&&(t.math.Long.IntCache[e]=n),n},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:e<0?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var n=i||10;if(n<2||36<n)throw new Error("radix out of range: "+n);if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),n).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var r=t.math.Long.fromNumber(Math.pow(n,8)),a=t.math.Long.ZERO,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+o),n);if(o<8){var d=t.math.Long.fromNumber(Math.pow(n,o));a=a.multiply(d).add(t.math.Long.fromNumber(l))}else a=(a=a.multiply(r)).add(t.math.Long.fromNumber(l))}return a},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var n,r,a=i||10;if(a<2||36<a)throw new Error("radix out of range: "+a);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var s=t.math.Long.fromNumber(a),o=this.div(s);return n=o.multiply(s).subtract(this),o.toString(a)+n.toInt().toString(a)}switch(a){case 2:case 8:case 16:return r=this.negate().toString(2),e._negativeBinary(r,a);default:return r="-"+this.negate().toString(a)}}var l=t.math.Long.fromNumber(Math.pow(a,6));for(n=this,r="";;){var d=n.div(l),h=n.subtract(d.multiply(l)).toInt().toString(a);if((n=d).isZero())return h+r;for(;h.length<6;)h="0"+h;r=""+h+r}},t.math.Long.prototype.getHighBits=function(){return this.highBits},t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0==(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,a=65535&this.lowBits,s=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,d=0,h=0,c=0,u=0;return c+=(u+=a+(65535&e.lowBits))>>>16,u&=65535,h+=(c+=r+l)>>>16,c&=65535,d+=(h+=n+o)>>>16,h&=65535,d+=i+s,d&=65535,t.math.Long.fromBits(c<<16|u,d<<16|h)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO;if(e.isZero())return t.math.Long.ZERO;if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,a=65535&this.lowBits,s=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,d=65535&e.lowBits,h=0,c=0,u=0,p=0;return u+=(p+=a*d)>>>16,p&=65535,c+=(u+=r*d)>>>16,u&=65535,c+=(u+=a*l)>>>16,u&=65535,h+=(c+=n*d)>>>16,c&=65535,h+=(c+=r*l)>>>16,c&=65535,h+=(c+=a*o)>>>16,c&=65535,h+=i*d+n*l+r*o+a*s,h&=65535,t.math.Long.fromBits(u<<16|p,h<<16|c)},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.math.Long.ZERO;var i,n;if(this.equals(t.math.Long.MIN_VALUE))return e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE)?t.math.Long.MIN_VALUE:e.equals(t.math.Long.MIN_VALUE)?t.math.Long.ONE:(i=this.shiftRight(1).div(e).shiftLeft(1)).equals(t.math.Long.ZERO)?e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE:(n=this.subtract(e.multiply(i)),i.add(n.div(e)));if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var r=t.math.Long.ZERO;for(n=this;n.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),s=a<=48?1:Math.pow(2,a-48),o=t.math.Long.fromNumber(i),l=o.multiply(e);l.isNegative()||l.greaterThan(n);)i-=s,l=(o=t.math.Long.fromNumber(i)).multiply(e);o.isZero()&&(o=t.math.Long.ONE),r=r.add(o),n=n.subtract(l)}return r},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var i=this.lowBits;if(e<32){var n=this.highBits;return t.math.Long.fromBits(i<<e,n<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(0===(e&=63))return this;var i=this.highBits;if(e<32){var n=this.lowBits;return t.math.Long.fromBits(n>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var i=this.highBits;if(e<32){var n=this.lowBits;return t.math.Long.fromBits(n>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}})}(jqxBaseFramework);var ut=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxComplexInput","",{}),e.extend(e.jqx._jqxComplexInput.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:null,outputNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,interval:null,spinButtonsWidth:18,spinMode:"simple",placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",upperCase:!1,decimalSeparator:".",digits:8,decimalDigits:null,min:null,max:null,events:["change","valueChanged","textChanged"]})},createInstance:function(){this._firefox="mozilla"===e.jqx.browser.browser,this._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,this._currentNumber={},this._allowedCharacters=new RegExp(/([\+\-0-9ei])/i),this.render(),this._initialized=!0},render:function(){if(!0!==this._initialized&&"DIV"===this.element.nodeName.toUpperCase()){this.baseHost=this.host,this.baseElement=this.element;var t=this.host.data(),i=this.baseElement.getElementsByTagName("input")[0];i||((i=document.createElement("input")).setAttribute("type","text"),this.baseElement.appendChild(i)),this.host=e(i),this.element=i,this.host.data(t);var n=this.baseElement.getElementsByTagName("div")[0];n&&!1===this.spinButtons&&this.baseElement.removeChild(n)}if(!0===this.spinButtons){if(!this.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");this._appendSpinButtons()}this._handlespinButtonsInterval(),!0===this.readOnly&&this.element.setAttribute("readonly",!0),this._addClasses(),this._setSize(),!0===this._initialized&&this._removeHandlers(),this._addHandlers(),this._suppressEvent=!0;var r=this.value.replace(/\s+/g,"");this.val(r),this._suppressEvent=!1,this._refreshPlaceHolder()},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove()},val:function(t){var i,n;if("string"!=typeof t&&("object"!=typeof t||!1!==e.isEmptyObject(t)))return this.element.value;if("string"==typeof t)if(-1===(t=t.toLowerCase()).indexOf("e"))i=this._getReal(t),n=this._getImaginary(t);else{var r=this._exponentialToDecimal(t);i=1*r.realPart,n=1*r.imaginaryPart}else"object"==typeof t&&!1===e.isEmptyObject(t)&&(i=t.real,n=t.imaginary);var a=i+" "+(n>=0?"+":"-")+" "+Math.abs(n)+"i";a!==this._currentNumber.value&&(this.element.value=a,this._onChange(this.value),"default"!==this.outputNotation&&this._setNotation())},getReal:function(){var e=this.getDecimalNotation("real",this.outputNotation);return e=e.toString().replace(".",this.decimalSeparator)},_getReal:function(t){(!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value);var i=e.trim(t),n="";if(0===(t.match(/i/g)||[]).length)return i;if(!0!==this._eNotation){"+"===t.charAt(0)?i=i.slice(1,t.length):"-"===t.charAt(0)&&(i=i.slice(1,t.length),n="-");var r=function(t){return i=i.slice(0,t),i=e.trim(i),n+""+i},a=i.indexOf("+");if(-1!==a)return r(a);var s=i.indexOf("-");return-1!==s?r(s):"0"}return this._exponentialToDecimal(i).realPart.toExponential()},getImaginary:function(){var e=this.getDecimalNotation("imaginary",this.outputNotation);return e=e.toString().replace(".",this.decimalSeparator)},_getImaginary:function(t){if((!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value),0===(t.match(/i/g)||[]).length)return"0";var i=e.trim(t),n="";if(!0!==this._eNotation){"-"!==i.charAt(0)&&"+"!==i.charAt(0)||(n="-"===i.charAt(0)?"-":"+",i=e.trim(i.slice(1,t.length)));var r=function(t,n){return i=i.slice(t+1,i.indexOf("i")),""===(i=e.trim(i))&&(i=1),n+""+i},a=i.indexOf("+");if(-1!==a)return r(a,"");var s=i.indexOf("-");return-1!==s?r(s,"-"):""===(i=n+""+i.slice(0,i.indexOf("i")))||"+"===i?"1":"-"===i?"-1":i}return this._exponentialToDecimal(i).imaginaryPart.toExponential()},_checkNotation:function(e){void 0===e&&(e=this.element.value),-1!==e.toString().toLowerCase().indexOf("e")?this._eNotation=!0:this._eNotation=!1},getDecimalNotation:function(e,t){var i=this;"real"===e?e=i._currentNumber.realPart:"imaginary"===e&&(e=i._currentNumber.imaginaryPart);var n,r=i._toNumber(e).toExponential();return"scientific"===t?function(e){var t=e.indexOf("e"),n=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","Ã10"),r=(r+=i._toSuperScript(n)).replace("+","")}(r):"engineering"===t?function(e){var t=e.indexOf("e"),n=e.slice(t+1),r=e.slice(0,t),a=parseInt(n,10)%3;if(0===a)return e;if(r*=Math.pow(10,a),n>0){var s=e.slice(0,t).length-a-2;s>=0&&(r=r.toFixed(s))}var o,l=parseInt(n,10)-a;return o=l<0?"":"+",void 0!==i.decimalDigits?r=Number(r).toFixed(i.decimalDigits):void 0!==i.digits&&(r=Number(Number(r).toPrecision(i.digits)).toString()),r+"e"+o+l}(r):"exponential"===t?(void 0!==i.decimalDigits?n=i.decimalDigits:void 0!==i.digits&&(n=i.digits-1),null!=n&&(r=Number(e).toExponential(n)),r):Number(r)},clear:function(){var e=this.element.value;this.element.value="",this._onChange(e)},propertyChangedHandler:function(t,i,n,r){if(r!==n){var a=t.element,s=t._spinButtonsContainerElement;switch(i){case"width":case"height":t._setSize();break;case"outputNotation":"default"===r?t.element.value=t._currentNumber.value:t._setNotation();break;case"value":t.element.value=r,t._onChange(n);break;case"spinButtons":var o=function(){t._removeClass(a,t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(a.className+=" "+t.toThemeProperty("jqx-rc-l"),s.className+=" "+t.toThemeProperty("jqx-rc-r")):(a.className+=" "+t.toThemeProperty("jqx-rc-r"),s.className+=" "+t.toThemeProperty("jqx-rc-l"))};if(s)!1===r?(a.style.width="100%",s.style.display="none",a.className+=" "+t.toThemeProperty("jqx-rc-all")):(t._oldIE?a.style.width=a.offsetWidth-t.spinButtonsWidth+"px":a.style.width="calc(100% - "+t.spinButtonsWidth+"px)",s.style.display="block",o());else if(!0===r){var l=document.createElement("div");if(t.baseElement)t.rtl?t.baseElement.insertBefore(l,a):t.baseElement.appendChild(l),t.render();else{var d=a.id,h=a.parentNode,c=a.nextSibling,u=document.createElement("div");a.removeAttribute("id"),u.setAttribute("id",d),u.appendChild(a),t.rtl?u.insertBefore(l,a):u.appendChild(l),c?h.insertBefore(u,c):h.appendChild(u),t.baseElement=u,t.baseHost=e(u);var p=t.host.data();p.jqxComplexInput.host=t.baseHost,p.jqxComplexInput.element=u,t.baseHost.data(p),t.element.style.height="",t.render()}s=t._spinButtonsContainerElement,o()}break;case"spinButtonsWidth":if(s&&t.spinButtons){var m=n-r,f=r-1+"px";s.style.width=r+"px",t._upbutton.style.width=f,t._downbutton.style.width=f,t._oldIE?a.style.width=a.offsetWidth-m+"px":a.style.width="calc(100% - "+r+"px)"}break;case"placeHolder":t._refreshPlaceHolder(n);break;case"roundedCorners":s?!0===r?!1===t.rtl?(a.className+=" "+t.toThemeProperty("jqx-rc-l"),s.className+=" "+t.toThemeProperty("jqx-rc-r")):(a.className+=" "+t.toThemeProperty("jqx-rc-r"),s.className+=" "+t.toThemeProperty("jqx-rc-l")):!1===t.rtl?(t._removeClass(a,t.toThemeProperty("jqx-rc-l")),t._removeClass(s,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(a,t.toThemeProperty("jqx-rc-r")),t._removeClass(s,t.toThemeProperty("jqx-rc-l"))):!0===r?a.className+=" "+t.toThemeProperty("jqx-rc-all"):t._removeClass(a,t.toThemeProperty("jqx-rc-all"));break;case"disabled":!0===r?(a.setAttribute("disabled",!0),a.className+=" "+t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled"),s&&(s.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"))):(a.removeAttribute("disabled"),t._removeClass(a,t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),s&&t._removeClass(s,t.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":s&&(!0===r?(a.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl"),t._removeClass(s,t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),s.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),!0===t.roundedCorners&&(t._removeClass(a,t.toThemeProperty("jqx-rc-l")),a.className+=" "+t.toThemeProperty("jqx-rc-r"),t._removeClass(s,t.toThemeProperty("jqx-rc-r")),s.className+=" "+t.toThemeProperty("jqx-rc-l"))):(t._removeClass(a,t.toThemeProperty("jqx-complex-input-child-rtl")),t._removeClass(s,t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),s.className+=" "+t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"),!0===t.roundedCorners&&(t._removeClass(a,t.toThemeProperty("jqx-rc-r")),a.className+=" "+t.toThemeProperty("jqx-rc-l"),t._removeClass(s,t.toThemeProperty("jqx-rc-l")),s.className+=" "+t.toThemeProperty("jqx-rc-r"))));break;case"theme":e.jqx.utilities.setTheme(n,r,t.host);break;case"readOnly":!0===r?a.setAttribute("readonly",!0):a.removeAttribute("readonly");break;case"textAlign":t._removeClass(a,t.toThemeProperty("jqx-complex-input-align-"+n)),a.className+=" "+t.toThemeProperty("jqx-complex-input-align-"+r);break;case"upperCase":r?(t._removeClass(a,t.toThemeProperty("jqx-complex-input-lower-case")),a.className+=" "+t.toThemeProperty("jqx-complex-input-upper-case")):(t._removeClass(a,t.toThemeProperty("jqx-complex-input-upper-case")),a.className+=" "+t.toThemeProperty("jqx-complex-input-lower-case"));break;case"digits":case"decimalDigits":case"min":case"max":t._onChange(t.value);break;case"decimalSeparator":var g=new RegExp(n,"g");t.element.value=t.element.value.replace(g,r);break;case"interval":t._handlespinButtonsInterval()}}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var n=this.events[t];i.owner=this;var r=new e.Event(n);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_appendSpinButtons:function(){var e=this,t=e.baseElement.getElementsByTagName("div")[0];function i(i){i.setAttribute("unselectable","on"),i.className=e.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),i.style.width=e.spinButtonsWidth-1+"px",t.appendChild(i)}function n(t,i,n){t.setAttribute("unselectable","on"),t.className=e.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+n),i.appendChild(t)}t||(t=document.createElement("div"),e.baseElement.appendChild(t)),t.setAttribute("unselectable","on"),t.className=e.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container"),t.style.width=e.spinButtonsWidth+"px",!1===e.rtl?t.className+=" "+e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"):t.className+=" "+e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),e._upbutton=document.createElement("div"),i(e._upbutton),e._downbutton=document.createElement("div"),i(e._downbutton),e._upArrow=document.createElement("div"),n(e._upArrow,e._upbutton,"up"),e._downArrow=document.createElement("div"),n(e._downArrow,e._downbutton,"down"),e._spinButtonsContainerElement=t},_addClasses:function(){var e=this.element,t="",i="";t+=" jqx-widget jqx-input jqx-complex-input jqx-widget-content jqx-complex-input-align-"+this.textAlign,this.baseElement&&(this.baseElement.className+=" "+this.toThemeProperty("jqx-widget jqx-complex-input-parent"),t+=" jqx-complex-input-child"),!0===this.roundedCorners&&(this._spinButtonsContainerElement?!1===this.rtl?(t+=" jqx-rc-l",i+=" jqx-rc-r"):(t+=" jqx-rc-r",i+=" jqx-rc-l"):t+=" jqx-rc-all"),!0===this.disabled&&(e.disabled=!0,t+=" jqx-fill-state-disabled jqx-input-disabled",this._spinButtonsContainerElement&&(i+=" jqx-fill-state-disabled")),!0===this.rtl&&(t+=" jqx-complex-input-child-rtl",i+=" jqx-complex-input-child-rtl"),!1===this.upperCase?t+=" jqx-complex-input-lower-case":t+=" jqx-complex-input-upper-case",e.className+=" "+this.toThemeProperty(t),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty(i))},_refreshPlaceHolder:function(e){"placeholder"in this.element?this.element.placeholder=this.placeHolder:""!==this.element.value&&this.element.value!==e||(this.element.value=this.placeHolder)},_setSize:function(){var t=this,i="string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0,n=t.spinButtons?t.spinButtonsWidth:0,r="string"==typeof t.height&&-1!==t.height.indexOf("%");function a(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e}function s(){if(t.baseElement){var e=t.baseElement.currentStyle;if(t.element.style.height=Math.max(0,t.baseElement.offsetHeight-(a(e.borderTopWidth)+a(e.borderBottomWidth)+a(e.paddingTop)+a(e.paddingBottom))+i)+"px",t.element.style.lineHeight=t.element.style.height,t.spinButtons){t.element.style.width=Math.max(0,t.baseElement.offsetWidth-n-i)+"px";var s=t._spinButtonsContainerElement.currentStyle;t._spinButtonsContainerElement.style.height=Math.max(0,t.baseElement.offsetHeight-(a(s.borderTopWidth)+a(s.borderBottomWidth)+a(s.paddingTop)+a(s.paddingBottom))+i)+"px"}else t.element.style.width="100%"}else r&&(t.element.style.lineHeight=t.element.offsetHeight+"px")}if(t.baseElement?(t.baseElement.style.width=t._toPx(t.width),t.baseElement.style.height=t._toPx(t.height),t._oldIE?s():t.element.style.width="calc(100% - "+(n+i)+"px)"):(t.element.style.width=t._toPx(t.width),t.element.style.height=t._toPx(t.height)),t._oldIE){t.element.style.lineHeight=t.element.offsetHeight+"px";var o=t.baseHost||t.host;e.jqx.utilities.resize(o,function(){s()})}},_toPx:function(e){return"number"==typeof e?e+"px":e},_addHandlers:function(){var e,t=this,i=t.element,n=t._spinButtonsContainerElement;e=t.baseElement?t.baseElement.id:i.id,t.addHandler(t.host,"focus.jqxComplexInput"+e,function(){i.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),n&&(n.className+=" "+t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in i||i.value!==t.placeHolder||(i.value="")}),t.addHandler(t.host,"blur.jqxComplexInput"+e,function(){t._removeClass(i,t.toThemeProperty("jqx-fill-state-focus")),n&&t._removeClass(n,t.toThemeProperty("jqx-fill-state-focus")),(i.value!==t.value||"placeholder"in i||!("placeholder"in i)&&""===i.value)&&t._onChange(t.value),"placeholder"in i||""!==i.value&&i.value!==t.placeHolder||(i.value=t.placeHolder),"default"!==t.outputNotation&&t._setNotation()}),t.addHandler(t.host,"keydown.jqxComplexInput"+e,function(e){var i=e.charCode?e.charCode:e.which;if(t.readOnly)return!1;40===i?t._incrementOrDecrement(-1):38===i&&t._incrementOrDecrement(1)}),t.addHandler(t.host,"keypress.jqxComplexInput"+e,function(e){if(t.valChanged=!1,!t._firefox||!e.ctrlKey){var n=e.key||String.fromCharCode(e.keyCode);if(!0===t._allowedCharacters.test(n)){if("+"===n||"-"===n){var r=(i.value.match(/-/g)||[]).length+(i.value.match(/\+/g)||[]).length;if("default"===t.outputNotation&&r>1||"default"!==t.outputNotation&&r>3)return e.preventDefault(),!1}else if("i"===n.toLowerCase()){if(-1!==i.value.toLowerCase().indexOf(n.toLowerCase()))return e.preventDefault(),!1}else if("e"===n.toLowerCase()){if((i.value.toLowerCase().match(/e/g)||[]).length>1)return e.preventDefault(),!1}}else if(n===t.decimalSeparator){if((i.value.match(new RegExp("\\"+t.decimalSeparator,"g"))||[]).length>1)return e.preventDefault(),!1}else{if("Enter"!==n)return e.preventDefault(),!1;if(i.value!==t.value)return void t._onChange(t.value)}var a=t._getCaretPosition(),s=i.value,o=s.slice(0,a)+n+s.slice(a);o!==s&&(t.valChanged=!0,t.valueChangedOld=s,t.valueChangedNew=o,t._raiseEvent("2",{value:o,oldValue:s}))}}),t.addHandler(t.host,"keyup.jqxComplexInput"+e,function(e){t.valChanged&&(t._raiseEvent("1",{value:t.valueChangedNew,oldValue:t.valueChangedOld}),t._supressValueChangedEvent=!0),n&&(""===e.target.value?n.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"):!1===t.disabled&&t._removeClass(n,t.toThemeProperty("jqx-fill-state-disabled")))}),t.addHandler(t.host,"mousewheel.jqxComplexInput"+e,function(e){t.host.is(":focus")&&(e.originalEvent.wheelDelta>0?t._incrementOrDecrement(1):t._incrementOrDecrement(-1))}),n&&(t.addHandler(t._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(1))}),t.addHandler(t._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(-1))}),t.addHandler(t._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}))},_removeHandlers:function(){var e;e=this.baseElement?this.baseElement.id:this.element.id,this.removeHandler(this.host,"focus.jqxComplexInput"+e),this.removeHandler(this.host,"blur.jqxComplexInput"+e),this.removeHandler(this.host,"keydown.jqxComplexInput"+e),this.removeHandler(this.host,"keypress.jqxComplexInput"+e),this.removeHandler(this.host,"keyup.jqxComplexInput"+e),this.removeHandler(this.host,"mousewheel.jqxComplexInput"+e),this._spinButtonsContainerElement&&(this.removeHandler(this._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e),this.removeHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e))},_validatePart:function(e){return(null!==this.decimalDigits?this._toNumber(e).toFixed(this.decimalDigits):Number(this._toNumber(e).toPrecision(this.digits)).toString()).replace(".",this.decimalSeparator)},_onChange:function(t){var i,n;this._checkNotation();var r=this.element.value.toLowerCase();if(""!==e.trim(r)&&e.trim(r)!==this.placeHolder){if(-1!==r.indexOf("++")||-1!==r.indexOf("+-")){var a=r.indexOf("+");r=r.slice(0,a+1)+""+r.slice(a+2,r.length)}else if(-1!==r.indexOf("--")||-1!==r.indexOf("-+")){var s=r.indexOf("-");r=r.slice(0,s+1)+""+r.slice(s+2,r.length)}if(-1!==r.indexOf(this.decimalSeparator+this.decimalSeparator)){var o=r.indexOf(this.decimalSeparator);r=r.slice(0,o+1)+""+r.slice(o+2,r.length)}if("."!==this.decimalSeparator){var l=new RegExp(this.decimalSeparator,"g");r=r.replace(l,".")}var d=this._validatePart(Number(this._getReal(r)).toString()),h=this._validatePart(Number(this._getImaginary(r)).toString()),c=parseFloat(h.replace(this.decimalSeparator,"."))>=0?"+":"-";if(i=d,n=h,"-"===h.charAt(0)&&(h=h.slice(1)),isNaN(i.replace(this.decimalSeparator,"."))||isNaN(n.replace(this.decimalSeparator,".")))return void(this.element.value=t);this.element.value=d+" "+c+" "+h+"i",this.value=this.element.value,!1===this.disabled&&this._spinButtonsContainerElement&&this._removeClass(this._spinButtonsContainerElement,this.toThemeProperty("jqx-fill-state-disabled"))}else i=0,n=0,this.value="",this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled"));this._currentNumber={value:this.value,realPart:i,imaginaryPart:n};var u=this._validate();!0!==u&&(this._currentNumber={value:u.value,realPart:u.realPart,imaginaryPart:u.imaginaryPart},this.value=u.value,this.element.value=this.value),"default"!==this.outputNotation&&""!==this.element.value&&this._setNotation(),this.value===t&&!0!==this._suppressEvent||!0!==this._suppressEvent&&(!0!==this._supressValueChangedEvent?this._raiseEvent("1",{value:this.value,oldValue:t}):this._supressValueChangedEvent=!1,this._raiseEvent("0",{value:this.value,oldValue:t,realPart:i,imaginaryPart:n}))},_handlespinButtonsInterval:function(){null!==this.interval&&(this._intervalRealPart=this._getReal(this.interval),this._intervalImaginaryPart=this._getImaginary(this.interval))},_incrementOrDecrement:function(e){var t=this;t._checkNotation();var i,n,r,a=t.element===document.activeElement,s=t.element.value;"default"===t.outputNotation?(n=t._getReal(),r=t._getImaginary()):(n=(n=t.getDecimalNotation("real",t.outputNotation)).replace(".",t.decimalSeparator),r=(r=t.getDecimalNotation("imaginary",t.outputNotation)).replace(".",t.decimalSeparator));var o=t._toNumber(n),l=t._toNumber(r);"-"===r.charAt(0)&&(r=r.slice(1));var d,h={},c={},u=n.length,p=r.length,m=n.indexOf(t.decimalSeparator),f=r.indexOf(t.decimalSeparator),g=0;a&&(i=t._getCaretPosition(),t._onChange(t.value),t._setCaretPosition(i)),h.from=s.indexOf(n),h.to=h.from+u,c.from=s.indexOf(r+"i"),c.to=c.from+p;var v=c.from-2;function b(i,n){return i+(a?t.spinButtonsStep:parseFloat(t["_interval"+n+"Part"]))*Math.pow(10,g)*e}function y(e,t,a,s){var o="-"===("real"===e?n:r).charAt(0)?1:0;if(i>=a.from+1+o&&i<=a.to){if(-1!==s){var l=a.from+s;g=(d=l-(i-1))<=0?d:d-1}else g=a.to-i;return b(t)}return t}function _(a,s){var o,l,d;"real"===a?(o=n,l=h.from,d=h.to):(o=r,l=c.from,d=c.to);var u=o.toLowerCase().indexOf("e"),p=l+u;if("-"===o.charAt(0)&&i===l+1||i<=l||i>d||i===p+1||i===p+2)return"return";var m=o.indexOf(t.decimalSeparator),f=Number(o.charAt(u+2));return i>p+2&&i<d+1?s*=Math.pow(Math.pow(10,t.spinButtonsStep*e),Math.pow(10,d-i)):-1!==m?s+=i===l+m+1||i===l+m?t.spinButtonsStep*Math.pow(10,f)*e:t.spinButtonsStep*Math.pow(10,l+m+1-i)*Math.pow(10,f)*e:-1===m&&(s+=t.spinButtonsStep*Math.pow(10,p-i)*Math.pow(10,f)*e),s}if(void 0===i)null!==t.interval&&(o=b(o,"Real"),l=b(l,"Imaginary"));else if(i<=v)if("advanced"===t.spinMode){if(!0!==t._eNotation)o=y("real",o,h,m);else if("return"===(o=_("real",o)))return void t._setNotation()}else o=b(o);else if("advanced"===t.spinMode){if(!0!==t._eNotation)l=y("imaginary",l,c,f);else if("return"===(l=_("imaginary",l)))return void t._setNotation()}else l=b(l);var w=l>=0?"+":"-",x=o.toString().replace(".",t.decimalSeparator)+" "+w+" "+Math.abs(l).toString().replace(".",t.decimalSeparator)+"i";t.element.value=x,t._onChange(t.value),"default"!==t.outputNotation&&t._setNotation(),a&&t._setCaretPosition(i)},_getCaretPosition:function(){var e=this.element;if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),i=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},_exponentialToDecimal:function(t){var i=t.indexOf("e")+2,n=t.slice(i),r=n.indexOf("+"),a=n.indexOf("-");i=-1!==r&&(r<a||-1===a)?r:a;var s=n.slice(i),o=t.replace(s,""),l=(s=s.slice(0,s.length-1)).charAt(0);s=e.trim(s.slice(1)),"-"===l&&(s="-"+s);var d=this.decimalSeparator;if("."!==d){var h=new RegExp(d,"g");o=o.replace(h,"."),s=s.replace(h,".")}return{realPart:o=1*parseFloat(o).toFixed(20),imaginaryPart:s=1*parseFloat(s).toFixed(20)}},_setNotation:function(){var e=this.getDecimalNotation(this._currentNumber.realPart,this.outputNotation),t=this.getDecimalNotation(Math.abs(this._toNumber(this._currentNumber.imaginaryPart)),this.outputNotation),i=e+" "+(this._toNumber(this._currentNumber.imaginaryPart)>=0?"+":"-")+" "+t+"i";"."!==this.decimalSeparator&&(i=i.replace(/\./g,this.decimalSeparator)),this.element.value=i},_toSuperScript:function(e,t){for(var i="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",n="",r=0;r<e.length;r++)if(!0===t){var a=i.indexOf(e.charAt(r));n+=-1!==a?"-0123456789"[a]:e[r]}else{var s="-0123456789".indexOf(e.charAt(r));n+=-1!==s?i[s]:e[r]}return n},_toNumber:function(e){return"number"==typeof e?e:parseFloat(e.replace(this.decimalSeparator,"."))},_compare:function(e,t){var i=this._toNumber(this._getReal(e)),n=this._toNumber(this._getImaginary(e)),r=this._toNumber(this._getReal(t)),a=this._toNumber(this._getImaginary(t));return i<r?-1:i>r?1:n<a?-1:n>a?1:0},_validate:function(){var e=this,t=e._currentNumber.value,i=new RegExp(e.decimalSeparator,"g");function n(t){var n=t,r={};return"."!==e.decimalSeparator&&(n=t.replace(i,".")),r.realPart=e._getReal(n),r.imaginaryPart=e._getImaginary(n),r.value=function(t,i){t=e._validatePart(Number(t).toString()),i=e._validatePart(Number(i).toString());var n=parseFloat(i.replace(e.decimalSeparator,"."))>=0?"+":"-";return"-"===i.charAt(0)&&(i=i.slice(1)),t+" "+n+" "+i+"i"}(r.realPart,r.imaginaryPart),r}return null!==e.min&&-1===e._compare(t,e.min)?n(e.min):null===e.max||1!==e._compare(t,e.max)||n(e.max)},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework);var pt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxSlider","",{}),e.extend(e.jqx._jqxSlider.prototype,{defineInstance:function(){var t={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxSlider.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i,n,r,a,s,o;if("input"===this.element.nodeName.toLowerCase()&&(this.field=this.element,this.field.className&&(this._className=this.field.className),i={title:this.field.title},this.field.value&&(i.value=this.field.value),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t,this.field.getAttribute("min")&&(n=this.field.getAttribute("min"),this.min=parseFloat(n)),this.field.getAttribute("step")&&(r=this.field.getAttribute("step"),this.step=parseFloat(r)),this.field.getAttribute("max")&&(a=this.field.getAttribute("max"),this.max=parseFloat(a)),s=document.createElement("div"),void 0!==i.id&&s.setAttribute("id",i.id),void 0!==i.value&&s.setAttribute("value",i.value),s.style.cssText=this.field.style.cssText,this.width||(this.width=this.field.offsetWidth),this.height||(this.height=this.field.offsetHeight),this.field.style.display="none",this.field.parentNode&&this.field.parentNode.insertBefore(s,this.field.nextSibling),o=this.host.data(),this.host=e(s),this.host.data(o),this.element=s,this.element.id=this.field.id,this.field.id=i.id,this._helpers.element=new jqxHelper(this.element),this._helpers.field=new jqxHelper(this.field),this._className&&(this._helpers.element.addClass(this._className),this._helpers.field.removeClass(this._className)),this.field.tabIndex)){var l=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=l}},createInstance:function(t){var i=this;window.jqxHelper||(window.jqxHelper=e),i._createFromInput("jqxSlider"),i._isTouchDevice=e.jqx.mobile.isTouchDevice();if(i.element.innerHTML="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>",i._leftButton=i.element.firstChild,i._contentWrapper=i._leftButton.nextSibling,i._rightButton=i._contentWrapper.nextSibling,i.element.className=i.toThemeProperty("jqx-slider jqx-widget"),i._topTicks=i._contentWrapper.firstChild,i._track=i._topTicks.nextSibling,i._bottomTicks=i._track.nextSibling,i._leftButton.className=i.toThemeProperty("jqx-slider-left"),i._rightButton.className=i.toThemeProperty("jqx-slider-left"),i._helpers.leftButton=new jqxHelper(i._leftButton),i._helpers.rightButton=new jqxHelper(i._rightButton),i._helpers.element=new jqxHelper(i.element),i._helpers.track=new jqxHelper(i._track),!i.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(e.jqx.aria(this),"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._values64=[(new e.jqx.math).fromString(i.values[0].toString(),10),(new e.jqx.math).fromString(i.values[1].toString(),10)],i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10),i._step64=(new e.jqx.math).fromString(i.step.toString(),10),i._ticksFrequency64=(new e.jqx.math).fromString(i.ticksFrequency.toString(),10),i._minorTicksFrequency64=(new e.jqx.math).fromString(i.minorTicksFrequency.toString(),10)}else if("u"===i.int64){try{new BigNumber(i.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._values64=[new BigNumber(i.values[0]),new BigNumber(i.values[1])],i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max),i._step64=new BigNumber(i.step),i._ticksFrequency64=new BigNumber(i.ticksFrequency),i._minorTicksFrequency64=new BigNumber(i.minorTicksFrequency)}i._helpers.element.width(i.width),i._helpers.element.height(i.height),i._helpers.element.isRendered?i._helpers.element.isRendered()?(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()):(i._helpers.element.sizeChanged(function(){e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()}),i._helpers.element.sizeStyleChanged(function(){var e=i._helpers.element.getSizeFromStyle();e.width&&(i.width=e.width),e.height&&(i.height=e.height),i.__trackSize=null,i.__thumbSize=null,i._performLayout(),i._initialSettings()})):(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render())},render:function(){var t=this;t._setPaddingValues(),t._rendering=!0,t._refresh(),t._raiseEvent(4,{value:t.getValue()}),t._addInput(),null==t.element.getAttribute("tabindex")&&t.element.setAttribute("tabindex",0),e.jqx.utilities.resize(t.host,function(){t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()}),"vertical"===t.orientation&&(t.element.style.minWidth="96px"),t._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){this.removeHandler(e(document),"mouseup.arrow"+this.element.id),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.element.id),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.element.id),e.jqx.utilities.resize(this.host,null,!0),this.host.remove(),this._helpers=[]},_addInput:function(){var e=this.element.getAttribute("name"),t=document.createElement("input");t.setAttribute("type","hidden"),this.element.appendChild(t),e&&t.setAttribute("name",e),this.rangeSlider?this.values&&(t.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):t.value=this.value.toString(),this.input=t},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._updateButtonsVisibility(),this._addRangeBar()},_addTrack:function(){var e=this._track;this._helpers.track.addClass(this.toThemeProperty("jqx-slider-track")),e.setAttribute("style",""),this._helpers.track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getSetting("opposite"))),this._helpers.track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation)),this._helpers.track.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){if(null===this._slider||this._slider.length<1){this._slider={};var e=document.createElement("div"),t=document.createElement("div");e.className=this.toThemeProperty("jqx-slider-slider"),t.className=this.toThemeProperty("jqx-slider-slider"),this._slider.left=e,this._track.appendChild(e),this._slider.right=t,this._track.appendChild(t),this._helpers.track=new jqxHelper(this._track),this._helpers.left=new jqxHelper(this._slider.left),this._helpers.right=new jqxHelper(this._slider.right),this.template&&(this._helpers.left.addClass(this.toThemeProperty("jqx-"+this.template)),this._helpers.right.addClass(this.toThemeProperty("jqx-"+this.template)))}this._helpers.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._helpers.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._helpers.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._helpers.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._helpers.right.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._helpers.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){this._bottomTicks.className=this.toThemeProperty("jqx-slider-tickscontainer"),this._topTicks.className=this.toThemeProperty("jqx-slider-tickscontainer");var e="visible";this.showTicks||(e="hidden"),this._bottomTicks.style.visibility=e,this._topTicks.style.visibility=e},_updateButtonsVisibility:function(){var e="block";this.showButtons&&!this.rangeSlider||(e="none"),this._rightButton.style.display=e,this._leftButton.style.display=e},_getNiceInterval:function(t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var n,r="Width";"vertical"===this.orientation&&(r="Height");var a,s,o=document.createElement("span");if(o.className=this.toThemeProperty("jqx-widget jqx-slider-label"),o.style.position="absolute",o.style.visibility="hidden",this.tickLabelStyleSettings){var l=this.tickLabelStyleSettings;o.style.fontSize=l.fontSize,o.style.fontFamily=l.fontFamily,o.style.fontWeight=l.fontWeight,o.style.fontStyle=l.fontStyle}a=this._formatLabel(this.min),s=this._formatLabel(this.max);var d=e.jqx.browser.msie?0:1;document.body.appendChild(o),o.innerHTML=a;var h=o["scroll"+r]+d;o.innerHTML=s;var c=o["scroll"+r]+d;o.parentNode.removeChild(o);var u=Math.max(c,h),p=0;u>105&&(p=(u-105)/100),u*=1.5+p;var m=this._getTrackSize();m>64&&!1===this.showButtons&&(m-=64);var f,g,v,b,y,_=Math.round(m/u);return 0===_&&(_=1),!0===t&&(_*=4),!1===this.int64?(f=this.max-this.min,g=Math.floor(i(f)-i(_)),y=(n=f<2*(b=_*(v=Math.pow(10,g)))?1:f<3*b?2:f<7*b?5:10)*v):(f=new BigNumber(this.max).subtract(new BigNumber(this.min)),g=Math.floor(i(f.toString())-i(_)),v=new BigNumber(10).pow(new BigNumber(g)),b=new BigNumber(_).multiply(v),n=-1===f.compare(new BigNumber(2*b))?1:-1===f.compare(new BigNumber(3*b))?2:-1===f.compare(new BigNumber(7*b))?5:10,-1===(y=new BigNumber(n).multiply(v)).compare(1)&&(y=new BigNumber(1)),"s"===this.int64&&(y=(new e.jqx.math).fromString(y.toString()))),y},_formatLabel:function(t,i){var n,r=!0!==i?this.tickLabelFormatFunction:this.tooltipFormatFunction,a=!0!==i?this.tickLabelFormatSettings:this.tooltipFormatSettings;return r?n=r(t):a?void 0!==a.radix?n=(new e.jqx.math).getRadixValue(t,this.int64,a.radix):void 0!==a.outputNotation&&"default"!==a.outputNotation&&"decimal"!==a.outputNotation?n=(new e.jqx.math).getDecimalNotation(t,a.outputNotation,a.decimalDigits,a.digits):void 0!==a.decimalDigits?n=Number(t).toFixed(a.decimalDigits):void 0!==a.digits&&(n=Number(Number(t).toPrecision(a.digits)).toString()):n=t,n},_addTicks:function(t,i){if(this.showTicks){var n,r,a,s,o,l,d,h,c,u,p,m,f,g=parseInt(t.style[this._getSetting("size")],10),v="normal"===this.layout&&"horizontal"===this.orientation&&!1===this.rtl||"reverse"===this.layout&&"vertical"===this.orientation,b="";!1===this.int64?(o=this.max-this.min,"default"===this.tickMode?(this.niceInterval?(a=this._getNiceInterval(),s=this._getNiceInterval(!0)):(a=this.ticksFrequency,s=this.minorTicksFrequency),l=Math.round(o/a),d=Math.round(o/s)):"tickNumber"===this.tickMode&&(l=this.tickNumber,d=this.minorTickNumber,a=Math.round(o/l)),c=this.min,u=this.max):"s"===this.int64?(o=this._max64.subtract(this._min64),"default"===this.tickMode?(this.niceInterval?(a=this._getNiceInterval(),s=this._getNiceInterval(!0)):(a=this._ticksFrequency64,s=this._minorTicksFrequency64),l=o.div(a).toNumber(),d=o.div(s).toNumber()):"tickNumber"===this.tickMode&&(l=this.tickNumber,d=this.minorTickNumber,a=o.div((new e.jqx.math).fromNumber(l))),c=this._min64.toString(),u=this._max64.toString()):"u"===this.int64&&(o=this._max64.subtract(this._min64),"default"===this.tickMode?(this.niceInterval?(a=this._getNiceInterval(),s=this._getNiceInterval(!0)):(a=this._ticksFrequency64,s=this._minorTicksFrequency64),l=parseInt(o.divide(a).toString(),10),d=parseInt(o.divide(s).toString(),10)):"tickNumber"===this.tickMode&&(l=this.tickNumber,d=this.minorTickNumber,a=o.divide(new BigNumber(l)).intPart()),c=this._min64.toString(),u=this._max64.toString());var y=g/l;h=g/d,t.innerHTML="",r=v?this._formatLabel(c):this._formatLabel(u);var _=document.createElement("span");if(_.style.visibility="hidden",_.className=this.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),this.tickLabelStyleSettings){var w=this.tickLabelStyleSettings;_.style.fontSize=w.fontSize,_.style.fontFamily=w.fontFamily,_.style.fontWeight=w.fontWeight,_.style.fontStyle=w.fontStyle}document.body.appendChild(_),_.innerHTML="0";var x={width:_.offsetWidth,height:_.offsetHeight};_.parentNode.removeChild(_);var C=parseInt(t.style[this._getSetting("oSize")],10),S="horizontal"===this.orientation?this.padding.left:0;b+=this._addTick(t,S,this.min,C,r,x,!1,i);var T=document.createElement("span");T.className=this.toThemeProperty("jqx-widget"),T.style.position="absolute",T.style.visibility="hidden",document.body.appendChild(T),T.innerHTML=this.min.toString(),p="horizontal"===this.orientation?T.offsetWidth:T.offsetHeight;var P=0,I=0;if("default"===this.tickMode&&!0===this.niceInterval){var E,D;if(!1===this.int64)I=(P=v?(D=(E=this.min)-E%a+a)-E:(E=this.max)-(D=E-E%a))/a*y;else{var k=new BigNumber(a.toString());v?P=(D=(E=new BigNumber(this.min)).subtract(E.mod(k)).add(k)).subtract(E):(D=(E=new BigNumber(this.max)).subtract(E.mod(k)),P=E.subtract(D)),I=parseFloat(P.divide(k).multiply(y).toString())}var j=!0;if(p>=I&&(j=!1),D.toString()!==this.max.toString()&&I<g){var M=this._formatLabel(D.toString());b+=this._addTick(t,I+S,D,C,M,x,!1,i,j)}}for(m=1;m<l;m++){var A;n=m*y+I,n=Math.floor(n),!1===this.int64?A=v?this.min+a*m+P:this.max-a*m-P:"s"===this.int64?A=v?this._min64.add(a.multiply((new e.jqx.math).fromString(m.toString(),10))).add((new e.jqx.math).fromString(P.toString(),10)).toString():this._max64.subtract(a.multiply((new e.jqx.math).fromString(m.toString(),10))).subtract((new e.jqx.math).fromString(P.toString(),10)).toString():"u"===this.int64&&(A=v?this._min64.add(a.multiply(m)).add(P).toString():this._max64.subtract(a.multiply(m)).subtract(P).toString()),A.toString()!==this.max.toString()&&(r=this._formatLabel(A.toString()),f=!0,"default"===this.tickMode&&!0===this.niceInterval&&(T.innerHTML=r,n+(p="horizontal"===this.orientation?T.offsetWidth:T.offsetHeight)>=l*y&&(f=!1)),b+=this._addTick(t,n+S,m,C,r,x,!1,i,f))}if(this.showMinorTicks)for(m=1;m<d;m++)n=m*h,n=Math.floor(n),r="",b+=this._addTick(t,n+S,m,C,r,x,!0,i);r=v?this._formatLabel(u):this._formatLabel(c),b+=this._addTick(t,l*y+S,this.max,C,r,x,!1,i),t.innerHTML=b,T.parentNode.removeChild(T)}},_addTick:function(e,t,i,n,r,a,s,o,l){var d,h,c="";c=this.toThemeProperty("jqx-slider-tick"),c+=" "+this.toThemeProperty("jqx-fill-state-pressed"),this.template&&(c+=" "+this.toThemeProperty("jqx-"+this.template));var u=this._getSetting("top"),p="2px",m=this.tickSize;if(s&&(m=this.minorTickSize),e!==this._bottomTicks&&(p=n-m-2+"px"),"horizontal"===this.orientation){if(h='<div style="'+u+": "+p+"; "+this._getSetting("oSize")+":  "+m+"px; float: left; position:absolute; left:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+" "+c+'"></div>',this.showTickLabels){p=e!==this._bottomTicks?n-m-a.height-2+"px":2+m+"px";var f=a.width*r.toString().length;if(d=t-(f/=2),!1!==l){var g="",v="",b="",y="";if(this.tickLabelStyleSettings){var _=this.tickLabelStyleSettings;_.fontSize&&(g=_.fontSize),_.fontFamily&&(v=_.fontFamily),_.fontWeight&&(b=_.fontWeight),_.fontStyle&&(y=_.fontStyle)}h+='<div class="'+this.toThemeProperty("jqx-slider-label jqx-slider-label-"+o)+'" style="'+u+": "+p+"; float: left; position:absolute; left:"+d+"px; white-space: nowrap; font-size: "+g+"; font-family: "+v+"; font-weight: "+b+"; font-style: "+y+'">'+r+"</div>"}}}else if(h='<div style="'+u+": "+p+"; "+this._getSetting("oSize")+":  "+m+"px; float: none; position:absolute; top:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+" "+c+'"></div>',this.showTickLabels){p=e!==this._bottomTicks?n-m-r.toString().length*a.width-6+"px":6+m+"px";var w=a.height;d=t-(w/=2),!1!==l&&(h+='<div class="'+this.toThemeProperty("jqx-slider-label jqx-slider-label-"+o)+'" style="'+u+": "+p+"; float: none; position:absolute; top:"+d+'px;">'+r+"</div>")}return h},_addRangeBar:function(){(null===this._rangeBar||this._rangeBar.length<1)&&(this._rangeBar=document.createElement("div"),this._rangeBar.className=this.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),this.template&&(this._rangeBar.className+=" "+this.toThemeProperty("jqx-"+this.template)),this._helpers.rangeBar=new jqxHelper(this._rangeBar),this._track.appendChild(this._rangeBar)),this.showRange?this._rangeBar.style.display="block":this._rangeBar.style.display="none",this._thumbSize=this._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){null!==this.width&&-1!==this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width,10)+"px":void 0===this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width,10)+"px"),null!==this.height&&-1!==this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height,10)+"px":void 0===this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height,10)+"px");null!==this.width&&-1!==this.width.toString().indexOf("%")&&(!0,this._helpers.element.width(this.width)),null!==this.height&&-1!==this.height.toString().indexOf("%")&&(!0,this._helpers.element.height(this.height));var e=this._helpers.element.innerHeight();"width"===this._getSetting("size")&&(e=this._helpers.element.innerWidth()),this._performButtonsLayout(),this._performTrackLayout(e-6),this._contentWrapper.style[this._getSetting("size")]=this._track.style[this._getSetting("size")],this._contentWrapper.style[this._getSetting("oSize")]=this.element.style[this._getSetting("oSize")],this._performTicksLayout(),this._performRangeBarLayout();var t=this.padding;if("horizontal"===this.orientation){if(this._contentWrapper.style.position="absolute",this._contentWrapper.style.left="0px",this._contentWrapper.style.top="0px",this.showButtons&&!this.rangeSlider&&(this._contentWrapper.style.left=1+this._helpers.leftButton.outerWidth(!0)+"px",this._leftButton.style.left=t.left+"px",this._rightButton.style.right=t.right+"px","left"===this.buttonsPosition?(this._contentWrapper.style.left=2+2*this._helpers.leftButton.innerWidth()+this._helpers.left.innerWidth()/2+"px",this._rightButton.style.left=1+this._helpers.leftButton.innerWidth()+"px"):"right"===this.buttonsPosition&&(this._contentWrapper.style.left=this._helpers.left.innerWidth()/2+"px",this._leftButton.style.left="",this._leftButton.style.right=1+t.right+this._helpers.leftButton.innerWidth()+"px",this._rightButton.style.right=this._leftButton.style.right-this._helpers.leftButton.innerWidth()+"px")),!this.showButtons||this.rangeSlider){var i=2+Math.ceil(this.sliderButtonSize/2);this._contentWrapper.style.left=i+"px"}}else if(this._contentWrapper.style.position="absolute",this._contentWrapper.style.left="0px",this._contentWrapper.style.top="0px",this.showButtons&&!this.rangeSlider&&(this._contentWrapper.style.top=1+this._helpers.leftButton.outerHeight(!0)+"px",this._leftButton.style.top="0px",this._rightButton.style.bottom="0px",this._leftButton.style.left="",this._leftButton.style.right="",this._rightButton.style.left="",this._rightButton.style.right="","left"===this.buttonsPosition?(this._contentWrapper.style.top=2+2*this._helpers.leftButton.innerHeight()+this._helpers.left.innerHeight()/2+"px",this._rightButton.style.top=1+this._helpers.leftButton.innerHeight()+"px"):"right"===this.buttonsPosition&&(this._contentWrapper.style.top=this._helpers.left.innerHeight()/2+"px",this._leftButton.style.top="",this._leftButton.style.bottom=1+this._helpers.leftButton.innerHeight()+"px",this._rightButton.style.bottom=this._leftButton.style.bottom-this._helpers.leftButton.innerHeight()+"px")),!this.showButtons||this.rangeSlider){i=2+Math.ceil(this.sliderButtonSize/2);this._contentWrapper.style.top=i+"px"}if(this.rangeSlider?this._slider.left.style.visibility="visible":this._slider.left.style.visibility="hidden",this._refreshRangeBar(),"vertical"===this.orientation&&this.showButtons){this._leftButton.offsetWidth,this._track.offsetWidth;this._track.style.marginLeft="1px"}this._editableLabels()},_performTrackLayout:function(e){var t=e;(this.showButtons&&!this.rangeSlider&&("horizontal"===this.orientation?t-=this._helpers.leftButton.innerWidth()+this._helpers.rightButton.innerWidth()+4:t-=this._helpers.leftButton.innerHeight()+this._helpers.rightButton.innerHeight()+4),this.rangeSlider||!this.showButtons)&&(t=e-2*(2+Math.ceil(this.sliderButtonSize/2)));"horizontal"===this.orientation?(t-=this.padding.left+this.padding.right,t-=this._helpers.left.outerWidth()-2):t-=this._helpers.left.outerHeight()-2,this._track.style[this._getSetting("size")]=t+"px",this._track.style.left=this.padding.left+"px",this._slider.left.style.left="0px",this._slider.left.style.top="0px",this._slider.right.style.left="0px",this._slider.right.style.top="0px"},_performTicksLayout:function(){this._performTicksContainerLayout(),this._addTicks(this._topTicks,"top"),this._addTicks(this._bottomTicks,"bottom"),this._topTicks.style.visibility="hidden",this._bottomTicks.style.visibility="hidden","top"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||(this._topTicks.style.visibility="visible"),"bottom"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||(this._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e;"horizontal"===this.orientation?(this._topTicks.style.width=this._track.style.width,this._bottomTicks.style.width=this._track.style.width,e=(parseInt(this.element.style.height,10)-this._helpers.track.outerHeight())/2-2,this._topTicks.style.height=e+"px",this._bottomTicks.style.height=e+"px",this._topTicks.style.float="none",this._track.style.float="none",this._bottomTicks.style.float="none"):(this._topTicks.style.height=this._track.style.height,this._bottomTicks.style.height=this._track.style.height,e=(parseInt(this.element.style.width,10)-this._helpers.track.outerWidth())/2-2,this._topTicks.style.width=e+"px",this._bottomTicks.style.width=e+"px",this._topTicks.style.float="left",this._track.style.float="left",this._bottomTicks.style.float="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e);e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px";var i=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2;return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=i+"px"):(e.style.marginTop="0px;",e.style.marginLeft=i+"px"),e},_updateButtonsVisibilityStyles:function(){this._leftButton.style.backgroundPosition="center",this._rightButton.style.backgroundPosition="center","vertical"===this.orientation&&(this._leftButton.style.float="none",this._rightButton.style.float="none"),this._leftButton.style.position="absolute",this._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e={prev:"left",next:"right"};"vertical"===this.orientation&&(e={prev:"up",next:"down"}),this._helpers.leftButton.addClass(this.toThemeProperty("jqx-rc-all jqx-slider-button")),this._helpers.rightButton.addClass(this.toThemeProperty("jqx-rc-all jqx-slider-button")),this._leftArrow=this._leftButton.firstChild,this._rightArrow=this._rightButton.firstChild,this._helpers.leftArrow=new jqxHelper(this._leftArrow),this._helpers.rightArrow=new jqxHelper(this._rightArrow),this._helpers.leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),this._helpers.rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),this._helpers.leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._helpers.rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._helpers.leftArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.prev)),this._helpers.rightArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.next))},_updateButtonsVisibilityHover:function(){var t=this,i={prev:"left",next:"right"};"vertical"===t.orientation&&(i={prev:"up",next:"down"}),t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.addHandler(e(document),"mouseup.arrow"+t.element.id,function(){t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t.sliderTooltip?(t.sliderTooltipTimer&&clearTimeout(t.sliderTooltipTimer),t.sliderTooltipTimer=setTimeout(function(){t.sliderTooltipObj.fadeOut("fast"),t._mouseDown=!1},t.tooltipHideDelay)):t._mouseDown=!1}),t.removeHandler(t._leftButton,"mousedown."+t.element.id),t.removeHandler(t._leftButton,"mouseup."+t.element.id),t.removeHandler(t._leftButton,"mouseenter."+t.element.id),t.removeHandler(t._leftButton,"mouseleave."+t.element.id),t.removeHandler(t._rightButton,"mousedown."+t.element.id),t.removeHandler(t._rightButton,"mouseup."+t.element.id),t.removeHandler(t._rightButton,"mouseenter."+t.element.id),t.removeHandler(t._rightButton,"mouseleave."+t.element.id),t.addHandler(t._leftButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._mouseDown=!0)}),t.addHandler(t._leftButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),t.addHandler(t._leftButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._leftButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._rightButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t._mouseDown=!0)}),t.addHandler(t._rightButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),t.addHandler(t._rightButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))}),t.addHandler(t._rightButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"===this.buttonsPosition?(this._leftButton.style.marginRight="0px",this._rightButton.style.marginRight=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginLeft=2+e+"px",this._rightButton.style.marginRight="0px"):(this._leftButton.style.marginRight=e+"px",this._rightButton.style.marginLeft=e+"px")},_verticalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"===this.buttonsPosition?(this._leftButton.style.marginBottom="0px",this._rightButton.style.marginBottom=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginTop=2+e+"px",this._rightButton.style.marginBottom="0px"):(this._leftButton.style.marginBottom=e+"px",this._rightButton.style.marginTop=2+e+"px");var t=parseInt(this._leftButton.style.marginLeft,10);this._leftButton.style.marginLeft=t-1+"px",this._rightButton.style.marginLeft=t-1+"px"},_performRangeBarLayout:function(){this._rangeBar.style[this._getSetting("oSize")]=this._helpers.track[this._getSetting("oSize")]()+"px",this._rangeBar.style[this._getSetting("size")]=this._helpers.track[this._getSetting("size")]()+"px",this._rangeBar.style.position="absolute",this._rangeBar.style.left="0px",this._rangeBar.style.top="0px"},_raiseEvent:function(t,i){var n=this._events[t],r=new e.Event(n,this.element);return!1===this._triggerEvents||(!!this._rendering||(r.args=i,0===t&&(r.args.type=this.changeType,this.changeType=null),1===t&&(r.args.cancel=!1,this._slideEvent=r),this._lastValue[t]=i.value,r.owner=this,this.host.trigger(r)))},_initialSettings:function(){!1===this.int64?this.rangeSlider?"number"!=typeof this.value?this.setValue(this.value):this.setValue(this.values):(void 0===this.value&&(this.value=0),this.setValue(this.value)):!1===this.rangeSlider||!0===Array.isArray(this._value64)?this.setValue(this._value64):this.setValue(this._values64),this.disabled&&this.disable()},_addEventHandlers:function(){var t=this;t.addHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(e(document),t._getEvent("mouseup")+"."+t.element.id,function(){t._stopDrag()});try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var i=function(){t._stopDrag()},n=null;window.parent&&document.referrer&&(n=document.referrer),n&&-1!==n.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i))}}catch(e){}t.addHandler(e(document),t._getEvent("mousemove")+"."+t.element.id,t._performDrag,{that:this}),t.addHandler(t._slider.left,"mouseenter",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseenter",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mouseleave",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseleave",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mousedown",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mousedown",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.left,"mouseup",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mouseup",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler,{that:this}),t.addHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler,{that:this}),t.addHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler,{that:this}),t.addHandler(t.host,"focus",function(){t._helpers.track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.host,"blur",function(){t._helpers.track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.element.onselectstart=function(){return!1},t._addMouseWheelListeners(),t._addKeyboardListeners()},_addMouseWheelListeners:function(){var t=this;t.addHandler(t.host,"mousewheel",function(i){if(t.disabled)return!0;if(t.changeType="mouse",document.activeElement&&!e(document.activeElement).ischildof(t.host))return!0;var n=i.wheelDelta;i.originalEvent&&i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta),"wheelDelta"in i||(n=-40*i.detail),n>0?t.incrementValue():t.decrementValue(),i.preventDefault()})},_addKeyboardListeners:function(){var e=this;e.addHandler(e.host,"keydown",function(t){if(!0!==e._editingLabels)switch(e.changeType="keyboard",t.keyCode){case 40:case 37:return"normal"!==e.layout||e.rtl?e.incrementValue():e.decrementValue(),!1;case 38:case 39:return"normal"!==e.layout||e.rtl?e.decrementValue():e.incrementValue(),!1;case 36:return e.rangeSlider?e.setValue([e.values[0],e.max]):e.setValue(e.min),!1;case 35:return e.rangeSlider?e.setValue([e.min,e.values[1]]):e.setValue(e.max),!1}})},_trackMouseDownHandler:function(t){var i=t.data.that,n=e.jqx.mobile.getTouches(t)[0],r=parseInt(i._slider.left.style[i._getSetting("size")],10);isNaN(r)&&(r=0);var a=(i._isTouchDevice?n:t)[i._getSetting("page")]-r/2,s=i._getClosest(a),o=i._getValueByPosition(a);i._mouseDown=!0,i.changeType="mouse",i._setValue(o,s),i.input&&e.jqx.aria(i,"aria-valuenow",i.input.value)},_getClosest:function(e){return this.rangeSlider?(e=e-this._helpers.track.offset()[this._getSetting("left")]-this._helpers.left[this._getSetting("size")]()/2,Math.abs(parseInt(this._slider.left.style[this._getSetting("left")],10)-e)<Math.abs(parseInt(this._slider.right.style[this._getSetting("left")],10)-e)?this._slider.left:this._slider.right):this._slider.right},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag),this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag),this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler),this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler),this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler),this.element.onselectstart=null,this.removeHandler(this.host,this._getEvent("mousewheel")),this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var i=t.data.that;i.changeType="mouse",i._capturedElement=t.target;var n=new jqxHelper(t.target).offset();i._startX=n.left,i._startY=n.top;var r=e.jqx.position(t);if(i._mouseStartX=r.left,i._mouseStartY=r.top,i._mouseDown=!0,t.stopPropagation(),i.tooltip&&i._showTooltip(i._capturedElement,i.value),i._isTouchDevice)return!1},_stopDrag:function(){this._slideStarted&&this._raiseEvent(2,{value:this.getValue()}),this._slideStarted&&null!==this._capturedElement?(this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value),this._helpers.left.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._helpers.right.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._slideStarted=!1,this._capturedElement=null,this.sliderTooltip&&this.sliderTooltipObj.fadeOut("fast")):this._capturedElement=null},_performDrag:function(t){var i=t.data.that;if(null!==i._capturedElement){if(0===t.which&&e.jqx.browser.msie&&e.jqx.browser.version<9)return i._stopDrag(),!1;var n=e.jqx.position(t),r="horizontal"===i.orientation?n.left:n.top;if(i._isDragged(r),i._slideStarted||i._isTouchDevice)return i._dragHandler(r)}},_isDragged:function(e){Math.abs(e-this[this._getSetting("mouse")])>2&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null==this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t=this._getValueByPosition(e);if(this.rangeSlider){var i=this._helpers.right,n=this._helpers.left,r=this._getSetting("left");this._capturedElement===n?parseFloat(e)>i.offset()[r]&&(e=i.offset()[r]):parseFloat(e)<n.offset()[r]&&(e=n.offset()[r])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(t){var i,n,r,a,s=t-this._helpers.track.offset()[this._getSetting("left")]+this._slider.left.offsetWidth/2,o=s/this._helpers.track[this._getSetting("size")]();return s<0&&(s=0),!1===this.int64?i=(this.max-this.min)*o+this.min:"s"===this.int64?(a=(new e.jqx.math).fromNumber(this._helpers.track[this._getSetting("size")](),10),n=this._max64.subtract(this._min64),r=this._divide64(n,a)*s,i=(new e.jqx.math).fromNumber(r,10).add(this._min64)):"u"===this.int64&&(a=new BigNumber(this._helpers.track[this._getSetting("size")]()),n=this._max64.subtract(this._min64),r=this._divide64(n,a)*s,i=new BigNumber(r).add(this._min64)),"normal"===this.layout?"horizontal"!==this.orientation||this.rtl?!1===this.int64?this.max+this.min-i:this._max64.add(this._min64).subtract(i):i:"horizontal"===this.orientation?!1===this.int64?this.max+this.min-i:this._max64.add(this._min64).subtract(i):i},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=e,e},_getTrackSize:function(){if(this.__trackSize)return this.__trackSize;var e=parseInt(this._helpers.track[this._getSetting("size")](),10);return this.__trackSize=e,e},_getFixedValueByPosition:function(t){var i,n,r,a,s,o,l,d=this._getTrackSize(),h=this._getThumbSize(),c={number:-1,distance:Number.MAX_VALUE};if(!1===this.int64)for(a=this.step,s=d/(o=(this.max-this.min)/a),l=this._helpers.track.offset()[this._getSetting("left")]-h/2,n=this.max+this.step,"fixedRange"===this.mode&&(n=this.max),r=this.min;r<=n;r+=this.step)Math.abs(c.distance-t)>Math.abs(l-t)&&(c.distance=l,c.number=r),l+=s;else if("s"===this.int64)for(a=this._step64,o=this._max64.subtract(this._min64).div(this._step64),s=this._divide64((new e.jqx.math).fromNumber(d,10),o),l=this._helpers.track.offset()[this._getSetting("left")]-h/2,c={number:(new e.jqx.math).fromString(this._min64.toString(),10),distance:l},i=(new e.jqx.math).fromString(this._min64.toString(),10);"fixedRange"!==this.mode?i.lessThanOrEqual(this._max64.add(this._step64)):i.lessThanOrEqual(this._max64);i=i.add(this._step64))Math.abs(c.distance-t)>Math.abs(l-t)&&(c.distance=l,c.number=(new e.jqx.math).fromString(i.toString(),10)),l+=s;else if("u"===this.int64){a=this._step64,o=this._max64.subtract(this._min64).divide(this._step64),s=parseFloat(new BigNumber(d).divide(o).toString()),l=this._helpers.track.offset()[this._getSetting("left")]-h/2,c={number:new BigNumber(this._min64.toString()),distance:l};var u="fixedRange"!==this.mode?this._max64.add(this._step64):this._max64;for(i=new BigNumber(this._min64.toString());1!==i.compare(u);i=i.add(this._step64))Math.abs(c.distance-t)>Math.abs(l-t)&&(c.distance=l,c.number=new BigNumber(i.toString())),l+=s}return"normal"===this.layout?"horizontal"!==this.orientation||this.rtl?!1===this.int64?this.max+this.min-c.number:this._max64.add(this._min64).subtract(c.number):c.number:"horizontal"===this.orientation?!1===this.int64?this.max+this.min-c.number:this._max64.add(this._min64).subtract(c.number):c.number},_setValue:function(e,t,i){if(!this._slideEvent||!this._slideEvent.args.cancel){if(e=this._handleValue(e,t),this._setSliderPosition(e,t,i),this._fixZIndexes(),this._valueChanged(1)&&this._raiseEvent(1,{value:this.getValue()}),this._valueChanged(0)&&this._raiseEvent(0,{value:this.getValue()}),!this.input)return;this.rangeSlider?this.values&&void 0!==this.value.rangeEnd&&void 0!==this.value.rangeStart&&(this.input.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.value=this.value.toString()}},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){return e=this._validateValue(e,t),t===this._slider.left&&(!1===this.int64?this.values[0]=e:(this.values[0]=e.toString(),this._value64[0]=e)),t===this._slider.right&&(!1===this.int64?this.values[1]=e:(this.values[1]=e.toString(),this._values64[1]=e)),this.rangeSlider?(this.value={rangeStart:this.values[0],rangeEnd:this.values[1]},!1!==this.int64&&(this._value64={rangeStart:this._values64[0],rangeEnd:this._values64[1]})):!1===this.int64?this.value=e:(this.value=e.toString(),this._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var t,i=this._helpers.left,n=this._helpers.right,r=this._helpers.track,a=this._getSetting("left"),s=this._getSetting("size"),o=this.rtl&&"horizontal"===this.orientation;if("normal"===this.layout){t=i.position()[a];e(i[0]).position()[a];("vertical"===this.orientation||o)&&(t=n.position()[a])}else t=n.position()[a],"vertical"===this.orientation&&(t=i.position()[a]);this.rangeSlider?this._rangeBar.style[a]=t+"px":"horizontal"!==this.orientation||!o&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[a]=t-r.position().top+i.innerHeight()/2+"px"):this._rangeBar.style[a]=t-r.position().left+i.innerWidth()/2+"px",this._rangeBar.style[s]=Math.abs(n.position()[a]-i.position()[a])+"px"},_validateValue:function(e,t){return!1===this.int64?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)):"u"===this.int64&&(1===e.compare(this._max64)&&(e=this._max64),-1===e.compare(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(t,i,n){var r,a,s,o,l=parseInt(this._helpers.track[this._getSetting("size")](),10);n&&(n-=this._helpers.track.offset()[this._getSetting("left")]);var d=parseInt(this._helpers.left[this._getSetting("size")](),10);isNaN(d)&&(d=0),"s"===this.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10)),o=1-(s=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=s,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=o)):(r=o,"horizontal"!==this.orientation&&(r=s)),a=l*r-d/2,i.style[this._getSetting("left")]=a+"px"):"u"===this.int64?("number"!=typeof t&&"string"!=typeof t||(t=new BigNumber(t)),1===t.compare(this._max64)&&(t=new BigNumber(this._max64)),-1===t.compare(this._min64)&&(t=new BigNumber(this._min64)),o=1-(s=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=s,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=o)):(r=o,"horizontal"!==this.orientation&&(r=s)),a=l*r-d/2,i.style[this._getSetting("left")]=a+"px"):!1===this.int64&&("normal"===this.layout?(r=(t-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=1-(t-this.min)/(this.max-this.min))):(r=1-(t-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(r=(t-this.min)/(this.max-this.min))),a=l*r-d/2,i.style[this._getSetting("left")]=a+"px"),this.tooltip&&this._showTooltip(i,this.value),this._refreshRangeBar()},_divide64:function(e,t){var i,n,r,a;if(i=e.toString(),(r=t.toString()).length>15){var s=r.length-15;if(r=r.slice(0,15)+"."+r.slice(15),a=parseFloat(r),i.length>s){var o=i.length-s;i=i.slice(0,o)+"."+i.slice(o)}else if(i.length===s)i="0."+i;else{for(var l="0.",d=0;d<s-i.length;d++)l+="0";i=l+""+i}n=parseFloat(i)}else"s"===this.int64?(n=e.toNumber(),a=t.toNumber()):(n=parseFloat(e.toString()),a=parseFloat(t.toString()));return n/a},_showTooltip:function(e,t){if(this._slideStarted||null!=this._capturedElement||this._mouseDown){if(t=this._formatLabel(t,!0),!this.toolTipCreated){var i="tooltip"+this.element.id,n=document.createElement("div");n.style.display="none",n.style.position="absolute",n.style.visibility="hidden",n.style.boxShadow="none",n.style.top="0px",n.style.left="0px",n.style.zIndex=99999,n.setAttribute("id",i),document.body.appendChild(n);var r=document.createElement("div");r.setAttribute("id",i+"Main"),n.appendChild(r);var a=document.createElement("div");a.setAttribute("id",i+"Text"),r.appendChild(a);var s=document.createElement("div");s.setAttribute("id",i+"Arrow"),s.style.top="0px",s.style.left="0px",n.appendChild(s),this.sliderTooltip=n,this.sliderTooltipObj=new jqxHelper(this.sliderTooltip),this.sliderTooltipObj.initAnimate&&this.sliderTooltipObj.initAnimate(),a.innerHTML=t,this.sliderTooltip.className=this.toThemeProperty("jqx-tooltip jqx-popup"),r.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),a.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),s.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),this.sliderTooltipContent=a,this.sliderTooltipArrow=s,this.sliderTooltipMain=r,this.sliderTooltipArrowObj=new jqxHelper(this.sliderTooltipArrow),this.arrowSize=5,this.toolTipCreated=!0,this.rangeSlider&&(this.sliderTooltipArrow.style.visibility="hidden")}var o=new jqxHelper(e).offset();this.sliderTooltip.style.display="block",this.sliderTooltip.style.visibility="visible";var l=this.sliderButtonSize+this.tickSize;if(this.rangeSlider){var d=this.value?this.value.rangeStart:"",h=this.value?this.value.rangeEnd:"";""!==d?this.sliderTooltipContent.innerHTML=d+" - "+h:(this.sliderTooltip.style.display="none",this.sliderTooltip.style.visibility="hidden")}else this.sliderTooltipContent.innerHTML=t.toString();var c,u,p,m=this.sliderTooltip.offsetWidth;if("horizontal"===this.orientation)switch(u=o.left+this.sliderButtonSize/2-m/2,this.rangeSlider&&(p=(this._helpers.right.offset().left-this._helpers.left.offset().left-this._thumbSize)/2,u=this._helpers.left.offset().left-m/2+p+this._thumbSize),this.tooltipPosition){case"far":c=o.top+l+this.arrowSize,this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),this.sliderTooltipArrow.style.borderTopWidth="0px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:c-this.arrowSize,left:u-this.arrowSize/2-1+m/2});break;case"near":c=o.top-this.arrowSize-this.sliderTooltipObj.innerHeight()-1,this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth="0px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:c+this.sliderTooltipObj.innerHeight(),left:u-this.arrowSize/2-1+m/2})}else{var f=this.sliderTooltipObj.innerHeight();switch(u=o.left-m-this.arrowSize-this.tickSize,c=o.top+this._thumbSize/2-f/2-1,this.rangeSlider&&(p=(this._helpers.right.offset().top-this._helpers.left.offset().top-this._thumbSize)/2,c=this._helpers.left.offset().top-f/2+p+this._thumbSize),this.tooltipPosition){case"far":u=o.left+this._thumbSize+this.arrowSize+this.tickSize,this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth="0px",this.sliderTooltipArrowObj.offset({top:c+this.sliderTooltipObj.innerHeight()/2-this.arrowSize/2-2,left:u-this.arrowSize});break;case"near":this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth="0px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:c+this.sliderTooltipObj.innerHeight()/2-this.arrowSize/2-2,left:u+m+2})}}}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(t,i,n,r){if(t.__trackSize=null,t.__thumbSize=null,!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length))switch(i){case"template":t.template&&(t._helpers.left.removeClass(t.toThemeProperty("jqx-"+n)),t._helpers.right.removeClass(t.toThemeProperty("jqx-"+n)),t._helpers.rangeBar.removeClass(t.toThemeProperty("jqx-"+n)),t._helpers.left.addClass(t.toThemeProperty("jqx-"+t.template)),t._helpers.right.addClass(t.toThemeProperty("jqx-"+t.template)),e(t._leftButton).jqxRepeatButton({template:r}),e(t._rightButton).jqxRepeatButton({template:r}),t._helpers.rangeBar.addClass(t.toThemeProperty("jqx-"+t.template)));break;case"theme":e.jqx.utilities.setTheme(n,r,t.host),e(t._leftButton).jqxRepeatButton({theme:r}),e(t._rightButton).jqxRepeatButton({theme:r});break;case"disabled":r?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable());break;case"width":case"height":t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings();break;case"min":case"max":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t.__trackSize=null,t.__thumbSize=null,t._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":t._performLayout(),t._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings(),"orientation"===i&&(t.element.style.minWidth="vertical"===r?"96px":"");break;case"buttonsPosition":t._refresh();break;case"rangeSlider":t.value=r?{rangeEnd:t.value,rangeStart:t.value}:t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings();break;case"value":var a=r;"s"===t.int64?(a=(new e.jqx.math).fromString(r.toString(),10),t._value64=a):"u"===t.int64?(a=new BigNumber(r),t._value64=a):!1===t.int64&&(t.rangeSlider||(t.value=parseFloat(r))),t.setValue(a);break;case"values":var s=r;"s"===t.int64?(s=[(new e.jqx.math).fromString(r[0].toString(),10),(new e.jqx.math).fromString(r[1].toString(),10)],t._values64=s):"u"===t.int64&&(s=[new BigNumber(r[0]),new BigNumber(r[1])],t._values64=s),t.setValue(s);break;case"tooltip":break;case"step":"s"===t.int64?t._step64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t._step64=new BigNumber(r));break;case"editableLabels":t._performLayout(),t._initialSettings();break;case"tickLabelStyleSettings":t._setPaddingValues(!0),t._performLayout(),t._initialSettings();break;default:t._refresh()}},incrementValue:function(t){var i;!1===this.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right):this.values[1]>=this.min&&this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right)):"s"===this.int64?(t=void 0===t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10),(i=this._values64[1].add(t)).lessThan(this._values64[1])&&(i=this._max64),this.rangeSlider?this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right):this._values64[1].greaterThanOrEqual(this._min64)&&this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right)):"u"===this.int64&&(t=void 0===t||isNaN(parseFloat(t))?this._step64:new BigNumber(t),-1===(i=this._values64[1].add(t)).compare(this._values64[1])&&(i=this._max64),this.rangeSlider?-1===this._values64[1].compare(this._max64)&&this._setValue(i,this._slider.right):-1!==this._values64[1].compare(this._min64)&&-1===this._values64[1].compare(this._max64)&&this._setValue(i,this._slider.right)),this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},decrementValue:function(t){var i;!1===this.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[0]>this.min&&this._setValue(this.values[0]-t,this._slider.left):this.values[1]<=this.max&&this.values[1]>this.min&&this._setValue(this.values[1]-t,this._slider.right)):"s"===this.int64?(t=void 0===t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10),this.rangeSlider?((i=this._values64[0].subtract(t)).greaterThan(this._values64[0])&&(i=this._min64),this._values64[0].greaterThan(this._min64)&&this._setValue(i,this._slider.left)):((i=this._values64[1].subtract(t)).greaterThan(this._values64[1])&&(i=this._min64),this._values64[1].lessThanOrEqual(this._max64)&&this._values64[1].greaterThan(this._min64)&&this._setValue(i,this._slider.right))):"u"===this.int64&&(t=void 0===t||isNaN(parseFloat(t))?this._step64:new BigNumber(t),this.rangeSlider?(1===(i=this._values64[0].subtract(t)).compare(this._values64[0])&&(i=this._min64),1===this._values64[0].compare(this._min64)&&this._setValue(i,this._slider.left)):(1===(i=this._values64[1].subtract(t)).compare(this._values64[1])&&(i=this._min64),1!==this._values64[1].compare(this._max64)&&1===this._values64[1].compare(this._min64)&&this._setValue(i,this._slider.right))),this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},val:function(t){var i;if(0===arguments.length||!e.isArray(t)&&"object"==typeof t)return this.getValue();!1===this.int64?this.setValue(t):"s"===this.int64?(i=(new e.jqx.math).fromString(t.toString(),10),this.setValue(i)):"u"===this.int64&&(i=new BigNumber(t),this.setValue(i))},setValue:function(t){var i,n,r;(!1===this.int64||"string"!=typeof t&&"number"!=typeof t||("s"===this.int64?"string"==typeof t?t=(new e.jqx.math).fromString(t,10):"number"==typeof t&&(t=(new e.jqx.math).fromNumber(t,10)):"u"===this.int64&&(t=new BigNumber(t))),this.rangeSlider)?(arguments.length<2?t instanceof Array?(i=t[0],n=t[1]):"object"==typeof t&&void 0!==t.rangeStart&&void 0!==t.rangeEnd&&(i=t.rangeStart,n=t.rangeEnd):(i=arguments[0],n=arguments[1]),this._triggerEvents=!1,this._setValue(n,this._slider.right),this._triggerEvents=!0,this._setValue(i,this._slider.left)):(this._triggerEvents=!1,r=!1===this.int64?this.min:this._min64,this._setValue(r,this._slider.left),this._triggerEvents=!0,this._setValue(t,this._slider.right));this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},getValue:function(){var e=this.value;return!1!==this.int64&&(e=this._value64.toString()),e},_enable:function(t){t?(this._addEventHandlers(),this.disabled=!1,this._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),e(this._leftButton).jqxRepeatButton({disabled:this.disabled}),e(this._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),e.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(t){var i,n,r=this,a=document.createElement("span");if(a.className=r.toThemeProperty("jqx-widget jqx-slider-label"),a.style.position="absolute",a.visibility="hidden",r.tickLabelStyleSettings){var s=r.tickLabelStyleSettings;a.style.fontSize=s.fontSize,a.style.fontFamily=s.fontFamily,a.style.fontWeight=s.fontWeight,a.style.fontStyle=s.fontStyle}"normal"===r.layout?(i=r._formatLabel(r.min),n=r._formatLabel(r.max)):(i=r._formatLabel(r.max),n=r._formatLabel(r.min)),document.body.appendChild(a),a.innerHTML=i;var o="horizontal"===r.orientation?a.offsetWidth:a.offsetHeight;a.innerHTML=n;var l="horizontal"===r.orientation?a.offsetWidth:a.offsetHeight;function d(e){var t,i,n;return!0===r.showButtons?(t=27,i=0):(t=0,i=8),n=Math.ceil(e/2)+1-t,n=Math.max(n,i)}a.parentNode.removeChild(a),(!0===t||!0!==t&&(void 0===r.padding||e.isEmptyObject(r.padding)))&&("horizontal"===r.orientation?r.padding={left:d(o),right:d(l)}:r.padding={bottom:d(o),top:d(l)})},_editableLabels:function(){var t=this;function i(i,n){if(!t.disabled){var s=function(e){var i=document.createElement("span");i.className=t.toThemeProperty("jqx-widget jqx-slider-label"),i.style.position="absolute",i.style.visibility="hidden",document.body.appendChild(i),i.innerHTML=e;var n={width:i.scrollWidth,height:i.scrollHeight};return i.parentNode.removeChild(i),n}(t._formatLabel(n));a.offset(e(i).offset()),r.style.width=s.width+10+"px",r.style.height=s.height+"px",r.style.visibility="visible",r.value=n,r.select(),t._editingLabels=!0}}function n(i,n,r,a){if(i===t[n].toString())return!1;if("s"===t.int64){var s=(new e.jqx.math).fromString(i,10);if("min"===n&&-1!==s.compare(t["_"+a+"64"])||"max"===n&&1!==s.compare(t["_"+a+"64"]))return!1;t[r]=s,t[n]=i}else if("u"===t.int64){var o=new BigNumber(i);if(-1===o.compare(0)||"min"===n&&-1!==o.compare(t["_"+a+"64"])||"max"===n&&1!==o.compare(t["_"+a+"64"]))return!1;t[r]=o,t[n]=i}else{if("min"===n&&i>=t[a]||"max"===n&&i<=t[a])return!1;t[n]=parseFloat(i)}}if(t.showTickLabels&&t.editableLabels){var r,a,s=t.element.id,o=t.element.getElementsByClassName("jqx-slider-label-top"),l=t.element.getElementsByClassName("jqx-slider-label-bottom"),d=t.ticksPosition,h=/^-?\d+\.?\d*$/;if("both"===d||"top"===d){var c,u,p=o[0],m=o[o.length-1];"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(c=p,u=m):(c=m,u=p),t.addHandler(e(c),"dblclick.jqxSlider"+s,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(u),"dblclick.jqxSlider"+s,function(){i(this,t.max),t._editedProperty="max"})}if("both"===d||"bottom"===d){var f,g,v=l[0],b=l[l.length-1];"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(f=v,g=b):(f=b,g=v),t.addHandler(e(f),"dblclick.jqxSlider"+s,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(g),"dblclick.jqxSlider"+s,function(){i(this,t.max),t._editedProperty="max"})}!0!==t._labelInputCreated?((r=document.createElement("input")).className="jqx-slider-label-input",t.element.appendChild(r)):r=t.element.querySelector(".jqx-slider-label-input"),a=e(r),!0!==t._labelInputCreated&&(t.addHandler(a,"blur.jqxGauge"+t.element.id,function(){var e=this.value;if(r.style.visibility="hidden",h.test(e)){if("min"===t._editedProperty){if(!1===n(e,"min","_min64","max"))return}else if(!1===n(e,"max","_max64","min"))return;t._refresh(),t._editingLabels=!1}}),t._labelInputCreated=!0)}}})}(jqxBaseFramework);var mt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,minLength:1,maxLength:null};return this===e.jqx._jqxInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._popupHelper=e(this.$popup),this.render()},render:function(){var t=this;if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var i=t.element.getElementsByTagName("input"),n=!1;if(e.each(i,function(){var t=this.type;if(null==t||"text"===t||"textarea"===t)return i=e(this),n=!0,!1}),!n)throw new Error("jqxInput: Missing Text Input in the Input Group");if(i.length>0){this.baseHost=e(this.element),t.baseElement=t.element;var r=this.host.data();this.host=i,this.element=i[0],this.host.data(r),t.baseElement.className+=" "+t.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var a=this.baseHost.children();e.each(a,function(i){var n="jqx-input-group-addon";e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===i&&(n+=" jqx-rc-l"),i===a.length-1&&(n+=" jqx-rc-r"),this!==t.element&&(n+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(n)})}}this.addHandlers(),this.rtl&&(t.element.className+=" "+t.toThemeProperty("jqx-rtl")),t.element.setAttribute("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,i=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var i="",n="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(n=e[t.valueMember]),""===i&&(i=e.label),""===n&&(n=e.value),{label:i,value:n}}return e},n=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=i(e[n]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=n(t.adapter.records)});else{var r={};this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=n(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=n(this.source))},_refreshClasses:function(t){var i=t?"addClass":"removeClass",n="jqx-widget-content jqx-input jqx-widget",r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(r+=" jqx-noshadow"),this.roundedCorners&&(n+=" jqx-rc-all",r+=" jqx-rc-all"),this.disabled?n+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[i](this.toThemeProperty(n)),this._popupHelper[i](this.toThemeProperty(r))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height&&(this.baseElement.style.height=this._toPx(this.height));var t=this,i=e.jqx.browser.msie&&e.jqx.browser.version<9,n=0;if(e.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(n+=e(this).outerWidth())}),t._addonsWidth=n,i){var r=Math.max(0,t.baseElement.offsetHeight-2);t.element.style.width=Math.max(0,t.baseElement.offsetWidth-n-1)+"px",t.element.style.minHeight=r+"px",t.element.style.lineHeight=r+"px"}else t.element.style.width="calc(100% - "+n+"px)";e.jqx.utilities.resize(t.baseHost,function(){if(i&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),i){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";var e=t.baseElement.offsetHeight-2;t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)";t._initiallyHidden=!1}})}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height));this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?this.element.setAttribute("placeHolder",this.placeHolder):""===this.element.value&&(this.element.value=this.placeHolder)},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2===Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,n,r){if("width"!==i||r===n)return"placeHolder"===i?("placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==n||(t.element.value=""),void t._refreshPlaceHolder()):void(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length||("theme"===i&&e.jqx.utilities.setTheme(n,r,t.host),"opened"!==i?("source"===i&&(t._oldsource=r,t._updateSource()),"displayMember"!==i&&"valueMember"!==i||(t.source=t._oldsource,t._updateSource()),"disabled"===i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===i&&(t.element.value=r),t.refresh()):r?t.open():t.close()));t.baseHost?(t.baseElement.style.width=t._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<9&&(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px")):t.element.style.width=t._toPx(r)},select:function(e,t,i){var n=this._find("jqx-fill-state-pressed",this._popupHelper),r=n.getAttribute("data-value"),a=n.getAttribute("data-name");return this.element.value=this.renderer(a,this.element.value),this.selectedItem={label:a,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",a),this._raiseEvent("0",{item:{label:a,value:r},label:a,value:r}),this._raiseEvent("3",{type:i,item:{label:a,value:r},label:a,value:r}),this.value=a,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var n=this.events[t];i.owner=this;var r=new e.Event(n);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var i=this.element.id+"_popup";this.$popup.id=i,e.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var n=0,r=this._popupHelper.children();return e.each(r,function(){n+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(n),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var t;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source)?this.load(t):this},load:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];this.filter(n)&&t.push(n)}return(t=this.sort(t)).length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var i=this.query,n=t;switch(null!=t.label?n=t.label:this.displayMember&&(n=t[this.displayMember]),this.searchMode){case"none":break;default:return e.jqx.string.containsIgnoreCase(n,i);case"contains":return e.jqx.string.contains(n,i);case"equals":return e.jqx.string.equals(n,i);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(n,i);case"startswith":return e.jqx.string.startsWith(n,i);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(n,i);case"endswith":return e.jqx.string.endsWith(n,i);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(n,i)}},_sort:function(e){for(var t=[],i=[],n=[],r=0;r<e.length;r++){var a=e[r],s=a;a.label?s=a.label:this.displayMember&&(s=a[this.displayMember]),0===s.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(a):s.toString().indexOf(this.query)>=0?i.push(a):s.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&n.push(a)}return t.concat(i,n)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var i=this,n=i._popupHelper.children();if(n.length>0)for(var r=0;r<n.length;r++)e(n[r]).remove();var a=function(e,t){var n,r,a=e,s=document.createElement("li"),o=document.createElement("a");o.setAttribute("href","#"),s.appendChild(o),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(n=e.label,r=e.value):(n=e.value,r=e.value):void 0!==e.label&&null!==e.label?(n=e.label,r=e.label):void 0!==i.displayMember&&""!==i.displayMember?(n=e[i.displayMember],r=e[i.valueMember]):(n=e,r=e),s.setAttribute("data-value",r),s.setAttribute("data-name",n),e.label?a=e.label:i.displayMember&&(a=e[i.displayMember]),o.innerHTML=i.highlight(a);var l="";i.rtl&&(l=" jqx-rtl"),0===t&&(l+=" jqx-fill-state-pressed"),s.className=i.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+l),i.$popup.appendChild(s),i.addHandler(s,"mouseenter",function(e){i.mouseenter(e)})};return function(e){for(var t=0;t<e.length;t++)a(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=i._toPx(i.dropDownWidth):this.$popup.style.width=i._toPx(i.element.offsetWidth-6),this},next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.firstChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.lastChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.addHandler(e.host,"focus"+t,function(){e.onFocus()}),e.addHandler(e.host,"blur"+t,function(){e.onBlur()}),e.addHandler(e.host,"change"+t,function(t){if(!t.args){t.stopPropagation(),t.preventDefault();var i,n,r=e.val();r&&r.label?(i=r.label,n=r.val):(i=r,n=r),e._raiseEvent("3",{type:"keyboard",item:{label:i,value:n},label:i,value:n}),e.value=i}}),e.addHandler(e.host,"keypress"+t,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+t,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+t,function(t){e.keydown(t)}),e.addHandler(e.$popup,"mousedown"+t,function(t){e.click(t)})},removeHandlers:function(){var e=".jqxInput"+this.element.id;this.removeHandler(this.host,"change"+e),this.removeHandler(this.host,"focus"+e),this.removeHandler(this.host,"blur"+e),this.removeHandler(this.host,"keypress"+e),this.removeHandler(this.host,"keyup"+e),this.removeHandler(this.host,"keydown"+e),this.removeHandler(this.$popup,"mousedown"+e)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var t=this;setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)},onFocus:function(){this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||this.element.value!==this.placeHolder||(this.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),n=0;n<i.length;n++){var r=i[n];if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var t=this.baseHost.children(),i=0,n=0;n<t.length;n++)t[n]!==this.element&&(i+=e(t[n]).outerWidth());return i}})}(jqxBaseFramework);var ft=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxPathControl","",{}),e.extend(e.jqx._jqxPathControl.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:"auto",path:"",pathFormat:"windows",customDrive:!1,customDirectorySeparator:null,fileDrop:!0,accept:".*",placeHolder:"Not a Path.",readOnly:!1,browseButtonText:"...",browseFunction:null,disabled:!1,rtl:!1,events:["change","formatChange","fileDrop"]})},createInstance:function(){this._render(!0)},_render:function(e){this._constructPath(this.path),this._setSize(),!0===e?this._appendElements():this._removeHandlers(),this._addHandlers(),this._addClasses(),this._validateExtension()},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this._removeHandlers(),this.host.remove()},val:function(t){if(void 0===t||"string"!=typeof t&&e.isEmptyObject(t))return this.path;if("windows"===t||"unix"===t||"custom"===t)return this._formatPath(t);var i=this._input.val();this._constructPath(t),this.path!==i&&(this._input.val(this.path),this._raiseEvent("0",{path:this.path,oldPath:i}),this._validateExtension())},_clear:function(){this._drive=void 0,this._pathArray=[],this.path="",this._input.val("")},clear:function(){if(""!==this.path){var e=this.path;this._clear(),this._raiseEvent("0",{path:this.path,oldPath:e})}},browse:function(){this.browseFunction&&this.browseFunction(this.path)},propertyChangedHandler:function(e,t,i,n){if(n!==i)switch(t){case"width":e.host.css("width",n);break;case"height":e.host.css("height",n);break;case"path":e.val(n);break;case"pathFormat":var r=e.path;e.path=e._formatPath(n,!0),e._input.val(e.path),e._raiseEvent("1",{format:n,oldFormat:i,path:e.path,oldPath:r});break;case"customDrive":case"customDirectorySeparator":"custom"===e.pathFormat&&(e.path=e._formatPath("custom",!0),e._input.val(e.path));break;case"accept":e._validateExtension();break;case"placeHolder":e._input.attr("placeholder",n);break;case"readOnly":!0===n?e._input.attr("readonly",""):e._input.removeAttr("readonly");break;case"browseButtonText":e._button.text(n);var a=e._button.outerWidth();e._input[0].style.width="calc(100% - "+(a+7)+"px)";break;case"disabled":!0===n?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.attr("disabled","disabled"),e._button.addClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!0})):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.removeAttr("disabled"),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!1}));break;case"rtl":!0===n?(e._input.addClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-ltr")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-rtl"))):(e._input.removeClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-rtl")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-ltr"))),e._button.jqxButton({rtl:n})}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var n=this.events[t];i.owner=this;var r=new e.Event(n);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_constructPath:function(e){var t=e;if(this._pathArray=[],this._drive=void 0,t=(t=t.replace(/\//g,">")).replace(/\\/g,">"),this.customDirectorySeparator){var i=new RegExp("\\"+this.customDirectorySeparator,"g");t=t.replace(i,">")}var n=t.indexOf(":");-1!==n?(this._drive=t.slice(0,n),t=t.slice(n+2)):">"===t.charAt(0)&&(this._drive=t.slice(1,t.slice(1).indexOf(">")+1),t=t.slice(t.indexOf(this._drive)+this._drive.length+1)),this._pathArray=t.split(">"),this.path=this._formatPath(this.pathFormat,!0)},_formatPath:function(e,t){if(e!==this.pathFormat||!0===t){var i,n="";switch(e){case"windows":this._drive&&(n+=this._drive+":\\"),i="\\";break;case"unix":this._drive&&(n+="/"+this._drive+"/"),i="/";break;case"custom":this._drive&&(!0===this.customDrive?n+=this._drive+":"+this.customDirectorySeparator:n+=this.customDirectorySeparator),i=this.customDirectorySeparator}for(var r=0;r<this._pathArray.length;r++)n+=this._pathArray[r],r!==this._pathArray.length-1&&(n+=i);return n}return this.path},_setSize:function(){this.host.css("width",this.width),this.host.css("height",this.height)},_appendElements:function(){var t=this.readOnly?"readonly":"",i=this.disabled?"disabled":"";this._input=e('<input type="text" placeholder="'+this.placeHolder+'" '+t+" "+i+' class="'+this.toThemeProperty("jqx-path-control-input")+" "+this.toThemeProperty("jqx-input")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-rc-all")+'" value="'+this.path+'" />'),this.host.append(this._input),this._button=e('<button class="'+this.toThemeProperty("jqx-path-control-button")+'">'+this.browseButtonText+"</button>"),this.host.append(this._button),this._button.jqxButton({theme:this.theme,height:"100%",disabled:this.disabled,rtl:this.rtl});var n=this._button.outerWidth();this._input[0].style.width="calc(100% - "+(n+7)+"px)",!0===this.rtl?(this._input.addClass(this.toThemeProperty("jqx-path-control-input-rtl")),this._button.addClass(this.toThemeProperty("jqx-path-control-button-rtl"))):this._button.addClass(this.toThemeProperty("jqx-path-control-button-ltr"))},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-path-control")),this.host.addClass(this.toThemeProperty("jqx-path-control-transparent-border")),!0===this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._button.addClass(this.toThemeProperty("jqx-path-control-button-disabled")))},_addHandlers:function(){var e=this,t=e.element.id;e.addHandler(e._input,"focus.jqxPathControl"+t,function(){e._input.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.addHandler(e._input,"blur.jqxPathControl"+t,function(){e._input.removeClass(e.toThemeProperty("jqx-fill-state-focus"))});var i=["56","188","190","191","220","222"];e.addHandler(e._input,"keydown.jqxPathControl"+t,function(e){var t=e.charCode?e.charCode:e.which;!0===(!0===e.shiftKey&&-1!==i.indexOf(t.toString())||106===t)&&e.preventDefault()}),e.addHandler(e._input,"change.jqxPathControl"+t,function(t){t.stopPropagation();var i=t.target.value,n=e.path;""===i?e._clear():(e._constructPath(i),e._validateExtension()),e._input.val(e.path),e._raiseEvent("0",{path:e.path,oldPath:n})}),e.addHandler(e._button,"click.jqxPathControl"+t,function(){e.browse()}),e.addHandler(e.host,"dragenter.jqxPathControl"+t,function(e){e.preventDefault(),e.stopPropagation()}),e.addHandler(e.host,"dragleave.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),!0===e.fileDrop&&e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}),e.addHandler(e.host,"dragover.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),!0===e.fileDrop?e.host.removeClass(e.toThemeProperty("jqx-path-control-transparent-border")):t.originalEvent.dataTransfer.dropEffect="none"}),e.addHandler(e.host,"drop.jqxPathControl"+t,function(t){if(t.preventDefault(),t.stopPropagation(),!0===e.fileDrop){if(t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length){var i=t.originalEvent.dataTransfer.files[0].name;e._raiseEvent("2",{fileName:i}),e.val(i)}e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}})},_removeHandlers:function(){var e=this.element.id;this.removeHandler(this._input,"focus.jqxPathControl"+e),this.removeHandler(this._input,"blur.jqxPathControl"+e),this.removeHandler(this._input,"keydown.jqxPathControl"+e),this.removeHandler(this._input,"change.jqxPathControl"+e),this.removeHandler(this._button,"click.jqxPathControl"+e),this.removeHandler(this.host,"dragenter.jqxPathControl"+e),this.removeHandler(this.host,"dragleave.jqxPathControl"+e),this.removeHandler(this.host,"dragover.jqxPathControl"+e),this.removeHandler(this.host,"drop.jqxPathControl"+e)},_validateExtension:function(){if(".*"!==this.accept&&""!==this.path){var e=this.path.lastIndexOf("."),t=this.path.charAt(e+1);if(-1!==e&&"."!==this.path.charAt(e-1)&&""!==t&&("windows"===this.pathFormat&&"\\"!==t||"unix"===this.pathFormat&&"/"!==t||"custom"===this.pathFormat&&t!==this.customDirectorySeparator))this.path.slice(e).toLowerCase()===this.accept.toLowerCase()?this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid")):this._input.addClass(this.toThemeProperty("jqx-path-control-input-invalid"));else this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid"))}else this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid"))}})}(jqxBaseFramework);var gt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===e.jqx._jqxPopover.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._content=this.host.children()},render:function(){var t=this.element.id;if(this._content.detach(),this._toggleElement=e(this.selector),0===this._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+this.selector+'".');if(null===this._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var i=e('<div id="'+t+'" class="'+this.toThemeProperty("jqx-popover")+'"><div class="'+this.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+this.toThemeProperty("jqx-popover-title")+'"></div><div class="'+this.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(i);var n=this.host.data();this.host.detach(),this.host=i,this.host.data(n),this.element=i[0],this.element.id=t,this._popover=e("#"+t);var r=this._popover.find(".jqx-popover-title");r.append(this.title);var a=this._popover.find(".jqx-popover-content");if(a.append(this._content),this._popover.hide(),this._removeHandlers(),this._addHandlers(),this._popover.addClass(this.position),r.addClass(this.toThemeProperty("jqx-widget-header")),this._popover.addClass(this.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),this.showArrow?(this._popover.addClass(this.toThemeProperty("jqx-popover-arrow-"+this.position)),this._popover.find(".jqx-popover-arrow").css("display","block")):this._popover.find(".jqx-popover-arrow").css("display","none"),this.rtl&&(r.addClass(this.toThemeProperty("jqx-rtl")),r.css("direction","rtl"),a.css("direction","rtl")),this.showCloseButton){var s=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),o=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');s.append(o),r.append(s),r.css("min-height","16px"),s.addClass(this.toThemeProperty("jqx-popover-close-button")),this.closeButton=o,this.rtl&&s.addClass(this.toThemeProperty("jqx-popover-close-button-rtl"))}if(this.arrowOffsetValue)if("bottom"==this.position||"top"==this.position){var l=this._popover.find(".jqx-popover-arrow").css("margin-left");this._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(l)+this.arrowOffsetValue)}else{var d=this._popover.find(".jqx-popover-arrow").css("margin-top");this._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(d)+this.arrowOffsetValue)}(this.width||this.height)&&(this._popover.css("width",this.width),this._popover.css("height",this.height))},refresh:function(e){this.render()},destroy:function(){0!==this.length&&(this._removeHandlers(),this._popover.remove(),this._removeModalBackground())},propertyChangedHandler:function(e,t,i,n){this.render()},_stickToToggleElement:function(){this._popover.css("left","0px"),this._popover.css("top","0px");var e=this._toggleElement,t=e.offset(),i=e.outerHeight(),n=e.outerWidth(),r=this._popover.height(),a=this._popover.width();switch(this.position){case"left":this._popoverTop=t.top-r/2+i/2,this._popoverLeft=t.left-this._popover.outerWidth();break;case"right":this._popoverTop=t.top-r/2+i/2,this._popoverLeft=t.left+n;break;case"top":this._popoverTop=t.top-this._popover.outerHeight(),this._popoverLeft=t.left-a/2+n/2;break;case"bottom":this._popoverTop=t.top+i,this._popoverLeft=t.left-a/2+n/2}var s=this.offset?parseFloat(this.offset.left):0,o=this.offset?parseFloat(this.offset.top):0;this._popover.css("top",o+this._popoverTop),this._popover.css("left",s+this._popoverLeft)},open:function(){var e=this;function t(){e._popover.show(),e._raiseEvent("0"),e._isOpen=!0}function i(){e.initContent&&!1===e._init&&(e.initContent(),e._init=!0,e._stickToToggleElement())}if(e._stickToToggleElement(),!0===e._ie7)return t(),void i();switch(e.animationType){case"fade":e._popover.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0"),i(),e._isOpen=!0});break;case"none":t(),i()}e._makeModalBackground()},close:function(){var e=this;if(e._isOpen)if(!0!==e._ie7){switch(e.animationType){case"fade":e._popover.fadeOut(e.animationCloseDelay,function(){e._raiseEvent("1"),e._isOpen=!1});break;case"none":t()}e._removeModalBackground()}else t();function t(){e._popover.hide(),e._raiseEvent("1"),e._isOpen=!1}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var n=this.events[t];i.owner=this;var r=new e.Event(n);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this._popover.trigger(r)},_makeModalBackground:function(){!0===this.isModal&&(this.modalBackground=e("<div></div>"),this.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(this.modalBackground),e(document.body).addClass(this.toThemeProperty("jqx-unselectable")),this.host.addClass(this.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){!0===this.isModal&&void 0!==this.modalBackground&&(this.modalBackground.remove(),e(document.body).removeClass(this.toThemeProperty("jqx-unselectable")),this.host.removeClass(this.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),!0===t.autoClose&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this.element.id;this.removeHandler(e(document),"click.jqxPopover"+t),this.selector&&this.removeHandler(this._toggleElement,"click.jqxPopover"+t),this.removeHandler(e(document),"keydown.jqxPopover"+t),this.removeHandler(e(window),"resize.jqxPopover"+t)}})}(jqxBaseFramework);var vt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxCheckBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title};this.field.value&&(i.value=this.field.value),this.field.checked&&(i.checked=!0),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var n=this.element.nextSibling,r=!1;!n||"#text"!=n.nodeName&&"span"!=n.nodeName||(r=!0);var a=0,s=e("<div></div>",i);if(r){s.append(n);var o=e("<span>"+e(n).text()+"</span>");o.appendTo(e(document.body)),a+=o.width(),o.remove()}s[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()+a+10),this.height||(this.height=e(this.field).outerHeight()+10),e(this.field).hide().after(s);var l=this.host.data();if(this.host=s,this.host.data(l),this.element=s[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var d=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=d}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,n,r){t.setSize()},this.propertyChangeMap.height=function(e,i,n,r){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",n=Math.floor((parseInt(this.boxSize)-13)/2),r=n;n+="px",r+="px","13px"!=this.boxSize?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+n+"; top: "+r+'; width: 13px; height: 13px;"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var a=this.element.getAttribute("checked");"checked"!=a&&"true"!=a&&1!=a||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i="mousedown";e.jqx.mobile.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,i,function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.addHandler(this.host,i,function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1}),this.addHandler(this.host,"selectstart",function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1)}),this.addHandler(this.host,"blur",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1)}),this.addHandler(this.host,"mouseenter",function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1}),this.addHandler(this.host,"mouseleave",function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t="mousedown";e.jqx.mobile.isTouchDevice()&&(t="touchend"),this.box&&(this.removeHandler(this.box,t),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,t),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){e(this).jqxCheckBox("groupName")==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0"),this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&this.groupName.length>0?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var n=this.events[t],r=new e.Event(n);r.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,r.args=i;try{var a=this.host.trigger(r)}catch(e){}return a}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(r?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(n,r,t.host),"checked"==i&&r!=n)switch(r){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&r!=n&&(r?t.disable():t.enable())}}})}(jqxBaseFramework);var bt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return this===e.jqx._jqxSwitchButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),e.jqx.aria(this),this.render();var i=this;i.element.tabIndex||i.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var t={title:this.field.title};this.field.value&&(t.value=this.field.value),this.field.checked&&(t.checked=!0),this.field.id.length?t.id=this.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":t.id=e.jqx.utilities.createId()+"_jqxSwitchButton";var i=e("<div></div>",t);i[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(i);var n=this.host.data();if(this.host=i,this.host.data(n),this.element=i[0],this.element.id=this.field.id,this.field.id=t.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var r=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=r}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var t=e.data(document.body,"jqx-switchbutton")||1;this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),n=this._dir("size"),r=this._wrapper;if(t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(n,t[n]()+this._offLabel[this._dir("oSize")]()+e),r.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){this._thumb;var a=this._onLabel,s=this._offLabel;a.css("position","relative"),a.css("top","1px"),a.css("margin-left","1px"),s.css("position","relative"),s.css("top","1px"),s.css("left","-2px"),s.css("margin-right","1px"),s.height(a.height()-2),s.width(a.width()-3),a.height(a.height()-2),a.width(a.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),n=this._dir("size"),r=this._dir("oSize"),a=e[n]()-t[r](),s=this._borders[this._dir("opposite")]/2;this._onLabel[n](a+s),this._offLabel[n](a+s),this.rtl&&this._onLabel[n](a+2*s),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent().height(),n=e.outerHeight(),r=this._borders[this.orientation]/2||0;0==n&&(n=14);var a=Math.floor((i-n)/2)+r;e.css("margin-top",a),t.css("margin-top",a)},_removeEventHandlers:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t),this.removeHandler(this._wrapper,"focus"+t),this.removeHandler(this._wrapper,"blur"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this.host,"focus"+t,function(e){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,n=parseInt(i.css("margin-"+t._dir("pos")),10)||0;t._dropHandler(n)?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var n=t._dir("pos"),r=t._wrapper,a=t._buttonStartPosition[n]+i[n]-t._mouseStartPosition[n];a=t._validatePosition(a);return t._dragged=!0,r.css("margin-"+t._dir("pos"),a),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return 0<e?0:i>e?i:e},_dropHandler:function(e){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(t-0);return Math.abs(e-this._buttonStartPosition[this._dir("pos")])>=i*(this.switchRatio/100)},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var n=this._wrapper,r=this,a={},s=this._borders[this._dir("opposite")],o=0;void 0===t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(o=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+s,this.metroMode&&(o+=5)):this.metroMode&&(o-=3):e||(o=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+s),a["margin-"+this._dir("pos")]=-o,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),n.animate(a,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),r.checked=e,i||r._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host.find("*");e.each(t,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var n=e.Event(this._events[t]);return n.args=i,this.host.trigger(n)},_themeChanger:function(t,i,n){if(t){void 0===n&&(n=this.host);for(var r=n[0].className.split(" "),a=[],s=[],o=n.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(a.push(r[l]),s.push(r[l].replace(t,i)));this._removeOldClasses(a,n),this._addNewClasses(s,n);for(l=0;l<o.length;l+=1)this._themeChanger(t,i,e(o[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(t,i,n,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"disabled":r?t.disable():t.enable();break;case"switchRatio":t.switchRatio=parseInt(t.switchRatio,10);break;case"checked":r?t.check():t.uncheck();break;case"onLabel":t.setOnLabel(r);break;case"offLabel":t.setOffLabel(r);break;case"theme":e.jqx.utilities.setTheme(n,r,t.host);break;case"width":case"height":case"thumbSize":case"orientation":t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework);var yt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===e.jqx._jqxRibbon.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._browser=e.jqx.browser,"popup"!==this.mode&&-1===this.selectedIndex&&(this.selectedIndex=0),this._originalHTML=this.element.innerHTML,this._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){this._removeHandlers(),this.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(t){this._items[t]._disabled=!0,e(this._items[t]).addClass(this.toThemeProperty("jqx-fill-state-disabled")),t===this.selectedIndex&&this._clearSelection()},enableAt:function(t){this._items[t]._disabled=!1,e(this._items[t]).removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){this._items[e].style.display="none",this._checkScrollButtons(),e===this.selectedIndex?this._clearSelection():this._updatePositions()},showAt:function(e){"horizontal"===this._orientation?this._items[e].style.display="inline-block":this._items[e].style.display="inherit",this._checkScrollButtons(),this._updatePositions()},val:function(e){if(!e)return this.selectedIndex;this._selectAt(e)},addAt:function(t,i){var n="jqx-ribbon-item jqx-ribbon-item-"+this.position,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+this.position;this._removeHandlers();var a=document.createElement("li");a.innerHTML=i.title;var s=document.createElement("div");if("string"==typeof i.content)s.innerHTML=i.content;else if(void 0!==i.content.length)try{if(void 0!==jQuery&&i.content instanceof jQuery)e(s).append(i.content);else if(e.isArray(i.content))for(var o=0;o<i.content.length;o++)i.content[o].appendTo(s);else for(;i.content.length>0;)s.appendChild(i.content[0])}catch(e){}else s.appendChild(i.content);switch(this.position){case"top":n+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":n+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":n+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":n+=" jqx-rc-r",r+=" jqx-rc-l"}"popup"===this.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+this._orientation+"-popup"),!0===this.rtl&&(n+=" jqx-ribbon-item-rtl"),a.className=this.toThemeProperty(n),s.className=this.toThemeProperty(r),this._items.length-1>=t?(this._headerElement.insertBefore(a,this._items[t]),this._contentElement.insertBefore(s,this._contentSections[t])):(this._headerElement.appendChild(a),this._contentElement.appendChild(s)),this._updateItems(),this._addHandlers(),this._checkScrollButtons(),t<=this.selectedIndex&&this.selectedIndex<this._items.length-1&&this.selectedIndex++,this._updatePositions(),this.selectedIndex<0||(this._suppressSelectionEvents=!0,this._selectAt(this.selectedIndex,this.selectedIndex,!0))},removeAt:function(t){t===this.selectedIndex&&this._clearSelection(),e(this._items[t]).remove(),e(this._contentSections[t]).remove(),this._updateItems(!0),this._updatePositions(),this._checkScrollButtons()},updateAt:function(e,t){var i=this._items[e];i.innerHTML=t.newTitle,this._contentSections[e].innerHTML=t.newContent,i._isInitialized=!1,this.initContent&&e===this.selectedIndex&&(this.initContent(e),i._isInitialized=!0),this._updatePositions()},setPopupLayout:function(e,t,i,n){var r=this._contentSections[e];"popup"===this.mode&&(r.getAttribute("data-width")||(r.style.width&&r.setAttribute("data-width",r.style.width),r.style.height&&r.setAttribute("data-height",r.style.height)),i&&(r.style.width=this._toPx(i)),n&&(r.style.height=this._toPx(n)),r._layout=t,this._positionContent(e))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(t,i,n,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&r!==n)switch(i){case"width":case"height":t.element.style[i]=t._toPx(r),t._updateSize();break;case"position":t._render();break;case"mode":t._contentElement.style.width="auto",t._removeHandlers(null,n),t._render();break;case"selectedIndex":t._selectAt(r,n);break;case"selectionMode":t._removeHandlers(n),t._addHandlers();break;case"scrollPosition":var a=t._scrollButtonNear,s=t._scrollButtonFar;e(a).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),e(s).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),a.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),s.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),t._scrollButtonRc(a,s),t._checkScrollButtons(),t._updatePositions();break;case"disabled":!0===r?(t._removeHandlers(),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers());break;case"theme":e.jqx.utilities.setTheme(n,r,t.host);break;case"rtl":if(!0===r){t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-rtl");for(var o=0;o<t._items.length;o++)t._items[o].className+=" "+t.toThemeProperty("jqx-ribbon-item-rtl")}else{t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl"));for(var l=0;l<t._items.length;l++)e(t._items[l]).removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))}t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(t,i){var n,r=this.events[t],a=new e.Event(r);a.owner=this,a.args=i;try{n=this.host.trigger(a)}catch(e){}return n},_render:function(t){var i=this;switch(!0!==t&&i._removeHandlers(),i._selectionTokenOffsetY=0,i._browser.browser){case"mozilla":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=1;break;case"msie":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=-1,"8.0"===i._browser.version?i._selectionTokenOffsetX=1:"7.0"===i._browser.version?(i._selectionTokenOffsetX=0,"popup"!==i.mode||"bottom"!==i.position&&"right"!==i.position||(i._selectionTokenOffsetY=2)):i._selectionTokenOffsetX=0;break;default:i._browserWidthRtlFlag=1,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=0}if(!0===t){var n=i.host.children();i._headerElement=n[0],i._header=e(n[0]),i._contentElement=n[1],i._content=e(n[1]),i._checkStructure(n)}i._headerElement.style.float="none",i._contentElement.style.padding="0px",i.element.style.width=i._toPx(i.width),i.element.style.height=i._toPx(i.height),"bottom"!==i.position&&"right"!==i.position||i.element.insertBefore(i._contentElement,i._headerElement),"top"===i.position||"bottom"===i.position?i._orientation="horizontal":i._orientation="vertical","right"===i.position?i._headerElement.style.float="right":"left"===i.position&&(i._headerElement.style.float="left"),i._contentSections=i._content.children(),e.each(i._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===t&&(i._selectionToken=document.createElement("div"),i._selectionToken.className=i.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+i.position),i.element.appendChild(i._selectionToken)),i._updateItems(),!0!==i._initiallyHidden&&i._addClasses(),!0===t&&(i._appendScrollButtons(),i._checkScrollButtons()),i._allowSelection=!0,-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._positionSelectionToken(i.selectedIndex),i._contentSections[i.selectedIndex].style.display="block",i.initContent&&(i.initContent(i.selectedIndex),i._items[i.selectedIndex]._isInitialized=!0)),i.disabled?i.element.className+=" "+i.toThemeProperty("jqx-fill-state-disabled"):i._addHandlers(),e.jqx.utilities.resize(i.host,function(){i._initiallyHidden&&(i._initiallyHidden=!1,i._addClasses(),-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),i._updateSize(!0)})},_updateSize:function(e){if("7.0"===this._browser.version&&"msie"===this._browser.browser)if("horizontal"===this._orientation)this._header.css("width",this.host.width()-parseInt(this._header.css("padding-left"),10)-parseInt(this._header.css("padding-right"),10)-parseInt(this._header.css("border-left-width"),10)-parseInt(this._header.css("border-right-width"),10)),this._contentSections.width(this._content.width()-parseInt(this._contentSections.css("border-left-width"),10)-parseInt(this._contentSections.css("border-right-width"),10)-parseInt(this._contentSections.css("padding-left"),10)-parseInt(this._contentSections.css("padding-right"),10)),"default"===this.mode&&"string"==typeof this.height&&-1!==this.height.indexOf("%")&&this._contentSections.height(this._content.height()-this._header.height()-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("border-top-width"),10)-1);else if(this._header.css("height",this.host.height()-parseInt(this._header.css("padding-top"),10)-parseInt(this._header.css("padding-bottom"),10)-parseInt(this._header.css("border-top-width"),10)-parseInt(this._header.css("border-bottom-width"),10)),this._contentSections.height(this._content.height()-parseInt(this._contentSections.css("border-top-width"),10)-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("padding-top"),10)-parseInt(this._contentSections.css("padding-bottom"),10)),"default"===this.mode&&"string"==typeof this.width&&-1!==this.height.indexOf("%")){var t="left"===this.position?parseInt(this._contentSections.css("border-left-width"),10)+parseInt(this._contentSections.css("border-right-width"),10)+1:0;this._contentSections.width(this._content.width()-this._header.width()-t)}this._checkScrollButtons(!0),this._updatePositions(void 0,e),"popup"===this.mode&&this._positionPopup()},_stopAnimation:function(){if(!this._allowSelection){this.selectedIndex=this._animatingIndex;var t=e(this._contentSections[this._animatingIndex]);this._initAnimate(t),t.animate("finish"),this._clearSelection(!0,this._animatingIndex),this._allowSelection=!0}},_selectAt:function(t,i,n){var r=this;if(void 0===i&&(i=r.selectedIndex),(t!==i||!0===n)&&(r._stopAnimation(),r._allowSelection)){if(r._animatingIndex=t,-1!==r.selectedIndex&&r._clearSelection(!0,i),r._allowSelection=!1,r._selecting=t,"click"===r.selectionMode&&e(r._items[t]).removeClass(r.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===r.mode&&r._roundedCorners){var a,s;switch(r._header.removeClass(r.toThemeProperty("jqx-rc-all")),r.position){case"top":a="jqx-rc-t",s="jqx-rc-b";break;case"bottom":a="jqx-rc-b",s="jqx-rc-t";break;case"left":a="jqx-rc-l",s="jqx-rc-r";break;case"right":a="jqx-rc-r",s="jqx-rc-l"}r._headerElement.className+=" "+r.toThemeProperty(a);for(var o=0;o<r._items.length;o++)r._items[o].className+=" "+r.toThemeProperty(a),r._contentSections[o].className+=" "+r.toThemeProperty(s)}var l;switch(r._items[t].className+=" "+r.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),r._selectionToken.style.display="block",r._updatePositions(t),r.animationType){case"fade":l=e(r._contentSections[t]),r._initAnimate(l),"none"===l.css("display")?l.fadeIn({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}}):l.fadeOut({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}});break;case"slide":l=e(r._contentSections[t]);var d=r.position;"top"===d?d="up":"bottom"===d&&(d="down"),r.slideAnimation=r._slide(l,{mode:"show",direction:d,duration:r.animationDelay},t,i);break;case"none":r._contentSections[t].style.display="block",r._animationComplete(t,i)}}},_clearSelection:function(t,i){var n=this;if("popup"===n.mode&&n._roundedCorners&&(n._headerElement.className+=" "+n.toThemeProperty("jqx-rc-all")),n._selecting=-1,void 0===i&&(i=n.selectedIndex),e(n._items[i]).removeClass(n.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),n._selectionToken.style.display="none",!0!==t&&"none"!==n.animationType){var r=e(n._contentSections[i]);if("fade"===n.animationType)n._initAnimate(r),r.fadeOut({duration:n.animationDelay,complete:function(){n._clearSelectionComplete(i)}});else if("slide"===n.animationType){var a=n.position;"top"===a?a="up":"bottom"===a&&(a="down"),n._stopAnimation(),i=n.selectedIndex,n.slideAnimation=n._slide(r,{mode:"hide",direction:a,duration:n.animationDelay},i),n.selectedIndex=-1}}else{if(-1===i)return;n._contentSections[i].style.display="none",n._clearSelectionComplete(i,t)}},_addHandlers:function(){var t,i=this,n=i.element.id,r=!1;function a(e){var t=i._closest(e.target,"li"),n=t._index;i._items[n]._disabled||(n!==i.selectedIndex?i._selectAt(n):"popup"===i.mode&&"none"!==i.popupCloseMode&&(t.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),i._clearSelection()))}function s(n){if(!0===i.reorder&&!0===r){for(var a=i._closest(n.target,"li")._index,s=i._items[t].innerHTML,o=i._contentSections[t].childNodes,l=[];o.length>0;)l.push(e(o[0]).detach());i._suppressSelectionEvents=!0,i._oldReorderIndex=t,i.removeAt(t),i.clearSelection(),i.addAt(a,{title:s,content:l}),i.selectAt(a),setTimeout(function(){e(i._items[a]).trigger("mousedown")},0)}else{var d=i._closest(n.target,"li");g(d._index)&&(d.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function o(t){var n=i._closest(t.target,"li");g(n._index)&&e(n).removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function l(e){if("#document"!==e.target.nodeName){var n=i._closest(e.target,"li");!0!==i.reorder&&!0!==i._removeByDrag||n._index!==i.selectedIndex||(r=!0,t=n._index,n.style.cursor="move")}}function d(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}function h(e){var t=i._closest(e.target,"li")._index;i._items[t]._disabled||t===i.selectedIndex||i._selectAt(t)}function c(e){var t=i._closest(e.target,"li")._index;i._items[t]._disabled||"popup"===i.mode&&"none"!==i.popupCloseMode&&i._clearSelection()}function u(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}var p,m,f=function(t){if("click"===i.popupCloseMode&&"popup"===i.mode&&-1!==i.selectedIndex){if("svg"===t.target.tagName)return;var r=i._closest(t.target,void 0,"jqx-ribbon");if(void 0!==r&&r.getAttribute("id")!==n)return void i._clearSelection();if(void 0===t.target.className||-1!==t.target.className.indexOf("jqx-ribbon-content-popup"))return void i._clearSelection();if(e(t.target).ischildof(i.host))return;var a=!1,s=[],o=function(e){e.parentElement&&(s.push(e.parentElement),o(e.parentElement))};o(t.target),e.each(s,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return a=!0,!1;if(-1!==this.className.indexOf("jqx-ribbon"))return n===this.id&&(a=!0),!1}}),a||i._clearSelection()}};if("click"===i.selectionMode){for(var g=function(e){return(i._selecting!==e&&!1===i._allowSelection||(-1===i._selecting||i.selectedIndex!==e)&&!0===i._allowSelection)&&!i._items[e]._disabled},v=0;v<i._items.length;v++){var b=i._items[v];i.addHandler(b,"click.ribbon"+n,a),i.addHandler(b,"mouseenter.ribbon"+n,s),i.addHandler(b,"mouseleave.ribbon"+n,o),i.addHandler(b,"mousedown.ribbon"+n,l)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()});for(var y=0;y<i._contentSections.length;y++)i.addHandler(i._contentSections[y],"mouseleave.ribbon"+n,d);i.addHandler(e(document),"mousedown.ribbon"+n,function(e){f(e)})}if(!0===i._removeByDrag)for(var _=0;_<i._items.length;_++)i._items[_].className+=" "+i.toThemeProperty("jqx-ribbon-item-docking-layout");i.addHandler(document,"mouseup.ribbon"+n,function(){r=!1;for(var e=0;e<i._items.length;e++)i._items[e].style.cursor=""}),i.addHandler(i._header,"mouseleave.ribbon"+n,function(e){!0===i._removeByDrag&&!0===r&&(i._raiseEvent("3",{draggedIndex:t,x:e.pageX,y:e.pageY}),i._items.length>1&&i.removeAt(t),r=!1,e.target.style.cursor="")})}else if("hover"===i.selectionMode){for(var w=0;w<i._items.length;w++){var x=i._items[w];i.addHandler(x,"mouseenter.ribbon"+n,h),"popup"===i.mode&&i.addHandler(x,"click.ribbon"+n,c)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()});for(var C=0;C<i._contentSections.length;C++)i.addHandler(i._contentSections,"mouseleave.ribbon"+n,u);i.addHandler(e(document),"mousedown.ribbon"+n,function(e){f(e)})}}e.jqx.mobile.isTouchDevice()?(p="touchstart",m="touchend"):(p="mousedown",m="mouseup"),i.addHandler(i._scrollButtonNear,p+".ribbon"+n,function(){return"horizontal"===i._orientation?i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1;i._headerElement.scrollLeft=e-i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollTop;i._headerElement.scrollTop=e-i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(i._scrollButtonFar,p+".ribbon"+n,function(){return"horizontal"===i._orientation?i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1;i._headerElement.scrollLeft=e+i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollTop;i._headerElement.scrollTop=e+i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(e(document),m+".ribbon"+n,function(){clearInterval(i._timeoutNear),clearInterval(i._timeoutFar)})},_removeHandlers:function(t,i){var n,r,a=this.element.id;t||(t=this.selectionMode),i||(i=this.mode);for(var s=0;s<this._items.length;s++){var o=this._items[s];this.removeHandler(o,"mouseenter.ribbon"+a),"click"===t&&(this.removeHandler(o,"click.ribbon"+a),this.removeHandler(o,"mouseleave.ribbon"+a),this.removeHandler(o,"mousedown.ribbon"+a))}"click"===t?(this.removeHandler(document,"mouseup.ribbon"+a),this.removeHandler(this._header,"mouseleave.ribbon"+a)):"hover"===t&&"popup"===i&&this.removeHandler(this.host,"mouseleave.ribbon"+a),e.jqx.mobile.isTouchDevice()?(n="touchstart",r="touchend"):(n="mousedown",r="mouseup"),this.removeHandler(this._scrollButtonNear,n+".ribbon"+a),this.removeHandler(this._scrollButtonFar,n+".ribbon"+a),this.removeHandler(e(document),r+".ribbon"+a)},_checkStructure:function(e){if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(this._header.children().length!==this._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var t,i,n,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+this.position,a="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+this._orientation,s="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+this._orientation,o="jqx-ribbon-item jqx-ribbon-item-"+this.position;if(this._content.removeClass(),this._header.removeClass(this.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+this._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),this.host.removeClass(),this._roundedCorners)switch(this.position){case"top":s+=" jqx-rc-t",o+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":s+=" jqx-rc-b",o+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":s+=" jqx-rc-l",o+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":s+=" jqx-rc-r",o+=" jqx-rc-r",r+=" jqx-rc-l"}else switch(this.position){case"top":o+=" jqx-rc-t";break;case"bottom":o+=" jqx-rc-b";break;case"left":o+=" jqx-rc-l";break;case"right":o+=" jqx-rc-r"}!0===this.rtl&&(s+=" jqx-ribbon-header-rtl",o+=" jqx-ribbon-item-rtl"),this.element.className+=" "+this.toThemeProperty("jqx-widget jqx-ribbon"),this._headerElement.className+=" "+this.toThemeProperty(s),this._contentElement.className+=" "+this.toThemeProperty(a);for(var l=0;l<this._items.length;l++){var d=e(this._contentSections[l]),h=e(this._items[l]);d.removeClass(),h.removeClass(this.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+this.position)),"popup"===this.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+this.position+" jqx-ribbon-content-section-"+this._orientation+"-popup"),this._contentSections[l].className+=" "+this.toThemeProperty(r),this._items[l].className+=" "+this.toThemeProperty(o)}("popup"===this.mode?(-1===this.selectedIndex&&this._roundedCorners&&(this.element.className+=" "+this.toThemeProperty("jqx-rc-all"),this._headerElement.className+=" "+this.toThemeProperty("jqx-rc-all")),this.element.className+=" "+this.toThemeProperty("jqx-ribbon-popup"),this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-"+this._orientation+"-popup"),this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-popup"),this._positionPopup()):"horizontal"===this._orientation?"auto"!==this.height?(i=this._headerElement.offsetHeight,"top"===this.position?this._contentElement.style.paddingTop=this._toPx(i):this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-bottom")):this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===this._orientation&&("auto"!==this.width?(t=this._headerElement.offsetWidth,"left"===this.position?this._contentElement.style.paddingLeft=this._toPx(t):(this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-right"),this._contentElement.style.paddingRight=this._toPx(t))):(this.element.className+=" "+this.toThemeProperty("jqx-ribbon-auto"),this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-auto"),this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-auto-width"))),"7.0"===this._browser.version&&"msie"===this._browser.browser)&&("horizontal"===this._orientation?(this._header.css("width",this.host.width()-parseInt(this._header.css("padding-left"),10)-parseInt(this._header.css("padding-right"),10)-parseInt(this._header.css("border-left-width"),10)-parseInt(this._header.css("border-right-width"),10)),this._items.height(this._items.height()-parseInt(this._items.css("padding-top"),10)-parseInt(this._items.css("padding-bottom"),10)-parseInt(this._items.css("border-top-width"),10)-parseInt(this._items.css("border-bottom-width"),10)),this._contentSections.width(this._contentSections.width()-parseInt(this._contentSections.css("border-left-width"),10)-parseInt(this._contentSections.css("border-right-width"),10)-parseInt(this._contentSections.css("padding-left"),10)-parseInt(this._contentSections.css("padding-right"),10)),"default"===this.mode&&"auto"!==this.height&&("top"===this.position?this._contentSections.css("padding-top",i):this._contentSections.css("padding-bottom",i),this._content.css("height",this.host.height()+2),this._contentSections.css("height",this._content.height()-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("border-top-width"),10)-1))):("left"===this.position?(this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-left"),n=parseInt(this._contentSections.css("border-left-width"),10)+parseInt(this._contentSections.css("border-right-width"),10)+1):(this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-right"),n=0),this._header.css("height",this.host.height()-parseInt(this._header.css("padding-top"),10)-parseInt(this._header.css("padding-bottom"),10)-parseInt(this._header.css("border-top-width"),10)-parseInt(this._header.css("border-bottom-width"),10)),this._items.width(this._items.width()-parseInt(this._items.css("padding-left"),10)-parseInt(this._items.css("padding-right"),10)-parseInt(this._items.css("border-left-width"),10)-parseInt(this._items.css("border-right-width"),10)),this._contentSections.height(this._contentSections.height()-parseInt(this._contentSections.css("border-top-width"),10)-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("padding-top"),10)-parseInt(this._contentSections.css("padding-bottom"),10)),"default"===this.mode&&"auto"!==this.width&&("left"===this.position?this._contentSections.css("padding-left",t):this._contentSections.css("padding-right",t),this._contentSections.width(this._content.width()-this._header.width()-n))))},_positionPopup:function(){var e="7.0"===this._browser.version&&"msie"===this._browser.browser;switch(this.position){case"top":this._contentElement.style.top=this._toPx(this._headerElement.offsetHeight);break;case"bottom":this._contentElement.style.bottom=e?this._toPx(this._height(this._headerElement)):this._toPx(this._headerElement.offsetHeight);break;case"left":this._contentElement.style.left=this._toPx(this._headerElement.offsetWidth);break;case"right":this._contentElement.style.right=this._header.outerWidth()+"px"}},_appendScrollButtons:function(){var e=this,t="horizontal"===e._orientation?["left","right"]:["up","down"];function i(t,i,n){t.className=e.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+e.position+" jqx-ribbon-scrollbutton-"+e.scrollPosition+" jqx-widget-header "+i),t.innerHTML='<div class="'+e.toThemeProperty("jqx-ribbon-scrollbutton-inner "+n)+'"></div>',"horizontal"===e._orientation?t.style.height=e._toPx(e._height(e._headerElement)):t.style.width=e._toPx(e._width(e._headerElement)),e.element.appendChild(t)}var n=document.createElement("div");i(n,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+t[0]);var r=document.createElement("div");if(i(r,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+t[1]),e._scrollButtonRc(n,r),e._scrollButtonNear=n,e._scrollButtonFar=r,e.roundedCorners)switch(e.position){case"top":case"bottom":n.style.marginLeft="-1px",r.style.marginRight="-1px";break;case"right":case"left":n.style.marginTop="-1px",r.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){if(this.roundedCorners)switch(this.position){case"top":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-bl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tr")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[n]._index===i.selectedIndex&&(i.selectedIndex=n)}var i=this;i._items=i._header.children(),i._contentSections=i._content.children();for(var n=0;n<i._items.length;n++){var r=i._items[n];r.setAttribute("unselectable","on"),void 0===r._index&&(r._disabled=!1,r._isInitialized=!1,i._contentSections[n]._layout="default"),!0===e&&t(),r._index=n,!0!==e&&t(),i._contentSections[n]&&(i._contentSections[n]._index=n)}},_positionContent:function(t){var i,n,r,a,s,o,l=this,d=l._contentSections[t];"horizontal"===l._orientation?(i=l.element.offsetWidth,n=l.host.offset().left,r=l._items[t].offsetWidth,a=e(l._items[t]).offset().left,s=d.offsetWidth||parseInt(d.style.width,10),o="left"):(i=l.element.offsetHeight,n=l.host.offset().top,r=l._items[t].offsetHeight,a=e(l._items[t]).offset().top,s=d.offsetHeight||parseInt(d.style.height,10),o="top");var h=function(e){e<0?e=0:e+s>i&&(e=i-s),d.style[o]=l._toPx(e)};switch(d._layout){case"near":h(a-n);break;case"far":h(a-n-(s-r));break;case"center":h(a-n-(s-r)/2);break;default:if("right"===l.position)for(var c=0;c<l._contentSections.length;c++)l._contentSections[c].style.right="1px";else d.style[o]=""}},_checkScrollButtons:function(t){var i=this,n=0;e.each(i._items,function(){var t=e(this);"none"!==t.css("display")&&(n+="horizontal"===i._orientation?t.outerWidth(!0):t.outerHeight(!0))});var r="horizontal"===i._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],a="horizontal"===i._orientation?i._width(i._headerElement):i._height(i._headerElement);if(i._itemMargins||(i._itemMargins=[],i._itemMargins.push(e(i._items[0]).css(r[0])),i._itemMargins.push(e(i._items[i._items.length-1]).css(r[1]))),n>a){i._scrollButtonNear.style.display="block",i._scrollButtonFar.style.display="block";var s=i.rtl?i._itemMargins[0]:17,o=i.rtl?i._itemMargins[0]:17;switch(i.scrollPosition){case"near":o=0,s=34;break;case"far":o=34,s=17}i._items[0]&&(i._items[0].style[r[0]]=i._toPx(s)),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(o))}else i._items[0]&&(i._items[0].style[r[0]]=i._toPx(i._itemMargins[0])),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(i._itemMargins[1])),i._scrollButtonNear.style.display="none",i._scrollButtonFar.style.display="none";if(!0===t)if("horizontal"===i._orientation){var l=i._toPx(i._height(i._headerElement));i._scrollButtonNear.style.height=l,i._scrollButtonFar.style.height=l}else{var d=i._toPx(i._width(i._headerElement));i._scrollButtonNear.style.width=d,i._scrollButtonFar.style.width=d}},_positionSelectionToken:function(t){if(-1!==t){var i,n,r,a,s,o=e(this._items[t]);if(0===o.length)return;if("horizontal"===this._orientation){var l,d;!0===this.rtl?(l=1===this._browserWidthRtlFlag?this._headerElement.scrollWidth-this._headerElement.clientWidth:0,d=this._browserScrollRtlFlag):(l=0,d=1),r=o[0].offsetLeft+l-this._headerElement.scrollLeft*d-this._selectionTokenOffsetX+2,s=this._headerElement.offsetHeight-1;var h=this._width(o[0])+parseInt(o.css("padding-left"),10)+parseInt(o.css("padding-right"),10);"top"===this.position?(i=s-this._selectionTokenOffsetY,n=""):(i="",n=s-this._selectionTokenOffsetY),this._selectionToken.style.top=this._toPx(i),this._selectionToken.style.bottom=this._toPx(n),this._selectionToken.style.left=this._toPx(r),this._selectionToken.style.width=this._toPx(h)}else{i=o[0].offsetTop-this._headerElement.scrollTop-this._selectionTokenOffsetX+2,s=this._headerElement.offsetWidth-1;var c=this._height(o[0])+parseInt(o.css("padding-top"),10)+parseInt(o.css("padding-bottom"),10);"left"===this.position?(r=s-this._selectionTokenOffsetY,a=""):(r="",a=s-this._selectionTokenOffsetY),this._selectionToken.style.top=this._toPx(i),this._selectionToken.style.left=this._toPx(r),this._selectionToken.style.right=this._toPx(a),this._selectionToken.style.height=this._toPx(c)}}},_updatePositions:function(e,t){if(isNaN(e)&&(e=!0===t&&null!==this._selecting&&this._selecting>=0?this._selecting:this.selectedIndex),-1!==e&&(this._positionSelectionToken(e),"popup"===this.mode&&"default"!==this._contentSections[e]._layout&&this._positionContent(e),"popup"===this.mode&&("left"===this.position||"right"===this.position))){this._contentElement.style.width="auto";var i=this._contentSections[e].style.width&&this._contentSections[e].style.width.indexOf("%")>=0;this._contentElement.style.width=i?this._toPx(this._width(this._contentSections[e])-this._width(this._headerElement)):this._toPx(this._width(this._contentSections[e]))}},_animationComplete:function(e,t){var i=-1!==t?t:null;this._contentElement.style.pointerEvents="auto",this.selectedIndex=e,!0!==this._suppressSelectionEvents?(this._raiseEvent("0",{selectedIndex:e}),this._raiseEvent("2",{unselectedIndex:i,selectedIndex:e})):(!0!==this._suppressReorder&&void 0!==this._oldReorderIndex&&e!==this._oldReorderIndex&&this._raiseEvent("4",{newIndex:e,oldIndex:this._oldReorderIndex}),this._suppressSelectionEvents=!1,this._suppressReorder=!1),this.initContent&&!1===this._items[e]._isInitialized&&(this.initContent(e),this._items[e]._isInitialized=!0),this._allowSelection=!0,this._selecting=null},_clearSelectionComplete:function(e,t){this._selecting=null,void 0===e&&(e=this.selectedIndex),-1!==e&&(this._contentElement.style.pointerEvents="none",!0!==this._suppressSelectionEvents&&this._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(this.selectedIndex=-1)},_slide:function(t,i,n,r){var a=this;if(a.activeAnimations||(a.activeAnimations=[]),a.activeAnimations.length>0)for(var s=0;s<a.activeAnimations.length;s++)a.activeAnimations[s].clearQueue(),a.activeAnimations[s].finish();else t.clearQueue(),t.animate("finish");var o,l=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data("ui-effects-"+t[i],e[0].style[t[i]])},d=function(e,t){var i,n;for(n=0;n<t.length;n++)null!==t[n]&&(void 0===(i=e.data("ui-effects-"+t[n]))&&(i=""),e.css(t[n],i))},h=function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(n),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},c=function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},u=["position","top","bottom","left","right","width","height"],p=i.mode,m="show"===p,f=i.direction||"left",g="up"===f||"down"===f?"top":"left",v="up"===f||"left"===f,b={};l(t,u),t.show(),o=i.distance||t["top"===g?"outerHeight":"outerWidth"](!0),h(t).css({overflow:"hidden"}),m&&t.css(g,v?isNaN(o)?"-"+o:-o:o),b[g]=(m?v?"+=":"-=":v?"-=":"+=")+o;return a.activeAnimations.push(t),t.animate(b,{duration:i.duration,easing:i.easing,complete:function(){a.activeAnimations.pop(t),"show"===p?a._animationComplete(n,r):"hide"===p&&(t.hide(),a._clearSelectionComplete(n)),d(t,u),c(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(t){var i=e(t),n=i.css("border-left-width"),r=i.css("border-right-width"),a=parseInt(i.css("padding-left"),10),s=parseInt(i.css("padding-right"),10),o="none"===i.css("display");o&&(t.style.display="block"),n=-1===n.indexOf("px")?1:parseInt(n,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var l=t.offsetWidth-(n+r+a+s);return o&&(t.style.display="none"),Math.max(0,l)},_height:function(t){var i=e(t),n=i.css("border-top-width"),r=i.css("border-bottom-width"),a=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);n=-1===n.indexOf("px")?1:parseInt(n,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var o=t.offsetHeight-(n+r+a+s);return Math.max(0,o)},_closest:function(e,t,i){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var n=e.parentNode;null!==n&&"#document"!==n.nodeName;){if(n.nodeName.toLowerCase()===t)return n;n=n.parentNode}}if(i){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return e;for(var r=e.parentNode;null!==r&&"#document"!==r.nodeName;){if((" "+r.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return r;r=r.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework);var _t=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxProgressBar","",{}),e.extend(e.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===e.jqx._jqxProgressBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),e.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):(null==this.width||isNaN(this.width),this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):(null==this.height||isNaN(this.height),this.host.height(this.height)),this.valueDiv=e("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=e("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=e("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,n=0;n<i;n++){var r=t[n].stop,a=t[n].color;this._createColorElements(r,a,e,i-n,n)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,n=0;n<this.colorRanges.length;n++){var r=this.colorRanges[n].element;if(!r)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var a=this.colorRanges[n].stop;a>Math.min(this.max,this.value)&&(a=Math.min(this.max,this.value));var s,o=100*(a-this.min)/(this.max-this.min);s=i?t*o/100:e*o/100,s+="px",i?(r.css("height",s),"reverse"==this.layout?r.css("bottom",0):r.css("top",0)):(r.css("width",s),(this.rtl||"reverse"==this.layout)&&r.css("right","0px"))}},_createColorElements:function(t,i,n,r,a){var s;t>Math.min(this.max,this.value)&&(t=Math.min(this.max,this.value));var o=100*t/this.max;this.host.width(),this.host.height();s=n?this.host.outerHeight()*o/100:this.host.outerWidth()*o/100,s+="px";var l,d=e(this.valueDiv).parent()[0];(d.style.position="relative",n=n||!1)?((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width","100%"),l.css("height",s),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),"reverse"==this.layout?l.css("bottom",0):l.css("top",0),l.appendTo(d)):((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width",s),l.css("height","100%"),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),l.css("top","0px"),this.rtl&&l.css("right","0px"),l.appendTo(d));this.colorRanges[a].element=l},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,i,n){if(null!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],a=new e.Event(r);return a.previousValue=i,a.currentValue=n,a.owner=this,this.host.trigger(a)}},actualValue:function(t){return void 0===t?this._value():(e.jqx.aria(this,"aria-valuenow",t),e.jqx.setvalueraiseevent(this,"value",t),this._value())},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(t,i,n,r){if(this.isInitialized&&n!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){"colorRanges"==i&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),"min"==i&&t.value<r?t.value=r:"max"==i&&t.value>r&&(t.value=r),"value"===i&&null!=this.value&&(this.value=r,this.oldValue=n,e.jqx.aria(t,"aria-valuenow",r),(r<this.min||r>this.max)&&this._raiseevent(1,n,r),this.refresh()),"theme"==i&&e.jqx.utilities.setTheme(n,r,t.host),"renderText"==i||"orientation"==i||"layout"==i||"showText"==i||"min"==i||"max"==i?this.refresh():"width"==i&&null!=this.width?null==this.width||isNaN(this.width)||(this.host.width(this.width),this.refresh()):"height"==i&&null!=this.height&&(null==this.height||isNaN(this.height)||(this.host.height(this.height),this.refresh())),"disabled"==i&&this.refresh()}},_value:function(){var e=this.value;if("number"!=typeof e){var t=parseInt(e);e=isNaN(t)?0:t}return Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var n=i.width();return i.remove(),n},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var n=i.height();return i.remove(),n},_initialRender:!0,refresh:function(t){if(!0!==t){var i=this.actualValue(),n=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e(this.element.children[0]).show(),!isNaN(i)&&!isNaN(n)){this.oldValue!==i&&(this._raiseevent(0,this.oldValue,i),this._raiseevent(3,this.oldValue,i),this.oldValue=i);var r=this.oldValue,a=this.host.outerHeight(),s=this.host.outerWidth();null!=this.width&&(s=parseInt(this.width)),null!=this.height&&(a=parseInt(this.height)),this._refreshColorElements();var o=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight());isNaN(n)&&(n=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var l=this;try{var d=this.element.children[0];if(e(d)[0].style.position="relative","horizontal"==this.orientation){e(d).toggle(i>=this.min);s=this.host.outerWidth()*n/100;var h=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(e(d)[0].style.left=this.host.width()+"px",e(d)[0].style.width=0),h=this.host.outerWidth()-s),e(d).stop(),e(d).animate({width:s,left:h+"px"},this.animationDuration,function(){l._value()===l.max&&l._raiseevent(2,r,l.max)})}else{e(d).toggle(i>=this.min);a=this.host.height()*n/100;var c=0;"reverse"==this.layout&&(this._initialRender&&(e(d)[0].style.top=this.host.height()+"px",e(d)[0].style.height=0),c=this.host.height()-a),e(d).stop(),e(d).animate({height:a,top:c+"px"},this.animationDuration,function(){var t=l._percentage();isNaN(t)&&(t=0),t.toFixed(0)==l.min&&(e(d).hide(),l._value()===l.max&&l._raiseevent(2,r,l.max))})}}catch(e){}this._initialRender=!1,this.feedbackElement.html(n.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(n.toFixed(0)+"%",n)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var u=this.feedbackElement.height(),p=this.feedbackElement.width(),m=Math.floor(o-parseInt(p)/2);this.feedbackElement.css({left:m,"margin-top":-parseInt(u)/2+"px"})}}}})}(jqxBaseFramework);var wt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===e.jqx._jqxTooltip.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var t=e.data(document.body,"_tooltipIDArray"+this.name);t?this.IDArray=t:(this.IDArray=[],e.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var i="jqxtooltip"+this._generatekey();this.IDArray.push({tooltipID:i,tooltipHost:this.host});var n=document.createElement("div");n.setAttribute("id",i),n.innerHTML='<div id="'+i+'Main"><div id="'+i+'Text"></div></div><div id="'+i+'Arrow"></div>',e.jqx.browser.msie&&(n.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(n),this._tooltip=n,this._tooltipHelper=e(n),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),n.style.visibility="hidden",n.style.display="none",n.style.opacity=0,n.style.zIndex=99999;var r=document.getElementById(i+"Arrow");this._arrow=r,!1===this.showArrow&&(r.style.visibility="hidden",r.style.display="none"),this._main=document.getElementById(i+"Main"),this._text=document.getElementById(i+"Text"),this._setTheme(),this._setSize(),this._setContent(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),!1===this.disabled&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this,n=e.jqx.browser.msie&&e.jqx.browser.version<9;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var r=parseFloat(i._tooltip.style.opacity),a=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},t,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})};!1!==this._isOpen||0===r?!0===this._isOpen&&(!n&&r===this.opacity||n)&&a():a()},destroy:function(){var e=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var t=0;t<e;t++)if(this.IDArray[t].tooltipHost===this.host){this.IDArray.splice(t,1);break}this.host.removeData("jqxTooltip")},refresh:function(e){if(!0!==e){var t=this;this.rtl&&(t._text.className+=" "+t.toThemeProperty("jqx-rtl"),t._text.style.direction="rtl");var i=parseFloat(t._tooltip.style.opacity);"removed"!==this._id()&&(!0===this.disabled&&!0===this._isOpen&&i===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,n){"content"===t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var n,r=this.events[t],a=new e.Event(r);a.owner=this,a.args=i;try{n=this.host.trigger(a)}catch(e){}return n},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t=this.IDArray.length,i=0;i<t;i++)if(this.IDArray[i].tooltipHost===this.host){e="#"+this.IDArray[i].tooltipID;break}return void 0===e&&(e="removed"),e},_setPosition:function(t){var i=this,n=i._tooltip;if(!1===this._isOpen&&0===parseFloat(n.style.opacity)||!0===this.changeContentFlag){if(!t&&("mouse"===this.position||"mouseenter"===this.position))return;n.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=i.element.offsetWidth,this.hostHeight=i.element.offsetHeight,this.tooltipWidth=n.offsetWidth,this.tooltipHeight=n.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=i._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var r,a=i._arrow,s=e(a),o=i._main,l=e(o),d=o.offsetWidth,h=o.offsetHeight;switch(this.arrowSize=5,this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":r=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h/2-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+o.offsetHeight/2-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":i._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),a.style.borderWidth="0px";break;case"mouse":if(!1===this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){i.tooltipOffset.left=t.pageX+10,i.tooltipOffset.top=t.pageY+10,i._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=t.pageX+10,this.tooltipOffset.top=t.pageY+10,this._detectBrowserBounds()}else{var c,u=t.pageX,p=t.pageY;if(t.originalEvent)t.originalEvent.touches&&t.originalEvent.touches.length?c=t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length&&(c=t.originalEvent.changedTouches[0]),void 0!==c&&(u=c.pageX,p=c.pageY);this.tooltipOffset.left=u+10,this.tooltipOffset.top=p+10,this._detectBrowserBounds()}a.style.borderWidth="0px";break;case"mouseenter":var m={top:t.pageY,left:t.pageX};m.top<this.hostOffset.top+10&&m.top>this.hostOffset.top-10?(this.tooltipOffset.left=m.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.top<this.hostOffset.top+this.hostHeight+10&&m.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=m.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.left<this.hostOffset.left+10&&m.left>this.hostOffset.left-10?(r=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=m.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h/2-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.left<this.hostOffset.left+this.hostWidth+10&&m.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=m.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h/2-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,s.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=parseFloat(this._tooltip.style.opacity);if(!1===this._isOpen&&0===t){var i=this;if(i._tooltip.style.visibility="visible",i._tooltip.style.display="block",i._tooltip.style.opacity=0,this.opening)if(!1===this.opening(this))return;i._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0,i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&!0===i.autoHide&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var t=this,i=this.host;if(this.selector&&(i=e("#"+this.selector)),!1===this._isTouchDevice)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(i,"mousemove.tooltip",function(e){1===t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(i,"mouseenter.tooltip",function(){0!==t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(i,"mouseleave.tooltip",function(e){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var i=t._tooltipHelper.offset(),n=t._tooltip.offsetWidth,r=t._tooltip.offsetHeight;(parseInt(e.pageX,10)<parseInt(i.left,10)||parseInt(e.pageX,10)>parseInt(i.left,10)+n)&&t.close(),(parseInt(e.pageY,10)<parseInt(i.top,10)||parseInt(e.pageY,10)>parseInt(i.top,10)+r)&&t.close()}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(i,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(i,"mouseleave.tooltip",function(e){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var i=e.pageX,n=e.pageY,r=t._tooltipHelper.offset(),a=r.left,s=r.top,o=t._tooltip.offsetWidth,l=t._tooltip.offsetHeight;(parseInt(i,10)<parseInt(a,10)||parseInt(i,10)>parseInt(a,10)+o||parseInt(n,10)<parseInt(s,10)||parseInt(n,10)>parseInt(s,10)+l)&&t.close()}}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(i,"click.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}else"none"!==this.trigger&&this.addHandler(i,"touchstart.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var e=this,t=parseFloat(e._tooltip.style.opacity);!0===this.autoHide&&!0===this._isOpen&&t>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var e=this;this.addHandler(e._tooltipHelper,"click.tooltip",function(t){e._checkBoundariesClick(t),e.close()})},_setSize:function(){this._tooltip.style.width=this._toPx(this.width),this._tooltip.style.height=this._toPx(this.height)},resize:function(){this._setSize()},_setTheme:function(){this._tooltip.className+=" "+this.toThemeProperty("jqx-tooltip jqx-popup"),this._main.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),this._text.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),this._arrow&&(this._arrow.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?e.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?e.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var t=this.IDArray[e].tooltipID,i=document.getElementById(t);i!==this._tooltip&&(i.style.opacity=0,i.style.visibility="hidden",i.style.display="none",this._isOpen=!1)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework);var xt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxDropDownList.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){(l=this).width||(l.width=200),l.height||(l.height=25);var t=l.element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){l.field=l.element,l.field.className&&(l._className=l.field.className);var i={title:l.field.title};l.field.id.length?i.id=l.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":i.id=e.jqx.utilities.createId()+"_jqxDropDownList";var n=e("<div></div>",i);l.width||(l.width=e(l.field).width()),l.height||(l.height=e(l.field).outerHeight()),n[0].style.cssText=l.field.style.cssText,e(l.field).hide().after(n);var r=l.host.data();if(l.host=n,l.host.data(r),l.element=n[0],l.element.id=l.field.id,l.field.id=i.id,l._className&&(l.host.addClass(l._className),e(l.field).removeClass(l._className)),l.field.tabIndex){var a=l.field.tabIndex;l.field.tabIndex=-1,l.element.tabIndex=a}var s=e.jqx.parseSourceTag(l.field);l.source=s.items,-1==l.selectedIndex&&(l.selectedIndex=s.index)}else if(l.host.find("li").length>0||l.host.find("option").length>0){s=e.jqx.parseSourceTag(this.element);l.source=s.items}l.element.innerHTML="",l.isanimating=!1,l.id=l.element.id||e.jqx.utilities.createId(),l.host.attr("role","combobox"),e.jqx.aria(l,"aria-autocomplete","both"),e.jqx.aria(l,"aria-readonly",!1);var o="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||null==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");l.host.attr("tabindex")||l.host.attr("tabindex",0);l.touch=e.jqx.mobile.isTouchDevice(),l.comboStructure=o,l.element.innerHTML=o,l.dropdownlistWrapper=e(l.element.firstChild.firstChild),l.dropdownlistArrow=e(l.dropdownlistWrapper[0].firstChild.nextSibling),l.arrow=e(l.dropdownlistArrow[0].firstChild),l.dropdownlistContent=e(l.dropdownlistWrapper[0].firstChild),l.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),l.rtl&&l.dropdownlistContent.addClass(l.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),l.addHandler(l.dropdownlistWrapper,"selectstart",function(){return!1}),l.dropdownlistWrapper[0].id="dropdownlistWrapper"+l.element.id,l.dropdownlistArrow[0].id="dropdownlistArrow"+l.element.id,l.dropdownlistContent[0].id="dropdownlistContent"+l.element.id,l._addInput(),"Please Choose:"!=l.promptText&&(l.placeHolder=l.promptText);var l,d=l.toThemeProperty("jqx-widget")+" "+l.toThemeProperty("jqx-dropdownlist-state-normal")+" "+l.toThemeProperty("jqx-rc-all")+" "+l.toThemeProperty("jqx-fill-state-normal");l.element.className+=" "+d,l._firstDiv=e(l.element.firstChild);try{var h="listBox"+l.id,c=e(e.find("#"+h));c.length>0&&c.remove(),e.jqx.aria(l,"aria-owns",h),e.jqx.aria(l,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+l.id+"'><div id='innerListBox"+l.id+"'></div></div>");u.hide(),"element"==l.dropDownContainer?u.appendTo(l.host):u.appendTo(document.body),l.container=u,l.listBoxContainer=e(e.find("#innerListBox"+l.id));var p=l.width;"auto"!=l.dropDownWidth&&(p=l.dropDownWidth),null==p&&0==(p=l.host.width())&&(p=l.dropDownWidth),null==l.dropDownHeight&&(l.dropDownHeight=200);l.container.width(parseInt(p)+25),l.container.height(parseInt(l.dropDownHeight)+25),l._ready=!1,l.addHandler(l.listBoxContainer,"bindingComplete",function(t){l.listBox||(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance),l.selectedIndex!=l.listBoxContainer.jqxListBox("selectedIndex")?(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBoxContainer.jqxListBox({selectedIndex:l.selectedIndex}),l.renderSelection("mouse")):l.renderSelection("mouse"),l._ready||(l.ready&&l.ready(),l._ready=!0),l._raiseEvent("6")}),l.addHandler(l.listBoxContainer,"itemAdd",function(e){l._raiseEvent("7",e.args)}),l.addHandler(l.listBoxContainer,"itemRemove",function(e){l._raiseEvent("8",e.args)}),l.addHandler(l.listBoxContainer,"itemUpdate",function(e){l._raiseEvent("9",e.args)}),l.listBoxContainer.jqxListBox({filterHeight:l.filterHeight,filterPlaceHolder:l.filterPlaceHolder,filterDelay:l.filterDelay,autoItemsHeight:l.autoItemsHeight,filterable:l.filterable,allowDrop:!1,allowDrag:!1,autoBind:l.autoBind,_checkForHiddenParent:!1,focusable:l.focusable,touchMode:l.touchMode,checkboxes:l.checkboxes,rtl:l.rtl,_renderOnDemand:!0,emptyString:l.emptyString,itemHeight:l.itemHeight,width:p,searchMode:l.searchMode,incrementalSearch:l.incrementalSearch,incrementalSearchDelay:l.incrementalSearchDelay,groupMember:l.groupMember,searchMember:l.searchMember,displayMember:l.displayMember,valueMember:l.valueMember,height:l.dropDownHeight,autoHeight:l.autoDropDownHeight,scrollBarSize:l.scrollBarSize,selectedIndex:l.selectedIndex,source:l.source,theme:l.theme,rendered:function(){l.selectedIndex!=l.listBoxContainer.jqxListBox("selectedIndex")?(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBoxContainer.jqxListBox({selectedIndex:l.selectedIndex}),l.renderSelection("mouse")):l.renderSelection("mouse")},renderer:l.renderer,filterChange:function(e){l.autoDropDownHeight&&l.container.height(l.listBoxContainer.height()+25)}}),"element"===l.dropDownContainer?l.listBoxContainer.css({position:"absolute",top:0,left:0}):l.listBoxContainer.css({position:"absolute",zIndex:l.popupZIndex,top:0,left:0}),l.template&&l.listBoxContainer.addClass(l.toThemeProperty("jqx-"+l.template+"-item")),l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBox.enableSelection=l.enableSelection,l.listBox.enableHover=l.enableHover,l.listBox.equalItemsWidth=l.equalItemsWidth,l.listBox.selectIndex(l.selectedIndex),l.listBox._arrange(),l.listBoxContainer.addClass(l.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&l.listBoxContainer.addClass(l.toThemeProperty("jqx-noshadow")),l.addHandler(l.listBoxContainer,"unselect",function(e){l._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),l.addHandler(l.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?l._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(l.isOpened()||l._raiseEvent("4",{index:l.selectedIndex,type:"keyboard",item:l.getItem(l.selectedIndex)})))}),"none"==l.animationType?l.container.css("display","none"):l.container.hide()}catch(e){console&&console.log(e)}if((l=l).propertyChangeMap.disabled=function(t,i,n,r){r?(t.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},l.disabled&&(l.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),l.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==l.dropDownVerticalAlignment?l.arrow.addClass(l.toThemeProperty("jqx-icon-arrow-up")):l.arrow.addClass(l.toThemeProperty("jqx-icon-arrow-down")),l.arrow.addClass(l.toThemeProperty("jqx-icon")),"simple"===l.renderMode&&(l.arrow.remove(),l.host.removeClass(l.toThemeProperty("jqx-fill-state-normal")),l.host.removeClass(l.toThemeProperty("jqx-rc-all"))),l.template&&l.host.addClass(l.toThemeProperty("jqx-"+l.template)),l._updateHandlers(),l._setSize(),l._arrange(),l.listBox&&l.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&l.host.parents(".jqx-window").length>0){var m=l.host.parents(".jqx-window").css("z-index");u.css("z-index",m+10),l.listBoxContainer.css("z-index",m+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";if(this.input&&(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length))return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout(function(){t()},10)}catch(e){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.element.style.height=this.height);var i=this;if(t){var n=this.host.width();"auto"!=this.dropDownWidth&&(n=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:n}),this.container.width(parseInt(n)+25)}e.jqx.utilities.resize(this.host,function(){!function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}}()},!1,this._checkForHiddenParent)},isOpened:function(){var t=e.data(document.body,"openedJQXListBox"+this.id);return null!=t&&t==this.listBoxContainer},_updateHandlers:function(){var t=this;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){t.isOpened()&&t.close()});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,i,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),n=i.top,r=i.left,a=t.container.coord(),s=a.left,o=a.top,l=!0;e.pageY>=n&&e.pageY<=n+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(l=!1),e.pageY>=o&&e.pageY<=o+t.container.height()&&e.pageX>=s&&e.pageX<s+t.container.width()&&(l=!1),l&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),null!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(!1===t._kbnavigated&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),null==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t="mousedown";this.touch&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,t),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var n=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(n);r&&(t=r)}if(this.checkboxes){var a=this.getCheckedItems();t=null!=a&&a.length>0?a[0]:null}if(null==t){var s;(s=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(e(document.body)),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-listitem-state-normal")),s.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(s,this.placeHolder);var o=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");s.css("padding-top",o),s.css("padding-bottom",l);var d=s.outerHeight();s.remove(),s.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,s);var h=this.host.height();return null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height)),(v=parseInt((parseInt(h)-parseInt(d))/2))>0&&(this.dropdownlistContent.css("margin-top",v+"px"),this.dropdownlistContent.css("margin-bottom",v+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(s,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex,(s=e(document.createElement("span")))[0].setAttribute("unselectable","on");try{s[0].style.color="inherit"}catch(e){}s[0].style.borderWidth="0px",s[0].style.backgroundColor="transparent",s.appendTo(e(document.body)),s.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var c=!1;try{null!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(s,t.html):null!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(s,t.label):null===t.label||""===t.label?(c=!0,e.jqx.utilities.html(s,"")):null!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(s,t.value):null!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(s,t.title):""!=t.label&&null!=t.label||(c=!0,e.jqx.utilities.html(s,""))}catch(e){}""===(o=this.dropdownlistContent[0].style.paddingTop)&&(o="0px"),""===(l=this.dropdownlistContent[0].style.paddingBottom)&&(l="0px"),s[0].style.paddingTop=o,s[0].style.paddingBottom=l,0===(d=s.outerHeight())&&(d=16),""!=t.label&&null!=t.label||!c||e.jqx.utilities.html(s,"");var u=this.width&&this.width.toString().indexOf("%")<=0;if(s.remove(),s.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(s,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var p=this.getCheckedItems(),m="",f=0;f<p.length;f++)f==p.length-1?m+=p[f].label:m+=p[f].label+",";s.text(m),u&&s.css("max-width",this.host.width()-30),s.css("overflow","hidden"),s.css("display","block"),this.rtl||u&&s.css("width",this.host.width()-30),s.css("text-overflow","ellipsis"),s.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(s),this.focusable&&this.isOpened()&&this.focus()}else{var g=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(u&&(this.rtl||s.css("max-width",g+"px")),s[0].style.overflow="hidden",s[0].style.display="block",s[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||u&&(g<0&&(g=0),s[0].style.width=g+"px"),s[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=s[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var v;h=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height)),(v=parseInt((parseInt(h)-parseInt(d))/2))>=0&&(this.dropdownlistContent[0].style.marginTop=v+"px",this.dropdownlistContent[0].style.marginBottom=v+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var n=this.getCheckedItems(),r="";if(null!=n)for(var a=0;a<n.length;a++){var s=n[a].value;null!=s&&(a==n.length-1?r+=s:r+=s+",",t.push(s))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,n){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,n){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,n){this.listBox.selectIndex(e,t,i,n,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,n){var r=t.outerWidth(),a=t.outerHeight(),s=e(window).width()+e(window).scrollLeft(),o=e(window).height()+e(window).scrollTop();if(i.left+r>s&&r>this.host.width()){var l=this.host.coord().left,d=r-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+a>o&&o>a?Math.abs(a+n+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,n=this,r=this.listBoxContainer,a=this.listBox,s=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),o=parseInt(Math.round(this.host.coord(!0).left));i=o+"px","element"===this.dropDownContainer&&(s=parseInt(this.host.outerHeight())-1+"px",i=0);var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),s=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(s=parseInt(s)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",s),a._arrange();var d=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),c=Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(o))-c+"px"):this.container.css("left",25+parseInt(Math.round(o))+c+"px")}if("top"==this.dropDownVerticalAlignment){var u=r.height();d=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(this.host.outerHeight()),m=parseInt(s)-Math.abs(u+p+23);this.container.css("top",m)}if(this.enableBrowserBoundsDetection){var f=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(s)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=f.top?(d=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",f.top),parseInt(this.container.css("left"))!=f.left&&this.container.css("left",f.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",n),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),a._renderItems(),n._raiseEvent("0",a);else if(this.container.css("display","block"),n.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",n),e.data(document.body,"openedJQXListBox"+n.id,r),n.ishiding=!1,n.isanimating=!1,a._renderItems(),n._raiseEvent("0",a)});else{r.css("opacity",1);var g=r.outerHeight();d?r.css("margin-top",g):r.css("margin-top",-g),r.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",n),e.data(document.body,"openedJQXListBox"+n.id,r),n.ishiding=!1,n.isanimating=!1,a._renderItems(),n._raiseEvent("0",a)})}d?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,n=this.container,r=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!r.ishiding){t.stop();var a=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var s=-a;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(s=a),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){n.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":s},this.closeDelay,function(){n.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,n=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var a=!1;return e.each(n.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return a=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(a=!0),!1}}),null!=r&&!a&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),n=e-i-6;if(n>0&&"auto"!==this.width?this.dropdownlistContent[0].style.width=n+"px":n<=0&&(this.dropdownlistContent[0].style.width="0px"),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),e=this.dropdownlistContent.width()+i+6,this.host.width(e)),this.dropdownlistContent[0].style.height=t+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=i+"px",this.width&&this.width.toString().indexOf("%")>=0){var r=100*i/e,a=100*n/e;this.dropdownlistArrow[0].style.width=r+"%",this.dropdownlistContent[0].style.width=a+"%"}this.dropdownlistArrow[0].style.height=t+"px",this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var n=this.events[t];i.owner=this;var r=new e.Event(n);return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var n=e.host.width();e.listBoxContainer.jqxListBox({width:n}),e.container.width(parseInt(n)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,n,r){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+n+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+n)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(n,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var a=t.width;"auto"!=t.dropDownWidth&&(a=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:a,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(a)+25)}if(("width"==i||"height"==i)&&r!=n){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){a=t.host.width();t.listBoxContainer.jqxListBox({width:a}),t.container.width(parseInt(a)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework);var Ct=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===e.jqx._jqxExpander.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t._contentElement.style.display="none",t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"none":t._contentElement.style.display="none",this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var t=this;if(t._rendered)t.refresh();else{this.widgetID=this.element.id;var i=this.host.children();this._headerText=i[0],this._headerElement=document.createElement("div"),this._header=e(this._headerElement),this._contentElement=i[1],this._content=e(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?t.element.insertBefore(t._headerElement,t._headerText):t.element.appendChild(t._headerElement),t._headerElement.appendChild(t._headerText);var n=this._headerText.className;this._headerElement.className=n,this._headerText.className="",this.rtl?this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content"),t._arrowElement=document.createElement("div"),t._headerElement.appendChild(t._arrowElement),this._arrow=e(t._arrowElement),!0===this.showArrow?t._arrowElement.style.display="":t._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===t.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();try{if(0===this._header.length||0===this._content.length||i.length<2||i.length>2)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),e.jqx.utilities.resize(this.host,function(){t.invalidate()})}},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,n){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"expanded"==t?!0===n&&!1===i?(this.expanded=!1,this.expand()):!1===n&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh():e._setSize())},_raiseEvent:function(t,i){var n,r=this.events[t],a=new e.Event(r);a.owner=this,a.args=i;try{n=this.host.trigger(a)}catch(e){}return n},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=t;else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;i<0&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",n="jqx-widget-content jqx-expander-content";!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?n+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(n+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(n)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((!0===e.focusedH||!0===e.focusedC)&&!1===e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(!0===e.focusedH&&e._animate(),i=!0);break;case 38:!0===t.ctrlKey&&!0===e.focusedC&&e._headerElement.focus(),i=!0;break;case 40:!0===t.ctrlKey&&!0===e.focusedH&&e._contentElement.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework);var St=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxColorPicker","",{}),e.extend(e.jqx._jqxColorPicker.prototype,{defineInstance:function(){var t={disabled:!1,height:null,width:null,color:new e.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===e.jqx._jqxColorPicker.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title};if(this.field.getAttribute("value")){var n=this.field.getAttribute("value");this.color=new e.jqx.color({hex:n})}this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var r=e("<div></div>",i);r[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(r);var a=this.host.data();if(this.host=r,this.host.data(a),this.element=r[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var s=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=s}}},createInstance:function(t){this._createFromInput("jqxColorPicker"),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i._setSize(),i.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=e.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new e.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=e("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=e("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=e("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=e("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=e("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=e("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=e("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=e("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=e("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this.color.h,t=100-this.color.v,i=this.colorMap.height(),n=this.colorMap.width(),r=e*n/360,a=t*i/100;if("saturation"==this.colorMode){s=(s=100-this.color.s)*i/100,this._saturation=100-this.color.s,this.colorMapPointer.css("margin-left",r-8),this.colorMapPointer.css("margin-top",a-8),this.colorBarPointer.css("margin-top",s-8),this.colorMapImageOverlay.css("opacity",(100-this.color.s)/100)}else{var s;r=(e=this.color.s)*n/100,a=t*i/100;s=(s=360-this.color.h)*i/360,this._hue=this.color.h,this.colorMapPointer.css("margin-left",r-8),this.colorMapPointer.css("margin-top",a-8),this.colorBarPointer.css("margin-top",s-8)}},updateRGB:function(){this.color.setRgb(this.red.val(),this.green.val(),this.blue.val()),this._updateUI(),this._raiseEvent("0",{color:this.color}),this.color.transparent=!1},_setPosition:function(t,i,n){var r=parseInt(t.pageX),a=parseInt(i.offset().left),s=parseInt(t.pageY),o=parseInt(i.offset().top);if(this._isTouchDevice){var l=e.jqx.position(t);r=l.left,s=l.top}-1==n[0].className.indexOf("jqx-color-picker-bar")&&n.css("margin-left",r-8-a),s>=o&&s<=o+i.height()&&n.css("margin-top",s-8-o)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var t=this;this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){t._raiseEvent("0",{color:"transparent"}),e.preventDefault(),t.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){t._handleKeyInput(t,e,t.blue)}),this.addHandler(this.green,"keyup blur",function(e){t._handleKeyInput(t,e,t.green)}),this.addHandler(this.red,"keyup blur",function(e){t._handleKeyInput(t,e,t.red)}),this.addHandler(this.hex,"keyup blur",function(e){if(!t.disabled)return t._validateKey(e)?void(6==t.hex.val().toString().length&&(t.hex.val(t.color.validateHex(t.hex.val())),t.color.setHex(t.hex.val()),t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:t.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1});var i=function(e){var i;(t._setPosition(e,t.colorMap,t.colorMapPointer),"saturation"==t.colorMode)?((i=t._valuesFromMouse(e,t.colorMap,360,100)).x>360&&(i.x=360),t.color.setHsv(i.x,null!=t._saturation?100-t._saturation:100,100-i.y)):((i=t._valuesFromMouse(e,t.colorMap,100,100)).x>100&&(i.x=100),t.color.setHsv(null!=t._hue?t._hue:360,i.x,100-i.y));t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},n="mousedown.picker"+this.element.id;this._isTouchDevice&&(n=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,n,function(e){t.disabled||(t.beginDrag=!0,i(e))});var r="mousemove.picker"+this.element.id;this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(e(document),r,function(e){t.disabled||1==t.beginDrag&&(i(e),t._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1});var a=function(e){if(t._setPosition(e,t.colorBar,t.colorBarPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorBar,100,100);t.color.s=i.y,t._saturation=i.y,t.colorMapImageOverlay.css("opacity",t.color.s/100),t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{i=t._valuesFromMouse(e,t.colorBar,100,360);t.color.h=360-i.y,t._hue=t.color.h,t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},s="mousemove.colorBar"+this.element.id,o="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,o,function(e){t.disabled||(t.beginDragBar=!0,a(e))}),this.addHandler(e(document),s,function(e){t.disabled||1==t.beginDragBar&&(a(e),t._isTouchDevice&&e.preventDefault())}),this.addHandler(e(document),l,function(e){t.disabled||(t.beginDrag=!1,t.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var t=this.element.id,i="mousemove.colorBar"+t,n="mousedown.colorBar"+t,r="mouseup.colorBar"+t,a="mousedown.picker"+t,s="mousemove.picker"+t;this._isTouchDevice&&(i=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+t,n=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+t,r=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+t,a=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+t,s=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+t),this.removeHandler(this.colorMap,a),this.removeHandler(this.colorMap,s),this.removeHandler(this.colorBar,n),this.removeHandler(this.colorBar,i),this.removeHandler(e(document),s),this.removeHandler(e(document),i),this.removeHandler(e(document),r)},_raiseEvent:function(t,i){null==i&&(i={owner:null});var n=this.events[t],r=i||{};r.owner=this;var a=new e.Event(n);return a.owner=this,a.args=r,this.host.trigger(a)},setColor:function(t){t&&("transparent"==t?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):t.r?this.color=new e.jqx.color({rgb:t}):"#"==t.substring(0,1)?this.color=new e.jqx.color({hex:t.substring(1)}):this.color=new e.jqx.color({hex:t}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,n){null!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:n})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&(this.element.disabled=n,n?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(t,i,n,r){var a=0,s=0,o=i.offset(),l=i.height(),d=i.width(),h=t.pageX,c=t.pageY;if(this._isTouchDevice){var u=e.jqx.position(t);h=u.left,c=u.top}return a=h<o.left?0:h>o.left+d?d:h-o.left+1,s=c<o.top?0:c>o.top+l?l:c-o.top+1,{x:parseInt(a/d*n),y:parseInt(s/l*r)}},_validateKey:function(e){return 9!=e.keyCode&&16!=e.keyCode&&38!=e.keyCode&&29!=e.keyCode&&40!=e.keyCode&&17!=e.keyCode&&37!=e.keyCode&&(!e.ctrlKey||e.keyCode!="c".charCodeAt()&&e.keyCode!="v".charCodeAt())&&(!e.ctrlKey||e.keyCode!="C".charCodeAt()&&e.keyCode!="V".charCodeAt())&&(!e.ctrlKey&&!e.shiftKey)},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:(e=parseInt(e))>i?i:e<t?t:e},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));"Black"==(255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){this.red.val(this.color.r),this.green.val(this.color.g),this.blue.val(this.color.b),this.hex.val(this.color.hex);var t=new e.jqx.color({hex:"fff"});"saturation"==this.colorMode?(t.setHsv(this.color.h,100,this.color.v),this.colorBar.css("background","#"+t.hex)):(t.setHsv(this.color.h,100,100),this.colorMap.css("background-color","#"+t.hex)),this.preview.css("background","#"+this.color.hex),this.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;if(this.showTransparent&&(i=e-64),!(i<=0)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var n=this.red.prev().outerWidth()-this.hex.prev().outerWidth();n<4&&(n=4),this.hex.css("margin-left",n+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var r=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return r>0?(this.blue.width(r/3),this.green.width(r/3),void this.red.width(r/3)):void 0}},_getColorPointer:function(){var t=e("<div></div>");return t.addClass(this.toThemeProperty("jqx-color-picker-pointer")),t},_getImageUrl:function(e){var t=e.css("backgroundImage");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=e("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=e("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=e("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=e("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),e.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){var t="00",i="00",n="00";return 6==(e=this.validateHex(e)).length?(t=e.substring(0,2),i=e.substring(2,4),n=e.substring(4,6)):(e.length>4&&(t=e.substring(4,e.length),e=e.substring(0,4)),e.length>2&&(i=e.substring(2,e.length),e=e.substring(0,2)),e.length>0&&(n=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(n)}},validateHex:function(e){return(e=(e=new String(e).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,n;return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),n=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),n=e.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(n)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,n=parseInt(e.l)/100;if(n<=.5)var r=n*(1+i);else r=n+i-n*i;var a=2*n-r,s=t+1/3,o=t,l=t-1/3;return{r:Math.round(255*this.hueToRgb(a,r,s)),g:Math.round(255*this.hueToRgb(a,r,o)),b:Math.round(255*this.hueToRgb(a,r,l))}},hueToRgb:function(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,n=e.b/255,r={h:0,s:0,v:0},a=0,s=0;if(t>=i&&t>=n?(s=t,a=i>n?n:i):i>=n&&i>=t?(s=i,a=t>n?n:t):(s=n,a=i>t?t:i),r.v=s,r.s=s?(s-a)/s:0,r.s){var o=s-a;r.h=t==s?(i-n)/o:i==s?2+(n-t)/o:4+(t-i)/o,r.h=parseInt(60*r.h),r.h<0&&(r.h+=360)}else r.h=0;return r.s=parseInt(100*r.s),r.v=parseInt(100*r.v),r},hsvToRgb:function(e){var t={r:0,g:0,b:0},i=e.h,n=e.s,r=e.v;if(0==n)t.r=t.g=t.b=0==r?0:parseInt(255*r/100);else{360==i&&(i=0),i/=60,n/=100,r/=100;var a=parseInt(i),s=i-a,o=r*(1-n),l=r*(1-n*s),d=r*(1-n*(1-s));switch(a){case 0:t.r=r,t.g=d,t.b=o;break;case 1:t.r=l,t.g=r,t.b=o;break;case 2:t.r=o,t.g=r,t.b=d;break;case 3:t.r=o,t.g=l,t.b=r;break;case 4:t.r=d,t.g=o,t.b=r;break;case 5:t.r=r,t.g=o,t.b=l}t.r=parseInt(255*t.r),t.g=parseInt(255*t.g),t.b=parseInt(255*t.b)}return t},setRgb:function(e,t,i){var n=function(e){return e<0||e>255?0:isNaN(parseInt(e))?0:e};this.r=n(e),this.g=n(t),this.b=n(i);var r=this.rgbToHsv(this);this.h=r.h,this.s=r.s,this.v=r.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;var n=this.hslToRgb(this);this.r=n.r,this.g=n.g,this.b=n.b,this.hex=this.rgbToHex(n)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;var n=this.hsvToRgb(this);this.r=n.r,this.g=n.g,this.b=n.b,this.hex=this.rgbToHex(n)},setHex:function(e){this.hex=e;var t=this.hexToRgb(this.hex);this.r=t.r,this.g=t.g,this.b=t.b;var i=this.rgbToHsv(t);this.h=i.h,this.s=i.s,this.v=i.v}};if(e)if(e.hex){var i=t.validateHex(e.hex);t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b);return t}}(jqxBaseFramework);var Tt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e4,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===e.jqx._jqxDropDownButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.width||(this.width=200),this.height||(this.height=25),this.isanimating=!1,this.setupInstance();var i=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");this.host.attr("tabindex")?(i.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")):i.attr("tabindex",0),this.focusable||i.removeAttr("tabIndex"),e.jqx.aria(this),this.popupContent=this.host.children(),this.host.attr("role","button"),0==this.popupContent.length?(this.popupContent=e("<div>"+this.host.text()+"</div>"),this.popupContent.css("display","block"),this.element.innerHTML=""):this.popupContent.detach();var n=this;this.addHandler(this.host,"loadContent",function(e){n._arrange()});try{var r="dropDownButtonPopup"+this.element.id,a=e(e.find("#"+r));a.length>0&&a.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",r);var s=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+this.element.id+"'></div>");s.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-dropdownbutton-popup")),s.addClass(this.toThemeProperty("jqx-popup")),s.addClass(this.toThemeProperty("jqx-rc-all")),"element"!=this.dropDownContainer&&s.css("z-index",this.popupZIndex),e.jqx.browser.msie&&s.addClass(this.toThemeProperty("jqx-noshadow")),this.popupContent.appendTo(s),"element"==this.dropDownContainer?s.appendTo(this.host):s.appendTo(document.body),this.container=s,this.container.css("visibility","hidden")}catch(e){}this.touch=e.jqx.mobile.isTouchDevice(),this.dropDownButtonStructure=i,this.host.append(i),this.dropDownButtonWrapper=this.host.find("#dropDownButtonWrapper"),this.firstDiv=this.dropDownButtonWrapper.parent(),this.dropDownButtonArrow=this.host.find("#dropDownButtonArrow"),this.arrow=e(this.dropDownButtonArrow.children()[0]),this.dropDownButtonContent=this.host.find("#dropDownButtonContent"),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropDownButtonWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-rtl"));var o=this;this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownbutton"+this.element.id,function(e){o.isOpened()&&o.close()}),this.addHandler(this.dropDownButtonWrapper,"selectstart",function(){return!1}),this.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+this.element.id,this.dropDownButtonArrow[0].id="dropDownButtonArrow"+this.element.id,this.dropDownButtonContent[0].id="dropDownButtonContent"+this.element.id;o=this;this.propertyChangeMap.disabled=function(t,i,n,r){r?(t.host.addClass(o.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(o.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(o.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(o.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(o.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(o.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled")));var l=this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal");if(this.host.addClass(l),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),this.template&&this.host.addClass(this.toThemeProperty("jqx-"+this.template)),this._setSize(),this.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.container.css("display","none"),this.host.parents(".jqx-window").length>0)){var d=this.host.parents(".jqx-window").css("z-index");s.css("z-index",d+10),this.container.css("z-index",d+10)}},setupInstance:function(){var t=this,i={setContent:function(e){t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){if(0==arguments.length||"object"==typeof e)return t.dropDownButtonContent.text();t.dropDownButtonContent.html(e)},getContent:function(){return t.dropDownButtonContent.children().length>0?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host[0].style.width=t.width:null==t.width||isNaN(t.width)||(t.host[0].style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host[0].style.height=t.height:null==t.height||isNaN(t.height)||(t.host[0].style.height=parseInt(t.height)+"px");var i=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0,t.host.width(t.width)),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(i=!0,t.host.height(t.height));var n=this;i&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){n._arrange()})},isOpened:function(){var t=e.data(document.body,"openedJQXButton"+this.element.id);return null!=t&&t==this.popupContent},focus:function(){try{t.host.focus()}catch(e){}},render:function(){t.removeHandlers();var i=this;t.touch||(t.addHandler(t.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(!0,i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),i.host.addClass(i.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),!1)})),i.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){!i.isOpened()&&i.autoOpen&&(i.open(),i.host.focus())}),t.addHandler(e(document),"mousemove."+i.element.id,function(e){if(i.isOpened()&&i.autoOpen){var t=i.host.coord(),n=t.top,r=t.left,a=i.container.coord(),s=a.left,o=a.top,l=!0;e.pageY>=n&&e.pageY<=n+i.host.height()&&e.pageX>=r&&e.pageX<r+i.host.width()&&(l=!1),e.pageY>=o&&e.pageY<=o+i.container.height()&&e.pageX>=s&&e.pageX<s+i.container.width()&&(l=!1),l&&i.close()}})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(e){if(!i.disabled){var t="visible"==i.container.css("visibility");if(!i.isanimating){if(t)return i.close(),!1;i.open(),i.focusable||e.preventDefault&&e.preventDefault()}}}),t.touch&&t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(e(document),"mousedown."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(e){var t="visible"==i.container.css("visibility");return"none"==i.host.css("display")||("13"==e.keyCode&&(i.isanimating||t&&i.close()),115==e.keyCode?(i.isanimating||(i.isOpened()?i.isOpened()&&i.close():i.open()),!1):(e.altKey&&"block"==i.host.css("display")&&(38==e.keyCode?i.isOpened()&&i.close():40==e.keyCode&&(i.isOpened()||i.open())),void("27"==e.keyCode&&(i.ishiding||(i.close(),null!=i.tempSelectedIndex&&i.selectIndex(i.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+this.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(i,n,r){var a=i.outerWidth(),s=i.outerHeight(),o=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(n.left+a>o&&a>t.host.width()){var d=t.host.coord().left,h=a-t.host.width();n.left=d-h+2}return n.left<0&&(n.left=parseInt(t.host.coord().left)+"px"),n.top-=Math.min(n.top,n.top+s>l&&l>s?Math.abs(s+r+22):0),n},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,i=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var n=t.host.width();t.container.width(parseInt(n))}i._raiseEvent("2");var r,a=t.popupContent,s=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),o=parseInt(Math.round(t.host.coord(!0).left));r=o+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,null!=l&&l&&(r=e.jqx.mobile.getLeftPos(t.element),s=e.jqx.mobile.getTopPos(t.element)+parseInt(t.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(s=parseInt(s)-t._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(r=parseInt(r)-t._getBodyOffset().left+"px")),a.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var d=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(d=!0),d&&t.container.css("display","block"),t.container.css("left",r),t.container.css("top",s);var h=!1,c=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(o))-i+"px"):t.container.css("left",parseInt(Math.round(o))+i+"px")}};if(c.call(this),"top"==t.dropDownVerticalAlignment){var u=a.height();h=!0,t.container.height(a.outerHeight()),a.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(t.host.outerHeight()),m=parseInt(s)-Math.abs(u+p);t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(a.outerHeight()!=t.container.height()){t.container.height(a.outerHeight());var e=parseInt(s)-Math.abs(a.height()+p);t.container.css("top",e)}},50),a.css("top",23),t.container.css("top",m)}if(t.enableBrowserBoundsDetection){var f=t.testOffset(a,{left:parseInt(t.container.css("left")),top:parseInt(s)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=f.top?(h=!0,t.container.height(a.outerHeight()),a.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(a.outerHeight()!=i.container.height()){var e=i.testOffset(a,{left:parseInt(t.container.css("left")),top:parseInt(s)},parseInt(t.host.outerHeight()));t.container.css("top",e.top),t.container.height(a.outerHeight())}},50)):a.css("top",0),t.container.css("top",f.top),parseInt(t.container.css("left"))!=f.left&&t.container.css("left",f.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,a),a.css("margin-top",0),a.css("opacity",1),t._raiseEvent("0"),c.call(i);else{t.container.css("visibility","visible");var g=a.outerHeight();i.isanimating=!0,"fade"==t.animationType?(a.css("margin-top",0),a.css("opacity",0),a.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,a),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}),c.call(i)):(a.css("opacity",1),h?a.css("margin-top",g):a.css("margin-top",-g),c.call(i),a.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,a),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}))}h?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){i.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.popupContent,i=this.container,n=this;n._raiseEvent("3");var r=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(r=!0),this.isOpened()){if(e.data(document.body,"openedJQXButton"+this.element.id,null),"none"==this.animationType)this.container.css("visibility","hidden"),r&&this.container.css("display","none");else if(!n.ishiding){n.isanimating=!0,t.stop();var a=t.outerHeight();t.css("margin-top",0);var s=-a;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(s=a),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){i.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,r&&i.css("display","none")})):t.animate({"margin-top":s},this.closeDelay,function(){i.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,r&&i.css("display","none")})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,n=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var r=!1;return e.each(n.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return r=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return r=!0,!1}}),r||i.close(),!0},refresh:function(){t._arrange()},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),n=e-i-6;if(n>0&&(this.dropDownButtonContent[0].style.width=n+"px"),this.dropDownButtonContent[0].style.height=parseInt(t)+"px",this.dropDownButtonContent[0].style.left="0px",this.dropDownButtonContent[0].style.top="0px",this.dropDownButtonArrow[0].style.width=parseInt(i)+"px",this.dropDownButtonArrow[0].style.height=parseInt(t)+"px",this.rtl&&(this.dropDownButtonArrow.css("float","left"),this.dropDownButtonContent.css("float","right"),this.dropDownButtonContent.css("left",-3)),null!=this.dropDownWidth)if(this.dropDownWidth.toString().indexOf("%")>=0){e=parseInt(this.dropDownWidth)*this.host.width()/100;this.container.width(e)}else this.container.width(this.dropDownWidth);null!=this.dropDownHeight&&this.container.height(this.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);this.interval&&clearInterval(this.interval),this.removeHandler(this.dropDownButtonWrapper,"selectstart"),this.removeHandler(this.dropDownButtonWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.element.id,self.closeOpenedDropDown),this.host.remove(),this.container.remove()},_raiseEvent:function(i,n){null==n&&(n={owner:null}),2!=i||t.contentInitialized||t.initContent&&(t.initContent(),t.contentInitialized=!0);var r=t.events[i];n.owner=this;var a=new e.Event(r);return a.owner=this,2!=i&&3!=i&&4!=i||(a.args=n),t.host.trigger(a)},resize:function(e,i){t.width=e,t.height=i,t._setSize(),t._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(i,n,r,a){null!=t.isInitialized&&0!=t.isInitialized&&(i.batchUpdate&&i.batchUpdate.width&&i.batchUpdate.height&&2==Object.keys(i.batchUpdate).length||("template"==n&&(i.host.removeClass(i.toThemeProperty("jqx-"+r)),i.host.addClass(i.toThemeProperty("jqx-"+i.template))),"rtl"==n&&(a?(i.dropDownButtonArrow.css("float","left"),i.dropDownButtonContent.css("float","right")):(i.dropDownButtonArrow.css("float","right"),i.dropDownButtonContent.css("float","left"))),"autoOpen"==n&&i.render(),"theme"==n&&null!=a&&e.jqx.utilities.setTheme(r,a,i.host),"width"!=n&&"height"!=n||(i._setSize(),i._arrange())))}};e.extend(!0,this,i)}})}(jqxBaseFramework);var Pt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxArray","",{}),e.extend(e.jqx._jqxArray.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:null,type:"none",value:null,dimensions:1,rows:1,columns:1,elementWidth:75,elementHeight:25,showIndexDisplay:!0,indexerWidth:50,indexerHeight:25,showVerticalScrollbar:!1,showHorizontalScrollbar:!1,showSelection:!0,disabled:!1,customWidgetDefaultValue:null,elementTemplate:null,changeProperty:null,getElementValue:null,setElementValue:null,arrayIndexingMode:"LabVIEW",events:["change","elementClick","sizeChange","dimensionChange","arraySizeChange","scroll"]})},createInstance:function(){this._render()},_render:function(){this._coordinates=[],this._getDefaultCellValue(),this._validateProperties(),this._addClasses(),this._addInnerElements(),this._addInitialDimensions(),"none"!==this.type&&(this._addElementStructure(),this._structureAdded=!0,this._initializeElements(!1)),this._getInitialFill(),this._updateWidgetWidth(),this._updateWidgetHeight()},render:function(){this.refresh()},refresh:function(e){if(!0!==e){this._updateWidgetWidth(),this._updateWidgetHeight(),this._scroll()}},destroy:function(){for(var t=0;t<this._indexers.length;t++)this._indexers[t].jqxNumberInput("destroy");this._hScrollBarInitialized&&this._horizontalScrollBar.jqxScrollBar("destroy"),this._vScrollBarInitialized&&this._verticalScrollBar.jqxScrollBar("destroy"),this._widget&&e(".jqx-array-element-"+this.element.id)[this._widget]("destroy"),this.host.remove()},val:function(t,i){var n;if(2===arguments.length){if("none"===this.type)return;n=JSON.stringify(this.value);for(var r=this.value,a=0;a<this.dimensions-1;a++){var s=i[a];void 0===s&&(s=0,i[a]=0),void 0===r[s]&&(r[s]=[]),r=r[s]}var o=i[a];void 0===o&&(o=0,i[a]=0),this._areDifferent(r[o],t)&&(r[o]=t,this._fillValueArray(i.slice(0)),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(n),dimensionIndexes:i}))}else{if(void 0===t||e.isEmptyObject(t))return this.value;if("none"===this.type)return;var l=JSON.stringify(this.value);l!==JSON.stringify(t)&&(n=this.value,this.value=t,this._validateValue(),l!==JSON.stringify(this.value)&&(this._scroll(),this._getInitialFill(),this._raiseEvent("0",{value:this.value,oldValue:n})))}},addDimension:function(t){var i=this;if(!0===i._suppressDimensionChange||32!==i.dimensions){var n=e('<div class="jqx-array-indexer"></div>');i._indexerContainer.prepend(n),n.jqxNumberInput({theme:i.theme,width:i.indexerWidth-2,height:i.indexerHeight,inputMode:"simple",decimalDigits:0,spinButtons:!0,min:0,max:4294967295,disabled:i.disabled}),n.find(".jqx-icon-arrow-up").parent()[0].classList.add("jqx-array-indexer-increment"),n.find(".jqx-icon-arrow-down").parent()[0].classList.add("jqx-array-indexer-decrement"),i.addHandler(n,"change.jqxArray"+i.element.id,function(t){var n=e(this).data("dimension"),r="LabVIEW"===i.arrayIndexingMode?i.dimensions-n-1:n,a=parseFloat(t.args.value);i._coordinates[r]=a,i._scroll(),"none"===i.type||0!==n&&1!==n||i._syncScrollbar(n,a),t.stopPropagation()}),i._dimensions.push({index:i._dimensions.length,indexer:n}),"LabVIEW"===i.arrayIndexingMode?(i._indexers.unshift(n),i._coordinates.unshift(0)):(i._indexers.push(n),i._coordinates.push(0)),n.data({dimension:i._indexers.length-1}),!0!==i._suppressDimensionChange&&(i.dimensions+=1,i._raiseEvent("3",{type:"add"})),!0!==i._initialDimensions&&!1!==t&&(i._addDimensionToJSArray(),"LabVIEW"===i.arrayIndexingMode?i._filledUpTo.unshift(0):i._filledUpTo.push(0),!0===i._oneDimensionSpecialCase&&(i._oneDimensionSpecialCase=!1,i._verticalScrollBar.val(0),i._scroll())),void 0!==i._absoluteSelectionStart&&i._absoluteSelectionStart.push(0),void 0!==i._absoluteSelectionEnd&&i._absoluteSelectionEnd.push(0),!1===i._suppressDimensionChange&&!0===i.showIndexDisplay&&i.dimensions*(i.indexerHeight+4)-2>i.height&&i._updateWidgetHeight("dimensions")}},removeDimension:function(e,t){var i=this._dimensions.length-1;if(this._dimensions.length>1){if(2===this.dimensions){var n=this.rows;this.rows=1,this._changeRowsColumns("rows",n,1,void 0,!0)}var r;this._dimensions[i].indexer.jqxNumberInput("destroy"),this._dimensions.pop(),"LabVIEW"===this.arrayIndexingMode?(r=this._coordinates[0],this._indexers.splice(0,1),this._coordinates.splice(0,1)):(r=this._coordinates[i],this._indexers.pop(),this._coordinates.pop()),!0!==this._suppressDimensionChange&&(this.dimensions-=1,this._raiseEvent("3",{type:"remove"})),!1!==t&&(this._removeDimensionFromJSArray(),"LabVIEW"===this.arrayIndexingMode?this._filledUpTo.splice(0,1):this._filledUpTo.pop()),void 0!==this._absoluteSelectionStart&&this._absoluteSelectionStart.pop(),void 0!==this._absoluteSelectionEnd&&this._absoluteSelectionEnd.pop(),r>0&&this._scroll(),(this.dimensions>1&&!1===this._suppressDimensionChange&&!0===this.showIndexDisplay&&(this.dimensions+1)*(this.indexerHeight+4)-2>=this.height||1===this.dimensions&&!0!==e)&&this._updateWidgetHeight("dimensions")}},setIndexerValue:function(e){for(var t=!1,i=0;i<e.length;i++){var n=e[i].index,r="LabVIEW"===this.arrayIndexingMode?this.dimensions-n-1:n,a=e[i].value,s=this._indexers[n];void 0!==s&&a!==this._coordinates[n]&&(t=!0,s.val(a),this._coordinates[n]=a,"none"===this.type||0!==r&&1!==r||this._syncScrollbar(r,a))}!0===t&&this._scroll()},getIndexerValue:function(){for(var e=this._indexers,t=[],i=0;i<e.length;i++)t.push(e[i].val());return t},showLastElement:function(){var e,t,i=[];"LabVIEW"===this.arrayIndexingMode?(e=this.dimensions-1,t=this.dimensions-2):(e=0,t=1);for(var n=0;n<this.dimensions;n++){var r=this._filledUpTo[n];n===e?r=r<=this.columns-1?0:r-this.columns+1:n===t&&(r=r<=this.rows-1?0:r-this.rows+1),i.push({index:n,value:r})}this.setIndexerValue(i)},insertRowBefore:function(e,t){var i=this,n=JSON.stringify(i.value),r="LabVIEW"===i.arrayIndexingMode;if(r&&!0!==t)i.insertColumnBefore(e,!0);else{if(1===i.dimensions){if(!(r&&!i._oneDimensionSpecialCase||!r&&i._oneDimensionSpecialCase))return;i.value.splice(e+i._coordinates[0],0,i._getDefaultValue()),i._scroll(),i._filledUpTo[0]++}else{var a,s=i._filledUpTo.slice(0);if(r){var o=i.dimensions-1;a=e+i._coordinates[o];var l=function(e,t){if(o!==t)for(var n=0;n<e.length;n++)l(e[n],t+1);else e.splice(a,0,i._getDefaultValue())};l(i.value,0),s[o]++}else{a=e+i._coordinates[1];for(var d=0;d<i.value.length;d++){i.value[d].splice(a,0,void 0)}s[1]++}i._fillValueArray(s,!0)}i._raiseEvent("0",{value:i.value,oldValue:JSON.parse(n)}),i._setMaxValuesOfScrollBars()}},insertColumnBefore:function(e,t){var i,n=JSON.stringify(this.value),r="LabVIEW"===this.arrayIndexingMode;if(r&&!0!==t)this.insertRowBefore(e,!0);else{if(1===this.dimensions){if(!(r&&this._oneDimensionSpecialCase||!r&&!this._oneDimensionSpecialCase))return;this.value.splice(e+this._coordinates[0],0,this._getDefaultValue()),this._scroll(),this._filledUpTo[0]++}else{var a=this._filledUpTo.slice(0);if(r){i=e+this._coordinates[this.dimensions-2];var s=this.dimensions-2,o=function(e,t){if(s!==t)for(var n=0;n<e.length;n++)o(e[n],t+1);else e.splice(i,0,[])};o(this.value,0),a[s]++}else i=e+this._coordinates[0],this.value.splice(i,0,this._returnEmptyArray()[0]),a[0]++;this._fillValueArray(a,!0)}this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(n)}),this._setMaxValuesOfScrollBars()}},deleteRow:function(e){var t,i,n="LabVIEW"===this.arrayIndexingMode,r=JSON.stringify(this.value);if(1===this.dimensions){if(!this._oneDimensionSpecialCase)return void(0===e&&this.emptyArray());this.value.splice(e+this._coordinates[0],1),this._filledUpTo[0]--}else{if(n){t=this.dimensions-2,i=e+this._coordinates[t];var a=function(e,n){if(t!==n)for(var r=0;r<e.length;r++)a(e[r],n+1);else e.splice(i,1)};a(this.value,0)}else{t=1,i=e+this._coordinates[1];for(var s=0;s<this.value.length;s++){this.value[s].splice(i,1)}}this._filledUpTo[t]--}r!==JSON.stringify(this.value)&&(this._scroll(),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(r)}),this._setMaxValuesOfScrollBars())},deleteColumn:function(e){var t="LabVIEW"===this.arrayIndexingMode;if(this._oneDimensionSpecialCase)0===e&&this.emptyArray();else{var i,n,r=JSON.stringify(this.value);if(t){i=this.dimensions-1,n=e+this._coordinates[i];var a=function(e,t){if(i!==t)for(var r=0;r<e.length;r++)a(e[r],t+1);else e.splice(n,1)};a(this.value,0)}else i=0,n=e+this._coordinates[0],this.value.splice(n,1);JSON.stringify(this.value)!==r&&(this._filledUpTo[i]--,this._scroll(),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(r)}),this._setMaxValuesOfScrollBars())}},selectElement:function(e,t){this.startSelection(e,t),this.endSelection(e,t)},startSelection:function(e,t){this._absoluteSelectionStart=this._coordinates.slice(0),"LabVIEW"===this.arrayIndexingMode?(this._absoluteSelectionStart[this.dimensions-1]=t,this._absoluteSelectionStart[this.dimensions-2]=e):(this._absoluteSelectionStart[0]=t,this._absoluteSelectionStart[1]=e),this._absoluteSelectionEnd=void 0},endSelection:function(e,t){if(void 0!==this._absoluteSelectionStart){this._absoluteSelectionEnd=this._coordinates.slice(0),"LabVIEW"===this.arrayIndexingMode?(this._absoluteSelectionEnd[this.dimensions-1]=t,this._absoluteSelectionEnd[this.dimensions-2]=e):(this._absoluteSelectionEnd[0]=t,this._absoluteSelectionEnd[1]=e);for(var i=!0,n=0;n<this.dimensions;n++)i=i&&this._absoluteSelectionStart[n]<=this._absoluteSelectionEnd[n];i?this._refreshSelection():this._absoluteSelectionEnd=void 0}},selectAll:function(){if(!("LabVIEW"===this.arrayIndexingMode&&-1===this._filledUpTo[0]||"JavaScript"===this.arrayIndexingMode&&-1===this._filledUpTo[this._filledUpTo.length-1])){var e=new Array(this.dimensions);Array.prototype.fill?e.fill(0):this._fillArray(e,0),this._absoluteSelectionStart=e,this._absoluteSelectionEnd=this._filledUpTo.slice(0),this._refreshSelection()}},clearSelection:function(){this._absoluteSelectionStart=void 0,this._absoluteSelectionEnd=void 0,this.showSelection&&this._clearSelection()},reinitializeArray:function(){var e=this,t=e.dimensions,i=JSON.stringify(e.value);if(1===e.dimensions)Array.prototype.fill?e.value.fill(e._getDefaultValue()):e._fillArray(e.value,e._getDefaultValue());else{var n=function(i,r){for(var a=0;a<i.length;a++)r===t?i[a]=e._getDefaultValue():n(i[a],r+1)};n(e.value,1)}i!==JSON.stringify(e.value)&&(e._scroll(),e._raiseEvent("0",{value:e.value,oldValue:JSON.parse(i)}))},emptyArray:function(){if("none"!==this.type){var e=this._cells,t=this.value;if(this.value=this._returnEmptyArray(),JSON.stringify(t)===JSON.stringify(this.value))return;for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++){var r=e[i][n].widget,a={x:n,y:i};r[0].classList.add("jqx-fill-state-disabled"),r[0].classList.add("jqx-array-element-empty"),this._areDifferent(this._getElementValue(r,a),this._getDefaultValue())&&(r.supressChange=!0,this._setElementValue(this._getDefaultValue(),r,a))}Array.prototype.fill?this._filledUpTo.fill(0):this._fillArray(this._filledUpTo,0),this.clearSelection(),this._raiseEvent("0",{value:this.value,oldValue:t})}},reset:function(t){if("none"!==this.type||!0===t){this.type="none";var i=this.rows;this.rows=1,this._changeRowsColumns("rows",i,1,!0),i=this.columns,this.columns=1,this._changeRowsColumns("columns",i,1);var n=this._cells[0][0];this._widget&&n.widget[this._widget]("destroy"),e(n.td).empty(),this._table.style.display="none",this._widget=void 0,this._defaultValue=void 0;var r=this.value;this.value=null,this._raiseEvent("0",{value:this.value,oldValue:r}),this._hScrollBarInitialized&&this._horizontalScrollBar.jqxScrollBar({max:0,value:0}),this._vScrollBarInitialized&&this._verticalScrollBar.jqxScrollBar({max:0,value:0})}},hitTest:function(t,i){var n=this.element.id,r=e(document.elementFromPoint(t,i)),a=r.closest(".jqx-array-element-"+n),s=r.closest(".jqx-array-indexer"),o=r.closest("#"+n);if(a.length>0)return{type:"element",htmlElement:a[0],row:a.data("row"),column:a.data("col")};if(s.length>0){var l=s.data("dimension");return"LabVIEW"===this.arrayIndexingMode&&(l=this.dimensions-l-1),{type:"indexer",htmlElement:s[0],dimension:l}}return o.length>0?{type:"array",htmlElement:o[0]}:void 0},getElement:function(e,t){var i=this._cells;if(void 0!==i[e]&&void 0!==i[e][t])return i[e][t].widget[0]},getElementSize:function(){return{width:this.elementWidth,height:this.elementHeight}},setColumnWidth:function(t,i){if((t=parseInt(t,10))!==this.elementWidth||!0===i){var n=e(".jqx-array-element-"+this.element.id);if(this.elementWidth=t,"none"!==this.type){if(this._updateWidgetWidth(),"custom"!==this.type)n[this._widget]({width:t});else if(this.changeProperty)this.changeProperty("width",t,n);else try{console.warn('jqxArray: When "type" is \'custom\' and the column width is changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:t,height:this.elementHeight})}}},setRowHeight:function(t,i){if((t=parseInt(t,10))!==this.elementHeight||!0===i){var n=e(".jqx-array-element-"+this.element.id);if(this.elementHeight=t,"none"!==this.type){if(this._updateWidgetHeight(),"custom"!==this.type)n[this._widget]({height:t});else if(this.changeProperty)this.changeProperty("height",t,n);else try{console.warn('jqxArray: When "type" is \'custom\' and the row height is changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:this.elementWidth,height:t})}}},resizeElement:function(t,i){if(t=parseInt(t,10),i=parseInt(i,10),t!==this.elementWidth||i!==this.elementHeight)if(t!==this.elementWidth)if(i!==this.elementHeight){var n=e(".jqx-array-element-"+this.element.id);if(this.elementWidth=t,this.elementHeight=i,"none"!==this.type){if(this._updateWidgetWidth(),this._updateWidgetHeight(),"custom"!==this.type)n[this._widget]({width:t,height:i});else if(this.changeProperty)this.changeProperty("width",t,n),this.changeProperty("height",i,n);else try{console.warn('jqxArray: When "type" is \'custom\' and the column width and row height are changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:t,height:i})}}else this.setColumnWidth(t);else this.setRowHeight(i)},setDefaultValue:function(e){this._areDifferent(e,this._defaultValue)&&(this._defaultValue=e,this._scroll())},toggleElementGap:function(){var e=this.host.find(".jqx-array-table-data");void 0===this._elementGap&&(this._elementGap=!1),this._elementGap?(this._tdBorder-=6,e.removeClass("jqx-array-table-data-gap"),this._elementGap=!1):(this._tdBorder+=6,e.addClass("jqx-array-table-data-gap"),this._elementGap=!0),this._updateWidgetWidth(),this._updateWidgetHeight()},transposeArray:function(){var e=this;if(2===e.dimensions){var t=e.value[0].map(function(t,i){return e.value.map(function(e){return e[i]})}),i=JSON.stringify(e.value);e.value=t,e._scroll(),e._raiseEvent("0",{value:t,oldValue:JSON.parse(i)}),e._filledUpTo.reverse()}},copyElementValueToClipboard:function(t,i){var n=this._getValueInCell(t,i);if(void 0!==n)try{var r=e('<input type="text" style="position: absolute;" value="'+n+'" />');r.appendTo(this.host),r.select(),document.execCommand("copy"),r.remove()}catch(e){}},propertiesChangedHandler:function(e,t,i){if(i.type&&"none"!==i.type&&i.elementTemplate)e._fullRefresh(t,i);else if(i.rows&&i.columns){if(i.rows===t.rows)return i.columns===t.columns?void 0:void e._changeRowsColumns("columns",t.columns,i.columns);if(i.columns===t.columns)return void e._changeRowsColumns("rows",t.rows,i.rows);if(1===e.dimensions&&1===i.columns&&i.rows>1)return e._changeRowsColumns("columns",t.columns,i.columns),void e._changeRowsColumns("rows",t.rows,i.rows);e.columns=t.columns,e._changeRowsColumns("rows",t.rows,i.rows),e.columns=i.columns,e._changeRowsColumns("columns",t.columns,i.columns)}},propertyChangedHandler:function(t,i,n,r){if(t.batchUpdate){if(t.batchUpdate.type&&"none"!==t.batchUpdate.type&&t.batchUpdate.elementTemplate)return;if(t.batchUpdate.rows&&t.batchUpdate.columns&&("rows"===i||"columns"===i))return}var a;if(r!==n)switch(i){case"width":if(r=t._validateSizeProperty("width"),"none"!==t.type){var s=r-n,o=t.elementWidth+t._tdBorder;if(Math.abs(s)<o)return void(t.width=n);var l=Math.floor(s/o),d=t.columns,h=d+l;t.columns=h,t._changeRowsColumns("columns",d,h)}else t._updateWidgetWidth();break;case"height":"none"===t.type?(t._validateSizeProperty("height"),t._updateWidgetHeight()):t.height=n;break;case"type":t._getDefaultCellValue(),"none"!==n&&"none"!==r?(t._initializeElements(!0),t._updateWidgetWidth(),t._updateWidgetHeight()):"none"===n?(t.value=t._returnEmptyArray(),!0===t._structureAdded?(t._initializeElements(!1),t._table.style.display="table"):(t._addElementStructure(),t._structureAdded=!0,t._initializeElements(!1)),t._updateWidgetWidth(),t._updateWidgetHeight(),t._getInitialFill()):"none"===r&&t.reset(!0);break;case"value":JSON.stringify(n)!==JSON.stringify(r)&&(t._validateValue(),JSON.stringify(n)!==JSON.stringify(t.value)&&(t._scroll(),t._getInitialFill(),t._raiseEvent("0",{value:t.value,oldValue:n})));break;case"dimensions":t._addRemoveMultipleDimensions(n,r);break;case"rows":case"columns":t._changeRowsColumns(i,n,r);break;case"elementWidth":r=t._validateSizeProperty("elementWidth"),t.setColumnWidth(r,!0);break;case"elementHeight":r=t._validateSizeProperty("elementHeight"),t.setRowHeight(r,!0);break;case"showIndexDisplay":t._indexerContainer[0].style.display=r?"block":"none",t._updateWidgetWidth(),t._updateWidgetHeight("showIndexDisplay");break;case"indexerWidth":r=t._validateSizeProperty("indexerWidth"),t._indexerContainer[0].style.width=r+"px";for(var c=0;c<t._indexers.length;c++)t._indexers[c].jqxNumberInput({width:r-2});t._updateWidgetWidth();break;case"indexerHeight":r=t._validateSizeProperty("indexerHeight");for(var u=0;u<t._indexers.length;u++)t._indexers[u].jqxNumberInput({height:r});t._updateWidgetHeight();break;case"showVerticalScrollbar":if(!0!==t._vScrollBarInitialized)if(t._updateWidgetWidth(!0),t._initializeVScrollBar(),t.dimensions>1){var p="LabVIEW"===t.arrayIndexingMode?t.dimensions-2:1;t._syncScrollbar(1,t._coordinates[p])}else t._syncScrollbar(1,t._coordinates[0]);else t._showVerticalScrollbar(r);break;case"showHorizontalScrollbar":var m;if(!0!==t._hScrollBarInitialized)t._updateWidgetHeight("showHorizontalScrollbar"),t._initializeHScrollBar(),m="LabVIEW"===t.arrayIndexingMode?t.dimensions-1:0,t._syncScrollbar(0,t._coordinates[m]);else t._showHorizontalScrollbar(r);break;case"showSelection":r?t._refreshSelection():t._clearSelection();break;case"disabled":r?t.element.classList.add("jqx-fill-state-disabled"):t.host.removeClass("jqx-fill-state-disabled");for(var f=0;f<t._indexers.length;f++)t._indexers[f].jqxNumberInput({disabled:r});if("none"!==t.type){if(a=e(".jqx-array-element-"+t.element.id),"custom"!==t.type)a[t._widget]({disabled:r});else if(t.changeProperty)t.changeProperty("disabled",r,a);else try{console.warn('jqxArray: When "type" is \'custom\' and the "disabled" property is changed, the "changeProperty" callback function should be implemented.')}catch(e){}t._scroll()}break;case"customWidgetDefaultValue":"custom"===t.type&&(t._defaultValue=r,t._scroll());break;case"elementTemplate":if("none"!==t.type){a=e(".jqx-array-element-"+t.element.id);for(var g=0;g<a.length;g++){var v=e(a[g]);t.elementTemplate(v,{x:v.data("col"),y:v.data("row")})}}break;case"theme":for(var b=0;b<t._indexers.length;b++)t._indexers[b].jqxNumberInput({theme:r});e(t._bigContainer).removeClass("jqx-fill-state-pressed-"+n),t._bigContainer.classList.add("jqx-fill-state-pressed-"+r);for(var y=0;y<t.rows;y++)for(var _=0;_<t.columns;_++){var w=e(t._cells[y][_].td);w.removeClass("jqx-fill-state-pressed-"+n),w[0].classList.add("jqx-fill-state-pressed-"+r)}"none"!==t.type&&(a=e(".jqx-array-element-"+t.element.id),"custom"!==t.type?a[t._widget]({theme:r}):t.changeProperty&&t.changeProperty("theme",r,a)),t._hScrollBarInitialized&&t._horizontalScrollBar.jqxScrollBar({theme:r}),t._vScrollBarInitialized&&t._verticalScrollBar.jqxScrollBar({theme:r}),t._scroll();break;case"arrayIndexingMode":t.arrayIndexingMode=n}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var n=this.events[t];i.owner=this;var r=new e.Event(n);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_fullRefresh:function(e,t){if(t.indexerWidth){var i=parseInt(t.indexerWidth,10);this._indexerContainer[0].style.width=i+"px";for(var n=0;n<this._indexers.length;n++)this._indexers[n].jqxNumberInput({width:i-2})}this._getDefaultCellValue();var r=this.showVerticalScrollbar,a=this.showHorizontalScrollbar;this._validateProperties(),this._showVerticalScrollbar(r),this._showHorizontalScrollbar(a);var s=!1;t.value||(s=!0),t.dimensions&&t.dimensions!==e.dimensions&&this._addRemoveMultipleDimensions(e.dimensions,t.dimensions,s),!0===this._structureAdded?(this._initializeElements(!1),this._table.style.display="table"):(this._addElementStructure(),this._structureAdded=!0,this._initializeElements(!1)),this._getInitialFill(),this._updateWidgetWidth(),this._updateWidgetHeight(),this._scroll()},_validateProperties:function(){this._validateSizeProperty("width"),this._validateSizeProperty("height"),this._validateSizeProperty("elementWidth"),this._validateSizeProperty("elementHeight"),this._validateSizeProperty("indexerWidth"),this._validateSizeProperty("indexerHeight"),this._oneDimensionSpecialCase=!1,"none"===this.type?(this.rows=1,this.columns=1):(this.rows<1&&(this.rows=1),this.columns<1&&(this.columns=1)),(this.dimensions<1||this.dimensions>32)&&(this.dimensions=1),1===this.dimensions&&(this.columns>1?(this.rows=1,!0===this.showVerticalScrollbar&&(this.showVerticalScrollbar=!1)):1!==this.rows&&(this._oneDimensionSpecialCase=!0,!0===this.showHorizontalScrollbar&&(this.showHorizontalScrollbar=!1))),"none"===this.type&&(null===this.width&&(this.width=this.indexerWidth+80+(this.showVerticalScrollbar?20:0)),null===this.height&&(this.height=80+(this.showHorizontalScrollbar?20:0))),this._validateValue()},_validateSizeProperty:function(e){if("string"==typeof this[e]){var t=parseInt(this[e],10);return this[e]=t,t}return this[e]},_validateValue:function(){null===this.value||void 0===this.value?this.value=this._returnEmptyArray():this._validateValueArrayDimensions()},_validateValueArrayDimensions:function(){var e=0,t=this.value,i=!1;if(t.constructor!==Array)this.value=[t],t=this.value,e=1;else for(;t.constructor===Array;)if(e++,void 0===(t=t[0])){i=!0;break}if(this.dimensions>e){if(i)return void(this.value=this._returnEmptyArray());for(;this.dimensions>e;)this._addDimensionToJSArray(e),e++}},_addInnerElements:function(){var t=this.element.id,i=this.showIndexDisplay?"block":"none",n='<div id="'+t+'IndexerContainer" class="jqx-array-indexer-container" style="width: '+this.indexerWidth+"px; display: "+i+';"></div><div id="'+t+'BigContainer" class="jqx-array-big-container jqx-array-background '+this.toThemeProperty("jqx-fill-state-pressed")+'"><div id="'+t+'CentralContainer" class="jqx-array-central-container"><div id="'+t+'MainContainer"></div><div id="'+t+'HorizontalScrollbarContainer" class="jqx-array-scrollbar-container-horizontal" style="display: none;"><div id="'+t+'HorizontalScrollbar" class="jqx-array-scrollbar-horizontal"></div></div></div><div id="'+t+'VerticalScrollbarContainer" class="jqx-array-scrollbar-container-vertical" style="display: none;"><div id="'+t+'VerticalScrollbar" class="jqx-array-scrollbar-vertical"></div></div></div><div style="clear: both;"></div>';this.element.innerHTML=n,this._indexerContainer=e("#"+t+"IndexerContainer"),this._bigContainer=document.getElementById(t+"BigContainer"),this._mainContainer=document.getElementById(t+"MainContainer"),this._horizontalScrollBarContainer=document.getElementById(t+"HorizontalScrollbarContainer"),this._horizontalScrollBar=e("#"+t+"HorizontalScrollbar"),this._verticalScrollBarContainer=document.getElementById(t+"VerticalScrollbarContainer"),this._verticalScrollBar=e("#"+t+"VerticalScrollbar"),this._tableBorder=2,this.showVerticalScrollbar&&this._initializeVScrollBar(),this.showHorizontalScrollbar&&this._initializeHScrollBar()},_addClasses:function(){this.element.className="jqx-array jqx-widget",this.disabled&&this.element.classList.add("jqx-fill-state-disabled")},_addInitialDimensions:function(){var e=this.dimensions;this._dimensions=[],this._indexers=[],this._suppressDimensionChange=!0,this._initialDimensions=!0;for(var t=0;t<e;t++)this.addDimension();this._suppressDimensionChange=!1,this._initialDimensions=!1},_addRemoveMultipleDimensions:function(e,t,i){if(!(t<1||t>32)||(this.dimensions=1,this.dimensions!==e)){var n=this.dimensions-e;if(this._suppressDimensionChange=!0,n>0){do{this.addDimension(i),n-=1}while(n>0);this._raiseEvent("3",{type:"add"})}else if(n<0){if(1===t){var r=this.rows;this.rows=1,this.dimensions=e,this._changeRowsColumns("rows",r,1,void 0,!0),this.dimensions=t}do{this.removeDimension(!0,i),n+=1}while(n<0);this._raiseEvent("3",{type:"remove"}),1===t&&this.showVerticalScrollbar&&this._showVerticalScrollbar(!1)}if(this._suppressDimensionChange=!1,!0===this.showIndexDisplay){if(1!==t){if(t-e>0&&t*(this.indexerHeight+4)-2<this.height)return;if(t-e<0&&e*(this.indexerHeight+4)-2<this.height)return}this._updateWidgetHeight("dimensions")}}},_addElementStructure:function(){this._cells=[],this._table=document.createElement("table"),this._table.className="jqx-array-element-gap";var t=document.createElement("tbody");this._table.appendChild(t),this._tableBody=e(t);for(var i=document.createDocumentFragment(),n=0;n<this.rows;n++){var r=document.createElement("tr"),a=document.createDocumentFragment();r.classList.add("jqx-array-table-row"),this._cells.push([]);for(var s=0;s<this.columns;s++){var o=document.createElement("td");o.classList.add("jqx-fill-state-pressed"),o.classList.add("jqx-array-table-data"),""!==this.theme&&o.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&o.classList.add("jqx-array-table-data-gap"),this._cells[n].push({td:o}),a.appendChild(o)}r.appendChild(a),i.appendChild(r)}t.appendChild(i),this._mainContainer.appendChild(this._table)},_initializeElements:function(t){var i=this,n=i._cells;function r(e){i.elementTemplate&&i.elementTemplate(e,{x:s,y:a})}if(i._initializeElement=function(){},"custom"!==i.type)switch(i.type){case"numeric":i._initializeElement=function(e,t){e.jqxNumberInput({theme:i.theme,width:i.elementWidth,height:i.elementHeight,inputMode:"simple",spinButtons:!0,decimal:t,disabled:i.disabled}),r(e)};break;case"boolean":i._initializeElement=function(e,t){e.jqxSwitchButton({theme:i.theme,width:i.elementWidth,height:i.elementHeight,checked:t,disabled:i.disabled}),r(e)};break;case"string":i._initializeElement=function(e,t){e.jqxInput({theme:i.theme,width:i.elementWidth,height:i.elementHeight,value:t,disabled:i.disabled}),r(e)};break;case"path":i._initializeElement=function(e,t){e.jqxPathControl({theme:i.theme,width:i.elementWidth,height:i.elementHeight,path:t.toString(),disabled:i.disabled}),r(e)}}else i._initializeElement=function(e,t){if(!i.elementTemplate)throw new Error('jqxArray: When "type" is \'custom\', the "elementTemplate" callback function has to be implemented.');var n={x:s,y:a};i.elementTemplate(e,n),void 0!==t&&i._setElementValue(t,e,n)};for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)!0===t&&(i._widget&&n[a][s].widget[i._widget]("destroy"),e(n[a][s].td).empty()),i._initializeWidget(a,s);var o=n[0][0].widget;i._tdBorder=parseInt(o.css("border-left-width"),10)+parseInt(o.css("border-right-width"),10),i._paddingH=0,i._paddingV=0,"content-box"===o.css("box-sizing")&&(i._tdBorder+=2,i._paddingH=parseInt(o.css("padding-left"),10)+parseInt(o.css("padding-right"),10),i._paddingV=parseInt(o.css("padding-top"),10)+parseInt(o.css("padding-bottom"),10)),i._elementGap&&(i._tdBorder+=6)},_addElementHandlers:function(e){var t=this,i=t.element.id;t.addHandler(e,"change.jqxArray"+i,function(i){if(!0!==e.supressChange||"jqxNumberInput"===t._widget){e.removeClass("jqx-fill-state-disabled jqx-array-element-empty");var n=e.data("col"),r=e.data("row");t._updateValue(r,n,t._getElementValue(e,{x:n,y:r},!0))}else e.supressChange=!1;i.stopPropagation()}),t.addHandler(e,"click.jqxArray"+i,function(){t._raiseEvent("1",{element:e[0]})})},_getDefaultCellValue:function(){switch(this.type){case"custom":this._widget=void 0,this._defaultValue=null!==this.customWidgetDefaultValue?this.customWidgetDefaultValue:void 0;break;case"numeric":if(!this.host.jqxNumberInput)throw new Error("jqxArray: Missing reference to jqxnumberinput.js.");this._widget="jqxNumberInput",this._defaultValue=0;break;case"boolean":if(!this.host.jqxSwitchButton)throw new Error("jqxArray: Missing reference to jqxswitchbutton.js.");this._widget="jqxSwitchButton",this._defaultValue=!1;break;case"string":if(!this.host.jqxInput)throw new Error("jqxArray: Missing reference to jqxinput.js.");this._widget="jqxInput",this._defaultValue="";break;case"path":if(!this.host.jqxPathControl)throw new Error("jqxArray: Missing reference to jqxpathcontrol.js.");this._widget="jqxPathControl",this._defaultValue=""}},_updateValue:function(e,t,i){var n=this._getValueInCell(e,t);if(this._areDifferent(i,n)){var r=this._coordinates,a=r.slice(0),s=[];"LabVIEW"===this.arrayIndexingMode?(a[a.length-1]+=t,a[a.length-2]+=e):(a[0]+=t,a[1]+=e);for(var o=0;o<this.dimensions;o++)0===o?!1===this._oneDimensionSpecialCase?s.push(a[0]):s.push(e+r[0]):1===o?s.push(a[1]):s.push(a[o]);for(var l=this.value,d=0;d<s.length;d++)void 0!==l[s[d]]&&l[s[d]]!==n||(d!==s.length-1?l[s[d]]=[]:l[s[d]]=i),l=l[s[d]];this._fillValueArray(s.slice(0)),this._raiseEvent("0",{value:i,oldValue:n,dimensionIndexes:s})}},_getValueInCell:function(e,t){var i,n=this.value,r=this._coordinates,a=r.length;if(1===a)i=!1===this._oneDimensionSpecialCase?n[t+r[0]]:n[e+r[0]];else{var s=r.slice(0);"LabVIEW"===this.arrayIndexingMode?(s[a-1]+=t,s[a-2]+=e):(s[0]+=t,s[1]+=e);var o=n[s[0]];if(void 0!==o){var l=o[s[1]];if(void 0!==l&&(i=l,a>2))for(var d=2;d<a&&void 0!==i;d++)i=i[s[d]]}}return i},_scroll:function(){var e=["jqx-fill-state-disabled","jqx-array-element-empty"];if("none"!==this.type)for(var t=0;t<this._cells.length;t++)for(var i=0;i<this._cells[t].length;i++){var n,r=this._getValueInCell(t,i),a=this._cells[t][i].widget,s={x:i,y:t},o=this._getElementValue(a,s);void 0!==r?(a[0].classList.remove(e[0]),a[0].classList.remove(e[1]),a.removeClass(e),this._areDifferent(o,r)?(a.supressChange=!0,this._setElementValue(r,a,s)):a.supressChange=!1,n=!1):(a[0].classList.add(e[0]),a[0].classList.add(e[1]),this._areDifferent(o,this._defaultValue)?(a.supressChange=!0,this._setElementValue(this._getDefaultValue(),a,s)):a.supressChange=!1,n=!0),this._addSelectionClass(i,t,this._cells[t][i].td,n)}},_areDifferent:function(e,t){if(e instanceof Date){if(t instanceof Date)return e.getTime()!==t.getTime();if("string"==typeof t)try{return e.getTime()!==new Date(t).getTime()}catch(e){}return!0}if(t instanceof Date){if(e instanceof Date)return t.getTime()!==e.getTime();if("string"==typeof e)try{return t.getTime()!==new Date(e).getTime()}catch(e){}return!0}return"object"!=typeof e||typeof e!=typeof t?e!==t:JSON.stringify(e)!==JSON.stringify(t)},_returnEmptyArray:function(){var e=[],t=e;if(this.dimensions>1)for(var i=1;i<this.dimensions;i++)t[0]=[],t=t[0];return e},_addDimensionToJSArray:function(e){if("LabVIEW"===this.arrayIndexingMode)this.value=[this.value];else{void 0===e&&(e=this.dimensions-1);var t=function(i,n){for(var r=0;r<i.length;r++)n!==e?t(i[r],n+1):i[r]=[i[r]]};t(this.value,1)}},_removeDimensionFromJSArray:function(){var e=this;if("LabVIEW"===e.arrayIndexingMode)e.value=e.value[0];else{var t=e.dimensions+1,i=function(n,r,a,s){for(var o=0;o<n.length;o++)r!==t&&n[o].length>0?i(n[o],r+1,n,o):void 0!==a?a[s]=n[0]:e.value=e.value[0]};i(e.value,1)}},_initializeWidget:function(t,i){var n,r=this._cells[t][i],a=this._getValueInCell(t,i);n="string"!==this.type?e("<div></div>"):e("<input />"),r.widget=n,r.td.appendChild(n[0]),this._initializeElement(n,void 0===a?this._getDefaultValue():a,r),n[0].classList.add("jqx-array-element"),n[0].classList.add("jqx-array-element-"+this.element.id),void 0===a&&(n[0].classList.add("jqx-fill-state-disabled"),n[0].classList.add("jqx-array-element-empty")),n.data({row:t,col:i}),this._addElementHandlers(n)},_addRemoveColumn:function(t){if("add"===t){for(var i=this._tableBody.children(),n=0;n<this._cells.length;n++){var r=this._cells[n],a=document.createElement("td");a.classList.add("jqx-fill-state-pressed"),a.classList.add("jqx-array-table-data"),""!==this.theme&&a.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&a.classList.add("jqx-array-table-data-gap"),r.push({td:a}),i[n].appendChild(a),this._initializeWidget(n,r.length-1)}this.columns++,!0!==this._suppressScroll&&this._scroll()}else if("remove"===t&&this.columns>1){for(var s=0;s<this._cells.length;s++){var o=this._cells[s],l=o[o.length-1];this._widget&&l.widget[this._widget]("destroy"),e(l.td).remove(),o.pop()}this.columns--}},_addRemoveRow:function(e){if("add"===e&&(this.dimensions>1||1===this.dimensions&&1===this.columns)){this._cells.push([]);var t=document.createElement("tr"),i=document.createDocumentFragment(),n=this._cells.length-1,r=[];t.classList.add("jqx-array-table-row");for(var a=0;a<this.columns;a++){var s=document.createElement("td");s.classList.add("jqx-fill-state-pressed"),s.classList.add("jqx-array-table-data"),""!==this.theme&&s.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&s.classList.add("jqx-array-table-data-gap"),this._cells[n].push({td:s}),r.push(s),i.appendChild(s)}t.appendChild(i),this._tableBody[0].appendChild(t);for(var o=0;o<r.length;o++)this._initializeWidget(n,o);this.rows++,!0!==this._suppressScroll&&this._scroll()}else if("remove"===e&&this.rows>1){var l=this._tableBody.children().last(),d=this._cells[this._cells.length-1];if(this._widget)for(var h=0;h<d.length;h++)d[h].widget[this._widget]("destroy");l.remove(),this._cells.pop(),this.rows--}},_getInitialFill:function(){if(this._filledUpTo=[],"none"!==this.type){for(var e=this.value,t=0;t<this.dimensions;t++){var i=e.length-1;this._filledUpTo[t]=i,e=e[i]}this._setMaxValuesOfScrollBars()}},_fillValueArray:function(e,t){var i=this,n=i.dimensions;if(void 0!==i._filledUpTo&&!0!==t){for(var r=!0,a=0;a<e.length;a++)r=r&&i._filledUpTo[a]>=e[a],e[a]=Math.max(e[a],i._filledUpTo[a]);if(!0===r)return void i._scroll()}i._filledUpTo=e.slice(0),function t(r,a){for(var s=0;s<=e[a];s++)a!==n-1?(void 0===r[s]&&(r[s]=[]),t(r[s],a+1)):void 0===r[s]&&(r[s]=i._getDefaultValue())}(i.value,0),i._scroll(),i._setMaxValuesOfScrollBars()},_changeRowsColumns:function(e,t,i,n,r){var a="_addRemove"+e.charAt(0).toUpperCase()+e.slice(1,e.length-1);if(!(i<1&&(this[e]=1,this[e]===t))){if(1===this.dimensions)if(!0===this._oneDimensionSpecialCase)"columns"===e&&this[e]>1&&(this._oneDimensionSpecialCase=!1,this.showVerticalScrollbar&&(this._showVerticalScrollbar(!1),this._showHorizontalScrollbar(!0)));else if("rows"===e){if(this.columns>1)return void(this.rows=1);this.rows>1&&(this._oneDimensionSpecialCase=!0,!0===this.showHorizontalScrollbar&&(this._showHorizontalScrollbar(!1),this._showVerticalScrollbar(!0)))}var s=this[e]-t;if(this[e]=t,s>0){this._suppressScroll=!0;do{this[a]("add"),s-=1}while(s>0);this._suppressScroll=!1,this._scroll()}else if(s<0)do{this[a]("remove"),s+=1}while(s<0);this._raiseEvent("4",{type:e,number:this[e],oldNumber:t}),"columns"===e?(this._updateWidgetWidth(),this._setMaxValuesOfScrollBars("horizontal")):"rows"===e&&!0!==r&&(this._updateWidgetHeight(!0===n?"dimensions":void 0),this._setMaxValuesOfScrollBars("vertical"))}},_updateWidgetWidth:function(e){if(null!==this.element.parentNode){var t,i,n=this.showVerticalScrollbar?20:0,r=this.showIndexDisplay?this.indexerWidth:0,a=this._elementGap?-1*(2*this.columns-4):0;if("none"!==this.type)i=(t=this.columns*(this.elementWidth+this._tdBorder+this._paddingH)+this._tableBorder+a)+n,this.width=i+r;else{!0===e&&(!0===this.showVerticalScrollbar?this.width+=20:this.width-=20);var s=r+18+n;this.width<s&&(this.width=s),t=(i=this.width-r)-n}var o=document.getElementById(this.element.id+"CentralContainer");null!==o&&(o.style.width=t+"px",this._bigContainer.style.width=i+"px",this._horizontalScrollBarContainer.style.width=t-2+"px",this._horizontalScrollBar.trigger("resize"),this.element.style.width=this.width+"px")}},_updateWidgetHeight:function(e){var t,i=this.showHorizontalScrollbar?20:0,n=this.showIndexDisplay?this.dimensions*(this.indexerHeight+4)-2:0,r=this._elementGap?-1*(2*this.rows-4):0;if("none"!==this.type)t=this.rows*(this.elementHeight+this._tdBorder+this._paddingV)+this._tableBorder+i+r;else{if("showHorizontalScrollbar"===e){var a=parseInt(this._bigContainer.style.height,10);t=!0===this.showHorizontalScrollbar?a+20:a-20}else t="showIndexDisplay"===e&&!1===this.showIndexDisplay||"dimensions"===e?parseInt(this._bigContainer.style.height,10):this.height;var s=18+i;t<s&&(t=s)}this._mainContainer.style.height=t-i+"px",this.height=Math.max(n,t),this._verticalScrollBarContainer.style.height=t-i-this._tableBorder+"px",this._verticalScrollBar.trigger("resize"),this._bigContainer.style.height=t+"px",this.element.style.height=this.height+"px"},_inSelection:function(e,t){var i,n,r,a,s=this._coordinates,o=!0;if("LabVIEW"===this.arrayIndexingMode?(i=this.dimensions-1,n=this.dimensions-2):(i=0,n=1),r=e+s[i],a=t+s[n],1===this.dimensions)return r>=this._absoluteSelectionStart[i]&&r<=this._absoluteSelectionEnd[i];if(o=r>=this._absoluteSelectionStart[i]&&r<=this._absoluteSelectionEnd[i]&&a>=this._absoluteSelectionStart[n]&&a<=this._absoluteSelectionEnd[n],"LabVIEW"===this.arrayIndexingMode)for(var l=0;l<n;l++)o=o&&s[l]>=this._absoluteSelectionStart[l]&&s[l]<=this._absoluteSelectionEnd[l];else for(var d=2;d<this.dimensions;d++)o=o&&s[d]>=this._absoluteSelectionStart[d]&&s[d]<=this._absoluteSelectionEnd[d];return o},_refreshSelection:function(){if(this.showSelection)for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++){var i=void 0===this._getValueInCell(e,t);this._addSelectionClass(t,e,this._cells[e][t].td,i)}},_addSelectionClass:function(t,i,n,r){this.showSelection&&void 0!==this._absoluteSelectionStart&&void 0!==this._absoluteSelectionEnd&&(!1===r&&this._inSelection(t,i)?n.classList.add("jqx-array-element-selected"):e(n).removeClass("jqx-array-element-selected"))},_clearSelection:function(){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++){var n=this._cells[t][i].td;e(n).removeClass("jqx-array-element-selected")}},_initializeVScrollBar:function(){if(!this.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.");this._verticalScrollBarContainer.style.display="block",this._verticalScrollBar.jqxScrollBar({theme:this.theme,height:"100%",width:16,min:0,max:0,value:0,vertical:!0}),this._addVScrollBarHandlers(),this._vScrollBarInitialized=!0},_addVScrollBarHandlers:function(){var t=this,i=t.element.id,n=t._verticalScrollBar,r=n[0].id,a=e("#jqxScrollBtnUp"+r),s=e("#jqxScrollBtnDown"+r);t.addHandler(n.add(a).add(s),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(n,"valueChanged.jqxArray"+i,function(e){if("none"!==t.type)if(!0!==t._suppressScrollbarEvent){var i=t._oneDimensionSpecialCase?0:1;t._moveScrollbar(n,"vertical",i,Math.round(e.currentValue))}else t._suppressScrollbarEvent=!1}),t.addHandler(a,"mousedown.jqxArray"+i,function(){if(!t.disabled){var e=n.jqxScrollBar("min"),i=n.jqxScrollBar("value");i-1>=e&&n.jqxScrollBar("setPosition",i-1)}}),t.addHandler(s,"mousedown.jqxArray"+i,function(){t.disabled||"none"!==t.type&&t._pressScrollbarDownButton(n)})},_initializeHScrollBar:function(){if(!this.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.");this._horizontalScrollBarContainer.style.display="block",this._horizontalScrollBar.jqxScrollBar({theme:this.theme,width:"100%",height:16,min:0,max:0,value:0}),this._addHScrollBarHandlers(),this._hScrollBarInitialized=!0},_addHScrollBarHandlers:function(){var t=this,i=t.element.id,n=t._horizontalScrollBar,r=n[0].id,a=e("#jqxScrollBtnUp"+r),s=e("#jqxScrollBtnDown"+r);t.addHandler(n.add(a).add(s),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(n,"valueChanged.jqxArray"+i,function(e){"none"!==t.type&&(!0!==t._suppressScrollbarEvent?t._moveScrollbar(n,"horizontal",0,Math.round(e.currentValue)):t._suppressScrollbarEvent=!1)}),t.addHandler(a,"mousedown.jqxArray"+i,function(){if(!t.disabled){var e=n.jqxScrollBar("min"),i=n.jqxScrollBar("value");i-1>=e&&n.jqxScrollBar("setPosition",i-1)}}),t.addHandler(s,"mousedown.jqxArray"+i,function(){t.disabled||"none"!==t.type&&t._pressScrollbarDownButton(n)})},_moveScrollbar:function(e,t,i,n){if(!isNaN(n)){var r,a=this._getMaxValuesOfScrollBars(t),s=e.jqxScrollBar("max");r="LabVIEW"===this.arrayIndexingMode?this.dimensions-i-1:i,this._indexers[r].val(n),this._coordinates[r]=n,n<=a?e.jqxScrollBar({max:a}):n<=s&&e.jqxScrollBar({max:n}),this._scroll(),this._raiseEvent("5",{direction:t})}},_pressScrollbarDownButton:function(e){var t=e.jqxScrollBar("max"),i=e.val();!0===isNaN(i)&&(i=0),t===i&&e.jqxScrollBar({max:t+1,value:t+1})},_getMaxValuesOfScrollBars:function(e){var t,i,n,r=0,a=this._filledUpTo.length;return"horizontal"===e?(n=this._horizontalScrollBar.val(),t="LabVIEW"===this.arrayIndexingMode?this._filledUpTo[a-1]:this._filledUpTo[0],i=this.columns):(n=this._verticalScrollBar.val(),t=this._oneDimensionSpecialCase?"LabVIEW"===this.arrayIndexingMode?this._filledUpTo[a-1]:this._filledUpTo[0]:"LabVIEW"===this.arrayIndexingMode?this._filledUpTo[a-2]:this._filledUpTo[1],i=this.rows),void 0===t?0:(t+1===i?r=1:t===i?r=2:t>i&&(r=t-i+2),Math.max(r,n))},_setMaxValuesOfScrollBars:function(e){!this.showHorizontalScrollbar||void 0!==e&&"horizontal"!==e||this._horizontalScrollBar.jqxScrollBar({max:this._getMaxValuesOfScrollBars("horizontal")}),!this.showVerticalScrollbar||void 0!==e&&"vertical"!==e||this._verticalScrollBar.jqxScrollBar({max:this._getMaxValuesOfScrollBars("vertical")})},_syncScrollbar:function(e,t){var i,n;if(0===e&&!1===this._oneDimensionSpecialCase){if(!this.showHorizontalScrollbar)return;i=this._getMaxValuesOfScrollBars("horizontal"),n=this._horizontalScrollBar}else{if(!this.showVerticalScrollbar)return;i=this._getMaxValuesOfScrollBars("vertical"),n=this._verticalScrollBar}t>i&&(i=t);var r=n.jqxScrollBar("max");r!==i&&(r>i&&(this._suppressScrollbarEvent=!0),n.jqxScrollBar({max:i})),n.val()!==t&&(this._suppressScrollbarEvent=!0,n.val(t))},_showVerticalScrollbar:function(e){var t;(this.showVerticalScrollbar=e,this._updateWidgetWidth(!0),!0===e)?(this._verticalScrollBarContainer.style.display="block",!0!==this._vScrollBarInitialized&&this._initializeVScrollBar(),"none"!==this.type&&(t=this._oneDimensionSpecialCase?0:"LabVIEW"===this.arrayIndexingMode?this.dimensions-2:1,this._syncScrollbar(1,this._coordinates[t]))):this._verticalScrollBarContainer.style.display="none"},_getDefaultValue:function(){return this._cloneValue(this._defaultValue)},_cloneValue:function(t){return"object"!=typeof t?t:t instanceof Array?e.extend(!0,[],t):t instanceof Date?new Date(t.getTime()):t instanceof Object?e.extend(!0,{},t):void 0},_showHorizontalScrollbar:function(e){var t;(this.showHorizontalScrollbar=e,this._updateWidgetHeight("showHorizontalScrollbar"),!0===e)?(this._horizontalScrollBarContainer.style.display="block",!0!==this._hScrollBarInitialized&&this._initializeHScrollBar(),"none"!==this.type&&(t="LabVIEW"===this.arrayIndexingMode?this.dimensions-1:0,this._syncScrollbar(0,this._coordinates[t]))):this._horizontalScrollBarContainer.style.display="none"},_fillArray:function(e,t){for(var i=e.length>>>0,n=arguments[1]>>0,r=n<0?Math.max(i+n,0):Math.min(n,i),a=arguments[2],s=void 0===a?i:a>>0,o=s<0?Math.max(i+s,0):Math.min(s,i);r<o;)e[r]=t,r++;return e},_getElementValue:function(e,t,i){var n;return this.getElementValue?(n=this.getElementValue(e,t),!0!==i?n:this._cloneValue(n)):(n=e.val(),!0!==i?n:this._cloneValue(n))},_setElementValue:function(e,t,i){e=this._cloneValue(e),this.setElementValue?(this.setElementValue(e,t,i),!0===t.supressChange&&(t.supressChange=!1)):t.val(e)}})}(jqxBaseFramework);var It=Object.freeze({});!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var n=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var r in i)if(!n.hasOwnProperty(r)&&!n.hasOwnProperty(r.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+r+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===e.jqx._jqxGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.that=this;this.pagesize=parseInt(this.pagesize),this.toolbarheight=parseInt(this.toolbarheight),this.columnsheight=parseInt(this.columnsheight),this.filterrowheight=parseInt(this.filterrowheight),this.statusbarheight=parseInt(this.statusbarheight),this.groupsheaderheight=parseInt(this.groupsheaderheight),this.detailsVisibility=new Array,this.savedArgs=t&&t.length>0?t[0]:null;var i="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(this.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(this.scrollbarsize=e.jqx.utilities.scrollBarSize),this.source){if(!this.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");this.source=new e.jqx.dataAdapter(this.source)}(a=this.source._source.datafields)&&a.length>0&&(this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=i,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var n=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!n.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(this.editors=new Array,this.vScrollBar=n.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.addnewrow=this.host.find("#addrow"),this.addnewrow[0].id="addrow"+this.element.id,this.addnewrow.addClass(this.toTP("jqx-widget-header")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.groupsheader[0].id="groupsheader"+this.element.id,this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=!!this.host.parent()&&9999==this.host.parent().css("z-index"),this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(null==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),null==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),null==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(this.virtualmode&&null==this.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){var a;if(this._builddataloadelement(),this._cachedcolumns=this.columns,this.columns&&this.columns.length>299&&(this.headerZIndex=this.columns.length+100),28!=this.rowsheight&&this._measureElement("cell"),(30!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.source)if(null==(a=this.source.datafields)&&this.source._source&&(a=this.source._source.datafields),a)for(var s=0;s<this.columns.length;s++){var o=this.columns[s];if(o&&o.cellsformat&&o.cellsformat.length>2)for(var l=0;l<a.length;l++)if(a[l].name==o.datafield&&!a[l].format){a[l].format=o.cellsformat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this._arrange(),this.pageable&&this._initpager&&this._initpager(),this.tableheight=null;var d=this.that,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){h()}),this.addHandler(this.content,"scroll",function(e){return h(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this._resizeWindow(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=e.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight),e.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var n=e(window).width(),r=e(window).height(),a=t.host.width(),s=t.host.height();if(t.autoheight&&(t._lastHostWidth=r),t._lastHostWidth!=a||t._lastHostHeight!=s){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=a,t._lastHostHeight!=s)}t._lastWidth=n,t._lastHeight=r,t._lastHostWidth=a,t._lastHostHeight=s});var i=t.host.width(),n=t.host.height();t._lastHostWidth=i,t._lastHostHeight=n}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var n=i.outerWidth()+20;return i.remove(),n},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,n=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(n(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(n(),t+=" jqxscrollbar.js"),this.host.jqxButton||(n(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(n(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(n(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(n(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(n(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(n(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(n(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(n(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(n(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(n(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(n(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[],a=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,n(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,n(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||r.datetimeinput?i.host.jqxCalendar||r.calendar||(n(),t+=" jqxcalendar.js"):(n(),r.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||r.combobox?i.host.jqxListBox||r.listbox||(n(),r.listbox=!0,t+=" jqxlistbox.js"):(n(),r.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(n(),r.listbox=!0,t+=" jqxlistbox.js"):(n(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&a("dropdownlist");for(var s=0;s<this.columns.length;s++){var o;if(null!=this.columns[s])if(a(o=this.columns[s].columntype),this.filterable&&this.showfilterrow)"checkedlist"!=(o=this.columns[s].filtertype)&&"bool"!=o||a("checkbox"),"date"==o&&a("datetimeinput")}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var n=this.that;n._newmax=null;var r=n.host.width(),a=n.host.height();n._oldWidth||(n._oldWidth=r),n._oldHeight||(n._oldHeight=a),n._resizeTimer&&clearTimeout(n._resizeTimer);n._resizeTimer=setTimeout(function(){if(n.resizingGrid=!0,!e.jqx.isHidden(n.host)){if(n.editcell&&(n.endcelledit(n.editcell.row,n.editcell.column,!0,!0),n._oldselectedcell=null),d!=n._oldHeight||1==i){var a=n.groupable&&n.groups.length>0,s=n.vScrollBar.css("visibility");if(!n.autoheight){if(n.virtualmode&&(n._pageviews=new Array),a||n.rowdetails||n.pageable){n._arrange(),n.prerenderrequired=!0;d=Math.round(n.host.height())+2*n.rowsheight,n._gettableheight();var o=Math.round(d/n.rowsheight),l=Math.max(n.dataview.totalrows,n.dataview.totalrecords);n.pageable&&(l=n.pagesize,n.pagesize>Math.max(n.dataview.totalrows,n.dataview.totalrecords)&&n.autoheight?l=Math.max(n.dataview.totalrows,n.dataview.totalrecords):n.autoheight||n.dataview.totalrows<n.pagesize&&(l=Math.max(n.dataview.totalrows,n.dataview.totalrecords)));n.rowsheight,n._getpagesize();!n.pageable&&n.autoheight&&(o=l),n.virtualsizeinfo&&(n.virtualsizeinfo.visiblerecords=o),n.rendergridcontent(!0,!1),n._renderrows(n.virtualsizeinfo)}else{n._arrange(),n.virtualsizeinfo=n._calculatevirtualheight();var d=Math.round(n.host.height())+2*n.rowsheight;parseInt(d)>=parseInt(n._oldHeight)&&(n.prerenderrequired=!0),n._renderrows(n.virtualsizeinfo),n.rtl&&(n._updatecolumnwidths(),n.table&&n.table.width(n.columnsheader.width()),n._updatecellwidths())}s!=n.vScrollBar.css("visibility")&&(n.vScrollInstance.setPosition(0),n._arrange(),n._updatecolumnwidths(),n.table&&n.table.width(n.columnsheader.width()),n._updatecellwidths())}}if(r!=n._oldWidth||1==t){var h=!1;if(n.editcell&&n.editcell.editor)switch(n.editcell.columntype){case"dropdownlist":if(h=n.editcell.editor.jqxDropDownList("isOpened")||n.editcell.editor.jqxDropDownList("isanimating")&&!n.editcell.editor.jqxDropDownList("ishiding"))return n.editcell.editor.jqxDropDownList({openDelay:0}),n.editcell.editor.jqxDropDownList("open"),void n.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(h=n.editcell.editor.jqxComboBox("isOpened")||n.editcell.editor.jqxComboBox("isanimating")&&!n.editcell.editor.jqxComboBox("ishiding"))return n.editcell.editor.jqxComboBox({openDelay:0}),n.editcell.editor.jqxComboBox("open"),void n.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(h)return h=n.editcell.editor.jqxDateTimeInput("isOpened")||n.editcell.editor.jqxDateTimeInput("isanimating")&&!n.editcell.editor.jqxDateTimeInput("ishiding"),n.editcell.editor.jqxDateTimeInput({openDelay:0}),n.editcell.editor.jqxDateTimeInput("open"),void n.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=n.hScrollBar.css("visibility");n._arrange(),n._updatecolumnwidths(),n.table&&n.table.width(n.columnsheader.width()),n._updatecellwidths(),0==t&&n._oldWidth>r||i&&0!=n.dataview.rows.length||n._renderrows(n.virtualsizeinfo),c!=n.hScrollBar.css("visibility")&&n.hScrollInstance.setPosition(0)}n._oldWidth=r,n._oldHeight=d,n.resizingGrid=!1}},5)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),n=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,n+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,n+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,n,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var n in t)n.toLowerCase()!==n&&(t[n.toLowerCase()]=t[n]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),null!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),null!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),!1!==i){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var n in this._filterrowcache)e(this._filterrowcache[n]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var t=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(t=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(t+=2);var i=t*this._measureMenuElement()+9;return this.filterable&&!this.showfilterrow&&this.showfiltermenuitems&&(i+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(i+=20)),i},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var n=e("<ul></ul>"),r=e('<li class="'+i+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),a=e('<li class="'+i+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),s=e('<li class="'+i+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),o='<div class="jqx-grid-groupby-icon"></div>',l=e('<li class="'+i+'">'+o+this.gridlocalization.groupbystring+"</li>"),d=e('<li class="'+i+'">'+o+this.gridlocalization.groupremovestring+"</li>"),h=e('<li type="separator"></li>'),c=e('<li class="filter '+i+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),u=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>u&&(u=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>u&&(u=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>u&&(u=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>u&&(u=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));var m=200;p=e.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var f=e("<span>"+p+"</span>");f.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(f),m=f.outerWidth()+60,f.remove();var g=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(n.append(r),this.menuitemsarray[0]=r[0],n.append(a),this.menuitemsarray[1]=a[0],n.append(s),this.menuitemsarray[2]=s[0],g=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(n.append(l),this.menuitemsarray[3]=l[0],n.append(d),this.menuitemsarray[4]=d[0],g+=2);var v=g*this._measureMenuElement()+9,b=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=c[0],this.menuitemsarray[6]=c[0],n.append(h),n.append(c),v+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(v+=20),this.isTouchDevice()&&(v+=30);var y=e(c).find("div:first");this.excelfilterpanel=e("<div></div>"),this.filterpanel=y,this.filtermenu=e(c),m+=20,this._initfilterpanel(this,y,"",m),this._initfilterpanel(this,this.excelfilterpanel,"",m,!0),b=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(n),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),null==this.menuitemsarray[0]&&(v=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode&&t.filterable&&t._buildfilter){var n="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),r="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),a="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display");if(e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus")){var s=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,s),t.gridmenu.jqxMenu("close")}else if(!n&&!r&&!a){s=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,c,s)}}}),"auto"!=this.popupwidth&&(m=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:m,height:v,autoCloseOnClick:b,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",c[0].id,"closeOnClick",!1),this.rtl){var _=this.that;e.each(n.find("li"),function(){e(this).addClass(_.toTP("jqx-rtl"))});var w=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};w(s),w(a),w(r),w(l),w(d)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var n=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var r=e("<span>"+i+"</span>");r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),n=r.outerWidth()+60,r.remove();var a=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(a=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(a+=2);var s=a*this._measureMenuElement()+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(s+=190,n+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(s+=20),this.isTouchDevice()&&(s+=30)),null==this.menuitemsarray[0]&&(s=65),"auto"!=this.popupwidth&&(n=this.popupwidth),"auto"!=this.popupheight&&(s=this.popupheight),this.gridmenu.jqxMenu({width:n,height:s})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,n=!1;if(null==t.target||null!=t.target&&null==t.target.className.indexOf)i.gridmenu.jqxMenu("close");else if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter"))if(-1==t.target.className.indexOf("jqx-grid-cell")){if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){i.host.coord();var r=i.gridmenu.coord(),a=t.pageX,s=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(n=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(n=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!n){try{if("default"===i.filtermode){var o=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((l=new Date)-o<100)return;if(l-e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var l;o=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;if((l=new Date)-o<100)return;if(l-e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(e){}if(!(a>=r.left&&a<=r.left+i.gridmenu.width()&&s>=r.top&&s<=r.top+i.gridmenu.height())){if(i.columnmenuclosing){var d=e.data(document.body,"contextmenu"+i.element.id);if(d||(d={column:{displayfield:null}}),!1===i.columnmenuclosing(i.gridmenu,d.column.displayfield,e(i.gridmenu).height()))return}i.gridmenu.jqxMenu("close")}}}}else i.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var n=i.args,r=0;r<t.menuitemsarray.length;r++){if(n==t.menuitemsarray[r]){if(null!=e(n).attr("ignoretheme"))return;var a=e.data(document.body,"contextmenu"+t.element.id),s=a.column;t.filterable&&t.gridmenu.jqxMenu("close");var o=s.displayfield;if(null==o&&(o=s.datafield),null!=a)switch(r){case 0:t.sortby(o,"ascending",null);break;case 1:t.sortby(o,"descending",null);break;case 2:t.sortby(o,null,null);break;case 3:t.addgroup(o);break;case 4:t.removegroup(o);break;case 5:var l=e(t.menuitemsarray[6]);e(l).css("display","block")}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.details[i]=this.details}})},_getmenuitembyindex:function(e){return null==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var n=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var r=this,a=0;a<r.columns.records.length;a++)r.columns.records[a].datafield!=t&&e(r.columns.records[a].element).trigger("mouseleave");setTimeout(function(){"block"==e(n)[0].style.display&&e(n).trigger("click"),r._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing)if((t=e.data(document.body,"contextmenu"+this.element.id))||(t={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,t.column.displayfield,e(this.gridmenu).height()))return;null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var t;if(null!=(t=e.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")});var i=this.rtl?0:-32;t.column.iconscontainer.animate({"margin-left":i},"fast")}else{e(t.columnsmenu).css("display","none");i=this.rtl?0:-32;t.column.iconscontainer.css("margin-left",i)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var n=this._getmenuitembyindex(5);if(n){var r=e(n).find("#filter1"+this.element.id),a=e(n).find("#filter2"+this.element.id),s=e(n).find("#filter3"+this.element.id);r.length>0&&"default"===this.filtermode&&(r.jqxDropDownList("hideListBox"),a.length>0&&a.jqxDropDownList("hideListBox"),s.length>0&&s.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,!0===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(e){}}},50))},databind:function(t,i){if(!0!==this.loadingstate&&!0!==this._stopbindings){var n=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var r=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),null!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);var a=null;if(null!=t&&(a=null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!r.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var s=t._source.sortdirection;if("a"==s||"asc"==s||"ascending"==s||1==s)var o=!0;else o=!1;this.sortdirection=null!=s?{ascending:o,descending:!o}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&r.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!r.pageable&&r.virtualmode&&(r.loadondemand=!0),r._loading=!1,r.dataview.isupdating()&&r.dataview.resumeupdate(!1),r.pageable&&r.pagerrenderer){if(!r._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");r._initpager()}if(r.source&&r.source.sortcolumn&&r.sortby&&!r.virtualmode)r.render(),r.source._source.sort||r.sortby(r.source.sortcolumn,r.source.sortdirection,r.source.sortcomparer),r.source.sortcolumn=null,r._postrender("data");else{var a=r.vScrollInstance.value,s=r.hScrollInstance.value,o=r.source?r.source.datatype:"array";if("local"!=o||"array"!=o){var l=null==r.virtualsizeinfo||null!=r.virtualsizeinfo&&0==r.virtualsizeinfo.virtualheight;if("cells"==i){var d=!1;if(r.filterable&&r._initfilterpanel&&r.dataview.filters.length&&(d=!0),0==t)return r.vScrollInstance.isScrolling()||r.hScrollInstance.isScrolling()||(r._cellscache=new Array,r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r.showfilterrow&&r.filterable&&r.filterrow&&r._updatelistfilters(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()),r.sortcolumn&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.virtualmode&&!r._loading&&(r.loadondemand=!0,r._renderrows(r.virtualsizeinfo)),void r._postrender("data");d?i="filter":null!=r.sortcolumn&&(i="sort")}!r.virtualmode||l||r.virtualmode&&r.pageable?1==r.initializedcall&&"pagechanged"==i?(a=0,r.groupable&&r.groups.length>0?(r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):(r.rendergridcontent(!0),r.pageable&&r.updatepagerdetails&&(r.updatepagerdetails(),r.autoheight?(r._updatepageviews(),r.autorowheight&&r._renderrows(this.virtualsizeinfo)):r.autorowheight&&(r._updatepageviews(),r._renderrows(this.virtualsizeinfo)))),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):"filter"==i?(r.virtualmode,r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._updatefocusedfilter(),r._postrender("data")):"sort"==i?(r.virtualmode?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):(r._render(!0,!0,!1,!1,!1),r.sortcolumn&&!r.source.sort&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r._postrender("data")),r.source.sort&&r._updatefocusedfilter()):"data"==i?(r._render(!0,!0,!1,!1,!1),r._postrender("data")):"state"==i?(r._render(!0,!0,!1,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data")):(r._render(!0,!0,!0,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data")):r.virtualmode&&1==t&&!r.pageable?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):r.virtualmode&&!r.pageable&&0==t&&null!=i?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):r.virtualmode&&0==r.dataview.totalrecords&&r.dataview.filters.length>0?(r._render(!0,!0,!0,r.menuitemsarray&&!r.virtualmode),r._postrender("data")):(r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r._postrender("data")),r.vScrollInstance.value!=a&&a<=r.vScrollInstance.max&&r.vScrollInstance.setPosition(a),r.hScrollInstance.value!=s&&s<=r.hScrollInstance.max&&r.hScrollInstance.setPosition(s)}}if(r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.pageable&&(r.pagerrightbutton&&(r.pagerrightbutton.jqxButton({disabled:!1}),r.pagerleftbutton.jqxButton({disabled:!1}),r.pagershowrowscombo.jqxDropDownList({disabled:!1})),r.pagerfirstbutton&&(r.pagerfirstbutton.jqxButton({disabled:!1}),r.pagerlastbutton.jqxButton({disabled:!1}))),r._raiseEvent(11),r.initializedcall)r._updateTouchScrolling();else{var h=function(){if(r._raiseEvent(0),r.initializedcall=!0,r.isInitialized=!0,r.ready&&r.ready(),r.renderstatusbar&&r.renderstatusbar(r.statusbar),r.rendertoolbar&&r.rendertoolbar(r.toolbar),r._rendercelltexts&&r._rendercelltexts(),r._gridRenderElement){e(r._gridRenderElement).show("slow");var t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();n[e.camelCase(i)](function(){e(r._gridRenderElement).hide("slow",function(){e(r._gridRenderElement).remove()})},t)}r.autoloadstate&&r.loadstate&&r.loadstate(null,!0)};if(e.jqx.isHidden(r.host)?(r.readyInterval&&clearInterval(r.readyInterval),r.readyInterval=setInterval(function(){e.jqx.isHidden(r.host)||r.__isRendered&&(clearInterval(r.readyInterval),r.readyInterval=null,h(),r._initmenu())},200)):h(),null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&r.height.toString().indexOf("%"),"hidden"==r.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),r.autowidth||"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(null!=a?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){null!=e&&this.hScrollInstance.setPosition(e),null!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0;var t=this._getpagesize(),i=Math.floor(e/t);if(this._pageviews[i]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var n=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){i=Math.floor(e/t);if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(i),n=!0}}var r=this.vScrollInstance.value,a=this._gettableheight()-this.rowsheight,s=t*(e/t-i);if(s=Math.round(s),this._pageviews[i]){var o=this._pageviews[i].top+s*this.rowsheight;if(this.rowdetails)for(var l=t*i;l<e;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(o+=this.details[l].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=o+this.rowsheight&&(o=this.vScrollInstance.max),o<r?(this.scrolltop(o),n=!0):o>r+a+2&&(this.scrolltop(o-a),n=!0)}else if(this.pageable){o=s*this.rowsheight;if(this.rowdetails)for(l=t*i;l<t*i+s;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(o+=this.details[l].rowdetailsheight);(o<r||o>r+a)&&(this.scrollto(0,o),n=!0)}return n},ensurecellvisible:function(t,i){var n=this.that,r=this.hScrollBar.jqxScrollBar("value"),a=n.hScrollInstance.max;n.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(a=0);var s=this.ensurerowvisible(t),o=0;if(this.columns.records){var l=r;if("hidden"==this.hScrollBar.css("visibility"))return;var d=this.host.width(),h=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=n.rtl?a-r:l;return o+this.width>t+d-c?(e=o+this.width-d+c,n.rtl&&(e=a-e),n.scrollleft(e),u=!0):o<=t&&(e=o-this.width,n.rtl&&(e=a-e),n.scrollleft(e),u=!0),0==h?(n.rtl?n.scrollleft(a):n.scrollleft(0),u=!0):h==n.columns.records.length-1&&"visible"==n.hScrollBar.css("visibility")&&(n.rtl?n.scrollleft(n.hScrollBar.jqxScrollBar("min")):n.scrollleft(n.hScrollBar.jqxScrollBar("max")),u=!0),!1}h++,o+=this.width}),u||n.scrollleft(l)}return s},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e||null==t)return!1;if(this.heightboundrows[e]={index:e,height:t},(e=this.getrowvisibleindex(e))<0)return!1;if(this.rows.records[e])this.rows.records[e].height=t;else{var n=new i(this,null);n.height=t,this.rows.replace(e,n)}return this.heights[e]=t,this.rendergridcontent(!0),!0},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,n,r){if(!(null==t||null==t||t<0)){var a=t+"_";if(this._rowdetailscache[a]){var s=this._rowdetailscache[a].element;e(s).remove(),this._rowdetailscache[a]=null}var o=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:n,rowdetailshidden:r,key:o}},!((t=this.getrowvisibleindex(t))<0)&&this._setrowdetails(t,i,n,r,o)}},getcolumn:function(t){var i=null;return this.columns.records?e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}):this.columns&&e.each(this.columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){if(i++,this.datafield==t)return!1}),i},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var n=this.getcolumn(e);if(null!=n){var r=n[t];n[t]=i;var a=this._getcolumn(e);switch(null!=a&&(a[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=r){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==n.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;n._width=null,n._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,n,r){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=r)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:n,detailskey:r};else{for(var a=null!=this.details[e]?this.details[e].detailskey:null,s={rowdetails:t,rowdetailsheight:i,rowdetailshidden:n,detailskey:a},o=(this.that,0);o<this.detailboundrows.length;o++)if(null!=this.detailboundrows[o]){var l=this.detailboundrows[o];if(l.details.detailskey==a){l.details.rowdetailsheight=s.rowdetailsheight,l.details.rowdetailshidden=s.rowdetailshidden,l.details.rowdetails=s.rowdetails;break}}this.details[e]=s}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null!=e&&(!(e<0)&&(this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0))},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var n=this.vScrollInstance.value,r=!i.rowdetailshidden,a=this.getboundindex(e);null!=a&&(this.detailsVisibility[a]=r);var s=this._setrowdetailsvisibility(t,i,r);return 0!==n&&"hidden"!==this.vScrollBar.css("visibility")&&(n<=this.vScrollInstance.max?this.vScrollInstance.setPosition(n):this.vScrollInstance.setPosition(this.vScrollInstance.max)),s}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var n=this.dataview.generatekey();this.details[e].detailskey=n,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var r=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}),this._setrowdetails(e,r.rowdetails,r.rowdetailsheight,r.rowdetailshidden)},getrowvisibleindex:function(e){if(null==e||null==e||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return null==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0)))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1)))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(null!=i&&!i)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&null!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,n=new Array,r=new Array,a=t.groupable&&t.groups.length>0,s=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var o=this.dataview.pagesize;this.pageable&&a&&(o=this.dataview.rows.length);for(var l=0;l<o&&!(l>=this.dataview.rows.length);l++){var d=this.dataview.rows[l],h=null;t.rows.records[d.visibleindex]?(h=t.rows.records[d.visibleindex]).setdata(d):h=new i(t,d),h.hidden=this.hiddens[h.visibleindex],this.rowdetailstemplate&&(h.rowdetails=this.rowdetailstemplate.rowdetails,h.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,h.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[h.visibleindex];if(c?(h.rowdetails=c.rowdetails,h.rowdetailsheight=c.rowdetailsheight,h.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(h.rowdetails=null),a&&this.pageable&&null!=h.parentbounddata){var u=n[h.parentbounddata.uniqueid];if(null!=u){var p=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,h.parentbounddata,!p,!1),h.hidden=this.hiddens[h.visibleindex]}null!=u&&null!=u&&(h.parentrow=u,u.subrows[u.subrows.length++]=h)}if(!h.hidden){var m=d.visibleindex;this.heights[m]||(this.heights[m]=this.rowsheight),h.height=this.heights[m],this.rowdetails&&h.rowdetails&&!h.rowdetailshidden&&(h.height+=h.rowdetailsheight),n[h.uniqueid]=h,r[s++]=h,h.top=e,e+=h.height;var f=m;t.rows.replace(f,h)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),r.length>0&&(this._pagescache[this.dataview.pagenum]=r)}}},_updateaddnewrowui:function(t){for(var i="bottom"!=this.everpresentrowposition?this.addnewrowtop:this.addnewrowbottom,n=this.columns.records.length,r=0,a=0;a<n;a++){(s=this.columns.records[a]).addnewrowwidget&&e(s.addnewrowwidget).detach()}for(a=0;a<n;a++){var s,o=(s=this.columns.records[a]).width;o<s.minwidth&&(o=s.minwidth),o>s.maxwidth&&(o=s.maxwidth);var l=e(i[0].cells[a]);l.css("left",r);l.width()==o&&!1,t&&!0,l.width(o),l[0].left=r,s.addnewrowwidget&&(l.html(""),l.append(s.addnewrowwidget)),s.hidden&&s.hideable?l.css("display","none"):r+=o}var d=this.everpresentrowactions.split(" ");this.addnewrowbutton.show(),this.addnewrowupdatebutton.show(),this.addnewrowresetbutton.show(),this.addnewrowdeletebutton.show(),-1==d.indexOf("add")&&-1==d.indexOf("addBottom")&&this.addnewrowbutton.hide(),-1==d.indexOf("update")&&this.addnewrowupdatebutton.hide(),-1==d.indexOf("reset")&&this.addnewrowresetbutton.hide(),-1==d.indexOf("delete")&&this.addnewrowdeletebutton.hide();var h=e(i.children()[0]);h.width(parseInt(r)+2),h.height(this.everpresentrowheight),h.css("max-height",this.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];i.addnewrowwidget&&(i.destroyeverpresentrowwidget?i.destroyeverpresentrowwidget(i.addnewrowwidget):i.addnewrowwidget.remove(),i.addnewrowwidget=null)}this.addnewrowbutton&&this.addnewrowbutton.remove(),this.addnewrowupdatebutton&&this.addnewrowupdatebutton.remove(),this.addnewrowdeletebutton&&this.addnewrowdeletebutton.remove(),this.addnewrowresetbutton&&this.addnewrowresetbutton.remove(),this.addnewrowpopup&&(this.addnewrowpopup.remove(),this.addnewrowpopup=null),this.addnewrowtop&&(this.addnewrowtop.remove(),this.addnewrowtop=null),this.addnewrowbottom&&(this.addnewrowbottom.remove(),this.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,n=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),r=0,a=t.columns.records.length,s=t.toThemeProperty("jqx-grid-cell");s+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),s+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var o=a+10,l=new Array;t.that;i[0].cells=l,n.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),n.css("max-height",t.everpresentrowheight+"px"),i.append(n);var d=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(e(document.body)),h=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");d.addClass(t.toThemeProperty("jqx-popup")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-fill-state-normal")),d.addClass(t.toThemeProperty("jqx-shadow")),d.append(h),d.append(c),d.append(u),d.append(p);var m=t.everpresentrowactions.split(" ");-1==m.indexOf("add")&&-1==m.indexOf("addBottom")&&h.hide(),-1==m.indexOf("update")&&c.hide(),-1==m.indexOf("reset")&&p.hide(),-1==m.indexOf("delete")&&u.hide(),t.addnewrowpopup=d,t.addnewrowbutton=h,t.addnewrowupdatebutton=c,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=p,h.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),c.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),c.mousedown(function(e){for(var i={},n={},r=0;r<a;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){var s=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);n[c.datafield]=s,c.datafield!=c.displayfield&&(n[c.datafield]=s.value,n[c.displayfield]=s.label)}}var o=!1;for(r=0;r<a;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){s=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);if(c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var l=c.validateeverpresentrowwidgetvalue(c.displayfield,s,n),h=t.gridlocalization.validationstring;null!=l.message&&(h=l.message),("boolean"==typeof l?l:l.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(s="invalid editor state",c.addnewrowwidget.attr("title",h),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==s||(e.preventDefault(),e.stopPropagation(),o=!0)}}if(o)return d.hide(),void t.focus();for(r=0;r<a;r++){var c;if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){s=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);i[c.datafield]=s,c.datafield!=c.displayfield&&(i[c.datafield]=s.value,i[c.displayfield]=s.label),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget)}}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var u=t.getselectedcells()[0].rowindex;else u=t.selectedrowindexes[0];var p=t.getrowdata(u);p&&t.updaterow(p.uid,i)}d.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];var n=t.getrowdata(i);n&&t.deleterow(n.uid)}for(var r=0;r<a;r++){var s=t.columns.records[r];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget)}d.hide(),t.focus(),t.updateeverpresentrow()}),h.mousedown(function(e){for(var i={},n={},r=0;r<a;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){var s=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);n[c.datafield]=s,c.datafield!=c.displayfield&&(n[c.datafield]=s.value,n[c.displayfield]=s.label),c.datafield!=c.displayfield&&(n[c.datafield]=s.label,n[c.displayfield]=s.value)}}var o=!1;for(r=0;r<a;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){s=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);if(c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var l=c.validateeverpresentrowwidgetvalue(c.displayfield,s,n),h=t.gridlocalization.validationstring;null!=l.message&&(h=l.message),("boolean"==typeof l?l:l.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(s="invalid editor state",c.addnewrowwidget.attr("title",h),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==s||(e.preventDefault(),e.stopPropagation(),o=!0)}}if(o)return d.hide(),void t.focus();for(r=0;r<a;r++){var c;if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){s=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);i[c.datafield]=s,c.datafield!=c.displayfield&&(n[c.datafield]=s.label,n[c.displayfield]=s.value),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget)}}var u=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,u),d.hide(),t.focus()}),p.mousedown(function(e){for(var i=0;i<a;i++){var n=t.columns.records[i];n.reseteverpresentrowwidgetvalue&&n.reseteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget),n.addnewrowwidget&&(n.addnewrowwidget.attr("title",""),n.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}d.hide(),t.focus()});for(var f=0;f<a;f++){var g=t.columns.records[f],v=g.width;v<g.minwidth&&(v=g.minwidth),v>g.maxwidth&&(v=g.maxwidth);var b=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+s+'"></div>');if(n.append(b),b.css("left",r),t.rtl?(b.css("z-index",o++),b.css("border-left-width","1px")):b.css("z-index",o--),"auto"==v&&(v=0),b[0].style.width=parseFloat(v)+"px",b[0].left=r,g.hidden&&g.hideable?b.css("display","none"):r+=v,l[l.length]=b[0],g.checkboxcolumn){var y=t.toThemeProperty("jqx-grid-cell");y+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),y+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),b.removeClass().addClass(y)}else{var _=!0;if(t.rtl){if(t.groupable){w=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+w+f>a-1&&(_=!1)}t.showrowdetailscolumn&&t.rowdetails&&f==a-1&&(_=!1)}else{if(t.groupable){var w=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+w>f&&(_=!1)}t.showrowdetailscolumn&&t.rowdetails&&0==f&&(_=!1)}if(t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var n=0;n<t.columns.records.length;n++){var r=t.columns.records[n];if(r.seteverpresentrowwidgetvalue){var a=t.getcelltext(i,r.displayfield);r.seteverpresentrowwidgetvalue(r.addnewrowwidget,a)}}},_)if(g.createeverpresentrowwidget){g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,b,d,function(){h.trigger("mousedown")}),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,b,d)}else{t._measureElement("column");var x=t.everpresentrowheight/2-t._columnheight/2;if(x<0&&(x=6),x+="px","addButtonColumn"===g.datafield){var C=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");b.append(C),C.mousedown(function(){h.trigger("mousedown")});continue}if("resetButtonColumn"===g.datafield){C=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>");b.append(C),C.mousedown(function(){p.trigger("mousedown")});continue}!function(i,n,r){var s=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(s[0].id=e.jqx.utilities.createId(),s.addClass(i.toThemeProperty("jqx-widget")),s.addClass(i.toThemeProperty("jqx-input")),s.addClass(i.toThemeProperty("jqx-widget-content")),s.addClass(i.toThemeProperty("jqx-enableselect")),s.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),s.css("text-align",r.cellsalign),i.rtl&&s.css("direction","rtl"),i.disabled&&s.attr("disabled",!0),s.attr("disabled",!1),s.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+r.text),s.appendTo(n),s.css("width","100%"),s.css("height",i.everpresentrowheight+"px"),s.css("line-height",i.everpresentrowheight+"px"),s.css("max-height",i.everpresentrowheight+"px"),s.css("margin","0px"),s.focus(function(){(t.selectedcells.length>0||t.selectedrowindexes.length>0)&&(t.selectionmode.indexOf("cell")>=0?t.getselectedcells()[0].rowindex:t.selectedrowindexes[0]),s.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(r);"columns"!==i.everpresentrowactionsmode&&d.css({display:"block",top:s.coord().top+i.everpresentrowheight-1,left:e>0?s.coord().left:s.coord().left-1});var n=d.children().width();return"right"===r.cellsalign?(n=h.width()+p.width(),d.children().css("left",n-n+"px")):d.children().css("left","0px"),i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),r.addnewrowwidget=s,r.reseteverpresentrowwidgetvalue||(r.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),r.seteverpresentrowwidgetvalue||(r.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!r.geteverpresentrowwidgetvalue){var o=r;r.geteverpresentrowwidgetvalue=function(i,n,r){var l=n.val();if(!1!==r&&o.validateeverpresentrowwidgetvalue){for(var d={},h=0;h<a;h++){var c=t.columns.records[h];if(c.geteverpresentrowwidgetvalue){var u=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget,!1);d[c.datafield]=u,c.datafield!=c.displayfield&&(d[c.datafield]=u.value,d[c.displayfield]=u.label)}}var p=o.validateeverpresentrowwidgetvalue(o.displayfield,l,d),m=t.gridlocalization.validationstring;if(null!=p.message&&(m=p.message),!("boolean"==typeof p?p:p.result))return s.addClass(t.toThemeProperty("jqx-input-invalid")),s.attr("title",m),"invalid editor state";s.removeClass(t.toThemeProperty("jqx-input-invalid")),s.attr("title","")}var f="string",g=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(g){var v="";e.each(g,function(){if(this.name==o.displayfield)return this.type&&(v=this.type),!1}),v&&(f=v)}if("number"===f){var b=parseFloat(l);if(isNaN(b))return null}return"date"===f?e.jqx.dataFormat.tryparsedate(l,t.gridlocalization):"bool"===f||"boolean"===f?"true"===l||"1"==l||"false"!==l&&"0"!=l&&(!0===l?l:!1===l&&l):l}}s.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?h.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),s.blur(function(){s.removeClass(i.toThemeProperty("jqx-fill-state-focus")),d.css("display","none")}),r.initeverpresentrowwidget&&r.initeverpresentrowwidget(r.datafield,n,d)}(this,b,g)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&n.css("z-index",o--),n.width(parseFloat(r)+2),i.addClass(s),i.css("border-bottom-width","0px"),t.showfilterrow?i.css("border-top-width","0px"):i.css("border-top-width","1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(null!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){this.that;var e=Math.round(this.host.height())+2*this.rowsheight,t=this._gettableheight(),i=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var n=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(n=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?n=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(n=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=n*this.rowsheight,a=0,s=0,o=0,l=this._getpagesize(),d=l*this.rowsheight,h=0;if(!this.pageable&&this.autoheight&&(i=n),n+l>0)for(;h<=n+l;){if(a+=d,h-l<n&&h>=n){var c=h-n;c>0&&(o-=d,this._pageviews[s-1]={top:o,height:d-c*this.rowsheight});break}this._pageviews[s++]={top:o,height:d},o=a,h+=l}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var u=0;if(this.columns&&this.columns.records){for(h=0;h<this.columns.records.length;h++)u+=isNaN(this.columns.records[h].width)?this.columns.records[h].minwidth:this.columns.records[h].width;!isNaN(u)&&parseInt(u)>this.host.width()&&(t-=30)}}return r>t&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:r}):this.vScrollBar.jqxScrollBar({max:r-t})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=l,this.dataview.updateview(),{visiblerecords:i,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),n=Math.max(this.dataview.totalrows,this.dataview.totalrecords),r=n*this.rowsheight,a=0,s=0,o=0,l=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(r=this._updatepagedview(n,r,0)),this.autoheight&&this._arrange();else for(var c=0;c<n;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(null==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),null==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),null==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(r-=e.rowsheight,r+=u.height),u.hidden)r-=u.height;else{s+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(s+=p=u.details.rowdetailsheight,r+=p)),a+=u.height+p}(++d>=h||c==n-1)&&(this._pageviews[o++]={top:l,height:s},s=0,l=a,d=0)}var m=this._gettableheight();if(r>m)if(this.pageable&&this.gotopage&&(r=this._pageviews[0].height)<0&&(r=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(r<=m||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),r-m>0)if("deferred"!=this.scrollmode){var f=r-m,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:f}),f!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:r});else this.vScrollBar.jqxScrollBar({value:0,max:r});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:r}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var n=function(e){for(var i=0;i<t.columngroups.length;i++){var n=t.columngroups[i];if(n.name===e)return n}return null};for(i=0;i<this.columngroups.length;i++){if((d=this.columngroups[i]).groups||(d.groups=null),d.parentgroup)(r=n(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var r;if((d=this.columns.records[i]).columngroup)(r=n(d.columngroup))&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}var a=0;for(i=0;i<this.columns.records.length;i++){var s=d=this.columns.records[i];for(d.level=0;s.parent;)s=s.parent,d.level++;s=d;var o=d.level;for(a=Math.max(a,d.level);s.parent;)(s=s.parent)&&(s.level=--o)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var n=l(e.groups[i]),r=0;r<n.length;r++)t.push(n[r]);return t};for(i=0;i<this.columngroups.length;i++){var d=this.columngroups[i],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+a,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,n,r,a){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var s=this;return s.___hiddenTimer&&(clearInterval(s.___hiddenTimer),s.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(s.host)||(clearInterval(s.___hiddenTimer),s.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=null==i||i,this._newmax=null,n)if(this._requiresupdate||0!=r&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var o=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){o.columns=o._columns,o.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){for(var i in o.beginupdate(),e.newValue)o.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);o.endupdate()}else{var n=e.path.split(".");o.setcolumnproperty(o.columns[n[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){o.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==r&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),n?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var l=this.columnsheight;if(l=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(l+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(l+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(l+this.everpresentrowheight):this.columnsheader.height(l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,n),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(null==a||1==a)&&this._updatelistfilters(!n),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var n=this._overlayElement.css("left");this._overlayElement.css("left",n+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],n=0;for(var r in this.groupsVisibility)r==i.group&&this.groupsVisibility[r]&&(this.suspendgroupevents=!0,this._setgroupstate(i,!0,!1),n++);if(n>0){this.suspendgroupevents=!1;var a=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(a!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1;null!=e&&null!=e||(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var n=this.that;if(null!=(t=t)&&null!=t||(t=!0),this.tableheight=null,n.virtualsizeinfo=n.virtualsizeinfo||n._calculatevirtualheight(),n.pageable&&!n.autoheight&&n.dataview.totalrows<n.pagesize&&(n._requiresupdate=!0),t?n._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),n._renderrows(n.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var r=this.tableheight;this._arrange(),r!=this.tableheight&&this.autoheight&&n._renderrows(n.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,n="";if(null!=this.columns&&null!=this.columns.records){var r=this.that,a=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,s){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){s=0;var o="hidden"==r.vScrollBar[0].style.visibility?0:r.scrollbarsize+5;(r.scrollbarautoshow||0==r.scrollbarsize)&&(o=0);var l=i;s=parseFloat(this.width)*l/100,o+=a,null!=this._percentagewidth&&(s=parseFloat(this._percentagewidth)*(l-o)/100),s<this.minwidth&&"auto"!=this.minwidth&&(s=this.minwidth),s>this.maxwidth&&"auto"!=this.maxwidth&&(s=this.maxwidth),t-=s}else"auto"==this.width||this._width?n+=this.text:t-=this.width});var s=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>s)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var o=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(o+=this.rowsheight);o>s?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);a=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=a,this.columnsheader){var d=this.columnsheader.find("#columntable"+this.element.id);if(0!=d.length){var h=0,c=this,u=0;e.each(this.columns.records,function(r,a){var s,o=e(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var l=!1,d=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(d=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,l=!0),"auto"==this.width||this._width||l)if(l)d<this.minwidth&&"auto"!=this.minwidth&&(d=this.minwidth,this.width=d),d>this.maxwidth&&"auto"!=this.maxwidth&&(d=this.maxwidth,this.width=d),parseInt(o[0].style.width)!=d&&(o.width(d),this.width=d);else{var p=Math.floor(t*(this.text.length/n.length));t-(u+=p)<3&&t!=u?p+=2:r==c.columns.records.length-1&&u<t&&(p+=t-u),isNaN(p)&&(p=this.minwidth),p==1/0&&(p=0),p<0&&(s=e("<span>"+this.text+"</span>"),e(document.body).append(s),p=10+s.width(),s.remove()),p<this.minwidth&&(p=this.minwidth),p>this.maxwidth&&(p=this.maxwidth),this._width="auto",this.width=p,o.width(this.width)}else parseInt(o[0].style.width)!=this.width&&o.width(this.width);parseInt(o[0].style.left)!=h&&o.css("left",h),this.hidden&&this.hideable||(h+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+h),d.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==h?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var n=0,r=0,a="",s=this.host.width(),o=s,l=new Array,d=new Array,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)a+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)s-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)s-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;var n="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;n+=h,(i=parseFloat(this.width)*(o-n)/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),s-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),s-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):d[d.length]=this}),this.rtl){var c=0;l.reverse();for(u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[c++]);for(p=0;p<d.length;p++)this.columns.replace(p,d[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u]);for(var p=0;p<d.length;p++)this.columns.replace(l.length+p,d[p])}var m=this.headerZIndex,f=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&f++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(g-=this.everpresentrowheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var b=0;if(this.pageable){if(this.pageable)for(var y=0;y<this.dataview.rows.length;y++)this.dataview.rows[y].group&&0===this.dataview.rows[y].level&&(b+=this.rowsheight)}else b=this.dataview.loadedrootgroups.length*this.rowsheight;b>v&&(s-=this.scrollbarsize+5,o-=this.scrollbarsize+5)}else s-=this.scrollbarsize+5,o-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(s-=this.scrollbarsize+5,o-=this.scrollbarsize+5);o-=h;var _=document.createDocumentFragment(),w=0;if(e.each(this.columns.records,function(l,d){var h;this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=function(e,i){var n=t.columngroupslevel*t.columnsheight;return n-=i.level*t.columnsheight}(this.datafield,this),g=this.height);var c=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(c+=" "+t.toTP("jqx-grid-column-header-rtl"));var u=t.rtl?150+m+1:150+m-1,p=t.rtl?m++:m--,v=e('<div role="columnheader" style="z-index: '+p+';position: absolute; height: 100%;" class="'+c+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(v[0].style.height=g+"px",v[0].style.bottom="0px",this.pinned&&(v[0].style.zIndex=u)),this.uielement=v,""!=this.classname&&this.classname&&v.addClass(this.classname);var b=this.width,y=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(b=null!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,y=!0),"auto"==this.width||this._width||y){if(y)b<this.minwidth&&"auto"!=this.minwidth&&(b=this.minwidth),b>this.maxwidth&&"auto"!=this.maxwidth&&(b=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),v.width(b),this.width=b;else if(!this.hidden){var x=Math.floor(s*(this.text.length/a.length));s-(w+=x)<3&&s!=w?s-w==1?x++:x+=2:l==t.columns.records.length-1&&w<s&&(x+=s-w),isNaN(x)&&(x=this.minwidth),x<0&&(h=e("<span>"+this.text+"</span>"),e(document.body).append(h),x=10+h.width(),h.remove()),x<this.minwidth&&(x=this.minwidth),x>this.maxwidth&&(x=this.maxwidth),this._width="auto",this.width=x,b=this.width,v.width(this.width)}}else b<this.minwidth&&"auto"!=this.minwidth&&(b=this.minwidth,this.width=b),b>this.maxwidth&&"auto"!=this.maxwidth&&(b=this.maxwidth,this.width=b),v[0].style.width=parseInt(b)+"px";this.hidden&&this.hideable&&v.css("display","none");var C=e(v.children()[0]),S=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");S+=" "+t.toTP("jqx-icon-arrow-down");var T=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+S+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||T.css("margin-left",-16),t.rtl&&T.css("left","0px"),this.columnsmenu=T[0],i[0].cells[l]=v[0],T[0].style.width=parseInt(t.columnsmenuwidth)+"px";var P=t.columnsmenu,I=!1,E=!1,D=t.groupable&&f>0&&n<f||t.rowdetails&&n<f;if(t.rtl&&(D=t.groupable&&f>0&&n<f||t.rowdetails&&n<f,D&=l>t.columns.records.length-1-f),D)n++,P&=!1,this.sortable=!1,this.editable=!1,E=!0;else{var k=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==k&&(k=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(k=e(k)),P&=!0,I=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){C.append(e(k))}):this.renderer?C.append(e(k)):k&&(C[0].innerHTML=k),null!=k){var j=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');T.addClass(t.toTP("jqx-widget-header")),C.append(j);var M=j.children();this.sortasc=M[1],this.sortdesc=M[2],this.filtericon=M[0],this.iconscontainer=j,t.rtl&&(j.css("margin-left","0px"),j.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=v[0],P&&(t._handlecolumnsmenu(t,C,v,T,this),this.menu||T.hide()),_.appendChild(v[0]),t.groupable&&I){if(v[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,v)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,v);var A=this;if(t.addHandler(v,"click",function(e){if(A.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(A)}e.preventDefault(),t._raiseEvent(7,{column:A.getcolumnproperties(),datafield:A.datafield,originalEvent:e})}),A.resizable&&t.columnsresize&&!E){var N=!1,q="mousemove";t.isTouchDevice()&&!0!==t.touchmode&&(N=!0,q=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(v,q,function(i){var n=parseInt(i.pageX),r=5,a=parseInt(v.coord().left);if(t.hasTransform&&(a=e.jqx.utilities.getOffset(v).left),t.resizing)return!0;if(t._handlecolumnsresize){if(N)return r=40,(n=t.getTouches(i)[0].pageX)>=a+A.width-r?(t.resizablecolumn={columnelement:v,column:A},v.css("cursor","col-resize")):(v.css("cursor",""),t.resizablecolumn=null),!0;var s=A.width;if(t.rtl&&(s=0),n>=a+s-r){if(n<=a+s+r)return t.resizablecolumn={columnelement:v,column:A},v.css("cursor","col-resize"),!1;v.css("cursor",""),t.resizablecolumn=null}else v.css("cursor",""),n<a+s-r&&(A._animating||A._menuvisible||v.mouseenter()),t.resizablecolumn=null}})}(v.css("left",r),this.hidden&&this.hideable||(r+=b),A.rendered)&&(A.rendered(e(C[0].firstChild),A.align,g)&&null!=j&&j.hide());if(A.checkboxcolumn){if(j&&j.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");C.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var O=C.find("div:first");O.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),A.checkboxelement=O;var B=O.data().jqxCheckBox.instance;t._checkboxcolumn=A,B.updated=function(e,i,n){t._checkboxcolumnupdating=!0,t.disabled&&(O.jqxCheckBox({disabled:t.disabled}),i=n),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),r>0?this.columnsheader.width(2+r):this.columnsheader.width(r),i[0].appendChild(_),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.filterrow){var x=e("<div style='position: relative !important; '></div>");x[0].id="filterrow."+this.element.id,x.height(this.filterrowheight),this.filterrow=x}this.filterrow.width(2+r),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.addnewrowtop){var C=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");C[0].id="addnewrowtop."+this.element.id,C.height(this.everpresentrowheight),this.addnewrowtop=C}this.addnewrowtop.width(2+r),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var S=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");S[0].id="addnewrowbottom."+this.element.id,S.height(this.everpresentrowheight),this.addnewrowbottom=S}this.addnewrowbottom.width(2+r),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}i[0].style.visibility=0==r?"hidden":"inherit",i.width(r),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var n=this.headerZIndex-t+this.columns.records.length,r=this.that,a=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(a+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var s=this.columnsheader.find("#columntable"+this.element.id);s.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columngroupslevel-1;o++)for(i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],d=l.level;if(d===o){var h=d*this.columnsheight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=u(n):n.hidden||(t+=n.width,c=Math.min(parseFloat(n.element.style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsheight,m=n--,f=e('<div role="columnheader" style="z-index: '+m+';position: absolute;" class="'+a+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){g=e("<div style='height: 100%; width: 100%;'></div>");var v=l.renderer(l.text,l.align,p);g.html(v)}f.append(g),f[0].style.left=c+"px",0===c&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=h+"px",f[0].style.height=p+"px",f[0].style.width=-1+l.width+"px",s.append(f),l.element=f,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,n=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var a=e.groups[i];a.groups?t+=r(a):a.hidden||(t+=a.width,n=Math.min(parseFloat(a.element.style.left),n))}return t};t.width=r(t),t.left=n;var a=this.columnsheight,s=t.element;s[0].style.left=n+"px",s[0].style.top=i+"px",s[0].style.height=a+"px",s[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,n,r,a){t.dragmousedown=null,r[0].id=t.dataview.generatekey(),i.append(r),n[0].columnsmenu=r[0],a.element=n[0];var s=this.columnsmenuwidth+1,o="mouseenter";if(t.isTouchDevice()&&(o="touchstart"),t.addHandler(n,o,function(i){var o=parseInt(i.pageX),l=t.columnsresize&&a.resizable?3:0,d=parseInt(n.coord().left);t.hasTransform&&(d=e.jqx.utilities.getOffset(n).left);var h=a.width;if(t.rtl&&(h=0),0!=l&&o>=d+h-l&&o<=d+h+l)return!1;var c=t.vScrollInstance.isScrolling();a.menu&&t.autoshowcolumnsmenubutton&&!c&&!t.disabled&&function(){if(!a.menu)return!1;if(!t.resizing){if(a._menuvisible&&t._hasOpenedMenu)return!1;if(a._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations)r.css("display","block"),r.stop(),a.iconscontainer.stop(),t.rtl?(r.css("margin-left",-s),r.animate({"margin-left":"0px"},"fast",function(){r.css("display","block"),a._animating=!1,a._menuvisible=!0})):(r.css("margin-left","0px"),r.animate({"margin-left":-s},"fast",function(){r.css("display","block"),a._animating=!1,a._menuvisible=!0})),e=t.rtl?s:-(32+s),a.iconscontainer.animate({"margin-left":e},"fast");else{r.css("display","block");var e=t.rtl?16:-48;a.iconscontainer.css("margin-left",e+"px"),a._animating=!1,a._menuvisible=!0}}}()}),!t.autoshowcolumnsmenubutton){r.css("display","block");var l=t.rtl?16:-48;a.iconscontainer.css("margin-left",l+"px"),t.rtl?r.css({"margin-left":"0px"}):r.css({"margin-left":-s})}t.addHandler(n,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&a.menu){var n=e.data(document.body,"contextmenu"+t.element.id);if(null!=n&&r[0].id==n.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?r.css("margin-left","0px"):r.css("margin-left",-s),r.stop(),a.iconscontainer.stop(),t.rtl?r.animate({"margin-left":-s},"fast",function(){r.css("display","none"),a._menuvisible=!1}):r.animate({"margin-left":0},"fast",function(){r.css("display","none"),a._menuvisible=!1});o=t.rtl?0:-32;a.iconscontainer.animate({"margin-left":o},"fast")}else{r.css("display","none");var o=t.rtl?0:-32;a.iconscontainer.css("margin-left",o+"px"),a._menuvisible=!1}}});var d=!0,h="",c=e(a.filtericon);t.addHandler(r,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(h=e.data(document.body,"contextmenu"+t.element.id))&&(h=h.column.datafield)}),t.addHandler(c,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(h=e.data(document.body,"contextmenu"+t.element.id))&&(h=h.column.datafield)});var u=function(){if(!a.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=a.datafield&&(t.columns.records[i]._menuvisible=!1);var n=r.coord(!0),s=r.height();if(!d&&(d=!0,h==a.datafield))return t._closemenu(),!1;var o=t.host.coord(!0);t.hasTransform&&(o=e.jqx.utilities.getOffset(t.host),n=e.jqx.utilities.getOffset(r)),o.left+t.host.width()>parseInt(n.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",n.left,n.top+s):t.gridmenu.jqxMenu("open",r.width()+n.left-t.gridmenu.width(),n.top+s),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0;var l=t._getmenuitembyindex(0),c=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),p=t._getmenuitembyindex(3),m=t._getmenuitembyindex(4),f=t._getmenuitembyindex(5);if(null!=l&&null!=c&&null!=u){var g=a.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",l.id,!g),t.gridmenu.jqxMenu("disable",c.id,!g),t.gridmenu.jqxMenu("disable",u.id,!g),null!=a.displayfield)if(t.sortcolumn==a.displayfield){var v=t.getsortinformation();g&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",l.id,!0):t.gridmenu.jqxMenu("disable",c.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=p&&null!=m&&(t.groupable&&a.groupable?t.groups&&-1!=t.groups.indexOf(a.datafield)?(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",m.id,!1)):(t.gridmenu.jqxMenu("disable",p.id,!1),t.gridmenu.jqxMenu("disable",m.id,!0)):(t.gridmenu.jqxMenu("disable",m.id,!0),t.gridmenu.jqxMenu("disable",p.id,!0))),null!=f){t.menuOwner=a,t._updatefilterpanel(t,f,a);var b=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(b+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(b+=2);var y=33*b+6;y=b*t._measureMenuElement()+14;e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=20,e(f).height(190)),t.isTouchDevice()&&(y+=10),t.filterable&&t.showfiltermenuitems&&(a.filterable?(t.gridmenu.height(y+190),e(f).css("display","block")):(t.gridmenu.height(y),e(f).css("display","none")))}t.columnmenuopening&&(!1===t.columnmenuopening(t.gridmenu,a.displayfield,t.gridmenu.height())&&t._closemenu());e.data(document.body,"contextmenu"+t.element.id,{column:a,columnsmenu:r[0]})};t.addHandler(c,"click",function(e){return!!a.menu&&(t.showfilterrow||("block"!=r[0].style.display&&n.trigger("mouseenter"),setTimeout(function(){"block"!=r[0].style.display&&n.trigger("mouseenter"),u()},200)),!1)}),t.addHandler(r,"click",function(e){return!!a.menu&&(u(),!1)}),t.isTouchDevice()&&t.addHandler(r,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return!!a.menu&&(t._hasOpenedMenu?t._closemenu():u(),!1)})},_removecolumnhandlers:function(t){var i=this.that,n=e(t.element);if(n.length>0){i.removeHandler(n,"mouseenter"),i.removeHandler(n,"mouseleave");var r=e(t.filtericon);if(i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(n,"click"),i.removeHandler(n,"mousemove"),i.columnsreorder&&(i.removeHandler(n,"mousedown.drag"),i.removeHandler(n,"mousemove.drag")),i.removeHandler(n,"dragstart"),n[0].columnsmenu){var a=e(n[0].columnsmenu);i.removeHandler(a,"click"),i.removeHandler(a,"mousedown"),i.removeHandler(a,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,n){var r="7px";return n.columngroups?((r=i/2-this._columnheight/2)<0&&(r=6),r+="px"):30!=this.columnsheight&&((r=this.columnsheight/2-this._columnheight/2)<0&&(r=6),r+="px"),this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; margin-top: '+r+';"><a href="#">'+e+"</a></div>":'<a style="margin-top: '+r+"; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(t,i,n){var r=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(r.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var a=this.source.totalrecords;isNaN(a)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=a&&(r.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||r.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0))),r._prerenderrows(t),r._requiresupdate&&(r._requiresupdate=!1,r._updatepageviews());var s=function(){r._loading||(r.WinJS?MSApp.execUnsafeLocalFunction(function(){r._rendervisualrows()}):r._rendervisualrows(),r.virtualmode&&r.showaggregates&&r._updateaggregates&&r.refreshaggregates())},o=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){this.loadondemand&&(s(),function(){if(r.rendergridrows){var e=r._startboundindex;null==e&&(e=0);var t=e+1+r.dataview.pagesize;if(null!=e&&null!=t){var n=!!r.source._source;if((n?r.source._source.recordstartindex:r.source.recordstartindex)!=e||1==i){if(n){if(t>=r.source._source.totalrecords&&((e=(t=r.source._source.totalrecords)-r.dataview.pagesize-1)<0&&(e=0),r.source._source.recordendindex==t&&r.source._source.recordstartindex==e))return;r.source._source.recordstartindex=e,r.source._source.recordendindex=t}else r.source.recordstartindex=e,r.source.recordendindex=t;r.updatebounddata("cells")}}}}(),this.loadondemand=!1);var l=null==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?s():this.autoheight?s():l||o||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){s()},5)):s()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var d=this._getfirstvisualrow();if(null!=d){var h=this.scrollfeedback?this.scrollfeedback(d.bounddata):function(t){if(null==d)return"";var i="<table>",n=r.deferreddatafields;null==n&&r.columns.records.length>0&&(n=new Array).push(r.columns.records[0].displayfield);for(var a=0;a<n.length;a++){var s=n[a],o=r._getcolumnbydatafield(s);if(o){var l=r._getcellvalue(o,d);""!=o.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(l)?l=e.jqx.dataFormat.formatdate(l,o.cellsformat,r.gridlocalization):e.jqx.dataFormat.isNumber(l)&&(l=e.jqx.dataFormat.formatnumber(l,o.cellsformat,r.gridlocalization))),i+="<tr><td>"+l+"</td></tr>"}}return i+="</table>"}(d.bounddata);h!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=h,this._scrollelementcontent=h)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){r.hScrollInstance.isScrolling()||r.vScrollInstance.isScrolling()||(s(),r._scrollelement.css("visibility","hidden"),r._scrollelementoverlay.css("visibility","hidden"),clearInterval(r._scrolltimer),d&&r.ensurerowvisible(d.visibleindex))},100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),null!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((l=null==this._browser?this._isIE10():this._browser)||o)&&(this._updatedelay=5),l&&this.hScrollInstance.isScrolling())return void s();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)s();else{var c=this._jqxgridrendertimer;null!=c&&clearTimeout(c),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?c=setTimeout(function(){s()},this._updatedelay):(c=null,s()),this._jqxgridrendertimer=c):(this._jqxgridrendertimer=c,s())}}if(r.autorowheight&&!r.autoheight&&this._pageviews.length>0){var u=this._gettableheight(),p=this._pageviews[0].height;if(p>u)if(this.pageable&&this.gotopage&&(p=this._pageviews[0].height)<0&&(p=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p<=u||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),p-u>0){if("deferred"!=this.scrollmode){var m=p-u,f=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:m}),Math.round(m)!=Math.round(f))this.vScrollBar.jqxScrollBar("value")>m&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:p});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=p)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var n=this.table[0].rows.length,r=this.columnsrow,a=this.groupable&&this.groups.length>0?this.groups.length:0,s=this.columns.records.length-a,o=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;d<n;d++)for(var h=this.table[0].rows[d],c=0;c<a+s;c++){if(null!=(u=h.cells[c]))if(o[c].pinned)if(u.style.marginLeft=i+"px",0==d)r[0].cells[c].style.marginLeft=i+"px"}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else if(this._haspinned||null==this._haspinned){for(d=0;d<n;d++)for(h=this.table[0].rows[d],c=0;c<a+s;c++){var u;if(null!=(u=h.cells[c]))if(o[c].pinned){if(0==i&&""==u.style.marginLeft)continue;var p=null,m=null,f=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(f=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(m=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==d)r[0].cells[c].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px"),f&&(f.style.marginLeft=-parseInt(t)+"px")}else if(u.style.marginLeft=i+"px",0==d)r[0].cells[c].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px"),f&&(f.style.marginLeft=i+"px")}}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var g=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(g=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+g+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,n,r,a){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+n};var s=0,o=-1,l=i+n,d=!1;if(this.autorowheight)return{start:0,end:i+n};if(!r)for(var h=0;h<i+n;h++){if(d||this.columns.records[h].pinned&&a&&(d=!0),this.columns.records[h].hidden||(s+=this.columns.records[h].width),s>=e&&-1==o&&(o=h),s>t+e){l=h;break}}return++l>i+n&&(l=i+n),(-1==o||d)&&(o=0),{start:o,end:l}},_getvirtualcolumnsindexes:function(e,t,i,n,r){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+n};var a=0,s=-1,o=i+n;if(this.autorowheight)return{start:0,end:i+n};if(!r)for(var l=0;l<i+n;l++){if(this.columns.records[l].hidden||(a+=this.columns.records[l].width),a>=e&&-1==s&&(s=l),a>t+e){o=l;break}}return++o>i+n&&(o=i+n),-1==s&&(s=0),{start:s,end:o}},_getfirstvisualrow:function(){var e=this.vScrollInstance.value,t=parseInt(e);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(t=0),!this.pageable){var i=this._findvisiblerow(t,this._pageviews);if(-1==i)return null;i!=this.dataview.pagenum?(this.dataview.pagenum=i,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var n=this._findvisiblerow(t,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum];if(r&&r[0])return r[n]},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,n=t.value,r=i.value,a=parseInt(n),s=parseInt(r),o=this._gettableheight(),l=null!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(o+=29),"deferred"==this.scrollmode&&0!=this._newmax&&a>this._newmax&&null!=this._newmax&&(a=this._newmax);var d=t.isScrolling()||i.isScrolling()||this._keydown,h=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&null==this.editrow&&this._hidecelleditor(!1),null!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(a=0),!this.pageable){var c=this._findvisiblerow(a,this._pageviews);if(-1==c)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var p=this.columns.records.length-u,m=this._findvisiblerow(a,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum],g=m;g<0&&(g=0);var v=0,b=0,y=0,_=0,w=this.virtualsizeinfo.visiblerecords,x=this.groupable?this.groups.length:0,C=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(C+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(w=this.dataview.pagesize),h&&(C=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(C+=" "+this.toTP("jqx-touch")),this.autorowheight&&(C+=" jqx-grid-cell-wrap");var S=this.rowsheight,T=this._rendercell,P=this._getvisualcolumnsindexes(s,l,u,p,h,!0),I=P.start,E=P.end,D=this._getvirtualcolumnsindexes(s,l,u,p,h),k=D.start,j=D.end;e.jqx.browser.msie&&e.jqx.browser.version;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=f?f[g].bounddata.boundindex:0,this._startvisibleindex=null!=f?f[g].bounddata.visibleindex:0;var M=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var A=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},N=0;N<M.length;N++){for(var q=M[N],O=0;O<k;O++){var B=O;if(!this.columns.records[B].pinned&&null!=this.columns.records[B].datafield){A(V=q.cells[B])&&V.parentNode.removeChild(V);var R=this.columns.records[B].element;this.columns.records[B]._rendered=!1,A(R)&&this.columnsrow[0].removeChild(R),this.filterrow&&A(this.filterrow[0].cells[B])&&this.columns.records[B].filterable&&this.filterrow[0].cells[B].parentNode.removeChild(this.filterrow[0].cells[B])}}for(O=j;O<this.columns.records.length;O++){B=O;if(!this.columns.records[B].pinned&&null!=this.columns.records[B].datafield){A(V=q.cells[B])&&V.parentNode.removeChild(V);R=this.columns.records[B].element;this.columns.records[B]._rendered=!1,A(R)&&this.columnsrow[0].removeChild(R),this.filterrow&&A(this.filterrow[0].cells[B])&&this.columns.records[B].filterable&&this.filterrow[0].cells[B].parentNode.removeChild(this.filterrow[0].cells[B])}}for(O=k;O<j;O++){var V;B=O;A(V=q.cells[B])||q.appendChild(V);R=this.columns.records[B].element;this.columns.records[B]._rendered=!0,A(R)||this.columnsrow[0].appendChild(R),this.filterrow&&!A(this.filterrow[0].cells[B])&&this.columns.records[B].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[B])}}for(var H=0;H<w&&b<w;H++){var L=null!=f?f[g+H]:null;if(null==L){if(g=-H,this._pagescache[this.dataview.pagenum+1])f=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var z=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){f=void 0;break}this.dataview.pagenum++,f=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),f=this._pagescache[this.dataview.pagenum])}while(null==f&&this.dataview.pagenum<z)}null!=f&&(L=f[g+H])}if(null!=L){if(L.hidden)continue;if(this._endboundindex=this._startboundindex+H,this._endvisibleindex=this._startvisibleindex+H,0==H){var F=Math.abs(a-L.top);this.table[0].style.top=-F+"px",_=-F}if(!(q=this.table[0].rows[b]))continue;parseInt(q.style.height)!=L.height&&(q.style.height=parseInt(L.height)+"px"),y+=L.height;var U=this.rowdetails&&L.rowdetails,$=!L.rowdetailshidden;U&&$&&(q.style.height=parseInt(L.height-L.rowdetailsheight)+"px",w++);var W=this._isrowselected(!0,L);for(O=I;O<E;O++){B=O;this._rendervisualcell(T,C,W,U,$,h,x,q,L,B,b,d)}if(null!=L.group&&this._rendergroup&&this._rendergroup(x,q,L,u,p,b,l),this.autorowheight&&(this.autoheight||this.pageable)){for(S=this.rowsheight,O=I;O<E;O++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[O].datafield&&this.editcell.row==this.getboundindex(L)&&this.editcell.editor?S=Math.max(S,this.editcell.editor.height()):q.cells[O].firstChild&&(S=Math.max(S,8+parseInt(q.cells[O].firstChild.offsetHeight)));q.style.height=parseInt(S)+"px",this.heights[this._startboundindex+H]=S,U&&$&&(S+=L.rowdetailsheight),L.height=S}if(this.visiblerows[this.visiblerows.length]=L,this.hittestinfo[this.hittestinfo.length]={row:L,visualrow:q,details:!1},U&&$){b++;q=this.table[0].rows[b];this._renderrowdetails(C,q,L,u,p,b),this.visiblerows[this.visiblerows.length]=L,this.hittestinfo[this.hittestinfo.length]={row:L,visualrow:q,details:!0}}if(!this.autorowheight&&y+_>=o)break}else{this._clearvisualrow(s,h,b,u,p),y+v+_<=o&&(v+=S)}b++}if(this._horizontalvalue=s,v>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var G=this._pageviews[this._pageviews.length-1],X=t.max,Y=G.top+G.height-o;"visible"==this.hScrollBar.css("visibility")&&(Y+=this.scrollbarsize+20),X==Y||this.autorowheight||Y>=0&&("deferred"!=this.scrollmode?(t.max=Y,t.setPosition(t.max)):this._newmax!=Y&&(this._newmax=Y,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;var J=0,Q=0;for(N=0;N<this.visiblerows.length;N++){var K=this.visiblerows[N];K.top=J,J+=K.height,Q+=K.height;U=this.rowdetails&&K.rowdetails,$=!K.rowdetailshidden,q=this.table[0].rows[N];U&&$&&N++;for(O=I;O<E;O++){var Z=this.columns.records[O];if(!Z.hidden&&!Z.cellsrenderer){var ee=q.cells[O],te=0;if(ee.firstChild){te=(K.height-parseInt(ee.firstChild.offsetHeight)-8)/2;if(U&&$)te=(K.height-K.rowdetailsheight-e(ee.firstChild).height()-8)/2}else te=(K.height-parseInt(e(ee).height())-8)/2;if(te>=0&&(te=parseInt(te)+4,ee.firstChild&&-1==ee.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=Z.columntype&&"button"!=Z.columntype)){if(this.editable&&this.editcell&&this.editcell.column==Z.datafield&&this.editcell.row==this.getboundindex(K))continue;ee.firstChild.style.marginTop=te+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=Q),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){e.each(this.toCompile,function(t,i){if(this.compiled)return!0;var n=this.cell;if(!n)return!0;e.jqx.angularCompile&&e.jqx.angularCompile(n,"<div>"+this.value+"</div>"),this.compiled=!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,n=0;n<t.cells.length;n++){var r=e(t.cells[n]);"none"==r.css("display")||i||r.width()!=this.host.width()&&r.text()!=this.gridlocalization.emptydatastring||(r[0].checkbox=null,r[0].button=null,i=!0,r[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var n=this.table[0].rows[0];this.table[0].style.top="0px";for(var r=0;r<n.cells.length;r++){var a=e(n.cells[r]);if("none"!=a.css("display")&&!t){a[0].checkbox=null,a[0].button=null,a[0].className=i,t=!0,a[0].innerHTML="";var s=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");s.text(this.gridlocalization.emptydatastring),a.append(s);var o=0;this.oldhscroll||(o=parseInt(this.table[0].style.marginLeft),this.rtl&&(a.css("z-index",999),a.css("overflow","visible"))),s.css("left",-o-s.width()/2),s.css("top",this._gettableheight()/2-s.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.css("margin-left","0px"),s.css("left",this.host.width()/2-s.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(n).height(this._gettableheight()+l),a.css("margin-left","0px"),a.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}a.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance.value,i=parseInt(t),n=this.groupable&&this.groups.length>0;if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(i,n,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var n=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var a=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=a){for(var s in this.selectedcells)s==a+"_"+i&&(n=!0);return n}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||null==t.bounddata.dataindex)for(var s in this.selectedcells)s==r+t.bounddata.boundindex+"_"+i&&(n=!0);else for(var s in this.selectedcells)s==r+t.bounddata.dataindex+"_"+i&&(n=!0);else for(var s in this.selectedcells)if(s==r+t.bounddata.boundindex+"_"+i){n=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||null==t.bounddata.dataindex){for(var s in this.selectedcells)if(s==r+t.bounddata.boundindex+"_"+i){n=!0;break}}else for(var s in this.selectedcells)if(s==r+t.bounddata.dataindex+"_"+i){n=!0;break}}else for(var s in this.selectedcells)if(s==r+t.bounddata.boundindex==this.selectedrowindex){n=!0;break}return n},_isrowselected:function(e,t){var i=!1,n=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(n=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var r=this.getrowboundindexbyid(t.bounddata.uid);return null!=r&&-1!=r&&(-1!=this.selectedrowindexes.indexOf(r)&&(i=!0),i||(i=r==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(n+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(n+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(n+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(n+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(n+t.bounddata.dataindex)&&(i=!0):n+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,n,r,a,s,o,l,d,h,c,u){var p=this.columns.records[h];if(p.hidden){(f=l.cells[h]).innerHTML=""}else{var m=this._getcellvalue(p,d),f=l.cells[h],g=i;if(-1!=this.selectionmode.indexOf("cell")&&(n=this.dataview.filters.length>0?!!this.selectedcells[d.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[d.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(n=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(n=this._iscellselected(!0,d,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)g+=" "+p.cellclassname;else{var v=p.cellclassname(this.getboundindex(d),p.datafield,m,d.bounddata);v&&(g+=" "+v)}var b=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if(b&&(g+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter")),d.bounddata.totalsrow&&(g+=" "+this.toTP("jqx-grid-cell-pinned")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(s&&d.bounddata.totalsrow||(g+=" "+this.toTP("jqx-grid-cell-pinned"))),this.altrows&&null==d.group){var y=d.visibleindex;y>=this.altstart&&(this.altstart+y)%(1+this.altstep)==0&&(g+=b?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h<=o){if(s||this.rowdetails||this.pageable&&this.virtualmode){var _=e(f),w=this.columns.records[h].width;f.style.width!=parseInt(w)+"px"&&_.width(w)}}else if((s||this.rowdetails)&&this._hiddencolumns){_=e(f),w=this.columns.records[h].width;parseInt(f.style.width)!=w&&_.width(w)}var x=!0;if(this.rowdetails&&r&&(a&&!s?g+=" "+this.toTP("jqx-grid-details-cell"):s&&(g+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(null==d.group&&h==l.cells.length-o-1){C=this.toThemeProperty("jqx-icon-arrow-down");if(a)g+=" "+this.toTP("jqx-grid-group-expand-rtl"),g+=" "+C;else g+=" "+this.toTP("jqx-grid-group-collapse-rtl"),g+=" "+(C=this.toThemeProperty("jqx-icon-arrow-left"));return x=!1,f.title="",f.innerHTML="",void(f.className!=g&&(f.className=g))}}else if(null==d.group&&h==o&&!d.bounddata.totalsrow){var C=this.toThemeProperty("jqx-icon-arrow-down");if(a)g+=" "+this.toTP("jqx-grid-group-expand"),g+=" "+C;else g+=" "+this.toTP("jqx-grid-group-collapse"),g+=" "+(C=this.toThemeProperty("jqx-icon-arrow-right"));return x=!1,f.title="",f.innerHTML="",void(f.className!=g&&(f.className=g))}if(n&&x&&h>=o&&(g+=" "+this.toTP("jqx-grid-cell-selected"),g+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=g&&(f.className=g),null!=d.group)return m="",f.title="",void(f.innerHTML="");t(this,p,d,m,f,u)}},_rendercell:function(t,i,n,r,a,s){var o=r+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)o=n.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(r=n.visibleindex),t.editcell&&null==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(n)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,a,!1,!1):t._showcelleditor(t.editcell.row,i,a,t.editcell.init))}else if(t.editcell.row==t.getboundindex(n)&&t.editcell.column==i.datafield&&(t.editcell.element=a,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init));var l=t._defaultcellsrenderer(r,i),d=t._cellscache[o];if(!d){if("checkbox"==i.columntype)return t._rendercheckboxcell(t,a,i,n,r),t._cellscache[o]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(a.title=""+r));if("button"==i.columntype)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata)),t._renderbuttoncell(t,a,i,n,r),t._cellscache[o]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(a.title=""+r));if("number"==i.columntype&&(r=n.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata)),t._renderwidgetcell(t,a,i,n,r),t._cellscache[o]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(a.title=r));m=null;if(null!=i.cellsrenderer){if((m=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata))&&(m.indexOf("<jqx-")>=0||m.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:a,value:m,row:t.getboundindex(n)}))}else m=l;null==m&&(m=l);var h=r;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?h=e.jqx.dataFormat.formatdate(h,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(h=e.jqx.dataFormat.formatnumber(h,i.cellsformat,t.gridlocalization))),a.title=h),t.WinJS)e(a).html(m);else{var c=a.innerHTML;if(c.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode)a.innerHTML=m;else if(c.length>0){f=m.indexOf(">"),g=m.indexOf("</"),v=m.substring(f+1,g),b=a.childNodes[0];if(v.indexOf(">")>=0)a.innerHTML=m;else if(b.childNodes[0])v!=b.childNodes[0].nodeValue&&(v.indexOf("&")>=0||c.indexOf("span")>=0?a.innerHTML=m:b.childNodes[0].nodeValue=v);else{y=document.createTextNode(v);b.appendChild(y)}}else c!=m&&(a.innerHTML=m)}return t._cellscache[o]={element:a.innerHTML,title:h},!0}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===r&&(r=null);var u=0==a.innerHTML.toString().length;if(!a.checkbox||t.groupable||u?t._rendercheckboxcell(t,a,i,n,r):(a.checkboxrow=t.getboundindex(n),""==r&&(r=!1),"1"==r&&(r=!0),"0"==r&&(r=!1),1==r&&(r=!0),0==r&&(r=!1),"true"==r&&(r=!0),"false"==r&&(r=!1),null!=r||i.threestatecheckbox||(r=!1),i.checkboxcolumn&&(r=!1,t.dataview.filters.length>0&&!t.virtualmode&&null!=n.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(n.bounddata.dataindex)&&(r=!0):-1!=t.selectedrowindexes.indexOf(n.bounddata.boundindex)&&(r=!0)),t.disabled||(a.checkboxinstance?a.checkboxinstance._setState(r):a.checkbox.jqxCheckBox("_setState",r))),null!=i.cellsrenderer){var p=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata);null!=p&&(a.innerHTML=p)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==r&&(r=!1),null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata)),""==a.innerHTML&&(a.buttonrow=t.getboundindex(n),a.button=null,t._renderbuttoncell(t,a,i,n,r)),void(a.button&&!t.groupable?(a.buttonrow=t.getboundindex(n),a.button.val(r)):t._renderbuttoncell(t,a,i,n,r));if(i.createwidget)if(""==a.innerHTML&&(a.widgetrow=t.getboundindex(n),a.widget=null,t._renderwidgetcell(t,a,i,n,r)),a.widget&&!t.groupable){if(a.widgetrow=t.getboundindex(n),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(n),i.datafield,r,a.firstChild)}else t._renderwidgetcell(t,a,i,n,r);else{var m=d.element;if(null!=i.cellsrenderer||a.childNodes&&0==a.childNodes.length||t.groupable||t.rowdetails)a.innerHTML!=m&&(a.innerHTML=m);else if(a.innerHTML.indexOf("editor")>=0)a.innerHTML=m;else if(s){var f=m.indexOf(">"),g=m.indexOf("</"),v=m.substring(f+1,g),b=a.childNodes[0];if(v.indexOf(">")>=0)a.innerHTML=m;else if(b.childNodes[0])v!=b.childNodes[0].nodeValue&&(v.indexOf("&")>=0?a.innerHTML=m:b.childNodes[0].nodeValue=v);else{var y=document.createTextNode(v);b.appendChild(y)}}else a.innerHTML!=m&&(a.innerHTML=m);t.enabletooltips&&i.enabletooltips&&(a.title=d.title)}},_isIE10:function(){if(null==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,-1!=(i+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,n,r,a){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,n,r,a){if(t.host.jqxCheckBox){var s=e(i);if(""===a&&(a=!!n.threestatecheckbox&&null),null!==a||n.threestatecheckbox||(a=!1),"1"==a&&(a=!0),"0"==a&&(a=!1),1==a&&(a=!0),0==a&&(a=!1),"true"==a&&(a=!0),"false"==a&&(a=!1),n.checkboxcolumn){a=!1;var o=this.getboundindex(r);-1!=this.selectedrowindexes.indexOf(o)&&(a=!0)}if(0==s.find(".jqx-checkbox").length)i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:n.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:a}),this.enabletooltips&&n.enabletooltips&&(i.title=""+a),this.editable&&n.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),n.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(r),e.data(i.firstChild,"jqxCheckBox").instance.updated=function(r,a,s){if(t.disabled){a=s;for(var o=t.table[0].rows.length,l=t._getcolumnindex(n.datafield),d=0;d<o;d++){(c=t.table[0].rows[d].cells[l].firstChild)&&e(c).jqxCheckBox({disabled:t.disabled})}}if(n.editable&&!t.disabled){o=t.table[0].rows.length,l=t._getcolumnindex(n.datafield);if(null==t.editrow){if(n.cellbeginedit)if(0==n.cellbeginedit(i.checkboxrow,n.datafield,n.columntype,!a))return void t.setcellvalue(i.checkboxrow,n.datafield,!a,!0);if(n.cellvaluechanging){var h=n.cellvaluechanging(i.checkboxrow,n.datafield,n.columntype,s,a);null!=h&&(a=h)}if("selectedrow"!==t.editmode)for(d=0;d<o;d++){var c;(c=t.table[0].rows[d].cells[l].firstChild)&&e(c).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,n.datafield,!a,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var u=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:u,datafield:n.datafield,value:s,columntype:n.columntype}),t.setcellvalue(i.checkboxrow,n.datafield,a,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:u,datafield:n.datafield,oldvalue:s,value:a,columntype:n.columntype})}else t.setcellvalue(i.checkboxrow,n.datafield,a,!1,!1);n.cellendedit&&n.cellendedit(i.checkboxrow,n.datafield,n.columntype,a)}}else n.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(a?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))};else i.checkboxrow=this.getboundindex(r),e(i.firstChild).jqxCheckBox("_setState",a,!(this.editable&&n.editable||n.checkboxcolumn))}},_renderwidgetcell:function(t,i,n,r,a){if(0==e(i).find(".jqx-grid-widget").length){i.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',n.createwidget(r,n.datafield,a,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(r)}else n.initwidget(t.getboundindex(r),n.datafield,a,i.firstChild),i.widgetrow=t.getboundindex(r),e(i.firstChild).val(a)},_renderbuttoncell:function(t,i,n,r,a){if(t.host.jqxButton)if(""==a&&(a=!1),0==e(i).find(".jqx-button").length)if(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(a),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:n.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(r),this.isTouchDevice()){var s=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),s,function(e){n.buttonclick&&n.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){n.buttonclick&&n.buttonclick(i.buttonrow,e)});else i.buttonrow=t.getboundindex(r),e(i.firstChild).val(a)},_clearvisualrow:function(t,i,n,r,a){var s=this.toTP("jqx-grid-cell");i&&(s=" "+this.toTP("jqx-grid-group-cell")),s+=" "+this.toTP("jqx-grid-cleared-cell");for(var o=this.table[0].rows,l=0;l<r+a;l++)if(o[n]){var d=o[n].cells[l];d.className!=s&&(d.className=s);var h=this.columns.records[l];if(this._horizontalvalue!=t&&!h.pinned&&1==this.oldhscroll){d.style.marginLeft=-t+"px"}var c=h.width;c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth),parseInt(d.style.width)!=c&&(e(d)[0].style.width="auto"!=c?c+"px":c),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}o[n]&&parseInt(o[n].style.height)!=this.rowsheight&&(o[n].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(null==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,n=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this.text,n=this,!1}),this._columnsbydatafield[t]={label:i,column:n},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(null==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return this.text,i=this,!1}),this.__columnsbydatafield[t]=i,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,n,r,a,s){if(null!=i){var o=e(i),l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var d=0;d<=a;d++){var h;(h=e(i.cells[d]))[0].innerHTML="",h[0].className="jqx-grid-details-cell"}if("none"==(h=e(i.cells[0]))[0].style.display){for(var c=i.cells[0],u=2;null!=c&&"none"==c.style.display&&u<10;)c=i.cells[0+u-1],u++;h=e(c)}if(this.rtl)for(var p=r;p<a;p++)i.cells[p].innerHTML="",i.cells[p].className="jqx-grid-details-cell";h.css("width","100%"),o.height(n.rowdetailsheight),h[0].className=t;var m=this.getboundindex(n),f=m+"_";if(this._rowdetailscache[f]){var g=this._rowdetailscache[f].html;if(this.initrowdetails){if(this._rowdetailscache[f].element){var v=this._rowdetailscache[f].element,b=h.coord(),y=this.gridcontent.coord(),_=parseInt(b.top)-parseInt(y.top),w=parseInt(b.left)-parseInt(y.left);this.rtl&&(w=0),e(v).css("top",_),e(v).css("left",w),e(v).css("display","block"),e(v).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(m,v,this.element,this.getrowdata(m))}}else h[0].innerHTML=g}else{h[0].innerHTML="",this.enablerowdetailsindent||(l=0);var x='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;">'+n.rowdetails+"</div>";if(this.rtl)x='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;">'+n.rowdetails+"</div>";if(this._rowdetailscache[f]={id:i.id,html:x},this.initrowdetails){v=e(x)[0];e(this.gridcontent).prepend(e(v)),e(v).css("position","absolute"),e(v).width(this.host.width()-l),e(v).height(h.height());b=h.coord();e(v).css("z-index",9999),this.isTouchDevice()&&e(v).css("z-index",99999),e(v).addClass(this.toThemeProperty("jqx-widget-content"));b=h.coord(),y=this.gridcontent.coord(),_=parseInt(b.top)-parseInt(y.top),w=parseInt(b.left)-parseInt(y.left);e(v).css("top",_),e(v).css("left",w),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var C=e(e(v).children()[0]);""!=C[0].id&&(C[0].id=C[0].id+m),this.initrowdetails(m,v,this.element,this.getrowdata(m)),this._rowdetailscache[f].element=v,this._rowdetailselementscache[m]=v}else h[0].innerHTML=x}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var n="6px";if(28!=this.rowsheight&&((n=this.rowsheight/2-this._cellheight/2)<0&&(n=4),n+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+n+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+n+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+n+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+n+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+n+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var n=this.getcellvalue(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?n=e.jqx.dataFormat.formatdate(n,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(n)&&(n=e.jqx.dataFormat.formatnumber(n,r.cellsformat,this.gridlocalization))),n},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var n=this.getcellvaluebyid(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?n=e.jqx.dataFormat.formatdate(n,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(n)&&(n=e.jqx.dataFormat.formatnumber(n,r.cellsformat,this.gridlocalization))),n},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),n=e,r="";return isNaN(i)||(n=this.getrowdata(i)),null!=n&&(r=n[t]),this._getcellresult(r,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),n=e,r="";return isNaN(i)||(n=this.getrenderedrowdata(i)),null!=n&&(r=n[t]),this._getcellresult(r,e,t)},_getcellresult:function(e,t,i){var n=this.getcolumn(i);if(null==n||null==n)return null;var r=n.getcolumnproperties(),a=r.hidden,s=r.width,o=r.pinned,l=r.cellsalign,d=r.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:s,height:h,hidden:a,pinned:o,align:l,format:d}},setcellvaluebyid:function(e,t,i,n,r){var a=this.getrowboundindexbyid(e);return this.setcellvalue(a,t,i,n,r)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,n,r,a){if(null==t||null==i)return!1;var s=parseInt(t),o=t;isNaN(s)||(o=this.getrowdata(s));var l=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(l=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var d="",h="";if(null==o||o[i]===n)return this._updating||0==r||this._renderrows(this.virtualsizeinfo),!1;if(null!==o[i]||""!==n){var c=this._getcolumnbydatafield(i),u="string";if(w=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var p="";e.each(w,function(){if(this.name==c.displayfield)return this.type&&(p=this.type),!1}),p&&(u=p),h=o[c.displayfield]}if(d=o[i],!c.nullable||null!=n&&""!==n&&c.nullable&&void 0===n.label){if(e.jqx.dataFormat.isNumber(d)||"number"==u||"float"==u||"int"==u||"decimal"==u&&"date"!=u)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&n&&n.indexOf&&n.indexOf(",")>=0&&(n=n.replace(",",".")),n=new Number(n),n=parseFloat(n),isNaN(n)&&(n=0);else if((e.jqx.dataFormat.isDate(d)||"date"==u)&&""!=n){var m=n;"Invalid Date"!=(m=new Date(m))&&null!=m?n=m:"Invalid Date"==m&&(n=m=new Date)}if(o[i]===n)return void(this._updating||0==r||this._renderrows(this.virtualsizeinfo))}var f=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(o[i]=n,f){var g=this.source._source.localdata;g._updating||(g._updating=!0,g[t][i]=n,g._updating=!1)}var v=this.getrenderedrowdata(s,!0);if(v){if(v[i]=n,null!=n&&null!=n.label&&(o[(c=this._getcolumnbydatafield(i)).displayfield]=n.label,v[c.displayfield]=n.label,o[i]=n.value,v[i]=n.value,f&&!g._updating&&(g._updating=!0,g[t][i]=n.value,g[t][c.displayfield]=n.label,g._updating=!1)),l&&null!=o.dataindex&&(o.dataindex,this.dataview.cachedrecords[o.dataindex][i]=n,null!=n&&null!=n.label&&(this.dataview.cachedrecords[o.dataindex][i]=n.value,this.dataview.cachedrecords[o.dataindex][c.displayfield]=n.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var b=s;l&&null!=o.dataindex&&(b=o.dataindex);var y=this.source._source._localdata()[b];this.source.suspendKO=!0;var _=y;if(_[i]&&_[i].subscribe)null!=n&&null!=n.label?(_[c.displayfield](n.label),_[i](n.value)):_[i](n);else{var w=this.source._source.datafields,x=null;if(w&&e.each(w,function(){if(this.name==i)return x=this.map,!1}),null==x)null!=n&&null!=n.label?(_[i]=n.value,_[c.displayfield]=n.label):_[i]=n;else{var C=x.split(this.source.mapChar);if(C.length>0){for(var S=_,T=0;T<C.length-1;T++)S=S[C[T]];S[C[C.length-1]]=n}}this.source._source._localdata.replace(y,e.extend({},_))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var P=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(P.sortcolumn,P.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(null==a||1==a)){var I=this.that;try{var E=this.getrowid(s);null==this.source.updaterow(E,o,function(e){0==e&&(I.setcellvalue(t,i,d,!0,!1),d!=h&&I.setcellvalue(t,I.getcolumn(i).displayfield,h,!0,!1))})&&!0}catch(e){return!1,I.setcellvalue(t,i,d,!0,!1),void(d!=h&&I.setcellvalue(t,I.getcolumn(i).displayfield,h,!0,!1))}}var D=this.vScrollInstance.value;if(this._updating&&1!=r&&(r=!1),1==r||null==r){I=this.that;var k=function(){I.pageable&&I.updatepagerdetails&&(I.updatepagerdetails(),(I.autoheight||I.autorowheight)&&I._updatepageviews())},j=this.groupable&&this.groups.length>0;l&&!j?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),k(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!j?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),k(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(D),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var M=this.getcolumn(i).filtertype;"list"!=M&&"checkedlist"!=M||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:n,value:n,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),n=e;return isNaN(i)||(n=this.getrowdata(i)),null!=n?n[t]:null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,n=0;n<this.dataview.records.length;n++){var r=this.dataview.records[n];r&&i.push(r)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){this&&i.push(this)});var a=0;return this.pageable&&(a=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-a?i.slice(0,this.source._source.totalrecords-a):i}if(this.dataview.sortdata){for(i=new Array,n=0;n<t;n++){var s;s=e.extend({},this.dataview.sortdata[n].value),i[n]=s}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),n=0;n<i.length;n++)if(i[n]&&i[n].uid==e)return n;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){return null==e&&(e=0),this.virtualmode?this.dataview.records[e]:this.getboundrows()[e]},getrenderedrowdata:function(e,t){if(null==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e);return n=this.dataview.loadedrecords[i]}if((i=this.getrowvisibleindex(e))>=0){if(this.groupable&&this.groups.length>0)var n=this.dataview.loadedrecords[i];else{n=this.dataview.loadedrecords[i];if(this.pageable&&(null==t||0==t))n=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return n}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){if(null==(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]))break;e.push(i)}return e}if(null!=this._startboundindex&&null!=this._endboundindex){for(e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i;if(null==(i=this.dataview.loadedrecords[t]))break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(null==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e);if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null,n=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!n){if(this.groupable&&this.groups.length>0){t=this.getrowvisibleindex(e);var i=this.dataview.loadedrecords[t]}else t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,n){if(null!=t&&null!=i){var r=this.that,a=!1;r._datachanged=!0;var s=function(t,i,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var a=!1;e.isArray(i)?(e.each(i,function(e,i){a=t.dataview.updaterow(this,r[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):a=t.dataview.updaterow(i,r);var s=t.vScrollInstance.value;if(null!=n&&1!=n||null!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var o=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(o),d=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},o)),t.source.suspendKO=!1}if(t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var h=t.getrowboundindexbyid(i);t.source._source.localdata.set(h,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(s),a};if(this.source.updaterow){try{null==(a=this.source.updaterow(t,i,function(e){1==e||null==e?s(r,t,i):a=!1}))&&(a=!0)}catch(e){a=!1}}else a=s(r,t,i);return a}return!1},deleterow:function(t,i){if(null!=t){this._datachanged=!0;var n=!1,r=this.that,a=this.getrowboundindexbyid(t),s=new Array;new Array;if(null!=a&&(this.selectedrowindexes.indexOf(a)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(a),1),this.selectedrowindex==a&&(this.selectedrowindex=-1),!this.virtualmode))if(r.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=r.getrowid(this);s.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(r.selectionmode.indexOf("cell")>=0)for(var o in r.selectedcells){var l=r.selectedcells[o],d=r.getrowid(l.rowindex);l.rowid=d}var h=function(t,n){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var r=!1,o=t.vScrollInstance.value;if(e.isArray(n))e.each(n,function(){r=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh();else r=t.dataview.deleterow(n);if(!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(s,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var l=new Array;for(var d in t.selectedcells){var h=t.selectedcells[d],c=h.rowid,u=t.getrowboundindexbyid(c);-1!=u&&(h.rowindex=u,l[u+"_"+h.datafield]=h)}t.selectedcells=l}if(null!=t._updating&&0!=t._updating||null!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(a,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var p=t.getsortinformation();p.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(p.sortcolumn,p.sortdirection?p.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(o),r};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||h(r,t)}),null==n&&(n=!0)}catch(e){n=!1}}else n=h(r,t);return n}return!1},addrow:function(t,i,n){if(null!=i){this._datachanged=!0,null==n&&(n="last");var r=!1,a=this.that;if(null==t){var s=this.dataview.filters&&this.dataview.filters.length>0?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var o=new Array;e.each(i,function(e,t){var n=a.dataview.getid(a.dataview.source.id,i[e],s+e);o.push(n)}),t=o}else for(t=this.dataview.getid(this.dataview.source.id,i,s);null!=this.dataview.recordsbyid["id"+t];)t++}var l=function(t,i,n,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var a=t.vScrollInstance.value,s=!1;if(e.isArray(n)?(e.each(n,function(e,n){null!=this.dataindex&&delete this.dataindex;var a=null;null!=i&&null!=i[e]&&(a=i[e]),s=t.dataview.addrow(a,this,r,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(null!=n&&null!=n.dataindex&&delete n.dataindex,s=t.dataview.addrow(i,n,r)),null!=t._updating&&0!=t._updating||setTimeout(function(){t._render(!0,!0,!1,!1),t.invalidate()}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(n),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var o=t.getrowboundindexbyid(i);t.source._source.localdata.set(o,n),t.source._source.localdata._updating=!1}return"deferred"!=t.scrollmode?t.vScrollInstance.setPosition(a):t.vScrollInstance.setPosition(0),s};if(this.source.addrow){try{null==(r=this.source.addrow(t,i,n,function(e,r){1!=e&&null!=e||(null!=r&&(t=r),l(a,t,i,n))}))&&(r=!0)}catch(e){r=!1}if(0==r)return!1}else l(this,t,i,n);return r}return!1},_findvisiblerow:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.rows.records);for(var n=t.length;i<=n;){var r=parseInt((i+n)/2),a=t[r];if(null==a)break;if(a.top>e&&a.top+a.height>e)n=r-1;else{if(!(a.top<e&&a.top+a.height<e))return r;i=r+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(null!=t.gridcontent){null==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,n=0,r=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(r=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),r=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(r=t.dataview.totalrecords),t.rowdetails&&(r+=t.dataview.pagesize),t.columns.records){for(var a=t.columns.records.length,s=t.table[0].rows,o=0;o<r;o++){var l=s[o];if(!l)break;for(var d=l.cells,h=0,c=0;c<a;c++){var u=t.columns.records[c],p=u.width,m=d[c];parseInt(m.style.left)!=h&&(m.style.left=h+"px"),parseInt(m.style.width)!=p&&(m.style.width=p+"px"),u.hidden&&u.hideable?m.style.display="none":h+=parseFloat(p)}0==n&&(t.table.width(parseFloat(h)+2),n=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,n=e.vScrollBar[0].style.visibility;"visible"==n&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var r=e.element.style.width;if(r=r.toString().indexOf("%")>=0?e.host.width():parseInt(r),parseInt(e.table[0].style.width)-2>r-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==n){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var a=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(a)&&a>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",a+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",a))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),null==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var n=i.groupable&&i.groups.length>0,r=0;i.table[0].rows=new Array;var a=i.toTP("jqx-grid-cell");n&&(a=" "+i.toTP("jqx-grid-group-cell"));var s=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(s=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),(s=i.dataview.rows.length)<i.dataview.pagesize&&(s=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(s=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(s=i.dataview.rows.length),i.rowdetails&&(i.autoheight||i.autorowheight?s+=i.dataview.pagesize:s+=s),!i.columns.records)return;var o=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var d=i.tableZIndex;s*o>d&&(d=s*o);i.dataview.records.length,i.isTouchDevice();var h="";i._hiddencolumns=!1;for(var c=0;c<s;c++){var u='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+c+i.element.id+'">';if(l){u='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">';d--}for(var p=0,m=0;m<o;m++){if((_=(y=i.columns.records[m]).width)<y.minwidth&&(_=y.minwidth),_>y.maxwidth&&(_=y.maxwidth),i.rtl){var f='<div role="gridcell" style="left: '+p+"px; z-index: "+(d-o+2*m)+"; width:"+_+"px;";d--}else f='<div role="gridcell" style="left: '+p+"px; z-index: "+d--+"; width:"+_+"px;";y.hidden&&y.hideable?(f+="display: none;",i._hiddencolumns=!0,d++):p+=_,f+='" class="'+a+'">',f+=this._defaultcellsrenderer("",y),u+=f+="</div>"}0==r&&(i.table.width(parseInt(p)+2),r=p),h+=u+="</div>"}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(h)}):i.table[0].innerHTML=h,i.table[0].rows=new Array;var g=i.table.children();for(c=0;c<s;c++){var v=g[c];i.table[0].rows.push(v),v.cells=new Array;var b=e(v).children();for(m=0;m<o;m++)v.cells.push(b[m])}if(0==s){p=0;if(i.showemptyrow){u=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(u),u.height(i.rowsheight),i.table[0].rows[0]=u[0],i.table[0].rows[0].cells=new Array}for(m=0;m<o;m++){var y,_=(y=i.columns.records[m]).width;if(i.showemptyrow)(f=e('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+d--+"; width:"+_+'px;" class="'+a+'"></div>')).height(i.rowsheight),u.append(f),i.table[0].rows[0].cells[m]=f[0];_<y.minwidth&&(_=y.minwidth),_>y.maxwidth&&(_=y.maxwidth),y.hidden&&y.hideable||(p+=_)}i.table.width(parseInt(p)+2),r=p}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,n=!1,r=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:null==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,n=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var a=0,s=0;s<i.columns.records.length;s++){var o=i.columns.records[s].width;a+="auto"==o?o=i._measureElementWidth(i.columns.records[s].text):o}"hidden"!=i.vScrollBar.css("visibility")&&(a+=i.scrollbarsize+4),e=a,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:null==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,r=!0);var l=function(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){t=(d=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var d=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),(t+=l())>1e4&&(t=1e4));null!=e?(e=parseInt(e),n?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),n&&((e=i.host.width())<=2&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(r||(t=parseInt(t)),r?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),r&&!i.autoheight&&(0==(t=i.host.height())&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",h),h+=c=i.groupsheader.height()+1,t>c&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=h+"px"&&i.groupsheader.css("top",h);var c,u=h+(c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0)+"px";i.content[0].style.top!=u&&i.content.css("top",h+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var m=2,f=0;"visible"==i.vScrollBar[0].style.visibility&&(f=p+4),"visible"==i.hScrollBar[0].style.visibility&&(m=p+4+2),0==p&&(f=0,m=0);var g=0;i.pageable&&(g=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,g+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(m+=i.everpresentrowheight,g+=i.everpresentrowheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),i.hScrollBar[0].style.top==h+t-4-p-g+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:h+t-4-p-g+"px",left:"0px"});var v=i.hScrollBar[0].style.width,b=!1,y=!1;0==f?v!=e-2+"px"&&(i.hScrollBar.width(e-2),b=!0):v!=e-p-4+"px"&&(i.hScrollBar.width(e-p-4+"px"),b=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),y=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),y=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(p)-4+"px"&&i.vScrollBar[0].style.top==h+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(p)-4+"px",top:h})),i.rtl&&(i.vScrollBar.css({left:"0px",top:h}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var _=i.vScrollInstance;_.disabled=i.disabled,i.autoheight||y&&_.refresh();var w=i.hScrollInstance;w.disabled=i.disabled,b&&w.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var x=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0;t>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"};if(x(this),i.content[0].style.width!=e-f+"px"&&i.content.width(e-f),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=h+"px"&&i.content.css("top",h),i.rtl&&(i.content.css("left",f),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var C=i.table.width();C<e-f&&i.content.css("left",e-C)}if(i.showstatusbar&&(i.statusbar.css("top",h+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:h+t-4-p-g+i.statusbarheight+"px"}),i.statusbar.css("top",1+h+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),x(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",h+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",h+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var S=-2;if("visible"==i.vScrollBar[0].style.visibility&&(S=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var T=S+i.table.width()-i.host.width();T>=0&&i.hScrollBar.jqxScrollBar("max",T),"visible"==i.hScrollBar[0].style.visibility&&0==T&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;i<t;i++){for(var n=this.table[0].rows[i],r=n.cells.length,a=0;a<r;a++)e(n.cells[a]).remove(),n.cells[a]=null,delete n.cells[a];n.cells=null,n.cells&&delete n.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];s.addnewrowwidget&&s.destroyeverpresentrowwidget&&s.destroyeverpresentrowwidget(s.addnewrowwidget),this._removecolumnhandlers(this.columns.records[i]),s.element&&(e(s.element).remove(),e(s.sortasc).remove(),e(s.sortdesc).remove(),e(s.filtericon).remove(),e(s.menu).remove(),s.element=null,s.uielement=null,s.sortasc=null,s.sortdesc=null,s.filtericon=null,s.menu=null,delete s.element,delete s.uielement,delete s.sortasc,delete s.sortdesc,delete s.filtericon,delete s.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var o=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),o),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){o=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),o),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){o="mousemove.grouping"+this.element.id,l="mousedown.grouping"+this.element.id,d="mouseup.grouping"+this.element.id;this.removeHandler(e(document),o),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.columnsreorder){o="mousemove.reorder"+this.element.id,l="mousedown.reorder"+this.element.id,d="mouseup.reorder"+this.element.id;this.removeHandler(e(document),o),this.removeHandler(e(document),l),this.removeHandler(e(document),d),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length){var h=this.menuitemsarray.length;for(i=0;i<h;i++)e(this.menuitemsarray[i]).remove()}delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var n=!!i&&i.length>0;if(this.autogeneratecolumns){var r=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};r.push(e)});else if(this.source.records.length>0){var a=this.source.records[0];for(var s in a)if("uid"!=s){var o={width:100,datafield:s,text:s};r.push(o)}}this.columns=r}if(this.columns&&this.columns.records)for(var l=0;l<this.columns.records.length;l++)this._removecolumnhandlers(this.columns.records[l]);var d=this.that,h=new e.jqx.collection(this.element),c=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(d,this);i.visibleindex=c++,i.width=d.groupindentwidth,h.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn)&&((o=new t(d,this)).visibleindex=c++,o.width=d.groupindentwidth,o.pinned=!0,o.editable=!1,o.filterable=!1,o.draggable=!1,o.groupable=!1,o.resizable=!1,h.add(o),d._haspinned=!0);"checkbox"==this.selectionmode&&((o=new t(d,null)).visibleindex=c++,o.width=d.groupindentwidth,o.checkboxcolumn=!0,o.editable=!1,o.columntype="checkbox",o.groupable=!1,o.draggable=!1,o.filterable=!1,o.resizable=!1,o.datafield="_checkboxcolumn",h.add(o));var u=new Array;e.each(this.columns,function(e){if(null!=d.columns[e]){var i=new t(d,this);if(i.visibleindex=c++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(d._haspinned=!0),d.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)d.source&&d.source._source&&"array"==d.source._source.datatype&&(n||(d.source._source.datafields?d.source._source.datafields.push({name:e.toString()}):(d.source._source.datafields=new Array,d.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(u[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");u[this.datafield]=!0}h.add(i)}}),this.rtl&&h.records.reverse(),this.columns=h},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(null==i&&(i={owner:null}),!1!==this._trigger){var n=this.events[t];if(this._camelCase||(n=n.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var r=this;setTimeout(function(){r.updateeverpresentrow()},50)}var a=i;a.owner=this;var s=new e.Event(n);s.owner=this,s.args=a;var o=this.host.trigger(s);return i=s.args,o}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i);return n&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),n=t.host.width(),r=t.host.height(),a=!1,s=!1;if((e.pageY<i.top||e.pageY>i.top+r)&&(a=!0,s=!0),(e.pageX<i.left||e.pageX>i.left+n)&&(a=!0,!0),a){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var o=t.editcell.editor.jqxDateTimeInput("container").coord().top,l=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!s||!(e.pageY<o||e.pageY>l))return;a=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){o=t.editcell.editor.jqxComboBox("container").coord().top,l=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!s||!(e.pageY<o||e.pageY>l))return;a=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){o=t.editcell.editor.jqxDropDownList("container").coord().top,l=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!s||!(e.pageY<o||e.pageY>l))return;a=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],h=function(i){var n=t.editcell.editor.data();if(n[i]&&n[i].instance.container&&"block"==n[i].instance.container[0].style.display){var r=n[i].instance,o=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!s||!(e.pageY<o||e.pageY>l))&&(a=!0,r.close(),!0)}},c=0;c<d.length;c++){if(0==h(d[c]))return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(null!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue),t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(n){if(t.virtualsizeinfo){t._closemenu();var r=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};if(i)r();else{null==t._browser?t._isIE10():t._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},.01)):r()}i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){if(!t.editcell&&t.enablemousewheel)return t.wheel(e,t),!1},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var n="mousedown.jqxgrid";i&&(n=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,n,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var n=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,n}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9)t._handlemousedown(i,t);return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){if(t._handlemousemove)return t._handlemousemove(e,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){if(t._handlemousemoveselection)return t._handlemousemoveselection(e,t)},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(e){}})}}}catch(e){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?t._overlayElement[0].style.visibility="visible":t._overlayElement[0].style.visibility="hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){if(!0===t.__drag)return!1}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return!!(i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0)||!!t.editcell&&void(i.stopPropagation&&i.stopPropagation())}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){if((t._keydown=!t.editcell,20===(r=i.charCode?i.charCode:i.keyCode?i.keyCode:0)&&(t._capsLock?t._capsLock=!1:t._capsLock=!0),t.handlekeyboardnavigation)&&((t.focused||i.target===t.element||e(i.target).ischildof(t.host))&&1==t.handlekeyboardnavigation(i)))return!1;if(t.editable&&t.editcell&&(13!=r&&27!=r&&9!=r||t._handleeditkeydown&&(n=t._handleeditkeydown(i,t))),27==r&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==r&&0==n)return n;var n=!0,r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t)),n&&t.keyboardnavigation&&t._handlekeydown)return(n=t._handlekeydown(i,t))||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),n}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var n=!0;if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(i))return!1;return t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&n&&t.keyboardnavigation&&t._handlekeydown&&(n=t._handlekeydown(i,t),i.stopPropagation()):n&&t.keyboardnavigation&&t._handlekeydown&&(n=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),n||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),n}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){null==t&&(t=0);var n=this.vScrollInstance,r=this.hScrollInstance,a=n.value;"visible"!=this.vScrollBar.css("visibility")&&(a=0);var s=r.value;"visible"!=this.hScrollBar.css("visibility")&&(s=0),"deferred"==this.scrollmode&&null!=this._newmax&&a>this._newmax&&(a=this._newmax);var o=parseInt(a)+i;parseInt(s);if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,d=this._findvisiblerow(o,this.visiblerows);if(d>=0){var h=this.visiblerows[d],c=this.rowdetails&&h.rowdetails,u=!h.rowdetailshidden;if(c){var p=this.visiblerows[d-1];if(p==h&&(h=p,d--),u){var m=e(this.hittestinfo[d].visualrow).position().top+parseInt(this.table.css("top")),f=e(this.hittestinfo[d].visualrow).height();i>=m&&i<=m+f||(d++,h=this.visiblerows[d],l=!0)}}}return{index:d,row:h,details:l}}}},getcellatposition:function(t,i){var n=this.that,r=this.showheader?this.columnsheader.height()+2:0,a=this._groupsheader()?this.groupsheader.height():0;a+=this.showtoolbar?this.toolbarheight:0;var s=this.host.coord();this.hasTransform&&(s=e.jqx.utilities.getOffset(this.host));var o=t-s.left,l=i-r-s.top-a,d=this._hittestrow(o,l),h=d.row,c=d.index,u=this.table[0].rows[c];if(this.dataview&&0==this.dataview.records.length){for(var p=this.table[0].rows,m=0,f=0;f<p.length;f++){if(l>=m&&l<m+this.rowsheight){u=p[f];break}m+=this.rowsheight}h={boundindex:f}}if(null==u)return!0;var g=this.hScrollInstance.value,v=0;for(this.groupable&&this.groups.length,f=0;f<u.cells.length;f++){var b=parseInt(e(this.columnsrow[0].cells[f]).css("left"));t=b-g;if(n.columns.records[f].pinned&&(t=b),!n.columns.records[f].hidden)if(t+e(this.columnsrow[0].cells[f]).width()>=o&&o>=t){v=f;break}}if(null!=h){var y=this._getcolumnat(v);return{row:this.getboundindex(h),column:y.datafield,value:this.getcellvalue(this.getboundindex(h),y.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;var n,r;if(t.which?n=3==t.which:t.button&&(n=2==t.button),t.which?r=2==t.which:t.button&&(r=1==t.button),r)return!0;if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var a=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;s+=this.showtoolbar?this.toolbarheight:0;var o=this.host.coord();if(this.hasTransform){o=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();o.left-=l.left,o.top-=l.top}var d=parseInt(t.pageX),h=parseInt(t.pageY);if(this.isTouchDevice()){var c=i.getTouches(t)[0];d=parseInt(c.pageX),h=parseInt(c.pageY),1==i.touchmode&&null!=c._pageX&&(d=parseInt(c._pageX),h=parseInt(c._pageY))}var u=d-o.left,p=h-a-o.top-s;if(this.pageable&&!this.autoheight&&this.gotopage&&p>this.pager.coord().top-o.top-s-a)return;var m=this._hittestrow(u,p);if(m&&!m.details){var f=m.row,g=m.index,v=t.target.className,b=this.table[0].rows[g];if(null==b)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-s,clickedrow:b};var y=this.hScrollInstance,_=y.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(_=y.max-y.value);var w=-1,x=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(_-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(_=-parseInt(this.content.css("left"))));for(var C=0;C<b.cells.length;C++){d=(S=parseInt(e(this.columnsrow[0].cells[C]).css("left")))-_;if(i.columns.records[C].pinned&&!i.rtl&&(d=S),null==(T=this._getcolumnat(C))||!T.hidden)if(d+e(this.columnsrow[0].cells[C]).width()>=u&&u>=d){w=C,i.mousecaptureposition.clickedcell=C;break}}if(this.rtl&&this._haspinned)for(C=b.cells.length-1;C>=0&&i.columns.records[C].pinned;C--){var S;d=S=e(this.columnsrow[0].cells[C]).coord().left-this.host.coord().left;if((null==(T=this._getcolumnat(C))||!T.hidden)&&d+e(this.columnsrow[0].cells[C]).width()>=u&&u>=d){w=C,i.mousecaptureposition.clickedcell=C;break}}if(null!=f&&w>=0){this._raiseEvent(1,{rowindex:this.getboundindex(f),visibleindex:f.visibleindex,row:f,group:f.group,rightclick:n,originalEvent:t});var T=this._getcolumnat(w),P=this.getcellvalue(this.getboundindex(f),T.datafield);if(this.editable&&this.editcell&&T.datafield==this.editcell.column&&this.getboundindex(f)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(f),column:T?T.getcolumnproperties():null,row:f,visibleindex:f.visibleindex,datafield:T?T.datafield:null,columnindex:w,value:P,rightclick:n,originalEvent:t}),T.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==T.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(g,T.datafield),!0}else if("button"==T.columntype&&this._overlayElement)return T.buttonclick&&T.buttonclick(b.cells[w].buttonrow,t),!0;var I=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(f)&&(this._raiseEvent(22,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,group:f.group,rightclick:n,originalEvent:t}),this._clickedcolumn==T.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,column:T?T.getcolumnproperties():null,datafield:T?T.datafield:null,columnindex:w,value:P,rightclick:n,originalEvent:t}),I=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(n)return!0;I||(this._clickedrowindex=this.getboundindex(f),this._clickedcolumn=T.datafield);var E=e.jqx.utilities.getBrowser();if("msie"==E.browser&&parseInt(E.version)<=7&&(0==w&&this.rowdetails&&(v="jqx-grid-group-collapse"),x>0&&w<=x&&(v="jqx-grid-group-collapse")),-1!=v.indexOf("jqx-grid-group-expand")||-1!=v.indexOf("jqx-grid-group-collapse"))this.rtl?x>0&&w>b.cells.length-x-1&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):w==b.cells.length-1-x&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):x>0&&w<x&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):w==x&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=f.boundindex){var D=this.selectedrowindexes.slice(0),k=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var j=!1,M=this.getboundindex(f);i._oldselectedrow!==M&&"none"!==i.selectionmode||(j=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=M&&"singlerow"==i.selectionmode)&&(this._applyrowselection(M,!0,!1,null,T.datafield),this._selectrowwithmouse(i,m,D,T.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=T.datafield&&(this._selectrowwithmouse(i,m,D,T.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(M,T.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(k=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=M}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(j&&!i.editcell){if("checkbox"!==T.columntype)i.beginrowedit(this.getboundindex(f))}else if(i.editcell&&!j&&"none"!=i.selectionmode)i.endrowedit(i.editcell.row)}else{M=this.getboundindex(f);var A="click"==i.editmode||k&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(A=!0),A&&null!=f.boundindex&&T.editable){i.begincelledit(this.getboundindex(f),T.datafield,T.defaulteditorvalue);-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(M,T.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!k&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||k||!i.editcell||i.editcell.row==M&&T.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,n){},_rowPropertyChanged:function(e,t,i,n){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){e>0&&(i+=", "),i+="[";var t=0;for(var n in this)t>0&&(i+=", "),i+="{"+n+":"+this[n]+"}",t++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":t.refresh();break;case"everpresentrowactionsmode":n!=r&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":n!=r&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(30!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":r!=n&&(30!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":n!=r&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":n!=r&&t._rendercolumnheaders();break;case"rendergridrows":n!=r&&t.updatebounddata();break;case"editmode":n!=r&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":n!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":r!=n&&(e.jqx.utilities.setTheme(n,r,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:r}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":n!=r&&(t._arrange(),t.refresh());break;case"showstatusbar":n!=r&&(t.statusbar&&(r?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":n!=r&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":n!=r&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":n!=r&&t.rendergridcontent();break;case"showrowdetailscolumn":n!=r&&t.render();break;case"scrollbarsize":n!=r&&t._arrange();break;case"width":case"height":n!=r&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":n!=r&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":n!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":n!=r&&t._initpager();break;case"selectedrowindex":t.selectrow(r);break;case"selectionmode":n!=r&&("none"==r&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==r&&t._render(!1,!1,!0,!1,!1));break;case"showheader":r?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":n!=r&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":n!=r&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(r)){var a=!1;t.filterable&&n&&n.records&&e.each(n.records,function(){this.filter&&(a=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),a&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=n;break;case"autoheight":n!=r&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":n!=r&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(n!=r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof r){var s="The expected value type is: Int.";if("pagesize"!=i)s="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+s)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=r&&r.length>0&&(t.pagesize=parseInt(r[0]),t.dataview.pagesize=parseInt(r[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(n)!==t._serializeObject(r)&&(t.dataview.groups=r,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":n!=r&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=r&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=r&&t.rendertoolbar(t.toolbar);break;case"disabled":r?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:r}),t.pagerleftbutton.jqxButton({disabled:r}),t.pagershowrowscombo.jqxDropDownList({disabled:r}),t.pagergotoinput.attr("disabled",r)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:r}),t.pagerlastbutton.jqxButton({disabled:r}))),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,null==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var n=!!t._source,r=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),n?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var a=function(i){if(i.totalrecords=r.totalrecords,i.virtualmode){var n={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(null!=t.recordstartindex&&(n.startindex=parseInt(t.recordstartindex)),null!=t.recordendindex?n.endindex=parseInt(t.recordendindex):i.grid.pageable||(n.endindex=n.startindex+100,i.grid.autoheight&&(n.endindex=n.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?n={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(n.endindex=n.startindex+100,i.grid.autoheight&&(n.endindex=n.startindex+i.totalrecords))),n.data=r.records,i.grid.rendergridrows&&i.totalrecords>0){var a=0;if(t.records=i.grid.rendergridrows(n),t.records.length&&(a=t.records.length),t.records&&!t.records[n.startindex]){var s=new Array,o=n.startindex;e.each(t.records,function(){s[o]=this,o++,a++}),t.records=s}if(0==a&&t.records&&e.each(t.records,function(){a++}),a>0&&a<n.endindex-n.startindex&&!i.grid.groupable)for(var l=t.records[0],d=0;d<n.endindex-n.startindex-a;d++){var h={};for(var c in l)h[c]="";t.records.push&&t.records.push(h)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=r.originaldata,i.records=r.records,i.recordids=r.recordids,i.cachedrecords=r.cachedrecords};!function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.virtualmode=e.virtualmode,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(this.uniqueId=i);var s=this.that;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(s.grid.element.id),(!s.grid.autobind&&s.grid.isInitialized||s.grid.autobind)&&r.dataBind(),(C=function(i){if(null!=i&&""!=i){if(r._changedrecords[0]){var n=new Array;e.each(r._changedrecords,function(e){var t=this.index,a=this.record;switch(s.grid._updateFromAdapter=!0,i){case"update":var o=s.grid.getrowid(t);return e==r._changedrecords.length-1?s.grid.updaterow(o,a):s.grid.updaterow(o,a,!1),void(s.grid._updateFromAdapter=!1);case"add":return s.grid.addrow(null,a),void(s.grid._updateFromAdapter=!1);case"remove":o=s.grid.getrowid(t);return void n.push(o)}}),n.length>0&&(s.grid.deleterow(n,!1),s.grid._updateFromAdapter=!1)}if("update"==i)return}var o=s.totalrecords;a(s),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var n=s.grid.getrowid(i.index);switch(i.type){case"add":var a=e.extend({},i.object[i.index]),o=r.getid(t.id,a,i.index);0===i.index?s.grid.addrow(o,a,"first"):s.grid.addrow(o,a);break;case"delete":s.grid.deleterow(n);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");s.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{a=e.extend({},i.object[i.index]);s.grid.updaterow(n,a)}}this._updating=!1}}),"updateData"==i?(s.refresh(),s.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?s.updateview(t.recordstartindex,t.recordstartindex+s.pagesize):s.refresh(),s.update(o!=s.totalrecords))})(),r.bindBindingUpdate(s.grid.element.id,C);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(s.grid.element.id),(!s.grid.autobind&&s.grid.isInitialized||s.grid.autobind)&&r.dataBind(),(C=function(e){var i=s.totalrecords;a(s),"updateData"==e?(s.refresh(),s.grid._updateGridData()):(t.recordstartindex&&s.virtualmode?s.updateview(t.recordstartindex,t.recordstartindex+s.pagesize):s.refresh(),s.update(i!=s.totalrecords))})(),void r.bindBindingUpdate(s.grid.element.id,C);for(var o=[],l=0,d={},h=0;h<this.filters.length;h++){var c=this.filters[h].datafield,u=this.filters[h].filter;if(u.getfilters){var p=u.getfilters();d[c+"operator"]=u.operator;for(var m=0;m<p.length;m++){p[m].datafield=c;var f=p[m].value;if("datefilter"==p[m].type)if(p[m].value&&p[m].value.toLocaleString){var g=this.grid.getcolumn(p[m].datafield);if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[m].value,g.cellsformat,this.grid.gridlocalization);d["filtervalue"+l]=v||p[m].value.toLocaleString()}else d["filtervalue"+l]=f.toString()}else d["filtervalue"+l]=f.toString();else d["filtervalue"+l]=f.toString(),p[m].data&&(d["filterid"+l]=p[m].data.toString()),p[m].id&&(d["filterid"+l]=p[m].id.toString());d["filtercondition"+l]=p[m].condition,d["filteroperator"+l]=p[m].operator,d["filterdatafield"+l]=c;var b={label:f.toString()};p[m].data&&(b.value=p[m].data.toString()),p[m].id?b.value=p[m].id.toString():b.value=f.toString(),b.condition=p[m].condition,b.operator=0==p[m].operator?"and":"or",b.field=c,b.type=p[m].type;var y=!1;if(o.length>0)for(var _=0;_<o.length;_++){var w=o[_];if(w.field==c){w.filters.push(b),y=!0;break}}y||(o.push({field:c,filters:[]}),o[o.length-1].filters.push(b)),l++}}}d.filterGroups=o,d.filterscount=l,d.groupscount=s.groups.length;for(h=0;h<s.groups.length;h++)d["group"+h]=s.groups[h];null==t.recordstartindex&&(t.recordstartindex=0),null!=t.recordendindex&&0!=t.recordendindex||(s.grid.height&&-1==s.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(s.grid.height)/s.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/s.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(d,{sortdatafield:s.sortfield,sortorder:s.sortfielddirection,pagenum:s.pagenum,pagesize:s.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var x=r._options.data;r._options.data?e.extend(r._options.data,d):(t.data&&e.extend(d,t.data),r._options.data=d);var C=function(){var i=function(){var e=s.totalrecords;a(s),t.recordstartindex&&s.virtualmode?s.updateview(t.recordstartindex,t.recordstartindex+s.pagesize):s.refresh(),s.update(e!=s.totalrecords)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{i()}catch(e){}else i()};r.unbindDownloadComplete(s.grid.element.id),r.bindDownloadComplete(s.grid.element.id,C),!s.grid.autobind&&s.grid.isInitialized||s.grid.autobind?r.dataBind():s.grid.isInitialized||s.grid.autobind||C(),r._options.data=x}},this.getid=function(t,i,n){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return r}return n},this.getvaluebytype=function(t,i){var n=t;if("date"==i.type){var r=new Date(t);null==(t=("NaN"==r.toString()||"Invalid Date"==r.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):r)&&(t=n)}else if("float"==i.type){t=parseFloat(t);isNaN(t)&&(t=n)}else if("int"==i.type){t=parseInt(t);isNaN(t)&&(t=n)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||0!=t&&"");return t},this.setpaging=function(e){null!=e.pageSize&&(this.pagesize=e.pageSize),null!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,n=0;n<this.filters.length;n++)if(this.filters[n].datafield==e){i=n;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if(!(this.filters&&this.filters.length>0&&!this.virtualmode)&&null!=t&&null!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var n=this.recordsbyid["id"+e];return-1!=(a=this.records.indexOf(n))&&(this.records[a]=t,this.cachedrecords&&(this.cachedrecords[a]=t),1!=i&&null!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:n,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var r=this.cachedrecords,a=(n=null,-1),s=0;s<r.length;s++)if(r[s].uid==e){n=r[s],a=s;break}if(n){var o=this.that;for(var l in t)o.cachedrecords[a][l]=t[l];return 1!=i&&null!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,n,r){if(null!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var a=this.recordsbyid["id"+i.uid];null!=a;){var s=Math.floor(1e4*Math.random()).toString();i.uid=s,a=this.recordsbyid["id"+s]}}else i.uid=t;return i[this.source.id]||null!=this.source.id&&(i[this.source.id]=i.uid),"last"==n?this.records.push(i):"number"==typeof n&&isFinite(n)?this.records.splice(n,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==n?this.cachedrecords.push(i):"number"==typeof n&&isFinite(n)?this.cachedrecords.splice(n,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=r&&null!=r||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(null!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var n=this.recordsbyid["id"+e],r=this.records.indexOf(n);return this.changedrecords[e]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&null!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var a=this.cachedrecords,s=(n=null,r=-1,0);s<a.length;s++)if(a[s].uid==e){n=a[s],r=s;break}if(n)return this.cachedrecords.splice(r,1),1!=t&&null!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,n,r,a,s,o){var l=this.that,d=new Array,h=t,c=i,u=n,p=r,m=c.length,f=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var g=Object.size(h);this.totalrecords=g,e.each(this.records,function(t){var i=0;return e.each(this,function(e,t){l.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();s=0;if(!this.groupable)return void this.updateview();o=this.totalrecords}else s=0,o=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var v=s;v=this.loadgrouprecords(0,s,o,u,0,p,c,m,d)}else f=this.loadflatrecords(s,o,u,0,p,c,m,d);return m>0&&c.splice(0,m-0),this.groups.length>0&&this.groupable?this.totalrows=v:this.totalrows=f,d},this.loadflatrecords=function(t,i,n,r,a,s,o,l){var d=this.that,h=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||this.source.datatype),u?this.sortdata:this.records),m=t;m<i;m++){var f,g={};u?(f=(g=e.extend({},p[m].value))[d.uniqueId],g.boundindex=p[m].index,null==g.uid&&(g.uid=d.getid(d.source.id,g,g.boundindex)),d.recordsbyid["id"+g.uid]=p[m].value,d.loadedrecords[h]=g,g.uniqueid=d.generatekey(),d.bounditems[g.boundindex]=g):(f=(g=new Object(p[m]))[d.uniqueId],g.boundindex=h,d.loadedrecords[h]=g,null==g.uid&&(g.uid=d.getid(d.source.id,g,h)),d.recordsbyid["id"+g.uid]=p[m],g.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=g),(r>=o||f!=s[r][d.uniqueId]||a&&a[f])&&(l[l.length]=r),s[r]=g,r++,g.visibleindex=c,c++,h++}if(d.grid.summaryrows){var v=h;e.each(d.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,d.loadedrecords[v]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,s[r]=t,r++,t.visibleindex=c,c++,v++})}return c},this.updateview=function(e,t){var i=this.that,n=this.pagesize*this.pagenum,r=0,a=new Array,s=this.filters,o=this.updated,l=a.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(null!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,s,r,o,a,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),s,r,o,a,l,[]),this.totalrows=a.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;0==h&&(h=Math.min(100,this.totalrecords));this.pagenum;if(0==this.loadedrecords.length&&0,null!=e&&null!=t?this.loadflatrecords(e,t,s,r,o,a,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),s,r,o,a,l,[]),this.totalrows=this.loadedrecords.length,this.rows=a,a.length>=h)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)a=this._updategroupsinpage(i,s,n,r,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum);c++){null!=(p=c<this.loadedrecords.length?this.loadedrecords[c]:null)&&((!this.pagesize||n>=this.pagesize*this.pagenum&&n<=this.pagesize*(this.pagenum+1))&&(a[r]=p,r++),n++)}if((0==a.length||a.length<this.pagesize)&&!this.pageable&&this.virtualmode){r=a.length;var u=a.length;for(c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum)-u;c++){var p;(p={}).boundindex=c+u,p.visibleindex=c+u,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[c+u]=p,a[r]=p,r++}}this.rows=a},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){null==t&&(t=!0);var i=this.rows.length,n=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var r="",a=this.cachedrecords.length,s=new Array;this.totalrecords=0;var o=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&null!=this.source.filter&&null!=this.source.localdata)null==(s=this.source.filter(this.filters,o,a))&&(s=new Array),this.records=s;else if(null==this.source.filter||null==this.source.filter){for(var d=0;d<a;d++){for(var h=o[d],c=void 0,u=0;u<l;u++){r=this.filters[u].filter;var p=h[this.filters[u].datafield],m=r.evaluate(p);if(this.grid.filter){var f=this.grid.filter(p,h,this.filters[u].datafield,r,m);void 0!==f&&(m=f)}c=null==c?m:"or"==r.operator?c||m:c&&m}c?(s[s.length]=e.extend({dataindex:d},h),this._dataIndexToBoundIndex[d]={boundindex:s.length-1}):this._dataIndexToBoundIndex[d]=null}this.records=s}if(this.sortdata){var g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;var v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;o=this.cachedrecords;if(this.records=o,this.sortdata){g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}var b=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(n!=this.totalrows&&this.rowschangecallback({type:"PagingChanged",data:this.getpagingdetails()}),i!=this.rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:this.rows.length}}),(b.length>0||i!=this.rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:this.rows.length,diff:b}}))}},this}}(jqxBaseFramework);var Et=Object.freeze({});!function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,i,n,r){var a=t.aggregates;if(a||(a=i),a){for(var s=new Array,o=0;o<a.length;o++)"count"!=a[o]&&(s[s.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData){if(null==r&&(r=this.getrows()),this.virtualmode){r=new Array;e.each(this.source._source.records,function(){r.push(this)})}return null==n||1==n?this.source.getAggregatedData([{name:t.datafield,aggregates:a,formatStrings:s}],this.gridlocalization,r):this.source.getAggregatedData([{name:t.datafield,aggregates:a}],this.gridlocalization,r)}}return null},getcolumnaggregateddata:function(e,t,i,n){var r=this.getcolumn(e),a=null!=i&&0!=i&&i;if(null==t)return"";var s=r.aggregates;r.aggregates=null;var o=this._calculateaggregate(r,t,a,n),l={};return o&&(l=o[e]),r.aggregates=s,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,i,n){var r=this;if(i)if(n.children().remove(),n.html(""),t.aggregatesrenderer){if(i){s=t.aggregatesrenderer(i[t.datafield],t,n,this.getcolumnaggregateddata(t.datafield,i[t.datafield]));n.html(s)}}else e.each(i,function(){for(a in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=a;i=r._getaggregatename(i),t.html(i+":"+this[a]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),n.append(t)}});else if(n.children().remove(),n.html(""),t.aggregatesrenderer){var a={};t.aggregates&&(a=this.getcolumnaggregateddata(t.datafield,t.aggregates));var s=t.aggregatesrenderer({},t,n,null);n.html(s)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),i=this.columns.records.length;if(null!=this.statusbar[0].cells)for(var n=0;n<i;n++){var r=e(this.statusbar[0].cells[n]),a=this.columns.records[n],s=this._calculateaggregate(a,null,!0,t);this._updatecolumnaggregates(a,s,r)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,n=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=-1),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var a=n+10,s=new Array;this.statusbar[0].cells=s;for(var o=this.getrows(),l=0;l<n;l++){var d=this.columns.records[l],h=this._calculateaggregate(d,d.aggregates,!0,o),c=d.width;c<d.minwidth&&(c=d.minwidth),c>d.maxwidth&&(c=d.maxwidth);var u=r;d.cellsalign&&(u+=" "+this.toThemeProperty("jqx-"+d.cellsalign+"-align"));var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+u+'"></div>');t.append(p),p.css("left",i),this.rtl?p.css("z-index",a++):p.css("z-index",a--),p.width(c),p[0].left=i,d.hidden&&d.hideable?p.css("display","none"):i+=c,s[s.length]=p[0],this._updatecolumnaggregates(d,h,p)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",a--),t.width(parseFloat(i)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(r),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework);var Dt=Object.freeze({});!function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var n=t[i];if(n){var r=this.getboundindex(n);null!=r&&(this.selectedrowindexes[i]=r)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||null==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(var t in this.selectedcells)e[e.length]=this.selectedcells[t];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var n=t[i],r=0;r<this.columns.records.length;r++)if("_checkboxcolumn"!==this.columns.records[r].datafield){this.columns.records[r].datafield;var a={rowindex:n,datafield:this.columns.records[r].datafield};e.push(a)}return e},deleteselection:function(){var e=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){for(var t=0;t<e.length;t++){var i=e[t],n=this.getcolumn(i.datafield),r=this.getcellvalue(i.rowindex,i.datafield);if(n&&""!==r){var a=null;"checkbox"==n.columntype&&(n.threestatecheckbox||(a=!1)),this._raiseEvent(17,{rowindex:i.rowindex,datafield:i.datafield,value:r}),t==e.length-1?(this.setcellvalue(i.rowindex,i.datafield,a,!0),n.displayfield!=n.datafield&&this.setcellvalue(i.rowindex,n.displayfield,a,!0)):(this.setcellvalue(i.rowindex,i.datafield,a,!1),n.displayfield!=n.datafield&&this.setcellvalue(i.rowindex,n.displayfield,a,!0)),this._raiseEvent(18,{rowindex:i.rowindex,datafield:i.datafield,oldvalue:r,value:a})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var n=i.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(n=this._getcellsforcopypaste());var r=new Array;if(null!=n&&n.length>0){for(var a=999999999999999,s=-1,o=0;o<n.length;o++){var l=n[o],d=i.getcolumn(l.datafield);if(null!=d&&d.clipboard&&(!d.hidden||this.copytoclipboardhiddencolumns)){-1==r.indexOf(d.text)&&r.push(d.text);var h=i.getcelltext(l.rowindex,d.displayfield),c=this.getrowdisplayindex(l.rowindex);this.clipboardselection[c]||(this.clipboardselection[c]={}),this.clipboardselection[c][d.displayfield]=h,this.logicalclipboardselection[c]||(this.logicalclipboardselection[c]={}),this.logicalclipboardselection[c][d.displayfield]=h,d.displayfield!=d.datafield&&(this.logicalclipboardselection[c][d.datafield]=i.getcellvalue(l.rowindex,d.datafield)),a=Math.min(a,c),s=Math.max(s,c)}}for(var u=new Array,p=a;p<=s;p++)if(this.logicalclipboardselection[p]){var m=e.extend({},this.logicalclipboardselection[p]);u.push(m)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var f=0;f<r.length;f++)f>0&&(t+="\t"),t+=r[f];t+="\r\n"}for(p=a;p<=s;p++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,null!=this.clipboardselection[p]&&(e.each(this.clipboardselection[p],function(e,n){g>0&&(t+="\t");var r=n;null==n&&(r=""),i._clipboardselection[i._clipboardselection.length-1][g]=r,g++,t+=r}),p<s&&(t+="\r\n"))}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),n=e[0].datafield,r=this._getcolumnindex(n);this.selectedrowindexes=new Array,this.selectedcells=new Array;e.length;var a=0,s=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var o=0;o<this._clipboardselection.length;o++){a+=this._clipboardselection[o].length,s[o]=new Array;for(var l=0;l<this._clipboardselection[o].length;l++){var d=this._clipboardselection[o][l];s[o].push(d)}}if(a<e.length){var h=new Array;for(o=0;o<e.length;o++){h[(y=e[o]).rowindex]||(h[y.rowindex]=new Array),h[y.rowindex].push(y)}var c=0,u=0;for(o=0;o<h.length;o++)if(h[o]){for(l=0;l<h[o].length;l++){var p=(y=h[o][l]).rowindex;if("_checkboxcolumn"!==(b=this.getcolumn(y.datafield)).datafield&&!b.hidden){d="";if(null==s[c][u]&&(u=0),d=s[c][u],u++,b.cellsformat&&(-1!=b.cellsformat.indexOf("p")||-1!=b.cellsformat.indexOf("c")||-1!=b.cellsformat.indexOf("n")||-1!=b.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,"")),(d=(d=function(e,t,i){var n=e;if(t==i)return e;for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t);return n}(d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var m="",f=0;f<d.length;f++){"-"===(_=d.substring(f,f+1))&&(m+="-"),"."===_&&(m+="."),null!=_.match(/^[0-9]+$/)&&(m+=_)}d=(d=m).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}if(this._raiseEvent(17,{rowindex:p,datafield:y.datafield,value:d}),this.setcellvalue(p,b.displayfield,d,!1),b.displayfield!=b.datafield&&this.logicalclipboardselection)if(this.logicalclipboardselection[p])null!=(w=this.logicalclipboardselection[p][b.datafield])&&this.setcellvalue(p,b.datafield,w,!1);this._raiseEvent(18,{rowindex:p,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:d}),this._applycellselection(p,y.datafield,!0,!1)}}u=0,s[++c]||(c=0)}}else{if(!this._clipboardselection)return;for(var g=0;g<this._clipboardselection.length;g++)for(var v=0;v<this._clipboardselection[g].length;v++){var b;if((b=this.getcolumnat(r+v))&&("_checkboxcolumn"!==b.datafield&&!b.hidden)){p=this.getrowboundindex(i+g);var y=this.getcell(p,b.datafield);d=null;if(null!=(d=this._clipboardselection[g][v])){if(b.cellsformat&&(-1!=b.cellsformat.indexOf("p")||-1!=b.cellsformat.indexOf("c")||-1!=b.cellsformat.indexOf("n")||-1!=b.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,"")),(d=(d=function(e,t,i){var n=e;if(t==i)return e;for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t);return n}(d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(m="",f=0;f<d.length;f++){var _;"-"===(_=d.substring(f,f+1))&&(m+="-"),"."===_&&(m+="."),null!=_.match(/^[0-9]+$/)&&(m+=_)}d=(d=m).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}var w;if(this._raiseEvent(17,{rowindex:p,datafield:y.datafield,value:d}),this.setcellvalue(p,b.displayfield,d,!1),b.displayfield!=b.datafield&&this.logicalclipboardselection)null!=(w=this.logicalclipboardselection[g][b.datafield])&&this.setcellvalue(p,b.datafield,w,!1);this._raiseEvent(18,{rowindex:p,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:d}),this._applycellselection(p,y.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,n,r){if(null==e)return!1;var a=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:a}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==n&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var s=this.getrowdata(e);s&&void 0!==s.dataindex?e=s.dataindex:s&&void 0===s.dataindex&&null!=s.uid&&(e=this.getrowboundindexbyid(s.uid))}var o=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==o?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(o>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[o];this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(null==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,n){if(null==e)return!1;if(null==t)return!1;var r;this.selectedrowindex;"singlecell"==this.selectionmode&&(null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield}),this.selectedcells=new Array);"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield});var a=e+"_"+t;if(this.dataview.filters.length>0){var s=this.getrowdata(e);if(s&&void 0!==s.dataindex)a=(e=s.dataindex)+"_"+t;else if(s&&void 0===s.dataindex&&s.uid)a=(e=this.getrowboundindexbyid(s.uid))+"_"+t}var o={rowindex:e,datafield:t};return i?(this.selectedcell=o,this.selectedcells[a]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[a],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)):(this.selectedcells[a]=o,this.selectedcells.length++,this._raiseEvent(15,o))):(delete this.selectedcells[a],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)),(null==n||n)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){if(i++,this[t])return!1}),i},_clearhoverstyle:function(){if(null!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,n=this.toTP("jqx-grid-cell-selected"),r=this.toTP("jqx-fill-state-pressed"),a=this.toTP("jqx-grid-cell-hover"),s=this.toTP("jqx-fill-state-hover"),o=0;o<t;o++)for(var l=i[o],d=l.cells.length,h=l.cells,c=0;c<d;c++){var u=h[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(n),p.removeClass(r)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(a),p.removeClass(s))}},_selectpath:function(e,t){var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,n=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(i<=n){var r=this._getcolumnindex(this._lastClickedCell.column),a=this._getcolumnindex(t),s=Math.min(r,a),o=Math.max(r,a);this.selectedcells=new Array;for(var l=this.dataview.loadedrecords,d=i;d<=n;d++)for(var h=s;h<=o;h++){e=l[d];this._applycellselection(this.getboundindex(e),this._getcolumnat(h).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,n=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var r=t;r<=i;r++){e=n[r];var a=this.getrowboundindex(r);this._applyrowselection(a,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,n,r,a){if(null!=(y=t.row)){var s=t.index;if(null!=this.hittestinfo[s]){var o=this.hittestinfo[s].visualrow;if(!this.hittestinfo[s].details){o.cells[0].className;if(!y.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==a||1==r)){var l=this.getboundindex(y);if(this.dataview.filters.length>0){var d=this.getrowdata(l);if(d&&null==(l=d.dataindex))l=this.getboundindex(y)}var h=-1!=i.indexOf(l),c=this.getboundindex(y)+"_"+n;if(-1!=this.selectionmode.indexOf("cell")){var u=null!=this.selectedcells[c];if(null!=this.selectedcells[c]&&u?this._selectcellwithstyle(e,!1,s,n,o):this._selectcellwithstyle(e,!0,s,n,o),a&&null==this._lastClickedCell){var p=this.getselectedcells();p&&p.length>0&&(this._lastClickedCell={row:p[0].rowindex,column:p[0].datafield})}a&&this._lastClickedCell&&(this._selectpath(y.visibleindex,n),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(h?r?this._applyrowselection(this.getboundindex(y),!1):this._selectrowwithstyle(e,o,!1,n):this._selectrowwithstyle(e,o,!0,n),a&&null==this._lastClickedCell){var m=this.getselectedrowindexes();m&&m.length>0&&(this._lastClickedCell={row:m[0],column:n})}if(a&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var f=this._lastClickedCell?Math.min(this._lastClickedCell.row,y.visibleindex):0,g=this._lastClickedCell?Math.max(this._lastClickedCell.row,y.visibleindex):0,v=this.dataview.loadedrecords,b=f;b<=g;b++){var y;(y=v[b])&&this._applyrowselection(this.getboundindex(y),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,o,!0,n),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,s,n,o);a||(this._lastClickedCell={row:y.visibleindex,column:n})}}}}},_selectcellwithstyle:function(t,i,n,r,a){var s=e(a.cells[t._getcolumnindex(r)]);s.removeClass(this.toTP("jqx-grid-cell-hover")),s.removeClass(this.toTP("jqx-fill-state-hover")),i?(s.addClass(this.toTP("jqx-grid-cell-selected")),s.addClass(this.toTP("jqx-fill-state-pressed"))):(s.removeClass(this.toTP("jqx-grid-cell-selected")),s.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,n,r){var a=i.cells.length,s=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(a-=1,a-=this.groups.length):s=1+this.groups.length:this.groupable&&(this.rtl?a-=this.groups.length:s=this.groups.length);for(var o=s;o<a;o++){var l=i.cells[o];n?(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(l).addClass(this.toTP("jqx-grid-cell-selected")),e(l).addClass(this.toTP("jqx-fill-state-pressed")))):(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-grid-cell-selected")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),e(l).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins)if(!1===i.multipleselectionbegins(t))return!0;var n=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0;r+=this.showtoolbar?this.toolbar.height():0;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var s=this._getBodyOffset();a.left-=s.left,a.top-=s.top}"0px"===this.host.css("border-top-width")&&(r-=2);var o=t.pageX,l=t.pageY-r;if(Math.abs(this.mousecaptureposition.left-o)>3||Math.abs(this.mousecaptureposition.top-l)>3){parseInt(this.columnsheader.coord().top);this.hasTransform&&e.jqx.utilities.getOffset(this.columnsheader).top,o<a.left&&(o=a.left),o>a.left+this.host.width()&&(o=a.left+this.host.width());var d=a.top+n;l<d&&(l=d+5);var h=parseInt(Math.min(i.mousecaptureposition.left,o)),c=-5+parseInt(Math.min(i.mousecaptureposition.top,l)),u=parseFloat(Math.abs(i.mousecaptureposition.left-o)),p=parseInt(Math.abs(i.mousecaptureposition.top-l));if(h-=a.left,c-=a.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var m=(o=h)+u,f=i.hScrollInstance,g=f.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=f.max-f.value),this.vScrollBar[0].style.visibility);var v=i.table[0].rows[0],b=0,y=i.mousecaptureposition.clickedcell,_=y,w=!1,x=0,C=v.cells.length;i.mousecaptureposition.left<=t.pageX&&(x=y);for(var S=!1,T=x;T<C;T++){var P=parseFloat(e(this.columnsrow[0].cells[T]).css("left")),I=P-g;if(!i.columns.records[T].pinned||i.columns.records[T].hidden){if(S){w=!0,_--;break}var E=this._getcolumnat(T);if(!(null!=E&&E.hidden||i.groupable&&i.groups.length>0&&T<i.groups.length)){D=I+e(this.columnsrow[0].cells[T]).width();if(i.mousecaptureposition.left>t.pageX){if(D>=o&&o>=I){_=T,w=!0;break}}else if(D>=m&&m>=I){_=T,w=!0;break}}}else{T==y&&(S=!0);var D=P+e(this.columnsrow[0].cells[T]).width();if(i.mousecaptureposition.left>t.pageX){if(D>=o&&o>=I){_=T,w=!0;break}}else if(D>=m&&m>=I){_=T,w=!0;break}}}w||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e,t){return!!(i.groupable&&i.groups.length>0&&e<i.groups.length)||(this.pinned||this.hidden?void 0:(_=e,!1))}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(_=v.cells.length-1));var k=y;y=Math.min(y,_),_=Math.max(k,_),c+=5,c+=r;i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow);var j=0,M=-1,A=-1,N=0;for(T=0;T<i.table[0].rows.length;T++){var q=e(i.table[0].rows[T]);0==T&&(N=q.coord().top);var O=q.height(),B=N-a.top;if(-1==M&&B+O>=c){for(var R=!1,V=0;V<i.groups.length;V++){if(-1!=(H=q[0].cells[V].className).indexOf("jqx-grid-group-collapse")||-1!=H.indexOf("jqx-grid-group-expand")){R=!0;break}}if(R)continue;M=T}if(N+=O,i.groupable&&i.groups.length>0){for(R=!1,V=0;V<i.groups.length;V++){var H;if(-1!=(H=q[0].cells[V].className).indexOf("jqx-grid-group-collapse")||-1!=H.indexOf("jqx-grid-group-expand")){R=!0;break}}if(R)continue;b=0;for(var L=i.groups.length;L<q[0].cells.length;L++){var z=q[0].cells[L];""==e(z).html()&&b++}if(b==q[0].cells.length-i.groups.length)continue}if(-1!=M&&(j+=O),B+O>c+p){A=T;break}}if(-1!=M){c=e(i.table[0].rows[M]).coord().top-a.top-r-2;var F=0;this.filterable&&this.showfilterrow&&(F=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&c<this.rowsheight+F&&(c-=parseFloat(i.table[0].style.top),j+=parseFloat(i.table[0].style.top)),p=j;var U=e(this.columnsrow[0].cells[y]),$=e(this.columnsrow[0].cells[_]);if(h=parseFloat(U.css("left")),u=parseFloat($.css("left"))-parseFloat(h)+$.width()-2,h-=g,S&&(h+=g),i.editcell&&i.editable&&i.endcelledit&&(y!=_||M!=A)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(u),this.selectionarea.height(p),this.selectionarea.css("left",h),this.selectionarea.css("top",c)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var n=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(r-=2),r+=this.showtoolbar?this.toolbar.height():0;var a=this.selectionarea.coord(),s=this.host.coord();this.hasTransform&&(s=e.jqx.utilities.getOffset(this.host),a=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(r-=2);var o=a.left-s.left,l=a.top-n-s.top-r,d=l,h=o+this.selectionarea.width(),c=o,u=new Array,p=new Array;if("multiplerowsextended"==i.selectionmode){for(;l<d+this.selectionarea.height();){var m=(_=this._hittestrow(o,l)).row;-1!=(w=_.index)&&(p[w]||(p[w]=!0,u[u.length]=_)),l+=20}d=0;e.each(u,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==d?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),d++)})}else{"multiplecellsadvanced"==i.selectionmode&&(l+=2);var f=i.hScrollInstance,g=f.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=f.max-f.value),"hidden"!=this.vScrollBar[0].style.visibility&&(g-=this.scrollbarsize+4));var v=i.table[0].rows[0],b=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&b>0&&(i.selectedcells=new Array);for(var y=b;l<d+y;){var _;if(_=i._hittestrow(o,l)){var w;m=_.row;if(-1!=(w=_.index)&&!p[w]){p[w]=!0;for(var x=0;x<v.cells.length;x++){var C=parseFloat(e(i.columnsrow[0].cells[x]).css("left"))-g,S=C+e(i.columnsrow[0].cells[x]).width();(c>=C&&c<=S||h>=C&&h<=S||C>=c&&C<=h)&&i._applycellselection(i.getboundindex(m),i._getcolumnat(x).datafield,!0,!1)}}l+=5}else l+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),n=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=n&&(this.clearselection(),this.selectcell(e,n.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),n=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=n&&(this.clearselection(),this.selectcell(e,n.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;e>=0;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length,i.disabled)return!1;var n=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(n>=33&&n<=40))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(null!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(i.filterrow))return!0;if(i.showeverpresentrow){if(i.addnewrowtop&&e(t.target).ischildof(i.addnewrowtop))return!0;if(i.addnewrowbottom&&e(t.target).ischildof(i.addnewrowbottom))return!0}if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var r=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var a=String.fromCharCode(n).toLowerCase();if(this.clipboardbegin){var s=null;if("c"==a?s=this.clipboardbegin("copy",this.copyselection()):"x"==a?s=this.clipboardbegin("cut",this.copyselection()):"v"==a&&(s=this.clipboardbegin("paste")),!1===s)return!1}if("c"==a||"x"==a){var o=this.copyselection();if("c"==a&&this.clipboardend&&this.clipboardend("copy"),"x"==a&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",o);else{var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');l.val(o),e("body").append(l),l.select(),setTimeout(function(){document.designMode="off",l.select(),l.remove(),i.focus()},100)}if("c"==a&&e.jqx.browser.msie)return!1;if("c"==a)return!0}else if("v"==a){var d=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(d),d.select();var h=this;return setTimeout(function(){if(h._clipboardselection=new Array,0==(e=d.val()).length&&window.clipboardData){d.val(window.clipboardData.getData("Text"));var e=d.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("\t").length>0){var n=t[i].split("\t");if(1==n.length&&i==t.length-1&&""==n[0])continue;n.length>0&&h._clipboardselection.push(n)}h.pasteselection(),d.remove(),h.focus()},100),!0}if("x"==a)return this.deleteselection(),this.host.focus(),!1}var c=Math.round(i._gettableheight()),u=Math.round(c/i.rowsheight),p=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var m=i.getselectedcell();if(null!=m){var f=this.getrowvisibleindex(m.rowindex),g=m.datafield,v=i._getcolumnindex(g),b=(i.columns.records.length,function(e,n,a,s){var o=function(e,t){var n,o=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){var l=e;"up"==s&&l++,"down"==s&&l--;o=i.getdisplayrows()[l];for(var d=1,h=!0;h&&d<300&&(h=!1,"down"==s?o=i.getdisplayrows()[l+d]:"up"==s&&(o=i.getdisplayrows()[l-d]),o);){o&&o.group&&(h=!0);for(var c=o.parentItem;c;)!c||(n=c).group&&(i.expandedgroups[n.uniqueid]?i.expandedgroups[n.uniqueid].expanded:void 0)||(h=!0),c=c.parentItem;if(!h)break;d++}if(300==d&&(o=null),i.pageable){var u=!1;if(o){for(var p=0;p<i.dataview.rows.length;p++)i.dataview.rows[p].boundindex==o.boundindex&&(u=!0);u||(o=null)}}}if(null!=o&&null!=t){(a||null==a)&&i.clearselection();var m=i.getboundindex(o);return i.selectcell(m,t),i._oldselectedcell=i.selectedcell,r=!0,i.ensurecellvisible(e,t),!0}return!1};if(o(e,n)||(i.ensurecellvisible(e,n),o(e,n),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=t.keyCode){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,n);var l=i.dataview.loadedrecords[e],d=i.getboundindex(l);return void(i.selectedcell={rowindex:d,datafield:n})}}else t.shiftKey||(i._lastClickedCell={row:e,column:n})}),y=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,_=function(){b(0,g,!y)},w=function(){var e=p.rowscount-1;b(e,g,!y)},x=9==n&&!t.shiftKey,C=9==n&&t.shiftKey;if(i.rtl){var S=x;x=C,C=S}if((x||C)&&(y=!1),(x||C)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;if((j=t.ctrlKey||t.metaKey)&&37==n)null!=(E=i._getfirstvisiblecolumn(v))&&b(f,E.datafield);else if(j&&39==n){var T=i._getlastvisiblecolumn(v);null!=T&&b(f,T.datafield)}else if(39==n||x){var P=i._getnextvisiblecolumn(v);if(null!=P)b(f,P.datafield,!y);else if(x){var I=i._getfirstvisiblecolumn();n=40,g=I.displayfield}else r=!0}else if(37==n||C){var E;if(null!=(E=i._getprevvisiblecolumn(v)))b(f,E.datafield,!y);else if(C){var D=i._getlastvisiblecolumn();n=38,g=D.displayfield}else r=!0}else if(36==n)_();else if(35==n)w();else if(33==n){if(f-u>=0)b(f-u,g,!y);else _()}else if(34==n){if(p.rowscount>f+u)b(f+u,g,!y);else w()}38==n&&(j?_():f>0?b(f-1,g,!y,"up"):r=!0),40==n&&(j?w():p.rowscount>f+1||i.groupable&&i.groups.length>0?b(f+1,g,!y,"down"):r=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(f=i.getselectedrowindex())||-1==f)return!0;f=this.getrowvisibleindex(f);var k=function(e,a,s){var o=function(e){var t,n=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){"up"==s&&e++,"down"==s&&e--;n=i.getdisplayrows()[e];for(var o=1,l=!0;l&&o<300&&(l=!1,"down"==s?n=i.getdisplayrows()[e+o]:"up"==s&&(n=i.getdisplayrows()[e-o]),n);){n&&n.group&&(l=!0);for(var d=n.parentItem;d;)!d||(t=d).group&&(i.expandedgroups[t.uniqueid]?i.expandedgroups[t.uniqueid].expanded:void 0)||(l=!0),d=d.parentItem;if(!l)break;o++}if(300==o&&(n=null),i.pageable){var h=!1;if(n){for(var c=0;c<i.dataview.rows.length;c++)i.dataview.rows[c].boundindex==n.boundindex&&(h=!0);h||(n=null)}}}if(null!=n){var u=i.getboundindex(n),p=i.selectedrowindex;return(a||null==a)&&i.clearselection(),i.selectedrowindex=p,i.selectrow(u,!1),(!i.ensurerowvisible(e)||i.autoheight||i.groupable)&&i._rendervisualrows(),r=!0,!0}return!1};if(o(e)||(i.ensurerowvisible(e),o(e),i.virtualmode&&setTimeout(function(){o(e)},25),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=n){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},j=(y=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,_=function(){k(0,!y)},w=function(){var e=p.rowscount-1;k(e,!y)},t.ctrlKey||t.metaKey);if(36==n||j&&38==n)_();else if(35==n||j&&40==n)w();else if(33==n){if(f-u>=0)k(f-u,!y);else _()}else if(34==n){if(p.rowscount>f+u)k(f+u,!y);else w()}else 38==n?f>0?k(f-1,!y,"up"):r=!0:40==n&&(p.rowscount>f+1||i.groupable&&i.groups.length>0?k(f+1,!y,"down"):r=!0)}return!r||(i.autosavestate&&i.savestate&&i.savestate(),!1)},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var n,r,a,s,o;if(i.enablehover||"multiplerows"==i.selectionmode){if(n=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0,r+=this.showtoolbar?this.toolbarheight:0,a=this.host.coord(),this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();a.left-=l.left,a.top-=l.top}s=t.pageX-a.left,o=t.pageY-n-a.top-r}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(s,o);if(d){var h=d.row,c=d.index;if((-1==this.hoveredrow||-1==c||this.hoveredrow!=c||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=c&&null!=h)){var u=this.hittestinfo[c].visualrow;if(null!=u&&!(this.hittestinfo[c].details||t.clientX>e(u).width()+e(u).coord().left)){var p=0,m=u.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):p=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:p=this.groups.length),0!=u.cells.length){var f=u.cells[p].className;if(!(h.group||this.selectionmode.indexOf("row")>=0&&-1!=f.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=c,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(y=p;y<m;y++){w=u.cells[y];e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(w,t.pageX,t.pageY)}else{var g=-1,v=this.hScrollInstance,b=v.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(b=v.max-v.value);for(var y=p;y<m;y++){var _=parseInt(e(this.columnsrow[0].cells[y]).css("left"))-b;if(this.columns.records[y].pinned&&!this.rtl&&(_=parseInt(e(this.columnsrow[0].cells[y]).css("left"))),_+e(this.columnsrow[0].cells[y]).width()>=s&&s>=_){g=y;break}}if(-1!=g){var w=u.cells[g];if(this.cellhover&&this.cellhover(w,t.pageX,t.pageY),-1==w.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var x=this._getcolumnat(g);if(x&&this.editcell.row==c&&this.editcell.column==x.datafield)return}e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework);var kt=Object.freeze({});!function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){"cells"!=t&&"all"!=t&&"column"!=t&&(t="all");var n=this.that,r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records)),i=null==i?0:parseInt(i);var a=r.length;if(null==a&&null!=r){var s=new Array;e.each(r,function(e){s.push(this)}),a=(r=s).length}var o=e("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(o);var l=[],d=[],h=[],c=[],u=n.host.width();"hidden"!=n.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0);for(var p=0;p<a;p++)for(var m=r[p],f=0;f<this.columns.records.length;f++){if(!(S=this.columns.records[f]).hidden&&!(this.groups.length>0&&f<=this.groups.length-1)){null==d[S.displayfield]&&(d[S.displayfield]=0),null==h[S.displayfield]&&(h[S.displayfield]="");var g=m[S.displayfield];if(""!=S.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(g)?g=e.jqx.dataFormat.formatdate(g,S.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(g)&&(g=e.jqx.dataFormat.formatnumber(g,S.cellsformat,this.gridlocalization)));else if(S.cellsrenderer){var v=n._defaultcellsrenderer(g,S),b=S.cellsrenderer(p,S.datafield,g,v,S.getcolumnproperties(),m);null!=b&&(g=e(b).text())}if((null==t||"cells"==t||"all"==t)&&null!=g){l=g.toString().length;var y=g.toString().replace(/[^A-Z]/g,"").length;if(l>d[S.displayfield]&&(d[S.displayfield]=l,h[S.displayfield]=g,c[S.displayfield]=y),l>0&&l>=y)(_=20*y+15*(l-y))>(w=20*c[S.displayfield]+15*(d[S.displayfield]-c[S.displayfield]))&&_>0&&w>0&&(d[S.displayfield]=l,h[S.displayfield]=g,c[S.displayfield]=y)}if("column"==t||"all"==t){if(S.text.toString().length>d[S.displayfield]){h[S.displayfield]=S.text,d[S.displayfield]=S.text.length;y=S.text.toString().replace(/[^A-Z]/g,"").length;c[S.displayfield]=y}var _,w;l=(g=S.text).toString().length,y=g.toString().replace(/[^A-Z]/g,"").length;if(l>0&&l>=y)(_=20*y+15*(l-y))>(w=20*c[S.displayfield]+15*(d[S.displayfield]-c[S.displayfield]))&&_>0&&w>0&&(d[S.displayfield]=l,h[S.displayfield]=g,c[S.displayfield]=y)}}}if(this.columns.records){for(f=0;f<this.columns.records.length;f++){if((S=this.columns.records[f]).displayfield){null==h[S.displayfield]&&(h[S.displayfield]=S.text),o[0].className.indexOf("jqx-grid-column-header")>=0&&o.removeClass(this.toThemeProperty("jqx-grid-column-header")),h[S.displayfield]==S.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header")),o[0].innerHTML=h[S.displayfield].toString();var x=o.outerWidth()+10;if(o.children().length>0&&(x=o.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(x+=10),this.filterable&&this.showfilterrow&&(x+=5),(x+=i)>S.maxwidth&&(x=S.maxwidth),null!=S._width&&(S.__width=S._width),S._width=null,"auto"==S.maxwidth||x<=S.maxwidth){var C=S.width;x<S.minwidth&&(x=S.minwidth),S.width=x,null!=S._percentagewidth&&(S._percentagewidth=null),this._raiseEvent(14,{columntext:S.text,column:S.getcolumnproperties(),datafield:S.datafield,displayfield:S.displayfield,oldwidth:C,newwidth:x})}}}o.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(f=0;f<this.columns.records.length;f++){var S;null!=(S=this.columns.records[f]).__width&&(S._width=S.__width)}}},autoresizecolumn:function(t,i,n){if("cells"!=i&&"all"!=i&&"column"!=i&&(i="all"),null==t)return!1;var r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records));var a=this.getcolumn(t);if(null==a)return!1;n=null==n?0:parseInt(n);var s=r.length,o=e("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(o);var l=0,d="",h=0,c=this.that,u=c.host.width();if("hidden"!=c.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0),null==i||"cells"==i||"all"==i)for(var p=0;p<s;p++){var m=r[p][a.displayfield];if(""!=a.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(m)?m=e.jqx.dataFormat.formatdate(m,a.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(m)&&(m=e.jqx.dataFormat.formatnumber(m,a.cellsformat,this.gridlocalization)));else if(a.cellsrenderer){var f=a.cellsrenderer(p,a,m);null!=f&&(m=e(f).text())}if(null!=m){var g=m.toString().length,v=m.toString().replace(/[^A-Z]/g,"").length;if(g>l&&(l=g,d=m,h=v),g>0&&g>=v)(b=20*v+15*(g-v))>(y=20*h+15*(l-h))&&b>0&&y>0&&(l=g,d=m,h=v)}}if("column"==i||"all"==i){a.text.toString().length>l&&(d=a.text);var b,y;g=(m=a.text.toString()).toString().length,v=m.toString().replace(/[^A-Z]/g,"").length;if(g>0&&g>=v)(b=20*v+15*(g-v))>(y=20*h+15*(l-h))&&b>0&&y>0&&(l=g,d=m,h=v)}null==d&&(d=a.text),o[0].innerHTML=d,d==a.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header"));var _=o.outerWidth()+10;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(_+=5),this.filterable&&this.showfilterrow&&(_+=5),_+=n,o.remove(),_>a.maxwidth&&(_=a.maxwidth),"auto"==a.maxwidth||_<=a.maxwidth){var w=a.width;_<a.minwidth&&(_=a.minwidth),a.width=_,null!=a._width&&(a.__width=a._width),a._width=null,null!=a._percentagewidth&&(a._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:a.text,column:a.getcolumnproperties(),datafield:t,displayfield:a.displayfield,oldwidth:w,newwidth:_}),this._renderrows(this.virtualsizeinfo),null!=a._width&&(a._width=a.__width)}},_handlecolumnsresize:function(){var t=this.that;if(this.columnsresize){var i=!1;t.isTouchDevice()&&!0!==t.touchmode&&(i=!0);var n="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,a="mouseup.resize"+this.element.id;if(i)n=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),n),this.addHandler(e(document),n,function(n){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var r=t.host.coord(),a=parseInt(t.resizestartline.coord().left),s=a-t._startcolumnwidth,o=t.resizablecolumn.column.minwidth;o="auto"==o?0:parseInt(o);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var d=n.pageX;if(i)d=t.getTouches(n)[0].pageX;s+=o;var h=l>0?a+l:0,c=0==l||t._startcolumnwidth+d-a<l;if(t.rtl)c=!0;if(c)if(t.rtl){if(d>=r.left&&d<=r.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=r.left&&d>=s&&(0!=h&&n.pageX<h?t.resizeline.css("left",d):0==h&&t.resizeline.css("left",d),i))return!1}return!(!i&&null!=t.resizablecolumn)&&void 0}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled){var n=t.resizablecolumn.columnelement;if(n.coord().top+n.height()+5<i.pageY)return void(t.resizablecolumn=null);if(n.coord().top-5>i.pageY)return void(t.resizablecolumn=null);if(t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"),t._mouseDownResize=new Date,t.resizing=!0,t._lastmouseDownResize&&t.columnsautoresize&&t._lastmouseDownResize-t._mouseDownResize<300&&t._lastmouseDownResize-t._mouseDownResize>-500){var r=t.resizablecolumn.column;if(r.resizable){t.resizablecolumn.column.width;var a=t.hScrollBar[0].style.visibility;return t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t.columndragstarted=!1,t.dragmousedown=null,t.__drag=!1,t.autoresizecolumn(r.displayfield,"all"),a!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t.autosavestate&&t.savestate&&t.savestate(),i.stopPropagation(),t.suspendClick=!0,setTimeout(function(){t.suspendClick=!1},100),!1}}t._lastmouseDownResize=new Date,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var s=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",9999);var o=function(e){t.rtl?e.css("left",parseInt(s.left)):e.css("left",parseInt(s.left)+t._startcolumnwidth);var i=t._groupsheader()?t.groupsheader.height():0;i+=t.showtoolbar?t.toolbarheight:0,i+=t.showstatusbar?t.statusbarheight:0;var n=0;t.pageable&&(n=t.pagerheight);var r="visible"==t.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(s.top)),e.css("z-index",99999),t.columngroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-n-i-r-t.columngroupslevel*t.columnsheight):e.height(t.host.height()-n-i-r),t.enableanimations?e.show("fast"):e.show()};o(t.resizeline),o(t.resizestartline),t.dragmousedown=null}});var s=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var n=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),a=t._startcolumnwidth+n-r;if(t.rtl)a=t._startcolumnwidth-n+r;var s=t._resizecolumn.width;t._closemenu(),a<t._resizecolumn.minwidth&&(a=t._resizecolumn.minwidth),t._resizecolumn.width=a,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=a/i*100);for(var o=0;o<t._columns.length;o++)if(t._columns[o].datafield===t._resizecolumn.datafield){t._columns[o].width=t._resizecolumn.width,t._columns[o].width<t._resizecolumn.minwidth&&(t._columns[o].width=t._resizecolumn.minwidth);break}var l=t.hScrollBar[0].style.visibility;t._updatecolumnwidths(),t._updatecellwidths(),t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:s,newwidth:a}),t._renderrows(t.virtualsizeinfo),t.autosavestate&&t.savestate&&t.savestate(),l!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var o=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)){var l=function(e){s()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),a),this.addHandler(e(document),a,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;s()})}}})}(jqxBaseFramework);var jt=Object.freeze({});!function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){var n,r;if(null!=t.target&&!(i.disabled||e(t.target).ischildof(this.columnsheader)||(t.which?n=3==t.which:t.button&&(n=2==t.button),n||(t.which?r=2==t.which:t.button&&(r=1==t.button),r)))){var a=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;s+=this.showtoolbar?this.toolbarheight:0;var o=this.host.offset(),l=t.pageX-o.left,d=t.pageY-a-o.top-s,h=this._hittestrow(l,d);if(h){var c=h.row,u=h.index,p=t.target.className,m=this.table[0].rows[u];if(null!=m){i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-s};for(var f=this.hScrollInstance.value,g=0,v=(this.groupable&&this.groups.length,0);v<m.cells.length;v++){var b=parseInt(e(this.columnsrow[0].cells[v]).css("left")),y=b-f;if(i.columns.records[v].pinned&&(y=b),null==(_=this._getcolumnat(v))||!_.hidden)if(y+e(this.columnsrow[0].cells[v]).width()>=l&&l>=y){g=v;break}}if(null!=c){var _=this._getcolumnat(g);-1==p.indexOf("jqx-grid-group-expand")&&-1==p.indexOf("jqx-grid-group-collapse")&&-1!=c.boundindex&&i.begincelledit(i.getboundindex(c),_.datafield,_.defaulteditorvalue)}}}}},_getpreveditablecolumn:function(e){for(;e>0;){e--;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){e++;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(t,i){if(i.handlekeyboardnavigation&&1==i.handlekeyboardnavigation(t))return!0;var n=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editEvent=t,i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&e(t.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&e(t.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&e(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===n)return this.endrowedit(this.editcell.row,!1),!1;if(27===n)return this.endrowedit(this.editcell.row,!0),!1;if(32==n)if(this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype)if((p=this.getcolumn(this._currentColumn)).editable){var r=!this.getcellvalue(this.editcell.row,p.datafield),a=this.getrowdata(this.editcell.row),s=this.editcell.row;a=i.getrowdata(i.editcell.row);this.setcellvalue(this.editcell.row,p.datafield,r,!1);var o=this._focusedColumn,l=this._currentColumn,d=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(s,!1),this._currentColumn=l,this._focusedColumn=o,this._currentEditableColumn=d,this._renderrows(),this.selectcell(s,p.datafield),this._oldselectedcell=this.selectedcell,o){var h=this;setTimeout(function(){h.selectcell(s,p.datafield),h._oldselectedcell=h.selectedcell,e(h._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}if(9===n){var c=this.editcell.datafield,u=this._getcolumnindex(c);this._currentEditableColumn?u=this._currentEditableColumn:this._currentEditableColumn=u;var p=this._getnexteditablecolumn(u);if(t.shiftKey&&(p=this._getpreveditablecolumn(u)),p){u=this._getcolumnindex(p.datafield);if(this.editcell[p.datafield])this._currentEditableColumn=u,(m=this.editcell[p.datafield].editor)&&(m.data().jqxWidget&&m.data().jqxWidget.focus?m.data().jqxWidget.focus():m.focus()),this._focusedColumn=p.datafield,this._currentColumn=p.datafield;else if("checkbox"==p.columntype)return this._currentColumn=p.datafield,this._currentEditableColumn=u,this.selectcell(this.editcell.row,p.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[p.datafield]&&e(this._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(n>=33&&n<=40&&"multiplecellsadvanced"==i.selectionmode){var m="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),f=i._selection(m),g=m.val().length;f.length>0&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),f.start>0&&37==n&&(i._cancelkeydown=!0),f.start<g&&39==n&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==n&&f.start+f.length<g&&(i._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==n||39==n&&"multiplecellsadvanced"==i.selectionmode)&&(i._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(i._cancelkeydown=!0);if(32==n)if("checkbox"==i.editcell.columntype)if((p=i.getcolumn(i.editcell.datafield)).editable){r=!i.getcellvalue(i.editcell.row,i.editcell.column);if(p.cellbeginedit)if(0==p.cellbeginedit(i.editcell.row,p.datafield,p.columntype,!r))return!1;a=i.getrowdata(i.editcell.row);return i.setcellvalue(i.editcell.row,i.editcell.column,r,!0),i._raiseEvent(18,{rowindex:i.editcell.row,row:a,datafield:i.editcell.column,oldvalue:!r,value:r,columntype:"checkbox"}),!1}if(9==n){var v=this.editcell.row,b=c=this.editcell.column,y=(u=i._getcolumnindex(c),!1),_=i.getrowvisibleindex(v);this.editchar="";var w=this.editcell.validated;if(!this.editcell.validated)w=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=w){if(t.shiftKey)if(p=i._getpreveditablecolumn(u))c=p.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectprevcell(v,b),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,c)},10));else{var x=i._getlastvisiblecolumn();y=!0,c=x.displayfield,v--,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(v,c),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,c)},10))}else if(p=i._getnexteditablecolumn(u))c=p.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectnextcell(v,b),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,c)},10));else{var C=i._getfirstvisiblecolumn();y=!0,c=C.displayfield,v++,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(v,c),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,c)},10))}if(!y)return null!=this.editcell&&(i.endcelledit(v,c,!1),this._renderrows(this.virtualsizeinfo)),!0;i.begincelledit(v,c),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==n){var S=this.selectedcell;if(S)var T=this.getrowvisibleindex(S.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode)if(null!=(P=i.getselectedcell())&&i.selectcell&&null==this.editcell&&P.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=P.datafield){_=this.getrowvisibleindex(P.rowindex);if((A=this.dataview.loadedrecords[_+1])&&(!this.pageable||this.pageable&&_+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(A),P.datafield);var P=this.getselectedcell();this.ensurecellvisible(A.visibleindex,P.datafield)}}else{if(null!=S)if(I=this.dataview.loadedrecords[T+1])if(!this.pageable||this.pageable&&T+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(I),P.datafield);else if(this.pageable&&T+1>=this.pagesize){this.clearselection(!1);var I=this.dataview.loadedrecords[T];this.selectcell(this.getboundindex(I),P.datafield)}}return!1}if(27==n)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var E=!1;if(113==n&&(E=!0),!t.ctrlKey&&!t.altKey&&!t.metaKey){if(n>=48&&n<=57&&(this.editchar=String.fromCharCode(n),E=!0),189===n&&(E=!0),n>=65&&n<=90){this.editchar=String.fromCharCode(n);var D=!1;t.shiftKey?D=t.shiftKey:t.modifiers&&(D=!!(4&t.modifiers)),this._capsLock&&(D=!D),D||(this.editchar=this.editchar.toLowerCase()),E=!0}else n>=96&&n<=105&&(this.editchar=n-96,this.editchar=this.editchar.toString(),E=!0);var k=e(".jqx-grid").length;E=E&&(1==k||k>1&&i.focused);var j=e.data(document.body,"jqxgrid.edit");if(void 0!==j&&""!==j&&(13===n||E)&&j!=i.element.id)return!0}if((13==n||E)&&i.getselectedrowindex){v=i.getselectedrowindex();if("selectedrow"===i.editmode){if(!(v>=0)){if(null!=(P=i.getselectedcell())){var p=i._getcolumnbydatafield(P.datafield);i.beginrowedit(P.rowindex)}return!1}i.beginrowedit(v)}switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(v>=0){c="";for(var M=0;M<i.columns.records.length;M++){if((p=i.getcolumnat(M)).editable){c=p.datafield;break}}"selectedrow"===i.editmode?i.beginrowedit(v):i.begincelledit(v,c)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":if(null!=(P=i.getselectedcell())){p=i._getcolumnbydatafield(P.datafield);"selectedrow"===i.editmode?i.beginrowedit(P.rowindex):"checkbox"!=p.columntype&&i.begincelledit(P.rowindex,P.datafield)}break;case"multiplecellsadvanced":var A;if(null!=(P=i.getselectedcell()))if(13==n){if(i.selectcell)if((_=this.getrowvisibleindex(P.rowindex))+1<i.dataview.totalrecords)if(A=this.dataview.loadedrecords[_+1]){this.clearselection(!1),this.selectcell(this.getboundindex(A),P.datafield);var P=this.getselectedcell();this.ensurecellvisible(A.visibleindex,P.datafield)}}else"selectedrow"!==i.editmode&&i.begincelledit(P.rowindex,P.datafield)}return!1}if(46==n){var N=i.getselectedcells();if(-1==i.selectionmode.indexOf("cell")&&i._getcellsforcopypaste&&(N=i._getcellsforcopypaste()),null!=N&&N.length>0){for(var q=0;q<N.length;q++){if((P=N[q]).datafield){p=i.getcolumn(P.datafield);var O=i.getcellvalue(P.rowindex,P.datafield);if(""!==O&&p.editable&&i.enablekeyboarddelete){var B=null;if("checkbox"==p.columntype&&(p.threestatecheckbox||(B=!1)),p.cellbeginedit)if(0==p.cellbeginedit(P.rowindex,p.datafield,p.columntype,B))return!1;a=i.getrowdata(P.rowindex);if(i._raiseEvent(17,{rowindex:P.rowindex,row:a,datafield:P.datafield,value:O}),q==N.length-1?(i.setcellvalue(P.rowindex,P.datafield,B,!0),p.displayfield!=p.datafield&&i.setcellvalue(P.rowindex,p.displayfield,B,!0)):(i.setcellvalue(P.rowindex,P.datafield,B,!1),p.displayfield!=p.datafield&&i.setcellvalue(P.rowindex,p.displayfield,B,!0)),p.cellendedit)p.cellendedit(P.rowindex,p.datafield,p.columntype,B);i._raiseEvent(18,{rowindex:P.rowindex,row:a,datafield:P.datafield,oldvalue:O,value:B})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==n)if(null!=(P=i.getselectedcell()))if("checkbox"==(p=i.getcolumn(P.datafield)).columntype&&p.editable){r=!i.getcellvalue(P.rowindex,P.datafield);if(p.cellbeginedit)if(0==p.cellbeginedit(P.rowindex,p.datafield,p.columntype,!r))return!1;a=i.getrowdata(P.rowindex);return i._raiseEvent(17,{rowindex:P.rowindex,row:a,datafield:P.datafield,value:!r,columntype:"checkbox"}),i.setcellvalue(P.rowindex,P.datafield,r,!0),i._raiseEvent(18,{rowindex:P.rowindex,row:a,datafield:P.datafield,oldvalue:!r,value:r,columntype:"checkbox"}),!1}}return!0},begincelledit:function(t,i,n,r,a){var s=this.getcolumn(i);if(this._cellscache=new Array,null!=i&&"number"!=s.columntype&&"button"!=s.columntype&&!s.createwidget){if(this.groupable){if(this.groups.indexOf(i)>=0)return;if(this.groups.indexOf(s.displayfield)>=0)return}if(null==this.editrow){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0;if("selectedrow"===this.editmode&&this.editcell.row==t)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var o="checkbox"==s.columntype||"button"==s.columntype||s.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),s.editable){if(s.cellbeginedit){var l=this.getcell(t,i);if(0==s.cellbeginedit(t,i,s.columntype,null!=l?l.value:null))return}var d=this.getrowvisibleindex(t);if(this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=d,!this.editcell.editing)){if(o||(this.editcell.editing=!0),this.editcell.columntype=s.columntype,this.editcell.defaultvalue=n,null!=s.defaultvalue&&(this.editcell.defaultvalue=s.defaultvalue),this.editcell.init=!0,"checkbox"!=s.columntype&&"selectedrow"!=this.editmode){var h=this.getrowdata(t);this._raiseEvent(17,{rowindex:t,row:h,datafield:s.datafield,value:this.editcell.value,columntype:s.columntype})}if(e.data(document.body,"jqxgrid.edit",this.element.id),!o){var c=this.getrowvisibleindex(t);!1!==r&&(this.autorowheight||this.ensurecellvisible(c,s.datafield)),!1!==a&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,!1!==a&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(t,i,n,r,a){if(null!=t&&null!=i||(this.editcell&&(t=this.editcell.row,i=this.editcell.column),null==n&&(n=!0)),this.editcell){var s=this.getcolumn(i),o=this;if("selectedrow"!==o.editmode){var l=function(){if(0!=a){if(o.isTouchDevice())return;if(!o.isNestedGrid){var e=o.getScrollTop(),t=o.getScrollLeft();try{o.element.focus(),o.content.focus(),e!=o.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){o.element.focus(),o.content.focus(),e!=o.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}}};if("checkbox"==s.columntype||"button"==s.columntype||s.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var d,h=this._geteditorvalue(s),c=function(e){if(e._hidecelleditor(),s.cellendedit&&s.cellendedit(t,i,s.columntype,e.editcell.value,h),e.editchar=null,s.displayfield!=s.datafield){var n=e.getcellvalue(e.editcell.row,s.displayfield);({value:e.editcell.value,label:n})}else e.editcell.value;var a=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:a,datafield:i,displayfield:s.displayfield,oldvalue:h,value:h,columntype:s.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(r||null==r)&&e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))};if(n)return c(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),s.cellvaluechanging){var u=s.cellvaluechanging(t,i,s.columntype,this.editcell.value,h);null!=u&&(h=u)}if(s.validation){var p=this.getcell(t,i);try{var m=s.validation(p,h),f=this.gridlocalization.validationstring;if(null!=m.message&&(f=m.message),!("boolean"==typeof m?m:m.result))return null!=m.showmessage&&1!=m.showmessage||this._showvalidationpopup(t,i,f),this.editcell.validated=!1,!1}catch(e){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(s.displayfield!=s.datafield){var g=this.getcellvalue(this.editcell.row,s.displayfield);d={value:this.editcell.value,label:g}}else d=this.editcell.value;var v=this.getrowdata(t);if(s.cellendedit)if(0==s.cellendedit(t,i,s.columntype,this.editcell.value,h))return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:s.displayfield,oldvalue:d,value:d,columntype:s.columntype}),c(this),!1;return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:s.displayfield,oldvalue:d,value:h,columntype:s.columntype}),this._hidecelleditor(!1),null!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(t,i,h,r),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.jqx.browser.msie||l(),e.data(document.body,"jqxgrid.edit",""),!0}this.endrowedit(t,n)}},beginrowedit:function(t){var i=this;i._oldselectedrow=t,this._cellscache=new Array;var n=!1;if("selectedrow"!=this.editmode&&(n=!0),n){var r=this.editmode;this.editmode="selectedrow"}var a=null;e.each(this.columns.records,function(e,n){if(i.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;a||(a=this.datafield);var r=i.getcell(t,this.datafield);i.begincelledit(t,this.datafield,null,!1,!1);var s=i.getrowdata(t);i._raiseEvent(17,{rowindex:t,row:s,datafield:this.datafield,value:r.value,columntype:this.columntype})}}),i.editcell&&(i.editcell.init=!0),this._renderrows(this.virtualsizeinfo),n&&(this.editmode=r),a&&i.editcell&&setTimeout(function(){if(i.editcell&&i.editcell[a]){var e=i.editcell[a].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)},endrowedit:function(t,i){var n=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(null==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var r=!1;if("selectedrow"!=this.editmode&&(r=!0),r){var a=this.editmode;this.editmode="selectedrow"}var s=!1,o={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var l=0;l<this.columns.records.length;l++){if((w=this.columns.records[l]).editable&&(!w.hidden&&"checkbox"!=w.columntype&&!w.createwidget)){var d=this._geteditorvalue(w),h=function(e){e._hidecelleditor();var i=e.getcellvalue(e.editcell.row,w.displayfield);if(w.cellendedit&&w.cellendedit(t,p,w.columntype,i,d),e.editchar=null,w.displayfield!=w.datafield){var n=e.getcellvalue(e.editcell.row,w.displayfield);c={value:i,label:n}}else c=i;var r=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:r,datafield:p,displayfield:w.displayfield,oldvalue:i,value:i,columntype:w.columntype}),e.editcell.editing=!1};if(i)h(this);else{if(w.cellvaluechanging){var c=this.getcellvalue(this.editcell.row,w.displayfield),u=w.cellvaluechanging(t,p,w.columntype,c,d);null!=u&&(d=u)}var p=w.datafield;if(w.validation){var m=this.getcell(t,w.datafield);try{var f=w.validation(m,d),g=this.gridlocalization.validationstring;if(null!=f.message&&(g=f.message),!(S="boolean"==typeof f?f:f.result)){null!=f.showmessage&&1!=f.showmessage||this._showvalidationpopup(t,p,g),s=!0,this.editcell[w.datafield].validated=!1;continue}}catch(e){this._showvalidationpopup(t,p,this.gridlocalization.validationstring),this.editcell[w.datafield].validated=!1,s=!0;continue}}if(w.displayfield!=w.datafield){var v=this.getcellvalue(this.editcell.row,w.displayfield),b=this.editcell.value;c={value:b,label:v}}else c=this.getcellvalue(this.editcell.row,w.displayfield);o[w.datafield]={newvalue:d,oldvalue:c}}}}var y={},_={};if(!s){this._hidecelleditor(!1);for(l=0;l<this.columns.records.length;l++){var w;p=(w=this.columns.records[l]).datafield;if(!w.hidden&&w.editable){var x=this.getrowdata(t);if(!w.createwidget)if("checkbox"!=w.columntype){if(o[w.datafield]){d=o[w.datafield].newvalue,c=o[w.datafield].oldvalue;if(w.cellendedit)if(0==w.cellendedit(t,p,w.columntype,c,d)){this._raiseEvent(18,{rowindex:t,row:x,datafield:p,displayfield:w.displayfield,oldvalue:c,value:c,columntype:w.columntype}),h(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:x,datafield:w.datafield,displayfield:w.displayfield,oldvalue:c,value:d,columntype:w.columntype}),y[w.datafield]=d,_[w.datafield]=c}}else{var d=this.getcellvalue(t,w.displayfield);this._raiseEvent(18,{rowindex:t,row:x,datafield:w.datafield,displayfield:w.displayfield,oldvalue:d,value:d,columntype:w.columntype})}}}var C=this.getrowid(t);x=this.getrowdata(t);if(e.each(y,function(e,t){if(t&&null!=t.label){var i=n.getcolumn(e);x[i.displayfield]=t.label,x[i.datafield]=t.value}else x[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!i){n=this;var S=function(i){var r=n.source.updaterow;n.source.updaterow=null,0==i?(e.each(_,function(e,t){if(t&&null!=t.label){var i=n.getcolumn(e);x[i.displayfield]=t.label,x[i.datafield]=t.value}else x[e]=t}),n.updaterow(C,x)):n.updaterow(C,x);for(var a=0;a<n.columns.records.length;a++){var s=n.columns.records[a];s.datafield;n._raiseEvent(18,{rowindex:t,datafield:s.datafield,row:x,displayfield:s.displayfield,oldvalue:_[s.datafield],value:x[s.displayfield],columntype:s.columntype})}n.source.updaterow=r};try{null==this.source.updaterow(C,x,S)&&!0}catch(e){return void!1}}else i||this.updaterow(C,x),this._renderrows(this.virtualsizeinfo)}return r&&(this.editmode=a),s},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var n=document.selection.createRange();if(null==n)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),a=r.duplicate();r.moveToBookmark(n.getBookmark()),a.setEndPoint("EndToStart",r);i=n.text.length;return{start:a.text.length,end:a.text.length+n.text.length,length:i,text:n.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var n=i[0].createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}},findRecordIndex:function(e,t,i){i=i;if(t)for(var n=i.length,r=0;r<n;r++){if(e==i[r].label)return r}return-1},_destroyeditors:function(){var t=this;this.columns.records&&(e.each(this.columns.records,function(i,n){var r=e.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var a=t.editors["dropdownlist_"+r];a&&(a.jqxDropDownList("destroy"),t.editors["dropdownlist_"+r]=null);break;case"combobox":var s=t.editors["combobox_"+r];s&&(s.jqxComboBox("destroy"),t.editors["combobox_"+r]=null);break;case"datetimeinput":var o=t.editors["datetimeinput_"+this.datafield];o&&(o.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+r]=null);break;case"numberinput":var l=t.editors["numberinput_"+r];l&&(l.jqxNumberInput("destroy"),t.editors["numberinput_"+r]=null);break;case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+r]&&(t.destroyeditor(t.editors["templateeditor_"+r]),t.editors["templateeditor_"+r]=null),t.destroyeditor)for(var d=t.getrows.length(),h=0;h<d;h++)t.editors["customeditor_"+r+"_"+h]&&(t.destroyeditor(t.editors["customeditor_"+r+"_"+h],h),t.editors["customeditor_"+r+"_"+h]=null);break;case"textbox":default:var c=t.editors["textboxeditor_"+r];c&&(t.removeHandler(c,"keydown"),t.editors["textbox_"+r]=null)}}),t.editors=new Array)},_showcelleditor:function(t,i,n,r,a){if(null!=n&&null!=this.editcell)if("checkbox"==i.columntype&&i.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[i.datafield]=n);else{null==a&&(a=!0),"selectedrow"==this.editmode&&(this.editchar="",a=!1);var s=i.datafield,o=e(n),l=this,d=this.editcell.editor,h=this.getcellvalue(t,s),c=this.getcelltext(t,s),u=this.hScrollInstance.value,p=parseInt(u);this.columns.records.indexOf(i);if(this.editcell.element=n,0==this.editcell.validated){var m="";this.validationpopup&&(m=this.validationpopup.text()),this._showvalidationpopup(t,s,m)}var f=function(e){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||a&&(l.isTouchDevice()||(e&&e.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0)))};switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){n.innerHTML="";var g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""));var b=this.editors["dropdownlist_"+g];if((d=null==b?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):b).css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==b){d.prependTo(this.table),d[0].id="dropdownlisteditor"+this.element.id+g;var y=null;if(!!this.source._source){var _={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v});var w=!i.createeditor;d.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:o.width()-2,height:o.height()-2,displayMember:v,valueMember:s}),this.editors["dropdownlist_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}i._requirewidthupdate&&d.jqxDropDownList({width:o.width()-2});var x=d.jqxDropDownList("listBox").visibleItems;i.createeditor||(x.length<8?d.jqxDropDownList("autoDropDownHeight",!0):d.jqxDropDownList("autoDropDownHeight",!1));h=this.getcellvalue(t,v);var C=this.findRecordIndex(h,v,x);if(r&&(""!=h?d.jqxDropDownList("selectIndex",C,!0):d.jqxDropDownList("selectIndex",-1)),!this.editcell)return;null!=this.editcell.defaultvalue&&d.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),a&&d.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){n.innerHTML="";g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""));var S=this.editors["combobox_"+g];if((d=null==S?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):S).css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==S){d.prependTo(this.table),d[0].id="comboboxeditor"+this.element.id+g;y=null;if(!!this.source._source){_={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v});w=!i.createeditor;d.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:o.width()-2,height:o.height()-2,displayMember:v,valueMember:s}),d.removeAttr("tabindex"),d.find("div").removeAttr("tabindex"),this.editors["combobox_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}i._requirewidthupdate&&d.jqxComboBox({width:o.width()-2});x=d.jqxComboBox("listBox").visibleItems;i.createeditor||(x.length<8?d.jqxComboBox("autoDropDownHeight",!0):d.jqxComboBox("autoDropDownHeight",!1));h=this.getcellvalue(t,v),C=this.findRecordIndex(h,v,x);if(r&&(""!=h?(d.jqxComboBox("selectIndex",C,!0),d.jqxComboBox("val",h)):(d.jqxComboBox("selectIndex",-1),d.jqxComboBox("val",h))),!this.editcell)return;null!=this.editcell.defaultvalue&&d.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&d.jqxComboBox("input").val(this.editchar),a&&setTimeout(function(){if(f(d.jqxComboBox("input")),d)if(d.jqxComboBox("_setSelection",0,0),l.editchar)d.jqxComboBox("_setSelection",1,1),l.editchar=null;else if(d.jqxComboBox("input")){var e=d.jqxComboBox("input").val();d.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var T=this.editors["datetimeinput_"+g];if((d=null==T?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):T).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==T){d.prependTo(this.table),d[0].id="datetimeeditor"+this.element.id+g;var P={calendar:this.gridlocalization};d.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:P,_editor:!0,theme:this.theme,rtl:this.rtl,width:o.width(),height:o.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}if(i._requirewidthupdate&&d.jqxDateTimeInput({width:o.width()-2}),r){if(""!=h&&null!=h){var I=new Date(h);"Invalid Date"==I&&this.source.getvaluebytype&&(I=this.source.getvaluebytype(h,{name:i.datafield,type:"date"})),d.jqxDateTimeInput("setDate",I)}else d.jqxDateTimeInput("setDate",null);null!=this.editcell.defaultvalue&&d.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(a){var E=this.editEvent;setTimeout(function(){f(d.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(d.jqxDateTimeInput("_selectGroup",0),l.editchar&&l.editchar.length>0){var e=parseInt(l.editchar);if(!isNaN(e)&&E){var t=E.charCode?E.charCode:E.keyCode?E.keyCode:0;d.jqxDateTimeInput("_handleKeyPress",E,t)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var D=this.editors["numberinput_"+g];if((d=null==D?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):D).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==D){d.prependTo(this.table),d[0].id="numbereditor"+this.element.id+g;var k="",j="left",M=2;i.cellsformat?-1!=i.cellsformat.indexOf("c")?(k=this.gridlocalization.currencysymbol,j="before"==(j=this.gridlocalization.currencysymbolposition)?"left":"right",i.cellsformat.length>1&&(M=parseInt(i.cellsformat.substring(1),10))):-1!=i.cellsformat.indexOf("p")&&(k=this.gridlocalization.percentsymbol,j="right",i.cellsformat.length>1&&(M=parseInt(i.cellsformat.substring(1),10))):M=0,d.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:M,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:o.width()-1,height:o.height()-1,spinButtons:!0,symbol:k,symbolPosition:j}),this.editors["numberinput_"+g]=d,i.createeditor&&i.createeditor(t,h,d)}if(i._requirewidthupdate&&d.jqxNumberInput({width:o.width()-2}),r){if(""!=h&&null!=h){var A=h;d.jqxNumberInput("setDecimal",A)}else d.jqxNumberInput("setDecimal",0);if(null!=this.editcell.defaultvalue&&d.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var N=parseInt(this.editchar);isNaN(N)||d.jqxNumberInput("setDecimal",N)}a&&setTimeout(function(){if(f(d.jqxNumberInput("numberInput")),d.jqxNumberInput("_setSelectionStart",0),l.editchar)i.cellsformat.length>0?d.jqxNumberInput("_setSelectionStart",2):d.jqxNumberInput("_setSelectionStart",1),l.editchar=null;else{if(d.jqxNumberInput("spinButtons")){var e=d.jqxNumberInput("numberInput").val();l._setSelection(d.jqxNumberInput("numberInput")[0],e.length,e.length)}else{e=d.jqxNumberInput("numberInput").val();l._setSelection(d.jqxNumberInput("numberInput")[0],0,e.length)}d.jqxNumberInput("selectAll")}},10)}}break;case"custom":n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var q=this.editors["customeditor_"+g+"_"+t];if((d=null==q?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):q).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==q){d.prependTo(this.table),d[0].id="customeditor"+this.element.id+g+"_"+t,this.editors["customeditor_"+g+"_"+t]=d;var O=o.width()-1,B=o.height()-1;d.width(O),d.height(B),i.createeditor&&i.createeditor(t,h,d,c,O,B,this.editchar)}i._requirewidthupdate&&d.width(o.width()-2);break;case"template":n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var R=this.editors["templateeditor_"+g];if((d=null==R?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):R).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==R){d.prependTo(this.table),d[0].id="templateeditor"+this.element.id+g,this.editors["templateeditor_"+g]=d;O=o.width()-1,B=o.height()-1;d.width(O),d.height(B),i.createeditor&&i.createeditor(t,h,d,c,O,B,this.editchar)}i._requirewidthupdate&&d.width(o.width()-2);break;case"textbox":default:n.innerHTML="",(d=this.editors["textboxeditor_"+i.datafield]||e("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+i.datafield,d.appendTo(o),this.rtl&&d.css("direction","rtl"),(r||""==d[0].className)&&(d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?d.val(this.editchar):(""!=i.cellsformat&&(h=this.getcelltext(t,s)),null==h&&(h=""),d.val(h)),null!=this.editcell.defaultvalue&&d.val(this.editcell.defaultvalue),d.width(o.width()+1),d.height(o.height()+1),i.createeditor&&i.createeditor(t,h,d),""!=i.cellsformat&&(-1==i.cellsformat.indexOf("p")&&-1==i.cellsformat.indexOf("c")&&-1==i.cellsformat.indexOf("n")&&-1==i.cellsformat.indexOf("f")||this.editors["textboxeditor_"+i.datafield]||d.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,n=String.fromCharCode(t),r=parseInt(n);if(isNaN(r))return!0;if(l._selection(d).length>0)return!0;var a="",s=d.val();if(i.cellsformat.length>1){var o=parseInt(i.cellsformat.substring(1));isNaN(o)&&(o=0)}else o=0;if(o>0&&-1!=s.indexOf(l.gridlocalization.decimalseparator)&&l._selection(d).start>s.indexOf(l.gridlocalization.decimalseparator))return!0;for(var h=0;h<s.length-o;h++){var c=s.substring(h,h+1);null!=c.match(/^[0-9]+$/)&&(a+=c)}return!(a.length>=11)&&void 0}))),this.editors["textboxeditor_"+i.datafield]=d,r&&a&&setTimeout(function(){f(d),l.editchar?(l._setSelection(d[0],1,1),l.editchar=null):l._setSelection(d[0],0,d.val().length)},25)}d&&(d[0].style.zIndex=1+parseInt(n.style.zIndex),e.jqx.browser.msie&&e.jqx.browser.version<8&&(d[0].style.zIndex=1+this.columns.records.length+n.style.zIndex),d.css("display","block"),this.editcell.editor=d,this.editcell[s]?this.editcell[s].editor=d:(this.editcell[s]={},this.editcell[s].editor=d)),r&&i.initeditor&&i.initeditor(t,h,d,c,this.editchar),l.isTouchDevice()||setTimeout(function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){for(var e in this.editcells)this.editcell=this.editcells[e],this._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var t=this.editcell.editor;t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var n=this.columns.records[i];if(this.editcell[n.datafield]&&this.editcell[n.datafield].editor){this.editcell[n.datafield].editor.hide();var r=this.editcell[n.datafield].editor;switch(n.columntype){case"dropdownlist":r.jqxDropDownList({closeDelay:0}),r.jqxDropDownList("hideListBox"),r.jqxDropDownList({closeDelay:300});break;case"combobox":r.jqxComboBox({closeDelay:0}),r.jqxComboBox("hideListBox"),r.jqxComboBox({closeDelay:300});break;case"datetimeinput":r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}},_geteditorvalue:function(t){var i=new String;if(!this.editcell)return null;var n=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[t.datafield])n=this.editcell[t.datafield].editor;if(n){switch(t.columntype){case"textbox":default:if(i=n.val(),""!=t.cellsformat){var r="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(a){var s="";e.each(a,function(){if(this.name==t.displayfield)return this.type&&(s=this.type),!1}),s&&(r=s)}var o="date"===r||"time"===r;if("number"===r||"float"===r||"int"===r||"integer"===r||"string"===r&&(-1!=t.cellsformat.indexOf("p")||-1!=t.cellsformat.indexOf("c")||-1!=t.cellsformat.indexOf("n")||-1!=t.cellsformat.indexOf("f"))){if(""===i&&t.nullable)return"";i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var l=i;if(l=new Number(l),!isNaN(l))return l;(i=(i=function(e,t,i){var n=e;if(t==i)return e;for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t);return n}(i,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var d="",h=0;h<i.length;h++){var c=i.substring(h,h+1);"-"===c&&(d+="-"),"."===c&&(d+="."),null!=c.match(/^[0-9]+$/)&&(d+=c)}i=(i=d).replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}if(o||"string"===r&&(-1!=t.cellsformat.indexOf("H")||-1!=t.cellsformat.indexOf("m")||-1!=t.cellsformat.indexOf("M")||-1!=t.cellsformat.indexOf("y")||-1!=t.cellsformat.indexOf("h")||-1!=t.cellsformat.indexOf("d"))){if(""===i&&t.nullable)return"";var u=i;e.jqx.dataFormat&&(i=e.jqx.dataFormat.tryparsedate(u,this.gridlocalization)),"Invalid Date"!=i&&null!=i||(i="")}}t.displayfield!=t.datafield&&(i={label:i,value:i});break;case"checkbox":n.jqxCheckBox&&(i=n.jqxCheckBox("checked"));break;case"datetimeinput":if(n.jqxDateTimeInput){if(n.jqxDateTimeInput({isEditing:!1}),"none"!==n.jqxDateTimeInput("container").css("display")&&n.jqxDateTimeInput("close"),n.jqxDateTimeInput("_validateValue"),null==(i=n.jqxDateTimeInput("getDate")))return null;i=new Date(i.toString()),t.displayfield!=t.datafield&&(i={label:i,value:i})}break;case"dropdownlist":if(n.jqxDropDownList){var p=n.jqxDropDownList("selectedIndex"),m=n.jqxDropDownList("listBox").getVisibleItem(p);null==(i=t.displayfield!=t.datafield?m?{label:m.label,value:m.value}:"":m?m.label:"")&&(i="")}break;case"combobox":if(n.jqxComboBox){if(i=n.jqxComboBox("val"),t.displayfield!=t.datafield)null!=(m=n.jqxComboBox("getSelectedItem"))&&(i={label:m.label,value:m.value});null==i&&(i="")}break;case"numberinput":if(n.jqxNumberInput){this.touchdevice&&n.jqxNumberInput("_doTouchHandling");var f=n.jqxNumberInput("getDecimal");i=new Number(f),i=parseFloat(i),isNaN(i)&&(i=0),null===f&&(i=null),t.displayfield!=t.datafield&&(i={label:i,value:i})}}t.geteditorvalue&&(i="selectedrow"==this.editmode?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),n):t.geteditorvalue(this.editcell.row,this.editcell.value,n))}return i},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,n){if(null==n)n=this.gridlocalization.validationstring;var r=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");r.html(n),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),r.addClass(this.toThemeProperty("jqx-grid-validation")),r.addClass(this.toThemeProperty("jqx-rc-all")),r.prependTo(this.table),a.prependTo(this.table);for(var s=this.hScrollInstance.value,o=parseInt(s),l=this.getcolumn(i).uielement,d=null,h=0;h<this.hittestinfo.length;h++)t===this.hittestinfo[h].row.visibleindex&&(d=this.hittestinfo[h]);if(!d){this.ensurerowvisible(t);var c=this;return r.remove(),a.remove(),void setTimeout(function(){for(var e=null,r=0;r<c.hittestinfo.length;r++)t===c.hittestinfo[r].row.visibleindex&&(e=c.hittestinfo[r]);e&&c.showvalidationpopup(t,i,n)},25)}var u=e(d.visualrow);r.css("top",parseInt(u.position().top)+30+"px");var p=parseInt(r.css("top"));a.css("top",p-12),a.removeClass(),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var m=!1;p>=this._gettableheight()&&(a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(p=parseInt(u.position().top)-this.rowsheight-5)<0&&(p=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=!0),r.css("top",p+"px"),a.css("top",p+r.outerHeight()-9));var f=-o+parseInt(e(l).position().left);a.css("left",o+f+30);var g=r.width();g+f>this.host.width()-20&&(f-=g+f-this.host.width()+40);m?r.css("left",o+parseInt(e(l).position().left)-r.outerWidth()):r.css("left",o+f),r.show(),a.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:r,validationrow:a}},_showvalidationpopup:function(t,i,n){var r=this.editcell,a=this.editcell.editor;"selectedrow"==this.editmode&&((r=this.editcell[i])&&r.editor&&(a=r.editor,r.element=a));if(a&&!(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===i&&void 0===n&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(n);else{var s=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(n),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.prependTo(this.table),o.prependTo(this.table),this.validationpopup=s,this.validationpopuparrow=o}var l=this.hScrollInstance.value,d=parseInt(l);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.element).parent().position().top)+(this.rowsheight+5)+"px");var h=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",h-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var c=!1;h>=this._gettableheight()&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=parseInt(e(r.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(h=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(r.editor).position().top)-this.rowsheight-5),h<0&&(h=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=!0),this.validationpopup.css("top",h+"px"),this.validationpopuparrow.css("top",h+this.validationpopup.outerHeight()-9));var u=-d+parseInt(e(r.element).position().left);this.validationpopuparrow.css("left",d+u+30);var p=this.validationpopup.width();if(p+u>this.host.width()-20)u-=p+u-this.host.width()+40;c?this.validationpopup.css("left",d+parseInt(e(r.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",d+u),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework);var Mt=Object.freeze({});!function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,n=0,r=this;if(this.filterrow){for(var a=0;a<i;a++){var s=this.columns.records[a],o=s.width;o<s.minwidth&&(o=s.minwidth),o>s.maxwidth&&(o=s.maxwidth);var l=e(this.filterrow[0].cells[a]);l.css("left",n);var d=!0;if(l.width()==o&&(d=!1),t&&(d=!0),l.width(o),l[0].left=n,s.hidden&&s.hideable?l.css("display","none"):n+=o,d)if(s.createfilterwidget&&"custom"==s.filtertype)s.createfilterwidget(s,l);else if(s.filterable){var h=function(t,i){var n=e(i.children()[0]);n.width(o-10),n.attr("disabled",t.disabled)};switch(s.filtertype){case"number":case"input":e(l.children()[0]).width(o),l.find("input").width(o-30),l.find("input").attr("disabled",r.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:r.theme,disabled:r.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:r.theme,disabled:r.disabled,width:o-10}):h(this,l);break;case"textbox":case"default":h(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:r.theme,disabled:r.disabled,width:o-10}):h(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:r.theme,disabled:r.disabled}):h(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(n)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,n=0;n<i;n++){var r=this.columns.records[n],a=e(this.filterrow[0].cells[n]);if(("string"!=typeof t||r.displayfield==t)&&r.filterable){var s=function(t,i){var n=e(i.children()[0]);n.val(""),n[0]&&(t["_oldWriteText"+n[0].id]="")};switch(r.filtertype){case"number":case"input":if(a.find("input").val(""),this.host.jqxDropDownList){var o=e(e(e(a).children()[0]).children()[1]);o.jqxDropDownList("clearSelection");var l=0;if(0==l){this._getfiltersbytype("number"==r.filtertype?"number":"string");var d=(new e.jqx.filter).getoperatorsbyfiltertype("number"==r.filtertype?"numberfilter":"stringfilter");null!=r.filtercondition?-1==(l=d.indexOf(r.filtercondition.toUpperCase()))&&(l="number"==r.filtertype?0:2):l="number"==r.filtertype?0:2}o.jqxDropDownList({selectedIndex:l}),o.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(a.children()[0]).jqxDateTimeInput("setDate",null):s(this,a);break;case"textbox":case"default":s(this,a);break;case"list":this.host.jqxDropDownList?e(a.children()[0]).jqxDropDownList("clearSelection"):s(this,a);break;case"checkedlist":this.host.jqxDropDownList?e(a.children()[0]).jqxDropDownList("checkAll",!1):s(this,a);break;case"bool":case"boolean":this.host.jqxCheckBox?e(a.children()[0]).jqxCheckBox({checked:null}):s(this,a)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,n=0;n<t;n++){var r=new e.jqx.filter,a=this.columns.records[n];if(a.filterable&&null!==a.datafield){var s=i._getcolumntypebydatafield(a),o=i._getfiltertype(s),l=!0,d=(a.filtertype,function(e,t,n){var r=!0;if(e._filterwidget){var a=e._filterwidget.val();if(""!=a){var s="equal";if("stringfilter"==t)s="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&a.indexOf(i.gridlocalization.decimalseparator)>=0&&(a=a.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var o=0;if(-1!=a.indexOf(">")&&(s="greater_than",o=1),-1!=a.indexOf("<")&&(s="less_than",o=1),-1!=a.indexOf("=")&&("greater_than"==s?(s="greater_than_or_equal",o=2):"less_than"==s?(s="less_than_or_equal",o=2):(s="equal",o=1)),0!=o&&(a=a.substring(o)).length<1)return!1}if(null!=e.filtercondition&&(s=e.filtercondition),"datefilter"==t)var l=n.createfilter(t,a,s,null,e.cellsformat,i.gridlocalization);else l=n.createfilter(t,a,s);n.addfilter(1,l)}else r=!1}return r});switch(a.filtertype){case"range":case"date":if(a._filterwidget.jqxDateTimeInput)if("range"==a.filtertype)if(null!=(f=a._filterwidget.jqxDateTimeInput("getRange"))&&null!=f.from&&null!=f.to){var h="GREATER_THAN_OR_EQUAL";(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(f.from.getFullYear(),f.from.getMonth(),f.from.getDate());var c=new Date(0);c.setHours(0),c.setMinutes(0),c.setFullYear(f.to.getFullYear(),f.to.getMonth(),f.to.getDate()),c.setHours(f.to.getHours()),c.setMinutes(f.to.getMinutes()),c.setSeconds(f.to.getSeconds());var u=r.createfilter(o,m,h);r.addfilter(0,u);var p=r.createfilter(o,c,"LESS_THAN_OR_EQUAL");r.addfilter(0,p)}else l=!1;else if(null!=(f=a._filterwidget.jqxDateTimeInput("getDate"))){var m;(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(f.getFullYear(),f.getMonth(),f.getDate());h="EQUAL";null!=a.filtercondition&&(h=a.filtercondition);u=r.createfilter(o,m,h);r.addfilter(0,u)}else l=!1;else l=d(a,o,r);break;case"input":if(a._filterwidget){var f=a._filterwidget.find("input").val(),g=a._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(o)[g];if(i.updatefilterconditions){null!=(_=i.updatefilterconditions(o,r.getoperatorsbyfiltertype(o)))&&r.setoperatorsbyfiltertype(o,_);v=r.getoperatorsbyfiltertype(o)[g]}var b="NULL"==v||"NOT_NULL"==v,y="EMPTY"==v||"NOT_EMPTY"==v;null!=f&&f.length>0||b||y?(u=r.createfilter(o,f,v,null,a.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"number":if(a._filterwidget){f=a._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&f.indexOf(i.gridlocalization.decimalseparator)>=0&&(f=f.replace(i.gridlocalization.decimalseparator,"."));g=a._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(o)[g];if(i.updatefilterconditions){var _;null!=(_=i.updatefilterconditions(o,r.getoperatorsbyfiltertype(o)))&&r.setoperatorsbyfiltertype(o,_);v=r.getoperatorsbyfiltertype(o)[g]}b="NULL"==v||"NOT_NULL"==v,y="EMPTY"==v||"NOT_EMPTY"==v;null!=f&&f.length>0||b||y?(u=r.createfilter(o,new Number(f),v,null,a.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"textbox":case"default":l=d(a,o,r);break;case"bool":case"boolean":if(a._filterwidget.jqxCheckBox)if(null!=(f=a._filterwidget.jqxCheckBox("checked"))){h="equal";var w=r.createfilter(o,f,h);r.addfilter(1,w)}else l=!1;else l=d(a,o,r);break;case"list":if((S=a._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var x=S.getItem(S.selectedIndex),C=(f=x.label,x.value);h="equal";""===f&&(h="NULL");w=r.createfilter(o,f,h);r.addfilter(1,w),C!==f&&(w.data=C)}else l=!1;break;case"checkedlist":if(a._filterwidget.jqxDropDownList){var S,T=(S=a._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==T.length){for(var P=1;P<S.items.length;P++){f=S.items[P].label,C=S.items[P].value,h="not_equal";""===f&&(h="NULL");w=r.createfilter(o,f,h);C!==f&&(w.data=C),r.addfilter(0,w)}l=!0}else if(T.length!=S.items.length)for(P=0;P<T.length;P++){f=T[P].label,C=T[P].value,h="equal";""===f&&(h="NULL");w=r.createfilter(o,f,h);C!==f&&(w.data=C),r.addfilter(1,w)}else l=!1}else l=d(a,o,r)}this._loading||(l?this.addfilter(a.displayfield,r,!1):this.removefilter(a.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,n=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");r+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),r+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var a=n+10,s=new Array,o=this.that;this.filterrow[0].cells=s,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,d=new Array,h=document.createDocumentFragment(),c=0;c<n;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var m=document.createElement("div");m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=r,m=e(m),h.appendChild(m[0]),m[0].style.left=i+"px",this.rtl?(m.css("z-index",a++),m.css("border-left-width","1px")):m.css("z-index",a--),"auto"==p&&(p=0),m[0].style.width=parseFloat(p)+"px",m[0].left=i,u.hidden&&u.hideable?m.css("display","none"):i+=p,s[s.length]=m[0];var f=!0;if(this.rtl){if(this.groupable){g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g+c>n-1&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&c==n-1&&(f=!1)}else{if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g>c&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==c&&(f=!1)}if(f)if("custom"==u.filtertype&&u.createfilterwidget){u.createfilterwidget(u,m,function(){o._applyfilterfromfilterrow()})}else u.filterable&&(this._filterrowcache[u.datafield]?(l=!0,m.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,m,p),d[u.datafield]=u._filterwidget))}t[0].appendChild(h),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",a--),t.width(parseFloat(i)+2),this.filterrow.addClass(r),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,n){for(var r=this.that,a="",s="",o=0;o<r.dataview.filters.length;o++){var l=r.dataview.filters[o];if(l.datafield&&l.datafield==t.datafield){o=l.filter.getfilters()[0];a=o.value,"range"===t.filtertype&&(a={from:a,to:l.filter.getfilters()[1].value}),s=o.condition,t.filtercondition=s;break}}var d=function(i,r){var s=e('<input autocomplete="off" type="textarea"/>');s[0].id=e.jqx.utilities.createId(),s.addClass(i.toThemeProperty("jqx-widget")),s.addClass(i.toThemeProperty("jqx-input")),s.addClass(i.toThemeProperty("jqx-rc-all")),s.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&s.css("direction","rtl"),i.disabled&&s.attr("disabled",!0),s.attr("disabled",!1),s.appendTo(r),s.width(n-10),s.height(i.filterrowheight-10),s.css("margin","4px"),s.css("box-sizing","border-box"),t.createfilterwidget&&t.createfilterwidget(t,r,s),t._filterwidget=s,s.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=s,s.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),s.blur(function(){s.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),s.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),s[0]._writeTimer&&clearTimeout(s[0]._writeTimer),s[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+s[0].id]||(i["_oldWriteText"+s[0].id]=""),i["_oldWriteText"+s[0].id].length>0&&i["_oldWriteText"+s[0].id]!=s.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+s[0].id]=s.val()):0==i["_oldWriteText"+s[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+s[0].id]=s.val()))},t.filterdelay),i.focusedfilter=s}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),s.val(a)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var h=e("<div></div>");h.width(i.width()),h.height(this.filterrowheight),i.append(h);!function(i,n,s){var o=e('<input style="float: left;" autocomplete="off" type="textarea"/>');r.rtl&&(o.css("float","right"),o.css("direction","rtl")),o[0].id=e.jqx.utilities.createId(),o.addClass(r.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content")),o.appendTo(i),o.width(n-16),r.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.height(r.filterrowheight-10),o.css("margin","4px"),o.css("margin-right","2px"),o.focus(function(){r.focusedfilter=o,o.addClass(r.toThemeProperty("jqx-fill-state-focus"))}),o.blur(function(){o.removeClass(r.toThemeProperty("jqx-fill-state-focus"))}),o.keydown(function(e){"13"==e.keyCode&&r._applyfilterfromfilterrow(),o[0]._writeTimer&&clearTimeout(o[0]._writeTimer),o[0]._writeTimer=setTimeout(function(){r._loading||r["_oldWriteText"+o[0].id]!=o.val()&&(r._applyfilterfromfilterrow(),r["_oldWriteText"+o[0].id]=o.val())},t.filterdelay),r.focusedfilter=o}),o.val(a)}(h,n=i.width()-21);var c=r._getfiltersbytype("number"==t.filtertype?"number":"string");(y=e("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),y.appendTo(h),r.rtl&&y.css("float","right");var u=0;if(null!=t.filtercondition)-1!=(p=(o=new e.jqx.filter).getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter").indexOf(t.filtercondition.toUpperCase()))&&(u=p);var p,m=180;if("input"==t.filtertype)if(m=240,0==u)-1!=(p=c.indexOf("contains")||2)&&null==t.filtercondition&&(u=p);y.jqxDropDownList({disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:u,width:18,height:21,dropDownHeight:150,dropDownWidth:m,source:c,theme:r.theme}),y.jqxDropDownList({selectionRenderer:function(e){return""}}),y.jqxDropDownList("setContent",""),y.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,h),t._filterwidget=h;var f=null;this.addHandler(y,"select",function(){var e=y.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!r.refreshingfilter&&r._applyfilterfromfilterrow(),("input"!=t.filtertype||r.refreshingfilter)&&(0!=t._filterwidget.find("input").val().length||r.refreshingfilter||"null"!=f&&"not null"!=f&&"null"!=e&&"not null"!=e)||r._applyfilterfromfilterrow(),f=e});break;case"textbox":case"default":default:d(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var g=e("<div></div>");g.css("margin","4px"),g.appendTo(i);var v={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};g.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:r.disabled,localization:v,rtl:r.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:n-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,g),a&&a.from?g.jqxDateTimeInput("setRange",a.from,a.to):a&&a.toString().length>1&&g.val(a),t._filterwidget=g,this.addHandler(g,"valueChanged",function(e){r.refreshingfilter||(r._applyfilterfromfilterrow(),r.focusedfilter=null)})}else d(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var b,y,_=this._getfilterdataadapter(t);(y=e("<div></div>")).css("margin","4px");var w=t.datafield,x="checkedlist"==t.filtertype;m=n<150?220:"auto";_.dataBind();var C=_.records.length<8;b=C,y.appendTo(i),y.jqxDropDownList({placeHolder:r.gridlocalization.filterchoosestring,disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,checkboxes:x,dropDownWidth:m,source:_.records,autoDropDownHeight:C,theme:this.theme,width:n-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:w}),t.createfilterwidget&&t.createfilterwidget(t,i,y);var S=y.jqxDropDownList("listBox");if(x){y.jqxDropDownList({selectionRenderer:function(){return'<span class="'+r.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>"}});var T=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>");if(T.addClass(this.toThemeProperty("jqx-item")),null!=S){b||S.host.height(200),S.insertAt(r.gridlocalization.filterselectallstring,0),y.jqxDropDownList("setContent",T);var P=!0;new Array;S.checkAll(!1),r.addHandler(S.host,"checkChange",function(e){if(y[0]._selectionChanged=!0,P)if(e.args.label!=r.gridlocalization.filterselectallstring){P=!1,S.host.jqxListBox("checkIndex",0,!0,!1);var t=S.host.jqxListBox("getCheckedItems"),i=S.host.jqxListBox("getItems");1==t.length?S.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&S.host.jqxListBox("indeterminateIndex",0,!0,!1),P=!0}else P=!1,e.args.checked?S.host.jqxListBox("checkAll",!1):S.host.jqxListBox("uncheckAll",!1),P=!0})}}else S.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),y.jqxDropDownList({selectedIndex:0});t._filterwidget=y;y.jqxDropDownList("dropdownlistWrapper");"list"==t.filtertype?this.addHandler(y,"select",function(e){r.refreshingfilter||e.args&&"none"!=e.args.type&&(r._applyfilterfromfilterrow(),r.focusedfilter=null)}):this.addHandler(y,"close",function(e){y[0]._selectionChanged&&(r._applyfilterfromfilterrow(),r.focusedfilter=null,y[0]._selectionChanged=!1)})}else d(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var I=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');I.appendTo(i),I.jqxCheckBox({disabled:r.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,I),!0===a||"true"==a?I.jqxCheckBox({checked:!0}):!1!==a&&"false"!=a||I.jqxCheckBox({checked:!1}),t._filterwidget=I,this.addHandler(I,"change",function(e){r.refreshingfilter||e.args&&(r.focusedfilter=null,r._applyfilterfromfilterrow())})}else d(this,i)}},_getfilterdataadapter:function(t){var i;if(!!this.source._source){var n={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},r=this;i=new e.jqx.dataAdapter(n,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var n=new Array;if(t.cellsformat){for(var a=r._getcolumntypebydatafield(t),s=0;s<e.length;s++){n.push(e[s]);var o=e[s][t.displayfield];e[s][t.displayfield+"JQValue"]=o,"date"===a?e[s][t.displayfield]=null!=o?i.formatDate(o,t.cellsformat,r.gridlocalization):"":"number"!==a&&"float"!==a&&"int"!==a||(e[s][t.displayfield]=null!=o?i.formatNumber(o,t.cellsformat,r.gridlocalization):"")}return n}return e}})}else i=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0){n={localdata:t.filteritems,datatype:this.source.datatype,async:!1};i=new e.jqx.dataAdapter(n,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return i},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,n=0;n<i;n++){var r=this.columns.records[n];if(r.filterable&&r.filter){var a=r.filter.getfilters();if(a.length>0){var s=a[0].value,o=r._filterwidget,l=r._filterwidget.parent();if(null!=o)switch(r.filtertype){case"number":if(l.find("input").val(s),this.host.jqxDropDownList){var d=r.filter.getoperatorsbyfiltertype("numericfilter");o.find(".filter").jqxDropDownList("selectIndex",d.indexOf(a[0].condition))}break;case"input":if(l.find("input").val(s),this.host.jqxDropDownList){d=r.filter.getoperatorsbyfiltertype("stringfilter");o.find(".filter").jqxDropDownList("selectIndex",d.indexOf(a[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(s=r.filter.getfilterat(0).filtervalue)){if(r.filter.getfilterat(1))var h=r.filter.getfilterat(1).filtervalue;else h=s;"range"==r.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(s),new Date(h)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(s))}}else o.val(s);break;case"textbox":case"default":o.val(s),t["_oldWriteText"+o[0].id]=s;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:s}):o.val(s)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var t=this.columns.records.length,i=0;i<t;i++){var n=this.columns.records[i];if(n.filterable){var r=n._filterwidget;if("list"==n.filtertype||"checkedlist"==n.filtertype)this.removeHandler(r,"select"),this.removeHandler(r,"close"),r.jqxDropDownList("destroy");else if("date"==n.filtertype||"range"==n.filtertype)this.removeHandler(r,"valueChanged"),r.jqxDateTimeInput("destroy");else if("bool"==n.filtertype)this.removeHandler(r,"change"),r.jqxCheckBox("destroy");else if("number"==n.filtertype||"input"===n.filtertype){var a=r.find(".jqx-input");this.removeHandler(a,"keydown"),e(r.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(r,"keydown");r.remove()}}},_updatelistfilters:function(t,i){for(var n=this.that,r=this.columns.records.length,a=0;a<r;a++){var s=this.columns.records[a];if(s.filterable&&("list"==s.filtertype||"checkedlist"==s.filtertype)){var o=s._filterwidget;if(t){var l=this._getfilterdataadapter(s);o.jqxDropDownList({source:l});var d=!0;if((u=o.jqxDropDownList("getItems")).length!=l.records.length+1&&(d=!1),d)for(var h=1;h<u.length;h++)if(u[h].label!=l.records[h-1][s.displayfield]){d=!1;break}if(d&&!i)continue}else if(null==s.filter){o.jqxDropDownList("renderSelection");continue}var c="checkedlist"==s.filtertype,u=o.jqxDropDownList("getItems"),p=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),c){o.jqxDropDownList({selectionRenderer:function(){return n.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt(this.gridlocalization.filterselectallstring,0);var m=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(m.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",m),p.checkAll(!1),s.filter){var f=s.filter.getfilters();for(h=0;h<p.items.length;h++){var g=p.items[h].label,v=void 0;e.each(f,function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=null==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(h,!1,!1):p.uncheckIndex(h,!1,!1)}p._updateCheckedItems();var b=p.getCheckedItems().length;p.items.length!=b&&b>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),s.filter){f=s.filter.getfilters();var y=-1;for(h=0;h<p.items.length;h++){g=p.items[h].label;e.each(f,function(){return"NOT_EQUAL"==this.condition||(g==this.value?(y=h,!1):void 0)})}-1!=y&&p.selectIndex(y)}u.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,n){var r=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),r=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),r=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=r?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var n=this.columns.records[i];if(!n.datatype){var r="";e.each(t,function(){if(this.name==n.displayfield)return this.type&&(r=this.type),!1}),n.datatype=""!=r?r:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,n="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var a="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(a=this.type),!1}),a)return a}if(null!=t){if(null==this.dataview.cachedrecords)return n;var s=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return s=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return n;if(null!=(s=this.dataview.cachedrecords[0][t.displayfield])&&""==s.toString())return"string"}if(null!=s)if("boolean"==typeof s)n="boolean";else if(e.jqx.dataFormat.isNumber(s))n="number";else{var o=new Date(s);if("NaN"==o.toString()||"Invalid Date"==o.toString())if(e.jqx.dataFormat){if(null!=(o=e.jqx.dataFormat.tryparsedate(s))){if(o&&o.getFullYear()&&1970==o.getFullYear()&&0==o.getMonth()&&1==o.getDate()){var l=new Number(s);return isNaN(l)?"string":"number"}return"date"}n="string"}else n="string";else n="date"}}return n},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,n){var r=e(i).find(".filter1"),a=e(i).find(".filter2"),s=e(i).find(".filter3"),o=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),d=o.val(),h=l.val(),c=t._getcolumntypebydatafield(n),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==n.filtertype&&"checkedlist"!==n.filtertype){var m=r.jqxDropDownList("selectedIndex"),f=a.jqxDropDownList("selectedIndex"),g=s.jqxDropDownList("selectedIndex"),v=null,b=null;if(t.updatefilterconditions){var y=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));null!=y&&u.setoperatorsbyfiltertype(p,y)}var _=!1,w=u.getoperatorsbyfiltertype(p)[m],x=(s=u.getoperatorsbyfiltertype(p)[g],"NULL"==w||"NOT_NULL"==w),C="EMPTY"==w||"NOT_EMPTY"==w;null==w&&(w=u.getoperatorsbyfiltertype(p)[0]),null==s&&(s=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||x||C)&&(v=u.createfilter(p,d,w,null,n.cellsformat,t.gridlocalization),u.addfilter(f,v),_=!0);var S="NULL"==s||"NOT_NULL"==s,T="EMPTY"==s||"NOT_EMPTY"==s;if((h.length>0||S||T)&&(b=u.createfilter(p,h,s,null,n.cellsformat,t.gridlocalization),u.addfilter(f,b),_=!0),_){var P=n.displayfield;this.addfilter(P,u,!0)}else this._clearfilter(t,i,n)}else if("excel"===t.filtermode||"list"===n.filtertype||"checkedlist"===n.filtertype){var I=!1,E=r.data().jqxListBox.instance,D="excel"===this.filtermode||"checkedlist"===n.filtertype,k=E.getCheckedItems();if(!D)k=E.getSelectedItems();if(0==k.length){for(var j=1;j<E.items.length;j++){void 0===(N=E.items[j].value)&&(N="");var M="not_equal";if(N&&N.indexOf&&(N.indexOf("|")>=0||N.indexOf(" AND ")>=0||N.indexOf(" OR ")>=0||N.indexOf(" and ")>=0||N.indexOf(" or ")>=0)){N=(N=(N=(N=(N=N.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or","");M="equal"}if("datefilter"==p)var A=u.createfilter(p,N,M,null,n.cellsformat,t.gridlocalization);else A=u.createfilter(p,N,M,null);u.addfilter(0,A)}I=!0}else if(k.length!=E.items.length){I=!0;for(j=0;j<k.length;j++)if(t.gridlocalization.filterselectallstring!==k[j].value){var N;void 0===(N=k[j].value)&&(N="");M="equal";if("datefilter"==p)A=u.createfilter(p,N,M,null,n.cellsformat,t.gridlocalization);else A=u.createfilter(p,N,M,null);u.addfilter(1,A)}}else I=!1;if(I){P=n.displayfield;this.addfilter(P,u,!0)}else{P=n.displayfield;this.removefilter(P,!0)}}},_clearfilter:function(e,t,i){var n=i.displayfield;this.removefilter(n,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var n=this.getcolumn(e),r=this._getcolumn(e);null!=n&&null!=n&&(n.filter=t,r.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),n=this._getcolumn(e);null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,n.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var n=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,n,null,!1,!1):this.sortby(this.sortcolumn,n,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var n=1==t||!1!==t;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!n)})}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),n=e(e.find("#filter1"+this.element.id)),r=e(e.find("#filter2"+this.element.id)),a=e(e.find("#filter3"+this.element.id)),s=e(e.find(".filtertext1"+this.element.id)),o=e(e.find(".filtertext2"+this.element.id));s.length>0&&o.length>0&&(s.removeClass(),o.removeClass(),s.remove(),o.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),n.length>0&&n.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),a.length>0&&a.jqxDropDownList("destroy");n=e(e.find("#filter1"+this.element.id+"ex")),r=e(e.find("#filter2"+this.element.id+"ex")),a=e(e.find("#filter3"+this.element.id+"ex"));n.length>0&&n.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),a.length>0&&a.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,n){null!=t&&null!=t||(t=this);var r=t._getcolumntypebydatafield(n),a=t._getfiltersbytype(r);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),n.filterpanel&&n.filterpanel.detach(),e(i).children().detach();var s=e(t.menuitemsarray[6]);if(e(s).css("height","190px"),n.createfilterpanel&&!n.filterpanel){var o=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(o),n.createfilterpanel(n.displayfield,o),n.filterpanel=o}"list"===n.filtertype||"checkedlist"===n.filtertype?e(i).append(t.excelfilterpanel):"custom"!==n.filtertype?e(i).append(t.filterpanel):n.filterpanel&&e(i).append(n.filterpanel);var l=e(i),d=l.find("#filterclearbutton"+t.element.id),h=l.find("#filterbutton"+t.element.id),c=l.find(".filter1"),u=l.find(".filter2"),p=l.find(".filter3"),m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==n.filtertype&&"checkedlist"!==n.filtertype&&"custom"!==n.filtertype){var g=m.parent(),v=f.parent();if(g.children().remove(),v.children().remove(),"date"==n.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var b=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");g.append(b),(y=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:23,value:null,formatString:n.cellsformat,theme:t.theme})})(b);b=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");v.append(b),y(b)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);var y;b=e("<input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");g.append(b),(y=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-21)})(b);b=e("<input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");v.append(b),y(b)}m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id)}if("date"!=n.filtertype?(m.val(""),f.val("")):(m.val(null),f.val(null)),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){t._buildfilter(t,i,n),t._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._clearfilter(t,i,n),t._closemenu()}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,n),t._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,n),t._closemenu())}),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==n.filtertype&&"checkedlist"!==n.filtertype&&"custom"!==n.filtertype){if(c.jqxDropDownList("source")!=a&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:a}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:a})),"boolean"==r||"bool"==r)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var _=!1;a&&a.length&&a.length<5&&(_=!0),c.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var w=n.filter,x=new e.jqx.filter,C="";switch(r){case"number":case"int":case"float":case"decimal":C="numericfilter",S=x.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":C="booleanfilter",S=x.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":C="datefilter",S=x.getoperatorsbyfiltertype("datefilter");break;case"string":C="stringfilter",S=x.getoperatorsbyfiltertype("stringfilter")}if(null!=w){g=w.getfilterat(0),v=w.getfilterat(1),w.getoperatorat(0);if(t.updatefilterconditions){var S=[],T=t.updatefilterconditions(C,S);if(null!=T){for(var P=0;P<T.length;P++)T[P]=T[P].toUpperCase();w.setoperatorsbyfiltertype(C,T),S=T}}if(null!=g){var I=S.indexOf(g.comparisonoperator),E=g.filtervalue;m.val(E),c.jqxDropDownList({selectedIndex:I,animationType:"default"})}if(null!=v){var D=S.indexOf(v.comparisonoperator),k=v.filtervalue;f.val(k),p.jqxDropDownList({selectedIndex:D,animationType:"default"})}null==w.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:"default"}):"and"==w.getoperatorat(0)||0==w.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,u,m,f,h,d,w,C,S),(!this._hasdatefilter||this._hasdatefilter&&"date"!=n.filtertype)&&(this.touchdevice||(m.focus(),setTimeout(function(){m.focus()},10)))}else if("excel"===this.filtermode||"list"===n.filtertype||"checkedlist"===n.filtertype){var j=t._getfilterdataadapter(n),M=(C=t._getfiltertype(r),"excel"===this.filtermode||"checkedlist"===n.filtertype);if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),n.cellsformat?c.jqxListBox({checkboxes:M,displayMember:n.displayfield,valueMember:n.displayfield+"JQValue",source:j}):c.jqxListBox({checkboxes:M,displayMember:n.displayfield,valueMember:n.displayfield,source:j}),M){c.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0),(B=c.data().jqxListBox.instance).checkAll(!1);if(n.filter){B.uncheckAll(!1);for(var A=n.filter.getfilters(),N=0;N<B.items.length;N++){var q=B.items[N].value;e.each(A,function(){if("NOT_EQUAL"==this.condition){if(q!=this.value)return B.uncheckIndex(N,!1,!1),!1;if(null!=q&&null!=this.value&&q.toString()!=this.value.toString())return B.uncheckIndex(N,!1,!1),!1}else if("EQUAL"==this.condition){if(q==this.value)return B.checkIndex(N,!1,!1),!1;if(null!=q&&null!=this.value&&q.toString()==this.value.toString())return B.checkIndex(N,!1,!1),!1}})}B._updateCheckedItems();var O=B.getCheckedItems().length;B.items.length!=O&&O>0&&B.host.jqxListBox("indeterminateIndex",0,!0,!1),O===B.items.length-1&&B.host.jqxListBox("checkIndex",0,!0,!1)}}else if(n.filter){var B;(B=c.data().jqxListBox.instance).clearSelection();for(A=n.filter.getfilters(),N=0;N<B.items.length;N++){q=B.items[N].value;e.each(A,function(){if("NOT_EQUAL"==this.condition){if(q!=this.value)return B.unselectIndex(N,!1,!1),!1}else if("EQUAL"==this.condition&&q==this.value)return B.selectIndex(N,!0,!1),!1})}B._renderItems()}}},_initfilterpanel:function(t,i,n,r,a){null!=t&&null!=t||(t=this),i[0].innerHTML="";var s=e("<div class='filter' style='margin-left: 7px;'></div>");i.append(s);var o=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");o.text(t.gridlocalization.filtershowrowstring),this._showwhere=o;var l=a?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),h=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),u=t._getcolumntypebydatafield(n);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=r,this.columns&&this.columns.records){for(var m=0;m<this.columns.records.length;m++)if("date"==this.columns.records[m].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(m=0;m<this.columns.length;m++)if("date"==this.columns[m].filtertype){this._hasdatefilter=!0;break}var f=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=f.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(r-21);var v=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),b=v.find("input");b.addClass(this.toThemeProperty("jqx-input")),b.addClass(this.toThemeProperty("jqx-widget-content")),b.addClass(this.toThemeProperty("jqx-rc-all")),b.width(r-21),t.rtl&&(g.css("direction","rtl"),b.css("direction","rtl"));var y=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),_=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>");y.append(_);var w=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>");y.append(w),_.jqxButton({height:20,theme:t.theme}),w.jqxButton({height:20,theme:t.theme});var x=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||a){if("excel"===this.filtermode||a){s.append(o),s.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:r-15,height:130,theme:t.theme});var C=!0;t.addHandler(d,"checkChange",function(e){if(C)if(e.args.label!=t.gridlocalization.filterselectallstring){C=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),n=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):n.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),C=!0}else C=!1,e.args.checked?d.jqxListBox("checkAll",!1):d.jqxListBox("uncheckAll",!1),C=!0})}}else{s.append(o),s.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:23,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:x,source:p,theme:t.theme}),s.append(f);var S=new Array;S[0]=t.gridlocalization.filterandconditionstring,S[1]=t.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:S,selectionRenderer:x,theme:t.theme}),s.append(h),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:23,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:x,source:p,theme:t.theme}),s.append(c),s.append(v)}s.append(y),t.updatefilterpanel&&t.updatefilterpanel(d,c,h,f,v,_,w,null,null,p)}})}(jqxBaseFramework);var At=Object.freeze({});!function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,n){var r=Object.prototype.toString;if(null==i)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh();null==i&&(i=!0),i="a"==i||"asc"==i||"ascending"==i||1==i;var a=t;this.sortfield=t,this.sortfielddirection=i?"asc":"desc",null==this.sortcache&&(this.sortcache={}),this.sortdata=[];var s=[],o=!1;if("constructor"==a&&(a=""),!this.virtualmode&&null!=this.sortcache[a]){var l=this.sortcache[a];s=l._sortdata,l.direction==i?s.reverse():(!l.direction&&i&&s.reverse(),o=!0),s.length<this.totalrecords&&(this.sortcache={},o=!1,s=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]};var d=this.records,h=(this.that,"");if(this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==t)return this.type&&(h=this.type),!1}),0==s.length)if(d.length)for(var c=d.length,u=0;u<c;u++){if(null!=(g=d[u])){var p=(v=g).toString();s.push({sortkey:p,value:v,index:u})}}else{var m=!1;for(var f in d){var g;if(null==(g=d[f])){m=!0;break}var v=g;s.push({sortkey:v.toString(),value:v,index:f})}m&&e.each(d,function(e,t){s.push({sortkey:t.toString(),value:t,index:e})})}if(!o)if(null==n){this._sortcolumntype=h;var b=this;s.sort(function(e,t){return b._compare(e,t,h)})}else s.sort(n);i||s.reverse(),Object.prototype.toString=r,this.sortdata=s,this.sortcache[a]={_sortdata:s,direction:i},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,n){if(void 0===(t=t.sortkey)&&(t=null),void 0===(i=i.sortkey)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;if(e.jqx.dataFormat)if(n&&""!=n)switch(n){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn();if(this.sortdirection){var n=function(i,n){var r=t.getcolumn(i);r&&(n.ascending?e.jqx.aria(r.element,"aria-sort","ascending"):n.descending?e.jqx.aria(r.element,"aria-sort","descending"):e.jqx.aria(r.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&n(this._oldsortinfo.column,{ascending:!1,descending:!1}),n(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(n,r){var a=e.data(document.body,"groupsortelements"+this.displayfield);null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=a&&(a.sortasc.hide(),a.sortdesc.hide())):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=a&&(a.sortasc.show(),a.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=a&&(a.sortasc.hide(),a.sortdesc.show()))})},getsortcolumn:function(){return null!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,n,r){if(this._loading&&!1!==r)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),null!=e){var a,s=this.that;if(null==i&&null!=s.source.sortcomparer&&(i=s.source.sortcomparer),a="a"==t||"asc"==t||"ascending"==t||1==t,s.sortdirection=null!=t?{ascending:a,descending:!a}:{ascending:!1,descending:!1},s.sortcolumn=null!=t?e:null,s.source.sort||s.virtualmode){if(s.dataview.sortfield=e,s.dataview.sortfielddirection=null==t?"":a?"asc":"desc",s.source.sort&&!this._loading)return s.source.sort(e,t),void s._raiseEvent(6,{sortinformation:s.getsortinformation()})}else s.dataview.sortby(e,t,i);if(!1===n)return;s.groupable&&s.groups.length>0?(s._render(!0,!1,!1),s._updategroupheadersbounds&&s.showgroupsheader&&s._updategroupheadersbounds(),s._postrender("sort")):(s.pageable&&s.dataview.updateview(),s._updaterowsproperties(),s.rendergridcontent(!0),s._postrender("sort")),s._raiseEvent(6,{sortinformation:s.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),n=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(n=i.sortdirection.ascending,n=t.sorttogglestates>1?1!=n&&null:!n):n=!0,t.sortby(e.displayfield,n,null)}}})}(jqxBaseFramework);var Nt=Object.freeze({});!function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,n=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),r=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var a=this.pagerrenderer();null!=a&&this.pagerdiv.append(e(a)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",r),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var s=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(s);var o=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(o),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var d=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(d);var h=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(h),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=n,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");t=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var i=e.args.index,n=t.dataview.pagenum*t.dataview.pagesize,r=c[i],a=t.pagesize;t.pagesize=parseInt(r),isNaN(t.pagesize)&&(t.pagesize=10),r>=100?t.pagershowrowscombo.jqxDropDownList({width:"auto"}):t.pagershowrowscombo.jqxDropDownList({width:44}),t.dataview.pagesize=t.pagesize;var s=Math.floor(n/t.dataview.pagesize);t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:s,oldpagesize:a,pagesize:t.dataview.pagesize}),t.gotopage(s),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500))}});var m=this.pagergotoinput.find("input");m.addClass(this.toThemeProperty("jqx-grid-pager-input")),m.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(m,"keydown"),this.removeHandler(m,"change"),this.addHandler(m,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var i=m.val();return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}}),this.addHandler(m,"change",function(){var e=m.val();e=parseInt(e),isNaN(e)||t.gotopage(e-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())});var f=this;if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton;this.addHandler(v,"mouseenter",function(){o.addClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){s.addClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){o.removeClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){s.removeClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){o.addClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){s.addClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){o.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){s.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){h.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected")),o&&(o.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected")),s.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(f.rtl){var e=f.dataview.totalrecords,t=Math.ceil(e/f.pagesize);f.gotopage(t-1)}else f.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(f.rtl)f.gotopage(0);else{var e=f.dataview.totalrecords,t=Math.ceil(e/f.pagesize);f.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var n=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(n.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(n),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(r);var a=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var s=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};s(this,this.pagerrightbutton),s(this,this.pagerleftbutton);var o=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){n.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){n.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){n.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){n.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&null!=e||(e=0),-1==e&&(e=0),!(e<0)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var n=Math.ceil(t/this.pagesize);if(e>=n&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=n-1),e<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var r=e*this.dataview.pagesize,a=r+this.dataview.pagesize;if(null!=r&&null!=a)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight)this.host.height()-this._gettableheight()+this._pageviews[0].height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo));null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var n=this.dataview.totalrecords;this.summaryrows&&(n+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=n)),t++;var r=Math.ceil(n/this.dataview.pagesize);if(r>=1&&r--,r++,"simple"!==this.pagermode){this.pagergotoinput.find("input").val(this.dataview.pagenum+1)}else{var a="",s=this.pagerbuttonscount;0!=s&&s||(s=5);var o=0;for(this.rtl&&(o=s-1);this.rtl&&o>=0||!this.rtl&&o<s;){var l=1+o,d=this.dataview.pagenum/s;l+=Math.floor(d)*s;var h=this.toTP("jqx-grid-pager-number");if(h+=" "+this.toTP("jqx-rc-all"),l>r)break;if(this.rtl||0==o&&l>s&&(a+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>"),this.dataview.pagenum===l-1&&(h+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(o===s-1){h=this.toTP("jqx-grid-pager-number");h+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(a+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}this.dataview.pagenum===l-1&&(h+=" "+this.toTP("jqx-fill-state-pressed")),a+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>"}else if(a+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>",o===s-1){var h=this.toTP("jqx-grid-pager-number");h+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(a+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}if(this.rtl){h=this.toTP("jqx-grid-pager-number");h+=" "+this.toTP("jqx-rc-all"),0==o&&l>s&&(a+="<a class='"+h+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>")}this.rtl?o--:o++}var c=this.pagerbuttons.find("a");this.removeHandler(c,"click"),this.removeHandler(c,"mouseenter"),this.removeHandler(c,"mouseleave"),this.pagerbuttons[0].innerHTML=a;var u=this;c=this.pagerbuttons.find("a");u.addHandler(c,"click",function(t){var i=e(t.target).attr("data-page");return u.gotopage(parseInt(i)-1),!1}),u.addHandler(c,"mouseenter",function(t){e(t.target).addClass(u.toTP("jqx-fill-state-hover"))}),u.addHandler(c,"mouseleave",function(t){e(t.target).removeClass(u.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+r),0==i&&i<t&&(t=0),this.rtl?this.pagerdetails[0].innerHTML=n+this.gridlocalization.pagerrangestring+i+"-"+t:this.pagerdetails[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+n,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var n=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var r=this.dataview.rows.length,a=0;a<r;a++){var s=this.dataview.rows[a].visibleindex,o={index:s,height:this.heights[s],hidden:this.hiddens[s],details:this.details[s]};if(null==this.heights[s]&&(this.heights[s]=this.rowsheight,o.height=this.rowsheight),null==this.hiddens[s]&&(this.hiddens[s]=!1,o.hidden=!1),null==this.details[s]&&(this.details[s]=null),o.height!=n.rowsheight&&(t-=n.rowsheight,t+=o.height),o.hidden)t-=o.height;else{i+=o.height;var l=0;this.rowdetails&&o.details&&o.details.rowdetails&&!o.details.rowdetailshidden&&(i+=l=o.details.rowdetailsheight,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework);var qt=Object.freeze({});!function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,n,r,a,s,o,l,d){for(var h=t,c=new Array,u=0;u<this.groups.length;u++)c[u]=this.generatekey();var p=new Array,m=0,f=(c=c,new Array),g=i,v=this.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var b=null!=this.sortdata,y=b?this.sortdata:this.records;if(this.pageable){var _=new Array,w=0;y[i]||(e.each(y,function(e,t){_[i+e++]=this}),y=_)}if(this.virtualmode){for(_=new Array,w=0,g=0;g<n-i;g++)y[g]?_[i+w++]=y[g]:y[i+w]&&(_[i+w]=y[i+w],w++);g=0,y=_}for(var x=i;x<n;x++){var C={},S=(C=b?e.extend({},y[x].value):e.extend({},y[x]))[this.uniqueId];(a>=l||S!=o[a][this.uniqueId]||s&&s[S])&&(d[d.length]=a);var T=new Array,P=0;for(u=0;u<v;u++){var I=C[O=this.groups[u]];null==I&&(I=""),T[P++]={value:I,hash:c[u]}}if(T.length!=v)break;for(var E=null,D="",k=0;k<T.length;k++){0;var j=T[k].value;if(null==f[D=D+"_"+T[k].hash+"_"+j]||null==f[D]){if(null==E)E={group:j,subItems:new Array,subGroups:new Array,level:0},p[m++]=E,E.uniqueid=this.generatekey(),this.loadedgroupsByKey[j]=E;else{var M={group:j,subItems:new Array,subGroups:new Array,parentItem:E,level:E.level+1};this.loadedgroupsByKey[E.uniqueid+"_"+j]=M,M.uniqueid=this.generatekey(),E.subGroups[E.subGroups.length++]=M,E=M}f[D]=E}else E=f[D]}null!=E?(null==C.uid&&(C.uid=this.getid(this.source.id,C,g)),b?(C.boundindex=y[x].index,this.recordsbyid["id"+C.uid]=y[x].value):(C.boundindex=g,this.recordsbyid["id"+C.uid]=y[x]),this.bounditems[C.boundindex]=C,this.sortedgroups[g]=C,C.uniqueid=this.generatekey(),C.parentItem=E,C.level=E.level+1,E.subItems[E.subItems.length++]=C):(null==C.uid&&(C.uid=this.getid(this.source.id,C,g)),b?(C.boundindex=y[x].index,this.recordsbyid["id"+C.uid]=y[x].value):(C.boundindex=g,this.recordsbyid["id"+C.uid]=y[x]),this.sortedgroups[g]=C,this.bounditems[C.boundindex]=C,C.uniqueid=this.generatekey()),a++,g++,0}var A=function(e,i,n){for(var r=0;r<i.subItems.length;r++)i.subItems[r].visibleindex=t+n,e.rows[n]=i.subItems[r],e.loadedrecords[n]=i.subItems[r],n++;return n},N=function(e,i,n){var r=1,a=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var s=0;s<a.length;s++)a[s].aggregates&&(r=Math.max(r,a[s].aggregates.length));for(var o in i.subGroups){var l=i.subGroups[o];l.subGroups&&(e.loadedgroups[e.loadedgroups.length]=l,l.visibleindex=t+n,e.rows[n]=l,e.loadedrecords[n]=l,n++,l.subGroups.length>0?n=N(e,l,n):l.subItems.length>0&&(n=A(e,l,n)))}return i.subItems.length>0&&(n=A(e,i,n)),function(i){if(1==e.aggregates)for(var s=function(r){var s=i,o={},l=function(t){for(var i=0;i<a.length;i++)if(a[i].aggregates)for(var n=e.grid.getcolumnaggregateddata(a[i].datafield,a[i].aggregates,!0,t),s=0;s<a[i].aggregates.length;s++)if(a[i].aggregates[r]){var l=a[i],d=a[i].aggregates[r],h=d,c=(h=e.grid._getaggregatename(h))+":"+n[d];o[l.datafield]=c}};if(null!=s)if(o.level=s.level,o.visibleindex=t+n,o.uniqueid=e.generatekey(),e.rows[n]=o,e.loadedrecords[n++]=o,o.totalsrow=!0,i.subItems.length>0){s=i.subItems[i.subItems.length-1],o.parentItem=s.parentItem,o.parentItem.subItems&&(o.parentItem.subItems[o.parentItem.subItems.length]=o);var d=[];(h=function(){for(var e=0;e<i.subItems.length;e++)i.subItems[e].totalsrow||(d[d.length]=i.subItems[e])})(i),l(d)}else if(i.subGroups.length>0){var h;s=i.subGroups[i.subGroups.length-1],o.level=s.level,o.parentItem=i,i.subGroups[i.subGroups.length]=o,d=[],(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(i),l(d)}},o=0;o<r;o++)s(o)}(i),n},q=p.length;this.loadedgroups=new Array,this.rows=new Array;for(h=0,g=0;g<q;g++){var O=p[g];this.loadedrootgroups[g]=O,this.loadedgroups[this.loadedgroups.length]=O,O.visibleindex=t+h,this.rows[h]=O,this.loadedrecords[h]=O,h=N(this,O,++h)}return h},this._updategroupsinpage=function(t,i,n,r,a,s,o){var l=new Array,d=[];if(this.groupable&&this.groups.length>0){for(var h=0,c=new Array,u=new Array,p=0;p<t.groups.length;p++)u[p]=t.generatekey();var m=0,f=new Array,g=0;o>this.totalrecords&&(o=this.totalrecords);for(var v=s;v<o;v++){var b=e.extend({},t.sortedgroups[v]),y=b[t.uniqueId];if(!t.pagesize||n>=t.pagesize*t.pagenum&&n<t.pagesize*(t.pagenum+1)){(r>=a||y!=l[r][t.uniqueId])&&(d[d.length]=r);var _=new Array,w=0;for(p=0;p<t.groups.length;p++){var x=b[M=t.groups[p]];null==x&&(x=""),_[w++]={value:x,hash:u[p]}}if(_.length!=t.groups.length)break;for(var C=null,S="",T=0;T<_.length;T++){0;var P=_[T].value;if(null==c[S=S+"_"+_[T].hash+"_"+P]||null==c[S]){if(null==C){C={group:P,subItems:new Array,subGroups:new Array,level:0},f[g++]=C,null!=(E=t.loadedgroupsByKey[P])&&(C.visibleindex=E.visibleindex,C.uniqueid=E.uniqueid)}else{var I={group:P,subItems:new Array,subGroups:new Array,parentItem:C,level:C.level+1},E=t.loadedgroupsByKey[C.uniqueid+"_"+P];I.visibleindex=E.visibleindex,I.uniqueid=E.uniqueid,C.subGroups[C.subGroups.length++]=I,C=I}c[S]=C}else C=c[S]}null!=C&&(b.parentItem=C,b.level=C.level+1,C.subItems[C.subItems.length++]=b),r++}m++,n++}var D=function(t,i,n){for(var r=0;r<i.subItems.length;r++)l[n]=e.extend({},i.subItems[r]),n++;return n},k=function(e){var t=!1;for(var i in e.subGroups){var n=e.subGroups[i];if(n.subGroups){if(n.subGroups.length>0)if(k(n))return t=!0,!0;if(n.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},j=function(e,t,i){var n=1,r=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var a=0;a<r.length;a++)r[a].aggregates&&(n=Math.max(n,r[a].aggregates.length));var s=function(t){if(1==e.aggregates)for(var a=function(n){var a=t,s={},o=function(t){for(var i=0;i<r.length;i++)if(r[i].aggregates)for(var a=e.grid.getcolumnaggregateddata(r[i].datafield,r[i].aggregates,!0,t),o=0;o<r[i].aggregates.length;o++)if(r[i].aggregates[n]){var l=r[i],d=r[i].aggregates[n],h=d,c=(h=e.grid._getaggregatename(h))+":"+a[d];s[l.datafield]=c}};if(null!=a)if(s.level=a.level,s.visibleindex=i,s.uniqueid=e.generatekey(),l[i]=s,e.loadedrecords[i++]=s,s.totalsrow=!0,t.subItems.length>0){a=t.subItems[t.subItems.length-1],s.parentItem=a.parentItem,s.parentItem.subItems&&(s.parentItem.subItems[s.parentItem.subItems.length]=s);var d=[];(h=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(d[d.length]=t.subItems[e])})(t),o(d)}else if(t.subGroups.length>0){a=t.subGroups[t.subGroups.length-1],s.level=a.level,s.parentItem=t,t.subGroups[t.subGroups.length]=s;var h;d=[];(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(t),o(d)}},s=0;s<n;s++)a(s)};for(var o in t.subGroups){var d=t.subGroups[o];d.subGroups&&k(d)&&(l[i]=d,i++,d.subGroups.length>0?i=j(e,d,i):d.subItems.length>0&&(i=D(0,d,i)),s(d))}return t.subItems.length>0&&(i=D(0,t,i)),s(t),i};for(m=0;m<f.length;m++){var M=f[m];k(M)&&(l[h]=M,h=j(this,M,++h))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var t=this,i=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var n=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var r=new Array;if(n>0)e.each(this.groups,function(i){var a=this,s=t._getColumnText(this).label,o=t._rendergroupcolumn(s,a);if(o.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(o),t.closeablegroups){var l=e(o.find(".jqx-icon-close"));t.isTouchDevice()&&!0!==t.touchmode?t.addHandler(l,"touchstart",function(){return t.removegroupat(i),!1}):t.addHandler(l,"click",function(){return t.removegroupat(i),!1})}if(t.sortable&&t.addHandler(o,"click",function(){var e=t.getcolumn(a);return null!=e&&t._togglesort(e),!1}),r[r.length]=o,t._handlegroupstocolumnsdragdrop(this,o),i<n-1){var d=o.height(),h=e('<div style="float: left; position: relative;"></div>');t.rtl&&h.css("float","right"),h.width(t.groupindentwidth/3),h.height(1),h.css("top",d/2),h.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(h)}});else{var a=e('<div style="position: relative;">'+i+"</div>");this.groupsheaderdiv.append(a),this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=r,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,i=this.groupsheaderdiv.children().outerHeight(),n=(this.groupsheader.height()-i)/2;this.groupsheaderdiv.css("top",n),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",n)):(this.groupsheaderdiv.css("left",n),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var i=this.coord();t.groupheadersbounds[e]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups[this.groups.length]=e,this.refreshgroups(),this._raiseEvent(12,{type:"Add",index:this.groups[this.groups.length],groups:this.groups})}},insertgroup:function(e,t){if(null!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,0,t.toString()),this.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:this.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&null!=e){return this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,1),this.refreshgroups(),this.virtualmode&&this.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:this.groups}),!0}return!1},cleargroups:function(){return this.groups=[],this.dataview.groups=this.groups,this.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:this.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var n=0;n<t.length;n++){e=parseInt(t[n]);if(0==n){i=this.dataview.loadedrootgroups[e];this.groupsVisibility[i.group]=null}else{var r=i.subGroups[e];r&&(i=r,n==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,n=0;n<t.length;n++){e=parseInt(t[n]);if(0==n){i=this.dataview.loadedrootgroups[e];this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i}else{var r=i.subGroups[e];r&&(i=r,this._setgroupstate(i,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];return null==t?null:this.expandedgroups[t.uniqueid].expanded},getgroup:function(t){var i=this.dataview.loadedrootgroups[t];if(null==i)return null;var n=this.expandedgroups[i.uniqueid].expanded,r=i.group,a=i.level,s=new Array;this._getsubgroups(s,i);var o=this,l={group:r,level:a,expanded:n,subgroups:s};if(i.subItems){var d=new Array;e.each(i.subItems,function(){var e=this.boundindex;d[d.length]=o.getrowdata(e)}),d.length>0&&(l.subrows=d)}return l},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(t,i){var n=this;for(var r in i.subGroups){var a=i.subGroups[r],s=n.expandedgroups[a.uniqueid].expanded,o=a.group,l=a.level;if(t[t.length]={group:o,level:l,expanded:s},a.subItems){var d=new Array;e.each(a.subItems,function(){var e=this.boundindex;d[d.length]=n.getrowdata(e)}),t[t.length-1].subrows=d}if(a.subGroups){var h=new Array;n._getsubgroups(h,a)}}return t},_setbatchgroupstate:function(e,t){for(var i in this.dataview.loadedrootgroups)this._setrootgroupstate(i,e,!1,!0);if(0==t)return this._requiresupdate=!0,this._renderrows(this.virtualsizeinfo),!0;var n=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,n){if(null==e||null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var r=null==i||i;if(e>=0&&e<this.dataview.loadedrootgroups.length){var a=this.dataview.loadedrootgroups[e];if(this.pageable){for(var s=new Array,o=0;o<this.dataview.rows.length;o++)null!=this.dataview.rows[o].group&&0===this.dataview.rows[o].level&&s.push(this.dataview.rows[o]);if(!(a=s[e]))return}return this._setgroupstate(a,t,r,n)}return!1},_togglegroupstate:function(e,t){if(null==e||null==e)return!1;var i=this.vScrollInstance.value,n=this.expandedgroups[e.uniqueid];n=!(n=null!=n&&n.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=n?e:null;var r=this._setgroupstate(e,n,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),r},_setgroupstate:function(e,t,i,n){if(null==e||null==e)return!1;var r=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var a=this.expandedgroups[e.uniqueid];if(null==a&&(a={expanded:!1},r=!0),a.expanded!=t&&(r=!0),r){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,n),i){var s=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(s!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return null!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var n=0;n<t.subItems.length;n++)e._setrowvisibility(t.subItems[n].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,n){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(var r in t.subGroups){var a=t.subGroups[r];i||e._setrowvisibility(a.visibleindex,i,!1);var s=!i;n?this.expandedgroups[a.uniqueid]={expanded:s,group:a}:s=null!=e.expandedgroups[a.uniqueid]&&e.expandedgroups[a.uniqueid].expanded,a.subGroups&&(a.subGroups.length>0?e._setsubgroupsvisibility(e,a,!s||i,n):a.subItems.length>0&&e._setgroupitemsvisibility(e,a,!s||i)),i&&e._setrowvisibility(a.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,n=!1;if(t.groupable){var r="mousemove.grouping"+this.element.id,a=(this.element.id,"mouseup.grouping"+this.element.id),s=!1;this.isTouchDevice()&&!0!==this.touchmode&&(s=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(!t.showgroupsheader)return!0;if(null!=t.dragcolumn){var a=parseInt(r.pageX),o=parseInt(r.pageY);if(s){var l=t.getTouches(r)[0];a=parseInt(l.pageX),o=parseInt(l.pageY)}var d=t.host.coord(),h=parseInt(d.left),c=parseInt(d.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(a)-parseInt(t.dragmousedownoffset.left),p=parseInt(o)-parseInt(t.dragmousedownoffset.top);if(t.dragcolumn.css({left:u+"px",top:p+"px"}),n=!1,a>=h&&a<=h+t.host.width()&&o>=c&&o<=c+t.host.height()&&(n=!0),i=-1,n){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.groupsheader.coord(),f=m.top+t.groupsheader.height(),g=e.data(t.dragcolumn[0],"datarecord");if(g)var v=t.groups.indexOf(g.toString());else v=-1;var b=-1==v||t.groups.length>1&&v>-1;null!=t.dropline&&(o>=m.top&&o<=f?b&&(i=t._handlegroupdroplines(a)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(s)return r.preventDefault(),r.stopPropagation(),!1}}),this.removeHandler(e(document),a),this.addHandler(e(document),a,function(r){if(!t.showgroupsheader)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX);var a=parseInt(r.pageY);if(s){var o=t.getTouches(r)[0];parseInt(o.pageX),a=parseInt(o.pageY)}var l=t.host.coord(),d=(parseInt(l.left),parseInt(l.top)),h=t.groupsheader.height();if(t.showtoolbar&&(d+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var c=e.data(t.dragcolumn[0],"datarecord");if(t.dragcolumn.remove(),t.dragcolumn=null,null!=c){if(!t.getcolumn(c).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null));if(n)if(-1!=i){var u=i.index,p=t.groups[u];(m=t._getGroupIndexByDataField(c))!=u&&(null!=m&&m>=0&&t.groups.splice(m,1),"before"==i.position?t.rtl?t._insertaftergroup(p,c):t._insertbeforegroup(p,c):t.rtl?t._insertbeforegroup(p,c):t._insertaftergroup(p,c))}else if(0==t.groups.length)a>d&&a<=d+h&&t.addgroup(c);else if(a>d+h){var m=t._getGroupIndexByDataField(c);t.removegroupat(m)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(t){var i=this,n=-1;return e.each(i.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var r=this.left-3;return e>0&&(r=this.left-1-i.groupindentwidth/6),i.dropline.css("left",r),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),n={index:e,position:"before"},i.rtl&&(n={index:i.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),n={index:e,position:"after"},i.rtl&&(n={index:i.groupheadersbounds.length-1-e,position:"after"}))}),n},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var n,r=this,a="mousedown",s="mousemove",o=!1;this.isTouchDevice()&&!0!==this.touchmode&&(o=!0,a=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,a,function(t){if(!r.showgroupsheader)return!0;var i=t.pageX,n=t.pageY;if(r.__drag=!0,r.dragmousedown={left:i,top:n},o){var a=r.getTouches(t)[0];i=a.pageX,n=a.pageY,r.dragmousedown={left:i,top:n},t.preventDefault&&t.preventDefault()}var s=e(t.target).coord();r.dragmousedownoffset={left:parseInt(i)-parseInt(s.left),top:parseInt(n-s.top)}}),this.addHandler(i,s,function(a){if(!r.showgroupsheader)return!0;if(r.dragmousedown){if(n={left:a.pageX,top:a.pageY},o){var s=r.getTouches(a)[0];n={left:s.pageX,top:s.pageY}}if(!r.dragstarted&&null==r.dragcolumn){var l=Math.abs(n.left-r.dragmousedown.left),d=Math.abs(n.top-r.dragmousedown.top);(l>3||d>3)&&(r._createdragcolumn(i,n,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.dragcolumn[0],"datarecord",t),a.preventDefault&&a.preventDefault())}}})},_createdragcolumn:function(t,i,n){var r=this,a=i;r.dragcolumn=e("<div></div>");var s=t.clone();r.dragcolumn.css("z-index",999999),s.css("border-width","1px"),s.css("opacity","0.4");var o=e(s.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));o.length>0&&o.css("display","none");var l=e(s.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.dragcolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.dragcolumn.css("float","left"),r.dragcolumn.css("position","absolute");r.host.coord();s.width(t.width()+16),r.dragcolumn.append(s),r.dragcolumn.height(t.height()),r.dragcolumn.width(s.width()),r.dragcolumn.append(r.dragcolumnicon),e(document.body).append(r.dragcolumn),s.css("margin-left",0),s.css("left",0),s.css("top",0),r.dragcolumn.css("left",a.left+r.dragmousedown.left),r.dragcolumn.css("top",a.top+r.dragmousedown.top),null!=n&&n&&(r.dropline=e('<div style="display: none; position: absolute;"></div>'),r.dropline.width(2),r.dropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var n=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var a="mousedown.drag",s="mousemove.drag";r?(a=e.jqx.mobile.getTouchEventName("touchstart")+".drag",s=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,a,function(a){if(!n.showgroupsheader)return!0;if(n.__drag=!0,n._isColumnInGroups(t.displayfield))return i.css("cursor"),!0;if(0==t.groupable)return!0;var s=a.pageX,o=a.pageY;if(r){var l=n.getTouches(a)[0];s=l.pageX,o=l.pageY}n.dragmousedown={left:s,top:o},r&&a.preventDefault&&a.preventDefault();var d=e(a.target).coord();n.dragmousedownoffset={left:parseInt(s)-parseInt(d.left),top:parseInt(o-d.top)}}),this.addHandler(i,s,function(a){if(!n.showgroupsheader)return!0;if(n._isColumnInGroups(t.displayfield))return i.css("cursor"),!0;if(n.dragmousedown){var o=a.pageX,l=a.pageY;if(r){var d=n.getTouches(a)[0];o=d.pageX,l=d.pageY}if(s={left:o,top:l},!n.dragstarted&&null==n.dragcolumn){var h=Math.abs(s.left-n.dragmousedown.left),c=Math.abs(s.top-n.dragmousedown.top);(h>3||c>3)&&(n._createdragcolumn(i,s,!0),e.data(n.dragcolumn[0],"datarecord",t.displayfield),a.preventDefault&&a.preventDefault())}}})},_rendergroupcolumn:function(t,i){var n=e('<div style="float: left; position: relative;"></div>');if(this.rtl&&n.css("float","right"),null!=this.groupcolumnrenderer&&(n[0].innerHTML=this.groupcolumnrenderer(t),n.addClass(this.toThemeProperty("jqx-grid-group-column")),n.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==n[0].innerHTML&&(n[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(n[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>");var r=this.rtl?"left":"right",a='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(a='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){a='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(a='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}n[0].innerHTML+=a}else""==n[0].innerHTML&&(n[0].innerHTML='<a href="#">'+t+"</a>");if(this.sortable){var s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}s.css("display","none"),o.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.css("float","left"),o.css("float","left")),n.append(s),n.append(o),e.data(document.body,"groupsortelements"+i,{sortasc:s,sortdesc:o})}return n.addClass(this.toThemeProperty("jqx-fill-state-normal")),n.addClass(this.toThemeProperty("jqx-grid-group-column")),n},_rendergroup:function(t,i,n,r,a,s,o){var l=i,d=i.cells[n.level];this.rtl&&(d=i.cells[i.cells.length-1-n.level]);var h=this._findgroupstate(n.uniqueid);if(n.bounddata.subGroups.length>0||n.bounddata.subItems.length>0){var c=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right");c&&(u=this.toThemeProperty("jqx-icon-arrow-left")),d.className+=h?" "+this.toThemeProperty("jqx-grid-group-expand"+c)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+c)+" "+u}var p=this._getColumnText(this.groups[n.level]).label,m=this.groupindentwidth,f=o-(D=this.rowdetails&&this.showrowdetailscolumn?(1+t)*m:t*m),g=n.level+1;this.rtl&&(g=0);for(var v=l.cells[g],b=2;null!=v&&"none"==v.style.display&&b<l.cells.length-1;)v=l.cells[g+b-1],b++;var y=e(v);if(v){if(v.style.width=parseInt(f)+"px",-1!=v.className.indexOf("jqx-grid-cell-filter")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=v.className.indexOf("jqx-grid-cell-sort")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=v.className.indexOf("jqx-grid-cell-pinned")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var _={group:n.group,level:n.level,parent:n.bounddata.parentItem,subGroups:n.bounddata.subGroups,subItems:n.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[n.level]).column},w=this.groupsrenderer(p+": "+n.group,n.group,h,_);if(w)v.innerHTML=w;else{var x=n.bounddata.subItems.length>0?n.bounddata.subItems.length:n.bounddata.subGroups.length;if(this.showgroupaggregates){var C=n.bounddata.subItems.length>0?n.bounddata.subItems:n.bounddata.subGroups;x=0;for(var S=0;S<C.length;S++)C[S].totalsrow||x++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+n.group+" ("+x+")</span></div>"}}else{var T=this._getcolumnbydatafield(this.groups[n.level]),P=n.group;if(null==T)throw new Error("jqxGrid: Unable to find '"+this.groups[n.level]+"' group in the Grid's columns collection.");T.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(P)?P=e.jqx.dataFormat.formatdate(P,T.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(P)&&(P=e.jqx.dataFormat.formatnumber(P,T.cellsformat,this.gridlocalization)));x=n.bounddata.subItems.length>0?n.bounddata.subItems.length:n.bounddata.subGroups.length;if(this.showgroupaggregates){C=n.bounddata.subItems.length>0?n.bounddata.subItems:n.bounddata.subGroups;x=0;for(S=0;S<C.length;S++)C[S].totalsrow||x++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+P+" ("+x+")</span></div>"}if(this.rtl){T||(T=this._getcolumnbydatafield(this.groups[n.level]));var I="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,E="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,D=this.rowdetails&&this.showrowdetailscolumn?(2+n.level)*m:(1+n.level)*m;v.style.width=o+parseInt(I)-D-E+"px",y.addClass(this.toThemeProperty("jqx-rtl"));var k=e(i.cells[i.cells.length-1]).css("z-index");y.css("z-index",k);var j=y.find("div");f=j.width();j.css("left","100%");var M=null!=this.columns.records[i.cells.length-2-n.level]&&this.columns.records[i.cells.length-2-n.level].pinned;if(this.table.width()<o&&(o=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(o+=this.vScrollBar.outerWidth())),T.pinned||M)this.rowdetails&&this.showrowdetailscolumn&&(o+=30),j.css("margin-left",-f),v.style.width=o+I-D-E+"px";else{I="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;v.style.width=o+I-D-E+"px";f=j.width();j.css("margin-left",-f)}}}}})}(jqxBaseFramework);var Ot=Object.freeze({});!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var n in i)if(!this.hasOwnProperty(n)&&!this.hasOwnProperty(n.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+n+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===e.jqx._jqxDataTable.prototype?t:(e.extend(!0,this,t),this.that=this,t)},createInstance:function(t){var i=this;if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var n=i.host.find("tbody tr"),r=i.host.find("th"),a=new Array;0===r.length&&(r=n[0],n.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var s=[],o=0;o<n.length;o++){for(var l=n[o],d={},h=0;h<r.length;h++){var c=e.trim(e(r[h]).text());if(0===o){var u={name:c};if(i.columns[h]&&i.columns[h].cellsFormat){var p=i.columns[h].cellsFormat.toLowerCase();-1==p.indexOf("p")&&-1==p.indexOf("c")&&-1==p.indexOf("n")&&-1==p.indexOf("f")||(u.type="number"),-1==p.indexOf("d")&&-1==p.indexOf("m")&&-1==p.indexOf("y")&&-1==p.indexOf("h")&&-1==p.indexOf("m")&&-1==p.indexOf("s")&&-1==p.indexOf("t")||(u.type="date")}a.push(u)}var m=e(l).find("td:eq("+h+")");if(a[h].type){var f=i.getvaluebytype(e.trim(m.text()),a[h]);d[c]=f}else d[c]=e.trim(m.text())}s[s.length]=d}i.host.wrap("<div></div>");var g=i.host.parent(),v=i.host.data();v.jqxDataTable.host=g,v.jqxDataTable.element=g[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(e){}i.element=g[0],i.host=g,i.host.data(v);var b={dataFields:a,localdata:s,datatype:"array"},y=new e.jqx.dataAdapter(b);i.source=y}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var _=i.source._source.datafields;_&&_.length>0&&(i._camelCase=void 0!==i.source._source.dataFields),i.selectionMode=i.selectionMode.toLowerCase(),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),n=e(window).height(),r=i.host.width(),a=i.host.height();i._lastHostWidth==r&&i._lastHostHeight==a||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=a),i._lastWidth=t,i._lastHeight=n,i._lastHostWidth=r,i._lastHostHeight=a}))},getvaluebytype:function(t,i){var n=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var a=new Date(t);if("string"==typeof t&&i.format){var s=e.jqx.dataFormat.parsedate(t,i.format);null!=s&&(a=s)}null==(t=("NaN"==a.toString()||"Invalid Date"==a.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):a)&&(t=n)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=n)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=n)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var n=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(n=!0),n?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,n=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(n(),t+=" jqxscrollbar.js"),this.host.jqxButton||(n(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(n(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,n(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(n(),r.listbox=!0,t+=" jqxlistbox.js"):(n(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var n=this,r=n.host.width(),a=n.host.height();n._oldWidth||(n._oldWidth=r),n._oldHeight||(n._oldHeight=a),null!=n._resizeTimer&&(clearTimeout(n._resizeTimer),n._resizeTimer=null);var s=function(){n._resizeTimer&&clearTimeout(n._resizeTimer),n.resizingGrid=!0,e.jqx.isHidden(n.host)||(n._updatecolumnwidths(),n.refresh(),n._oldWidth=r,n._oldHeight=a,n.resizingGrid=!1)};s(),n._resizeTimer=setTimeout(function(){var e=n.host.width(),t=n.host.height();n._oldWidth==e&&n._oldHeight==t||s()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var n in t)n.toLowerCase()!==n&&(t[n.toLowerCase()]=t[n]);for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],a=0;a<r.length;a++){var s=r[a];void 0!==t[s]&&(this.gridlocalization[s]=t[s])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),n=this.table?this.table.height():0,r=0,a=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)s=e;else var s=this.host.height();this.columnGroups?s-=this.showHeader?this.columnsheader.height():0:s-=this.showHeader?this.columnsHeight:0,this.filterable&&(s-=this.filter.height()),this.pageable&&(s-=this.pagerHeight,"both"===this.pagerPosition&&(s-=this.pagerHeight)),this.showtoolbar&&(s-=this.toolbarHeight),this.showstatusbar&&(s-=this.statusBarHeight),this.showAggregates&&(s-=this.aggregatesHeight);var o=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(o=!0),!o&&n>s&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility="inherit",r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:n-s})):this.vScrollBar[0].style.visibility="hidden",a!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var l=this.table.height();n!=l&&(n=l,!o&&n>s&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility="inherit",r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:n-s})))}0==this.scrollBarSize&&(r=0);var d=this.table?this.table.width():0;d>3&&(d-=3);var h=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),c=h+this.host.width()-r;if(d>c&&!t){if(this.hScrollBar[0].style.visibility="inherit",this.hScrollBar.jqxScrollBar({max:d-c}),r=4+parseInt(i),0==i&&(r=0),!o){if(n>s-r+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:h+d-c});var u="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility="inherit",this._updatecolumnwidths(),u&&this.hScrollBar.jqxScrollBar({max:d-c+r+h});var p=this.table?this.table.width():0;p>3&&(p-=3),p!=d&&p<c&&(this.hScrollBar.jqxScrollBar({max:h+p-c}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:n-s+r})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var n=i.outerWidth()+20;return i.remove(),n},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var n=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*n.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var n=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==n?n=this._measureElementWidth(this.columns.records[i].text):n)}var r=t;return r+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(r+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),n=1;this.filter.find(".filterrow-hidden").length>0&&(n=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var r=1==n?i.length:0;t+=this.filterHeight*r,e-=this.filterHeight*r}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),n=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var r=0;if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(t),this.filter.css("top",r);var a=this.filter.find(".filterrow"),s=1;this.filter.find(".filterrow-hidden").length>0&&(s=0),this.filter.height(this.filterHeight-1+this.filterHeight*a.length*s),r+=this.filterHeight,i-=parseInt(this.filterHeight);var o=1==s?a.length:0;r+=this.filterHeight*o,i-=this.filterHeight*o}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px");var l=r+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px";this.content[0].style.top!=l&&(this.content[0].style.top=r+this.pagerHeight+"px")}this._updateScrollbars(n);var d=parseInt(this.scrollBarSize),h=2,c=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(c=d+4),"hidden"!=this.hScrollBar[0].style.visibility&&(h=d+4+2),0==d&&(c=0,h=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var u=this._arrangeAutoHeight(h-2),p=this._arrangeAutoWidth(c+1);if(u||p){t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(u){var m=this._measureTopAndHeight();r=m.top,i=m.height}}var f=0;this.pageable&&(f=this.pagerHeight,"top"!=this.pagerPosition&&(h+=this.pagerHeight)),this.showAggregates&&(h+=this.aggregatesHeight,f+=this.aggregatesHeight),this.showstatusbar&&(h+=this.statusBarHeight,f+=this.statusBarHeight),this.hScrollBar[0].style.height!=d+"px"&&(this.hScrollBar[0].style.height=parseInt(d)+"px"),this.hScrollBar[0].style.top==r+i-4-d-f+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-d-f-1+"px",this.hScrollBar[0].style.left="0px");var g=this.hScrollBar[0].style.width,v=!1,b=!1;0==c?g!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",v=!0):g!=t-d-4+"px"&&(this.hScrollBar[0].style.width=t-d-4+"px",v=!0),this.vScrollBar[0].style.width!=d+"px"&&(this.vScrollBar[0].style.width=d+"px",b=!0),this.vScrollBar[0].style.height!=parseInt(i)-h+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-h+"px",b=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(d)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(d)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:d+2}));var y=this.vScrollInstance;y.disabled=this.disabled;var _=this.hScrollInstance;_.disabled=this.disabled,v&&_.refresh(),b&&y.refresh();var w=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(d)+3+"px",e.bottomRight[0].style.height=parseInt(d)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(d)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(w(this),this.content[0].style.width!=t-c+"px"&&(this.content[0].style.width=t-c+"px"),this.content[0].style.height!=i-h+3+"px"&&(this.content[0].style.height=i-h+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",c),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",c),this.table)){var x=this.table.width();x<t-c&&(this.content.css("left",t-x+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-x+2))}this.showAggregates&&(this.aggregates.css("top",r+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+i-4-d-f+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+i-d-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),w(this)),this.showstatusbar&&(this.statusbar.css("top",r+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)t=e.left,e=e.top;null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,n){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var a=this;null==t&&(t={}),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);if(null!=t&&(null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!a.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var s,o=t._source.sortdirection;s="a"==o||"asc"==o||"ascending"==o||1==o,this.sortdirection=null!=o?{ascending:s,descending:!s}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){a._loading=!1,a.rowsByKey=new Array;var s=a.source._source.datafields;if(a.groups&&a.groups.length>0){var o=Object.prototype.toString,l=a.groups[0];if(Object.prototype.toString="function"==typeof l?l:function(){return this[l]},!a.source.records.sort){var d,h=new Array,c=0;e.each(d,function(){h[void 0+c++]=this}),d=h}a.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var n=0,r=0;if(t&&t.uid&&(n=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof n){if(n<r)return-1;if(n>r)return 1}return 0}),Object.prototype.toString=o}for(var u=0;u<a.source.records.length;u++){var p=a.source.records[u];if(a.rowsByKey[p.uid]=p,p.records&&p.records.length>0){var m=function(e){for(var t=0;t<e.length;t++)e[t]&&(a.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&m(e[t].records))};m(p.records)}if(0===u){var f=!1;if(s)for(var g=0;g<s.length;g++)if(s[g]&&!s[g].type){f=!0,s[g].type="string";var v=p[s[g].name];if(null==v)continue;if(!0!==v&&!1!==v||(s[g].type="boolean"),null!=v&&v.toString().indexOf(a.gridlocalization.currencysymbol)>-1||v.toString().indexOf(a.gridlocalization.percentsymbol)>-1){var b=v.toString().split(" ").length,y=new Number(a._toNumber(v.toString()));isNaN(y)||1!=b||(s[g].type="number")}(e.jqx.dataFormat.isNumber(v)||!isNaN(parseFloat(v))&&isFinite(v))&&(s[g].type="number"),e.jqx.dataFormat.isDate(v)&&(s[g].type="date")}if(f)for(g=0;g<s.length;g++){var _=a.source.getvaluebytype(p[s[g].name],s[g]);if(null!=_&&"number"==s[g].type){var w=_;w=new Number(a._toNumber(w.toString())),isNaN(w)||(_=w)}p[s[g].name]=_}}}if("pager"===i||"filter"===i||"sort"===i?a.refresh():a._render(),a.autoShowLoadElement&&!a._loading&&(e(a.dataloadelement).css("visibility","hidden"),e(a.dataloadelement).css("display","none")),a.pageable&&(a.disabled||a.pagernexttop&&(a.pagerfirsttop.jqxButton({disabled:!1}),a.pagerfirstbottom.jqxButton({disabled:!1}),a.pagerlasttop.jqxButton({disabled:!1}),a.pagerlastbottom.jqxButton({disabled:!1}),a.pagernexttop.jqxButton({disabled:!1}),a.pagerprevioustop.jqxButton({disabled:!1}),a.pagershowrowscombotop.jqxDropDownList&&"advanced"==a.pagerMode&&(a.pagershowrowscombotop.jqxDropDownList({disabled:!1}),a.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),a.pagernextbottom.jqxButton({disabled:!1}),a.pagerpreviousbottom.jqxButton({disabled:!1}))),a._updateTouchScrolling(),a._raiseEvent("bindingComplete"),n&&n(),!a.initializedcall){if(a.initializedcall=!0,a.isInitialized=!0,a.ready&&a.ready(),(null!=a.width&&-1!=a.width.toString().indexOf("%")||null!=a.height&&-1!=a.height.toString().indexOf("%"))&&a._updatesize(!0),a._rendercelltexts&&a._rendercelltexts(),a._gridRenderElement){e(a._gridRenderElement).show("slow");var x=6e3+Math.floor(4e3*Math.random()+1),C=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(C)](function(){e(a._gridRenderElement).hide("slow",function(){e(a._gridRenderElement).remove()})},x)}if("hidden"==a.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==a.vScrollBar.css("visibility")&&a.vScrollBar.css("visibility","inherit"),"visible"==a.hScrollBar.css("visibility")&&a.hScrollBar.css("visibility","inherit"),a._intervalTimer=setInterval(function(){"visible"==a.host.css("visibility")&&(a._updatesize(!0),clearInterval(a._intervalTimer))},100)}}},this.dataview.databind(t)}},_raiseEvent:function(t,i){null==i&&(i={owner:null});var n=t,r=i;r.owner=this;var a=new e.Event(n);a.owner=this,a.args=r;var s=this.host.trigger(a);return i=a.args,s},ensureColumnVisible:function(e){for(var t=0,i=0,n=0;n<this.columns.records.length;n++){if(this.columns.records[n].datafield==e){t+=this.columns.records[n].width,i=this.columns.records[n].width;break}t+=this.columns.records[n].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),a=r+this.host.width();r>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>a&&this.hScrollBar.jqxScrollBar("setPosition",r+t-a)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var n=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),a=0;this.columnGroups?a+=this.showHeader?this.columnsheader.height():0:a+=this.showHeader?this.columnsHeight:0,this.filterable&&(a+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(a+=this.pagerHeight),this.showtoolbar&&(a+=this.toolbarHeight),r-=a,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeightt),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var s=this.host.coord().top+a,o=n,l=r+o,d=i.coord().top+n-s,h=(d=Math.round(d))+i.outerHeight();if(h=Math.round(h),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),p=this._getuirow(u);if(p&&p[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(d<o){var m=d;return m<0&&(m=0),this.vScrollBar.jqxScrollBar("setPosition",m)}return h>l?this.vScrollBar.jqxScrollBar("setPosition",h-r):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var n=t;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i,r[n]=i;var a=this.getColumn(e);switch(null!=a&&(a[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),n=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,n+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var n=0;n<this.dataview.filters.length;n++){if(this.dataview.filters[n].datafield===i.displayfield){e(i.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var r=e.jqx.isHidden(e(i.filtericon))?0:16;r+=e.jqx.isHidden(e(i.sortasc))?0:16,r+=e.jqx.isHidden(e(i.sortdesc))?0:16;var a=e(e(e(i.element).children()[0]).children()[0]);this.rtl?r>0?a.css("margin-left",4+r+"px"):a.css("margin-left","4px"):r>0?a.css("margin-right",4+r+"px"):a.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var n=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=n.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var a=this.source.datafields;if(null==a&&this.source._source&&(a=this.source._source.datafields),a)for(var s=0;s<this.columns.length;s++){var o=this.columns[s];if(o&&o.cellsFormat&&o.cellsFormat.length>2)for(var l=0;l<a.length;l++)if(a[l].name==o.datafield&&!a[l].format){a[l].format=o.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var d=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0),!1}),!0!==t&&this._render()},_render:function(){if(null!=this.dataview&&!this._loading){(25!=this.columnsHeight||this.columnGroups)&&this._measureElement("column"),this.filterable?this.filter[0].style.visibility="inherit":this.filter[0].style.visibility="hidden",this.rowinfo=new Array,this._removeHandlers(),null==this.columns?this.columns=new e.jqx.dataCollection(this.element):this._initializeColumns();var t=!1,i=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0),t?this.element.width=this.width:this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(i=!0),i?this.element.height=this.height:this.host.height(this.height),this._lastHostWidth=this.host.width(),this._lastHostHeight=this.host.height(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header")),this.showHeader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var n=this.columnsHeight;n=this._preparecolumnGroups(),this.columnsheader.height(n),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._rendercolumnheaders(),this.tableheight=null,this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=e('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table),this._renderrows(),this.filterable&&this._renderfilter(),this.pageable&&this._initpager(),this._arrange(),this.renderStatusBar&&this.renderStatusBar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.showAggregates&&this._updateaggregates(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._renderhorizontalscroll(),this._showicons(),this._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),n=(this.pagerHeight-17)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){var r;this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(r=this.pagerRenderer())&&this.pagerdiv.append(e(r)),this.pager.append(this.pagerdiv),null!=(r=this.pagerRenderer())&&this.toppagerdiv.append(e(r)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",n),this.toppagerdiv.css("top",n);var a=function(n,r){var a=this,s=e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),o=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="margin-right: 7px; float: right;"></div>'),m=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');s.attr("disabled",a.disabled);var f=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(f[0].id="gridpagerlist"+r+a.element.id,a.removeHandler(l,"mousedown"),a.removeHandler(l,"mouseup"),a.removeHandler(l,"click"),a.removeHandler(d,"mousedown"),a.removeHandler(d,"mouseup"),a.removeHandler(d,"click"),a.removeHandler(h,"mousedown"),a.removeHandler(h,"mouseup"),a.removeHandler(h,"click"),a.removeHandler(c,"mousedown"),a.removeHandler(c,"mouseup"),a.removeHandler(c,"click"),a.rtl?(l.attr("title",a.gridlocalization.pagerpreviousbuttonstring),d.attr("title",a.gridlocalization.pagernextbuttonstring)):(d.attr("title",a.gridlocalization.pagerpreviousbuttonstring),l.attr("title",a.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&m.css("padding-top","3px"),this["pagerfirst"+r]=h,this["pagerlast"+r]=c,this["pagernext"+r]=l,this["pagerprevious"+r]=d,this["pagergotoinput"+r]=s,this["pagerdetails"+r]=u,this["pagershowrows"+r]=p,this["pagergotolabel"+r]=o,this["pagershowrowscombo"+r]=f,this["pagerbuttons"+r]=m,"default"==a.pagerMode){a.rtl?(c.attr("title",a.gridlocalization.pagerfirstbuttonstring),h.attr("title",a.gridlocalization.pagerlastbuttonstring)):(h.attr("title",a.gridlocalization.pagerfirstbuttonstring),c.attr("title",a.gridlocalization.pagerlastbuttonstring));var g=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");g.addClass(a.toThemeProperty("jqx-icon-arrow-first")),h.wrapInner(g);var v=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");v.addClass(a.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(v),a.rtl?(n.append(c),n.append(l),n.append(m),n.append(d),n.append(h)):(n.append(h),n.append(d),n.append(m),n.append(l),n.append(c)),c.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme}),h.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme});var b=a.rtl?"right":"left";m.css("float",b),c.css("float",b),h.css("float",b),l.css("float",b),d.css("float",b),u.css("float",a.rtl?"left":"right"),a.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else a.rtl||(n.append(l),n.append(d));l.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme}),d.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme});var y=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");y.addClass(a.toThemeProperty("jqx-icon-arrow-left")),d.wrapInner(y);var _=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(_.addClass(a.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(_),a.rtl||n.append(u),"default"!=a.pagerMode){a.rtl?(n.append(o),n.append(s),n.append(p),n.append(f),n.append(u),n.append(l),n.append(d)):(n.append(f),n.append(p),n.append(s),n.append(o));var w=a.pageSizeOptions;f.jqxDropDownList({_checkForHiddenParent:!1,rtl:a.rtl,disabled:a.disabled,source:w,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:a.theme});for(var x=0,C=0;C<w.length;C++)this.pageSize>=w[C]&&(x=C);o[0].innerHTML=t,f.jqxDropDownList({selectedIndex:x});var S=s.find("input");S.addClass(a.toThemeProperty("jqx-input")),S.addClass(a.toThemeProperty("jqx-widget-content")),this.rtl&&S.css("direction","rtl");a=this;this.removeHandler(f,"select"),this.addHandler(f,"select",function(e){if(e.args){a.vScrollInstance&&a.vScrollInstance.setPosition(0);var t=e.args.index;a.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),a.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),a.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),a.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=a.dataview.pagenum*a.dataview.pagesize,n=w[t],r=a.pageSize;a.pageSize=parseInt(n),isNaN(a.pageSize)&&(a.pageSize=10),n>=100?(a.pagershowrowscombotop.jqxDropDownList({width:55}),a.pagershowrowscombobottom.jqxDropDownList({width:55})):(a.pagershowrowscombotop.jqxDropDownList({width:44}),a.pagershowrowscombobottom.jqxDropDownList({width:44})),a.dataview.pagesize=a.pageSize;var s=Math.floor(i/a.dataview.pagesize);if(s!==a.dataview.pagenum||parseInt(n)!==parseInt(r))a._raiseEvent("pageSizeChanged",{pagenum:s,oldpageSize:r,pageSize:a.dataview.pagesize}),a.goToPage(s)||(a.serverProcessing?a.updateBoundData("pager"):a.refresh())}}),(s=s.find("input")).addClass(a.toThemeProperty("jqx-grid-pager-input")),s.addClass(a.toThemeProperty("jqx-rc-all")),this.removeHandler(s,"keydown"),this.removeHandler(s,"change"),a.addHandler(s,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=s.val();return t=parseInt(t),isNaN(t)||a.goToPage(t-1),!1}}),a.addHandler(s,"change",function(){var e=s.val();e=parseInt(e),isNaN(e)||a.goToPage(e-1)})}p[0].innerHTML=i,a.addHandler(l,"mouseenter",function(){_.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),a.addHandler(d,"mouseenter",function(){y.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),a.addHandler(l,"mouseleave",function(){_.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),a.addHandler(d,"mouseleave",function(){y.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),a.addHandler(l,"mousedown",function(){_.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),a.addHandler(l,"mouseup",function(){_.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),a.addHandler(d,"mousedown",function(){y.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),a.addHandler(d,"mouseup",function(){y.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===a.pagerMode&&(a.addHandler(c,"mouseenter",function(){v.addClass(a.toThemeProperty("jqx-icon-arrow-last-hover"))}),a.addHandler(h,"mouseenter",function(){g.addClass(a.toThemeProperty("jqx-icon-arrow-first-hover"))}),a.addHandler(c,"mouseleave",function(){v.removeClass(a.toThemeProperty("jqx-icon-arrow-last-hover"))}),a.addHandler(h,"mouseleave",function(){g.removeClass(a.toThemeProperty("jqx-icon-arrow-first-hover"))}),a.addHandler(c,"mousedown",function(){v.addClass(a.toThemeProperty("jqx-icon-arrow-last-selected"))}),a.addHandler(h,"mousedown",function(){g.addClass(a.toThemeProperty("jqx-icon-arrow-first-selected"))}),a.addHandler(c,"mouseup",function(){v.removeClass(a.toThemeProperty("jqx-icon-arrow-last-selected"))}),a.addHandler(h,"mouseup",function(){g.removeClass(a.toThemeProperty("jqx-icon-arrow-first-selected"))})),a.addHandler(e(document),"mouseup.pagerbuttons"+r+this.element.id,function(){_.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected")),y.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(a.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(a.toThemeProperty("jqx-icon-arrow-first-selected")))}),a.addHandler(l,"click",function(){l.jqxButton("disabled")||(a.rtl?a.goToPrevPage():a.goToNextPage())}),a.addHandler(d,"click",function(){d.jqxButton("disabled")||(a.rtl?a.goToNextPage():a.goToPrevPage())}),"default"===this.pagerMode&&(a.addHandler(h,"click",function(){if(!h.jqxButton("disabled"))if(a.rtl){var e=a.dataview.totalrecords,t=Math.ceil(e/a.pageSize);a.goToPage(t-1)}else a.goToPage(0)}),a.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(a.rtl)a.goToPage(0);else{var e=a.dataview.totalrecords,t=Math.ceil(e/a.pageSize);a.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),a.call(this,this.pagerdiv,"bottom"),a.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=t&&null!=t||(t=0),-1==t&&(t=0),t<0)return!1;var n=this.dataview.totalrecords,r=this.dataview.pagenum,a=Math.ceil(n/this.pageSize);return t>=a&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=a-1)),this.dataview.pagenum!=t&&(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:r,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0)},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),n=0,r=function(a,s){for(var o=0;o<s.length;o++)0==t.dataview.filters.length&&(s[o]._visible=!0),!1!==s[o]._visible&&n++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||s[o].records&&(s[o][i.expanded]||s[o][i.leaf])&&!1!==s[o]._visible&&(r(a+1,s[o].records),this.treeGrid&&e(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=a&&n--)};r(0,this.dataview.rows),this.dataview.totalrecords=n}else this.dataview.totalrecords=this.dataview.rows.length;var a=this.dataview.pagenum*this.pageSize,s=(this.dataview.pagenum+1)*this.pageSize;s>=this.dataview.totalrecords&&(s=this.dataview.totalrecords);var o=this.dataview.totalrecords;a++;var l=Math.ceil(o/this.dataview.pagesize);if(l>=1&&l--,l++,"root"==this.pageSizeMode&&((l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))>=1&&l--,l++,o=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var d=this.pagergotoinputbottom.find("input");d.val(this.dataview.pagenum+1),d.attr("title","1 - "+l),(d=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),d.attr("title","1 - "+l)}}else{var h="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&u<c;){var p=1+u,m=this.dataview.pagenum/c;p+=Math.floor(m)*c;var f=this.toTP("jqx-grid-pager-number");if(f+=" "+this.toTP("jqx-rc-all"),p>l&&!this.rtl)break;if(this.rtl&&p>l)u--;else{if(this.rtl||0==u&&p>c&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",u===c-1){var f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),0==u&&p>c&&(h+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;var g=this.pagerbuttonsbottom.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave");g=this.pagerbuttonstop.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=h,this.pagerbuttonstop[0].innerHTML=h,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var v=function(){g.click(function(i){if(!t.disabled){var n=e(i.target).attr("data-page");t.goToPage(parseInt(n)-1)}}),g.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){g=this.pagerbuttonsbottom.find("a");v()}if("both"===this.pagerPosition||"top"===this.pagerPosition){g=this.pagerbuttonstop.find("a");v()}}if(0==s&&s<a&&(a=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=o+this.gridlocalization.pagerrangestring+s+"-"+a,this.pagerdetailstop[0].innerHTML=o+this.gridlocalization.pagerrangestring+s+"-"+a):(this.pagerdetailsbottom[0].innerHTML=a+"-"+s+this.gridlocalization.pagerrangestring+o,this.pagerdetailstop[0].innerHTML=a+"-"+s+this.gridlocalization.pagerrangestring+o)),"default"==this.pagerMode){var b=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",b),this.toppagerdiv.css("min-width",b)}a>s&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var n=function(e){for(var i=0;i<t.columnGroups.length;i++){var n=t.columnGroups[i];if(n.name===e)return n}return null};for(i=0;i<this.columnGroups.length;i++){if((d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup)(r=n(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var r;if((d=this.columns.records[i]).columngroup)(r=n(d.columngroup))&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}var a=0;for(i=0;i<this.columns.records.length;i++){var s=d=this.columns.records[i];for(d.level=0;s.parent;)s=s.parent,d.level++;s=d;var o=d.level;for(a=Math.max(a,d.level);s.parent;)(s=s.parent)&&(s.level=--o)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var n=l(e.groups[i]),r=0;r<n.length;r++)t.push(n[r]);return t};for(i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+a,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i);return n&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.filterable||!e(i.target).ischildof(t.filterrow))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||null!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var n=t.host.coord(),r=t.host.width(),a=t.host.height(),s=!1,o=!1;if((i.pageY<n.top||i.pageY>n.top+a)&&(s=!0,o=!0),(i.pageX<n.left||i.pageX>n.left+r)&&(s=!0,!0),s){var l=function(t){var n=e(t.children()[0]).data();if(n&&!n.jqxWidget&&(n=t.data()),n||(n=t.data()),n.jqxWidget&&n.jqxWidget.container&&"block"==n.jqxWidget.container[0].style.display){var r=n.jqxWidget,a=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!o||!(i.pageY<a||i.pageY>l))&&(s=!0,r.close(),!0)}},d=t._editors;if(d)for(var h=0;h<d.length;h++){var c=d[h].editor,u=l(c),p=c.attr("aria-owns");if(p){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}else if(p=c.children().attr("aria-owns")){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}if(!1===u)return}}s&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},this.hScrollInstance.valueChanged=function(e){t.table&&t._renderhorizontalscroll()};var i="mousedown";this.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown"));var n=function(e,i){for(var n=null,r=t._table.coord(),a=r.top,s=r.left,o=t._table[0].rows,l=0;l<o.length;l++)for(var d=o[l].cells,h=0;h<d.length;h++){var c=d[h],u=c.offsetLeft+s,p=c.offsetTop+a,m=c.offsetWidth,f=c.offsetHeight;if(0!==m&&0!==f){if(!(p<=i&&i<p+f))break;if(u<=e&&e<u+m){n=c;break}}}return n},r=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var n=e[i],r=n.className;r=(r=r.replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),""),n.className=r}};if(i(e),t._pinnedTable&&e.length>0)i(t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells)}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){r(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))});var a=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,n=t.rowDetails&&!t.treeGrid&&!t.treeGrid?1:0,r=0;n>0&&t.rtl&&(n=0,r=1);for(var a=n;a<i.length-r;a++){i[a].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length){var s=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells;for(a=n;a<s.length-r;a++){s[a].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var s=i.pageX,o=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var l=n(s,o);if(!l)return!0;var d=e(l).parent();return r(),!(!t.rowDetails||!t.treeGrid||"row-details"!=d.attr("data-role"))||(!(!t.renderedRecords||0!==t.renderedRecords.length)||(null!=t.editKey&&t.editKey===d.attr("data-key")||(a(d),!0)))}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,i,function(i){i.target;var r=null;if(t.disabled)return!0;if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){t.table.coord();var s,o=i.pageX,l=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(o=arguments[1].pageX,l=arguments[1].pageY),t.isTouchDevice())if(o=(s=e.jqx.position(i)).left,l=s.top,isNaN(o)||isNaN(l))o=(s=e.jqx.position(i.originalEvent)).left,l=s.top;r=n(o,l);var d=e(r).parent(),h=d.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==d.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==h){var u=e(r).index(),p=t.columns.records[u];if(h==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==r)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange&&!t.endroweditbykey(t.editKey))return!0}else if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){if(!t.endroweditbykey(t.editKey))return!0}if(t.clickedTD=r,(b=t.rowinfo[h])&&b.group)return!0;var m=!1;if(b){var f=t.getrowdisplayindex(b.row),g=t.getrowindex(b.row);t._raiseEvent("rowClick",{index:f,boundIndex:g,key:h,row:b.row,originalEvent:i,dataField:p.datafield});var v=(new Date).getTime();t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==h&&v-t.clickTime.getTime()<300&&(t._raiseEvent("rowDoubleClick",{index:f,boundIndex:g,key:h,row:b.row,originalEvent:i,dataField:p.datafield}),m=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,r.className.indexOf("jqx-grid-group")>=0)b.expanded?t.hidedetailsbykey(h):t.showdetailsbykey(h);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)b.expanded?t.treeGrid.collapseRow(h):t.treeGrid.expandRow(h),a(t._getuirow(h)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){u=e(r).index(),p=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==h&&t.editSettings.editOnDoubleClick&&m){t.beginroweditbykey(h,p);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(h,"mouse",!1),t._lastSelectedKey=h,t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var b=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var y=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]").index(),_=d.index();return t._selectRange(_,y),t.selectrowbykey(h,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=h,t.clickTime=new Date,"custom"===t.selectionMode||(b&&(b.selected?t.unselectrowbykey(h,"mouse",!1):t.selectrowbykey(h,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}b.checked?t.treeGrid.uncheckRow(h):t.treeGrid.checkRow(h),a(t._getuirow(h)),i.stopPropagation&&i.stopPropagation()}}}})},_updateSelection:function(){var t=e(this._table.children()[1]).children(),i=this._pinnedTable?e(this._pinnedTable.children()[1]).children():null,n=this.rowDetails&&!this.treeGrid?1:0,r=0;n>0&&this.rtl&&(n=0,r=1);for(var a=0;a<t.length;a++){var s=t[a].cells;if(i)var o=i[a].cells;var l=null;if(t[a].getAttribute&&(l=t[a].getAttribute("data-key")),this.rowinfo[l]&&"none"!==this.selectionMode)if(this.rowinfo[l].selected)for(var d=n;d<s.length-r;d++){var h=s[d];e(h).addClass(this.toTP("jqx-grid-cell-selected")+" "+this.toTP("jqx-fill-state-pressed")),o&&e(o[d]).addClass(this.toTP("jqx-grid-cell-selected")+" "+this.toTP("jqx-fill-state-pressed"))}else for(d=n;d<s.length-r;d++){h=s[d];if(o)var c=o[d];var u=h.className;u=(u=(u=(u=u.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+this.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+this.theme,""),h.className=u,c&&(c.className=u)}}},_selectRange:function(t,i){var n=e(e(this._table.children()[1]).children()[i]);if(t>i)for(var r=i,a=n;r<t;){var s=(a=a.next()).attr("data-key");this._doSelection(s,!0,!1),r++}else if(t<i)for(r=i,a=n;r>t;){s=(a=a.prev()).attr("data-key");this._doSelection(s,!0,!1),r--}},_getuikey:function(t,i){var n=null,r=e(this._table.children()[1]).children();if(n=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var a=e(r[t]);if("next"==i)for(;a;){if(a=a.next())if(!a.attr("data-role"))return n=a.attr("data-key")}else if("prev"==i)for(;a;){if(a=a.prev())if(!a.attr("data-role"))return n=a.attr("data-key")}return null}return n},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),n=new Array,r=function(n,a){if(a)for(var s=0;s<a.length;s++)if(a[s]&&!1!==a[s]._visible){var o=e.extend({},a[s]);n.push(o),a[s][i.expanded]?(o.records=new Array,r(o.records,a[s].records)):t.dataview.filters.length>0&&(o.records=new Array,r(o.records,a[s].records))}};return r(n,this.dataViewRecords),n},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,n=function(){var i=e(this._table.children()[1]).children(),n=null,r=0;if(this.pageable&&(r-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var a=0,s=0;s<i.length;s++){var o=e(i[s]);if(!(o.children()[0].getAttribute("colspan")>0)){if(a===r+t)return n=o.attr("data-key");a++}}return n}if(this.rowDetails)for(a=0,s=0;s<i.length;s++){if(a===t+r)return n=e(i[s]).attr("data-key");s%2==1&&a++}else n=e(i[r+t]).attr("data-key");return n};if(null==(i=n.call(this))&&this.pageable){var r=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=r){var a=this.getRows()[t];if(a&&null!=a.uid)return a.uid;if(isNaN(r))return null;this.goToPage(r),i=n.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var n=e(this._table.children()[1]).children(),r=0;r<n.length;r++){var a=n[r];if(t==a.getAttribute("data-key"))return e(a)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var n=e(this._pinnedTable.children()[1]).children(),r=0;r<n.length;r++){var a=n[r];if(t==a.getAttribute("data-key"))return e(a)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(t,i){if(null==t||0==t.length)return-1;var n=this.renderedRecords;null!=i&&(n=n.slice(i));var r=0;if(this.rowDetails&&!this.treeGrid&&r++,r<this.columns.records.length)var a=this.columns.records[r].datafield;else new Array;var s=new Array;return e.each(n,function(i){var n=this[a];n||(n=""),e.jqx.string.startsWithIgnoreCase(n.toString(),t)&&s.push(this.uid)}),s},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),n=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,a=this._lastSelectedKey,s=(this.rowinfo[a],this._getuirow(a)),o=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey;if(s){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(r))return!0;if(this.editable&&null==this.editKey&&113===r&&this.editSettings.editOnF2&&this.beginroweditbykey(s.attr("data-key")),null==this.editKey&&!l&&!o&&this.incrementalSearch&&!(r>=33&&r<=40)){this._searchString||(this._searchString=""),(8==r||46==r)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var d=String.fromCharCode(r),h=!isNaN(parseInt(d));if(r>=65&&r<=97||h||8==r||32==r||46==r){if(t.shiftKey||(d=d.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(this._searchString.length>0&&this._searchString.substr(0,1)==d||(this._searchString+=d)),32==r&&(this._searchString+=" "),this._searchTime=new Date,(a=this.getSelection()).length>=1){for(var c=a[0].uid,u=-1,p=0;p<this.renderedRecords.length;p++)if(this.renderedRecords[p].uid==c){u=p;break}if(0==(m=this._getMatches(this._searchString,u)).length||m.length>0&&m[0]==c)var m=this._getMatches(this._searchString)}else m=this._getMatches(this._searchString);if(m.length>0){if((a=this.getSelection()).length>=1){var f=m.indexOf(a[0].uid);if(-1==f)this.clearSelection(!1),this.selectrowbykey(m[0]);else{var g=f+1;g>=m.length&&(g=0),this.clearSelection(!1),this.selectrowbykey(m[g])}}else this.clearSelection(!1),this.selectrowbykey(m[0]);this._lastSearchString=this._searchString}}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=r&&13!=r||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){n._searchString="",n._lastSearchString=""},500)}if(null!=this.editKey){if(27===r&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===r&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var v=this.columns.records.indexOf(this.editColumn);if(9==r&&v<this.columns.records.length-1&&!t.shiftKey){var b=this.editKey,y=null;for(p=v+1;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){y=this.columns.records[p];break}y&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(b,y))}else if(9==r&&t.shiftKey&&v>0){b=this.editKey;var _=null;for(p=v-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p];break}_&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(b,_))}if(9==r){var w=this.rowinfo[this.editKey];u=this.getrowindex(w),s=this._getuirow(this.editKey);if(t.shiftKey||y){if(!_&&t.shiftKey){for(x=null,p=this.columns.records.length-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){x=this.columns.records[p];break}if(x){for(;s;){if(s=s.prev())if(!s.attr("data-role")){C=s.attr("data-key");break}}if(C){this.clearSelection(!1),this._lastSelectedKey=C;w=this.rowsByKey[C],u=this.getrowindex(w),S=this.getrowdisplayindex(w);this._raiseEvent("rowSelect",{key:C,index:S,boundIndex:u,row:this.rowsByKey[C]}),this.endroweditbykey(this.editKey,!1),this._doSelection(C,!0,!0),this.beginroweditbykey(C,x)}}}}else{for(var x=null,p=0;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){x=this.columns.records[p];break}if(x){for(;s;){if(s=s.next())if(!s.attr("data-role")){var C=s.attr("data-key");break}}if(C){this.clearSelection(!1),this._lastSelectedKey=C;var w=this.rowsByKey[C],u=this.getrowindex(w),S=this.getrowdisplayindex(w);this._raiseEvent("rowSelect",{key:C,index:S,boundIndex:u,row:this.rowsByKey[C]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(C,!0,!0),this.beginroweditbykey(C,x)):this.beginroweditbykey(this.editKey,x)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var T=String.fromCharCode(r).toLowerCase();if("c"==T||"x"==T)if((a=this.getSelection()).length>=1){for(var P="",I=0;I<this.renderedRecords.length;I++){var E=this.renderedRecords[I];for(p=0;p<a.length;p++){if((w=a[p]).uid===E.uid){for(var D=0;D<this.columns.records.length;D++){P+=this.getCellTextByKey(w.uid,this.columns.records[D].displayfield),D<this.columns.records.length-1&&(P+="\t")}P+="\r\n";break}}}if(""!=P&&(P=P.substring(0,P.length-1)),window.clipboardData)window.clipboardData.setData("Text",P);else{var k=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');k.val(P),e("body").append(k),k.select(),setTimeout(function(){document.designMode="off",k.select(),k.remove()},100)}}}if(32===r&&this.treeGrid&&this.treeGrid.checkboxes){if((a=this.getSelection()).length>1){for(p=0;p<a.length;p++){var j=a[p].uid;this.rowinfo[j].checked?this.treeGrid.uncheckRow(j,!1):this.treeGrid.checkRow(j,!1)}return this._renderrows(),!1}if(c=s.attr("data-key"))return this.rowinfo[c].checked?this.treeGrid.uncheckRow(c):this.treeGrid.checkRow(c),!1}var M=s.index(),A=function(t){var i=null,r=e(n._table.children()[1]).children().length-1,a=e(e(n._table.children()[1]).children()[r]);if(a.attr("data-role"))for(;a;){if(a=a.prev())if(!a.attr("data-role")){i=a.attr("data-key");break}}else i=a.attr("data-key");return"all"==t?{row:a,key:i}:i},N=function(t){var i=null,r=e(e(n._table.children()[1]).children()[0]);if(r.attr("data-role"))for(;r;){if(r=r.next())if(!r.attr("data-role")){i=r.attr("data-key");break}}else i=r.attr("data-key");return"all"==t?{row:r,key:i}:i},q=(c=null,function(){if(l||o||n.clearSelection(!1),33==r||37==r){var e=M;(c=n._getuikey(e,"prev"))||(c=N())}else if(34==r||39==r){e=M;(c=n._getuikey(e,"next"))||(c=A())}else 38==r?c=A():40==r&&(c=N());n._lastSelectedKey=c;var t=n.rowsByKey[c],i=(e=n.getrowindex(t),n.getrowdisplayindex(t));n._raiseEvent("rowSelect",{key:c,index:i,boundIndex:e,row:n.rowsByKey[c]}),n._doSelection(c,!0,!0),n.host.focus()});if(this.treeGrid&&this.rtl&&(37==r?r=39:39==r&&(r=37)),36==r||l&&38==r)return function(){n.clearSelection(!1);var e=N();(o||l)&&"singlerow"!==n.selectionMode?n._selectRange(s.index(),0):n._lastSelectedKey=e,n.selectrowbykey(e,"keyboard")}(),!1;if(35==r||l&&40==r)return function(){n.clearSelection(!1);var e=A("all"),t=e.key;(o||l)&&"singlerow"!==n.selectionMode?n._selectRange(s.index(),e.row.index()):n._lastSelectedKey=t,n.selectrowbykey(t,"keyboard")}(),!1;if(33==r||37==r){c=s.attr("data-key");if(this.rowDetails&&37==r&&!this.treeGrid)return this.hidedetailsbykey(c),!1;if(this.treeGrid&&37==r){if(this.rowinfo[c].row&&!this.rowinfo[c].row[i.parent]&&!this.rowinfo[c][i.leaf]&&!this.rowinfo[c].expanded)return!1;if(this.rowinfo[c].expanded&&!this.rowinfo[c][i.leaf])return this.treeGrid.collapseRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row[i.parent]&&(c=this.rowinfo[c].row[i.parent].uid),this.rowinfo[c][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(q):this.goToPrevPage(q),!1;if(this.treeGrid&&this.pageable&&33==r)return this.goToPrevPage(q),!1}else if(34==r||39==r){c=s.attr("data-key");if(this.rowDetails&&39==r&&!this.treeGrid)return this.showdetailsbykey(c),!1;if(this.treeGrid&&39==r){if(this.rowinfo[c][i.leaf])return!1;if(!this.rowinfo[c].expanded)return this.treeGrid.expandRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row.records&&this.rowinfo[c].row.records.length>0)if(this.dataview.filters.length>0){var O=this.rowinfo[c].row.records;for(p=0;p<O.length;p++)if(O[p]._visible){c=O[p].uid;break}}else c=this.rowinfo[c].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(q):this.goToNextPage(q),!1;if(this.treeGrid&&this.pageable&&34==r)return this.goToNextPage(q),!1}else if(38==r){for(;s;){if(s=s.prev())if(!s.attr("data-role")){c=s.attr("data-key");break}}if(this.pageable&&null==c)return this.goToPrevPage(q),!1}else if(40==r){for(;s;){if(s=s.next())if(!s.attr("data-role")){c=s.attr("data-key");break}}if(this.pageable&&null==c)return this.goToNextPage(q),!1}if(null!=c){if(l||o||this.clearSelection(!1),this.rowinfo[c]&&this.rowinfo[c].selected&&(l||o)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=c;w=this.rowsByKey[c],u=this.getrowindex(w);n._updateSelection();S=this.getrowdisplayindex(w);return this._raiseEvent("rowUnselect",{key:c,index:S,boundIndex:u,row:w,reason:"userSelection"}),!1}this._lastSelectedKey=c;w=this.rowsByKey[c],u=this.getrowindex(w);this._doSelection(c,!0,!1),n._updateSelection();S=this.getrowdisplayindex(w);if(this._raiseEvent("rowSelect",{key:c,index:S,boundIndex:u,row:w}),this.treeGrid)if(37==r){var B=null;if(s=this._getuirow(c))s.attr("data-role")||(B=s.attr("data-key"));if(this.pageable&&null==B&&this.dataview.pagenum>0)for(;null==this._getuirow(c)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==r){B=null;if(s=this._getuirow(c))s.attr("data-role")||(B=s.attr("data-key"));this.pageable&&null==B&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var n=document.selection.createRange();if(null==n)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),a=r.duplicate();r.moveToBookmark(n.getBookmark()),a.setEndPoint("EndToStart",r);i=n.text.length;return{start:a.text.length,end:a.text.length+n.text.length,length:i,text:n.text}},_doSelection:function(e,t,i){if(null!=e){var n;if("singlerow"===this.selectionMode&&this.clearSelection(!1),n=this.rowinfo[e])n.selected=t,this.ensurerowvisiblebykey(e);else this.ensurerowvisiblebykey(e),(n=this.rowinfo[e])?n.selected=t:this.rowinfo[e]={selected:t};"none"!=this.selectionMode&&!1!==i&&this._renderrows()}else this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var n=this.rowinfo[i];if(n.selected){n.selected=!1;var r=t.indexOf(n.row),a=this.getrowdisplayindex(n.row);this._raiseEvent("rowUnselect",{key:i,index:a,boundIndex:r,row:n.row,reason:"clearingSelection"})}}}!1!==e&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var n=this.exportSettings.columnsHeader;null==n&&(n=!0);var r=this.exportSettings.hiddenColumns;null==r&&(r=!1);var a=this.exportSettings.serverURL,s=this.exportSettings.characterSet,o=this.exportSettings.collapsedRecords;null==o&&(o=!1);var l=this.exportSettings.fileName;void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var d=this,h=this.getRows();if(1==this.exportSettings.recordsInView&&(h=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)h=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",h),u=function(t,i){for(var n=0;n<t.length;n++){var r=e.extend({},t[n]);if(i.push(r),r.records&&r.records.length>0)for(var a=u(r.records,new Array),s=0;s<a.length;s++)a[s].leaf,i.push(a[s])}return i},p=u.call(this,c,new Array);h=p}if(0==h.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var m=new Array,f=0;f<this.columns.records.length;f++)!r&&this.columns.records[f].hidden||m.push(e.extend({},this.columns.records[f]));if(this.groups&&this.groups.length>0&&m.length>0){var g=this._names();for(f=0;f<h.length;f++)h[f][g.leaf]||(d.rtl?h[f][m[m.length-1].displayfield]=h[f].label:h[f][m[0].displayfield]=h[f].label)}var v=0;if(this.treeGrid){var b=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(b=this.getView());g=this._names();var y=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i[g.expanded]||!i[g.expanded]&&o;v=Math.max(v,1+i[g.level]),i.records&&i.records.length>0&&n&&y(e[t].records)}};if(y(b),"xml"!=i&&"json"!=i){var _=m.length;for(f=0;f<v;f++){(H=new t(this,this)).width=this.indentWidth,H.datafield="Level"+f,H.displayfield="Level"+f,H.align="center",H.cellsalign="center",H.text="",this.rtl?m.splice(_,0,H):m.splice(f,0,H)}var w=new Array,x=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),C=function(t){for(var n=0;n<t.length;n++){for(var r=e.extend({},t[n]),a=0;a<r[g.level];a++)r["Level"+a]="";var s=r[g.expanded]||!r[g.expanded]&&o;("xls"==i||"html"==i||"pdf"==i)&&r.records&&r.records.length>0?r["Level"+r[g.level]]=s?"-":"+":r["Level"+r[g.level]]="",r[g.leaf]&&(r["Level"+r[g.level]]="");for(a=r[g.level]+1;a<v;a++)r["Level"+a]="";if(x&&!r[g.leaf]&&(d.rtl?r[m[m.length-v-1].displayfield]=r.label:r[m[v].displayfield]=r.label),r.aggregate){var l="xls"==i?"_AG":"";for(a=v;a<m.length;a++){var h=a;d.rtl&&(h=m.length-a-1),null!=r[m[h].displayfield]&&(r[m[h].displayfield]=l+r[m[h].displayfield])}}w.push(r),s&&!r[g.leaf]&&C(r.records)}};C(b),h=w}else h=b}var S=null!=r&&r,T={},P={},I=this.host.find(".jqx-grid-cell:first"),E=this.host.find(".jqx-grid-cell-alt:first"),D=this.toThemeProperty;I.removeClass(D("jqx-grid-cell-selected")),I.removeClass(D("jqx-fill-state-pressed")),E.removeClass(D("jqx-grid-cell-selected")),E.removeClass(D("jqx-fill-state-pressed")),I.removeClass(D("jqx-grid-cell-hover")),I.removeClass(D("jqx-fill-state-hover")),E.removeClass(D("jqx-grid-cell-hover")),E.removeClass(D("jqx-fill-state-hover"));for(var k="cell",j=1,M=1,A=[],N=0;N<m.length;N++){if(""!=(H=m[N]).cellclassname)if(H.customCellStyles=new Array,"string"==typeof H.cellclassname)H.customCellStyles.push(H.cellclassname);else for(f=0;f<h.length;f++){var q=f,O=H.cellclassname(q,H.displayfield,h[f][H.displayfield],h[f]);O&&(H.customCellStyles[f]=O)}}if(e.each(m,function(t){var r=t;d.treeGrid&&(t>=v?r=m.length-v-1:v>0&&t<v&&(r=0));var a=e(d._table[0].rows[0].cells[r]);if(d._table[0].rows.length>1&&0==(s=e(d._table[0].rows[1].cells[r])).length)var s=e(d._table[0].rows[1].cells[0]);if(0==a.length)a=e(d._table[0].rows[0].cells[0]);var o=this,l=function(e){var t=d.toThemeProperty;if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),o.customCellStyles)for(var i in o.customCellStyles)e.removeClass(o.customCellStyles[i])};if(l(a),s&&l(s),null==this.displayfield)return!0;d.showAggregates&&d.getcolumnaggregateddata&&A.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,h));var c=d._getexportcolumntype(this);!this.exportable||this.hidden&&!S||(T[this.displayfield]={},T[this.displayfield].text=this.text,T[this.displayfield].width=parseInt(this.width),isNaN(T[this.displayfield].width)&&(T[this.displayfield].width=60),T[this.displayfield].width>500&&(T[this.displayfield].width=500),T[this.displayfield].formatString=this.cellsFormat,T[this.displayfield].localization=d.gridlocalization,T[this.displayfield].type=c,T[this.displayfield].cellsAlign=this.cellsalign,T[this.displayfield].hidden=!n,T[this.displayfield].index=r,T[this.displayfield].maxIndex=m.length),k="cell"+j;var u=this.element;if("json"!=i&&"xml"!=i){var p=function(e,t,n,r,a,s,o,l,d){P[e]={index:1+o,maxIndex:m.length},s.rtl&&(P[e].index=m.length-o),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(P[e]["font-size"]=t.css("font-size"),P[e]["font-weight"]=t.css("font-weight"),P[e]["font-style"]=t.css("font-style"),P[e]["background-color"]=s._getexportcolor(t.css("background-color")),P[e].color=s._getexportcolor(t.css("color")),P[e]["border-color"]=s._getexportcolor(t.css("border-top-color"))),n?P[e]["text-align"]=a.align:(P[e]["text-align"]=a.cellsalign,P[e].formatString=a.cellsFormat,P[e].dataType=c),"html"!=i&&"pdf"!=i||(P[e]["border-top-width"]="0px",s.rtl?(P[e]["border-left-width"]="1px",P[e]["border-right-width"]="0px",o==m.length-v-1&&n&&(P[e]["border-right-width"]="1px")):(P[e]["border-left-width"]="0px",P[e]["border-right-width"]="1px"),P[e]["border-bottom-width"]="1px",t&&(P[e]["border-top-style"]=t.css("border-top-style"),P[e]["border-left-style"]=t.css("border-left-style"),P[e]["border-right-style"]=t.css("border-right-style"),P[e]["border-bottom-style"]=t.css("border-bottom-style")),n?(0!=o||s.rtl?o==m.length-1&&s.rtl&&(P[e]["border-right-width"]="1px"):P[e]["border-left-width"]="1px",t&&(P[e]["border-top-width"]="1px",P[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=o||s.rtl?o==m.length-1&&s.rtl&&(P[e]["border-right-width"]="1px"):P[e]["border-left-width"]="1px",t&&(P[e].height=t.css("height")),s.treeGrid&&!n&&(P[e].index-1<v?s.rtl?P[e]["border-left-width"]="0px":P[e]["border-right-width"]="0px":P[e].index-1==v&&(s.rtl?P[e]["border-right-width"]="0px":P[e]["border-left-width"]="0px")))),!a.exportable||a.hidden&&!S||(1==l?(T[a.displayfield].customCellStyles||(T[a.displayfield].customCellStyles=new Array),T[a.displayfield].customCellStyles[d]=e):n?T[a.displayfield].style=e:r?T[a.displayfield].cellAltStyle=e:T[a.displayfield].cellStyle=e)};if(p("column"+M,u,!0,!1,this,d,t),M++,p(k,a,!1,!1,this,d,t),d.altRows&&p(k="cellalt"+j,s,!1,!0,this,d,t),this.customCellStyles){for(var f in o.customCellStyles)a.removeClass(o.customCellStyles[f]);for(var f in o.customCellStyles)a.addClass(o.customCellStyles[f]),p(k+o.customCellStyles[f],a,!1,!1,this,d,t,!0,f),a.removeClass(o.customCellStyles[f])}j++}}),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){var B=v+1;if(this.rtl&&(B=m.length-v),P["column"+B]){var R=P["column"+B];R.merge=v,R["border-left-width"]="1px";for(P["cell"+B],f=0;f<m.length;f++){B=f+1;if(this.rtl&&(B=m.length-f),P["column"+B].level=f,P["column"+B].maxLevel=v,P["cell"+B].maxLevel=v,(H=m[f]).customCellStyles)for(var V in H.customCellStyles)P["cell"+B+H.customCellStyles[V]]&&(P["cell"+B+H.customCellStyles[V]].maxLevel=v);P["cellalt"+B]&&(P["cellalt"+B].maxLevel=v)}for(f=0;f<v;f++){B=f+1;var H,L=f;if(this.rtl&&(B=m.length-f),(z=P["column"+B]).disabled=!0,P["cell"+B].level=L,P["cell"+B].maxLevel=v,P["column"+B].level=L,P["cellalt"+B]&&(P["cellalt"+B].level=L,P["cellalt"+B].maxLevel=v),(H=m[f]).customCellStyles)for(var V in H.customCellStyles)P["cell"+B+H.customCellStyles[V]]&&(P["cell"+B+H.customCellStyles[V]].maxLevel=v,P["cell"+B+H.customCellStyles[V]].level=L);if(("html"==i||"pdf"==i||"xls"==i)&&(z["font-size"]=R["font-size"],z["font-weight"]=R["font-weight"],z["font-style"]=R["font-style"],z["background-color"]=R["background-color"],z.color=R.color,z["border-color"]=R["border-color"],"html"==i||"pdf"==i)){z["border-top-width"]=R["border-top-width"],z["border-left-width"]=R["border-left-width"],this.rtl&&(z["border-right-width"]=R["border-right-width"],0==f&&(z["border-right-width"]="1px")),0!=f||this.rtl?0==f&&this.rtl&&(z["border-left-width"]="0px"):z["border-left-width"]="0px",this.rtl?this.rtl&&(z["border-left-width"]="0px"):z["border-right-width"]="0px",z["border-bottom-width"]="0px";var z=P["cell"+B];this.rtl?this.rtl&&(z["border-left-width"]="0px"):z["border-right-width"]="0px"}}}}if(this.showAggregates){var F=[],U="xls"==i?"_AG":"",$=0;this.rowDetails&&!this.treeGrid&&$++,A.length>0&&(e.each(m,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(F[t]||(F[t]={}),F[t]){var i=d._getaggregatename(this.aggregates[t]),n=d._getaggregatetype(this.aggregates[t]),r=A[e-$];r&&(F[t][this.displayfield]=U+i+": "+r[n])}}),e.each(m,function(e){for(var t=0;t<F.length;t++)null==F[t][this.displayfield]&&(F[t][this.displayfield]=U)})),e.each(F,function(){h.push(this)})}var W=this,G=e.jqx.dataAdapter.ArrayExporter(h,T,P,a,this.treeGrid&&("xml"==i||"json"==i));if(null==l){this._renderrows();var X=this.treeGrid&&("xml"==i||"json"==i),Y=G.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(F,function(){h.pop(this)}),setTimeout(function(){W.exporting=!1},50),Y}X=this.treeGrid&&("xml"==i||"json"==i);G.exportToFile(i,l,a,s,X),this.showAggregates&&e.each(F,function(){h.pop(this)}),this._renderrows(),setTimeout(function(){W.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var n=parseInt(i[0].substring(5)),r=parseInt(i[1]),a=parseInt(i[2]),s=parseInt(i[3].substring(1,4)),o={r:n,g:r,b:a},l=this._rgbToHex(o);return 0==n&&0==r&&0==a&&0==s?"#ffffff":"#"+l}o={r:n=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:a=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(o))}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4);t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i="string",n=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(n){var r="";if(e.each(n,function(){if(this.name==t.displayfield)return this.type&&(r=this.type),!1}),r)return r}if(null!=t){if(null==this.dataview.cachedrecords)return i;var a=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return a=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return i;if(null!=(a=this.dataview.cachedrecords[0][t.displayfield])&&""==a.toString())return"string"}if(null!=a){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof a)i="boolean";else if(e.jqx.dataFormat.isNumber(a))i="number";else{var s=new Date(a);if("NaN"==s.toString()||"Invalid Date"==s.toString())if(e.jqx.dataFormat){if(null!=(s=e.jqx.dataFormat.tryparsedate(a))){if(s&&s.getFullYear()&&1970==s.getFullYear()&&0==s.getMonth()&&1==s.getDate()){var o=new Number(a);return isNaN(o)?"string":"number"}return"date"}i="string"}else i="string";else i="date"}}}return i},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,n){var r=this.rowsByKey[t],a=this.getrowindex(r),s=r;if(null!=s&&s[i]==n)return!1;if(null==s||null!==s[i]||""!==n){var o="";if(null!=s&&s[i]!==n){var l,d=this.getColumn(i),h="string";if(g=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var c="";e.each(g,function(){if(this.name==d.displayfield)return this.type&&(c=this.type),!1}),c&&(h=c)}if(o=s[i],!d.nullable||null!=n&&""!==n&&d.nullable&&void 0===n.label){if(e.jqx.dataFormat.isNumber(o)||"number"==h||"float"==h||"int"==h||"decimal"==h&&"date"!=h)n=new Number(n),n=parseFloat(n),isNaN(n)&&(n=0);else if((e.jqx.dataFormat.isDate(o)||"date"==h)&&""!=n){var u=n;"Invalid Date"!=(u=new Date(u))&&null!=u?n=u:"Invalid Date"==u&&(n=u=new Date)}if(s[i]===n)return}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,s[i]=n,this.treeGrid)(l=this.treeGrid.getRow(t))&&(l[i]=n);if(null!=n&&null!=n.label)if(s[(d=this.getColumn(i)).displayfield]=n.label,s[i]=n.value,this.treeGrid)(l=this.treeGrid.getRow(t))&&(l[d.displayfield]=n.label,l[i]=n.value)}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var p=a,m=this.source._source._localdata()[p];this.source.suspendKO=!0;var f=m;if(f[i]&&f[i].subscribe)null!=n&&null!=n.label?(f[d.displayfield](n.label),f[i](n.value)):f[i](n);else{var g=this.source._source.datafields,v=null;if(g&&e.each(g,function(){if(this.name==i)return v=this.map,!1}),null==v)null!=n&&null!=n.label?(f[i]=n.value,f[d.displayfield]=n.label):f[i]=n;else{var b=v.split(this.source.mapChar);if(b.length>0){for(var y=f,_=0;_<b.length-1;_++)y=y[b[_]];y[b[b.length-1]]=n}}this.source._source._localdata.replace(m,e.extend({},f))}this.source.suspendKO=!1}if(this.source.updaterow){try{var w=t;null==this.source.updaterow(w,s,function(e){0==e&&this.setCellValue(r,i,o,!0,!1)})&&!0}catch(e){return!1,void this.setCellValue(r,i,o)}}var x=this.getrowdisplayindex(r);d=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:n,oldValue:o,dataField:i,displayField:d.displayfield,key:t,boundIndex:a,index:x,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var n=parseInt(e),r=this._getkey(n);this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),n=this._getkey(i);return this.getCellTextByKey(n,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var n=this.getCellValueByKey(t,i),r=this.getColumn(i);return r&&""!=r.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?n=e.jqx.dataFormat.formatdate(n,r.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(n)||!isNaN(parseFloat(n))&&isFinite(n))&&(n=e.jqx.dataFormat.formatnumber(n,r.cellsFormat,this.gridlocalization))),n},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),n=this._getkey(i);return this.getCellValueByKey(n,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));this.getrowindex(i);return null!=i?i[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),n=this.getColumn(t);this.beginroweditbykey(i,n)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),n=0;n<i.length;n++)if(e.originalRecord){if(i[n].uid==e.originalRecord.uid){t=n;break}}else if(i[n].uid==e.uid){t=n;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(null==e)return i;for(var n=t,r=0;r<n.length;r++)if(n[r].uid==e.uid||e.originalRecord&&n[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit&&!1===this.beginEdit(t,i))return!1;var n=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(n>0){var r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);if(r.level<n)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&null!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var a=this.editSettings.editSingleCell;if(!i&&a&&this.columns.records&&this.columns.records.length>0){for(var s=0;s<this.columns.records.length&&(!(i=this.columns.records[s]).editable||i.hidden);s++);if(!i)return!1}if(a&&i&&!i.editable)return this.editKey=null,!1;a&&(this.editColumn=i);var o=this;r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);var l=this.getrowindex(r),d=this._getuirow(t),h=this._getpinneduirow(t);this._editors=new Array;var c=!1;if(d){var u=d[0].cells,p=0;for(s=0;s<u.length;s++){var m=this.columns.records[s],f=u[s];if(!m.rowDetailscolumn&&!(m.checkboxcolumn||(m.pinned&&(f=h[0].cells[s]),a&&i&&m.datafield!=i.datafield||(e(f).removeClass(this.toTP("jqx-grid-cell-selected")),e(f).removeClass(this.toTP("jqx-fill-state-pressed")),e(f).removeClass(this.toTP("jqx-grid-cell-hover")),e(f).removeClass(this.toTP("jqx-fill-state-hover")),"none"==m.columntype)))){var g=e(f).outerWidth(),v=e(f).width();0===p&&(p=e(f).outerHeight()-1),e(f).css("padding","0px");var b="<div style='height:"+p+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>",y=this.getCellTextByKey(t,m.displayfield);f.innerHTML=b;var _=e(f.firstChild);switch(m.columntype){case"textbox":case"default":var w=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(_);if(this.rtl&&w.css("direction","rtl"),w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-cell-editor")),w[0].onfocus=function(t){setTimeout(function(){var i;t?(i=e(t.target).parent().parent().index())>=0&&o.ensureColumnVisible(o.columns.records[i].datafield):(i=e(document.activeElement).parent().parent().index())>=0&&o.ensureColumnVisible(o.columns.records[i].datafield);o.content&&(o.content[0].scrollTop=0,o.content[0].scrollLeft=0),o.gridcontent&&(o.gridcontent[0].scrollLeft=0,o.gridcontent[0].scrollTop=0)},10)},m.editable){if(!c){c=!0;var x=e.jqx.browser.msie&&e.jqx.browser.version>10;x||w.focus();var C=w;setTimeout(function(){var e=C.val().length;x||C.focus();try{if("selectionStart"in C[0])C[0].setSelectionRange(0,e);else{var t=C[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}},10)}}else w.attr("disabled",!0),w.attr("readOnly",!0),w.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(w.width(v),w.height(p),e.jqx.browser.msie&&e.jqx.browser.version<9&&w.css("line-height",parseInt(p)+"px"),w.css("text-align",m.cellsalign),null===y&&(y=""),null==y&&(y=""),w.val(y),m.createeditor){var S=y;y=this.getCellValueByKey(t,m.displayfield);m.createeditor(this.treeGrid?t:l,y,w,S,v,p)}if(this._editors.push({column:m,editor:w}),""!=m.cellsFormat&&(-1==m.cellsFormat.indexOf("p")&&-1==m.cellsFormat.indexOf("c")&&-1==m.cellsFormat.indexOf("n")&&-1==m.cellsFormat.indexOf("f")||w.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),n=parseInt(i);if(isNaN(n))return!0;if(o._selection(w).length>0)return!0;var r="",a=w.val();if(m.cellsFormat.length>1){var s=parseInt(m.cellsFormat.substring(1));isNaN(s)&&(s=0)}else s=0;if(s>0&&-1!=a.indexOf(o.gridlocalization.decimalseparator)&&o._selection(w).start>a.indexOf(o.gridlocalization.decimalseparator))return!0;for(var l=0;l<a.length-s;l++){var d=a.substring(l,l+1);null!=d.match(/^[0-9]+$/)&&(r+=d)}return!(r.length>=11)&&void 0})),m.initeditor){S=y,y=this.getCellValueByKey(t,m.displayfield);m.initeditor(this.treeGrid?t:l,y,w,S,v,p)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var T=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(_),P=e.trim(m.datafield).split(" ").join("");-1!=P.indexOf(".")&&(P=P.replace(".",""));var I=this.editorsCache["templateeditor_"+P];if("custom"==m.columntype)I=this.editorsCache["customeditor_"+P+"_"+t];S=y,y=this.getCellValueByKey(t,m.displayfield);if(I)(w=I).width(g),w.height(p),w.appendTo(T);else(w=e("<div style='border: none;'></div>")).width(g),w.height(p),I=w,null===y&&(y=""),"custom"!=m.columntype?this.editorsCache["templateeditor_"+P]=w:this.editorsCache["customeditor_"+P+"_"+t]=w,w.appendTo(T),m.createeditor&&m.createeditor(this.treeGrid?t:l,y,w,S,g,p);m.initeditor&&m.initeditor(this.treeGrid?t:l,y,w,S,g,p),this._editors.push({column:m,editor:w})}}}}this.editKey=t,this.beginUpdate();var E=this.getrowdisplayindex(r);if(this._raiseEvent("rowBeginEdit",{key:t,index:E,boundIndex:l,row:this.rowsByKey[t]}),a){var D=null,k=null;(r=this.rowsByKey[t])&&(D=r[i.datafield],k=r[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:D,displayValue:k,key:t,index:E,dataField:i.datafield,displayField:i.displayfield,boundIndex:l,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||null==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));(e=(e=function(e,t,i){var n=e;if(t==i)return e;for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t);return n}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var n=e.substring(i,i+1);"-"===n&&(t+="-"),"."===n&&(t+="."),null!=n.match(/^[0-9]+$/)&&(t+=n)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(t,i,n,r){var a=new String;if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(a=i.val(),""!=t.cellsFormat){var s="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var l="";e.each(o,function(){if(this.name==t.displayfield)return this.type&&(l=this.type),!1}),l&&(s=l)}var d="date"===s||"time"===s;if("number"===s||"float"===s||"int"===s||"integer"===s||"string"===s&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===a&&t.nullable)return"";a=this._toNumber(a),a=new Number(a),isNaN(a)&&(a="")}if(d||"string"===s&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===a&&t.nullable)return"";var h=a;("Invalid Date"==(a=new Date(a))||null==a||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(a=e.jqx.dataFormat.parsedate(h,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=a&&null!=a||(a=""))}}t.displayfield!=t.datafield&&(a={label:a,value:a})}if(t.geteditorvalue){var c=this.getCellValueByKey(r,t.displayfield);a=t.geteditorvalue(this.treeGrid?r:n,c,i)}}return a},_validateEditors:function(e){for(var t=!0,i=this.rowsByKey[e],n=this.getrowindex(i),r=this._editors,a=(e=this.editKey,this._getuirow(e)),s=0;s<r.length;s++){var o=r[s].editor,l=r[s].column,d=this._geteditorvalue(l,o,n,e);if(l.validation){o.removeClass(this.toThemeProperty("jqx-grid-validation-label"));var h=l.datafield;try{var c=l.validation({value:d,row:e,datafield:l.datafield,displayfield:l.displayfield,column:l},d),u=this.gridlocalization.validationstring;null!=c.message&&(u=c.message),("boolean"==typeof c?c:c.result)||(null!=c.showmessage&&1!=c.showmessage||this._showvalidationpopup(a,h,u,o),t=!1)}catch(e){this._showvalidationpopup(a,h,this.gridlocalization.validationstring,o),t=!1}}}return t},endroweditbykey:function(t,i){var n=this;if(null!==n.editKey){if(this.endEdit)if(!1===this.endEdit(t))return;var r=n.rowsByKey[t],a=n.getrowindex(r),s=n._editors,o=n.editKey;n._getuirow(o);if(!0!==i){var l=!0;if(s&&(l=n._validateEditors(o))){for(var d=e.extend({},r),h=e.extend({},r),c=0;c<s.length;c++){var u=s[c].editor,p=s[c].column,m=n._geteditorvalue(p,u,a,o);m&&null!=m.label?(d[p.displayfield]=m.label,d[p.datafield]=m.value):d[p.displayfield]=m}n.updaterowbykey(n.editKey,d,!1,function(){n.dataview._sortHierarchyData=null,n.dataview._sortData=null;for(var i=0;i<s.length;i++){var l=s[i].editor,d=s[i].column,c=n._geteditorvalue(d,l,a,o),u=h[d.displayfield];if(c&&null!=c.label?(r[d.displayfield]=c.label,r[d.datafield]=c.value):r[d.displayfield]=c,n.treeGrid){var p=n.treeGrid.getRow(o);p&&(p[d.displayfield]=c)}if(n.editorsCache){var m=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;(t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close()}},f="customeditor_"+d.displayfield+"_"+t,g="templateeditor_"+d.displayfield;if(n.editorsCache[f]){var v=e(n.editorsCache[f]).data(),b=n.editorsCache[f];!v.jqxWidget&&e(b).children()[0]&&e(e(b).children()[0]).data().jqxWidget&&(v=e(e(b).children()[0]).data()),m(v),n.editorsCache[f].detach()}n.editorsCache[g]&&(n.editorsCache[g].detach(),v=e(n.editorsCache[g]).data(),b=n.editorsCache[g],!v.jqxWidget&&e(b).children()[0]&&e(e(b).children()[0]).data().jqxWidget&&(v=e(e(b).children()[0]).data()),m(v))}c!=u&&(n.beginUpdate(),n._raiseEvent("cellValueChanged",{value:c,oldValue:u,dataField:d.datafield,displayField:d.displayfield,key:t,index:a,row:r}),n.endUpdate(!1))}})}if(!l)return!1}return n._detachEditors(o),!0}},_detachEditors:function(t){var i=this,n=i.rowsByKey[t],r=i.getrowindex(n);if(i.editorsCache)for(var a in i.editorsCache){var s=e(i.editorsCache[a]).data();if(s&&s.jqxWidget){var o=s.jqxWidget.element.className;if(o.indexOf("dropdownlist")>=0||o.indexOf("datetimeinput")>=0||o.indexOf("combobox")>=0||o.indexOf("menu")>=0)if(s.jqxWidget.isOpened)s.jqxWidget.isOpened()&&s.jqxWidget.close()}e(i.editorsCache[a]).detach()}i.beginUpdate();var l=i.getrowdisplayindex(n);if(i.editSettings.editSingleCell){var d=null,h=null;(n=i.rowsByKey[t])&&(d=n[i.editColumn.datafield],h=n[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:d,displayValue:h,key:t,index:l,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:r,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:l,boundIndex:r,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,n,r){if(null==n)n=this.gridlocalization.validationstring;r.addClass(this.toThemeProperty("jqx-grid-validation-label"));var a=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),s=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");a.html(n),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation")),a.addClass(this.toThemeProperty("jqx-rc-all")),a.hide(),s.hide(),a.prependTo(this.table),s.prependTo(this.table);var o=this.hScrollInstance.value,l=parseInt(o),d=this.getColumn(i).uielement;if(t){var h=t;a.css("top",parseInt(h.position().top)+30+"px");var c=parseInt(a.css("top"));s.css("top",c-11),s.removeClass(),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var u=!1;c>=this._table.height()&&(s.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(c=parseInt(h.position().top)-h.outerHeight()-5)<0&&(c=0,s.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=!0),a.css("top",c+"px"),s.css("top",c+a.outerHeight()-9));var p=-l+parseInt(e(d).position().left),m=parseInt(this._table.css("left"));isNaN(m)&&(m=0),0!=m&&(l=0),s.css("left",l+p+30);var f=a.width();if(f+p>this.host.width()-20)p-=f+p-this.host.width()+40;u?a.css("left",l+parseInt(e(d).position().left)-a.outerWidth()):a.css("left",l+p),r.mouseenter(function(){r.hasClass("jqx-grid-validation-label")&&(a.show(),s.show())}),r.mouseleave(function(){a.hide(),s.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:a,validationrow:s}}},addRow:function(t,i,n,r){if(null!=i){this._datachanged=!0,null==n&&(n="last");var a=!1,s=this.that;if(null==t){var o=this.dataview.filters&&this.dataview.filters.length>0,l=o?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;l=o?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var d=new Array;e.each(i,function(e,t){var n=s.dataview.getid(s.dataview.source.id,i[e],l+e);d.push(n),s.getColumn(s.dataview.source.id)&&(i[e][s.dataview.source.id]=n)}),t=d}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,n){var r=t[e];s.getColumn(s.dataview.source.id)&&(i[e][s.dataview.source.id]=r)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var h=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,c=function(t,i,n,a){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var s=t.vScrollInstance.value,o=!1;if(e.isArray(n)?e.each(n,function(e,n){var s=null;null!=i&&null!=i[e]&&(s=i[e]),this.uid=s,t.rowsByKey[s]=this,i==r&&(r=null),o=t.source.addRecord(this,a,r,h)}):(n.uid=i,t.rowsByKey[i]=n,i==r&&(r=null),o=t.source.addRecord(n,a,r,h)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,d=t.groups[0];if(Object.prototype.toString="function"==typeof d?d:function(){return this[d]},!t.source.records.sort){var c,u=new Array,p=0;e.each(c,function(){u[void 0+p++]=this}),c=u}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var n=0,r=0;if(t&&t.uid&&(n=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof n){if(n<r)return-1;if(n>r)return 1}return 0}),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,null!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(n),t.source.suspendKO=!1),t.vScrollInstance.setPosition(s),o};if(this.source.addrow){var u=function(e,r){1!=e&&null!=e||(null!=r&&(t=r),c(s,t,i,n))};try{null==(a=s.treeGrid?this.source.addrow(t,i,n,r,u):this.source.addrow(t,i,n,u))&&(a=!0)}catch(e){a=!1}if(0==a)return!1}else c(this,t,i,n);return a}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(null!=t){this._datachanged=!0;var i=!1,n=this.that,r=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var n=!1,r=t.vScrollInstance.value;if(e.isArray(i))e.each(i,function(){if(t.rowsByKey[this]){if(n=!0,t.rowinfo[this].selected&&t.unselectrowbykey(this,!1),t.treeGrid)var e=t._names(),i=t.rowsByKey[this][e.parent];if(delete t.rowsByKey[this],t.treeGrid&&t.rowinfo[this]){var r=t.rowinfo[this].row.records,a=function(e){for(var i=0;i<e.length;i++){var n=e[i].uid;delete t.rowsByKey[n],delete t.rowinfo[n],e[i].records&&a(e[i].records)}};r&&(a(r),delete t.rowinfo[this])}t.source.deleteRecord(this),i&&e&&i.records&&0==i.records.length&&(i[e.leaf]=!0,t.rowinfo[i.uid][e.leaf]=!0)}});else{n=!1;if(t.rowsByKey[i]){if(n=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var a=t._names(),s=t.rowsByKey[i][a.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var o=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var n=e[i].uid;delete t.rowsByKey[n],delete t.rowinfo[n],e[i].records&&l(e[i].records)}};o&&l(o)}delete t.rowinfo[i],t.source.deleteRecord(i),s&&a&&s.records&&0==s.records.length&&(s[a.leaf]=!0,t.rowinfo[s.uid][a.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.vScrollInstance.setPosition(r),n};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||r(n,t)}),null==i&&(i=!0)}catch(e){i=!1}}else i=r(n,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,n,r){if(null!=t&&null!=i){var a=this.that,s=!1,o=function(t,i,r){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var a=!1;if(e.isArray(i))e.each(i,function(e,i){var n=t.rowsByKey[this],s=function(t,i){n?n[this]=r[e]:a=!1,a=!0};s(),t.treeGrid&&(n=t.treeGrid.getRow(this),s())});else{var s=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=r[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=r[t.columns.records[i].datafield]);a=!0}else a=!1};s(l=t.rowsByKey[i]),t.treeGrid&&s(l=t.treeGrid.getRow(i))}var o=t.vScrollInstance.value;if(null!=n&&1!=n||null!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var l=t.rowsByKey[i],d=t.getrowindex(l),h=t.source._source._localdata()[d];t.source.suspendKO=!0,t.source._source._localdata.replace(h,e.extend({},l)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(o),a};if(this.source.updaterow){try{null==(s=this.source.updaterow(t,i,function(e){1!=e&&null!=e||(o(a,t,i),r&&r(),a._renderrows(!1),a.autoRowHeight&&(a._updateScrollbars(),a._arrange()))}))&&(s=!0)}catch(e){s=!1}}else(s=o(a,t,i))&&r&&r(),a._renderrows(!1),a.autoRowHeight&&(a._updateScrollbars(),a._arrange());return s}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var n=!1!==i;this._doSelection(e,!0,n);var r=this.rowsByKey[e],a=this.getrowindex(r),s=this.getrowdisplayindex(r);this._raiseEvent("rowSelect",{key:e,index:s,boundIndex:a,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);var n=this.rowsByKey[e],r=this.getrowindex(n),a=this.getrowdisplayindex(n);this._raiseEvent("rowUnselect",{key:e,index:a,boundIndex:r,row:this.rowsByKey[e],reason:"userSelection"})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var n=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(n){var a=r.children(),s=e(a[0]);if(this.rtl)s=e(a[a.length-1]);this.rtl?(s.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),s.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),s.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),s.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(s.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),s.addClass(this.toThemeProperty("jqx-grid-group-expand")),s.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),s.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),n.next().show();var o=r.next();if(o.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.next().children().show(),r.next().children().show()),!i.initialized){var l=i.detailsHeight,d=this.initRowDetails(t,i.row,e(e(o).children().children().children()[0]),i);i.details=e(o).children().children().children()[0],i.initialized=!0,!1!==d&&i.detailsHeight==l||(!1===d&&(i.expanded=!1,i.nodetails=!0,o.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var h=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:h,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var n=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(n){var a=r.children(),s=e(a[0]);if(this.rtl)s=e(a[a.length-1]);this.rtl?(s.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),s.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),s.addClass(this.toThemeProperty("jqx-icon-arrow-left")),s.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(this.toThemeProperty("jqx-grid-group-collapse")),s.removeClass(this.toThemeProperty("jqx-grid-group-expand")),s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),s.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),n.next().hide(),r.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.next().children().hide(),r.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var o=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:o,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,n,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+n};var a=0,s=-1,o=i+n;if(this.autorowheight)return{start:0,end:i+n};if(!r)for(var l=0;l<i+n;l++){if(this.columns.records[l].hidden||(a+=this.columns.records[l].width),a>=e&&-1==s&&(s=l),a>t+e){o=l;break}}return++o>i+n&&(o=i+n),-1==s&&(s=0),{start:s,end:o}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var n=this.columnsrow,r=this.columns.records.length-0,a=this.columns.records,s=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),s&&!this._haspinned)this.table[0].style.left=-i+"px",n[0].style.marginLeft=-i+"px";else{if(this._haspinned||null==this._haspinned){for(var o=0;o<0+r;o++){if(a[o].pinned){var l,d=null;if(this.showAggregates&&this.statusbar[0].cells&&(d=this.statusbar[0].cells[o]),this.filterrow&&this.filterrow[0].cells&&(l=this.filterrow[0].cells[o]),this.rtl)n[0].cells[o].style.marginLeft=-parseInt(t)+"px",d&&(d.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&l&&(l.style.marginLeft=-parseInt(t)+"px");else n[0].cells[o].style.marginLeft=i+"px",d&&(d.style.marginLeft=i+"px"),this.filterrow&&l&&(l.style.marginLeft=i+"px")}}if(this.columnsVirtualization){for(var h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<h;u++){var p=u,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<this.columns.records.length;u++){p=u,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=h;u<c;u++){p=u;if(m=this.columns.records[p].element[0],!this.columns.records[p].pinned)if(m.parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this._table[0].style.left=-i+"px",n[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){var f;for(h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<h;u++){p=u;if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<this.columns.records.length;u++){p=u;if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=h;u<c;u++){var g;p=u;if((m=this.columns.records[p].element[0]).parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this.table[0].style.left=-i+"px",n[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(v="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+v+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var n=!!i&&i.length>0;if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);var a,s=this,o=new e.jqx.dataCollection(this.element),l=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode)&&((a=new t(s,this)).visibleindex=l++,a.width=s.indentWidth,a.checkboxcolumn=!0,a.editable=!1,a.columntype="checkbox",a.groupable=!1,a.draggable=!1,a.filterable=!1,a.resizable=!1,a.datafield="_checkboxcolumn",o.add(a));this.rowDetails&&!this.treeGrid&&((a=new t(s,this)).visibleindex=l++,a.width=s.indentWidth,a.editable=!1,a.rowDetailscolumn=!0,a.groupable=!1,a.draggable=!1,a.pinned=!0,a.filterable=!1,a.resizable=!1,a.text="",o.add(a));var d=new Array;e.each(this.columns,function(e){if(null!=s.columns[e]){var i=new t(s,this);if(i.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(s._haspinned=!0),null==this.datafield)s.source&&s.source._source&&"array"==s.source._source.datatype&&(n||(s.source._source.datafields?s.source._source.datafields.push({name:e.toString()}):(s.source._source.datafields=new Array,s.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(d[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");d[this.datafield]=!0}o.add(i)}}),this.rtl&&o.records.reverse(),this.columns=o},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],n=e(i).find("input:first"),r=e(i).find(".filterconditions"),a=this.columns.records[t];if(a.filterable){n.val("");var s,o=this.getcolumntypebydatafield(a),l=new e.jqx.filter;switch(o){case"number":case"int":case"float":case"decimal":s="numericfilter",l.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":s="booleanfilter",l.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":s="datefilter",l.getoperatorsbyfiltertype("datefilter");break;case"string":s="stringfilter",l.getoperatorsbyfiltertype("stringfilter")}r.length>0&&("stringfilter"===s?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(null==e&&(t=null,e=this.sortcolumn),e){var i;i="a"==t||"asc"==t||"ascending"==t||1==t,this.sortdirection=null!=t?{ascending:i,descending:!i}:{ascending:!1,descending:!1},this.sortcolumn=null!=t?e:null,this.source.sort&&(this.dataview.sortfield=e,this.dataview.sortfielddirection=null==t?"":i?"asc":"desc",this.source.sort&&!this._loading&&this.source.sort(e,t)),this.dataview.sortBy(e,t),this._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){if(!this.disabled&&e.sortable&&this.sortable){var t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},i=null;i=null==t.sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.height(22);var n=i.find("input"),r=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),n.addClass(this.toThemeProperty("jqx-input")),n.addClass(this.toThemeProperty("jqx-rc-l")),n.addClass(this.toThemeProperty("jqx-input-group-addon")),n.addClass(this.toThemeProperty("jqx-widget")),n.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(n.addClass(this.toThemeProperty("jqx-rtl")),n.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=r;for(var a=new Array,s=0;s<t.columns.records.length;s++)t.columns.records[s].datafield&&t.columns.records[s].filterable&&a.push({label:t.columns.records[s].text,value:t.columns.records[s].displayfield});var o=a.length<10,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var d=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(d),d.jqxDropDownList&&d.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:o,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:a,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=d;var h=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var n=t.dataview.filters[i];n.datafield===e&&t.filterinput.val(n.filter.getfilterat(0).filtervalue)}};30!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=h,this.addHandler(d,"select",function(e){var t=e.args.item.value;h(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=n.val();if(d.jqxDropDownList)var a=d.jqxDropDownList("getSelectedItem");var s=function(i,n,r){var a=new e.jqx.filter,s=t.getcolumntypebydatafield(i),o=t._getfiltertype(s);if("datefilter"==o)var l=a.createfilter(o,n,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==o||"booleanfilter"==o){"numericfilter"==o&&(","==t.gridlocalization.decimalseparator&&n.indexOf(t.gridlocalization.decimalseparator)>=0&&(n=n.replace(t.gridlocalization.decimalseparator,".")),n.indexOf(t.gridlocalization.currencysymbol)>=0&&(n=n.replace(t.gridlocalization.currencysymbol,"")),n.indexOf(t.gridlocalization.percentagesymbol)>=0&&(n=n.replace(t.gridlocalization.percentagesymbol,"")));l=a.createfilter(o,n,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else l=a.createfilter(o,n,"CONTAINS");return a.operator=r,a.addfilter(0,l),a};if("simple"!==t.filterMode){if(a){var o=a.value,l=s(c=t.getColumn(o),i,"and");i.length>0?(t.removeFilter(o),t.addFilter(o,l),t.applyFilters()):(t.removeFilter(o),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var h=0;h<t.columns.records.length;h++){var c;l=s(c=t.columns.records[h],i,"or");t.addFilter(c.datafield,l)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(n.keydown(function(e){if(13===e.keyCode)return c(),e.preventDefault&&e.preventDefault(),!1}),r.click(function(){c()}),this.filterinput=n,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",function(i){var n=function(i){if(t.filterrow)for(var n=0;n<t.filterrow[0].cells.length;n++){var r=t.filterrow[0].cells[n],a=e(r).find("input:first"),s=t.columns.records[n];if(s.filterable){!0===i&&a.val("");for(var o=0;o<t.dataview.filters.length;o++){var l=t.dataview.filters[o];if(l.datafield===s.displayfield){a.val(l.filter.getfilterat(0).filtervalue);break}}}}},r=function(i){if(t.filterrow)for(var n=0;n<t.filterrow[0].cells.length;n++){var r=t.filterrow[0].cells[n],a=e(r).find("input:first"),s=t.columns.records[n];s.hidden?r.style.visibility="hidden":r.style.visibility="inherit",s.filterable&&(r.style.left=parseInt(0)+parseInt(s.uielement[0].style.left)+"px",r.style.width=6+s.width+"px",a[0]&&(a[0].style.width=s.width-6-22+"px"))}};t._updateFilterRow=n,t._arrangeFilterRow=r;var a=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),a(),n(),t._arrange(),r()):("none"===t.filter.find(".filterrow").css("display")?(a(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),n(),t.filter.find(".filterrow").show(),r()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),h(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var p=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");p.attr("title",t.gridlocalization.filterclearstring),p.addClass(t.toThemeProperty("jqx-icon-close")),i.append(p),p.hide(),t.filtericon=p,p.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?h(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,n=(t.filterinput.val(),0);n<t.filterrow[0].cells.length;n++){var r=t.filterrow[0].cells[n],a=e(r).find("input:first"),s=e(r).find(".filterconditions"),o=t.columns.records[n],l="";if(o.filterable){o.displayfield===i&&t.filterinput.val(a.val());var d,h,c=t.getcolumntypebydatafield(o),u=new e.jqx.filter;switch(c){case"number":case"int":case"float":case"decimal":d="numericfilter",h=u.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":d="booleanfilter",h=u.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":d="datefilter",h=u.getoperatorsbyfiltertype("datefilter");break;case"string":d="stringfilter",h=u.getoperatorsbyfiltertype("stringfilter")}if(0==s.length)l="stringfilter"===d?h[2]:h[0];else{var p=s.jqxDropDownList("getSelectedItem");l=p?h[p.index]:"stringfilter"===d?h[2]:h[0]}var m=a.val();if(m.length>0||0==m.length&&"NOT_NULL"==l||0==m.length&&"NOT_EMPTY"==l||0==m.length&&"EMPTY"==l||0==m.length&&"NULL"==l){var f=o.displayfield,g=new e.jqx.filter;"numericfilter"==d&&(","==t.gridlocalization.decimalseparator&&m.indexOf(t.gridlocalization.decimalseparator)>=0&&(m=m.replace(t.gridlocalization.decimalseparator,".")),m.indexOf(t.gridlocalization.currencysymbol)>=0&&(m=m.replace(t.gridlocalization.currencysymbol,"")),m.indexOf(t.gridlocalization.percentagesymbol)>=0&&(m=m.replace(t.gridlocalization.percentagesymbol,"")));u=g.createfilter(d,m,l,null,o.cellsFormat,t.gridlocalization);g.addfilter(0,u),t.addFilter(f,g)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)};!function(){var n=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=n,n[0].cells=new Array,n.height(24),n.width(t.table.width());var r=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,a=t.filterinput.val();e.each(t.columns.records,function(){var s=this,o=e("<div></div>").appendTo(n);if(o.css("position","absolute"),o.css("left",0+parseInt(s.uielement[0].style.left)),s.pinned&&(o.css("z-index",t.tableZIndex+t.columns.records.length),o.addClass(t.toThemeProperty("jqx-widget-header"))),n[0].cells.push(o[0]),!this.filterable)return!0;var l=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(o);l.keydown(function(e){13===e.keyCode&&i()}),s.displayfield===r&&l.val(a),l.addClass(t.toThemeProperty("jqx-input")),l.addClass(t.toThemeProperty("jqx-rc-all")),l.addClass(t.toThemeProperty("jqx-widget")),l.addClass(t.toThemeProperty("jqx-widget-content"));var d=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(o);d.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),l.focus(function(){t.ensureColumnVisible(s.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(s.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(s.displayfield)},10)}),d.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(d),d.remove();var n,r=t.getcolumntypebydatafield(s),a=t._getfiltersbytype(r);n="string"===r?2:0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:n,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:a,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){l.focus(),setTimeout(function(){l.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),l[0].style.width=s.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(n)}();var n=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),r=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(n),a=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(n);r.css("left",0),a.css("left",0),r.jqxButton({theme:t.theme}),a.jqxButton({theme:t.theme}),a.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),r.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var n="";if(e.each(i,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}return"string"},_getfiltersbytype:function(e){var t="";switch(e){case"number":case"float":case"int":t=this.gridlocalization.filternumericcomparisonoperators;break;case"date":t=this.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":t=this.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:t=this.gridlocalization.filterstringcomparisonoperators}return t},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&!1!==t)this.endroweditbykey(this.editKey);if(this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,n=0;this.table[0].rows=new Array;var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var a=this.columns.records.length,s=e.jqx.browser.msie&&e.jqx.browser.version<8;s&&this.host.attr("hideFocus","true");var o=i.groups.length,l=new Array,d=this.source.records;if(d=this.dataview.evaluate(d),this.dataViewRecords=d,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var h=d;if(this.pageable&&this.serverProcessing&&d.length>this.dataview.pagesize)h=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else h=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var c=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;if("root"===this.pageSizeMode){var u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,0);i.rootRecordsLength=u.length,u=function(e){for(var t=0,n=new Array,r=0;r<e.length;r++){var a=e[r];if(0==a.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&n.push(a),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return n}(u)}else u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",h,c);var p=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t.push(n),n.records&&n.records.length>0)for(var r=p(n.records,new Array),a=0;a<r.length;a++)r[a].leaf,t.push(r[a])}return t};h=l=p.call(i,u,new Array),this.rowsByKey=new Array;for(var m=0;m<h.length;m++){var f=h[m];this.rowsByKey[f.uid]=f}}l=h;this.renderedRecords=l;var g=l.length,v=this.tableZIndex,b=0,y=0;if(s)for(var _=0;_<a;_++){(H=(I=this.columns.records[_]).width)<I.minwidth&&(H=I.minwidth),H>I.maxwidth&&(H=I.maxwidth);var w=e('<table><tr><td role="gridcell" style="max-width: '+H+"px; width:"+H+'px;" class="'+r+'"></td></tr></table>');e(document.body).append(w);var x=w.find("td");b=1+parseInt(x.css("padding-left"))+parseInt(x.css("padding-right")),w.remove();break}var C=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",S="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='table"+this.element.id+"'><colgroup>",T="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='pinnedtable"+this.element.id+"'><colgroup>",P=0;for(_=0;_<a;_++){var I;if((I=this.columns.records[_]).hidden)P++,0;else{if((H=I.width)<I.minwidth&&(H=I.minwidth),H>I.maxwidth&&(H=I.maxwidth),(H-=b)<0&&(H=0),s){var E=H;if(_==P&&E++,I.rowDetailscolumn)T+="<col style='max-width: "+(E=E+4)+"px; width: "+E+"px;'>",S+="<col style='max-width: "+E+"px; width: "+E+"px;'>";else T+="<col style='max-width: "+E+"px; width: "+E+"px;'>",S+="<col style='max-width: "+E+"px; width: "+E+"px;'>"}else T+="<col style='max-width: "+H+"px; width: "+H+"px;'>",S+="<col style='max-width: "+H+"px; width: "+H+"px;'>";y+=H}}S+="</colgroup>",T+="</colgroup>",this._hiddencolumns=!1;var D=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g){var k='<tr role="row">',j=this.host.height();if(this.pageable&&(j-=this.pagerHeight,"both"===this.pagerPosition&&(j-=this.pagerHeight)),j-=this.columnsHeight,this.filterable){var M=this.filter.find(".filterrow"),A=1;this.filter.find(".filterrow-hidden").length>0&&(A=0),j-=this.filterHeight+this.filterHeight*M.length*A}this.showstatusbar&&(j-=this.statusBarHeight),this.showAggregates&&(j-=this.aggregatesHeight),j<25&&(j=25),"hidden"!=this.hScrollBar[0].style.visibility&&(j-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(j=300);w='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+j+"px; height: "+j+"px; max-width:"+y+"px; width:"+y+"px;",r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");w+='" class="'+(r+=" "+this.toTP("jqx-center-align"))+'">',w+=this.gridlocalization.emptydatastring,S+=k+=w+="</td>",T+=k,this.table[0].style.width=y+2+"px",n=y}var N=this.getRows(),q=new Array;for(m=0;m<l.length;m++){var O=(f=l[m]).uid;void 0===f.uid&&(f.uid=this.dataview.generatekey());k='<tr data-key="'+O+'" role="row" id="row'+m+this.element.id+'">';var B='<tr data-key="'+O+'" role="row" id="row'+m+this.element.id+'">';if(o>0&&f.level<o)k='<tr data-role="row-group" data-key="'+O+'" role="row" id="row'+m+this.element.id+'">',B='<tr data-role="row-group" data-key="'+O+'" role="row" id="row'+m+this.element.id+'">';var R=0,V=0;for(_=0;_<a;_++){var H,L=this.columns.records[_];(L.pinned||this.rtl&&this.columns.records[a-1].pinned)&&(D=!0),(H=L.width)<L.minwidth&&(H=L.minwidth),H>L.maxwidth&&(H=L.maxwidth),(H-=b)<0&&(H=0);r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");L.pinned&&(r+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===L.displayfield&&(r+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&m%2!=0&&(r+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var z="";if(o>0&&f.level<o)if(s)r+=" "+this.toTP("jqx-grid-cell-pinned");else{r+=" "+this.toTP("jqx-grid-cell-pinned"),z+=' colspan="'+a+'"';E=0;for(var F=0;F<a;F++){var U=i.columns.records[F],$=U.width;$<U.minwidth&&(H=U.minwidth),$>U.maxwidth&&(H=U.maxwidth),($-=b)<0&&($=0),U.hidden||(E+=$)}H=E}w='<td role="gridcell" '+z+' style="max-width:'+H+"px; width:"+H+"px;";var W='<td role="gridcell" '+z+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+H+"px; width:"+H+"px;";_==a-1&&1==a&&(w+="border-right-color: transparent;",W+="border-right-color: transparent;");var G=!1;o>0&&f.level<o&&(G=!0),G?this.rtl&&(r+=" "+this.toTP("jqx-right-align")):"left"!=L.cellsalign&&("right"===L.cellsalign?r+=" "+this.toTP("jqx-right-align"):r+=" "+this.toTP("jqx-center-align")),this.rowinfo[f.uid]&&(this.rowinfo[f.uid].selected&&!L.rowDetailscolumn&&this.editKey!==f.uid&&"none"!==this.selectionMode&&(r+=" "+this.toTP("jqx-grid-cell-selected"),r+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[f.uid].locked&&(r+=" "+this.toTP("jqx-grid-cell-locked"))),L.hidden?G||(w+="display: none;",W+="display: none;",this._hiddencolumns=!0):(R+=b+H,0==V&&(w+="border-left-width: 0px;",W+="border-left-width: 0px;"),V++),o>0&&s&&G&&_>=o&&(w+="font-size: 1px; border-color: transparent;  color: transparent;",W+="font-size: 1px; border-color: transparent; color: transparent;"),L.pinned&&(w+="pointer-events: auto;",W+="pointer-events: auto;"),!G&&L.rowDetailscolumn&&(this.rowinfo[f.uid]?this.rowinfo[f.uid].nodetails||(this.rowinfo[f.uid].expanded?(this.rtl?r+=" "+this.toTP("jqx-grid-group-expand-rtl"):r+=" "+this.toTP("jqx-grid-group-expand"),r+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!L.autoCellHeight)&&(r+=" "+this.toTP("jqx-grid-cell-nowrap "));var X=i._getcellvalue(L,f),Y=L.cellsFormat;if(o>0&&f.level<o&&(X=f.label,Y=i.getColumn(i.groups[f.level]).cellsFormat),""!=Y&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(X)?X=e.jqx.dataFormat.formatdate(X,Y,i.gridlocalization):(e.jqx.dataFormat.isNumber(X)||!isNaN(parseFloat(X))&&isFinite(X))&&(X=e.jqx.dataFormat.formatnumber(X,Y,i.gridlocalization))),G)this.groupsRenderer&&(X=this.groupsRenderer(X,f,f.level));else{if(""!=L.cellclassname&&L.cellclassname)if("string"==typeof L.cellclassname)r+=" "+L.cellclassname;else{var J=L.cellclassname(m,L.datafield,X,f);J&&(r+=" "+J)}if(""!=L.cellsRenderer&&L.cellsRenderer){if(-1===(Q=N.indexOf(f))&&f.originalRecord)var Q=N.indexOf(f.originalRecord);(X=L.cellsRenderer(Q,L.datafield,X,f))&&(X.indexOf("<jqx-")>=0||X.indexOf(" ng-")>=0)&&q.push({rowKey:f.uid,row:Q,column:L.datafield,value:X,columnIndex:_})}}if(w+='" class="'+r+'">',w+=X,w+="</td>",W+='" class="'+r+'">',W+=X,W+="</td>",L.pinned?(B+=w,k+=w):(k+=w,D&&(B+=W)),o>0&&!s&&f.level<o)break}if(0==n&&(this.table[0].style.width=R+2+"px",n=R),S+=k+="</tr>",T+=B+="</tr>",this.rowinfo[f.uid]?("group"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].group=G),"row"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].row=f),"details"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].details=null),"detailsHeight"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].detailsHeight=200),"initialized"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].initialized=!1),"expanded"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].expanded=!1)):this.rowinfo[f.uid]={group:G,row:f,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[f.uid].row=f),this.rowDetails){var K=this.rowinfo[f.uid].detailsHeight;if(this.rowinfo[f.uid])if(this.rowinfo[f.uid].expanded)var Z='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Z='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Z='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-details"),r+=" "+this.toTP("jqx-reset"),S+=Z+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px;"><div data-role="details"></div></div></td></tr>',T+=Z}}if(S+="</table>",T+="</table>",D){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(T+S)}):i.table[0].innerHTML=T+S;var ee=this.table.find("#table"+this.element.id),te=this.table.find("#pinnedtable"+this.element.id);if(te.css("float","left"),te.css("pointer-events","none"),ee.css("float","left"),te[0].style.position="absolute",ee[0].style.position="relative",ee[0].style.zIndex=v-10,te[0].style.zIndex=v+10,this._table=ee,this._table[0].style.left="0px",this._pinnedTable=te,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=n+"px",this._table[0].style.width=n+"px",this.rtl&&n>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-n+parseInt(this.element.style.width)+"px"),this.rowDetails)for(m=0;m<g;m++){O=(f=l[m]).uid;if(this.rowinfo[O].details){var ie=e(this._table.children()[1]).children("[data-key="+O+"]"),ne=e(this._pinnedTable.children()[1]).children("[data-key="+O+"]");if(ie){var re=ne.next(),ae=e(e(re).children().children());ae.children().detach(),ae.append(this.rowinfo[f.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(S)}):i.table[0].innerHTML=S;F=this.table.find("#table"+this.element.id);this._table=F,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=n+"px"),0===g&&(this._table[0].style.width=2+n+"px")}if(0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),q&&q.length>0){this._table[0].rows;e.each(q,function(){this.row;var t=this.rowKey,n=(this.column,this.columnIndex),r=i._getuirow(t);if(r){var a=r[0].cells[n];e.jqx.angularCompile&&e.jqx.angularCompile(a,"<div>"+a.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,n){if(!((d=this.getColumn(t)).pinned||d.hidden||d.checkboxcolumn||d.grouped)){var r=this.columns.records.indexOf(d);this.columns.records.splice(r,1),this.columns.records.splice(i,0,d);var a=0,s=this.headerZIndex;this.columnsrow.children().detach();this.toThemeProperty("jqx-grid-cell");" "+this.toThemeProperty("jqx-grid-cell-pinned")," "+this.toThemeProperty("jqx-item");var o=this;if(null!=o.filterrow)e(o.filterrow.children()[0]);this.columnsrow[0].cells=[];if(e.each(this.columns.records,function(e,t){var i=this.uielement;o.columnsrow.append(i),o.rtl?i.css("z-index",s++):i.css("z-index",s--);var n=o.rtl?250+s+1:250+s-1;this.pinned&&i.css("z-index",n);var r=this.width;i.css("left",a),o.columnsrow[0].cells[o.columnsrow[0].cells.length]=i[0],this.hidden&&!0,this.hidden&&this.hideable||(a+=r)}),this.groupable){var l=this.groups.length;l>0&&r-l>=0&&(r-=l,i-=l)}this.rowDetails&&r-1>=0&&(r--,i--),"checkbox"==this.selectionMode&&r-1>=0&&(r--,i--);var d=this._columns[r];this._columns.splice(r,1),this._columns.splice(i,0,d),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:d.datafield,oldIndex:r,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,n=!1;if(t.columnsReorder){var r="mousemove.reorder"+this.element.id,a="mousedown.reorder"+this.element.id,s="mouseup.reorder"+this.element.id,o=!1;this.isTouchDevice()&&!0!==this.touchmode&&(o=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(t.resizing)return!0;if(null!=t.reordercolumn){var a=parseInt(r.pageX),s=parseInt(r.pageY);if(o){var l=t.getTouches(r)[0];null!=l&&(a=parseInt(l.pageX),s=parseInt(l.pageY))}var d=t.host.coord(),h=parseInt(d.left),c=parseInt(d.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(a)-parseInt(t.dragmousedownoffset.left),p=parseInt(s)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:u+"px",top:p+"px"}),n=!1,a>=h&&a<=h+t.host.width()&&s>=c&&s<=c+t.host.height()&&(n=!0),i=-1,n){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.columnsheader.coord(),f=m.top+t.columnsheader.height();if(null!=t.columnsdropline)if(s>=m.top&&s<=f){if(i=t._handlereordercolumnsdroplines(a),t.columnGroups&&-1!=i){var g=0;g+=t._pinnedColumnsLength();var v=i.index;if(v>=g){var b=t.columns.records[v];if(null!=b){var y=t.columns.records.indexOf(t.getColumn(b.datafield));if(null==b.datafield)y=t.columns.records.indexOf(t.getcolumnbytext(b.text));var _=e.data(t.reordercolumn[0],"reorderrecord"),w=b;if(t.columns.records.indexOf(t.getColumn(_))<y&&"before"==i.position&&(w=t.columns.records[y-1]),w.columngroup!=t.getColumn(_).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(r.preventDefault&&(r.preventDefault(),r.stopPropagation()),o)return r.preventDefault(),r.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),a),this.addHandler(e(document),a,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var n=t.host.coord().left,r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarHeight),t.filter&&(r+=t.filter.height());var a=0;e.each(t.columns.records,function(i){if(this.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:this,left:n,width:0,height:2},!0;0==a&&(n=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),a++;var s=2+t.columnsHeight;t.columnshierarchy&&(r=e(this.uielement).coord().top,s=e(this.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:this,left:n,width:this.width,height:s},n+=this.width})}),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(r){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX),parseInt(r.pageY);if(o){var a=t.getTouches(r)[0];parseInt(a.pageX),parseInt(a.pageY)}var s=t.host.coord();parseInt(s.left),parseInt(s.top);if(t.showtoolbar&&t.toolbarHeight,t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var l=e.data(t.reordercolumn[0],"reorderrecord"),d=t.columns.records.indexOf(t.getColumn(l));t.reordercolumn.remove(),t.reordercolumn=null;var h=0;if(h+=t._pinnedColumnsLength(),null!=l){if(n&&-1!=i){var c=i.index;if(c>=h){var u=t.columns.records[c];if(null!=u){var p=t.columns.records.indexOf(t.getColumn(u.datafield));if(null==u.datafield)p=t.columns.records.indexOf(t.getcolumnbytext(u.text));if(t.columnGroups){var m=u;if(d<p&&"before"==i.position&&(m=t.columns.records[p-1]),m.columngroup!=t.getColumn(l).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}d<p?"before"==i.position?t.setcolumnindex(l,p-1):t.setcolumnindex(l,p):d>p&&t.setcolumnindex(l,p)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,n=-1,r=i._pinnedColumnsLength(),a=parseInt(i.host.coord().left)+i.host.width(),s="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(s=0),e.each(i.columnsbounds,function(e){if(e>=r){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>a?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",s+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),n={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>a)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",s+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),n={index:e,position:"after"}}}}),n},_createreordercolumn:function(t,i,n){var r=i;this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.reordercolumn=e("<div></div>");var a=t.clone();this.reordercolumn.css("z-index",999999),a.css("border-width","1px"),a.css("opacity","0.4");var s=e(a.find("."+this.toThemeProperty("jqx-grid-column-menubutton")));s.length>0&&s.css("display","none");var o=e(a.find(".jqx-icon-close"));o.length>0&&o.css("display","none"),this.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),this.reordercolumnicon.addClass(this.toThemeProperty("jqx-grid-drag-icon")),this.reordercolumn.css("float","left"),this.reordercolumn.css("position","absolute");this.host.coord();a.width(t.width()+16),this.reordercolumn.append(a),this.reordercolumn.height(t.height()),this.reordercolumn.width(a.width()),this.reordercolumn.append(this.reordercolumnicon),e(document.body).append(this.reordercolumn),a.css("margin-left",0),a.css("left",0),a.css("top",0),this.reordercolumn.css("left",r.left+this.dragmousedown.left),this.reordercolumn.css("top",r.top+this.dragmousedown.top),null!=n&&n&&(this.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),this.columnsdropline.width(2),this.columnsdropline.addClass(this.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(this.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var n=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var a="mousedown.drag",s="mousemove.drag";r?(a=e.jqx.mobile.getTouchEventName("touchstart")+".drag",s=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,a,function(i){if(0==t.draggable)return!0;if(n.resizing)return!0;n.__drag=!0;var a=i.pageX,s=i.pageY;if(r){var o=n.getTouches(i)[0];a=o.pageX,s=o.pageY}n.dragmousedown={left:a,top:s};var l=e(i.target).coord();return n.dragmousedownoffset={left:parseInt(a)-parseInt(l.left),top:parseInt(s-l.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,s,function(a){if(!t.draggable)return!0;if(null==t.datafield)return!0;if(t.pinned)return!0;if(n.resizing)return!0;if(n.dragmousedown){var o=a.pageX,l=a.pageY;if(r){var d=n.getTouches(a)[0];null!=d&&(o=d.pageX,l=d.pageY)}if(s={left:o,top:l},!n.columndragstarted&&null==n.reordercolumn){var h=Math.abs(s.left-n.dragmousedown.left),c=Math.abs(s.top-n.dragmousedown.top);(h>3||c>3)&&(n._createreordercolumn(i,s,!0),e(document.body).addClass("jqx-disableselect"),e.data(n.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var n="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,a="mouseup.resize"+this.element.id;if(i)n=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),n),this.addHandler(e(document),n,function(n){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var r=t.host.coord(),a=parseInt(t.resizestartline.coord().left),s=a-t._startcolumnwidth,o=t.resizablecolumn.column.minwidth;o="auto"==o?0:parseInt(o);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var d=n.pageX;if(i)d=e.jqx.mobile.getTouches(n)[0].pageX;s+=o;var h=l>0?a+l:0,c=0==l||t._startcolumnwidth+d-a<l;if(t.rtl)c=!0;if(c)if(t.rtl){if(d>=r.left&&d<=r.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=r.left&&d>=s&&(0!=h&&n.pageX<h?t.resizeline.css("left",d):0==h&&t.resizeline.css("left",d),i))return!1}if(!i&&null!=t.resizablecolumn)return!1}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=t.resizablecolumn&&!t.disabled){var n=t.resizablecolumn.columnelement;if(n.coord().top+n.height()+5<i.pageY)return void(t.resizablecolumn=null);if(n.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var r=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999);var a=function(e){t.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+t._startcolumnwidth);var i=0;i+=t.showtoolbar?t.toolbarHeight:0,i+=t.showstatusbar?t.statusBarHeight:0,i+=t.showAggregates?t.aggregatesHeight:0,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var n=0;t.pageable&&"top"!=t.pagerPosition&&(n=t.pagerHeight);var a="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(r.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-n-i-a-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-n-i-a),e.show("fast")};a(t.resizeline),a(t.resizestartline),t.dragmousedown=null}});var s=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var n=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),a=t._startcolumnwidth+n-r;if(t.rtl)a=t._startcolumnwidth-n+r;var s=t._resizecolumn.width;t._resizecolumn.width=a,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=a/i*100);for(var o=0;o<t._columns.length;o++)if(t._columns[o].datafield===t._resizecolumn.datafield){t._columns[o].width=t._resizecolumn.width;break}t.hScrollBar[0].style.visibility;var l=t._resizecolumn.displayfield;t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:l,oldWidth:s,newWidth:a})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var o=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)){var l=function(e){s()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),a),this.addHandler(e(document),a,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;s()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t);var n="";if(null!=this.columns&&null!=this.columns.records){var r=this,a=!1;e.each(this.columns.records,function(e,a){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){a=0,"hidden"==r.vScrollBar[0].style.visibility||r.scrollBarSize;0==r.scrollBarSize&&0,a=parseFloat(this.width)*i/100,null!=this._percentagewidth&&(a=parseFloat(this._percentagewidth)*i/100),a<this.minwidth&&"auto"!=this.minwidth&&(a=this.minwidth),a>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),t-=Math.round(a)}else"auto"==this.width||this._width?n+=this.text:t-=this.width});var s=this.columnsheader.find("#columntable"+this.element.id);if(0!=s.length){var o=0,l=s.find(".jqx-grid-column-header"),d=0;e.each(this.columns.records,function(s,h){var c,u=e(l[s]),p=!1,m=this.width,f=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(m=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,m=Math.round(m),p=!0),"auto"==this.width||this._width||p)if(p)m<this.minwidth&&"auto"!=this.minwidth&&(m=this.minwidth,this.width=m),m>this.maxwidth&&"auto"!=this.maxwidth&&(m=this.maxwidth,this.width=m),parseInt(u[0].style.width)!=m&&(u.width(m),this.width=m);else{var g=Math.floor(t*(this.text.length/n.length));isNaN(g)&&(g=this.minwidth);var v=t*(this.text.length/n.length)-g;(o+=v)>=1&&(o-=1,g++),o>=.5&&s==r.columns.records.length-1&&g++,g<0&&(c=e("<span>"+this.text+"</span>"),e(document.body).append(c),g=10+c.width(),c.remove()),g<this.minwidth&&(g=this.minwidth),g>this.maxwidth&&(g=this.maxwidth),this._width="auto",this.width=g,u.width(this.width)}else parseInt(u[0].style.width)!=this.width&&u.width(this.width);parseInt(u[0].style.left)!=d&&u.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,f!==this.width&&(a=!0)}),this.columnsheader.width(2+d),s.width(this.columnsheader.width()),this._resizecolumnGroups(),a&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var n=0,r="",a=this.host.width(),s=a,o=new Array,l=new Array;if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)r+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)a-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)a-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;(i=parseFloat(this.width)*s/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),a-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),a-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),o[o.length]=this):l[l.length]=this}),this.rtl){var d=0;o.reverse();for(h=this.columns.records.length-1;h>=this.columns.records.length-o.length;h--)this.columns.replace(h,o[d++]);for(c=0;c<l.length;c++)this.columns.replace(c,l[c])}else{for(var h=0;h<o.length;h++)this.columns.replace(h,o[h]);for(var c=0;c<l.length;c++)this.columns.replace(o.length+c,l[c])}var u=this.headerZIndex,p=t.columnsHeight,m=0;e.each(this.columns.records,function(o,l){var d;this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=function(e,i){var n=t.columnGroupslevel*t.columnsHeight;return n-=i.level*t.columnsHeight}(this.datafield,this),p=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(h+=" "+t.toTP("jqx-disableselect"));var c=self.rtl?250+u+1:250+u-1,f=t.rtl?u++:u--,g=e('<div role="columnheader" style="z-index: '+f+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.rtl&&0===o&&(g[0].style.borderLeftColor="transparent"),t.columnGroups&&(g[0].style.height=p+"px",g[0].style.bottom="0px",this.pinned&&(g[0].style.zIndex=c)),this.uielement=g,this.element=g,""!=this.classname&&this.classname&&g.addClass(this.classname);var v=this.width,b=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(v=null!=this._percentagewidth?parseFloat(this._percentagewidth)*s/100:parseFloat(this.width)*s/100,v=Math.round(v),b=!0),"auto"==this.width||this._width||b)if(b)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),g.width(v),this.width=v;else{var y=Math.floor(a*(this.text.length/r.length)),_=a*(this.text.length/r.length)-y;(m+=_)>=1&&(m-=1,y++),m>=.5&&o==t.columns.records.length-1&&y++,isNaN(y)&&(y=this.minwidth),y<0&&(d=e("<span>"+this.text+"</span>"),e(document.body).append(d),y=10+d.width(),d.remove()),y<this.minwidth&&(y=this.minwidth),y>this.maxwidth&&(y=this.maxwidth),this._width="auto",this.width=parseInt(y),v=this.width,g.width(this.width)}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),g[0].style.width=parseInt(v)+"px";this.hidden&&g.css("display","none");var w=e(g.children()[0]);i[0].cells[o]=g[0];var x=null!=this.renderer?this.renderer(this.text,this.align,p):t._rendercolumnheader(this.text,this.align,p,t);if(null==x&&(x=t._rendercolumnheader(this.text,this.align,p,t)),null!=this.renderer&&(x=e(x)),!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){w.append(e(x))}):this.renderer?w.append(e(x)):x&&(w[0].innerHTML=x),null!=x){var C=e('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');w.append(C);var S=C.children();this.sortasc=S[1],this.sortdesc=S[2],this.filtericon=S[0],this.iconscontainer=C,t.rtl&&(C.css("margin-left","0px"),C.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(g),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,g);var T=this;if(t.addHandler(g,"click",function(e){if(T.checkboxcolumn)return!0;t._togglesort&&(t._loading||t._togglesort(T)),e.preventDefault()}),t.columnsResize){var P=!1,I="mousemove";t.isTouchDevice()&&(P=!0,I=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(g,I,function(i){if(!T.resizable)return t.resizablecolumn=null,!0;var n=parseInt(i.pageX),r=5,a=parseInt(g.coord().left);if(t.hasTransform&&(a=e.jqx.utilities.getOffset(g).left),t._handlecolumnsResize){if(P)return r=40,(n=e.jqx.mobile.getTouches(i)[0].pageX)>=a+T.width-r?(t.resizablecolumn={columnelement:g,column:T},g.css("cursor","col-resize")):(g.css("cursor",""),t.resizablecolumn=null),!0;var s=T.width;if(t.rtl&&(s=0),n>=a+s-r){if(n<=a+s+r)return t.resizablecolumn={columnelement:g,column:T},g.css("cursor","col-resize"),!1;g.css("cursor",""),t.resizablecolumn=null}else g.css("cursor",""),n<a+s-r&&(T._animating||T._menuvisible||g.mouseenter()),t.resizablecolumn=null}})}(g.css("left",n),this.hidden||(n+=v),T.rendered)&&(T.rendered(e(w[0].firstChild),T.align,p)&&null!=C&&C.hide())}),n>0?this.columnsheader.width(2+n):this.columnsheader.width(n),this.columnsrow=i,t.columnsheader.append(i),i.width(n),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var n=this.headerZIndex-t+this.columns.records.length,r=this.toTP("jqx-grid-column-header")+" "+this.toTP("jqx-grid-columngroup-header")+" "+this.toTP("jqx-widget-header");this.rtl&&(r+=" "+this.toTP("jqx-grid-columngroup-header-rtl"));var a=this.columnsheader.find("#columntable"+this.element.id);a.find("jqx-grid-columngroup-header").remove();for(var s=0;s<this.columnGroupslevel-1;s++)for(i=0;i<this.columnGroups.length;i++){var o=this.columnGroups[i],l=o.level;if(l===s){var d=l*this.columnsHeight,h=99999;if(o.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=c(n):n.hidden||(t+=n.width,h=Math.min(parseInt(n.element[0].style.left),h))}return t};o.width=c(o),o.left=h;var u=this.columnsHeight,p=n--,m=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+r+'"></div>'),f=e(this._rendercolumnheader(o.text,o.align,this.columnsHeight,this));m.append(f),m[0].style.left=h+"px",0===h&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=u+"px",m[0].style.width=-1+o.width+"px",a.append(m),o.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,n=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var a=e.groups[i];a.groups?t+=r(a):a.hidden||(t+=a.width,n=Math.min(parseInt(a.element[0].style.left),n))}return t};t.width=r(t),t.left=n;var a=this.columnsHeight,s=t.element;s[0].style.left=n+"px",s[0].style.top=i+"px",s[0].style.height=a+"px",s[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=e(t.element);if(i.length>0){this.removeHandler(i,"mouseenter"),this.removeHandler(i,"mouseleave");var n=e(t.filtericon);this.removeHandler(n,"mousedown"),this.removeHandler(n,"click"),this.removeHandler(i,"click")}},_calculateaggregate:function(e,t,i,n){if(!e.datafield)return null;var r=e.aggregates;if(r||(r=t),r){for(var a=new Array,s=0;s<r.length;s++)"count"!=r[s]&&(a[a.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){null==n&&(n=this.getRows(),this.dataViewRecords&&(n=this.dataViewRecords));var o=n,l=-1;if(this.treeGrid){var d=new Array,h=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||d.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&h(e[t].records))};h(n),n=d}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){var c=new Array;for(s=0;s<n.length;s++)n[s]&&!1!==n[s]._visible&&c.push(n[s]);n=c;var u=new Array;for(s=0;s<o.length;s++)o[s]&&!1!==o[s]._visible&&u.push(o[s]);o=u}if(null==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:a}],this.gridlocalization,n,l);if(this.treeGrid)if((0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:a}],this.gridlocalization,o,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}var f;p=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,n,l);if(this.treeGrid&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)&&(0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)){m=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,o,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}}return null},getcolumnaggregateddata:function(e,t,i,n){var r=this.getColumn(e);if(!r)return"";var a=null!=i&&0!=i&&i;if(null==t)return"";var s=r.aggregates;r.aggregates=null;var o=this._calculateaggregate(r,t,a,n),l={};return o&&(l=o[e],r.aggregates=s),l},_updatecolumnaggregates:function(t,i,n){var r=this;if(i)if(n.children().remove(),n.html(""),t.aggregatesRenderer){if(i){s=t.aggregatesRenderer(i[t.datafield],t,n,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");n.html(s)}}else e.each(i,function(){for(a in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=a;i=r._getaggregatename(i),t.html(i+":"+this[a]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),n.append(t)}});else if(n.children().remove(),n.html(""),t.aggregatesRenderer){var a={};t.aggregates&&(a=this.getcolumnaggregateddata(t.datafield,t.aggregates));var s=t.aggregatesRenderer({},t,n,null);n.html(s)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var n=0;n<i;n++){var r=e(this.aggregates[0].cells[n]),a=this.columns.records[n],s=this._calculateaggregate(a,null,!0,t);this._updatecolumnaggregates(a,s,r)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var i=0,n=0;n<t;n++){var r=e(this.aggregates[0].cells[n]),a=this.columns.records[n];r&&(r.width(a.width),r[0].style.left=i+"px",a.hidden&&a.hideable?r.css("display","none"):i+=a.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,n=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var a=n+10,s=new Array;this.aggregates[0].cells=s;for(var o=0;o<n;o++){var l=this.columns.records[o],d=this._calculateaggregate(l),h=l.width;h<l.minwidth&&(h=l.minwidth),h>l.maxwidth&&(h=l.maxwidth);var c=r;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",a++),0==o&&u.css("border-left-width","0px")):u.css("z-index",a--),u.width(h),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=h,s[s.length]=u[0],this._updatecolumnaggregates(l,d,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",a--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){if(this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++)this._removecolumnhandlers(this.columns.records[t]);this.removeHandler(e(document),"mouseup.pagerbuttonstop"),this.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.removeHandler(e(document),"mousedown.gridedit"+this.element.id);var i="mousemove.resize"+this.element.id,n="mousedown.resize"+this.element.id,r="mouseup.resize"+this.element.id;this.removeHandler(e(document),i),this.removeHandler(e(document),n),this.removeHandler(e(document),r);i="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,r="mouseup.reorder"+this.element.id;if(this.removeHandler(e(document),i),this.removeHandler(e(document),n),this.removeHandler(e(document),r),this.filterable){if(this.filterrow)for(t=0;t<this.filterrow[0].cells.length;t++){var a=this.filterrow[0].cells[t],s=e(a).find(".filterconditions");this.columns.records[t];s.length>0&&s.jqxDropDownList("destroy")}this.filtercolumnsList&&this.filtercolumnsList.jqxDropDownList("destroy")}if(this.pageable){this.pagershowrowscombotop&&this.pagershowrowscombotop.jqxDropDownList&&this.pagershowrowscombotop.jqxDropDownList("destroy"),this.pagershowrowscombobottom&&this.pagershowrowscombobottom.jqxDropDownList&&this.pagershowrowscombobottom.jqxDropDownList("destroy");var o=this.pagerbuttonsbottom.find("a");this.removeHandler(o,"click"),this.removeHandler(o,"mouseenter"),this.removeHandler(o,"mouseleave"),o.remove();o=this.pagerbuttonstop.find("a");this.removeHandler(o,"click"),this.removeHandler(o,"mouseenter"),this.removeHandler(o,"mouseleave"),o.remove(),this.pagernexttop&&(this.pagernexttop.jqxButton("destroy"),this.pagerprevioustop.jqxButton("destroy"),this.pagernextbottom.jqxButton("destroy"),this.pagerpreviousbottom.jqxButton("destroy"),this.pagerfirsttop.jqxButton("destroy"),this.pagerfirstbottom.jqxButton("destroy"),this.pagerlasttop.jqxButton("destroy"),this.pagerlastbottom.jqxButton("destroy"))}this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),delete this.vScrollBar,delete this.hScrollBar,delete this._mousewheelfunc,e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==n)if("filterable"==i)t._render();else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._render();else if("pagerMode"===i)t.pagerMode=r,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var a=!1,s=0;s<r.length;s++)if(parseInt(r[s])==t.pageSize){a=!0;break}a||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var o=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var l=Math.floor(o/t.dataview.pagesize);if(l!==t.dataview.pagenum||parseInt(r)!==parseInt(n))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:n,pageSize:t.dataview.pagesize}),t.goToPage(l)||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:r}),t.pagerprevioustop.jqxButton({disabled:r}),t.pagernextbottom.jqxButton({disabled:r}),t.pagerpreviousbottom.jqxButton({disabled:r}),t.pagerfirsttop.jqxButton({disabled:r}),t.pagerfirstbottom.jqxButton({disabled:r}),t.pagerlasttop.jqxButton({disabled:r}),t.pagerlastbottom.jqxButton({disabled:r}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(n,r,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var d=e(".filterconditions");d.length>0&&d.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,n){var r="4px";return n.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var n=!!t._source,r=null;this._sortData=null,this._sortHierarchyData=null,n?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var a=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords};!function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(this.uniqueId=i);var s=this;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(s.grid.element.id),(!s.grid.autoBind&&s.grid.isInitialized||s.grid.autoBind)&&r.dataBind(),(C=function(){a(s),s.update()})(),r.bindBindingUpdate(s.grid.element.id,C);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(s.grid.element.id),(!s.grid.autoBind&&s.grid.isInitialized||s.grid.autoBind)&&r.dataBind(),(C=function(e){a(s),s.update()})(),void r.bindBindingUpdate(s.grid.element.id,C);for(var o=[],l=0,d={},h=0;h<this.filters.length;h++){var c=this.filters[h].datafield,u=this.filters[h].filter;if(u.getfilters){var p=u.getfilters();d[c+"operator"]=u.operator;for(var m=0;m<p.length;m++){p[m].datafield=c;var f=p[m].value;if("datefilter"==p[m].type)if(p[m].value&&p[m].value.toLocaleString){var g=this.grid.getColumn(p[m].datafield);if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[m].value,g.cellsformat,this.grid.gridlocalization);d["filtervalue"+l]=v||p[m].value.toLocaleString()}else d["filtervalue"+l]=f.toString()}else d["filtervalue"+l]=f.toString();else d["filtervalue"+l]=f.toString(),p[m].data&&(d["filterid"+l]=p[m].data.toString()),p[m].id&&(d["filterid"+l]=p[m].id.toString());d["filtercondition"+l]=p[m].condition,d["filteroperator"+l]=p[m].operator,d["filterdatafield"+l]=c;var b={label:f.toString()};p[m].data&&(b.value=p[m].data.toString()),p[m].id?b.value=p[m].id.toString():b.value=f.toString(),b.condition=p[m].condition,b.operator=0==p[m].operator?"and":"or",b.field=c,b.type=p[m].type;var y=!1;if(o.length>0)for(var _=0;_<o.length;_++){var w=o[_];if(w.field==c){w.filters.push(b),y=!0;break}}y||(o.push({field:c,filters:[]}),o[o.length-1].filters.push(b)),l++}}}d.filterGroups=o,d.filterslength=l,e.extend(d,{sortdatafield:s.sortfield,sortorder:s.sortfielddirection,pagenum:s.pagenum,pagesize:s.grid.pageSize});var x=r._options.data;r._options.data?e.extend(r._options.data,d):(t.data&&e.extend(d,t.data),r._options.data=d);var C=function(){var t=function(){a(s),s.update()};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};r.unbindDownloadComplete(s.grid.element.id),r.bindDownloadComplete(s.grid.element.id,C),r._source.loaderror=function(e,t,i){C()},(!s.grid.autoBind&&s.grid.isInitialized||s.grid.autoBind)&&r.dataBind(),r._options.data=x}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,n=0;n<this.filters.length;n++)if(this.filters[n].datafield==e){i=n;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,n=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var r="";this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1});for(var a=new Array,s=0;s<t.length;s++)a.push(e.extend({originalRecord:t[s]},t[s]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var o=a.sort(function(e,t){return i._compare(e,t,r)}).reverse();else o=a.sort(function(e,t){return i._compare(e,t,r)});return this._sortData=o,Object.prototype.toString=n,o},this._compare=function(t,i,n){if(void 0===(t=t)&&(t=null),void 0===(i=i)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(n&&""!=n)switch(n){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var n=this;e.each(t,function(e){this.uid=i,n.grid.rowsByKey[this.uid]=this,i++})}return t}var r=new Array;if(this.filters.length){var a=new Array,s=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];n._visible=!0;for(var r=void 0,s=0;s<this.filters.length;s++){var o=this.filters[s].filter,l=n[this.filters[s].datafield],d=o.evaluate(l);r=null==r?d:"or"==o.operator?r||d:r&&d}n._visible=!1,(r||n.aggregate)&&(n._visible=!0,t.push(n),a[n.uid]=n)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var o=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];o.push(n),n.records&&n.records.length>0&&l(n,n.records)}};l(null,t),s.call(this,o,r);for(var d=0;d<r.length;d++)for(var h=r[d];h.parent;){var c=h.parent;a[c.uid]||(c._visible=!0,a[c.uid]=c),h=c}r=t}else s.call(this,t,r);this._filteredData=r,this.rows=r}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){n=this;var u=new Array;this._sortData=null;var p=function(t,i){n._sortData=null;var r=null;if(n.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<n.source.hierarchy.groupingDataFields.length){r=new Array;for(var a=0;a<i.length;a++)r.push(e.extend({originalRecord:i[a]},i[a]))}else r=n._sort(i);else r=n._sort(i);t.records?t.records=r:t=t.concat(r);for(a=0;a<r.length;a++)r[a].records&&r[a].records.length&&p(r[a],r[a].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:p(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,n){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&null!=t&&this.rows.length>0){null==(s=this.rows[this.rows.length-1][t])&&(s=null);for(var r=1;r<=100;r++){if(!this.grid.rowsByKey[r+s]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+s+r])continue;return"jqx"+s+r}return s+r}}}if(null!=t&&t.toString().length>0){var a=e(i).attr(t);if(null!=a&&a.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+a:a}if(this.rows&&this.rows.length>0&&this.grid.rowsByKey[n]){var s;null==(s=this.rows[this.rows.length-1][t])&&(s="");for(r=1;r<=1e3;r++){if(!this.grid.rowsByKey[r+s]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+s+r])continue;return"jqx"+s+r}return s+r}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!this.grid.rowsByKey["jqx"+n])return"jqx"+n;for(r=n+1;r<=100;r++){if(!this.grid.rowsByKey["jqx"+r]){if(this.grid.rowsByKey["jqx"+r])continue;return"jqx"+r}}}return n},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework);var Bt=Object.freeze({});!function(e){e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),e.extend(e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&(this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var t={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===e.jqx._jqxTreeGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,t){this.base.updaterowbykey(e,t)},setCellValue:function(e,t,i){this.base.setCellValueByKey(e,t,i)},getCellValue:function(e,t){return this.base.getCellValueByKey(e,t)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,t){var i=this.base,n=i.getColumn(t);i.beginroweditbykey(e,n)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,t,i){this.base.endroweditbykey(e,i)},endRowEdit:function(e,t){this.base.endroweditbykey(e,t)},_showLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","visible"),e(t.dataloadelement).css("display","block"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},_hideLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","hidden"),e(t.dataloadelement).css("display","none"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var t=this.base,i=t._names(),n=new Array,r=function(a,s){if(s)for(var o=0;o<s.length;o++)if(s[o]){var l=e.extend({},s[o]),d=t.rowinfo[s[o].uid];d&&d[i.checked]?a.push(l):l[i.checked]&&a.push(l),r(n,s[o].records)}};return r(n,t.dataViewRecords),n},getRow:function(e){var t=this.base,i=t.source.records;if(t.source.hierarchy){var n=function(t){for(var i=0;i<t.length;i++)if(t[i]){if(t[i].uid==e)return t[i];if(t[i].records){var r=n(t[i].records);if(r)return r}}};return n(t.source.hierarchy)}for(var r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return i[r]},_renderrows:function(){var t=this.base,i=this;if(!t._loading&&!t._updating){var n=t._names();if(0===t.source.hierarchy.length&&!t.loadingFailed&&this.virtualModeCreateRecords){t._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return t._loading=!1,t.loadingFailed=!0,t.source.hierarchy=new Array,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),void t._arrange();for(var n=0;n<e.length;n++)e[n].level=0,i.virtualModeRecordCreating(e[n]),t.rowsByKey[e[n].uid]=e[n];t.source.hierarchy=e,t.source._source.hierarchy||(t.source._source.hierarchy={}),t._loading=!1,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),t._arrange()}),this._showLoadElement()}t.rendering&&t.rendering();var r=0;t.table[0].rows=new Array;var a=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content")+" "+t.toTP("jqx-item");t.rtl&&(a+=" "+t.toTP("jqx-cell-rtl"));var s=t.columns.records.length,o=e.jqx.browser.msie&&e.jqx.browser.version<8;o&&t.host.attr("hideFocus","true");var l=new Array,d=function(e,i){for(var r=0;r<e.length;r++){var a=e[r];if(a){var s=t.rowinfo[a.uid]?t.rowinfo[a.uid].expanded:a.expanded;if(0==t.dataview.filters.length&&(a._visible=!0),!1!==a._visible)if(s||a[n.leaf]){if(i.push(a),a.records&&a.records.length>0)for(var o=d(a.records,new Array),l=0;l<o.length;l++)i.push(o[l])}else i.push(a)}}return i},h=0===t.source.hierarchy.length?t.source.records:t.source.hierarchy;if(h=t.dataview.evaluate(h),t.dataViewRecords=h,this.showSubAggregates){var c=function(t,i){0!=t&&i.length>0&&(i[i.length-1]?i[i.length-1].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0}):e.jqx.browser.msie&&e.jqx.browser.version<9&&i[i.length-2]&&(i[i.length-2].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0})));for(var n=0;n<i.length;n++)i[n]&&i[n].records&&c(t+1,i[n].records)};c(0,h)}var u=function(e){for(var i=0,r=new Array,a=0;a<e.length;a++){var s=e[a];if(0==s[n.level]&&i++,i>t.dataview.pagesize*t.dataview.pagenum&&i<=t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize&&r.push(s),i>t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)break}return r};if(0===t.source.hierarchy.length){if("all"==t.dataview.pagesize||!t.pageable||t.serverProcessing){var p=h;if(t.pageable&&t.serverProcessing&&h.length>t.dataview.pagesize)p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)}else p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);l=p}else{h=d.call(t,h,new Array);if("all"!=t.dataview.pagesize&&t.pageable){p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(p=u(h))}else var p=h;l=p;var m=t.dataview.pagenum;if(t.updatepagerdetails(),t.dataview.pagenum!=m){if("all"!=t.dataview.pagesize&&t.pageable){p=h.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(p=u(h))}else p=h;l=p}}t.renderedRecords=l;var f=l.length,g=t.tableZIndex,v=0,b=0;if(o)for(var y=0;y<s;y++){(A=(P=t.columns.records[y]).width)<P.minwidth&&(A=P.minwidth),A>P.maxwidth&&(A=P.maxwidth);var _=e('<table><tr><td role="gridcell" style="max-width: '+A+"px; width:"+A+'px;" class="'+a+'"></td></tr></table>');e(document.body).append(_);var w=_.find("td");v=1+parseInt(w.css("padding-left"))+parseInt(w.css("padding-right")),_.remove();break}var x=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",C="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+x+"' id='table"+t.element.id+"'><colgroup>",S="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+x+"' id='pinnedtable"+t.element.id+"'><colgroup>",T=null;for(y=0;y<s;y++){var P;if(!(P=t.columns.records[y]).hidden){if(T=P,(A=P.width)<P.minwidth&&(A=P.minwidth),A>P.maxwidth&&(A=P.maxwidth),(A-=v)<0&&(A=0),o){var I=A;0==y&&I++,S+="<col style='max-width: "+A+"px; width: "+I+"px;'>",C+="<col style='max-width: "+A+"px; width: "+I+"px;'>"}else S+="<col style='max-width: "+A+"px; width: "+A+"px;'>",C+="<col style='max-width: "+A+"px; width: "+A+"px;'>";b+=A}}C+="</colgroup>",S+="</colgroup>",t._hiddencolumns=!1;var E=!1;if(0===f){var D='<tr role="row">',k=t.host.height();if(t.pageable&&(k-=t.pagerHeight,"both"===t.pagerPosition&&(k-=t.pagerHeight)),k-=t.columnsHeight,t.filterable){var j=t.filter.find(".filterrow"),M=1;t.filter.find(".filterrow-hidden").length>0&&(M=0),k-=t.filterHeight+t.filterHeight*j.length*M}t.showstatusbar&&(k-=t.statusBarHeight),t.showAggregates&&(k-=t.aggregatesHeight),k<25&&(k=25),"hidden"!=t.hScrollBar[0].style.visibility&&(k-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(k=100);var A=t.host.width()+2;_='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+k+"px; height: "+k+"px;  min-width:"+b+"px; max-width:"+b+"px; width:"+b+"px;",a=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");_+='" class="'+(a+=" "+t.toTP("jqx-center-align"))+'">',t._loading||(_+=t.gridlocalization.emptydatastring),C+=D+=_+="</td>",S+=D,t.table[0].style.width=b+2+"px",r=b}for(var N=t.source._source.hierarchy&&t.source._source.hierarchy.groupingDataFields?t.source._source.hierarchy.groupingDataFields.length:0,q=0;q<l.length;q++){var O=l[q],B=O.uid;N>0&&O[n.level]<N&&(B=O.uid),void 0===O.uid&&(O.uid=t.dataview.generatekey());D='<tr data-key="'+B+'" role="row" id="row'+q+t.element.id+'">';var R='<tr data-key="'+B+'" role="row" id="row'+q+t.element.id+'">';if(O.aggregate)D='<tr data-role="summaryrow" role="row" id="row'+q+t.element.id+'">',R='<tr data-role="summaryrow" role="row" id="row'+q+t.element.id+'">';var V=0;if(t.rowinfo[B])void 0===t.rowinfo[B].checked&&(t.rowinfo[B].checked=O[n.checked]),void 0===t.rowinfo[B].icon&&(t.rowinfo[B].icon=O[n.icon]),void 0===t.rowinfo[B].aggregate&&(t.rowinfo[B].aggregate=O[n.aggregate]),void 0===t.rowinfo[B].row&&(t.rowinfo[B].row=O),void 0===t.rowinfo[B].leaf&&(t.rowinfo[B].leaf=O[n.leaf]),void 0===t.rowinfo[B].expanded&&(t.rowinfo[B].expanded=O[n.expanded]);else{var H=O[n.checked];void 0===H&&(H=!1),t.rowinfo[B]={selected:O[n.selected],checked:H,icon:O[n.icon],aggregate:O.aggregate,row:O,leaf:O[n.leaf],expanded:O[n.expanded]}}var L=t.rowinfo[B];L.row=O,O.originalRecord&&(L.originalRecord=O.originalRecord);var z=0;for(y=0;y<s;y++){var F=t.columns.records[y];(F.pinned||t.rtl&&t.columns.records[s-1].pinned)&&(E=!0),(A=F.width)<F.minwidth&&(A=F.minwidth),A>F.maxwidth&&(A=F.maxwidth),(A-=v)<0&&(A=0);a=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");F.pinned&&(a+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===F.displayfield&&(a+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&q%2!=0&&(a+=" "+t.toTP("jqx-grid-cell-alt")),t.rtl&&(a+=" "+t.toTP("jqx-cell-rtl"));var U="";if(N>0&&!o&&!O.aggregate&&O[n.level]<N){U+=' colspan="'+s+'"';I=0;for(var $=0;$<s;$++){var W=t.columns.records[$];if(!W.hidden){var G=W.width;G<W.minwidth&&(A=W.minwidth),G>W.maxwidth&&(A=W.maxwidth),(G-=v)<0&&(G=0),I+=G}}A=I}_='<td role="gridcell"'+U+' style="max-width:'+A+"px; width:"+A+"px;";var X='<td role="gridcell"'+U+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+A+"px; width:"+A+"px;";y==s-1&&1==s&&(_+="border-right-color: transparent;",X+="border-right-color: transparent;"),N>0&&O[n.level]<N&&!O.aggregate?t.rtl&&(a+=" "+t.toTP("jqx-right-align")):"left"!=F.cellsalign&&("right"===F.cellsalign?a+=" "+t.toTP("jqx-right-align"):a+=" "+t.toTP("jqx-center-align")),L&&(L.selected&&t.editKey!==B&&"none"!==t.selectionMode&&(a+=" "+t.toTP("jqx-grid-cell-selected"),a+=" "+t.toTP("jqx-fill-state-pressed")),L.locked&&(a+=" "+t.toTP("jqx-grid-cell-locked")),L.aggregate&&(a+=" "+t.toTP("jqx-grid-cell-pinned"))),F.hidden?(_+="display: none;",X+="display: none;",t._hiddencolumns=!0):(0!=z||t.rtl?(_+="border-right-width: 0px;",X+="border-right-width: 0px;"):(_+="border-left-width: 0px;",X+="border-left-width: 0px;"),z++,V+=v+A),F.pinned&&(_+="pointer-events: auto;",X+="pointer-events: auto;");var Y="";if(0!=t.source.hierarchy.length&&O.records&&(!O.records||0!==O.records.length)||this.virtualModeCreateRecords||(L.leaf=!0),O.records&&O.records.length>0&&(L.leaf=!1),t.dataview.filters.length>0&&O.records&&O.records.length>0){for(var J=!1,Q=0;Q<O.records.length;Q++)if(!1!==O.records[Q]._visible&&null==O.records[Q].aggregate){J=!0;break}L.leaf=!J}L&&!L.leaf&&(L.expanded?(Y+=t.toTP("jqx-tree-grid-expand-button")+" ",t.rtl?Y+=t.toTP("jqx-grid-group-expand-rtl"):Y+=t.toTP("jqx-grid-group-expand"),Y+=" "+t.toTP("jqx-icon-arrow-down")):(Y+=t.toTP("jqx-tree-grid-collapse-button")+" ",t.rtl?(Y+=t.toTP("jqx-grid-group-collapse-rtl"),Y+=" "+t.toTP("jqx-icon-arrow-left")):(Y+=t.toTP("jqx-grid-group-collapse"),Y+=" "+t.toTP("jqx-icon-arrow-right")))),(!t.autoRowHeight||1===z||t.autoRowHeight&&!F.autoCellHeight)&&(a+=" "+t.toTP("jqx-grid-cell-nowrap"));var K=t._getcellvalue(F,L.row);if(N>0&&!O.aggregate&&O[n.level]<N&&(K=O.label),""!=F.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(K)?K=e.jqx.dataFormat.formatdate(K,F.cellsFormat,t.gridlocalization):(e.jqx.dataFormat.isNumber(K)||!isNaN(parseFloat(K))&&isFinite(K))&&(K=e.jqx.dataFormat.formatnumber(K,F.cellsFormat,t.gridlocalization))),""!=F.cellclassname&&F.cellclassname)if("string"==typeof F.cellclassname)a+=" "+F.cellclassname;else{var Z=F.cellclassname(q,F.datafield,t._getcellvalue(F,L.row),L.row,K);Z&&(a+=" "+Z)}if(""!=F.cellsRenderer&&F.cellsRenderer){var ee=F.cellsRenderer(B,F.datafield,t._getcellvalue(F,L.row),L.row,K);void 0!==ee&&(K=ee)}if(L.aggregate&&F.aggregates){var te=O.siblings.slice(0,O.siblings.length-1),ie=t._calculateaggregate(F,null,!0,te);if(O[F.displayfield]="",ie)if(F.aggregatesRenderer){if(ie){var ne=F.aggregatesRenderer(ie[F.datafield],F,null,t.getcolumnaggregateddata(F.datafield,F.aggregates,!1,te),"subAggregates");K=ne,O[F.displayfield]+=name+":"+ie[F.datafield]+"\n"}}else K="",O[F.displayfield]="",e.each(ie,function(){for(var e in this){var i=e,n='<div style="position: relative; margin: 0px; overflow: hidden;">'+(i=t._getaggregatename(i))+":"+this[e]+"</div>";K+=n,O[F.displayfield]+=i+":"+this[e]+"\n"}});else K=""}if(1===z&&!t.rtl||F==T&&t.rtl||N>0&&O[n.level]<N){for(var re="",ae=t.toThemeProperty("jqx-tree-grid-indent"),se=L.leaf?1:0,oe=0;oe<O[n.level]+se;oe++)re+="<span class='"+ae+"'></span>";var le="<span class='"+Y+"'></span>",de="",he="";if(this.checkboxes&&!O.aggregate){var ce=t.toThemeProperty("jqx-tree-grid-checkbox")+" "+ae+" "+t.toThemeProperty("jqx-checkbox-default")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-rc-all"),ue=!0;if(e.isFunction(this.checkboxes)&&null==(ue=this.checkboxes(B,O))&&(ue=!1),ue)if(L){var pe=L.checked;0==this.hierarchicalCheckboxes&&null===pe&&(pe=!1),de+=pe?"<span class='"+ce+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===pe?"<span class='"+ce+"'></span>":"<span class='"+ce+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else de+="<span class='"+ce+"'></span>"}if(this.icons&&!O.aggregate){var me=t.toThemeProperty("jqx-tree-grid-icon")+" "+ae;if(t.rtl)me=t.toThemeProperty("jqx-tree-grid-icon")+" "+t.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+ae;var fe=t.toThemeProperty("jqx-tree-grid-icon-size")+" "+ae,ge=L.icon;e.isFunction(this.icons)&&(L.icon=this.icons(B,O),L.icon&&(ge=!0)),ge&&(L.icon?he+="<span class='"+me+"'><img class='"+fe+"' src='"+L.icon+"'/></span>":he+="<span class='"+me+"'></span>")}var ve=t.autoRowHeight&&1===z&&F.autoCellHeight?" "+t.toTP("jqx-grid-cell-wrap"):"",be=re+le+de+he+"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+K+"</span>";K=t.rtl?"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+K+"</span>"+he+de+le+re:be}if(N>0&&o&&y>=N&&O[n.level]<N&&(_+="padding-left: 5px; border-left-width: 0px;",X+="padding-left: 5px; border-left-width: 0px;",K="<span style='visibility: hidden;'>-</span>"),_+='" class="'+a+'">',_+=K,_+="</td>",X+='" class="'+a+'">',X+=K,X+="</td>",F.pinned?(R+=_,D+=_):(D+=_,E&&(R+=X)),N>0&&!o&&O[n.level]<N&&!O.aggregate)break}if(0==r&&(t.table[0].style.width=V+2+"px",r=V),C+=D+="</tr>",S+=R+="</tr>",t.rowDetails&&!O.aggregate&&this.rowDetailsRenderer){var ye='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+A+"px; width:"+A+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+t.columns.records.length+'" role="gridcell"';a=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");a+=" "+t.toTP("jqx-details"),a+=" "+t.toTP("jqx-reset");var _e=this.rowDetailsRenderer(B,O);_e&&(C+=ye+='" class="'+a+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+_e+"</div></div></td></tr>",S+=ye)}}if(C+="</table>",S+="</table>",E){t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(S+C)}):t.table[0].innerHTML=S+C;var we=t.table.find("#table"+t.element.id),xe=t.table.find("#pinnedtable"+t.element.id);xe.css("float","left"),xe.css("pointer-events","none"),we.css("float","left"),xe[0].style.position="absolute",we[0].style.position="relative",we[0].style.zIndex=g-10,xe[0].style.zIndex=g+10,t._table=we,t._table[0].style.left="0px",t._pinnedTable=xe,o&&(xe[0].style.left="0px"),t._table[0].style.width=r+"px",t._pinnedTable[0].style.width=r+"px",t.rtl&&t._haspinned&&(t._pinnedTable[0].style.left=3-r+parseInt(t.element.style.width)+"px")}else{t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(C)}):t.table[0].innerHTML=C;$=t.table.find("#table"+t.element.id);t._table=$,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=r+"px"),0===f&&(t._table[0].style.width=2+r+"px")}0===f&&(t._table[0].style.tableLayout="auto",t._pinnedTable&&(t._pinnedTable[0].style.tableLayout="auto")),t.showAggregates&&t._updatecolumnsaggregates(),t._loading&&0==f&&(t._arrange(),this._showLoadElement()),t.rendered&&t.rendered()}},propertyChangedHandler:function(t,i,n,r){if(null!=t.isInitialized&&0!=t.isInitialized){var a=t.base;if("pageSizeMode"==i||"hierarchicalCheckboxes"==i)t._renderrows();else if("filterable"==i)a._render();else if("height"===i)a.host.height(t.height),a.host.width(t.width),a._updatesize(!1,!0);else if("width"===i)a.host.height(t.height),a.host.width(t.width),a._updatesize(!0,!1);else if("source"===i)a.updateBoundData();else if("columns"===i||"columnGroups"===i)a._columns=null,a._render();else if("rtl"===i)a.content.css("left",""),t.columns=t._columns,a.vScrollBar.jqxScrollBar({rtl:r}),a.hScrollBar.jqxScrollBar({rtl:r}),a._render();else if("pagerMode"===i)t.pagerMode=r,a._initpager();else if("pageSizeOptions"==i){a._initpager();for(var s=!1,o=0;o<r.length;o++)if(parseInt(r[o])==t.pageSize){s=!0;break}s||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var l=a.dataview.pagenum*a.dataview.pagesize;a.dataview.pagesize=a.pageSize;var d=Math.floor(l/a.dataview.pagesize);if(d!==a.dataview.pagenum||parseInt(r)!==parseInt(n))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:n,pageSize:a.dataview.pagesize}),t.goToPage(d)||a.refresh()}else if("pagerPosition"===i)a.refresh();else if("selectionMode"===i)a.selectionMode=r.toLowerCase();else if("touchmode"==i)a.touchDevice=null,a._removeHandlers(),a.touchDevice=null,a.vScrollBar.jqxScrollBar({touchMode:r}),a.hScrollBar.jqxScrollBar({touchMode:r}),a._updateTouchScrolling(),a._arrange(),a._updatecolumnwidths(),a._renderrows(),a._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?a.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):a.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),a.pageable&&(a.pagernexttop&&(a.pagernexttop.jqxButton({disabled:r}),a.pagerprevioustop.jqxButton({disabled:r}),a.pagernextbottom.jqxButton({disabled:r}),a.pagerpreviousbottom.jqxButton({disabled:r}),a.pagerfirsttop.jqxButton({disabled:r}),a.pagerfirstbottom.jqxButton({disabled:r}),a.pagerlasttop.jqxButton({disabled:r}),a.pagerlastbottom.jqxButton({disabled:r}),a.pagershowrowscombotop.jqxDropDownList&&"advanced"==a.pagerMode&&(a.pagershowrowscombotop.jqxDropDownList({disabled:!1}),a.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),a.base.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),a.base.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),a.base.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)a._render();else if("theme"==i){if(e.jqx.utilities.setTheme(n,r,a.base.host),a.vScrollBar.jqxScrollBar({theme:a.theme}),a.hScrollBar.jqxScrollBar({theme:a.theme}),a.pageable&&a.pagernexttop&&(a.pagernexttop.jqxButton({theme:a.theme}),a.pagerprevioustop.jqxButton({theme:a.theme}),a.pagernextbottom.jqxButton({theme:a.theme}),a.pagerpreviousbottom.jqxButton({theme:a.theme}),a.pagerfirsttop.jqxButton({theme:a.theme}),a.pagerfirstbottom.jqxButton({theme:a.theme}),a.pagerlasttop.jqxButton({theme:a.theme}),a.pagerlastbottom.jqxButton({theme:a.theme}),a.pagershowrowscombotop.jqxDropDownList&&"advanced"==a.pagerMode&&(a.pagershowrowscombotop.jqxDropDownList({theme:a.theme}),a.pagershowrowscombobottom.jqxDropDownList({theme:a.theme}))),a.filterable){var h=e(".filterconditions");h.length>0&&h.jqxDropDownList({theme:a.theme}),a.filtercolumnsList&&a.filtercolumnsList.jqxDropDownList({theme:a.theme})}a.refresh()}else a.refresh()}}},checkRow:function(e,t,i){var n=this.base,r=n._names();if(!n._loading){var a=n.rowinfo[e];if(a)a.checked=!0,a.row[r.checked]=!0,a.originalRecord&&(a.originalRecord[r.checked]=!0),null==i&&this.hierarchicalCheckboxes&&this.checkRows(a.row,a.row),!1!==t&&n._renderrows(),n._raiseEvent("rowCheck",{key:e,row:a.row});else{var s=this.getRow(e);s&&(n.rowinfo[e]={row:s,checked:!0},n.rowinfo[e].row[r.checked]=!0,s.originalRecord&&(n.rowinfo[e].originalRecord=s.originalRecord),n._raiseEvent("rowCheck",{key:e,row:s}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s,s),!1!==t&&n._renderrows())}}},checkRows:function(t,i){var n=this.base,r=this,a=n._names(),s=function(e){var t=new Array,i=function(e){for(var n=0;n<e.length;n++)t.push(e[n]),e[n]&&e[n].records&&i(e[n].records)};return e.records&&i(e.records),t};if(null!=t){var o=0,l=0,d=function(e){for(var t=0;t<e.length;t++)if(e[t]){var i=e[t][a.checked];void 0===i&&(i=!1),0!=i&&(null==e[t][a.checked]&&!0,e[t].records&&d(e[t].records),o++),l++}};if(t.records&&d(t.records),t!=i)o==l?this.checkRow(t.uid,!1,"tree"):o>0?this.indeterminateRow(t.uid,!1,"tree"):this.uncheckRow(t.uid,!1,"tree");else{var h=i[a.checked],c=s(i);e.each(c,function(){!0===h?r.checkRow(this.uid,!1,"tree"):!1===h?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}var u=t[a.parent]?t[a.parent]:null;this.checkRows(u,i)}else{h=i[a.checked],c=s(i);e.each(c,function(){!0===h?r.checkRow(this.uid,!1,"tree"):!1===h?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(e,t,i){var n=this.base,r=n._names();if(!n._loading){var a=n.rowinfo[e];if(a)a.checked=null,a.row[r.checked]=null,a.originalRecord&&(a.originalRecord[r.checked]=null),null==i&&this.hierarchicalCheckboxes&&this.checkRows(a.row,a.row),!1!==t&&n._renderrows();else{var s=this.getRow(e);s&&(n.rowinfo[e]={row:s,checked:null},n.rowinfo[e].row[r.checked]=null,s.originalRecord&&(n.rowinfo[e].originalRecord=s.originalRecord),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s,s),!1!==t&&n._renderrows())}}},uncheckRow:function(e,t,i){var n=this.base,r=n._names();if(!n._loading){var a=n.rowinfo[e];if(a)a.checked=!1,a.row[r.checked]=!1,a.originalRecord&&(a.originalRecord[r.checked]=!1),null==i&&this.hierarchicalCheckboxes&&this.checkRows(a.row,a.row),!1!==t&&n._renderrows(),n._raiseEvent("rowUncheck",{key:e,row:a.row});else{var s=this.getRow(e);s&&(n.rowinfo[e]={row:s,checked:!1},n.rowinfo[e].row[r.checked]=!1,s.originalRecord&&(n.rowinfo[e].originalRecord=s.originalRecord),n._raiseEvent("rowUncheck",{key:e,row:s}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(s,s),!1!==t&&n._renderrows())}}},expandRows:function(t){var i=this;if(t)if(i.virtualModeCreateRecords)e.each(t,function(){var e=this;i.base._loading=!1,i.expandRow(e.uid,function(){i.base._loading=!1,i.expandRows(e.records)})});else for(var n=0;n<t.length;n++){var r=t[n];i.expandRow(r.uid),i.expandRows(r.records)}},collapseRows:function(e){if(e)for(var t=0;t<e.length;t++)this.collapseRow(e[t].uid),this.collapseRows(e[t].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,t){var i=this.base;if(!i._loading){var n=i._names(),r=this,a=i.rowinfo[e];if(!a){var s=this.getRow(e);s&&(i.rowinfo[e]={row:s},s.originalRecord&&(i.rowinfo[e].originalRecord=s.originalRecord),a=i.rowinfo[e])}if(a){if(a.expanded)return void(a.row[n.expanded]=!0);if(a.expanded=!0,a.row[n.expanded]=!0,a.originalRecord&&(a.originalRecord[n.expanded]=!0),this.virtualModeCreateRecords&&!a.row._loadedOnDemand){if(!a.row[n.leaf])return i._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(a.row,function(e){if(a.row._loadedOnDemand=!0,!1===e)return i._loading=!1,r._hideLoadElement(),a.leaf=!0,a.row[n.leaf]=!0,i._renderrows(),void(t&&t());for(var s=0;s<e.length;s++){if(e[s][n.level]=a.row[n.level]+1,e[s][n.parent]=a.row,i.rowsByKey[e[s].uid])throw i._loading=!1,r._hideLoadElement(),a.leaf=!0,a.row[n.leaf]=!0,i._renderrows(),t&&t(),new Error("Please, check whether you Add Records with unique ID/Key. ");i.rowsByKey[e[s].uid]=e[s],r.virtualModeRecordCreating(e[s])}a.row.records?a.row.records=a.row.records.concat(e):a.row.records=e,(!e||e&&0==e.length)&&(a.leaf=!0,a.row[n.leaf]=!0),a.originalRecord&&(a.originalRecord.records=e,a.originalRecord[n.expanded]=!0,0==e.length&&(a.originalRecord[n.leaf]=!0)),i._loading=!1,r._hideLoadElement();var o=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var l=o!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),t&&t()})}if(!i.updating()){var o=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var l=o!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),i._raiseEvent("rowExpand",{row:a.row,key:e})}}}},collapseRow:function(e){var t=this.base,i=t._names();if(!t._loading){var n=t.rowinfo[e];if(!n){var r=this.getRow(e);r&&(t.rowinfo[e]={row:r},r.originalRecord&&(t.rowinfo[e].originalRecord=r.originalRecord),n=t.rowinfo[e])}if(n){if(!n.expanded)return void(n.row[i.expanded]=!1);if(n.expanded=!1,n.row[i.expanded]=!1,n.originalRecord&&(n.originalRecord[i.expanded]=!1),!t.updating()){var a=t.vScrollBar.css("visibility");t._renderrows(),t._updateScrollbars();var s=a!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||s)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowCollapse",{row:n.row,key:e})}}}}})}(jqxBaseFramework);var Rt=Object.freeze({});!function(){let e;-1!==window.navigator.userAgent.toLowerCase().indexOf("msie")&&null!==(e=document.getElementById("ni-outdated-browser-message"))&&(e.style.display="block")}();var Vt=Object.freeze({});const Ht=function(e,...t){return{stringParts:e,substitutionIndexes:t}},Lt={msg_linewidth:Ht`Line Width`,msg_noline:Ht`No Line`,msg_1pixel:Ht`1 pixel`,msg_2pixels:Ht`2 pixels`,msg_3pixels:Ht`3 pixels`,msg_4pixels:Ht`4 pixels`,msg_5pixels:Ht`5 pixels`,msg_plotstyle:Ht`Plot Style`,msg_line:Ht`Line`,msg_point:Ht`Point`,msg_lineandpoint:Ht`Line & Point`,msg_bar:Ht`Bar`,msg_fill:Ht`Fill`,msg_pointstyle:Ht`Point Style`,msg_ellipse:Ht`Ellipse`,msg_rectangle:Ht`Rectangle`,msg_diamond:Ht`Diamond`,msg_plus:Ht`Plus`,msg_cross:Ht`Cross`,msg_linestyle:Ht`Line Style`,msg_nostyle:Ht`No style`,msg_solid:Ht`Solid`,msg_dot:Ht`Dot`,msg_dashdot:Ht`Dash-dot`,msg_mediumdash:Ht`Medium dash`,msg_largedash:Ht`Large dash`,msg_fillbaseline:Ht`Fill Baseline`,msg_nobaseline:Ht`No baseline`,msg_zero:Ht`Zero`,msg_inf:Ht`Inf`,msg_neginf:Ht`-Inf`,msg_color:Ht`Color`,msg_crosshairstyle:Ht`Crosshair Style`,msg_both:Ht`Both`,msg_hover:Ht`Show value on hover`,msg_vertical:Ht`Vertical`,msg_horizontal:Ht`Horizontal`,msg_defaultcursorname:Ht`Cursor`,msg_defaultplotname:Ht`Plot`,msg_datagrid_addrowsbuttonlabel:Ht`Add`,msg_datagrid_addrowslabel:Ht`new rows`,msg_INDEX_OUT_OF_RANGE:Ht`Index(${0}) out of range(0..${1}).`,msg_FRONT_PANEL_CONTROL_MISTMATCH:Ht`Front panel control(${0}) with type(${1}) in HTML VI does not match the required type(%${3}).`,msg_FRONT_PANEL_CONTROL_NOT_FOUND:Ht`Unable to find front panel control(${0}) in HTML VI.`,msg_UNABLE_TO_ADD_FRONT_PANEL_CONTROL_AS_ID_ALREADY_EXISTS:Ht`Unable to add front panel control with id ${0} as a control with this id already exists.`,msg_UNABLE_TO_ADD_FRONT_PANEL_CONTROL_TO_VI_MODEL_UNKNOWN_TYPE:Ht`Unable to add front panel control(${0}) to HTML VI. The type(${1}) was not recognized by the framework.`,msg_UNABLE_TO_PROCESS_UPDATE_MESSAGE_UNKNOWN_TYPE:Ht`Unable to process update message for HTML VI. Message type(${0}), is not recognized by the framework.`,msg_UNKNOWN_NAME:Ht`Unknown`,msg_INVALID_VI_MODEL:Ht`The object is not a valid NI Model.`,msg_INVALID_ELEMENT:Ht`The object is not a valid Html Custom Element.`,msg_INVALID_UPDATE_MESSAGE:Ht`The object is not a valid update message.`,msg_INVALID_UPDATE_MESSAGE_STREAM:Ht`The object is not a valid update message stream.`,msg_INVALID_VI_MODEL_SERVICE:Ht`The object is not a valid HTML VI service.`,msg_UNABLE_TO_DISPATCH_MESSAGES_INVALID_MESSAGE_STREAM:Ht`Unable to dispatch messages to HTML VIs. ${0}.`,msg_UNABLE_TO_DISPATCH_MESSAGES_INVALID_UPDATE_MESSAGE:Ht`Unable to dispatch update message to HTML VI(${0}). ${1}.`,msg_UNABLE_TO_SEND_MESSAGES_TO_LISTENERS_INVALID_MESSAGE_STREAM:Ht`Unable to send messages to listeners from HTML VI. ${0}.`,msg_UNABLE_TO_SEND_MESSAGES_TO_LISTENERS_INVALID_UPDATE_MESSAGE:Ht`Unable to send message to listeners from HTML VI(${0}). ${1}.`,msg_UNABLE_TO_CREATE_CONTROL:Ht`Unable to create front panel control(${0}) with type (${1}). Verify that is supported by the framework.`,msg_UNKNOWN_TYPE:Ht`Unknown type(${0}) was found.`,msg_NO_PARAMETERS_SPECIFIED:Ht`No parameters were specified for the call to function ${0}. The function requires inputs to run.`,msg_PARAMETER_NOT_DOM_ELEMENT:Ht`The provided DOM element is either undefined or not a DOM Node. The following value was provided: ${0}.`,msg_PARAMETER_NOT_STRING:Ht`The provided string was either undefined or not a string. The following string was provided: ${0}.`,msg_REQUIRES_AT_LEAST_ONE_PARAMETER:Ht`At least one of the following parameters must be defined: ${0}. The following values were provided: ${1}.`,msg_UNEXPECTED_BEHAVIOR:Ht`The following unexpected or unintended behavior occurred: ${0}.`,msg_UNKNOWN_ID:Ht`The id: ${0}  was provided but could not be found. Please perform the following to prevent this behavior: ${1}.`,msg_PROTOCOL_VERSION_ERROR:Ht`Client and server have different protocol versions.`,msg_CONNECTION_LOST:Ht`Connection lost.`,msg_CONNECTING:Ht`Connecting...`,msg_VI_STOPPED:Ht`VI is stopped.`,msg_VI_PAUSED:Ht`VI is paused.`,msg_VI_ERROR:Ht`VI reported an error.`,msg_RENDERBUFFER_EXPECTS_STRING:Ht`The control RenderBuffer update for ${0} was provided a ${1} instead of a string.`,msg_ALREADY_DEFINED:Ht`${0} has already been defined for ${1}.`,msg_INVALID_FORMAT:Ht`The format of ${0} is invalid. A valid format is as follows: ${1}.`,msg_UNEXPECTED_TYPE:Ht`The type of ${0} is unexpected. A valid type is as follows: ${1}.`,msg_UNEXPECTED_VALUE:Ht`The value (${0}) is unexpected. A valid value is as follows: ${1}.`,msg_SET_TO_NOT_A_PATH:Ht`Set to Not A Path.`,msg_PATH_CONTROL_PLACEHOLDER:Ht`Enter a Path.`,msg_INVALID_OBJECT_REFERENCE:Ht`Object reference is invalid.`,msg_PROPERTY_DOES_NOT_EXIST:Ht`The property ${0} does not exist for control ${1}.`,msg_PROPERTY_CANNOT_BE_SET:Ht`Property ${0} cannot be set on this control.`,msg_PROPERTY_CANNOT_BE_GET:Ht`Cannot get property ${0} for this control.`,msg_PROPERTY_NOT_SUPPORTED:Ht`Property ${0} not supported for this control.`,msg_EMPTY_DISPLAY_VALUE:Ht`Display values must not be empty.`,msg_EMPTY_DISPLAY_VALUE_AND_VALUE:Ht`Both display names and values must not be empty.`,msg_DUPLICATE_DISPLAY_NAME:Ht`Duplicate display names are not allowed.`,msg_DUPLICATE_DISPLAY_VALUE:Ht`Duplicate values are not allowed.`,msg_REFERENCE_PROPERTY_NOT_AVAILABLE:Ht`${0} not available for this control.`,msg_PROPERTY_NOT_SUPPORTED_IN_FLEX:Ht`${0} cannot be used for controls contained in a flex container.`,msg_PROPERTY_OUT_OF_RANGE:Ht`Property ${0} should be in the range [0..${1}].`,msg_PROPERTY_CURSOR_SET_INDEX_OUT_OF_BOUNDS:Ht`Active cursor index set to (${0}) is out of bounds (0..${1}).`,msg_PROPERTY_CURSOR_GET_INDEX_OUT_OF_BOUNDS:Ht`Active cursor index get (${0}) is out of bounds (0..${1}).`,msg_PROPERTY_PLOT_SET_INDEX_OUT_OF_BOUNDS:Ht`Active plot index set to (${0}) is out of bounds (0..${1}).`,msg_PROPERTY_PLOT_GET_INDEX_OUT_OF_BOUNDS:Ht`Active plot index (${0}) is out of bounds (0..${1}).`,msg_TREE_RECORD_DNE:Ht`A record matching the criteria specified does not exist within the tree.`,msg_MIN_MUST_BE_LESS_THAN_MAX:Ht`Minimum value (${0}) must be less than the maximum value (${1}).`,msg_CONSOLE_LOG_ERROR:Ht`An unhandled error occurred on the LabVIEW diagram with code ${0} at ${1}`,msg_REACHED_MAX_CONSOLE_LOG_ERRORS:Ht`There have been at least ${0} LabVIEW unhandled errors. Further errors will not be logged.`,msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED:Ht`Cannot get the property ${0} value when the control is configured with a gradient color.`,msg_UNPLACED_DATA_ITEM_ON_BLOCK_DIAGRAM:Ht`Cannot reinitialize the control value to its default value. Please drop the corresponding control terminal from unplaced items onto block diagram.`,msg_COLOR_PICKER_MORE_COLORS:Ht`More colors`,msg_COLOR_PICKER_MORE_COLORS_CANCEl:Ht`Cancel`},zt=Symbol("NIElementSymbol");class Ft{static get NIElementSymbol(){return zt}static isNIElement(e){return"object"==typeof e&&null!==e&&!0===e[zt]}}const Ut="ni-template-id";class $t{static isJQXElement(e){return void 0!==e.niControlId&&!Ft.isNIElement(e)}static isElement(e){return void 0!==e.niControlId||Ft.isNIElement(e)}static defineConstReference(e,t,i){Object.defineProperty(e,t,{configurable:!1,enumerable:!1,writable:!1,value:i})}static setValuePropertyDescriptor(e,t,i,n,r){if(e.hasOwnProperty("valuePropertyDescriptor"))throw new Error("valuePropertyDescriptor has already been set");$t.defineConstReference(e,"valuePropertyDescriptor",Object.freeze({attributeName:t,propertyName:i,propertyNameNonSignaling:n,eventName:r}))}static uniqueId(){return"_"+Math.random().toString(36).substr(2,9)}static jqxDateTimeToAttributeString(e){return"DateTime('"+e.toTimeZone("UTC").toString("yyyy-MM-dd HH:mm:ss.fff")+"', 'UTC')"}static cloneControlElement(e){const t=e.cloneNode(!1);switch(e.tagName){case"JQX-CHECK-BOX":t.content=Xt(e.content);break;case"JQX-SWITCH-BUTTON":case"JQX-LED":t.trueContent=Xt(e.trueContent),t.falseContent=Xt(e.falseContent);break;case"JQX-TOGGLE-BUTTON":{const i=e.content instanceof HTMLElement?e.content.innerHTML:e.content;t.content=Xt(i);break}case"JQX-LIST-BOX":Array.isArray(e.dataSource)&&(t.dataSource=JSON.parse(JSON.stringify(e.dataSource)),Array.isArray(e.selectedIndexes)&&(t.selectedIndexes=JSON.parse(JSON.stringify(e.selectedIndexes))));break;case"JQX-DATE-TIME-PICKER":t.setAttribute("min",$t.jqxDateTimeToAttributeString(e.min)),t.setAttribute("max",$t.jqxDateTimeToAttributeString(e.max)),t.setAttribute("value",$t.jqxDateTimeToAttributeString(e.value))}return t}static setTemplateId(e,t){e.setAttribute(Ut,t)}static getTemplateId(e){if(e.hasAttribute(Ut))return e.getAttribute(Ut)}static queryAllControlsByNIControlId(e,t){const i='[vi-ref][ni-control-id="'+t+'"]',n=document.querySelectorAll(i);return Array.prototype.slice.call(n).filter(function(t){return t.getAttribute("vi-ref")===e})}static queryControlByNIControlId(e,t){const i=$t.queryAllControlsByNIControlId(e,t);return 0===i.length?null:i[0]}static queryVirtualInstrumentsByVIRef(e){const t=document.querySelectorAll("ni-virtual-instrument[vi-ref]");return Array.prototype.slice.call(t).filter(function(t){return t.viRef===e})}static inheritFromParent(e,t){if(Object.keys(e.prototype).length>0)throw new Error("Properties added to the constructor function prototype object are lost during function invocation. Add after function invocation");try{e.prototype=Object.create(t.prototype),e.prototype.constructor=e}catch(e){$t.info(e.message)}return e.prototype}}$t.defineConstReference($t,"SYNCHRONIZE_RENDER_BUFFER",!1);const Wt=function(){};$t.log=console.log.bind(console),$t.error=console.error.bind(console),$t.warn=console.warn.bind(console),$t.debug=console.debug.bind(console),$t.info=console.info.bind(console),$t.group=console.group.bind(console),$t.groupEnd=console.groupEnd.bind(console),$t.defineConstReference($t,"VERBOSE",window.location.hash.indexOf("webviverboselogging")>=0),$t.defineConstReference($t,"VERBOSE_INFO",window.location.hash.indexOf("webviverboselogginginfo")>=0);const Gt=function(e){return function(...t){t[0]="NISUPPORT_VERBOSE_LOG: "+t[0],e.apply(null,t)}};$t.logVerbose=$t.VERBOSE?Gt($t.log):Wt,$t.errorVerbose=$t.VERBOSE?Gt($t.error):Wt,$t.debugVerbose=$t.VERBOSE?Gt($t.debug):Wt,$t.infoVerbose=$t.VERBOSE&&$t.VERBOSE_INFO?Gt($t.info):Wt,$t.groupVerbose=$t.VERBOSE?console.group.bind(console):Wt,$t.groupEndVerbose=$t.VERBOSE?console.groupEnd.bind(console):Wt;const Xt=function(e){if(e instanceof window.HTMLElement)return e.cloneNode(!0);if("string"==typeof e)return e;throw new Error("Unexpected boolean content type")};!function(){const e=document.createElement("div");$t.escapeHtml=function(t){return e.textContent=t,e.innerHTML}}(),function(){const e=document.createElement("textarea");$t.unescapeHtml=function(t){return e.innerHTML=t,e.value}}();Object.freeze({NONE:0,CLICK:1,VALUE_CHANGE:2,RIGHT_CLICK:3,BUTTON_CLICK:4});const Yt=function(){let e=[],t=!1;const i=function(){let n;if(!1===t){for($t.debugVerbose("Running callbacks for event NI Element Event"),n=0;n<e.length;n+=1)e[n].call(void 0);e=[],t=!0}document.removeEventListener("DOMContentLoaded",i)};return{notifyElementsRegistered:function(){"loading"!==document.readyState?setTimeout(function(){i()},0):document.addEventListener("DOMContentLoaded",i)},addCallback:function(i){!0===t?setTimeout(function(){i()},0):e.push(i)}}}(),Jt=function(e,t){let i;if("object"==typeof e){if("object"!=typeof t||null===t)return!1;for(i in e)if(e.hasOwnProperty(i)&&!1===Object.is(e[i],t[i])&&void 0!==t[i])return!1;return!0}return Object.is(e,t)},Qt=function(e,t,i){let n,r,a,s,o,l;if(1===t.length){if("boolean"===t[0].type)return""===i||i===e||"true"===i;if("number"===t[0].type)return null==i?void 0:parseFloat(i);if("string"===t[0].type)return null==i?void 0:i}else if(t.length>1){try{n=JSON.parse(i)}catch(e){return}if("object"!=typeof n||null===n)return;for(r={},a=0;a<t.length;a+=1)if(o=t[a].propertyName,(s=t[a].type)===(l=typeof n[o]))r[o]=n[o];else if("number"!==s||"string"!==l&&null!==n[o]){if(void 0!==n[o]&&null!==n[o])return;r[o]=void 0}else r[o]=parseFloat(n[o]);return r}},Kt=function(e,t,i){let n,r,a,s,o;if(1===e.length){if(typeof i===e[0].type)return i;throw new Error($t.i18n("msg_UNEXPECTED_VALUE",e[0].propertyName,e[0].type))}if("object"!=typeof i||null===i)throw new Error($t.i18n("msg_UNEXPECTED_VALUE",i,"object"));for(n={},r=0;r<e.length;r+=1){if(a=e[r].propertyName,s=e[r].type,void 0===(o=i[a]))o=t[a];else if(typeof o!==s)throw new Error($t.i18n("msg_UNEXPECTED_VALUE",a,s));n[a]=o}return n},Zt=function(e,t,i){return 1===t.length&&"boolean"===t[0].type&&""!==i&&null!==i},ei=function(e,t,i){const n=e.getAttribute(t);return Qt(t,i,n)},ti=function(e,t,i,n){const r=function(e){const t=typeof e;if("boolean"===t)return e?"":void 0;if("number"===t)return Object.is(e,-0)?"-0":e.toString();if("string"===t)return e;if("object"===t)return JSON.stringify(e,function(e,t){if("number"==typeof t){if(!1===isFinite(t))return t.toString();if(Object.is(t,-0))return"-0"}return t});throw new Error($t.i18n("msg_UNKNOWN_TYPE",t))}(n);void 0===r?e.removeAttribute(t):e.setAttribute(t,r)},ii=function(){const e={};return{addAttributeConfig:function(t,i,n){void 0===e[t]&&(e[t]={}),e[t][i]=n},getAttributeConfig:function(t,i){return void 0===e[t]||void 0===e[t][i]?void 0:e[t][i]},getAttributeList:function(t){return e[t]}}}();class ni extends HTMLElement{static _finalizeObservedAttributes(e){let t,i,n;void 0!==e.prototype.elementInfo&&(n=void 0===(i=ii.getAttributeList(e.prototype.elementInfo.tagName))?{}:i,t=Object.freeze(Object.keys(n)),$t.defineConstReference(e,"observedAttributes",t))}static notifyElementsRegistered(){Yt.notifyElementsRegistered()}static addNIEventListener(e,t){if("attached"!==e)throw new Error("The following event is not an event supported by ni-element: "+e);if("function"!=typeof t)throw new Error("A valid callback was not provided for ni-element to trigger for the NI Event Listener");Yt.addCallback(t)}addAllProperties(e){}constructor(){super(),this.createdCallback()}get[Ft.NIElementSymbol](){return!0}createdCallback(){let e,t,i;if($t.defineConstReference(this,"niElementInstanceId",$t.uniqueId()),void 0!==this._attachedCallbackFirstCall)throw new Error("Created Callback has been invoked multiple times for this element");this._attachedCallbackFirstCall=!0;const n=ii.getAttributeList(this.elementInfo.tagName);for(e in n)n.hasOwnProperty(e)&&(i=(t=n[e]).defaultValue,Object.defineProperty(this,t.privatePropertyName,{configurable:!1,enumerable:!1,writable:!0,value:i}))}connectedCallback(){if(!0===this._attachedCallbackFirstCall){let e,t,i,n;const r=ii.getAttributeList(this.elementInfo.tagName);for(e in r)r.hasOwnProperty(e)&&(t=r[e],n=ei(this,e,t.typeArray),i=this[t.privatePropertyName],void 0===n?ti(this,e,t.typeArray,i):!1===Jt(i,n)&&ti(this,e,t.typeArray,n))}this.attachedCallback()}attachedCallback(){return!0===this._attachedCallbackFirstCall&&(this._attachedCallbackFirstCall=!1,!0)}propertyUpdated(e){}attributeChangedCallback(e,t,i){let n;const r=ii.getAttributeConfig(this.elementInfo.tagName,e);if(void 0===r)return;if(t===i)return void $t.infoVerbose("ATTRIBUTE CHANGED CALLBACK FOR ATTRIBUTE "+e+" NEW VALUE ("+i+") EQUAL TO OLD VALUE ("+t+") SO RETURNING");const a=this.getAttribute(e);a!==i&&($t.info("ATTRIBUTE CHANGED CALLBACK FOR ATTRIBUTE "+e+" NEW VALUE ("+i+") NOT EQUAL TO CURRENT VALUE ("+a+") SO IGNORING NEW VALUE"),i=a);const s=Qt(e,r.typeArray,i);void 0!==s?Zt(e,r.typeArray,i)?ti(this,e,r.typeArray,s):this[r.propertyName]=s:void 0===(n=Qt(e,r.typeArray,t))?ti(this,e,r.typeArray,r.defaultValue):this.setAttribute(e,t)}disconnectedCallback(){this.detachedCallback()}detachedCallback(){}static defineElementInfo(e,t,i){if("string"!=typeof t)throw new Error("A valid string must be provided for the tag name");if("string"!=typeof i)throw new Error("A valid string must be provided for the tag prototype name");if(void 0!==e.elementInfo)throw new Error($t.i18n("msg_ALREADY_DEFINED","elementInfo",t));const n={};$t.defineConstReference(e,"elementInfo",n),$t.defineConstReference(n,"tagName",t),$t.defineConstReference(n,"prototypeName",i),e.addAllProperties(e),Object.seal(n)}addProperty(e,t){const i=(t="object"!=typeof t||null===t?{}:t).propertyName;let n=t.defaultValue;const r=typeof n,a=t.fireEvent||!1,s=t.addNonSignalingProperty||!1,o=t.preventAttributeSync||!1;let l;if("string"!=typeof i||!1===/^[a-z][a-zA-Z]*$/.test(i))throw new Error($t.i18n("msg_INVALID_FORMAT",i,"ascii alpha camelCase string"));if("string"!==r&&"number"!==r&&"boolean"!==r&&"object"!==r)throw new Error($t.i18n("msg_UNKNOWN_TYPE",r));if("boolean"!=typeof a)throw new Error($t.i18n("msg_UNKNOWN_TYPE",typeof a));if("boolean"!=typeof s)throw new Error($t.i18n("msg_UNKNOWN_TYPE",typeof s));if("boolean"!=typeof o)throw new Error($t.i18n("msg_UNKNOWN_TYPE",typeof o));if("boolean"===r&&!1!==n)throw new Error($t.i18n("msg_UNEXPECTED_VALUE",n,"false"));const d=[];if("object"===r){if(null===n||Array.isArray(n))throw new Error($t.i18n("msg_UNEXPECTED_VALUE",n,"non-null and non-array"));!function(){const e={};let t,i;for(t in n)if(n.hasOwnProperty(t)){if(e[t]=n[t],"boolean"!==(i=typeof e[t])&&"string"!==i&&"number"!==i)throw new Error($t.i18n("msg_UNEXPECTED_VALUE",i,"string, boolean, number"));d.push(Object.freeze({propertyName:t,type:i}))}if(d.length<2)throw new Error($t.i18n("msg_UNEXPECTED_VALUE",d.length,"> 2 properties required"));n=Object.freeze(e)}()}else d.push(Object.freeze({propertyName:i,type:r}));Object.freeze(d);const h=i.split(/(?=[A-Z])/).join("-").toLowerCase(),c=h+"-changed",u="_"+i,p=i+"NonSignaling";if(void 0!==e[i])throw new Error($t.i18n("msg_ALREADY_DEFINED",e[i],i));if(void 0!==e[u])throw new Error($t.i18n("msg_ALREADY_DEFINED",e[u],i));if(void 0!==e[p])throw new Error($t.i18n("msg_ALREADY_DEFINED",e[p],i));ii.addAttributeConfig(e.elementInfo.tagName,h,Object.freeze({defaultValue:n,typeArray:d,privatePropertyName:u,propertyName:i}));const m=function(e){const t=function(t){let n;Jt(this[u],t)||(t=Kt(d,this[u],t),this[u]=t,!1===o&&ti(this,h,d,this[u]),!1===this._attachedCallbackFirstCall&&this.propertyUpdated(i),!1===e&&!0===a&&((n={})[i]=t,this.dispatchEvent(new CustomEvent(c,{bubbles:!0,cancelable:!1,detail:n}))))};try{Object.defineProperty(t,"name",{value:"updatePropertyAction_"+i})}catch(e){}return t};l="object"===r?function(){return Object.freeze(Kt(d,this[u],{}))}:function(){return this[u]},Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:l,set:m(!1)}),!0===a&&!0===s&&Object.defineProperty(e,p,{configurable:!1,enumerable:!1,get:l,set:m(!0)})}}const ri=Object.freeze({WEBAPP:0,VI:1,CONTAINER:2,LEAF:3}),ai=[[]];class si{static registerElement(e,t){void 0===t&&(t=ri.LEAF),void 0===ai[t]&&(ai[t]=[]),ai[t].push(e)}static completeRegistration(){ai.forEach(e=>{e.forEach(e=>{ni._finalizeObservedAttributes(e),window.customElements.define(e.prototype.elementInfo.tagName,e)})}),ni.notifyElementsRegistered()}}class oi{constructor(e,t){this.remainingTasks=function(e,t){const i=Object.keys(e);let n;if("function"!=typeof t)throw new Error("Completion callback function must be provided");if(i.length<1)throw new Error("Must provide an object with at least one property to use as task names");for(n=0;n<i.length;n+=1)if(e[i[n]]!==i[n])throw new Error("Task name properties and values must be identical; the task names object must be an enum style object");return i}(e,t),this.taskNames=e,this.completionCallback=t}complete(e){let t;if(void 0===this.taskNames[e])throw new Error("Attempted to complete the following invalid task: "+e);if(0!==this.remainingTasks.length){for(t=0;t<this.remainingTasks.length;t+=1)if(this.remainingTasks[t]===e){this.remainingTasks.splice(t,1);break}0===this.remainingTasks.length&&this.completionCallback.call(void 0)}}}!function(){$t.i18n=void 0,$t.InternationalizationInitializer={},$t.InternationalizationInitializer.TaskTrackerEnum=Object.freeze({LANGUAGES_LOADED:"LANGUAGES_LOADED",ELEMENT_PROTOTYPES_READY:"ELEMENT_PROTOTYPES_READY",WINDOW_LOADED:"WINDOW_LOADED"}),$t.InternationalizationInitializer.TaskTracker=new oi($t.InternationalizationInitializer.TaskTrackerEnum,function(){si.completeRegistration(),NationalInstruments.JQXElement._registerElements()});const e=$t.InternationalizationInitializer.TaskTrackerEnum,t=$t.InternationalizationInitializer.TaskTracker;setTimeout(function(){$t.i18n=function(e,...t){return function(e,t){const i=Lt[e];if(void 0===i)return e;const n=i.substitutionIndexes.length;let r=i.stringParts[0];for(let e=0;e<n;e++)r+=t[i.substitutionIndexes[e]]+i.stringParts[e+1];return r}(e,t)},t.complete(e.LANGUAGES_LOADED)},0);const i=function(){$t.logVerbose("niSupport.i18n windowLoadedCallback()"),t.complete(e.WINDOW_LOADED)};$t.logVerbose("niSupport.i18n readyState="+document.readyState),"complete"===document.readyState?i():window.addEventListener("load",i)}();var li=Object.freeze({});window.NationalInstruments=window.NationalInstruments||{},window.NationalInstruments.HtmlVI={},window.NationalInstruments.HtmlVI.Elements={},window.NationalInstruments.JQXElement={},window.NationalInstruments.HtmlVI.NISupport=$t;var di=Object.freeze({});NationalInstruments.Globals={},NationalInstruments.Globals.jQuery=$.noConflict(!0);var hi,ci=Object.freeze({});!function(){NationalInstruments.HtmlVI.DataPipeline={},NationalInstruments.HtmlVI.DataPipeline.decimateAW=function(e,t,i,n){var r=(t-e.start)/e.step,a=(i-e.start)/e.step;return NationalInstruments.HtmlVI.DataPipeline.decimate1D(e,r,a,n)};var e=function(e,t,i,n){for(var r=-1/0,a=-1,s=1/0,o=-1,l=2*t;l<2*i;l+=2)e[l+1]<s&&(o=e[l],s=e[l+1]),e[l+1]>r&&(a=e[l],r=e[l+1]);-1!==a&&(a===o?(n.push(o),n.push(s)):a<o?(n.push(a),n.push(r),n.push(o),n.push(s)):(n.push(o),n.push(s),n.push(a),n.push(r)))};function t(e,t,i,n,r,a,s){var o=i+n*r;a[o]||(s.push(e[t]),s.push(e[t+1]),a[o]=!0)}NationalInstruments.HtmlVI.DataPipeline.decimate1DLog=function(t,i,n,r){var a=[],s=[],o=t.datapoints.points;!function(e,t,i,n,r){var a,s,o,l,d,h=e.datapoints.points.length/2,c=e.xaxis.options.transform,u=e.xaxis.options.inverseTransform;if(s=c(t),0==(a=((o=c(i))-s)/n)||0===h)return;const p=a>0?function(e,t){return e<t}:function(e,t){return e>t};for(var m=s;p(m,o+a);m+=a)l=u(m),(d=u(m+a))<=0||l>=h||(l<0&&(l=0),d>h&&(d=h),(l=Math.ceil(l))>(d=Math.floor(d))||(r.push(l),r.push(d)));!function(e,t,i,n){var r,a,s=n.length;0===s?(n.push(Math.floor(e)),n.push(Math.floor(e)+1)):2===s?(n[0]>0&&n[0]--,n[1]<i&&n[1]++):(r=n[0],a=n[s-1],r>0&&(n.unshift(r-1),n.unshift(r-1)),a<i&&(n.push(a+1),n.push(a+1)))}(t,0,h,r)}(t,i,n,r,a);for(var l=0;l<a.length;l+=2)e(o,a[l],a[l+1]+1,s);return s},NationalInstruments.HtmlVI.DataPipeline.decimate1D=function(e,t,i,n){var r,a=0,s=0,o=n/(i-t),l=e.datapoints.points,d=[],h=!0,c=-1/0,u=-1,p=1/0,m=-1;if(e.xaxis&&"log"===e.xaxis.options.mode)return NationalInstruments.HtmlVI.DataPipeline.decimate1DLog(e,t,i,n);var f,g,v,b=Math.min(Math.max(0,Math.floor(t)),l.length/2),y=i>0?Math.min(l.length/2,Math.floor(i+2)):0,_=function(){m===u?(d[s]=m,d[s+1]=p,s+=2):(m<u?(d[s]=m,d[s+1]=p,d[s+2]=u,d[s+3]=c):(d[s]=u,d[s+1]=c,d[s+2]=m,d[s+3]=p),s+=4)};for(n>y-b&&(o=1),r=2*b;r<2*y;r+=2){if(h&&(c=-1/0,u=-1,p=1/0,m=-1,h=!1),isNaN(l[r+1])){if(r>1&&isNaN(l[r-1])&&s>1)continue;m=u=l[r],p=c=l[r+1]}l[r+1]<p&&(m=l[r],p=l[r+1]),l[r+1]>c&&(u=l[r],c=l[r+1]),(Math.floor(a)!==Math.floor(a+o)||(void 0,void 0,g=(f=r+1)>2&&isNaN(l[f-2]),v=f<l.length-3&&isNaN(l[f+2]),g||v))&&(_(),h=!0),a+=o}return h||_(),d},NationalInstruments.HtmlVI.DataPipeline.decimatePoints=function(e,i,n,r,a,s,o){if(null==o||null==s||null==a||null==r||null==n||null==i)return e.datapoints.points;if(i>n||a>s)return[];if(e.xaxis&&"log"===e.xaxis.options.mode||e.yaxis&&"log"===e.yaxis.options.mode)return NationalInstruments.HtmlVI.DataPipeline.decimatePointsLog(e,i,n,r,a,s,o);var l,d,h=(n-i)/r,c=(s-a)/o,u=e.datapoints.points,p=[];for(l=new Array(Math.ceil(r)*Math.ceil(o)),d=0;d<u.length;d+=2)u[d]<i||u[d+1]<a||u[d]>n||u[d+1]>s||t(u,d,u[d]===i?0:Math.ceil((u[d]-i)/h-1),u[d+1]===a?0:Math.ceil((u[d+1]-a)/c-1),r,l,p);return p},NationalInstruments.HtmlVI.DataPipeline.decimatePointsLog=function(e,i,n,r,a,s,o){var l,d,h,c,u=e.datapoints.points,p=[],m=e.xaxis.options.transform||function(e){return e},f=e.yaxis.options.transform||function(e){return e},g=m(i),v=f(a),b=(m(n)-g)/r,y=(f(s)-v)/o;for(l=new Array(Math.ceil(r)*Math.ceil(o)),d=0;d<u.length;d+=2)u[d]<i||u[d+1]<a||u[d]>n||u[d+1]>s||(h=m(u[d]),c=f(u[d+1]),t(u,d,h===g?0:Math.ceil((h-g)/b-1),c===v?0:Math.ceil((c-v)/y-1),r,l,p));return p},NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY=function(e,t,n,r,a,s,o){if(null==o||null==s||null==a||null==r||null==n||null==t)return e.datapoints.points;if(t>n||a>s)return[];if(e.xaxis&&"log"===e.xaxis.options.mode||e.yaxis&&"log"===e.yaxis.options.mode)return e.datapoints.points;if(e.datapoints.points<=4)return e.datapoints.points;var l,d,h,c,u,p,m,f,g,v,b,y=(n-t)/r,_=(s-a)/o,w=e.datapoints.points,x=[];for((w[0]<t||w[0]<a||w[1]>n||w[1]>s)&&!i(w[0],w[1],w[2],w[3],t,n,a,s)&&(w[2]<t||w[3]<a||w[2]>n||w[3]>s)||(x.push(w[0]),x.push(w[1])),h=w[0]===t?0:Math.ceil((w[0]-t)/y-1),c=w[1]===a?0:Math.ceil((w[1]-a)/_-1),u=w[0],p=w[1],b=2;b<w.length-2;b+=2)m=w[b],f=w[b+1],g=w[b+2],v=w[b+3],m<t||f<a||m>n||f>s?((u<t||p<a||u>n||p>s)&&(g<t||v<a||g>n||v>s)&&!i(u,p,m,f,t,n,a,s)&&!i(m,f,g,v,t,n,a,s)||(x.push(m),x.push(f)),u=m,p=f,h=m===t?0:Math.ceil((m-t)/y-1),c=f===a?0:Math.ceil((f-a)/_-1)):(l=m===t?0:Math.ceil((m-t)/y-1),c===(d=f===a?0:Math.ceil((f-a)/_-1))&&h===l||(x.push(m),x.push(f),h=l,c=d,u=m,p=f));return x.push(w[w.length-2]),x.push(w[w.length-1]),x};var i=function(e,t,i,n,r,a,s,o){return e<r&&i>r||e>r&&i<r||e<a&&i>a||e>a&&i<a||t<s&&n>s||t>s&&n<s||t<o&&n>o||t>o&&n<o};"function"!=typeof ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){var t=Object.prototype.toString.call(e);return-1!==["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"].indexOf(t)});var n=Object.freeze({niAnalogWaveform:"niAnalogWaveform",niAnalogWaveformArray:"niAnalogWaveformArray",XYClusterOfArrays:"XYClusterOfArrays",XYArrayOfClusters:"XYArrayOfClusters",XYArrayOfClusterOfArrays:"XYArrayOfClusterOfArrays",XYArrayOfArrayOfClusters:"XYArrayOfArrayOfClusters",XYArrayOfClusterOfArrayOfPoint:"XYArrayOfClusterOfArrayOfPoint",oneDimensionNumericArray:"1DNumericArray",twoDimensionsNumericArray:"2DNumericArray",oneDimensionComplexArray:"1DComplexArray",twoDimensionsComplexArray:"2DComplexArray",numeric:"numeric",clusterOfNumerics:"clusterOfNumerics",arrayOfClusterOfNumerics:"arrayOfClusterOfNumerics",historyBuffer:"HistoryBuffer",categoryData:"categoryData",categoryArray:"categoryArray",empty:"empty",unknown:"unknown"});function r(e){return e.getName()===NITypeNames.CLUSTER&&2===e.getFields().length&&2===e.getSubtype().length&&e.getSubtype()[0].getName()===NITypeNames.ARRAY&&e.getSubtype()[1].getName()===NITypeNames.ARRAY}function a(e){return e.getName()===NITypeNames.CLUSTER&&2===e.getFields().length&&2===e.getSubtype().length&&e.getSubtype().every(function(e){return e.isInteger()||e.isFloat()||e.isTimeStamp()})}function s(e){return e.getName()===NITypeNames.CLUSTER&&e.getSubtype().every(function(e){return e.isInteger()||e.isFloat()})}NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum=n,NationalInstruments.HtmlVI.DataPipeline.inferDataTypeFromNIType=function(e){return e instanceof NIType?e.getName()===NITypeNames.ANALOGWAVEFORM?n.niAnalogWaveform:e.getName()===NITypeNames.ARRAY&&e.getSubtype().getName()===NITypeNames.ANALOGWAVEFORM?n.niAnalogWaveformArray:r(e)?n.XYClusterOfArrays:e.getName()===NITypeNames.ARRAY&&1===e.getRank()&&a(e.getSubtype())?n.XYArrayOfClusters:e.getName()===NITypeNames.ARRAY&&r(e.getSubtype())?n.XYArrayOfClusterOfArrays:e.getName()===NITypeNames.ARRAY&&function(e){return e.getName()===NITypeNames.CLUSTER&&1===e.getFields().length&&e.getSubtype()[0].getName()===NITypeNames.ARRAY&&a(e.getSubtype()[0].getSubtype())}(e.getSubtype())?n.XYArrayOfClusterOfArrayOfPoint:e.getName()===NITypeNames.ARRAY&&2===e.getRank()&&a(e.getSubtype())?n.XYArrayOfArrayOfClusters:e.getName()===NITypeNames.ARRAY&&1===e.getRank()&&(e.getSubtype().isInteger()||e.getSubtype().isFloat())?n.oneDimensionNumericArray:e.getName()===NITypeNames.ARRAY&&2===e.getRank()&&(e.getSubtype().isInteger()||e.getSubtype().isFloat())?n.twoDimensionsNumericArray:e.getName()===NITypeNames.ARRAY&&1===e.getRank()&&e.getSubtype().isComplex()?n.oneDimensionComplexArray:e.getName()===NITypeNames.ARRAY&&2===e.getRank()&&e.getSubtype().isComplex()?n.twoDimensionsComplexArray:e.isInteger()||e.isFloat()?n.numeric:s(e)?n.clusterOfNumerics:e.getName()===NITypeNames.ARRAY&&s(e.getSubtype())?n.arrayOfClusterOfNumerics:n.unknown:n.unknown}}(),function(){var e=NationalInstruments.HtmlVI.DataPipeline,t=NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum;NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer=function(){HistoryBuffer.apply(this,arguments),this.niType=null,this.valueType=t.unknown};var i=NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer;i.prototype=new HistoryBuffer(arguments),i.prototype.setNIType=function(i){var n;switch(this.niType=i,this.valueType=e.inferDataTypeFromNIType(this.niType),this.clear(),this.valueType){case t.numeric:case t.oneDimensionNumericArray:this.setType("numeric"),this.setWidth(1);break;case t.clusterOfNumerics:if(this.setType("numeric"),0===(n=this.niType.getFields().length))return;this.setWidth(n);break;case t.arrayOfClusterOfNumerics:case t.XYArrayOfClusters:if(0===(n=this.niType.getSubtype().getFields().length))return;this.setWidth(n);break;case t.niAnalogWaveform:case t.niAnalogWaveformArray:this.setType("analogWaveform"),this.setWidth(1)}},i.prototype.pushTypedData=function(e){var i,n,r,a,s;switch(this.valueType){case t.numeric:this.push(e);break;case t.oneDimensionNumericArray:this.appendArray(e);break;case t.niAnalogWaveform:this.push(e);break;case t.niAnalogWaveformArray:if(0===(s=e.length))return;this.setWidth(e.length),this.push(e);break;case t.twoDimensionsNumericArray:if(0===(s=e[0].length))return;for(this.setWidth(s),i=0;i<e.length;i++)this.push(e[i]);break;case t.clusterOfNumerics:for(r=[],a=Object.keys(e),i=0;i<a.length;i++)r[i]=e[a[i]];this.push(r);break;case t.arrayOfClusterOfNumerics:case t.XYArrayOfClusters:for(n=0;n<e.length;n++){for(r=[],a=Object.keys(e[n]),i=0;i<a.length;i++)r[i]=e[n][a[i]];this.push(r)}}}}(),function(){NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline=function(){};var e=NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum,t=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,i=window.NIComplex||NationalInstruments.HtmlVI.NIComplex,n=window.NIAnalogWaveform||NationalInstruments.HtmlVI.NIAnalogWaveform,r=window.NITimestamp||NationalInstruments.HtmlVI.NITimestamp,a=t.prototype;a.toFlot=function(e,t,i){return b(e,t,i)};var s=function(e){if("string"!=typeof e)return!1;var t=new r(e);return!isNaN(t.seconds)&&!isNaN(t.fractions)},o=function(e){return new r(e).valueOf()},l=function(e){return e},d=function(e){return!Array.isArray(e)&&"object"==typeof e&&Array.isArray(e.Y)},h=function(e){return!Array.isArray(e)&&"object"==typeof e&&2===Object.keys(e).length&&Object.keys(e).every(function(t){return Array.isArray(e[t])})},c=function(e){return Array.isArray(e)&&!Array.isArray(e[0])&&"object"==typeof e[0]&&2===Object.keys(e[0]).length&&("number"==typeof e[0][Object.keys(e[0])[0]]||s(e[0][Object.keys(e[0])[0]]))},u=function(e){return Array.isArray(e)&&Array.isArray(e[0])&&2===e[0].length&&"string"==typeof e[0][0]&&"number"==typeof e[0][1]},p=function(t){return d(t)?e.niAnalogWaveform:function(e){return Array.isArray(e)&&d(function(e){var t;for(t=0;t<e.length;t++)if(!Array.isArray(e[t])&&"object"==typeof e[t]&&Array.isArray(e[t].Y))return e[t]}(e))}(t)?e.niAnalogWaveformArray:u(t)?e.categoryData:(n=t,Array.isArray(n)&&u(n[0])?e.categoryArray:h(t)?e.XYClusterOfArrays:c(t)?e.XYArrayOfClusters:"HistoryBuffer"===t.valueType?e.historyBuffer:Array.isArray(t)||ArrayBuffer.isView(t)?0===t.length?e.empty:"number"==typeof t[0]?e.oneDimensionNumericArray:function(e){return Array.isArray(e)&&h(e[0])}(t)?e.XYArrayOfClusterOfArrays:function(e){return Array.isArray(e)&&c(function(e){var t;for(t=0;t<e.length;t++)if(Array.isArray(e[t])&&e[t].length>0)return e[t]}(e))}(t)?e.XYArrayOfArrayOfClusters:function(e){return Array.isArray(e)&&function(e){return!Array.isArray(e)&&"object"==typeof e&&1===Object.keys(e).length&&c(e[Object.keys(e)[0]])}(e[0])}(t)?e.XYArrayOfClusterOfArrayOfPoint:function(e){return Array.isArray(e)&&("string"==typeof e[0]||e[0]instanceof i)}(t)?e.oneDimensionComplexArray:function(e){return Array.isArray(e)&&Array.isArray(e[0])&&("string"==typeof e[0][0]||e[0][0]instanceof i)}(t)?e.twoDimensionsComplexArray:Array.isArray(t[0])||ArrayBuffer.isView(t[0])?e.twoDimensionsNumericArray:e.unknown:e.unknown);var n};a.inferDataType=p;var m=function(e){return{flatdata:!0,data:e.Y,start:e.t0.valueOf(),step:e.dt,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateAW,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}},f=function(e){for(var t=[],i=Object.keys(e),n=e[i[0]],r=e[i[1]],a=n.length>0&&s(n[0])?o:l,d=r.length>0&&s(r[0])?o:l,h=Math.min(n.length,r.length),c=0;c<h;c++)t.push([a(n[c]),d(r[c])]);return{data:t,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}},g=function(e){for(var t=[],i=Object.keys(e[0]||{}),n=e.length>0&&s(e[0][i[0]])?o:l,r=e.length>0&&s(e[0][i[1]])?o:l,a=0;a<e.length;a++)t.push([n(e[a][i[0]]),r(e[a][i[1]])]);return{data:t,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}},v=function(e){return e.map(e=>(function(e){const t=[],i=e[Object.keys(e)[0]],n=i.length;for(var r=i[0],a=Object.keys(r),d=n>0&&s(r[a[0]])?o:l,h=n>0&&s(r[a[1]])?o:l,c=0;c<n;c++){const e=i[c];var u=Object.keys(e);t.push([d(e[u[0]]),h(e[u[1]])])}return{data:t,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}})(e))},b=function(t,r,a){var s,o,l,d,h=[];switch(a&&a!==e.unknown?a:p(r)){case e.oneDimensionNumericArray:return[{flatdata:!0,data:r,start:0,step:1,decimate:NationalInstruments.HtmlVI.DataPipeline.decimate1D,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}];case e.twoDimensionsNumericArray:for(s=[],d=0;d<r.length;d++)h=[],s.push({flatdata:!0,start:0,step:1,data:r[d],decimate:NationalInstruments.HtmlVI.DataPipeline.decimate1D,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints});return s;case e.niAnalogWaveform:return"string"==typeof(o=r instanceof n?r:new n(r)).channelName&&o.channelName.length>0&&t.updatePlotName(0,o.channelName,!0),[m(o)];case e.niAnalogWaveformArray:for(s=[],d=0;d<r.length;d++)"string"==typeof(o=r[d]instanceof n?r[d]:new n(r[d])).channelName&&o.channelName.length>0&&t.updatePlotName(d,o.channelName,!0),s.push(m(o));return s;case e.XYClusterOfArrays:return[f(r)];case e.XYArrayOfClusterOfArrays:return r.map(e=>f(e));case e.XYArrayOfClusters:return[g(r)];case e.XYArrayOfArrayOfClusters:return r.map(e=>g(e));case e.XYArrayOfClusterOfArrayOfPoint:return v(r);case e.oneDimensionComplexArray:for(l=0;l<r.length;l++)h.push(i.prototype.parseFromString(r[l]));return[h];case e.twoDimensionsComplexArray:for(s=[],d=0;d<r.length;d++){for(h=[],l=0;l<r[d].length;l++)h.push(i.prototype.parseFromString(r[d][l]));s.push(h)}return s;case e.categoryData:return[r];case e.categoryArray:return r}return s||[h]}}(),function(){NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline=function(){};var e=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,t=NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline.prototype;function i(e,t){var i=t.length;if(0!==i){e.setWidth(i);for(var n=0;n<t[0].length;n++){for(var r=[],a=0;a<i;a++)r[a]=t[a][n];e.push(r)}}}t.loadValueIntoHistoryBuffer=function(t,n){switch(e.prototype.inferDataType(t)){case"1DNumericArray":n.appendArray(t);break;case"2DNumericArray":i(n,t);break;case"HistoryBuffer":i(n,t.data)}},t.toFlot=function(e,t,i){for(var n=[],r=e.historyBuffer.width,a=0;a<r;a++)n[a]=[];return n}}(),function(){var e=NationalInstruments.Globals.jQuery,t=window.NINumericFormatters,i=function(e){return function(i){return t.prototype.toSiNotation(i,e.decimals)}},n=function(e,i,n,a){var l,d,h,c=i.tickDecimals;if(i.tickDecimals!==i.options.tickDecimals&&(d=o(i.min),l=0!==i.min?Math.floor(Math.log(Math.abs(i.min))*Math.LOG10E):0,h=o(i.max,l),c=0!==e?Math.abs(a.computeValuePrecision(d,h,i.direction,i.options.ticks)):0),n){var u=Math.abs(n)<=3?Math.abs(n)+1:s(e,n,i.max,i.min);if(u>c)return t.prototype.toSiNotation(e,r(e,u))}return t.prototype.toSiNotation(e,r(e,c))},r=function(e,t){var i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return i<-25&&(t+=Math.abs(-25-i)),t},a=function(e,i){return function(n){var r=i?n:l(Math.floor,n,e);return t.prototype.toDecFixedNotation(r,e)}},s=function(e,t,i,n){var r=Math.log(Math.abs(i))*Math.LOG10E,a=0!==n?Math.log(Math.abs(n))*Math.LOG10E:0,s=Math.floor(Math.abs(r-a)),o=0!==e?Math.log(Math.abs(e))*Math.LOG10E:0,l=Math.abs(o+t);return s>3?Math.ceil(3*l/s):Math.ceil(l)},o=function(e,t){var i=0!==e?Math.floor(Math.log(Math.abs(e))*Math.LOG10E):0,n=Math.pow(10,i),r=e;return t>0?r/=Math.pow(10,3*Math.floor(t/3)):r*=Math.pow(10,i%3)/n,r},l=function(e,t,i){var n=Math.pow(10,i),r=t*n;return(r=e(r))/n},d=function(e,t){return t=t?""+t:"0",1===(e=""+e).length?t+e:e},h=function(e,t,i,n){for(e=""+e,t=t?""+t:"0";e.length<i;)!0===n?e+=t:e=t+e;return e};function c(){return window.NIEmbeddedBrowser&&window.NIEmbeddedBrowser.formatLanguage?window.NIEmbeddedBrowser.formatLanguage:navigator.locale||"en-US"}function u(e,t,i){var n=t?"."+h(i,"0",3):"",r=Globalize.format(e,"T",c());return function(e,t){var i=e.split(" ");if(i.length>1){var n=i[i.length-1];return i.splice(i.length-1,1),i.join(" ")+t+" "+n}return e+t}(r,n)+"<br>"+Globalize.format(e,"d",c())}var p=function(e,t,i){var n=t.indexOf(".S"),r=new RegExp(".S+","g"),a=i?3:0,s=n>0?r.exec(t)[0].length-1:a,o=h(e,"0",3);return o=h(o,"0",s,!0),s>0?o.substring(0,s):""},m=function(t){return function(i,n,r,a){var s=e.plot.dateGenerator(i,n.options);return function(e,t,i){var n="",r=e.valueOf()-(void 0===t.valueOfFirstData?0:t.valueOfFirstData);r<0&&(r=-r,n+="-");var a=Math.floor(r/1e3),s=Math.floor(r%1e3),o=a%60,l=Math.floor(a/60),h=l%60,c=Math.floor(l/60),u=c%24,m=Math.floor(c/24),f=""===i||i.indexOf("ss")>=0;if(m&&""===i&&(n+=m+"."),n+=d(u)+":",n+=d(h),f){n+=":"+d(o);var g="millisecond"===t.tickSize[1]||"microsecond"===t.tickSize[1],v=p(s,i,g);n+=g||v.length>0?"."+v:""}return n}(s.date||s.getDate(),n,t)}},f=function(t){return function(i,n,r,a){var s=e.plot.dateGenerator(i,n.options);return function(t,i,n,r){var a=t.valueOf(),s=Math.floor(a%1e3);s<0&&(s=1e3+s),t<-85778644032e5&&(t=-85778644032e5);var o,l=e.plot.makeUtcWrapper(new Date(t.valueOf()+r)).date,c="millisecond"===i.tickSize[1]||"microsecond"===i.tickSize[1];if(""!==n)try{o=function(e,t){var i=navigator.language||navigator.browserLanguage||navigator.languages[0],n=function(e){var t={};return null==e?t:(e.indexOf("#d")>=0?(t.year="numeric",t.month="numeric",t.day="numeric"):(e.indexOf("yyyy")>=0?t.year="numeric":e.indexOf("yy")>=0&&(t.year="2-digit"),t.month="numeric",t.day="numeric"),e.indexOf("#T")>=0?(t.hour="numeric",t.minute="numeric",t.second="numeric"):(t.hour="2-digit",t.minute="2-digit",e.indexOf("ss")>=0&&(t.second="2-digit"),t.hour12=e.indexOf("hh")>=0),t)}(t),r=function(e,t,i,n){var r=t.indexOf("yy")>=0||t.indexOf("#d")>=0;if(!(r||t.indexOf("MM")>=0))return"";if(t.indexOf("#d")>=0)return Intl.DateTimeFormat(n,{year:"numeric",month:"numeric",day:"numeric"}).format(e);var a=Intl.DateTimeFormat(n,i).formatToParts(e),s=a.map(({type:e,value:t})=>e),o=s.indexOf("day"),l=s.indexOf("month"),c=a[(l+o)/2].value,u=d(a[o].value),p=d(a[l].value),m=r?a[s.indexOf("year")].value:"";if(r){var f=t.indexOf("yyyy")>=0?4:2;m=h(m,"0",f)}return t.indexOf("dd")<t.indexOf("MM")?u+c+p+(r?c+m:""):p+c+u+(r?c+m:"")}(e,t,n,i),a=function(e,t,i,n){if(!(t.indexOf("hh")>=0||t.indexOf("HH")>=0||t.indexOf("#T")>=0))return"";var r=p(e.getMilliseconds(),t);if(t.indexOf("#T")>=0){var a=Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric",second:"numeric"}).format(e);if(""!==r){var s=new RegExp("[0-9](?!.*[0-9])","g");s.test(a),a=[a.slice(0,s.lastIndex),"."+r,a.slice(s.lastIndex)].join("")}return a}var o=Intl.DateTimeFormat(n,i).formatToParts(e),l=o.map(({type:e,value:t})=>e.toLowerCase()),h=l.indexOf("hour"),c=l.indexOf("minute"),u=o[(h+c)/2].value,m=d(o[h].value),f=d(o[c].value),g=t.indexOf("ss")>=0,v=g?d(o[l.indexOf("second")].value):"",b=!0===i.hour12?o[l.indexOf("dayperiod")].value:"";return m+u+f+(g?u+v:"")+(g&&r.length>0?"."+r:"")+(""!==b?" "+b:"")}(e,t,n,i);return a+(""!==r&&""!==a?"<br>":"")+r}(l,n)}catch(e){o=u(l,c,s)}else o=u(l,c,s);return o}(s.date||s.getDate(),n,t,n.options.timeEpoch)}};t.parseTickFormatterType=function(e){var t,i,n,r={type:"default"},a=r;if(0===e.indexOf("LVSI")){t=5;var s=e.slice(t);-1===s.indexOf("G")&&-1===s.indexOf("N")?a=-1!==s.indexOf("#")&&s.lastIndexOf("#")===s.length-1?{type:"si",N:!1,G:!1,decimals:i=s.lastIndexOf("#")-s.indexOf("#")+1}:"0"===s?{type:"si",N:!1,G:!1,decimals:0}:{type:"si",N:!1,G:!1,decimals:null}:(i=parseInt(s.slice(1)),a={type:"si",N:0===s.indexOf("N"),G:n=0===s.indexOf("G"),decimals:i})}else if(0===e.indexOf("LVRelativeSeconds")){t=18;var o=e.slice(t);-1===o.indexOf("G")&&-1===o.indexOf("N")?a=-1!==o.lastIndexOf("#")&&o.lastIndexOf("#")===o.length-1?{type:"dec",N:!1,G:!1,decimals:i=o.lastIndexOf("#")-o.indexOf("#")+1}:"0"===o?{type:"dec",N:!1,G:!1,decimals:0}:r:(i=parseInt(o.slice(1)),a={type:"dec",N:0===o.indexOf("N"),G:n=0===o.indexOf("G"),decimals:n?Math.min(i,21):i})}else 0===e.indexOf("LVTime")?a={type:"absTime",timeFormat:e.substring(7)}:0===e.indexOf("LVRelativeTime")&&(a={type:"relTime",timeFormat:e.substring(15)});return a},t.getTickFormatter=function(e){return"si"===e.type&&e.G?function(e){return function(i){var n,r,a=t.prototype.toSiNotation(i,e.decimals);return isNaN(Number(a))?(n=Number(a.slice(0,a.length-1)),r=a.slice(a.length-1)):(n=Number(a),r=""),t.prototype.toDecPrecisionNotation(n,Math.min(e.decimals,21))+r}}(e):"si"===e.type&&e.N?i(e):"si"===e.type&&"number"==typeof e.decimals?i(e):"si"===e.type&&null===e.decimals?n:"dec"===e.type&&e.G?function(e){return function(i){return t.prototype.toDecPrecisionNotation(i,Math.min(e,21))}}(e.decimals):"dec"===e.type&&e.N?a(e.decimals):"dec"===e.type&&0===e.decimals?a(0,!0):"dec"===e.type&&e.decimals>=1?a(e.decimals):"absTime"===e.type?f(e.timeFormat):"relTime"===e.type?m(e.timeFormat):null},t.getTickGenerator=function(t){return 0===t.indexOf("LVRelativeTime")?function(t,i){return void 0===t.valueOfFirstData&&function(e,t){var i=e.getData(),n=i.findIndex(e=>e.length>0||e.datapoints.points.length>0);if(i.length>0&&n>=0){var r,a,s,o=i[n].datapoints;for(s=0!==o.points.length?i[n].xaxis===t||i[n].yaxis===t?"x"===t.direction?o.points[0]:o.points[1]:t.max:t.min,r=1;r<i.length;r++)o=i[r].datapoints,i[r].xaxis!==t&&i[r].yaxis!==t||s>(a="x"===t.direction?o.points[0]:o.points[1])&&(s=a);t.valueOfFirstData=1e3*s}}(i,t),e.plot.dateTickGenerator(t)}:0===t.indexOf("LVTime")?function(t){return e.plot.dateTickGenerator(t)}:null}}(),function(){var e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport,i=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,n=!0,r=!1,a=0;const s=["rgba(123, 22, 26, 1)","rgba(0, 142, 228, 1)","rgba(226, 182, 131, 1)","rgba(183, 172, 31, 1)","rgba(174, 220, 239, 1)","rgba(160, 139, 176, 1)","rgba(127, 127, 127, 1)","rgba(60, 7, 38, 1)"],o=Promise.resolve(!0);Object.assign(window.NationalInstruments.HtmlVI.Elements,{CartesianGraphBase:class extends window.JQX.BaseElement{getSettings(){return this.getSettingsWorkaround()}getSettingsWorkaround(){var e=!this.disabled&&!this.disableZoom,t=!this.disabled&&!this.disablePan,i=!this.disabled&&!this.disableRecenter;return{series:{lines:{show:!0,lineWidth:1},shadowSize:0,points:{lineWidth:1},stack:this.stacked,highlights:{show:!0,highlightColor:this.highlightColor,highlightLines:this.highlightLines,highlightPoints:this.highlightPoints,highlightBars:this.highlightBars,highlightLineWidth:this.highlightLineWidth,selectedIndexes:[],selectedRange:[]}},axisLabels:{show:!0},xaxes:[{}],yaxes:[{}],zoom:{interactive:e,active:e,enableTouch:e,trigger:null},pan:{interactive:t,active:t,enableTouch:t,mode:this.panMode,touchMode:this.touchPanMode},recenter:{interactive:i,enableTouch:i},propagateSupportedGesture:this.propagateSupportedGesture,selection:{mode:null},grid:{},colors:s}}static get defaultPlotColors(){return s}configureGraph(){var e,t=this.getSettings();for(""!==this.plotAreaMargin&&(t.grid.margin=JSON.parse(this.plotAreaMargin)),""!==this.highlightedIndexes&&t.series.highlights&&(t.series.highlights.selectedIndexes=JSON.parse(this.highlightedIndexes)),""!==this.highlightedRange&&t.series.highlights&&(t.series.highlights.selectedRange=JSON.parse(this.highlightedRange)),t.xaxes=[],t.yaxes=[],e=0;e<this.axes.length;e++){var i=this.axes[e].getViewConfig();i&&(!i.position||"left"!==i.position&&"right"!==i.position||t.yaxes.push(i),!i.position||"top"!==i.position&&"bottom"!==i.position||t.xaxes.push(i))}return this.graphTools&&(t.zoom.interactive=t.zoom.interactive&&this.graphTools.allowsScrollWheelZoom(),t.pan.interactive=t.pan.interactive&&this.graphTools.allowsPan(),t.selection.mode=this.disabled||"zoom"!==this.graphTools.mode?null:"smart"),Array.from(this.children).filter(e=>"function"==typeof e.getEntryInfo).forEach(e=>{const i=e.getEntryInfo();"array"===i.valueType?(t[i.name]||(t[i.name]=[]),t[i.name].push(e.getViewConfig())):t[i.name]=e.getViewConfig()}),t}get updateCompleted(){return this._updatePromise}requestUpdate(){this._hasRequestedUpdate||this._detaching||this._enqueueUpdateAsync()}async _enqueueUpdateAsync(){this._hasRequestedUpdate=!0;const e=this._updatePromise;let t=()=>{},i=()=>{};this._updatePromise=new Promise((e,n)=>{t=e,i=n});try{await e}catch(e){}if(!this._isAttached&&!this._detaching){const e=new Promise(e=>{this._attachedResolve=e});await e}try{this._performUpdate()}catch(e){i(e)}t()}_performUpdate(){try{const i=this.graphdiv;if(void 0===i)return;const n=this.createData(this.plots,this.convertToFlotFormat(this.parsedValue)),r=this.configureGraph();this.setClick(n,r),this.setHover(n,r),this.setGridStyle(this.gridEl,r),this.graph=e.plot(i,n,r),this._isInitialized||(this.attachLegends(),this.graph.getPlaceholder().bind("re-center",this.onRecenterPlot),this.dispatchEvent(new CustomEvent("ni-graph-created")),this._isInitialized=!0),this.dispatchEvent(new CustomEvent("ni-graph-updated"))}catch(e){throw t.log(e.message),new Error("Failed to create a flot chart")}finally{this._hasRequestedUpdate=!1}}updateGraphConfig(){console.warn("A synchronous update was requested. Consider using requestUpdate instead"),this._performUpdate()}onRecenterPlot(e){this.parentElement.axes.forEach(function(t){e.detail.axisTouched&&t.getFlotAxis()!==e.detail.axisTouched||t.resetOffset&&t.resetOffset()}),this.parentElement.updateCartesianAxesFromFlot()}updateCartesianAxesFromFlot(){this._isInitialized?this._syncAxesWithFlot():this.addEventListener("ni-graph-created",()=>{this._syncAxesWithFlot()},{once:!0})}_syncAxesWithFlot(){void 0!==this.graphdiv&&this.axes.forEach(function(e){e instanceof JQX.CartesianAxis&&e.syncWithFlot()})}throttlePlotUpdates(e){(n=!e)&&r&&(this.requestUpdate(),r=!1)}updateGraphConfigWhenPlotsUpdatesAreEnabled(){n?(this.requestUpdate(),r=!1):r=!0}convertToFlotFormat(e){return i.prototype.toFlot(this,e,this.valueType)}updatePlotName(e,t,i){i&&!this.metadataOverridesPlotNames||!t||this.plots[e]&&(this.plots[e].label=t)}createData(e,t){var i=[];return t.forEach(function(t,n){var r=e[n];Array.isArray(t)&&(t={data:t}),r?(i[n]=r.getViewConfig(),i[n].data=r.show?t.data:[],i[n].flatdata=t.flatdata,i[n].start=t.start,i[n].step=t.step,i[n].decimate=!this.stacked&&t.decimate,i[n].decimatePoints=t.decimatePoints):i[n]=t},this),i}nextPlotName(){var e,i,n=t.i18n("msg_defaultplotname"),r=-1;for(var a in this.childNodes)"ni-cartesian-plot"===this.childNodes[a].localName&&(i=this.childNodes[a],(e=parseInt(i.label.substring(n.length)))>r?r=e:r<0&&(r=0));return-1===r?n:n+" "+(r+1)}setData(e){var t=this.graph;if(void 0!==t){var i=this.convertToFlotFormat(e);this.parsedValue=e,(t=this.graph).setData(this.createData(this.plots,i)),t.setupGrid(!0),t.draw(),i.length!==a&&(a=i.length,this.notifyPlotLegend("ni-plot-count-changed",{element:this,plotCount:i.length}))}else this.cachedData=e}static get properties(){return Object.assign({},super.properties,{value:{value:[],type:"object"},graphRef:{value:"",type:"string"},plotAreaMargin:{value:"",type:"string"},stacked:{value:!1,type:"boolean"},disablePan:{value:!1,type:"boolean"},disableZoom:{value:!1,type:"boolean"},disableRecenter:{value:!1,type:"boolean"},panMode:{value:"smart",type:"string"},touchPanMode:{value:"manual",type:"string"},propagateSupportedGesture:{value:!1,type:"boolean"},metadataOverridesPlotNames:{value:!1,type:"boolean"},highlightPoints:{value:!1,type:"boolean"},highlightLines:{value:!1,type:"boolean"},highlightBars:{value:!1,type:"boolean"},highlightColor:{value:"#000000",type:"string"},highlightLineWidth:{value:2,type:"number"},highlightedIndexes:{value:"[[],[],[]]",type:"string"},highlightedRange:{value:"[[],[],[]]",type:"string"}})}get cursors(){return Array.from(this.children).filter(e=>e instanceof NationalInstruments.HtmlVI.Elements.CursorBase)}created(){super.created(),this.plots=[],this.axes=[],this.cachedData=null,this.plotLegend=null,this.cursorLegend=null,this.scaleLegend=null,this.graphTools=null,this.graphdiv=void 0,this.tooltip=void 0,this.tooltipHolder=void 0,this.parsedValue=null,this.addGraphItemListeners(),this._initializeForAsynchronousUpdate()}_initializeForAsynchronousUpdate(){this._updatePromise=o,this._hasRequestedUpdate=!1,this._isInitialized=!1,this._isAttached=!1,this._detaching=!1,this._attachedResolve=void 0,this.requestUpdate()}async onResize(e){if(this.isVisibleElement(this)){void 0===this.graph&&(this._prepareForGraph(),this.requestUpdate(),await this.updateCompleted);var t=this.graph;t.clearTextCache(),t.resize(),this.cachedData?(this.setData(this.cachedData),this.cachedData=null):(t.setupGrid(!0),t.draw())}else this.detachChildElement()}static get listeners(){return{resize:"onResize",resizeEventHack:"onResize"}}isVisibleElement(e){for(;null!==e;){if("none"===getComputedStyle(e).display)return!1;e=e.parentElement}return!0}_prepareForGraph(){if(this._isAttached=!0,this._attachedResolve&&(this._attachedResolve(),this._attachedResolve=void 0),!this.isVisibleElement(this))return;const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.className="webchart-drawing-layer",this.children.length>0?this.insertBefore(i,this.children[0]):this.appendChild(i);const n=document.createElement("div");n.style.width="0px",n.style.height="0px",n.style.position="relative",n.className="ni-graph-tooltip-base";const r=document.createElement("div");r.id="tooltip"+t.uniqueId(),r.className="ni-graph-tooltip",n.appendChild(r),this.appendChild(n),this.tooltip=r,this.tooltipHolder=n;const a=document.createElement("ni-grid-div");a.style.visibility="hidden",this.appendChild(a),this.gridEl=a,this.graphdiv=i,e(i).bind("plothover",this.hoverEventHandler.bind(this)),e(i).bind("plothovercleanup",function(){e(r).hide()})}attached(){super.attached(),this.parsedValue=this.value,this._detaching=!1,this.attachChildren(),this._prepareForGraph()}detached(){super.detached(),this._detaching=!0,this.detachChildElement()}detachChildElement(){void 0!==this.graph&&this.graph.destroy(),this.graph=void 0,void 0!==this.graphdiv&&this.removeChild(this.graphdiv),this.graphdiv=void 0,void 0!==this.tooltipHolder&&this.removeChild(this.tooltipHolder),this.tooltip=void 0,this.tooltipHolder=void 0,void 0!==this.gridEl&&this.removeChild(this.gridEl),this.gridEl=void 0,this._isInitialized=!1,this._isAttached=!1}addGraphItemListeners(e){var t=this;t.addEventListener("ni-cartesian-plot-attached",function(e){e.target===t&&(t.plots=function(e,t,i){for(var n=e.getElementsByTagName("ni-cartesian-plot"),r=[],a=0;a<n.length;a++){var s=n[a];(t.find(function(e){return e===s})||s===i)&&r.push(s)}return r}(t,t.plots,e.detail.element),t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-attached",e.detail.element))}),t.addEventListener("ni-cartesian-plot-detached",function(e){var i;if(t.notifyPlotLegend("ni-cartesian-plot-detached",e.detail.element),e.target===t){for(i=0;i<t.plots.length;i++)if(t.plots[i]===e.detail.element){t.plots.splice(i,1);break}t.updateGraphConfigWhenPlotsUpdatesAreEnabled()}}),t.addEventListener("ni-cartesian-axis-attached",function(e){e.target===t&&(t.axes.push(e.detail.element),t.requestUpdate(),t.notifyScaleLegend("ni-cartesian-axis-attached",e.detail.element),t.notifyGraphTools("ni-cartesian-axis-attached",e.detail.element))}),t.addEventListener("ni-cartesian-axis-detached",function(e){var i;if(e.target===t){for(i=0;i<t.axes.length;i++)if(t.axes[i]===e.detail.element){t.axes.splice(i,1);break}t.requestUpdate(),t.notifyScaleLegend("ni-cartesian-axis-detached",e.detail.element)}}),t.addEventListener("ni-cursor-attached",function(e){e.target===t&&e.detail.element instanceof window.JQX.Cursor&&t.notifyCursorLegend("ni-cursor-attached",e.detail.element)}),t.addEventListener("ni-cursor-detached",function(e){e.target===t&&e.detail.element instanceof window.JQX.Cursor&&t.notifyCursorLegend("ni-cursor-detached",e.detail.element)}),t.addEventListener("ni-axis-changed",function(e){t.requestUpdate(),t.notifyScaleLegend("ni-axis-changed",e.detail.element),t.notifyGraphTools("ni-axis-changed",e.detail.element)}),t.addEventListener("ni-axis-reset",function(e){t.requestUpdate(),t.notifyScaleLegend("ni-axis-changed",e.detail.element),t.notifyGraphTools("ni-axis-reset")}),t.addEventListener("ni-cursor-changed",function(e){e.detail.element instanceof window.JQX.Cursor&&t.notifyCursorLegend("ni-cursor-changed",e.detail.element)}),t.addEventListener("ni-cartesian-plot-changed",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-changed",e.detail.element)}),t.addEventListener("ni-cartesian-plot-renderer-changed",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-renderer-changed",e.detail.originalSource)}),t.addEventListener("ni-cartesian-plot-renderer-attached",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-renderer-attached",e.detail.originalSource)}),t.addEventListener("ni-cartesian-plot-renderer-detached",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-renderer-detached",e.detail.originalSource)}),t.addEventListener("ni-graph-tools-changed",function(){t.requestUpdate()})}registerPlotLegend(e){this.plotLegend=e,this.plotLegend.disabled=this.disabled}notifyPlotLegend(e,t){var i;null!==this.plotLegend&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this.plotLegend.dispatchEvent(new CustomEvent(e,i)))}registerCursorLegend(e){this.cursorLegend=e,Array.from(this.children).filter(e=>e instanceof JQX.Cursor).forEach(e=>{this.notifyCursorLegend("ni-cursor-attached",e)}),this.cursorLegend.disabled=this.disabled}notifyCursorLegend(e,t){if(null!==this.cursorLegend){const i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}};this.cursorLegend.dispatchEvent(new CustomEvent(e,i))}}registerScaleLegend(e){var t;if(this.scaleLegend=e,this.axes.length>0)for(t=0;t<this.axes.length;t++)this.notifyScaleLegend("ni-cartesian-axis-attached",this.axes[t]);this.scaleLegend.disabled=this.disabled}notifyScaleLegend(e,t){var i;null!==this.scaleLegend&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this.scaleLegend.dispatchEvent(new CustomEvent(e,i)))}registerGraphTools(t){var i,n=this;if(this.graphTools=t,this.requestUpdate(),e(this.graphdiv).on("plotselected",function(e,t){n.notifyGraphTools("ni-cartesian-graph-box-selected",{ranges:t})}),e(this.graphdiv).on("plotpan",function(e,t){n.notifyGraphTools("ni-cartesian-graph-interaction",{ranges:t})}),e(this.graphdiv).on("plotzoom",function(e,t){n.notifyGraphTools("ni-cartesian-graph-interaction",{ranges:t})}),this.graphTools.disabled=this.disabled,this.axes.length>0)for(i=0;i<this.axes.length;i++)this.notifyGraphTools("ni-cartesian-axis-attached",this.axes[i])}notifyGraphTools(e,t){var i;this.graphTools&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this.graphTools.dispatchEvent(new CustomEvent(e,i)))}attachChildren(){for(var e=this.children,t={"NI-COLOR-SCALE":window.JQX.ColorScale,"NI-CARTESIAN-PLOT":window.JQX.CartesianPlot,"NI-CARTESIAN-AXIS":window.JQX.CartesianAxis},i=0;i<e.length;i++){var n=e[i];t[n.tagName]&&n instanceof t[n.tagName]&&n.isReady&&n.attachToGraph(this)}}attachLegends(){for(var e=this,t=["ni-plot-legend".toUpperCase(),"ni-scale-legend".toUpperCase(),"ni-cursor-legend".toUpperCase(),"ni-graph-tools".toUpperCase()],i=this.parentElement.children,n=[],r=0;r<i.length;r++){var a=i[r];-1===t.indexOf(a.tagName)||a.graphRef!==this.graphRef&&a.graphRef!==this.niControlId||n.push(a)}n.forEach(function(t){t.isReady&&t.attachToGraph&&t.attachToGraph(e)})}propertyChangedHandler(e,t,i){switch(super.propertyChangedHandler(e,t,i),e){case"value":this.setData(this.value);break;case"disabled":this.requestUpdate(),null!==this.cursorLegend&&(this.cursorLegend.disabled=this.disabled),null!==this.graphTools&&(this.graphTools.disabled=this.disabled),null!==this.plotLegend&&(this.plotLegend.disabled=this.disabled),null!==this.scaleLegend&&(this.scaleLegend.disabled=this.disabled);break;default:this.requestUpdate()}}format(){var e=arguments;return e[0].replace(/{(\d+)}/g,function(t,i){var n=parseInt(i)+1,r=e[n];return void 0!==r?r.toFixed(2).length<r.toExponential(2).length?r.toFixed(2):r.toExponential(2):t})}setClick(e,t){for(var i=0;i<e.length;i++)if(e[i].clickable){t.grid=t.grid||{},t.grid.clickable=!0;break}}setHover(t,i){var n,r=!1;for(n=0;n<t.length;n++)if(t[n].hoverable){r=!0;break}!0===r?(void 0===i.grid&&(i.grid={}),i.grid.hoverable=r):null!==this.tooltip&&e(this.tooltip).hide()}hoverEventHandler(i,n,r){if(r&&this.plots[r.seriesIndex]){var a=r.datapoint[0],s=r.datapoint[1],o=this.plots[r.seriesIndex].hoverFormat||"{0}, {1}",l="";if("string"==typeof o)l=this.format(o,a,s);else if("function"==typeof o)try{l=o(a,s,r)}catch(e){return void t.error(e)}var d=r.pageX>=this.clientWidth/2+e(this).offset().left,h=r.pageY>=this.clientHeight/2+e(this).offset().top;e(this.tooltip).html(l).css({top:r.pageY-e(this.tooltipHolder).offset().top+5,left:r.pageX-e(this.tooltipHolder).offset().left+5}).toggleClass("on-left",d).toggleClass("on-top",h).show()}else e(this.tooltip).hide()}setGridStyle(e,t){var i=t.grid,n=window.getComputedStyle(e),r=n.borderStyle,a=n.borderBottomWidth.replace("px",""),s=n.borderTopWidth.replace("px",""),o=n.borderLeftWidth.replace("px",""),l=n.borderRightWidth.replace("px",""),d={top:Number(s),bottom:Number(a),left:Number(o),right:Number(l)},h=n.borderColor,c=n.backgroundColor;i.borderWidth="solid"===r?d:0,i.borderColor=h,i.color=n.color,i.backgroundColor=c}getYAxisIndexByNIControlID(e){for(var t=0,i=0;i<this.axes.length;i++){var n=this.axes[i];if(("left"===n.axisPosition||"right"===n.axisPosition)&&(t++,n.axisRef===e||n.niControlId===e))return t}return 1}getXAxisIndexByNIControlID(e){for(var t=0,i=0;i<this.axes.length;i++){var n=this.axes[i];if(("top"===n.axisPosition||"bottom"===n.axisPosition)&&(t++,n.axisRef===e||n.niControlId===e))return t}return 1}getDataRanges(e,t){var i=this.graph,n=e.getFlotAxis(),r=i.getData().filter(function(e){return e.xaxis===n||e.yaxis===n}).map(function(e){return i.computeRangeForDataSeries(e,!0)}),a={xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY};return r.reduce(function(e,t){return{xmin:Math.min(e.xmin,t.xmin),ymin:Math.min(e.ymin,t.ymin),xmax:Math.max(e.xmax,t.xmax),ymax:Math.max(e.ymax,t.ymax)}},a)}takeGraphSnapshot(e,t){return this.graph.composeImages(e,t)}template(){return""}}})}(),JQX("ni-cartesian-graph",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{}),function(){var e=NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline,t=function(e){var t=e.historyBuffer;if(0!==t.toArray().length)for(var i=e.plots.length;i<t.width;i++){var r=n(e,i);e.addPlot(r)}},i=function(e){var t=e.historyBuffer;if(t.hb instanceof HistoryBufferWaveform)for(var i=0;i<t.width;i++){var r=n(e,i);e.updatePlotName(i,r,!0)}},n=function(e,t){if(e.historyBuffer.hb instanceof HistoryBufferWaveform){var i=e.historyBuffer.hb.buffers[t];if(0!==i.size){var n=i.data[i.end];if("string"==typeof n.channelName&&0!==n.channelName.length)return n.channelName}}};JQX("ni-chart",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{constructor(){super(),this._historyBuffer=void 0}set historyBuffer(e){const n="generate-plots-for-data";this._historyBuffer=e;var r=this;e.deregisterOnChange(n),e.registerOnChange(n,function(){t(r),i(r)})}get historyBuffer(){return this._historyBuffer}static get properties(){return Object.assign({},super.properties,{bufferSize:{value:1024,type:"number"}})}ready(){this.historyBuffer||(this.historyBuffer=new HistoryBuffer(this.bufferSize,1)),this.value&&e.prototype.loadValueIntoHistoryBuffer(this.value,this.historyBuffer),super.ready()}createData(e,t){for(var i=[],n=Math.max(t.length,e.length),r=0;r<n;r++){var a=t[r]||[],s=e[r];Array.isArray(a)&&(a={data:a}),s?(i[r]=s.getViewConfig(),i[r].data=s.show?a.data:[]):i[r]=a}return i}convertToFlotFormat(t){return e.prototype.toFlot(this,t)}getSettings(){return this.getSettingsWorkaround()}getSettingsWorkaround(){var e=super.getSettingsWorkaround();return e.series.historyBuffer=this.historyBuffer,e}getDataRanges(e,t){for(var i=this.graph,n=e.getFlotAxis(),r=i.getData().map((e,t)=>({series:e,index:t})).filter(e=>e.series.xaxis===n||e.series.yaxis===n),a=[],s=0;s<r.length;s++){var o=t?r[s].series.xaxis.min:void 0,l=t?r[s].series.xaxis.max:void 0,d=this.historyBuffer.rangeX(r[s].index),h=this.historyBuffer.rangeY(o,l,r[s].index);a.push({xmin:d.xmin,xmax:d.xmax,ymin:h.ymin,ymax:h.ymax})}var c={xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY};return a.reduce(function(e,t){return{xmin:Math.min(e.xmin,t.xmin),ymin:Math.min(e.ymin,t.ymin),xmax:Math.max(e.xmax,t.xmax),ymax:Math.max(e.ymax,t.ymax)}},c)}})}(),function(){var e=NationalInstruments.Globals.jQuery;class t extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{static get ColorScaleType(){return e.plot.IntensityGraph.ColorScaleType}dataRange(){var e=this.parsedData;if(null===t||0===e.length)return{dataMin:0,dataMax:100};for(var i=Math.min(),n=Math.max(),r=0;r<e.length;r++)for(var a=e[r],s=0;s<a.length;s++)a[s]===-1/0||a[s]===1/0||isNaN(a[s])||(a[s]>n&&(n=a[s]),a[s]<i&&(i=a[s]));return i===Math.min()&&(i=0),n===Math.max()&&(n=100),{dataMin:i,dataMax:n}}created(){super.created(),this.autoScaleColor=!1,this.parsedData=null}getSettings(){return{series:{intensitygraph:{show:!0}},axisLabels:{show:!0},xaxes:[{}],yaxes:[{}],zoom:{interactive:!this.disabled,trigger:null},pan:{interactive:!this.disabled,enableTouch:!this.disabled},selection:{mode:null},grid:{}}}configureGraph(){var e,t,i,n,r=[],a=super.configureGraph();""!==this.plotAreaMargin&&(a.grid.margin=this.plotAreaMargin);var s=this.value;for(a.series.intensitygraph.data=s.length>0?s:this.defaultData(),e=0;e<this.axes.length;e++){var o=this.axes[e].getViewConfig();if(o&&o.type===JQX.IntensityGraph.ColorScaleType){var l=JSON.parse(o.markers);for(t=0;t<l.length;t++)r[t]={value:l[t].value,color:l[t].color};if("none"===o.autoScale)i=l[0].value,n=l[l.length-1].value;else{this.autoScaleColor=!0;var d=this.dataRange();n=d.dataMax,i=d.dataMin}for(a.series.intensitygraph.min=i,a.series.intensitygraph.max=n,a.series.intensitygraph.gradient=r,a.series.intensitygraph.lowColor=o.lowColor,a.series.intensitygraph.highColor=o.highColor,t=0;t<a.yaxes.length;t++)a.yaxes[t].type===JQX.IntensityGraph.ColorScaleType&&(a.yaxes[t].min=i,a.yaxes[t].max=n)}}return a}attached(){super.attached(),this.updateCartesianAxesFromFlot()}updateColorScaleLimits(){var e=this.graph;if(e){var t=e.getYAxes().filter(function(e){return e.options.type===JQX.IntensityGraph.ColorScaleType})[0];if(t&&"none"!==t.options.autoScale){var i=this.dataRange();t.options.min=i.dataMin,t.options.max=i.dataMax}}}defaultData(){return[[]]}createData(e,t){var i=t.length>0?t:this.defaultData(),n=this.axes.filter(e=>"left"===e.axisPosition||"right"===e.axisPosition).findIndex(e=>"NI-CARTESIAN-AXIS"===e.tagName),r={data:i,yaxis:-1===n?void 0:n+1};return this.parsedData=i,this.updateColorScaleLimits(),[r]}convertToFlotFormat(e){return e}}JQX("ni-intensity-graph",t)}(),JQX("ni-digital-graph",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{static get properties(){return Object.assign({},super.properties,{lineWidth:{value:1,type:"number"}})}getSettings(){let e=!this.disabled&&!this.disableZoom,t=!this.disabled&&!this.disablePan,i=!this.disabled&&!this.disableRecenter;return{buses:this._buses.map(e=>e.getViewConfig()),series:{digitalWaveform:{show:!0,lineWidth:this.lineWidth,signal:{show:!1}}},xaxis:{showTicks:!1,showMinorTicks:!1,showTickLabels:!1},yaxis:{show:!1},zoom:{interactive:e,active:e,enableTouch:e,trigger:null},pan:{interactive:t,active:t,enableTouch:t,mode:this.panMode,touchMode:this.touchPanMode},recenter:{interactive:i,enableTouch:i},selection:{mode:null},grid:{}}}created(){super.created(),this._signals=[],this._buses=[]}attached(){super.attached(),this.addDigitalGraphEventListeners(),this.attachDigitalChildren()}attachDigitalChildren(){for(let e=0;e<this.children.length;e++){let t=this.children[e];(t instanceof JQX.DigitalSignal||t instanceof JQX.DigitalBus||t instanceof JQX.DigitalAxis)&&t.isReady&&t.attachToGraph(this)}}addDigitalGraphEventListeners(){let e=this;e.addEventListener("ni-digital-signal-attached",function(t){t.target===e&&(e.addSignal(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-signal-detached",function(t){t.target===e&&(e.removeSignal(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-signal-changed",function(t){t.target===e&&e.updateGraphConfigWhenPlotsUpdatesAreEnabled()}),e.addEventListener("ni-digital-bus-attached",function(t){t.target===e&&(e.addBus(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-bus-detached",function(t){t.target===e&&(e.removeBus(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-bus-changed",function(t){t.target===e&&e.updateGraphConfigWhenPlotsUpdatesAreEnabled()})}addSignal(e){let t=this.getElementsByTagName("ni-digital-signal"),i=[];for(let n=0;n<t.length;n++){let r=t[n];(this._signals.find(function(e){return e===r})||r===e)&&i.push(r)}this._signals=i}removeSignal(e){for(let t=0;t<this._signals.length;t++)if(this._signals[t]===e){this._signals.splice(t,1);break}}addBus(e){let t=this.getElementsByTagName("ni-digital-bus"),i=[];for(let n=0;n<t.length;n++){let r=t[n];(this._buses.find(function(e){return e===r})||r===e)&&i.push(r)}this._buses=i}removeBus(e){for(let t=0;t<this._buses.length;t++)if(this._buses[t]===e){this._buses.splice(t,1);break}}getBusIndex(e){return this._buses.indexOf(e)}createData(e,t){let i=[];return this._signals.forEach((e,n)=>{let r=t[n];r&&(Array.isArray(r)&&(r={data:r}),i[n]=e.getViewConfig(),i[n].data=r.data,i[n].flatdata=r.flatdata,i[n].start=r.start,i[n].step=r.step,i[n].decimate=!1)},this),i}}),JQX("ni-digital-axis",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},axisPosition:{value:"left",type:"string",allowedValues:["left","right"]},width:{value:"automatic",type:"any",validator:"validateWidth"},signalSymbol:{value:null,type:"string?"},busSymbolExpanded:{value:null,type:"string?"},busSymbolCollapsed:{value:null,type:"string?"}})}validateWidth(e,t){return"automatic"===t||"number"==typeof t&&t>=0?t:e}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),this.parentElement instanceof JQX.DigitalGraph&&this.parentElement.isReady&&this.attachToGraph(this.parentElement)}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.sendEventToParentGraph("ni-cartesian-axis-attached"))}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-axis-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-axis-changed")}sendEventToParentGraph(e,t){if(this._parentGraph){let i={bubbles:!1,cancelable:!0,detail:{element:t||this}};this._parentGraph.dispatchEvent(new CustomEvent(e,i))}}getViewConfig(){return{type:"digital",show:this.show,position:this.axisPosition,width:this.width,signalSymbol:this.signalSymbol,busSymbolExpanded:this.busSymbolExpanded,busSymbolCollapsed:this.busSymbolCollapsed}}template(){return""}}),JQX("ni-digital-signal",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},label:{value:"",type:"string"}})}created(){super.created(),this._parentGraph=void 0,this._parentBus=void 0}attached(){super.attached(),this.parentElement instanceof JQX.DigitalGraph&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this.parentElement instanceof JQX.DigitalBus&&this.parentElement.isReady&&this.attachToBus(this.parentElement)}attachToGraph(e){this._parentGraph||(this._parentGraph=e),this.sendEventToParent("ni-digital-signal-attached")}attachToBus(e){this._parentBus||(this._parentBus=e),this.sendEventToParent("ni-digital-signal-attached")}detached(){super.detached(),this.sendEventToParent("ni-digital-signal-detached"),this._parentGraph=void 0,this._parentBus=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParent("ni-digital-signal-changed")}sendEventToParent(e){let t=this._parentGraph||this._parentBus;if(t){let i={bubbles:!1,cancelable:!0,detail:{element:this}};t.dispatchEvent(new CustomEvent(e,i))}}getAssignedBusIndex(){return this._parentBus?this._parentBus.getIndex():null}getViewConfig(){return{digitalWaveform:{signal:{show:this.show,bus:this.getAssignedBusIndex()}},label:this.label}}template(){return""}}),JQX("ni-digital-bus",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{label:{value:"",type:"string"},collapse:{value:!1,type:"boolean"},bitNumbering:{value:"lsb",type:"string",allowedValues:["lsb","msb"]},showLabels:{value:!1,type:"boolean"},labelPosition:{value:"center",type:"string",allowedValues:["center","left","right"]},labelFormat:{value:"binary",type:"string",allowedValues:["binary","decimal","hex"]}})}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),this.parentElement instanceof JQX.DigitalGraph&&this.parentElement.isReady&&this.attachToGraph(this.parentElement)}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.addDigitalBusEventListeners()),this.attachSignals(),this.sendEventToParentGraph("ni-digital-bus-attached")}attachSignals(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t instanceof JQX.DigitalSignal&&t.isReady&&t.attachToBus(this)}}addDigitalBusEventListeners(){let e=this;e.addEventListener("ni-digital-signal-attached",function(t){t.target===e&&this.sendEventToParentGraph("ni-digital-signal-attached",t.detail.element)}),e.addEventListener("ni-digital-signal-detached",function(t){t.target===e&&this.sendEventToParentGraph("ni-digital-signal-detached",t.detail.element)}),e.addEventListener("ni-digital-signal-changed",function(t){t.target===e&&this.sendEventToParentGraph("ni-digital-signal-changed",t.detail.element)})}detached(){super.detached(),this.sendEventToParentGraph("ni-digital-bus-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-digital-bus-changed")}sendEventToParentGraph(e,t){if(this._parentGraph){let i={bubbles:!1,cancelable:!0,detail:{element:t||this}};this._parentGraph.dispatchEvent(new CustomEvent(e,i))}}getIndex(){return this._parentGraph?this._parentGraph.getBusIndex(this):null}getViewConfig(){return{label:this.label,collapsed:this.collapse,bitNumbering:this.bitNumbering,showLabels:this.showLabels,labelPosition:this.labelPosition,labelFormatter:this.labelFormat}}template(){return""}}),JQX("ni-scatter-graph",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{static get properties(){return Object.assign({},super.properties,{lineWidth:{value:2,type:"number"},filled:{value:!1,type:"boolean"},drawLines:{value:!1,type:"boolean"},defaultColor:{value:"black",type:"string"},defaultShape:{value:"circle",type:"string"},defaultSize:{value:5,type:"number"},colors:{value:"",type:"string"},shapes:{value:"",type:"string"},sizes:{value:"",type:"string"}})}created(){super.created()}getSettings(){var e=!this.disabled&&!this.disableZoom,t=!this.disabled&&!this.disablePan,i=!this.disabled&&!this.disableRecenter;return{series:{scattergraph:{show:!0,lineWidth:this.lineWidth,filled:this.filled,drawLines:this.drawLines,defaultColor:this.defaultColor,defaultShape:this.defaultShape,defaultSize:this.defaultSize,colors:this.colors,shapes:this.shapes,sizes:this.sizes},highlights:{show:!0,highlightColor:this.highlightColor,highlightLines:this.highlightLines,highlightPoints:this.highlightPoints,highlightBars:this.highlightBars,lineWidth:this.highlightLineWidth,selectedIndexes:[[],[],[]],selectedRange:[[],[],[]]}},axisLabels:{show:!0},xaxes:[{}],yaxes:[{}],zoom:{interactive:e,active:e,enableTouch:e,trigger:null},pan:{interactive:t,active:t,enableTouch:t,mode:this.panMode,touchMode:this.touchPanMode},recenter:{interactive:i,enableTouch:i},selection:{mode:null},grid:{}}}configureGraph(){var e=super.configureGraph(),t=this.value;return e.series.scattergraph.data=t.length>0?t:this.defaultData(),e}attached(){super.attached(),this.updateCartesianAxesFromFlot()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.requestUpdate()}defaultData(){return[[]]}createData(e,t){return t}convertToFlotFormat(e){return e}}),function(){var e=window.NINumericFormatters,t=function(e,t){return"auto"===t?"NI-INTENSITY-GRAPH"===e._parentGraph.nodeName?"exact":"NI-CHART"===e._parentGraph.nodeName?"bottom"===e.axisPosition||"top"===e.axisPosition?"sliding-window":"loose":"bottom"===e.axisPosition||"top"===e.axisPosition?"exact":"loose":t},i=function(e){if("NI-CHART"===e._parentGraph.nodeName&&("bottom"===e.axisPosition||"top"===e.axisPosition)){var t=e.maximum-e.minimum;return t>0&&t<Number.POSITIVE_INFINITY?t:1024}};JQX("ni-cartesian-axis",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{axisRef:{value:"",type:"string"},show:{value:!1,type:"boolean"},label:{value:"",type:"string"},axisPosition:{value:"left",type:"string"},showLabel:{value:!1,type:"boolean"},minimum:{value:0,type:"number"},maximum:{value:1,type:"number"},autoScale:{value:"auto",type:"string"},logScale:{value:!1,type:"boolean"},mode:{value:"",type:"string"},timeBase:{value:"seconds",type:"string"},format:{value:"",type:"string"},timeFormatEpoch:{value:-621355968e5,type:"number"},showTickLabels:{value:"all",type:"string"},ticks:{value:void 0,type:"string"},gridLines:{value:!1,type:"boolean"},showTicks:{value:!1,type:"boolean"},showMinorTicks:{value:!1,type:"boolean"},tickSize:{value:void 0,type:"string"},minTickSize:{value:void 0,type:"string"},inverted:{value:!1,type:"boolean"},labelWidth:{value:void 0,type:"number"},pan:{value:"all",type:"string"},reserveSpace:{value:!1,type:"boolean"},zoom:{value:"all",type:"string"}})}created(){super.created(),this._defaultMin=this.minimum,this._defaultMax=this.maximum,this._parentGraph=void 0}sendEventToParentGraph(e,t,i){var n;void 0!==this._parentGraph&&(n={bubbles:!1,cancelable:!0,detail:{element:this}},t&&i&&(n.detail[t]=i),this._parentGraph.dispatchEvent(new CustomEvent(e,n)))}attached(){super.attached(),this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0,this._defaultMin=this.minimum,this._defaultMax=this.maximum}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.sendEventToParentGraph("ni-cartesian-axis-attached"))}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);var n=this._navigationOffset||{below:0,above:0};if("maximum"===e){var r=this.dispatchEvent(new CustomEvent("axisoffsetresetting",{cancelable:!0}));this._navigationOffset={above:r?0:n.above,below:n.below}}if("minimum"===e){var a=this.dispatchEvent(new CustomEvent("axisoffsetresetting",{cancelable:!0}));this._navigationOffset={above:n.above,below:a?0:n.below}}this.sendEventToParentGraph("ni-axis-changed")}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-axis-detached"),this._parentGraph=void 0}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r,this.sendEventToParentGraph("ni-axis-changed")}getViewConfig(){var n=window.getComputedStyle(this),r=/grow/.test(this.autoScale),a=r?this.autoScale.replace(/grow/,""):this.autoScale;return{axisLabel:this.showLabel?this.label:void 0,show:this.show,position:this.axisPosition,min:this.minimum,max:this.maximum,autoScale:t(this,a),windowSize:i(this),growOnly:r,mode:this.mode||(this.logScale?"log":"linear"),timeBase:this.timeBase||"seconds",element:this,timeEpoch:this.timeFormatEpoch,tickFormatter:e.getTickFormatter(e.parseTickFormatterType(this.format)),tickGenerator:e.getTickGenerator(this.format),tickSize:this.tickSize&&JSON.parse(this.tickSize),minTickSize:this.minTickSize&&JSON.parse(this.minTickSize),showTickLabels:this.showTickLabels,ticks:this.ticks?JSON.parse(this.ticks):void 0,gridLines:this.gridLines,showTicks:this.showTicks,showMinorTicks:this.showMinorTicks,color:n.color,offset:this._navigationOffset||{below:0,above:0},font:{size:parseFloat(n.fontSize),style:n.fontStyle,weight:n.fontWeight,family:n.fontFamily,color:"inherit"},axisZoom:"axis"===this.zoom||"all"===this.zoom,plotZoom:"plot"===this.zoom||"all"===this.zoom,axisPan:"axis"===this.pan||"all"===this.pan,plotPan:"plot"===this.pan||"all"===this.pan,inverted:this.inverted,labelWidth:this.labelWidth,reserveSpace:this.reserveSpace||void 0}}getFlotAxis(){var e=this._parentGraph.graph;if(void 0!==e){var t=e.getAxes(),i=this,n=Object.keys(t).filter(function(e){return t[e].options.element===i})[0];return t[n]}}getMinimum(){var e=this.minimum;if(this.isAttached){var t=this.getFlotAxis();e=void 0!==t&&void 0!==t.min?t.min:e}return e}getMaximum(){var e=this.maximum;if(this.isAttached){var t=this.getFlotAxis();e=void 0!==t&&void 0!==t.max?t.max:e}return e}resetOffset(e,t){var i=this._parentGraph.graph,n=this.getFlotAxis(),r=i.getData(),a=r.filter(function(e){return e.xaxis===n||e.yaxis===n});if(0!==r.length&&0!==a.length&&a.some(e=>0!==e.datapoints.points.length)){var s=e?"x"===n.direction?{xmin:n.min,xmax:n.max}:{ymin:n.min,ymax:n.max}:this._parentGraph.getDataRanges(this,t);this._navigationOffset=n.options.offset={below:0,above:0};var o="x"===n.direction?s.xmin:s.ymin,l="x"===n.direction?s.xmax:s.ymax;this.minimum=o!==Number.POSITIVE_INFINITY?o:this._defaultMin,this.maximum=l!==Number.NEGATIVE_INFINITY?l:this._defaultMax,this.sendEventToParentGraph("ni-axis-reset","keepExistingRange",e)}}syncWithFlot(){var e=this.getFlotAxis();"number"==typeof e.options.min&&(this.minimum=e.options.min,this.maximum=e.options.max),"object"==typeof e.options.offset&&(this._navigationOffset={below:e.options.offset.below,above:e.options.offset.above}),void 0!==this._parentGraph&&this._parentGraph.notifyScaleLegend("ni-axis-changed",this)}template(){return""}})}(),JQX("ni-color-scale",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{label:{value:"",type:"string"},show:{value:!1,type:"boolean"},showLabel:{value:!1,type:"boolean"},axisPosition:{value:"right",type:"string"},showTickLabels:{value:"all",type:"string"},highColor:{value:"#ffffff",type:"string"},lowColor:{value:"#000000",type:"string"},markers:{value:'[{\n                        "value": 0,\n                        "color": "#3182bd"\n                    }, {\n                        "value": 50,\n                        "color": "#9ecae1"\n                    }, {\n                        "value": 100,\n                        "color": "#deebf7"\n                    }]',type:"string"},autoScale:{value:"auto",type:"string"},minimum:{value:0,type:"number"},maximum:{value:1,type:"number"}})}created(){super.created(),this._parentGraph=void 0}sendEventToParentGraph(e){var t;void 0!==this._parentGraph&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentGraph.dispatchEvent(new CustomEvent(e,t)))}attached(){super.attached(),this.parentElement instanceof JQX.IntensityGraph&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=this.parentElement,this.sendEventToParentGraph("ni-cartesian-axis-attached"))}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-axis-changed")}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-axis-detached"),this._parentGraph=void 0}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r,this.sendEventToParentGraph("ni-axis-changed")}getViewConfig(){var e=window.getComputedStyle(this),t=/grow/.test(this.autoScale),i=t?this.autoScale.replace(/grow/,""):this.autoScale;return{type:JQX.IntensityGraph.ColorScaleType,axisLabel:this.showLabel?this.label:void 0,show:this.show,autoScale:"auto"===i?"none":i,growOnly:t,min:this.minimum,max:this.maximum,position:this.axisPosition,lowColor:this.lowColor,highColor:this.highColor,markers:this.markers,showTickLabels:this.showTickLabels,font:{size:parseFloat(e.fontSize),style:e.fontStyle,weight:e.fontWeight,family:e.fontFamily,color:"inherit"},axisZoom:!1,plotZoom:!1,axisPan:!1,plotPan:!1,gridLines:!1}}template(){return""}getFlotAxis(){if(this._parentGraph)return this._parentGraph.graph.getYAxes().filter(function(e){return e.options.type===JQX.IntensityGraph.ColorScaleType})[0]}}),hi={lines:{show:!1}},JQX("ni-cartesian-plot",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},xaxis:{value:"",type:"string"},yaxis:{value:"",type:"string"},enableHover:{value:!1,type:"boolean"},enableClick:{value:!1,type:"boolean"},hoverFormat:{value:"",type:"any",reflectToAttribute:!1}})}reset(e){var t,i=this._parentGraph.axes;e.axisRef&&(t=i.filter(function(t){return t.axisRef===e.axisRef})),t||(t=i),"none"!==e.autoScale?t.forEach(function(t){t.autoScale=e.autoScale,t.resetOffset()}):e.minimum&&e.maximum?t.forEach(function(t){t.minimum=e.minimum,t.maximum=e.maximum,t.sendEventToParentGraph("ni-axis-changed")}):t.forEach(function(t){t.autoScale=e.autoScale,t.resetOffset();var i=t.getFlotAxis();i.min=t.minimum,i.max=t.maximum})}created(){super.created(),this._parentGraph=void 0}sendEventToParentGraph(e,t){var i;void 0!==this._parentGraph&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this._parentGraph.dispatchEvent(new CustomEvent(e,i)))}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.Chart)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.addPlotItemListeners(),this.attachChildren(),this.sendEventToParentGraph("ni-cartesian-plot-attached"))}attachChildren(){for(var e=this.children,t=0;t<e.length;t++){var i=e[t];"NI-CARTESIAN-PLOT-RENDERER"===i.tagName&&i instanceof window.JQX.CartesianPlotRenderer&&i.isReady&&i.attachToPlot(this)}}addPlotItemListeners(){var e=this;e.addEventListener("ni-cartesian-plot-renderer-attached",function(t){t.target===e&&(this.plotRenderer=t.detail.element,this.sendEventToParentGraph("ni-cartesian-plot-renderer-attached",t.detail.element))}),e.addEventListener("ni-cartesian-plot-renderer-detached",function(t){t.target===e&&(this.plotRenderer=void 0,this.sendEventToParentGraph("ni-cartesian-plot-renderer-detached",t.detail.element))}),e.addEventListener("ni-cartesian-plot-renderer-changed",function(t){t.target===e&&this.sendEventToParentGraph("ni-cartesian-plot-renderer-changed",t.detail.element)})}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-plot-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-cartesian-plot-changed")}getViewConfig(){var e=hi;return void 0!==this.plotRenderer&&!0===this.show&&(e=this.plotRenderer.getViewConfig()),e.label=this.label,e.hoverable=this.enableHover,e.clickable=this.enableClick,e.xaxis=this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),e.yaxis=this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),e}template(){return""}}),function(){var e=function(e){switch(e){case"zero":return 0;case"infinity":case"positiveinfinity":return 1/0;case"-infinity":case"negativeinfinity":return-1/0;default:return}};JQX("ni-cartesian-plot-renderer",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{lineStroke:{value:"auto",type:"string"},lineWidth:{value:1,type:"number"},lineStyle:{value:"solid",type:"string"},areaFill:{value:"",type:"string"},areaBaseLine:{value:"zero",type:"string"},barFill:{value:"",type:"string"},barWidth:{value:.75,type:"number"},absoluteBarWidth:{value:!1,type:"boolean"},orientation:{value:"vertical",type:"string"},barBaseLine:{value:"zero",type:"string"},pointColor:{value:"",type:"string"},pointSize:{value:5,type:"number"},pointShape:{value:"ellipse",type:"string"},fillPoints:{value:!1,type:"boolean"},fillOpacity:{value:.6,type:"number"}})}created(){super.created(),this._parentPlot=void 0}sendEventToParentPlot(e){var t;void 0!==this._parentPlot&&(t={bubbles:!1,cancelable:!0,detail:{element:this}},this._parentPlot.dispatchEvent(new CustomEvent(e,t)))}attached(){super.attached(),this.parentElement instanceof JQX.CartesianPlot&&this.parentElement.isReady?this.attachToPlot(this.parentElement):this._parentPlot=void 0}attachToPlot(e){this._parentPlot=e,this.sendEventToParentPlot("ni-cartesian-plot-renderer-attached")}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentPlot("ni-cartesian-plot-renderer-changed")}detached(){super.detached(),this.sendEventToParentPlot("ni-cartesian-plot-renderer-detached")}toFlotLineStyle(e){switch(e){case"solid":return;case"dot":return[this.lineWidth,2*this.lineWidth];case"mediumdash":return[3*this.lineWidth,2*this.lineWidth];case"dashdot":return[3*this.lineWidth,2*this.lineWidth,this.lineWidth,2*this.lineWidth];case"largedash":return[5*this.lineWidth,3*this.lineWidth];default:return}}getColor(){var e=this.lineStroke||this.pointColor||this.areaFill||this.barFill;return"auto"===e?null:e}getViewConfig(){return{color:this.getColor(),lines:{show:""!==this.lineStroke||""!==this.areaFill,lineWidth:this.lineWidth,fill:""!==this.areaFill&&this.fillOpacity,zero:!1,fillTowards:e(this.areaBaseLine),dashes:this.toFlotLineStyle(this.lineStyle)},points:{show:""!==this.pointColor,radius:this.pointSize?this.pointSize/2:2,symbol:this.pointShape,fillColor:this.fillPoints?this.pointColor:"#ffffff"},bars:{show:""!==this.barFill,barWidth:[this.barWidth,this.absoluteBarWidth],horizontal:"horizontal"===this.orientation,align:"center",zero:!1,fill:this.fillOpacity,fillTowards:e(this.barBaseLine)}}}template(){return""}})}(),Object.assign(window.NationalInstruments.HtmlVI.Elements,{CursorBase:class extends window.JQX.BaseElement{created(){super.created(),this.cursor=null,this._parentGraph=void 0,this.onCursorUpdates=this.onCursorUpdates.bind(this),this.onCursorDragUpdates=this.onCursorDragUpdates.bind(this),this.handleGraphUpdated=this.handleGraphUpdated.bind(this)}setCursor(e){this.cursor=e}sendEventToParentGraph(e){if(void 0!==this._parentGraph){const t={bubbles:!0,cancelable:!0,detail:{element:this}};this._parentGraph.dispatchEvent(new CustomEvent(e,t))}}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.Chart||this.parentElement instanceof JQX.DigitalGraph||this.parentElement instanceof JQX.ScatterGraph)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-attached"),this.graphCreatedHandler=(()=>{this._parentGraph.graph.getPlaceholder().bind("cursorupdates",this.onCursorUpdates),this._parentGraph.graph.getPlaceholder().bind("cursordragstart",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().bind("cursordrag",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().bind("cursordragend",this.onCursorDragUpdates)}),e.addEventListener("ni-graph-created",this.graphCreatedHandler),e.addEventListener("ni-graph-updated",this.handleGraphUpdated),this._parentGraph._isInitialized&&this.graphCreatedHandler())}handleGraphUpdated(){}onCursorUpdates(e,t){}onCursorDragUpdates(e,t){t.cookie===this&&this.updateCursorElement(e,t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),void 0!==this._parentGraph&&this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-changed")}detached(){super.detached(),this._parentGraph.removeEventListener("ni-graph-created",this.graphCreatedHandler),this._parentGraph.removeEventListener("ni-graph-updated",this.handleGraphUpdated),this._parentGraph.requestUpdate(),this._parentGraph&&this._parentGraph.graph&&(this._parentGraph.graph.getPlaceholder().unbind("cursorupdates",this.onCursorUpdates),this._parentGraph.graph.getPlaceholder().unbind("cursordragstart",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().unbind("cursordrag",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().unbind("cursordragend",this.onCursorDragUpdates)),this.sendEventToParentGraph("ni-cursor-detached"),this._parentGraph=void 0}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.textDecoration=r,this._parentGraph&&this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-changed")}setColor(e){this.style.color=e,this._parentGraph&&this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-changed")}template(){return""}}}),function(){const e=NationalInstruments.Globals.jQuery;JQX("ni-cursor",class extends NationalInstruments.HtmlVI.Elements.CursorBase{static get properties(){return{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},showLabel:{value:!1,type:"boolean"},targetShape:{value:"ellipse",type:"string"},targetSize:{value:8,type:"number"},crosshairStyle:{value:"both",type:"string"},showValue:{value:!1,type:"boolean"},snapToPlot:{value:void 0,type:"number?"},interpolate:{value:!1,type:"boolean"},xaxis:{value:"",type:"string"},yaxis:{value:"",type:"string"},x:{value:.5,type:"number"},y:{value:.5,type:"number"},xPosition:{value:void 0,type:"number"},yPosition:{value:void 0,type:"number"},fontFamily:{value:"sans-serif",type:"string"},fontSize:{value:"10px",type:"string"},fontStyle:{value:"",type:"string"},showThumbs:{value:"none",type:"string"},dashes:{value:[],type:"object"},thumbLabel:{value:"",type:"string"},thumbOffset:{value:"0",type:"string"},thumbColor:{value:void 0,type:"string"}}}onCursorUpdates(e,t){const i=t[this._parentGraph.graph.getCursors().indexOf(this.cursor)];this.updateCursorElement(e,i)}handleGraphUpdated(){const e=Array.from(this._parentGraph.children).filter(e=>e instanceof JQX.Cursor).indexOf(this),t=this._parentGraph.graph.getCursors()[e];t.cookie=this,this.setCursor(t)}updateCursorElement(t,i){if(i&&(this.x=this.cursor.position.relativeX,this.y=this.cursor.position.relativeY,this.xPosition=this.cursor.position.x,this.yPosition=this.cursor.position.y),this._parentGraph)switch(t.type){case"cursorupdates":e(this).trigger("cursorUpdated",i);break;case"cursordragstart":e(this).trigger("cursorDragStart");break;case"cursordrag":e(this).trigger("cursorDrag");break;case"cursordragend":e(this).trigger("cursorDragEnd")}}getViewConfig(){var e,t=window.getComputedStyle(this),i=this.crosshairStyle;e="both"===i?"xy":"horizontal"===i?"y":"vertical"===i?"x":"none"===i?"":null;var n=!(this.disabled||this._parentGraph.disabled);return{show:this.show,showLabel:this.showLabel,showValues:this.showValue,name:this.label,snapToPlot:this.snapToPlot,interpolate:this.interpolate,defaultxaxis:this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),defaultyaxis:this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),mode:e,symbol:this.targetShape,symbolSize:this.targetSize,color:t.color,fontSize:t.fontSize,fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight,position:{relativeX:this.x,relativeY:this.y,x:this.xPosition,y:this.yPosition},showThumbs:this.showThumbs,dashes:this.dashes,thumbAbbreviation:this.thumbLabel,thumbOffset:this.thumbOffset,thumbColor:this.thumbColor,thumbClassList:n?["draggable"]:[],movable:n}}getEntryInfo(){return{name:"cursors",valueType:"array"}}})}(),function(){const e=NationalInstruments.Globals.jQuery;JQX("ni-range-cursor",class extends NationalInstruments.HtmlVI.Elements.CursorBase{static get properties(){return{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},showLabel:{value:!1,type:"boolean"},showValue:{value:!1,type:"boolean"},showBorders:{value:!0,type:"boolean"},orientation:{value:"vertical",type:"string"},halign:{value:"top",type:"string"},transparentRange:{value:!1,type:"boolean"},lineWidth:{value:1,type:"number"},fillColor:{value:"#4F4F4F4F",type:"string"},constrainToEdge:{value:!1,type:"boolean"},xaxis:{value:"",type:"string"},yaxis:{value:"",type:"string"},xstart:{value:void 0,type:"number"},xend:{value:void 0,type:"number"},relativeXStart:{value:.45,type:"number"},relativeXEnd:{value:.55,type:"number"},ystart:{value:void 0,type:"number"},yend:{value:void 0,type:"number"},relativeYStart:{value:.45,type:"number"},relativeYEnd:{value:.55,type:"number"},dashes:{value:[],type:"object"}}}onCursorUpdates(e,t){const i=t[this._parentGraph.graph.getRangeCursors().indexOf(this.cursor)];this.updateCursorElement(e,i)}handleGraphUpdated(){const e=Array.from(this._parentGraph.children).filter(e=>e instanceof JQX.RangeCursor).indexOf(this),t=this._parentGraph.graph.getRangeCursors()[e];t.cookie=this,this.setCursor(t)}updateCursorElement(t,i){if("cursorupdates"===t.type){if(void 0===i.rangecursor)return;i.positionMode?(this.xstart=i.position.xstart,this.xend=i.position.xend,this.relativeXEnd=void 0,this.relativeXStart=void 0,this.ystart=i.position.ystart,this.yend=i.position.yend,this.relativeYEnd=void 0,this.relativeYStart=void 0):(this.relativeXStart=i.position.relativeXStart,this.relativeXEnd=i.position.relativeXEnd,this.xstart=void 0,this.xend=void 0,this.relativeYStart=i.position.relativeYStart,this.relativeYEnd=i.position.relativeYEnd,this.ystart=void 0,this.yend=void 0)}else this.xstart=i.position.xstart,this.xend=i.position.xend,this.relativeXStart=i.position.relativeXStart,this.relativeXEnd=i.position.relativeXEnd,this.ystart=i.position.ystart,this.yend=i.position.yend,this.relativeYStart=i.position.relativeYStart,this.relativeYEnd=i.position.relativeYEnd;if(this._parentGraph)switch(t.type){case"cursorupdates":e(this).trigger("cursorUpdated",i);break;case"cursordragstart":e(this).trigger("cursorDragStart");break;case"cursordrag":e(this).trigger("cursorDrag");break;case"cursordragend":e(this).trigger("cursorDragEnd")}}getViewConfig(){var e=window.getComputedStyle(this),t=!(this.disabled||this._parentGraph.disabled);return{show:this.show,name:this.label,xstart:void 0,xend:void 0,ystart:void 0,yend:void 0,showLabel:this.showLabel,showValue:this.showValue,showBorders:this.showBorders,orientation:this.orientation,halign:this.halign,defaultxaxis:this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),defaultyaxis:this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),transparentRange:this.transparentRange,constrainToEdge:this.constrainToEdge,color:e.color,fillColor:this.fillColor,fontSize:e.fontSize,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight,lineWidth:this.lineWidth,position:{relativeXStart:this.relativeXStart,relativeXEnd:this.relativeXEnd,xstart:this.xstart,xend:this.xend,relativeYStart:this.relativeYStart,relativeYEnd:this.relativeYEnd,ystart:this.ystart,yend:this.yend},dashes:this.dashes,movable:t}}getEntryInfo(){return{name:"rangecursors",valueType:"array"}}})}(),function(){var e=NationalInstruments.HtmlVI.DataPipeline,t=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,i=NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum,n=NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer,r=function(e,t){var i=document.createElement("ni-cartesian-plot"),n=document.createElement("ni-cartesian-plot-renderer"),r=e.getSettings().colors;n.lineStroke=r[e.plots.length%r.length],i.show=!0,i.label=void 0===t?e.nextPlotName():t,e.appendChild(i),i.appendChild(n)},a=function(e,n){var a,s=0;a=n,Array.isArray(a)&&Array.isArray(a[0])||t.prototype.inferDataType(n)===i.niAnalogWaveformArray||t.prototype.inferDataType(n)===i.XYArrayOfClusterOfArrays||t.prototype.inferDataType(n)===i.XYArrayOfClusterOfArrayOfPoint?s=n.length:function(e){return!(!Array.isArray(e)||Array.isArray(e[0]))}(n)&&n.length>0&&(s=1);for(var o=e.plots.length;o<s;o++){var l,d=n[o];"string"==typeof d.channelName&&d.channelName.length>0&&(l=d.channelName),r(e,l)}};class s{static get properties(){return{niType:{value:void 0,type:"string?",observer:"setNIType"}}}static get moduleName(){return"NITypedCartesianGraphModule"}addPlot(e){r(this.ownerElement,e)}setNIType(e,t){this.ownerElement.valueTypeNeedsUpdate=!0}created(){this.ownerElement.valueType=e.DataTypesEnum.unknown,this.ownerElement.valueTypeNeedsUpdate=!1}attached(){this.ownerElement.valueType=e.inferDataTypeFromNIType(d(this.ownerElement.niType)),this.ownerElement.valueTypeNeedsUpdate=!1}setData(t){this.ownerElement.valueTypeNeedsUpdate&&(this.ownerElement.valueType=e.inferDataTypeFromNIType(d(this.ownerElement.niType)),this.ownerElement.valueTypeNeedsUpdate=!1),a(this.ownerElement,t),window.NationalInstruments.HtmlVI.Elements.CartesianGraphBase.prototype.setData.call(this.ownerElement,t)}}class o{static get properties(){return{niType:{value:void 0,type:"string?",observer:"setNIType"}}}static get moduleName(){return"NITypedChartModule"}addPlot(e){r(this.ownerElement,e)}setNIType(e,t){h(this.ownerElement.historyBuffer,this.ownerElement.niType)}ready(){this.ownerElement.historyBuffer=new n(this.ownerElement.bufferSize,1),h(this.ownerElement.historyBuffer,this.ownerElement.niType)}setHistoryBuffer(e){this.ownerElement.historyBuffer=e,h(this.ownerElement.historyBuffer,this.ownerElement.niType)}getHistoryBuffer(){return this.ownerElement.historyBuffer}}class l{static get properties(){return{niType:{value:NITypes.DOUBLE.makeArray(2).toJSON(),type:"string?"}}}static get moduleName(){return"NITypedIntensityGraphModule"}}function d(e){var t=null;try{e&&(t=new NIType(e))}catch(e){}return t}function h(e,t){"function"==typeof e.setNIType&&e.setNIType(d(t))}JQX.Elements.whenRegistered("ni-cartesian-graph",function(e){e.addModule(s)}),JQX.Elements.whenRegistered("ni-chart",function(e){e.addModule(o)}),JQX.Elements.whenRegistered("ni-intensity-graph",function(e){e.addModule(l)})}(),JQX("ni-axis-handle",class extends window.JQX.BaseElement{static get properties(){return{position:{value:.5,type:"number"},absolutePosition:{value:void 0,type:"number"},show:{value:!1,type:"boolean"},orientation:{value:"vertical",type:"string",allowedValues:["vertical","horizontal"]},location:{value:"far",type:"string",allowedValues:["far","near"]},axisIndex:{value:0,type:"number"},label:{value:"",type:"string"},fill:{value:void 0,type:"string"},axis:{value:"",type:"string"}}}onAxisHandleUpdates(e,t){this.syncPropertiesWithFlotAxisHandle()}onAxisHandlePanStart(e,t){t.cookie===this&&(this.dispatchEvent(new CustomEvent("ni-axis-handle-pan-start",{bubbles:!0,cancelable:!0})),e.preventDefault(),e.stopImmediatePropagation())}onAxisHandlePan(e,t,i,n,r){r.cookie===this&&(this.dispatchEvent(new CustomEvent("ni-axis-handle-pan",{bubbles:!0,cancelable:!0,detail:t})),e.preventDefault(),e.stopImmediatePropagation())}onAxisHandlePanEnd(e,t){t.cookie===this&&(this.dispatchEvent(new CustomEvent("ni-axis-handle-pan-end",{bubbles:!0,cancelable:!0})),e.preventDefault(),e.stopImmediatePropagation())}created(){super.created(),this.axisHandle=null,this._parentGraph=void 0}sendEventToParentGraph(e){if(void 0!==this._parentGraph){const t={bubbles:!0,cancelable:!0,detail:{element:this}};this._parentGraph.dispatchEvent(new CustomEvent(e,t))}}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.Chart)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this._parentGraph.requestUpdate(),this.graphCreatedHandler=(()=>{this._parentGraph.graph.getPlaceholder().bind("axisHandleUpdates",this.onAxisHandleUpdates.bind(this)),this._parentGraph.graph.getPlaceholder().bind("axisHandlePanStart",this.onAxisHandlePanStart.bind(this)),this._parentGraph.graph.getPlaceholder().bind("axisHandlePan",this.onAxisHandlePan.bind(this)),this._parentGraph.graph.getPlaceholder().bind("axisHandlePanEnd",this.onAxisHandlePanEnd.bind(this))}),this.graphUpdatedHandler=(()=>{const e=Array.from(this._parentGraph.children).filter(e=>e instanceof JQX.AxisHandle).indexOf(this),t=this._parentGraph.graph.getAxisHandles()[e];t.cookie=this,this.setFlotAxisHandle(t)}),e.addEventListener("ni-graph-created",this.graphCreatedHandler),this._parentGraph._isInitialized&&this.graphCreatedHandler(),e.addEventListener("ni-graph-updated",this.graphUpdatedHandler))}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-axis-handle-changed")}detached(){super.detached(),this._parentGraph.removeEventListener("ni-graph-created",this.graphCreatedHandler),this._parentGraph.removeEventListener("ni-graph-updated",this.graphUpdatedHandler),this._parentGraph.requestUpdate(),this._parentGraph=void 0}getViewConfig(){const e=this.disabled||this._parentGraph.disabled,t=("horizontal"===this.orientation?this._parentGraph.getXAxisIndexByNIControlID:this._parentGraph.getYAxisIndexByNIControlID).call(this._parentGraph,this.axis)-1;return{position:this.position,absolutePosition:this.absolutePosition,show:this.show,orientation:this.orientation,location:this.location,axisIndex:t,handleLabel:this.label,fill:this.fill,handleClassList:e?[]:["draggable"]}}template(){return""}setFlotAxisHandle(e){this.axisHandle=e}syncPropertiesWithFlotAxisHandle(){this.position=this.axisHandle.position}getEntryInfo(){return{name:"axisHandles",valueType:"array"}}}),JQX("ni-parking-lot",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{offset:{value:35,type:"number"},show:{value:!0,type:"boolean"}})}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.Chart)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(e.getElementsByTagName("ni-parking-lot").length>1&&console.warn("A single parking lot can be added to the graph"),this._parentGraph=e,this._parentGraph.requestUpdate())}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this._parentGraph&&this._parentGraph.requestUpdate()}detached(){super.detached(),this._parentGraph.requestUpdate(),this._parentGraph=void 0}getViewConfig(){return{offset:this.offset,show:this.show}}getEntryInfo(){return{name:"parkingLot",valueType:"object"}}template(){return""}});var ui=Object.freeze({});NationalInstruments.HtmlVI.Elements.GraphLegend=class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{graphRef:{value:"",type:"string"},isInEditMode:{value:!1,type:"boolean"}})}findGraph(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-cartesian-graph[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-chart[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[ni-control-id='"+this.graphRef+"']")}isDisabledOrInEditMode(){return this.disabled||this.isInEditMode}template(){return""}},function(){var e=NationalInstruments.HtmlVI.NISupport;NationalInstruments.HtmlVI.Elements.LegendHelpers=function(e,t){this.helpers=e,this.legendItemDisplay=t};var t=NationalInstruments.HtmlVI.Elements.LegendHelpers.prototype;t.createJQXButton=function(e,t=!1){var i=document.createElement(t?"jqx-toggle-button":"jqx-button");return i.className=e,i.animation="none",i.unfocusable=!0,i},t.addButtons=function(e,t,i){var n,r,a=this;e.children.forEach(function(e){(n=a.createJQXButton("ni-button",!0)).checked=!1,""!==e.cssClass&&n.classList.add(e.cssClass),n.addEventListener("change",function(){if(r!==this){if(this.checked){var t=r;r=this,t.checked=!1,a.helpers.handleClick(e.name,null,i),a.legendItemDisplay.updateShape(i)}}else this.checked=!0});var s=a.helpers.getState(e.name,i);void 0!==s&&(n.checked=s,!0===s&&(r=n)),t.appendChild(n)})},t.addComboBox=function(t,i,n,r,a){var s,o=this,l=0,d=!0,h=document.createElement("jqx-drop-down-list");for(i.appendChild(h),i.appendChild(h),h.itemHeight=32,h.dropDownHeight="auto",h.classList.add(...a.split(" ")),s=0;s<t.children.length;s++){var c=e.i18n(t.children[s].tag);"[msg_"===c.substring(0,5)&&(c=t.name);var u=`<label class="ni-selector-title">${c}</label><icon class="ni-selector-icon ${t.children[s].cssClass}" style="background-size: ${r}px 16px; width: ${r+4}px; "></icon>`;h.insert(s,u),!0===this.helpers.getState(t.children[s].name,n)&&(l=s)}h.addEventListener("change",function(e){!0!==d&&(o.helpers.handleClick(t.children[e.detail.index].name,null,n),o.legendItemDisplay.updateShape(n))}),h.selectedIndexes=[l],d=!1},t.addColorBox=function(e,t,i,n){var r=this,a=document.createElement("jqx-color-picker");a.style.width="inherit",a.animation="none",a.displayMode="palette",a.valueFormat="hex",a.hideContentToFit=[],a.classList.add("legend-colorbox-colorbox"),a.classList.add(...n.split(" ")),t.appendChild(a);var s=r.helpers.getState(e.name,i);a.value=s||"",a.addEventListener("change",function(){r.helpers.handleClick(e.name,a.value,i),r.legendItemDisplay.updateShape(i)})},t.addCheckBox=function(e,t,i,n){var r=this,a=document.createElement("jqx-check-box");a.animation="none",a.unfocusable=!0,a.className=n,a.classList.add("legend-checkbox"),a.addEventListener("change",function(t){r.helpers.handleClick(e.name,t.detail.value,i)}),t.appendChild(a);var s=r.helpers.getState(e.name,i);void 0!==s&&(a.checked=s)}}(),JQX("ni-light-plot-legend",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},graphRef:{value:"",type:"string"},position:{value:"container",type:"string"}})}findGraph(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);var n=this.findGraph();switch(e){case"position":case"show":for(;this.hasChildNodes();)this.removeChild(this.firstChild)}n&&n.updateGraphConfig()}});class pi{static get moduleName(){return"NILightLegendModule"}getSettings(){var e=this.ownerElement.getSettingsWorkaround(),t=this.findLegend(this.ownerElement.graphRef);if(!t)return e;var i={show:t.show,container:function(e){var t=null;return"nw"!==e.position&&"ne"!==e.position&&"sw"!==e.position&&"se"!==e.position&&(e.hasChildNodes()?t=e.lastChild:(t=document.createElement("div"),e.appendChild(t))),t}(t),position:t.position,margin:5};return e.legend=i,e}findLegend(e){return document.querySelector("ni-light-plot-legend[graph-ref='"+e+"']")}}JQX.Elements.whenRegistered("ni-cartesian-graph",function(e){e.addModule(pi)}),JQX.Elements.whenRegistered("ni-chart",function(e){e.addModule(pi)}),function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,i=function(e){e.createRow(e.expanderWrapper,e.nPlots),e.helpers.addRenderer(e.nPlots),e.nPlots++},n=function(e,t){e.nPlots>0&&(e.removeRow(e.expanderWrapper,t),e.helpers.clearRenderer(t),e.nPlots--)};JQX("ni-plot-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{static get properties(){return Object.assign({},super.properties,{mode:{value:"full",type:"string"},tooltips:{value:!1,type:"boolean"}})}created(){super.created(),this.expanderWrapper=void 0,this.nPlots=0,this.helpers=new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,this.plotLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.plotLegendItemDisplay),this.deferLegendUpdates=!1}plotAdded(){this.deferLegendUpdates||i(this)}plotRemoved(e){this.deferLegendUpdates||n(this,e)}syncPlotLegendWithGraph(){if(this.deferLegendUpdates){var e=this.findGraph();if(!e)return;for(var t=e.plots.length;t<this.nPlots;){var r=this.nPlots-1;n(this,r)}for(;t>this.nPlots;)i(this)}}createRows(){var e;for(e=0;e<this.nPlots;e++)this.createRow(this.expanderWrapper,e)}removeRows(){var e;for(e=this.nPlots-1;e>=0;e--)this.removeRow(this.expanderWrapper,e)}throttlePlotUpdates(e){var t=this.findGraph();null!==t&&(t.throttlePlotUpdates(e),this.deferLegendUpdates=e)}attachToGraph(e){this.helpers.graph!==e?this.detachFromGraph():e&&e.plots.length<this.nPlots&&this.removeRows(),e&&e.isReady&&this.helpers.graph!==e&&(this.helpers.graph=e,this.nPlots=e.plots.length,this.createRows(),e.registerPlotLegend(this))}detachFromGraph(){this.helpers.clearCache(),this.helpers.graph=null,this.removeRows(),this.nPlots=0}attached(){var e,t,r=this;super.attached(),this.helpers.isInEditMode=this.isInEditMode,(e=document.createElement("div")).style.width="100%",e.style.height="100%",this.appendChild(e),(t=document.createElement("jqx-accordion")).style.width="100%",t.style.height="100%",t.animation="none","full"===this.mode?t.expandMode="toggle":t.expandMode="none",t.disabled=this.isDisabledOrInEditMode(),e.appendChild(t),this.expanderWrapper=t,this.addEventListener("ni-cartesian-plot-attached",function(){r.plotAdded(),r.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-detached",function(e){var t,i=e.detail.originalSource;t=r.helpers.getIndex(i),r.plotRemoved(t),r.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-changed",function(e){var t,i=e.detail.originalSource;t=r.helpers.getIndex(i),r.updatePlotName(t,r.helpers.getPlotName(t))}),this.addEventListener("ni-cartesian-plot-renderer-changed",function(e){var t,i=e.detail.originalSource;t=r.helpers.rendererToIndex(i),r.plotLegendItemDisplay.updateShape(t)}),this.addEventListener("ni-cartesian-plot-renderer-attached",function(e){var t,i=e.detail.originalSource;r.helpers.clearCache(),t=r.helpers.rendererToIndex(i),r.plotLegendItemDisplay.updateShape(t)}),this.addEventListener("ni-cartesian-plot-renderer-detached",function(e){var t,i=e.detail.originalSource;r.helpers.clearCache(),t=r.helpers.rendererToIndex(i),r.plotLegendItemDisplay.updateShape(t)}),this.addEventListener("ni-plot-count-changed",function(e){var t=e.detail.originalSource;if("compact"===r.mode){for(;t.plotCount<r.nPlots;){var a=r.nPlots-1;n(r,a)}for(;t.plotCount>r.nPlots;)i(r)}});var a=this.findGraph();null!==a&&this.attachToGraph(a)}createRow(e,t){var i,n,r,a,s,o,l,d=this;(i=document.createElement("jqx-accordion-item")).animation="none",i.id="expander"+t,i.className="ni-plot-legend-box",e.appendChild(i),(n=document.createElement("div")).id="header"+t,n.className="ni-master-row",i.querySelector(".jqx-label").appendChild(n),(a=document.createElement("div")).className="ni-plot-display",n.appendChild(a),this.plotLegendItemDisplay.createHeaderDisplay(a,t),this.plotLegendItemDisplay.updateShape(t),(l=document.createElement("span")).className="ni-plot-title",s=this.helpers.getPlotName(t),"compact"===this.mode&&(this.helpers.getPlot(t)||(s="Plot "+(t+1))),this.tooltips&&(l.title=s),o=document.createTextNode(s),l.appendChild(o),n.appendChild(l),(r=document.createElement("div")).id="content"+t,r.className="ni-details-box",i.querySelector(".jqx-content-container").appendChild(r),"full"===this.mode&&(i.expanded=!1,e.addEventListener("expanding",function(e){d.loadContentIfNeeded(r,t)})),this.applyFont()}updatePlotName(e,i){var n=t(this.expanderWrapper).find(".ni-plot-title");t(n[e]).text(i)}loadContentIfNeeded(t,i){var n,r,a,s,o,l,d;if(null===t.querySelector(".ni-details"))for((n=document.createElement("table")).className="ni-details",t.appendChild(n),a=0;a<this.helpers.menu.length;a++){var h=this.helpers.menu[a];(r=document.createElement("tr")).className="ni-details-row "+(h.cssClass||""),n.appendChild(r),(l=document.createElement("td")).className="ni-detail-row-title-box",r.appendChild(l),(s=document.createElement("span")).className="ni-detail-row-title",l.appendChild(s);var c=e.i18n(h.tag);switch("[msg_"===c.substring(0,5)&&(c=h.name+"!"),o=document.createTextNode(c),s.appendChild(o),(d=document.createElement("td")).className="ni-details-row-operations-box",r.appendChild(d),h.type){case"buttons":this.uihelpers.addButtons(h,d,i);break;case"combobox":this.uihelpers.addComboBox(h,d,i,24,"ni-selector");break;case"colorbox":this.uihelpers.addColorBox(h,d,i,"ni-colorbox-selector ni-selector");break;case"checkbox":this.uihelpers.addCheckBox(h,d,i,"ni-hover-box")}}}removeRow(e,t){this.plotLegendItemDisplay.removeHeaderDisplay(null,t),e.remove(t)}setFont(e,i,n,r,a){var s=this.firstElementChild,o=t(this),l=t(s).find(" .jqx-widget-content"),d=t(s).find(" .ni-plot-title"),h=t(s).find(" .ni-detail-row-title");o.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r}),l.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r}),d.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r}),h.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r})}applyFont(){var e=this.firstElementChild,i=t(e).find(" .jqx-widget-content"),n=t(e).find(" .ni-plot-title"),r=t(e).find(" .ni-detail-row-title"),a=t(this).css("font-size"),s=t(this).css("font-family"),o=t(this).css("font-weight"),l=t(this).css("font-style");i.css({"font-size":a,"font-family":s,"font-weight":o,"font-style":l}),n.css({"font-size":a,"font-family":s,"font-weight":o,"font-style":l}),r.css({"font-size":a,"font-family":s,"font-weight":o,"font-style":l})}propertyChangedHandler(e,i,n){super.propertyChangedHandler(e,i,n);let r=this;switch(e){case"graphRef":this.helpers.graph.plotLegend=null;var a=this.findGraph();this.attachToGraph(a);break;case"disabled":case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,t(this.expanderWrapper)[0].disabled=this.isDisabledOrInEditMode(),t(this.expanderWrapper).find(".ni-details-box").each(function(){t(this).find(".ni-button").each(function(){this.disabled=r.isDisabledOrInEditMode()}),t(this).find(".ni-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),t(this).find(".ni-colorbox-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),t(this).find(".ni-hover-box").each(function(){this.disabled=r.isDisabledOrInEditMode()})});break;case"tooltips":t(this).find(".ni-plot-title").each(function(e,t){t.title=this.tooltips?this.helpers.getPlotName(e):""}.bind(this))}}})}(),function(){var e=NationalInstruments.HtmlVI.NISupport;NationalInstruments.HtmlVI.Elements.PlotLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.defaultPlotColors=window.JQX.CartesianGraph.defaultPlotColors,this.lineStyleValues={dot:"1, 2",dashdot:"3, 3, 1, 3",mediumdash:"3, 3",largedash:"5, 4",solid:"0"},this.renderers=[]};var t=NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,i=t.prototype;i.menu=[{name:"Plot Style",tag:"msg_plotstyle",type:"buttons",children:[{name:"Line",tag:"msg_line",cssClass:"ni-line-style-icon"},{name:"Point",tag:"msg_point",cssClass:"ni-point-style-icon"},{name:"Line & Point",tag:"msg_lineandpoint",cssClass:"ni-line-and-point-style-icon"},{name:"Bar",tag:"msg_bar",cssClass:"ni-bar-style-icon"},{name:"Fill",tag:"msg_fill",cssClass:"ni-fill-style-icon"}]},{name:"Point Style",tag:"msg_pointstyle",type:"buttons",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]},{name:"Line Width",tag:"msg_linewidth",cssClass:"line_width",type:"combobox",children:[{name:"No line",tag:"msg_noline",cssClass:""},{name:"1-pixel",tag:"msg_1pixel",cssClass:"ni-1-pixel-line-width-icon"},{name:"2-pixels",tag:"msg_2pixels",cssClass:"ni-2-pixels-line-width-icon"},{name:"3-pixels",tag:"msg_3pixels",cssClass:"ni-3-pixels-line-width-icon"},{name:"4-pixels",tag:"msg_4pixels",cssClass:"ni-4-pixels-line-width-icon"},{name:"5-pixels",tag:"msg_5pixels",cssClass:"ni-5-pixels-line-width-icon"}]},{name:"Line Style",tag:"msg_linestyle",cssClass:"line_style",type:"combobox",children:[{name:"No style",tag:"msg_nostyle",cssClass:""},{name:"Solid",tag:"msg_solid",cssClass:"ni-solid-line-style-icon"},{name:"Dot",tag:"msg_dot",cssClass:"ni-dot-line-style-icon"},{name:"Dot-dash",tag:"msg_dashdot",cssClass:"ni-dot-dash-line-style-icon"},{name:"Medium dash",tag:"msg_mediumdash",cssClass:"ni-medium-dash-line-style-icon"},{name:"Large dash",tag:"msg_largedash",cssClass:"ni-large-dash-line-style-icon"}]},{name:"Fill Baseline",tag:"msg_fillbaseline",type:"buttons",children:[{name:"Zero",tag:"msg_zero",cssClass:"ni-fill-to-zero-style-icon"},{name:"-Inf",tag:"msg_neginf",cssClass:"ni-fill-base-line-negative-infinity-icon"},{name:"Inf",tag:"msg_inf",cssClass:"ni-fill-base-line-positive-infinity-icon"}]},{name:"Color",tag:"msg_color",type:"colorbox",children:[]},{name:"Hover",tag:"msg_hover",cssClass:"hover",type:"checkbox",children:[]}],i.addRenderer=function(){},i.clearRenderer=function(e){this.renderers[e]=null},i.clearCache=function(){for(var e=0;e<this.renderers.length;e++)this.renderers[e]=null},i.getPlot=function(e){var i=0,n=null,r=this.graph;if(null!==r)for(t in r.childNodes)if("ni-cartesian-plot"===r.childNodes[t].localName){if(i===e){n=r.childNodes[t];break}i++}return n},i.getIndex=function(e){var t,i;return null!==(i=e._parentGraph)&&(t=i.plots.indexOf(e)),t},i.getPlotName=function(t){var i=this.getPlot(t);return i&&"string"==typeof i.label?i.label:e.i18n("msg_defaultplotname")},i.getRenderer=function(e){var t=null,i=null;if(null===this.renderers[e]||void 0===this.renderers[e]){if(null!==(t=this.getPlot(e))&&(i=t.lastElementChild),null===i)return null;this.renderers[e]=i}return this.renderers[e]},i.rendererToIndex=function(e){var t,i,n,r=0;if(null!==(i=this.graph))for(n in i.childNodes)if("ni-cartesian-plot"===i.childNodes[n].localName){if(i.childNodes[n].lastElementChild===e){t=r;break}r++}return t},i.handleClick=function(e,t,i){if(!0!==this.isInEditMode){var n="",r=this.getRenderer(i);if(null===r)return;switch(""!==r.lineStroke&&(n=r.lineStroke),""!==r.pointColor&&(n=r.pointColor),""!==r.barFill&&(n=r.barFill),""!==r.areaFill&&(n=r.areaFill),e){case"No line":r.lineWidth=0;break;case"1-pixel":r.lineWidth=1;break;case"2-pixels":r.lineWidth=2;break;case"3-pixels":r.lineWidth=3;break;case"4-pixels":r.lineWidth=4;break;case"5-pixels":r.lineWidth=5;break;case"Line":r.lineStroke=n,r.pointColor="",r.barFill="",r.areaFill="";break;case"Point":r.lineStroke="",r.pointColor=n,r.barFill="",r.areaFill="";break;case"Line & Point":r.lineStroke=n,r.pointColor=n,r.barFill="",r.areaFill="";break;case"Bar":r.lineStroke="",r.pointColor="",r.barFill=n,r.areaFill="";break;case"Fill":r.lineStroke="",r.pointColor="",r.barFill="",r.areaFill=n;break;case"Ellipse":r.pointShape="ellipse";break;case"Rectangle":r.pointShape="rectangle";break;case"Diamond":r.pointShape="diamond";break;case"Cross":r.pointShape="cross";break;case"Plus":r.pointShape="plus";break;case"No style":r.lineStyle="";break;case"Solid":r.lineStyle="solid";break;case"Dot":r.lineStyle="dot";break;case"Dot-dash":r.lineStyle="dashdot";break;case"Medium dash":r.lineStyle="mediumdash";break;case"Large dash":r.lineStyle="largedash";break;case"Zero":r.areaBaseLine="zero",r.barBaseLine="zero";break;case"-Inf":r.areaBaseLine="negativeinfinity",r.barBaseLine="negativeinfinity";break;case"Inf":r.areaBaseLine="positiveinfinity",r.barBaseLine="positiveinfinity";break;case"Color":""!==r.lineStroke&&(r.lineStroke=t),""!==r.pointColor?r.pointColor=t:""!==r.barFill?r.barFill=t:""!==r.areaFill&&(r.areaFill=t);break;case"Hover":this.getPlot(i).enableHover=t}}},i.getState=function(e,t){var i=this.getRenderer(t);if(null!==i){var n;switch(e){case"No line":n=0===i.lineWidth;break;case"1-pixel":n=1===i.lineWidth;break;case"2-pixels":n=2===i.lineWidth;break;case"3-pixels":n=3===i.lineWidth;break;case"4-pixels":n=4===i.lineWidth;break;case"5-pixels":n=5===i.lineWidth;break;case"Line":n=""!==i.lineStroke&&""===i.pointColor;break;case"Point":n=""===i.lineStroke&&""!==i.pointColor;break;case"Line & Point":n=""!==i.lineStroke&&""!==i.pointColor;break;case"Bar":n=""!==i.barFill;break;case"Fill":n=""!==i.areaFill;break;case"Ellipse":n="ellipse"===i.pointShape;break;case"Rectangle":n="rectangle"===i.pointShape;break;case"Diamond":n="diamond"===i.pointShape;break;case"Cross":n="cross"===i.pointShape;break;case"Plus":n="plus"===i.pointShape;break;case"No style":n=""===i.lineStyle;break;case"Solid":n="solid"===i.lineStyle;break;case"Dot":n="dot"===i.lineStyle;break;case"Dot-dash":n="dashdot"===i.lineStyle;break;case"Medium dash":n="mediumdash"===i.lineStyle;break;case"Large dash":n="largedash"===i.lineStyle;break;case"Zero":n=""!==i.barFill?"zero"===i.barBaseLine||""===i.barBaseLine:"zero"===i.areaBaseLine||""===i.areaBaseLine;break;case"-Inf":n=""!==i.barFill?"negativeinfinity"===i.barBaseLine:"negativeinfinity"===i.areaBaseLine;break;case"Inf":n=""!==i.barFill?"positiveinfinity"===i.barBaseLine:"positiveinfinity"===i.areaBaseLine;break;case"Color":n=this.getPlotColorFromRenderer(i);break;case"Hover":n=this.getPlot(t).enableHover}return n}},i.getPlotColor=function(e){var t=this.getRenderer(e);return null!==t?this.getPlotColorFromRenderer(t):this.defaultPlotColors[e%this.defaultPlotColors.length]},i.getPlotColorFromRenderer=function(e){var t="rgba(0, 0, 0, 1)";return""!==e.lineStroke?t=e.lineStroke:""!==e.pointColor?t=e.pointColor:""!==e.barFill?t=e.barFill:""!==e.areaFill&&(t=e.areaFill),t},i.getLineWidth=function(e){var t=this.getRenderer(e);return null!==t?t.lineWidth:1},i.getLineShape=function(e){var t="line",i=this.getRenderer(e);return null!==i&&(""!==i.lineStroke&&""===i.pointColor?t="line":""===i.lineStroke&&""!==i.pointColor?t="points":""!==i.lineStroke&&""!==i.pointColor?t="line & point":""!==i.barFill?t="bar":""!==i.areaFill&&(t="fill")),t},i.getLineStyle=function(e){var t=this.getRenderer(e);if(null!==t)switch(t.lineStyle){case"dot":return this.lineStyleValues.dot;case"dashdot":return this.lineStyleValues.dashdot;case"mediumdash":return this.lineStyleValues.mediumdash;case"largedash":return this.lineStyleValues.largedash;default:return this.lineStyleValues.solid}return"0"},i.getPointShape=function(e){var t=this.getRenderer(e);return null!==t?t.pointShape:"ellipse"}}(),function(){NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay=function(e){this.pointTypes=[{name:"ellipse",creator:s},{name:"rectangle",creator:o},{name:"diamond",creator:l},{name:"cross",creator:d},{name:"plus",creator:h}],this.lineTypes=[{name:"line",creator:i},{name:"fill",creator:n},{name:"bar",creator:r},{name:"points",creator:a}],this.shapes=[],this.helpers=e};var e=NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay.prototype;e.createHeaderDisplay=function(e,i){var n,r;n="http://www.w3.org/2000/svg",(r=document.createElementNS(n,"svg")).setAttribute("width","16"),r.setAttribute("height","16"),r.setAttribute("viewBox","0,0,16,16"),r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.appendChild(r);var a=document.createElementNS(n,"g");r.appendChild(a),this.shapes[i]={},this.shapes[i].shapesGroup=a,t(i,a,n,this),a.setAttribute("stroke","rgba(255, 0, 0, 1)")},e.removeHeaderDisplay=function(e,t){this.shapes.splice(t,1)};var t=function(e,t,i,n){var r;for(r=0;r<n.lineTypes.length;r++)n.lineTypes[r].creator(e,t,i,n)},i=function(e,t,i,n){var r=document.createElementNS(i,"polyline");r.setAttribute("points","0,15 5,5 10,10 15,0"),r.setAttribute("fill","none"),r.setAttribute("stroke-width",n.helpers.getLineWidth(e)),r.setAttribute("stroke-dasharray",n.helpers.getLineStyle(e)),t.appendChild(r),n.shapes[e].shapesGroup.line=r},n=function(e,t,i,n){var r=document.createElementNS(i,"polyline");r.setAttribute("points","0,15 5,5 10,10 15,0, 15,15, 0,15"),r.setAttribute("fill",n.helpers.getPlotColor(e)),r.setAttribute("stroke-width",n.helpers.getLineWidth(e)),r.setAttribute("visibility","hidden"),t.appendChild(r),n.shapes[e].shapesGroup.fill=r},r=function(e,t,i,n){var r=document.createElementNS(i,"polyline");r.setAttribute("points","1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"),r.setAttribute("fill",n.helpers.getPlotColor(e)),r.setAttribute("stroke-width",1),r.setAttribute("visibility","hidden"),t.appendChild(r),n.shapes[e].shapesGroup.bar=r},a=function(e,t,i,n){var r,a,s,o,l=[{x:.5,y:15.5},{x:10.5,y:10.5},{x:5.5,y:5.5},{x:15.5,y:.5}],d=document.createElementNS(i,"g");for(n.shapes[e].shapesGroup.points=d,a=0;a<n.pointTypes.length;a++){for(s=document.createElementNS(i,"g"),r=0;r<4;r++)o=n.pointTypes[a].creator(i,l[r],4),s.appendChild(o);s.setAttribute("fill",n.helpers.getPlotColor(e)),s.setAttribute("stroke-width",1),s.setAttribute("visibility","hidden"),d.appendChild(s),n.shapes[e].shapesGroup.points[n.pointTypes[a].name]=s}t.appendChild(d)},s=function(e,t,i){var n=document.createElementNS(e,"circle");return n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("r",i/2),n},o=function(e,t,i){var n=document.createElementNS(e,"rect");return n.setAttribute("x",t.x-i/2),n.setAttribute("y",t.y-i/2),n.setAttribute("width",i),n.setAttribute("height",i),n},l=function(e,t,i){var n=document.createElementNS(e,"path"),r="M"+(t.x-i/2)+","+t.y;return r+=" L"+t.x+","+(t.y-i/2),r+=" L"+(t.x+i/2)+","+t.y,r+=" L"+t.x+","+(t.y+i/2),r+=" Z",n.setAttribute("d",r),n},d=function(e,t,i){var n=document.createElementNS(e,"path"),r="M"+(t.x-i/2)+","+(t.y-i/2);return r+=" L"+(t.x+i/2)+","+(t.y+i/2),r+="M"+(t.x+i/2)+","+(t.y-i/2),r+=" L"+(t.x-i/2)+","+(t.y+i/2),n.setAttribute("d",r),n},h=function(e,t,i){var n=document.createElementNS(e,"path"),r="M"+t.x+","+(t.y-i/2);return r+=" L"+t.x+","+(t.y+i/2),r+="M"+(t.x-i/2)+","+t.y,r+=" L"+(t.x+i/2)+","+t.y,n.setAttribute("d",r),n};e.updateLinesAttributes=function(e,t,i){var n=this.helpers.getLineShape(e);"line"!==n&&"line & point"!==n||(t.line.setAttribute("stroke-width",this.helpers.getLineWidth(e)),t.line.setAttribute("stroke-dasharray",this.helpers.getLineStyle(e))),t.fill.setAttribute("fill",i),t.bar.setAttribute("fill",i);for(var r=0;r<this.pointTypes.length;r++)t.points[this.pointTypes[r].name].setAttribute("fill",i)},e.updatePointVisibility=function(e,t,i){for(var n=this.helpers.getPointShape(e),r=0;r<this.pointTypes.length;r++)n!==this.pointTypes[r].name||"line & point"!==i&&"points"!==i?t.points[this.pointTypes[r].name].setAttribute("visibility","hidden"):t.points[this.pointTypes[r].name].setAttribute("visibility","visible")},e.updateVisibility=function(e,t){for(var i=this.helpers.getLineShape(e),n=0;n<this.lineTypes.length;n++)i===this.lineTypes[n].name?t[this.lineTypes[n].name].setAttribute("visibility","visible"):t[this.lineTypes[n].name].setAttribute("visibility","hidden");"line & point"===i&&(t.line.setAttribute("visibility","visible"),t.points.setAttribute("visibility","visible")),this.updatePointVisibility(e,t,i)},e.updateShape=function(e){var t=this.shapes[e];if(null!=t){var i=this.helpers.getPlotColor(e);this.updateLinesAttributes(e,t.shapesGroup,i),this.updateVisibility(e,t.shapesGroup),t.shapesGroup.setAttribute("stroke",i)}}}(),function(){var e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport;JQX("ni-cursor-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{created(){super.created(),this.table=void 0,this.selectedRow=null,this.addButton=null,this.deleteButton=null,this.centerButton=null,this.currentRow=null,this.currentBtn=null,this.observer=null,this.helpers=new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,this.cursorLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.cursorLegendItemDisplay)}cursorAdded(e){var t=this;t.helpers.cursorAdded(e),t.createRow(t.table,e),t.helpers.cursorPositionChanged(e,function(i){t.updatePosition(e,i)})}updatePosition(t,i){if(t._parentGraph){var n=this.helpers.getIndex(t),r=e(".ni-x-title")[n],a=e(".ni-y-title")[n],s=t._parentGraph.graph,o=s.formatCursorPosition(s,t.cursor);void 0!==r&&(r.innerText=o.xTextValue),void 0!==a&&(a.innerText=o.yTextValue)}}cursorRemoved(t){var i=this.helpers.getIndex(t);i>=0&&(e(this).find(".ni-master-row").eq(i).remove(),e(this).find(".ni-details-box").eq(i).remove(),this.cursorLegendItemDisplay.clearShape(i),this.helpers.cursorRemoved(t))}cursorChanged(e){this.cursorLegendItemDisplay.updateShape(e),this.updateName(e),this.updateVisible(e)}updateName(t){var i=this.helpers.getIndex(t);e(this).find(".ni-cursor-title").eq(i).text(this.helpers.getState("name",t))}updateVisible(t){var i=this.helpers.getState("visible",t),n=this.helpers.getIndex(t),r=e(".ni-visibility-button").eq(n);i?r.removeClass("ni-visibility-off-icon").addClass("ni-visibility-on-icon"):r.removeClass("ni-visibility-on-icon").addClass("ni-visibility-off-icon")}attachToGraph(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerCursorLegend(this))}detachFromGraph(){this.removeRows(),this.helpers.clearCache(),this.helpers.graph=null}attached(){super.attached();var i=this;i.helpers.graph=i.findGraph(),i.helpers.isInEditMode=i.isInEditMode;var n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.id="div"+t.uniqueId(),i.appendChild(n),i.table=document.createElement("table"),i.table.className="ni-cursors-box",n.appendChild(i.table);var r=document.createElement("div");n.appendChild(r);var a=this.uihelpers.createJQXButton("ni-add-icon ni-command-button",!1);a.disabled=i.isDisabledOrInEditMode(),r.appendChild(a),i.addButton=a,e(a).on("click",function(){i.helpers.addCursor()}),i.addEventListener("ni-cursor-attached",function(e){i.cursorAdded(e.detail.originalSource)}),i.addEventListener("ni-cursor-detached",function(e){i.cursorRemoved(e.detail.originalSource)}),i.addEventListener("ni-cursor-changed",function(e){i.cursorChanged(e.detail.originalSource)});var s=this.findGraph();null!==s&&this.attachToGraph(s)}removeRows(){var e;for(e=this.helpers.cursors.length-1;e>=0;e--){var t=this.helpers.getCursor(e);this.cursorRemoved(t)}}createRow(t,i){var n=this,r=n.createMainRow(t,i),a=n.createDetailsRow(t,i);e(r).on("click",function(){if(n.currentRow!==a){var e=n.currentRow,t=n.currentBtn;a.style.display="table-row",n.currentRow=a,r.classList.remove("ni-closed-icon"),r.classList.add("ni-open-icon"),n.currentBtn=r,null!==e&&(e.style.display="none"),null!==t&&(t.classList.remove("ni-open-icon"),t.classList.add("ni-closed-icon"))}else a.style.display="none",r.classList.remove("ni-open-icon"),r.classList.add("ni-closed-icon"),n.currentRow=null,n.currentBtn=null}),n.applyFont()}createMainRow(t,i){var n,r,a,s,o,l,d,h,c,u,p,m=this;return(n=document.createElement("tr")).className="ni-master-row",t.appendChild(n),(r=document.createElement("td")).className="ni-expand-box",n.appendChild(r),p=this.uihelpers.createJQXButton("ni-expand-button ni-closed-icon",!1),r.appendChild(p),p.width=20,p.height=20,p.disabled=m.isDisabledOrInEditMode(),(a=document.createElement("td")).className="ni-cursor-box",n.appendChild(a),null!==(c=m.cursorLegendItemDisplay.createHeaderDisplay(i))&&a.appendChild(c),(d=document.createElement("span")).className="ni-cursor-title",h=document.createTextNode(m.helpers.getState("name",i)),d.appendChild(h),a.appendChild(d),(s=document.createElement("td")).className="ni-x-box",n.appendChild(s),(d=document.createElement("span")).className="ni-x-title",h=document.createTextNode(parseFloat(m.helpers.getState("x",i))),d.appendChild(h),s.appendChild(d),(o=document.createElement("td")).className="ni-y-box",n.appendChild(o),(d=document.createElement("span")).className="ni-y-title",h=document.createTextNode(parseFloat(m.helpers.getState("y",i))),d.appendChild(h),o.appendChild(d),(l=document.createElement("td")).className="ni-actions-box",n.appendChild(l),u=this.uihelpers.createJQXButton("ni-delete-icon ni-action-button",!1),l.appendChild(u),e(u).on("click",function(){m.helpers.handleClick("delete","",i)}),u.disabled=m.isDisabledOrInEditMode(),u=this.uihelpers.createJQXButton("ni-center-icon ni-action-button",!1),l.appendChild(u),e(u).on("click",function(){m.helpers.handleClick("center","",i)}),u.disabled=m.isDisabledOrInEditMode(),u=this.uihelpers.createJQXButton("ni-snap-icon ni-action-button",!0),l.appendChild(u),e(u).on("click",function(){m.helpers.handleClick("snap","",i)}),u.disabled=m.isDisabledOrInEditMode(),u=this.uihelpers.createJQXButton("ni-visibility-button ni-action-button",!0),m.helpers.getState("visible",i)?u.classList.add("ni-visibility-on-icon"):u.classList.add("ni-visibility-off-icon"),e(u).on("click",function(){m.helpers.handleClick("visible","",i)}),l.appendChild(u),u.disabled=m.isDisabledOrInEditMode(),p}createDetailsItem(e,t){var i,n,r,a,s;return(i=document.createElement("tr")).className="ni-details-row",e.appendChild(i),(n=document.createElement("td")).className="ni-details-row-title-box",i.appendChild(n),(a=document.createElement("span")).class="ni-details-row-title",n.appendChild(a),s=document.createTextNode(t),a.appendChild(s),(r=document.createElement("td")).className="ni-details-row-control-box",i.appendChild(r),r}createDetailsRow(e,t){var i,n,r,a;return(n=document.createElement("tr")).className="ni-details-box",n.style.display="none",e.appendChild(n),(r=document.createElement("td")).colSpan=5,n.appendChild(r),(i=document.createElement("table")).className="ni-details",r.appendChild(i),a=this.createDetailsItem(i,"Color"),this.uihelpers.addColorBox({name:"Color"},a,t,"ni-colorbox-selector ni-selector"),a=this.createDetailsItem(i,"Shape"),this.uihelpers.addComboBox(this.helpers.getMenuItem("shape"),a,t,16,"ni-shape-selector ni-selector"),a=this.createDetailsItem(i,"Crosshair"),this.uihelpers.addComboBox(this.helpers.getMenuItem("crosshair"),a,t,16,"ni-crosshair-selector ni-selector"),n}setFont(t,i,n,r,a){var s=this.firstElementChild,o=e(this),l=e("#"+s.id+" .jqx-widget-content"),d=e("#"+s.id+" .ni-cursor-title"),h=e("#"+s.id+" .ni-x-title"),c=e("#"+s.id+" .ni-y-title"),u=e("#"+s.id+" .ni-details-title");o.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),l.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),d.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),h.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),c.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),u.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r})}applyFont(){var t=this.firstElementChild,i=e("#"+t.id+" .jqx-widget-content"),n=e("#"+t.id+" .ni-cursor-title"),r=e("#"+t.id+" .ni-x-title"),a=e("#"+t.id+" .ni-y-title"),s=e("#"+t.id+" .ni-details-title"),o=e(this).css("font-size"),l=e(this).css("font-family"),d=e(this).css("font-weight"),h=e(this).css("font-style");i.css({"font-size":o,"font-family":l,"font-weight":d,"font-style":h}),n.css({"font-size":o,"font-family":l,"font-weight":d,"font-style":h}),r.css({"font-size":o,"font-family":l,"font-weight":d,"font-style":h}),a.css({"font-size":o,"font-family":l,"font-weight":d,"font-style":h}),s.css({"font-size":o,"font-family":l,"font-weight":d,"font-style":h})}propertyChangedHandler(t,i,n){var r=this;switch(super.propertyChangedHandler(t,i,n),t){case"graphRef":this.helpers.graph.cursorLegend=null;var a=this.findGraph();this.attachToGraph(a);break;case"disabled":case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,null!==this.addButton&&(this.addButton.disabled=this.isDisabledOrInEditMode()),e(this.table).find(".ni-center-icon").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-expand-button").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-snap-icon").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-delete-icon").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-visibility-button").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-colorbox-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-shape-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-crosshair-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()})}}})}(),function(){NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay=function(e){this.helpers=e,this.items=[]};var e=NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay.prototype,t="http://www.w3.org/2000/svg";e.clearShape=function(e){this.items.splice(e,1)},e.createHeaderDisplay=function(e){var i;return void 0===e?null:((i=document.createElementNS(t,"svg")).setAttribute("class","ni-cursor-display"),i.setAttribute("width","16"),i.setAttribute("height","16"),i.setAttribute("viewBox","0,0,16,16"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.addShapes(e,i,t),this.items.push(i),i)},e.addShapes=function(e,t,i){this.makeShape(e,t,i),this.makeCursorCross(e,t,i)},e.makeCursorCross=function(e,t,i){switch(e.crosshairStyle){case"none":break;case"vertical":this.makeLine(e,t,i,"8","1","8","4"),this.makeLine(e,t,i,"8","12","8","15");break;case"horizontal":this.makeLine(e,t,i,"12","8","15","8"),this.makeLine(e,t,i,"1","8","4","8");break;default:this.makeLine(e,t,i,"8","1","8","4"),this.makeLine(e,t,i,"12","8","15","8"),this.makeLine(e,t,i,"8","12","8","15"),this.makeLine(e,t,i,"1","8","4","8")}},e.makeShape=function(e,t,i){var n,r,a=e.targetShape,s=window.getComputedStyle(e).color;switch(a){case"ellipse":(r=document.createElementNS(i,"circle")).setAttribute("cx","8"),r.setAttribute("cy","8"),r.setAttribute("r","4"),r.setAttribute("stroke",s),r.setAttribute("stroke-width","1"),r.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(r);break;case"rectangle":(n=document.createElementNS(i,"rect")).setAttribute("x","4"),n.setAttribute("y","4"),n.setAttribute("width","8"),n.setAttribute("height","8"),n.setAttribute("stroke",s),n.setAttribute("stroke-width","1"),n.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(n);break;case"diamond":this.makeLine(e,t,i,"8","4","12","8"),this.makeLine(e,t,i,"12","8","8","12"),this.makeLine(e,t,i,"8","12","4","8"),this.makeLine(e,t,i,"4","8","8","4");break;case"cross":this.makeLine(e,t,i,"4","4","12","12"),this.makeLine(e,t,i,"4","12","12","4");break;case"plus":this.makeLine(e,t,i,"8","4","8","12"),this.makeLine(e,t,i,"4","8","12","8")}},e.makeLine=function(e,t,i,n,r,a,s){var o=document.createElementNS(i,"line"),l=window.getComputedStyle(e).color;o.setAttribute("x1",n),o.setAttribute("y1",r),o.setAttribute("x2",a),o.setAttribute("y2",s),o.setAttribute("stroke",l),o.setAttribute("stroke-width",1),t.appendChild(o)},e.updateShape=function(e){var i=this.helpers.getIndex(e),n=this.items[i];if(void 0===e)return null;if(void 0===n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);this.addShapes(e,n,t)}}(),function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery;NationalInstruments.HtmlVI.Elements.CursorLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.cursors=[],this.defaultCursorName=e.i18n("msg_defaultcursorname")};var i=NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,n=i.prototype;n.getMenuItem=function(e){return"shape"===e?{name:"Target Shape",tag:"msg_targetshape",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]}:"crosshair"===e?{name:"Crosshair Style",tag:"msg_crosshairstyle",children:[{name:"No style",tag:"msg_nostyle",cssClass:"ni-no-crosshair-icon"},{name:"Vertical",tag:"msg_vertical",cssClass:"ni-vertical-crosshair-icon"},{name:"Horizontal",tag:"msg_horizontal",cssClass:"ni-horizontal-crosshair-icon"},{name:"Both",tag:"msg_both",cssClass:"ni-both-crosshair-icon"}]}:void 0},n.cursorAdded=function(e){-1===this.getIndex(e)&&this.cursors.push(e)},n.cursorRemoved=function(e){this.cursors.splice(this.getIndex(e),1)},n.addCursor=function(){var e=this.graph,t=document.createElement("ni-cursor");t.show=!0,t.showValue=!0,this.cursors.push(t),t.label=this.nextCursorName(),e.appendChild(t)},n.cursorPositionChanged=function(e,i){if(void 0===e)throw new Error("cursor is undefined");t(e).on("cursorUpdated",function(e,t){i(t)})},n.clearCache=function(){this.cursors.length=0},n.getCursor=function(e){var t,i,n=0,r=null;if(null===this.cursors[e]||void 0===this.cursors[e]){if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cursor"===t.childNodes[i].localName){if(n===e){r=t.childNodes[i];break}n++}null!==r&&(this.cursors[e]=r)}return this.cursors[e]},n.nextCursorName=function(){var e,t,n=0,r=this.graph;if(null!==r)for(i in r.childNodes)"ni-cursor"===r.childNodes[i].localName&&(t=r.childNodes[i],(e=parseInt(t.label.substring(this.defaultCursorName.length)))>n&&(n=e));return this.defaultCursorName+" "+(n+1)},n.deleteCursor=function(e){var t=this.graph;null!=e&&t.removeChild(e)},n.getIndex=function(e){return this.cursors.indexOf(e)},n.handleClick=function(e,t,i){if(null!==i||void 0!==i)switch(e){case"name":case"x":case"y":break;case"visible":i.show=!i.show;break;case"snap":i.snapToPlot=-1!==i.snapToPlot?-1:void 0;break;case"center":i.snapToPlot=void 0,i.x=.5,i.y=.5;break;case"delete":this.deleteCursor(i);break;case"Ellipse":i.targetShape="ellipse";break;case"Rectangle":i.targetShape="rectangle";break;case"Diamond":i.targetShape="diamond";break;case"Cross":i.targetShape="cross";break;case"Plus":i.targetShape="plus";break;case"No style":i.crosshairStyle="none";break;case"Vertical":i.crosshairStyle="vertical";break;case"Horizontal":i.crosshairStyle="horizontal";break;case"Both":i.crosshairStyle="both";break;case"Color":i.setColor(t)}},n.getState=function(e,t){if(null!=t){var i;switch(e){case"name":i=t.label;break;case"x":i=t.x;break;case"y":i=t.y;break;case"visible":i=t.show;break;case"snap":i=-1===t.snapToPlot;break;case"center":case"delete":break;case"Ellipse":i="ellipse"===t.targetShape;break;case"Rectangle":i="rectangle"===t.targetShape;break;case"Diamond":i="diamond"===t.targetShape;break;case"Cross":i="cross"===t.targetShape;break;case"Plus":i="plus"===t.targetShape;break;case"No style":i="none"===t.crosshairStyle;break;case"Vertical":i="vertical"===t.crosshairStyle;break;case"Horizontal":i="horizontal"===t.crosshairStyle;break;case"Both":i="both"===t.crosshairStyle;break;case"Color":i=window.getComputedStyle(t).color}return i}},n.getTargetShape=function(e){var t=this.getCursor(e);return null!=t?t.targetShape:"ellipse"},n.getCrosshair=function(e){var t=this.getCursor(e);if(null!=t)return t.crosshairStyle}}(),function(){var e=NationalInstruments.Globals.jQuery;JQX("ni-scale-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{created(){super.created(),this.tbl=void 0,this.nScales=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers,this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,null)}scaleAdded(e){this.helpers.scaleToIndex(e)<this.nScales||(this.createRow(this.tbl,this.nScales),this.helpers.addScale(this.nScales),this.nScales++)}scaleRemoved(e){var t,i,n,r,a=null;for(n=0,i=0;i<this.tbl.childNodes.length;i++){if("tr"===this.tbl.childNodes[i].localName&&(t=this.tbl.childNodes[i]).childNodes[0].innerText===e.label){a=t,r=n;break}n++}null!==a&&(this.tbl.removeChild(a),this.helpers.clearScale(r)),this.nScales--}createRows(){var e;for(e=0;e<this.nScales;e++)this.createRow(this.tbl,e)}removeRows(){var e;for(e=this.nScales-1;e>=0;e--){var t=this.helpers.getScale(e);null!==t&&this.scaleRemoved(t)}}attachToGraph(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerScaleLegend(this))}detachFromGraph(){this.helpers.graph=null,this.helpers.clearScale(),this.removeRows()}attached(){super.attached();var t=document.createElement("div"),i=this;this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,t.style.width="100%",t.style.height="100%",this.appendChild(t),this.tbl=document.createElement("table"),this.tbl.className="ni-scale-legend-box",t.appendChild(this.tbl),this.addEventListener("ni-cartesian-axis-attached",function(e){var t=e.detail.originalSource;t.initialAutoscale=t.autoScale,i.scaleAdded(t)}),this.addEventListener("ni-cartesian-axis-detached",function(e){i.scaleRemoved(e.detail.originalSource)}),this.addEventListener("ni-axis-changed",function(t){var n=t.detail.originalSource,r=i.helpers.scaleToIndex(n),a=e(this.tbl).find(".ni-row-title"),s=e(this.tbl).find(".ni-lock-button");e(a[r]).first().text(n.label),this.setLockBackground(s[r],!1,r)});var n=this.findGraph();null!==n&&this.attachToGraph(n)}createRow(t,i){var n,r,a,s,o,l,d,h,c=this;n=document.createElement("tr"),t.appendChild(n),(r=document.createElement("td")).className="ni-row-title-box",n.appendChild(r),(o=document.createElement("span")).className="ni-row-title",r.appendChild(o);var u=c.helpers.getState("name",i);l=document.createTextNode(u),o.appendChild(l),(a=document.createElement("td")).className="ni-lock-box",n.appendChild(a),(d=this.uihelpers.createJQXButton("ni-lock-button ni-button",!0)).disabled=!this.helpers.getState("canLock",i)||c.isDisabledOrInEditMode(),e(d).on("click",function(){c.helpers.handleClick("lock",i),c.setLockBackground(d,!1,i)}),c.setLockBackground(d,!0,i),a.appendChild(d),(s=document.createElement("td")).className="ni-reset-offset-box",n.appendChild(s),(h=this.uihelpers.createJQXButton("ni-reset-offset-icon ni-button",!1)).disabled=c.isDisabledOrInEditMode(),e(h).on("click",function(){c.helpers.handleClick("resetOffset",i),c.setLockBackground(d,!1,i)}),s.appendChild(h),this.applyFont()}setLockBackground(e,t,i){var n=this.helpers.getState("lock",i);void 0!==n&&(!0===t&&(e.checked=n),!0===n?(e.classList.remove("ni-locked-icon"),e.classList.add("ni-unlocked-icon")):(e.classList.remove("ni-unlocked-icon"),e.classList.add("ni-locked-icon")))}setFont(t,i,n,r,a){var s=this.firstElementChild,o=e(this),l=e(s).find(" .ni-row-title");o.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),l.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r})}applyFont(){var t=this.firstElementChild,i=e(t).find(" .ni-row-title"),n=e(this).css("font-size"),r=e(this).css("font-family"),a=e(this).css("font-weight"),s=e(this).css("font-style");i.css({"font-size":n,"font-family":r,"font-weight":a,"font-style":s})}updateDisabledState(){let t=this;e(this.tbl).find(".ni-lock-button").each(function(){this.disabled=t.isDisabledOrInEditMode()}),e(this.tbl).find(".ni-reset-offset-icon").each(function(){this.disabled=t.isDisabledOrInEditMode()})}propertyChangedHandler(e,t,i){switch(super.propertyChangedHandler(e,t,i),e){case"graphRef":this.helpers.graph.scaleLegend=null;var n=this.findGraph();this.attachToGraph(n);break;case"disabled":case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,this.updateDisabledState()}}})}(),function(){NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.scales=[]};var e=NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers.prototype;e.addScale=function(){},e.clearScale=function(e){this.scales[e]=null},e.getScale=function(e){var t,i,n=0,r=null;if(null===this.scales[e]||void 0===this.scales[e]){if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cartesian-axis"===t.childNodes[i].localName||"ni-color-scale"===t.childNodes[i].localName){if(n===e){r=t.childNodes[i];break}n++}if(null===r)return null;this.scales[e]=r}return this.scales[e]},e.scaleToIndex=function(e){var t,i,n=0,r=-1;if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cartesian-axis"===t.childNodes[i].localName||"ni-color-scale"===t.childNodes[i].localName){if(t.childNodes[i]===e){r=n;break}n++}return r},e.handleClick=function(e,t){if(!0!==this.isInEditMode){var i=this.getScale(t);if(null===i)return;switch(e){case"lock":"none"!==i.autoScale?(i.initialAutoscale=i.autoScale,i.autoScale="none"):i.autoScale=i.savedAutoScale&&"none"!==i.savedAutoScale?i.savedAutoScale:i.initialAutoscale&&"none"!==i.initialAutoscale?i.initialAutoscale:"loose",i.resetOffset&&i.resetOffset(!0,!0);break;case"resetOffset":i.resetOffset&&i.resetOffset(!1,!0)}}},e.getState=function(e,t){var i=this.getScale(t);if(null!==i){var n;switch(e){case"canLock":n="ni-color-scale"!==i.localName;break;case"lock":n="none"!==i.autoScale;break;case"resetOffset":break;case"name":n=i.label}return n}}}(),function(){var e=Object.freeze({LOCKED:"locked",PAN:"pan",ZOOM:"zoom"}),t=NationalInstruments.Globals.jQuery,i=NationalInstruments.HtmlVI.NISupport,n={};n[e.LOCKED]=[!0,!1,!1],n[e.PAN]=[!1,!0,!1],n[e.ZOOM]=[!1,!1,!0],JQX("ni-graph-tools",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{static get properties(){return Object.assign({},super.properties,{mode:{value:e.LOCKED,type:"string"}})}created(){super.created(),this._parentGraph=void 0,this.lockButton=null,this.panButton=null,this.zoomButton=null,this.zoomOutButton=null,this.toggleAutoScaleButton=null,this.snapshotButton=null,this.rangeMismatch=!0,this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,null),this.autoScaleStates={}}ready(){super.ready(),this.addListeners()}attachToGraph(e){e.isReady&&e._isAttached&&e.graphTools!==this&&(this._parentGraph=e,e.registerGraphTools(this))}updateCartesianAxesFromFlot(){this._parentGraph.axes.forEach(function(e){e instanceof JQX.CartesianAxis&&e.syncWithFlot()}),this.rangeMismatch=!1}addListeners(){var e=this;this.addEventListener("ni-cartesian-graph-box-selected",function(i){var n=i.detail.originalSource.ranges,r=e._parentGraph.graph;t.each(r.getAxes(),function(e,t){!0!==t.options.disableZoom&&n[e]&&function(e,t){var i=e.options,n=t.from-e.min,r=t.to-e.max;i.offset?(i.offset.below=(i.offset.below||0)+n,i.offset.above=(i.offset.above||0)+r):i.offset={above:r,below:n}}(t,n[e])}),r.setupGrid(),r.draw(),r.clearSelection(),this.updateCartesianAxesFromFlot()}),this.addEventListener("ni-cartesian-graph-interaction",function(){this.updateCartesianAxesFromFlot()}),this.addEventListener("ni-axis-reset",function(){this.rangeMismatch=!0})}allAutoScaleOn(){return this._parentGraph.axes.every(e=>"none"!==e.autoScale)}setAutoScaleButtonActiveState(){this.allAutoScaleOn()?this.toggleAutoScaleButton.classList.add("ni-active-button"):this.toggleAutoScaleButton.classList.remove("ni-active-button")}attached(){var e;super.attached(),(e=document.createElement("div")).id="div"+i.uniqueId(),e.style.width="100%",e.style.height="100%",this.appendChild(e),this.table=document.createElement("table"),this.table.className="ni-graph-tools-box",e.appendChild(this.table),this.createRow(this.table),this.updateDisabledState(),this.addEventListener("ni-cartesian-axis-attached",function(e){null!==this.toggleAutoScaleButton&&this.setAutoScaleButtonActiveState()});var t=this.findGraph();null!==t&&t instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase&&this.attachToGraph(t)}detached(){super.detached(),void 0!==this._parentGraph&&(this._parentGraph.graphTools=void 0),this._parentGraph=void 0,this.table=void 0,t(this).empty()}asyncProcessAllImagesForComposition(e){function i(){}var n,r=this._parentGraph.graph.getCanvas(),a=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=this._parentGraph.graph.getSurface().SVGContainer.childNodes[0],o=this._parentGraph.graph.getEventHolder(),l=function(e){const t=e.graph.getPlaceholder();return t&&t.find(".flot-thumbs")[0]?t.find(".flot-thumbs")[0].firstChild:null}(this._parentGraph),d=function(e){const t=["ni-light-plot-legend","ni-chart","ni-cartesian-graph","ni-intensity-graph"];for(var i=null,n="",r=0;r<t.length&&(n=t[r]+'[graph-ref="'+e+'"] svg.legendLayer',null==(i=document.querySelector(n)));r++);return i}(this._parentGraph.graphRef);!function(e,i){var n=t.plot.browser.getPixelRatio(i.getContext("2d")),r=20*n;document.body.insertBefore(e,document.body.childNodes[0]),n<1?(e.setAttributeNS(null,"width",i.width/n+r),e.setAttributeNS(null,"height",i.height/n+r)):(e.setAttributeNS(null,"width",i.width+r),e.setAttributeNS(null,"height",i.height+r)),e.style.width=i.style.width+r,e.style.height=i.style.height+r,e.style.position="absolute";var a=i.getBoundingClientRect().left+window.scrollX-10,s=i.getBoundingClientRect().top+window.scrollY-10;e.style.left=a+"px",e.style.top=s+"px"}(a,r),function(e,t){var i=document.createElementNS(e,"rect");i.setAttributeNS(null,"x",0),i.setAttributeNS(null,"y",0),i.setAttributeNS(null,"style","fill:"+t),i.setAttributeNS(null,"width",e.width.baseVal.value+"px"),i.setAttributeNS(null,"height",e.height.baseVal.value+"px"),e.appendChild(i)}(a,void 0!==e?e:window.getComputedStyle(this._parentGraph).backgroundColor),n=[a,r,s,o,l,d];var h=document.createElement("canvas");return this._parentGraph.takeGraphSnapshot(n,h).then(function(e){return function(t){e.parentNode.removeChild(e)}}(a),i).then(function(){return h},i)}downloadSnapshot(){var e=this;function i(){}var n=function(){e.asyncProcessAllImagesForComposition().then(function(e){var i=document.createElement("img");i.width=e.width,i.height=e.height,i.src=e.toDataURL("image/png");var n=function(e){var t=URL.createObjectURL(e);i.src=t;var n,r,a,s,o,l,d,h=document.createElement("A");h.download="Snapshot_"+(r=(n=new Date).getFullYear(),(a=n.getMonth()+1)<10&&(a="0"+a),(s=n.getDate())<10&&(s="0"+s),(o=n.getHours())<10&&(o="0"+o),(l=n.getMinutes())<10&&(l="0"+l),(d=n.getSeconds())<10&&(d="0"+d),r+"."+a+"."+s+"_"+o+"."+l+"."+d)+".png",h.href=i.src;var c=new MouseEvent("click");h.dispatchEvent(c)};return t.plot.browser.isEdge()?n(e.msToBlob()):e.toBlob(n),e},i),e._parentGraph.graph.getEventHolder().removeEventListener("onDrawingDone",n)};e._parentGraph.graph.getEventHolder().addEventListener("onDrawingDone",n),e._parentGraph.updateGraphConfig()}createRow(i){var r,a,s,o,l,d,h,c,u,p,m,f,g,v=this;function b(e){var t=n[e];t&&(function(e,t,i){c.classList.remove("ni-active-button"),u.classList.remove("ni-active-button"),p.classList.remove("ni-active-button"),c.disabled=e,e&&c.classList.add("ni-active-button"),u.disabled=t,t&&u.classList.add("ni-active-button"),p.disabled=i,i&&p.classList.add("ni-active-button")}.apply(null,t),v.mode=e)}function y(e){return void 0!==e.jqxId?e.jqxId:e.label}function _(){var e=v._parentGraph;for(var t in e.childNodes){var i=e.childNodes[t];if("ni-cartesian-axis"===i.localName||"ni-color-scale"===i.localName){var n=y(i);void 0!==n&&(v.autoScaleStates[n]=i.autoScale,i.savedAutoScale=i.autoScale,i.autoScale="none")}}}function w(e){var t=y(e);return v.autoScaleStates[t]}function x(){var e=v._parentGraph;for(var t in e.childNodes){var i=e.childNodes[t];if("ni-cartesian-axis"===i.localName||"ni-color-scale"===i.localName){var n=w(i);void 0!==n?i.autoScale="none"!==n?n:"loose":void 0!==i.initialAutoScale&&"none"!==i.initialAutoScale?i.autoScale=i.initialAutoScale:i.autoScale="loose"}}v.autoScaleStates={}}function C(e){v._parentGraph.axes.forEach(function(t){t.resetOffset&&t.resetOffset(e)})}v.addEventListener("ni-axis-changed",function(t){var i,n=t.detail.originalSource;"none"!==n.autoScale&&void 0!==w(n)&&(b(e.LOCKED),i=y(n),delete v.autoScaleStates[i]),v.setAutoScaleButtonActiveState()}),r=document.createElement("tr"),i.appendChild(r),(a=document.createElement("td")).className="ni-button-box",r.appendChild(a),c=this.uihelpers.createJQXButton("ni-locked-icon ni-button",!1),t(c).on("click",function(){b(e.LOCKED)}),a.appendChild(c),v.lockButton=c,(s=document.createElement("td")).className="ni-button-box",r.appendChild(s),u=this.uihelpers.createJQXButton("ni-pan-icon ni-button",!1),t(u).on("click",function(){x(),_(),C(!0),b(e.PAN)}),s.appendChild(u),v.panButton=u,(o=document.createElement("td")).className="ni-button-box",r.appendChild(o),p=this.uihelpers.createJQXButton("ni-zoom-region-icon ni-button",!1),t(p).on("click",function(){x(),_(),C(!0),b(e.ZOOM)}),o.appendChild(p),v.zoomButton=p,b(this.mode),(l=document.createElement("td")).className="ni-button-box",r.appendChild(l),(m=this.uihelpers.createJQXButton("ni-zoom-out-icon ni-button",!1)).disabled=!1,t(m).on("click",function(){C(!1)}),l.appendChild(m),v.zoomOutButton=m,(d=document.createElement("td")).className="ni-button-box",r.appendChild(d),(f=this.uihelpers.createJQXButton("ni-toggle-autoscale-icon ni-button",!1)).disabled=!1,t(f).on("click",function(){v.allAutoScaleOn()?_():(b(e.LOCKED),x()),v.setAutoScaleButtonActiveState(),C(!0)}),d.appendChild(f),v.toggleAutoScaleButton=f,(h=document.createElement("td")).className="ni-button-box",r.appendChild(h),(g=this.uihelpers.createJQXButton("ni-snapshot-icon ni-button",!1)).disabled=!1,t(g).on("click",function(){v.downloadSnapshot()}),h.appendChild(g),v.snapshotButton=g}allowsScrollWheelZoom(){return this.mode===e.PAN||this.mode===e.ZOOM}allowsPan(){return this.mode===e.PAN}sendEventToParentGraph(e){var t;void 0!==this._parentGraph&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentGraph.dispatchEvent(new CustomEvent(e,t)))}updateDisabledState(){null!==this.lockButton&&(this.lockButton.disabled=this.disabled),null!==this.panButton&&(this.panButton.disabled=this.disabled),null!==this.zoomButton&&(this.zoomButton.disabled=this.disabled),null!==this.zoomOutButton&&(this.zoomOutButton.disabled=this.disabled),null!==this.toggleAutoScaleButton&&(this.toggleAutoScaleButton.disabled=this.disabled),null!==this.snapshotButton&&(this.snapshotButton.disabled=this.disabled)}propertyChangedHandler(e,t,i){switch(super.propertyChangedHandler(e,t,i),e){case"graphRef":var n=this.findGraph();null!=n&&this.attachToGraph(n);break;case"mode":this.sendEventToParentGraph("ni-graph-tools-changed");break;case"disabled":this.updateDisabledState()}}})}();var mi=Object.freeze({});let fi,gi={};class vi{static get currentActivityId(){return fi}static set currentActivityId(e){fi=e}static get registeredActivities(){return gi}static set registeredActivities(e){gi=e}static createUIActivityObject(e){let t=!1;if("object"!=typeof e||null===e)throw new Error($t.i18n("msg_NO_PARAMETERS_SPECIFIED","UIActivityService.register"));if("string"!=typeof e.id)throw new Error($t.i18n("msg_PARAMETER_NOT_STRING",e.id));if(e.element instanceof window.HTMLElement==!1)throw new Error($t.i18n("msg_PARAMETER_NOT_DOM_ELEMENT",e.element));if(void 0!==e.down&&"function"!=typeof e.down)throw new Error("If a down parameter is provided it must be a function");if(void 0!==e.up&&"function"!=typeof e.up)throw new Error("If an up parameter is provided it must be a function");if(void 0===e.up&&void 0===e.down)throw new Error($t.i18n("msg_REQUIRES_AT_LEAST_ONE_PARAMETER","up, down",e));return"function"==typeof e.up&&"function"!=typeof e.down&&(t=!0),{id:e.id,element:e.element,ignoreTouchListeners:t,down:e.down,downEventListener:void 0,up:e.up,upEventListener:void 0}}static addListenerToElement(e,t,i,n){!0!==n&&t.addEventListener(e,i,!0)}static removeListenerFromElement(e,t,i,n){!0!==n&&t.removeEventListener(e,i,!0)}static stopCurrentActivityListeners(){let e;void 0!==vi.currentActivityId&&(e=vi.registeredActivities[vi.currentActivityId],vi.removeListenerFromElement("mouseup",window,e.upEventListener),vi.removeListenerFromElement("touchend",e.element,e.upEventListener,e.ignoreTouchListeners),vi.removeListenerFromElement("touchcancel",e.element,e.upEventListener,e.ignoreTouchListeners),e.upEventListener=e.moveEventListener=void 0,vi.currentActivityId=void 0)}static verifyCurrentActivityActivated(e){if(e.id!==vi.currentActivityId)throw new Error($t.i18n("msg_UNEXPECTED_BEHAVIOR","Attempted to complete activity that was NOT the current activity. Only the current activity should be able to fire the up action."))}static upAction(e,t){vi.verifyCurrentActivityActivated(e),vi.stopCurrentActivityListeners(),$t.infoVerbose("Activity Service (UP) Action",t),"function"==typeof e.up&&e.up.call(void 0,t)}static startCurrentActivityListeners(e){"function"==typeof e.up&&(vi.currentActivityId=e.id,e.upEventListener=vi.upAction.bind(void 0,e),vi.addListenerToElement("mouseup",window,e.upEventListener),vi.addListenerToElement("touchend",e.element,e.upEventListener,e.ignoreTouchListeners),vi.addListenerToElement("touchcancel",e.element,e.upEventListener,e.ignoreTouchListeners))}static downAction(e,t){let i;e.id!==vi.currentActivityId&&(void 0!==vi.currentActivityId&&(i=vi.registeredActivities[vi.currentActivityId],vi.stopCurrentActivityListeners(),$t.infoVerbose("Activity Service (UP) Action","no event args: new down started so ending previous"),"function"==typeof i.up&&i.up.call(void 0,void 0)),vi.startCurrentActivityListeners(e),void 0!==window.TouchEvent&&t instanceof window.TouchEvent&&t.preventDefault(),$t.infoVerbose("Activity Service (DOWN) Action",t),"function"==typeof e.down&&e.down.call(void 0,t))}static isRegistered(e){return void 0!==vi.registeredActivities[e]}static unregister(e){const t=vi.registeredActivities[e];if(void 0===t)throw new Error($t.i18n("msg_UNKNOWN_ID",e,"Make sure to register an activity with the UIActivityService before attempting to remove the activity."));t.id===vi.currentActivityId&&(vi.stopCurrentActivityListeners(),$t.infoVerbose("Activity Service (UP) Action","no event args: unregister called while event action active so ending previous"),"function"==typeof t.up&&t.up.call(void 0,void 0)),vi.removeListenerFromElement("mousedown",t.element,t.downEventListener),vi.removeListenerFromElement("touchstart",t.element,t.downEventListener,t.ignoreTouchListeners),vi.registeredActivities[e]=void 0}static register(e){const t=vi.createUIActivityObject(e);void 0!==vi.registeredActivities[t.id]&&vi.unregister(t.id),vi.registeredActivities[t.id]=t,t.downEventListener=vi.downAction.bind(void 0,t),vi.addListenerToElement("mousedown",t.element,t.downEventListener),vi.addListenerToElement("touchstart",t.element,t.downEventListener,t.ignoreTouchListeners)}}window.addEventListener("blur",function(){let e;void 0!==vi.currentActivityId&&(e=vi.registeredActivities[vi.currentActivityId],vi.stopCurrentActivityListeners(),$t.infoVerbose("Activity Service (UP) Action","no event args: window lost focus so ending previous"),"function"==typeof e.up&&e.up.call(void 0,void 0))},!1);var bi=Object.freeze({UIActivityService:vi});const yi=Object.freeze({UNINITIALIZED:"UNINITIALIZED",READY:"READY",ERROR:"ERROR"}),_i=Object.freeze({NATIVE:"NATIVE",VIREO:"VIREO"}),wi=Object.freeze({IDE_EDIT:"IDE_EDIT",IDE_RUN:"IDE_RUN",BROWSER:"BROWSER"});class xi{static get ServiceStateEnum(){return yi}static get PanelEngineEnum(){return _i}static get PanelLocationEnum(){return wi}}class Ci{constructor(e){this._dataItemToControlMap=void 0,this.viModels=e}static createDataItemMaps(e){const t={};let i;for(i in e)if(e.hasOwnProperty(i)){const n=e[i].getAllControlModels();let r;for(r in void 0===t[i]&&(t[i]={}),n)if(n.hasOwnProperty(r)){const e=n[r].getEditorRuntimeBindingInfo();void 0!==e&&void 0!==e.dataItem&&""!==e.dataItem&&(t[i][e.dataItem]=e)}}return t}getEditorRuntimeBindingInfo(e,t){void 0!==this._dataItemToControlMap&&void 0!==this._dataItemToControlMap[e]||(this._dataItemToControlMap=Ci.createDataItemMaps(this.viModels));const i=this._dataItemToControlMap[e][t];if(void 0===i)throw new Error("Missing editorRuntimeBindingInfo - are you sure the model was created?. viModelName: "+e+" | dataItem:  "+t+" | registered dataItems: "+Object.keys(this._dataItemToControlMap[e]).join(", "));return i}}var Si=Si||{};Si.PackedData=Si.PackedData||{},Si.PackedData.AnyValue={NONE:0,PackedBooleanValue:1,PackedInt8Value:2,PackedUInt8Value:3,PackedInt16Value:4,PackedUInt16Value:5,PackedInt32Value:6,PackedUInt32Value:7,PackedInt64Value:8,PackedUInt64Value:9,PackedFloat32Value:10,PackedFloat64Value:11,PackedStringValue:12,PackedComplexFloat32Value:13,PackedComplexFloat64Value:14,PackedPathValue:15,PackedTimestampValue:16,PackedBlittableArrayValue:17,PackedArrayValue:18,PackedClusterValue:19,PackedVariantValue:20,PackedWaveformValue:21},Si.PackedData.AnyValueName={0:"NONE",1:"PackedBooleanValue",2:"PackedInt8Value",3:"PackedUInt8Value",4:"PackedInt16Value",5:"PackedUInt16Value",6:"PackedInt32Value",7:"PackedUInt32Value",8:"PackedInt64Value",9:"PackedUInt64Value",10:"PackedFloat32Value",11:"PackedFloat64Value",12:"PackedStringValue",13:"PackedComplexFloat32Value",14:"PackedComplexFloat64Value",15:"PackedPathValue",16:"PackedTimestampValue",17:"PackedBlittableArrayValue",18:"PackedArrayValue",19:"PackedClusterValue",20:"PackedVariantValue",21:"PackedWaveformValue"},Si.PackedData.AnyPackedType={NONE:0,PackedScalarType:1,PackedArrayType:2,PackedClusterType:3},Si.PackedData.AnyPackedTypeName={0:"NONE",1:"PackedScalarType",2:"PackedArrayType",3:"PackedClusterType"},Si.PackedData.PackedScalarType=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedScalarType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedScalarType.getRootAsPackedScalarType=function(e,t){return(t||new Si.PackedData.PackedScalarType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedScalarType.getSizePrefixedRootAsPackedScalarType=function(e,t){return(t||new Si.PackedData.PackedScalarType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedScalarType.prototype.typeType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Si.PackedData.AnyValue.NONE},Si.PackedData.PackedScalarType.prototype.type=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null},Si.PackedData.PackedScalarType.startPackedScalarType=function(e){e.startObject(2)},Si.PackedData.PackedScalarType.addTypeType=function(e,t){e.addFieldInt8(0,t,Si.PackedData.AnyValue.NONE)},Si.PackedData.PackedScalarType.addType=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedScalarType.endPackedScalarType=function(e){return e.endObject()},Si.PackedData.PackedScalarType.createPackedScalarType=function(e,t,i){return Si.PackedData.PackedScalarType.startPackedScalarType(e),Si.PackedData.PackedScalarType.addTypeType(e,t),Si.PackedData.PackedScalarType.addType(e,i),Si.PackedData.PackedScalarType.endPackedScalarType(e)},Si.PackedData.PackedArrayType=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedArrayType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedArrayType.getRootAsPackedArrayType=function(e,t){return(t||new Si.PackedData.PackedArrayType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedArrayType.getSizePrefixedRootAsPackedArrayType=function(e,t){return(t||new Si.PackedData.PackedArrayType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedArrayType.prototype.dimensions=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},Si.PackedData.PackedArrayType.prototype.isBlittable=function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},Si.PackedData.PackedArrayType.prototype.elementType=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new Si.PackedData.PackedDataType).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},Si.PackedData.PackedArrayType.startPackedArrayType=function(e){e.startObject(3)},Si.PackedData.PackedArrayType.addDimensions=function(e,t){e.addFieldInt32(0,t,0)},Si.PackedData.PackedArrayType.addIsBlittable=function(e,t){e.addFieldInt8(1,+t,0)},Si.PackedData.PackedArrayType.addElementType=function(e,t){e.addFieldOffset(2,t,0)},Si.PackedData.PackedArrayType.endPackedArrayType=function(e){return e.endObject()},Si.PackedData.PackedArrayType.createPackedArrayType=function(e,t,i,n){return Si.PackedData.PackedArrayType.startPackedArrayType(e),Si.PackedData.PackedArrayType.addDimensions(e,t),Si.PackedData.PackedArrayType.addIsBlittable(e,i),Si.PackedData.PackedArrayType.addElementType(e,n),Si.PackedData.PackedArrayType.endPackedArrayType(e)},Si.PackedData.PackedClusterType=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedClusterType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedClusterType.getRootAsPackedClusterType=function(e,t){return(t||new Si.PackedData.PackedClusterType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedClusterType.getSizePrefixedRootAsPackedClusterType=function(e,t){return(t||new Si.PackedData.PackedClusterType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedClusterType.prototype.fieldNames=function(e,t){var i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*e,t):null},Si.PackedData.PackedClusterType.prototype.fieldNamesLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedClusterType.prototype.fieldTypes=function(e,t){var i=this.bb.__offset(this.bb_pos,6);return i?(t||new Si.PackedData.PackedDataType).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},Si.PackedData.PackedClusterType.prototype.fieldTypesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedClusterType.startPackedClusterType=function(e){e.startObject(2)},Si.PackedData.PackedClusterType.addFieldNames=function(e,t){e.addFieldOffset(0,t,0)},Si.PackedData.PackedClusterType.createFieldNamesVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()},Si.PackedData.PackedClusterType.startFieldNamesVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedClusterType.addFieldTypes=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedClusterType.createFieldTypesVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()},Si.PackedData.PackedClusterType.startFieldTypesVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedClusterType.endPackedClusterType=function(e){return e.endObject()},Si.PackedData.PackedClusterType.createPackedClusterType=function(e,t,i){return Si.PackedData.PackedClusterType.startPackedClusterType(e),Si.PackedData.PackedClusterType.addFieldNames(e,t),Si.PackedData.PackedClusterType.addFieldTypes(e,i),Si.PackedData.PackedClusterType.endPackedClusterType(e)},Si.PackedData.PackedDataType=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedDataType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedDataType.getRootAsPackedDataType=function(e,t){return(t||new Si.PackedData.PackedDataType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedDataType.getSizePrefixedRootAsPackedDataType=function(e,t){return(t||new Si.PackedData.PackedDataType).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedDataType.prototype.dataTypeType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Si.PackedData.AnyPackedType.NONE},Si.PackedData.PackedDataType.prototype.dataType=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null},Si.PackedData.PackedDataType.startPackedDataType=function(e){e.startObject(2)},Si.PackedData.PackedDataType.addDataTypeType=function(e,t){e.addFieldInt8(0,t,Si.PackedData.AnyPackedType.NONE)},Si.PackedData.PackedDataType.addDataType=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedDataType.endPackedDataType=function(e){return e.endObject()},Si.PackedData.PackedDataType.createPackedDataType=function(e,t,i){return Si.PackedData.PackedDataType.startPackedDataType(e),Si.PackedData.PackedDataType.addDataTypeType(e,t),Si.PackedData.PackedDataType.addDataType(e,i),Si.PackedData.PackedDataType.endPackedDataType(e)},Si.PackedData.PackedBooleanValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedBooleanValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedBooleanValue.getRootAsPackedBooleanValue=function(e,t){return(t||new Si.PackedData.PackedBooleanValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedBooleanValue.getSizePrefixedRootAsPackedBooleanValue=function(e,t){return(t||new Si.PackedData.PackedBooleanValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedBooleanValue.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},Si.PackedData.PackedBooleanValue.startPackedBooleanValue=function(e){e.startObject(1)},Si.PackedData.PackedBooleanValue.addValue=function(e,t){e.addFieldInt8(0,+t,0)},Si.PackedData.PackedBooleanValue.endPackedBooleanValue=function(e){return e.endObject()},Si.PackedData.PackedBooleanValue.createPackedBooleanValue=function(e,t){return Si.PackedData.PackedBooleanValue.startPackedBooleanValue(e),Si.PackedData.PackedBooleanValue.addValue(e,t),Si.PackedData.PackedBooleanValue.endPackedBooleanValue(e)},Si.PackedData.PackedInt8Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedInt8Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedInt8Value.getRootAsPackedInt8Value=function(e,t){return(t||new Si.PackedData.PackedInt8Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt8Value.getSizePrefixedRootAsPackedInt8Value=function(e,t){return(t||new Si.PackedData.PackedInt8Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt8Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):0},Si.PackedData.PackedInt8Value.startPackedInt8Value=function(e){e.startObject(1)},Si.PackedData.PackedInt8Value.addValue=function(e,t){e.addFieldInt8(0,t,0)},Si.PackedData.PackedInt8Value.endPackedInt8Value=function(e){return e.endObject()},Si.PackedData.PackedInt8Value.createPackedInt8Value=function(e,t){return Si.PackedData.PackedInt8Value.startPackedInt8Value(e),Si.PackedData.PackedInt8Value.addValue(e,t),Si.PackedData.PackedInt8Value.endPackedInt8Value(e)},Si.PackedData.PackedUInt8Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedUInt8Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedUInt8Value.getRootAsPackedUInt8Value=function(e,t){return(t||new Si.PackedData.PackedUInt8Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt8Value.getSizePrefixedRootAsPackedUInt8Value=function(e,t){return(t||new Si.PackedData.PackedUInt8Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt8Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):0},Si.PackedData.PackedUInt8Value.startPackedUInt8Value=function(e){e.startObject(1)},Si.PackedData.PackedUInt8Value.addValue=function(e,t){e.addFieldInt8(0,t,0)},Si.PackedData.PackedUInt8Value.endPackedUInt8Value=function(e){return e.endObject()},Si.PackedData.PackedUInt8Value.createPackedUInt8Value=function(e,t){return Si.PackedData.PackedUInt8Value.startPackedUInt8Value(e),Si.PackedData.PackedUInt8Value.addValue(e,t),Si.PackedData.PackedUInt8Value.endPackedUInt8Value(e)},Si.PackedData.PackedInt16Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedInt16Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedInt16Value.getRootAsPackedInt16Value=function(e,t){return(t||new Si.PackedData.PackedInt16Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt16Value.getSizePrefixedRootAsPackedInt16Value=function(e,t){return(t||new Si.PackedData.PackedInt16Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt16Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0},Si.PackedData.PackedInt16Value.startPackedInt16Value=function(e){e.startObject(1)},Si.PackedData.PackedInt16Value.addValue=function(e,t){e.addFieldInt16(0,t,0)},Si.PackedData.PackedInt16Value.endPackedInt16Value=function(e){return e.endObject()},Si.PackedData.PackedInt16Value.createPackedInt16Value=function(e,t){return Si.PackedData.PackedInt16Value.startPackedInt16Value(e),Si.PackedData.PackedInt16Value.addValue(e,t),Si.PackedData.PackedInt16Value.endPackedInt16Value(e)},Si.PackedData.PackedUInt16Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedUInt16Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedUInt16Value.getRootAsPackedUInt16Value=function(e,t){return(t||new Si.PackedData.PackedUInt16Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt16Value.getSizePrefixedRootAsPackedUInt16Value=function(e,t){return(t||new Si.PackedData.PackedUInt16Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt16Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint16(this.bb_pos+e):0},Si.PackedData.PackedUInt16Value.startPackedUInt16Value=function(e){e.startObject(1)},Si.PackedData.PackedUInt16Value.addValue=function(e,t){e.addFieldInt16(0,t,0)},Si.PackedData.PackedUInt16Value.endPackedUInt16Value=function(e){return e.endObject()},Si.PackedData.PackedUInt16Value.createPackedUInt16Value=function(e,t){return Si.PackedData.PackedUInt16Value.startPackedUInt16Value(e),Si.PackedData.PackedUInt16Value.addValue(e,t),Si.PackedData.PackedUInt16Value.endPackedUInt16Value(e)},Si.PackedData.PackedInt32Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedInt32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedInt32Value.getRootAsPackedInt32Value=function(e,t){return(t||new Si.PackedData.PackedInt32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt32Value.getSizePrefixedRootAsPackedInt32Value=function(e,t){return(t||new Si.PackedData.PackedInt32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt32Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},Si.PackedData.PackedInt32Value.startPackedInt32Value=function(e){e.startObject(1)},Si.PackedData.PackedInt32Value.addValue=function(e,t){e.addFieldInt32(0,t,0)},Si.PackedData.PackedInt32Value.endPackedInt32Value=function(e){return e.endObject()},Si.PackedData.PackedInt32Value.createPackedInt32Value=function(e,t){return Si.PackedData.PackedInt32Value.startPackedInt32Value(e),Si.PackedData.PackedInt32Value.addValue(e,t),Si.PackedData.PackedInt32Value.endPackedInt32Value(e)},Si.PackedData.PackedUInt32Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedUInt32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedUInt32Value.getRootAsPackedUInt32Value=function(e,t){return(t||new Si.PackedData.PackedUInt32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt32Value.getSizePrefixedRootAsPackedUInt32Value=function(e,t){return(t||new Si.PackedData.PackedUInt32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt32Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0},Si.PackedData.PackedUInt32Value.startPackedUInt32Value=function(e){e.startObject(1)},Si.PackedData.PackedUInt32Value.addValue=function(e,t){e.addFieldInt32(0,t,0)},Si.PackedData.PackedUInt32Value.endPackedUInt32Value=function(e){return e.endObject()},Si.PackedData.PackedUInt32Value.createPackedUInt32Value=function(e,t){return Si.PackedData.PackedUInt32Value.startPackedUInt32Value(e),Si.PackedData.PackedUInt32Value.addValue(e,t),Si.PackedData.PackedUInt32Value.endPackedUInt32Value(e)},Si.PackedData.PackedInt64Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedInt64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedInt64Value.getRootAsPackedInt64Value=function(e,t){return(t||new Si.PackedData.PackedInt64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt64Value.getSizePrefixedRootAsPackedInt64Value=function(e,t){return(t||new Si.PackedData.PackedInt64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedInt64Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},Si.PackedData.PackedInt64Value.startPackedInt64Value=function(e){e.startObject(1)},Si.PackedData.PackedInt64Value.addValue=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},Si.PackedData.PackedInt64Value.endPackedInt64Value=function(e){return e.endObject()},Si.PackedData.PackedInt64Value.createPackedInt64Value=function(e,t){return Si.PackedData.PackedInt64Value.startPackedInt64Value(e),Si.PackedData.PackedInt64Value.addValue(e,t),Si.PackedData.PackedInt64Value.endPackedInt64Value(e)},Si.PackedData.PackedUInt64Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedUInt64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedUInt64Value.getRootAsPackedUInt64Value=function(e,t){return(t||new Si.PackedData.PackedUInt64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt64Value.getSizePrefixedRootAsPackedUInt64Value=function(e,t){return(t||new Si.PackedData.PackedUInt64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedUInt64Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint64(this.bb_pos+e):this.bb.createLong(0,0)},Si.PackedData.PackedUInt64Value.startPackedUInt64Value=function(e){e.startObject(1)},Si.PackedData.PackedUInt64Value.addValue=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},Si.PackedData.PackedUInt64Value.endPackedUInt64Value=function(e){return e.endObject()},Si.PackedData.PackedUInt64Value.createPackedUInt64Value=function(e,t){return Si.PackedData.PackedUInt64Value.startPackedUInt64Value(e),Si.PackedData.PackedUInt64Value.addValue(e,t),Si.PackedData.PackedUInt64Value.endPackedUInt64Value(e)},Si.PackedData.PackedFloat32Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedFloat32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedFloat32Value.getRootAsPackedFloat32Value=function(e,t){return(t||new Si.PackedData.PackedFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedFloat32Value.getSizePrefixedRootAsPackedFloat32Value=function(e,t){return(t||new Si.PackedData.PackedFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedFloat32Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb_pos+e):0},Si.PackedData.PackedFloat32Value.startPackedFloat32Value=function(e){e.startObject(1)},Si.PackedData.PackedFloat32Value.addValue=function(e,t){e.addFieldFloat32(0,t,0)},Si.PackedData.PackedFloat32Value.endPackedFloat32Value=function(e){return e.endObject()},Si.PackedData.PackedFloat32Value.createPackedFloat32Value=function(e,t){return Si.PackedData.PackedFloat32Value.startPackedFloat32Value(e),Si.PackedData.PackedFloat32Value.addValue(e,t),Si.PackedData.PackedFloat32Value.endPackedFloat32Value(e)},Si.PackedData.PackedFloat64Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedFloat64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedFloat64Value.getRootAsPackedFloat64Value=function(e,t){return(t||new Si.PackedData.PackedFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedFloat64Value.getSizePrefixedRootAsPackedFloat64Value=function(e,t){return(t||new Si.PackedData.PackedFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedFloat64Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat64(this.bb_pos+e):0},Si.PackedData.PackedFloat64Value.startPackedFloat64Value=function(e){e.startObject(1)},Si.PackedData.PackedFloat64Value.addValue=function(e,t){e.addFieldFloat64(0,t,0)},Si.PackedData.PackedFloat64Value.endPackedFloat64Value=function(e){return e.endObject()},Si.PackedData.PackedFloat64Value.createPackedFloat64Value=function(e,t){return Si.PackedData.PackedFloat64Value.startPackedFloat64Value(e),Si.PackedData.PackedFloat64Value.addValue(e,t),Si.PackedData.PackedFloat64Value.endPackedFloat64Value(e)},Si.PackedData.PackedStringValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedStringValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedStringValue.getRootAsPackedStringValue=function(e,t){return(t||new Si.PackedData.PackedStringValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedStringValue.getSizePrefixedRootAsPackedStringValue=function(e,t){return(t||new Si.PackedData.PackedStringValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedStringValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},Si.PackedData.PackedStringValue.startPackedStringValue=function(e){e.startObject(1)},Si.PackedData.PackedStringValue.addValue=function(e,t){e.addFieldOffset(0,t,0)},Si.PackedData.PackedStringValue.endPackedStringValue=function(e){return e.endObject()},Si.PackedData.PackedStringValue.createPackedStringValue=function(e,t){return Si.PackedData.PackedStringValue.startPackedStringValue(e),Si.PackedData.PackedStringValue.addValue(e,t),Si.PackedData.PackedStringValue.endPackedStringValue(e)},Si.PackedData.PackedBlittableArrayValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedBlittableArrayValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedBlittableArrayValue.getRootAsPackedBlittableArrayValue=function(e,t){return(t||new Si.PackedData.PackedBlittableArrayValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedBlittableArrayValue.getSizePrefixedRootAsPackedBlittableArrayValue=function(e,t){return(t||new Si.PackedData.PackedBlittableArrayValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedBlittableArrayValue.prototype.dimensions=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0},Si.PackedData.PackedBlittableArrayValue.prototype.dimensionsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedBlittableArrayValue.prototype.dimensionsArray=function(){var e=this.bb.__offset(this.bb_pos,4);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Si.PackedData.PackedBlittableArrayValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb.__vector(this.bb_pos+t)+e):0},Si.PackedData.PackedBlittableArrayValue.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedBlittableArrayValue.prototype.valueArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Si.PackedData.PackedBlittableArrayValue.startPackedBlittableArrayValue=function(e){e.startObject(2)},Si.PackedData.PackedBlittableArrayValue.addDimensions=function(e,t){e.addFieldOffset(0,t,0)},Si.PackedData.PackedBlittableArrayValue.createDimensionsVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addInt32(t[i]);return e.endVector()},Si.PackedData.PackedBlittableArrayValue.startDimensionsVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedBlittableArrayValue.addValue=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedBlittableArrayValue.createValueVector=function(e,t){e.startVector(1,t.length,1);for(var i=t.length-1;i>=0;i--)e.addInt8(t[i]);return e.endVector()},Si.PackedData.PackedBlittableArrayValue.startValueVector=function(e,t){e.startVector(1,t,1)},Si.PackedData.PackedBlittableArrayValue.endPackedBlittableArrayValue=function(e){return e.endObject()},Si.PackedData.PackedBlittableArrayValue.createPackedBlittableArrayValue=function(e,t,i){return Si.PackedData.PackedBlittableArrayValue.startPackedBlittableArrayValue(e),Si.PackedData.PackedBlittableArrayValue.addDimensions(e,t),Si.PackedData.PackedBlittableArrayValue.addValue(e,i),Si.PackedData.PackedBlittableArrayValue.endPackedBlittableArrayValue(e)},Si.PackedData.PackedBlittable1DArrayValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedBlittable1DArrayValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedBlittable1DArrayValue.getRootAsPackedBlittable1DArrayValue=function(e,t){return(t||new Si.PackedData.PackedBlittable1DArrayValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedBlittable1DArrayValue.getSizePrefixedRootAsPackedBlittable1DArrayValue=function(e,t){return(t||new Si.PackedData.PackedBlittable1DArrayValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedBlittable1DArrayValue.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},Si.PackedData.PackedBlittable1DArrayValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb.__vector(this.bb_pos+t)+e):0},Si.PackedData.PackedBlittable1DArrayValue.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedBlittable1DArrayValue.prototype.valueArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Si.PackedData.PackedBlittable1DArrayValue.startPackedBlittable1DArrayValue=function(e){e.startObject(2)},Si.PackedData.PackedBlittable1DArrayValue.addLength=function(e,t){e.addFieldInt32(0,t,0)},Si.PackedData.PackedBlittable1DArrayValue.addValue=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedBlittable1DArrayValue.createValueVector=function(e,t){e.startVector(1,t.length,1);for(var i=t.length-1;i>=0;i--)e.addInt8(t[i]);return e.endVector()},Si.PackedData.PackedBlittable1DArrayValue.startValueVector=function(e,t){e.startVector(1,t,1)},Si.PackedData.PackedBlittable1DArrayValue.endPackedBlittable1DArrayValue=function(e){return e.endObject()},Si.PackedData.PackedBlittable1DArrayValue.createPackedBlittable1DArrayValue=function(e,t,i){return Si.PackedData.PackedBlittable1DArrayValue.startPackedBlittable1DArrayValue(e),Si.PackedData.PackedBlittable1DArrayValue.addLength(e,t),Si.PackedData.PackedBlittable1DArrayValue.addValue(e,i),Si.PackedData.PackedBlittable1DArrayValue.endPackedBlittable1DArrayValue(e)},Si.PackedData.PackedArrayValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedArrayValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedArrayValue.getRootAsPackedArrayValue=function(e,t){return(t||new Si.PackedData.PackedArrayValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedArrayValue.getSizePrefixedRootAsPackedArrayValue=function(e,t){return(t||new Si.PackedData.PackedArrayValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedArrayValue.prototype.value=function(e,t){var i=this.bb.__offset(this.bb_pos,4);return i?(t||new Si.PackedData.PackedDataValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},Si.PackedData.PackedArrayValue.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedArrayValue.prototype.dimensions=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0},Si.PackedData.PackedArrayValue.prototype.dimensionsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedArrayValue.prototype.dimensionsArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Si.PackedData.PackedArrayValue.startPackedArrayValue=function(e){e.startObject(2)},Si.PackedData.PackedArrayValue.addValue=function(e,t){e.addFieldOffset(0,t,0)},Si.PackedData.PackedArrayValue.createValueVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()},Si.PackedData.PackedArrayValue.startValueVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedArrayValue.addDimensions=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedArrayValue.createDimensionsVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addInt32(t[i]);return e.endVector()},Si.PackedData.PackedArrayValue.startDimensionsVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedArrayValue.endPackedArrayValue=function(e){return e.endObject()},Si.PackedData.PackedArrayValue.createPackedArrayValue=function(e,t,i){return Si.PackedData.PackedArrayValue.startPackedArrayValue(e),Si.PackedData.PackedArrayValue.addValue(e,t),Si.PackedData.PackedArrayValue.addDimensions(e,i),Si.PackedData.PackedArrayValue.endPackedArrayValue(e)},Si.PackedData.PackedVariantValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedVariantValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedVariantValue.getRootAsPackedVariantValue=function(e,t){return(t||new Si.PackedData.PackedVariantValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedVariantValue.getSizePrefixedRootAsPackedVariantValue=function(e,t){return(t||new Si.PackedData.PackedVariantValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedVariantValue.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new Si.PackedData.PackedDataValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},Si.PackedData.PackedVariantValue.prototype.dataType=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new Si.PackedData.PackedDataType).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},Si.PackedData.PackedVariantValue.prototype.dataSize=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},Si.PackedData.PackedVariantValue.prototype.attributeNames=function(e,t){var i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*e,t):null},Si.PackedData.PackedVariantValue.prototype.attributeNamesLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedVariantValue.prototype.attributeValues=function(e,t){var i=this.bb.__offset(this.bb_pos,12);return i?(t||new Si.PackedData.PackedVariantValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},Si.PackedData.PackedVariantValue.prototype.attributeValuesLength=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedVariantValue.startPackedVariantValue=function(e){e.startObject(5)},Si.PackedData.PackedVariantValue.addData=function(e,t){e.addFieldOffset(0,t,0)},Si.PackedData.PackedVariantValue.addDataType=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedVariantValue.addDataSize=function(e,t){e.addFieldInt32(2,t,0)},Si.PackedData.PackedVariantValue.addAttributeNames=function(e,t){e.addFieldOffset(3,t,0)},Si.PackedData.PackedVariantValue.createAttributeNamesVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()},Si.PackedData.PackedVariantValue.startAttributeNamesVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedVariantValue.addAttributeValues=function(e,t){e.addFieldOffset(4,t,0)},Si.PackedData.PackedVariantValue.createAttributeValuesVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()},Si.PackedData.PackedVariantValue.startAttributeValuesVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedVariantValue.endPackedVariantValue=function(e){return e.endObject()},Si.PackedData.PackedVariantValue.createPackedVariantValue=function(e,t,i,n,r,a){return Si.PackedData.PackedVariantValue.startPackedVariantValue(e),Si.PackedData.PackedVariantValue.addData(e,t),Si.PackedData.PackedVariantValue.addDataType(e,i),Si.PackedData.PackedVariantValue.addDataSize(e,n),Si.PackedData.PackedVariantValue.addAttributeNames(e,r),Si.PackedData.PackedVariantValue.addAttributeValues(e,a),Si.PackedData.PackedVariantValue.endPackedVariantValue(e)},Si.PackedData.PackedWaveformValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedWaveformValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedWaveformValue.getRootAsPackedWaveformValue=function(e,t){return(t||new Si.PackedData.PackedWaveformValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedWaveformValue.getSizePrefixedRootAsPackedWaveformValue=function(e,t){return(t||new Si.PackedData.PackedWaveformValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedWaveformValue.prototype.t0=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new Si.PackedData.PackedTimestampValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},Si.PackedData.PackedWaveformValue.prototype.dt=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb_pos+e):0},Si.PackedData.PackedWaveformValue.prototype.y=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new Si.PackedData.PackedBlittable1DArrayValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},Si.PackedData.PackedWaveformValue.prototype.attributes=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?(e||new Si.PackedData.PackedVariantValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},Si.PackedData.PackedWaveformValue.startPackedWaveformValue=function(e){e.startObject(4)},Si.PackedData.PackedWaveformValue.addT0=function(e,t){e.addFieldOffset(0,t,0)},Si.PackedData.PackedWaveformValue.addDt=function(e,t){e.addFieldFloat64(1,t,0)},Si.PackedData.PackedWaveformValue.addY=function(e,t){e.addFieldOffset(2,t,0)},Si.PackedData.PackedWaveformValue.addAttributes=function(e,t){e.addFieldOffset(3,t,0)},Si.PackedData.PackedWaveformValue.endPackedWaveformValue=function(e){return e.endObject()},Si.PackedData.PackedWaveformValue.createPackedWaveformValue=function(e,t,i,n,r){return Si.PackedData.PackedWaveformValue.startPackedWaveformValue(e),Si.PackedData.PackedWaveformValue.addT0(e,t),Si.PackedData.PackedWaveformValue.addDt(e,i),Si.PackedData.PackedWaveformValue.addY(e,n),Si.PackedData.PackedWaveformValue.addAttributes(e,r),Si.PackedData.PackedWaveformValue.endPackedWaveformValue(e)},Si.PackedData.PackedComplexFloat32Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedComplexFloat32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedComplexFloat32Value.getRootAsPackedComplexFloat32Value=function(e,t){return(t||new Si.PackedData.PackedComplexFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedComplexFloat32Value.getSizePrefixedRootAsPackedComplexFloat32Value=function(e,t){return(t||new Si.PackedData.PackedComplexFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedComplexFloat32Value.prototype.real=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb_pos+e):0},Si.PackedData.PackedComplexFloat32Value.prototype.imaginary=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat32(this.bb_pos+e):0},Si.PackedData.PackedComplexFloat32Value.startPackedComplexFloat32Value=function(e){e.startObject(2)},Si.PackedData.PackedComplexFloat32Value.addReal=function(e,t){e.addFieldFloat32(0,t,0)},Si.PackedData.PackedComplexFloat32Value.addImaginary=function(e,t){e.addFieldFloat32(1,t,0)},Si.PackedData.PackedComplexFloat32Value.endPackedComplexFloat32Value=function(e){return e.endObject()},Si.PackedData.PackedComplexFloat32Value.createPackedComplexFloat32Value=function(e,t,i){return Si.PackedData.PackedComplexFloat32Value.startPackedComplexFloat32Value(e),Si.PackedData.PackedComplexFloat32Value.addReal(e,t),Si.PackedData.PackedComplexFloat32Value.addImaginary(e,i),Si.PackedData.PackedComplexFloat32Value.endPackedComplexFloat32Value(e)},Si.PackedData.PackedComplexFloat64Value=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedComplexFloat64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedComplexFloat64Value.getRootAsPackedComplexFloat64Value=function(e,t){return(t||new Si.PackedData.PackedComplexFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedComplexFloat64Value.getSizePrefixedRootAsPackedComplexFloat64Value=function(e,t){return(t||new Si.PackedData.PackedComplexFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedComplexFloat64Value.prototype.real=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat64(this.bb_pos+e):0},Si.PackedData.PackedComplexFloat64Value.prototype.imaginary=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb_pos+e):0},Si.PackedData.PackedComplexFloat64Value.startPackedComplexFloat64Value=function(e){e.startObject(2)},Si.PackedData.PackedComplexFloat64Value.addReal=function(e,t){e.addFieldFloat64(0,t,0)},Si.PackedData.PackedComplexFloat64Value.addImaginary=function(e,t){e.addFieldFloat64(1,t,0)},Si.PackedData.PackedComplexFloat64Value.endPackedComplexFloat64Value=function(e){return e.endObject()},Si.PackedData.PackedComplexFloat64Value.createPackedComplexFloat64Value=function(e,t,i){return Si.PackedData.PackedComplexFloat64Value.startPackedComplexFloat64Value(e),Si.PackedData.PackedComplexFloat64Value.addReal(e,t),Si.PackedData.PackedComplexFloat64Value.addImaginary(e,i),Si.PackedData.PackedComplexFloat64Value.endPackedComplexFloat64Value(e)},Si.PackedData.PackedPathValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedPathValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedPathValue.getRootAsPackedPathValue=function(e,t){return(t||new Si.PackedData.PackedPathValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedPathValue.getSizePrefixedRootAsPackedPathValue=function(e,t){return(t||new Si.PackedData.PackedPathValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedPathValue.prototype.pathType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},Si.PackedData.PackedPathValue.prototype.components=function(e,t){var i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*e,t):null},Si.PackedData.PackedPathValue.prototype.componentsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},Si.PackedData.PackedPathValue.startPackedPathValue=function(e){e.startObject(2)},Si.PackedData.PackedPathValue.addPathType=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},Si.PackedData.PackedPathValue.addComponents=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedPathValue.createComponentsVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()},Si.PackedData.PackedPathValue.startComponentsVector=function(e,t){e.startVector(4,t,4)},Si.PackedData.PackedPathValue.endPackedPathValue=function(e){return e.endObject()},Si.PackedData.PackedPathValue.createPackedPathValue=function(e,t,i){return Si.PackedData.PackedPathValue.startPackedPathValue(e),Si.PackedData.PackedPathValue.addPathType(e,t),Si.PackedData.PackedPathValue.addComponents(e,i),Si.PackedData.PackedPathValue.endPackedPathValue(e)},Si.PackedData.PackedTimestampValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedTimestampValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedTimestampValue.getRootAsPackedTimestampValue=function(e,t){return(t||new Si.PackedData.PackedTimestampValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedTimestampValue.getSizePrefixedRootAsPackedTimestampValue=function(e,t){return(t||new Si.PackedData.PackedTimestampValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedTimestampValue.prototype.seconds=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},Si.PackedData.PackedTimestampValue.prototype.fractions=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint64(this.bb_pos+e):this.bb.createLong(0,0)},Si.PackedData.PackedTimestampValue.startPackedTimestampValue=function(e){e.startObject(2)},Si.PackedData.PackedTimestampValue.addSeconds=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},Si.PackedData.PackedTimestampValue.addFractions=function(e,t){e.addFieldInt64(1,t,e.createLong(0,0))},Si.PackedData.PackedTimestampValue.endPackedTimestampValue=function(e){return e.endObject()},Si.PackedData.PackedTimestampValue.createPackedTimestampValue=function(e,t,i){return Si.PackedData.PackedTimestampValue.startPackedTimestampValue(e),Si.PackedData.PackedTimestampValue.addSeconds(e,t),Si.PackedData.PackedTimestampValue.addFractions(e,i),Si.PackedData.PackedTimestampValue.endPackedTimestampValue(e)},Si.PackedData.PackedClusterValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedClusterValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedClusterValue.getRootAsPackedClusterValue=function(e,t){return(t||new Si.PackedData.PackedClusterValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedClusterValue.getSizePrefixedRootAsPackedClusterValue=function(e,t){return(t||new Si.PackedData.PackedClusterValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedClusterValue.startPackedClusterValue=function(e){e.startObject(0)},Si.PackedData.PackedClusterValue.endPackedClusterValue=function(e){return e.endObject()},Si.PackedData.PackedClusterValue.createPackedClusterValue=function(e){return Si.PackedData.PackedClusterValue.startPackedClusterValue(e),Si.PackedData.PackedClusterValue.endPackedClusterValue(e)},Si.PackedData.PackedDataValue=function(){this.bb=null,this.bb_pos=0},Si.PackedData.PackedDataValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Si.PackedData.PackedDataValue.getRootAsPackedDataValue=function(e,t){return(t||new Si.PackedData.PackedDataValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedDataValue.getSizePrefixedRootAsPackedDataValue=function(e,t){return(t||new Si.PackedData.PackedDataValue).__init(e.readInt32(e.position())+e.position(),e)},Si.PackedData.PackedDataValue.prototype.valueType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Si.PackedData.AnyValue.NONE},Si.PackedData.PackedDataValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null},Si.PackedData.PackedDataValue.startPackedDataValue=function(e){e.startObject(2)},Si.PackedData.PackedDataValue.addValueType=function(e,t){e.addFieldInt8(0,t,Si.PackedData.AnyValue.NONE)},Si.PackedData.PackedDataValue.addValue=function(e,t){e.addFieldOffset(1,t,0)},Si.PackedData.PackedDataValue.endPackedDataValue=function(e){return e.endObject()},Si.PackedData.PackedDataValue.finishPackedDataValueBuffer=function(e,t){e.finish(t)},Si.PackedData.PackedDataValue.finishSizePrefixedPackedDataValueBuffer=function(e,t){e.finish(t,void 0,!0)},Si.PackedData.PackedDataValue.createPackedDataValue=function(e,t,i){return Si.PackedData.PackedDataValue.startPackedDataValue(e),Si.PackedData.PackedDataValue.addValueType(e,t),Si.PackedData.PackedDataValue.addValue(e,i),Si.PackedData.PackedDataValue.endPackedDataValue(e)};const Ti=window.NITypeNames,Pi=window.NITypes;class Ii{static getArrayDimensions(e){const t=[e.length];for(;Array.isArray(e[0]);)e=e[0],t.push(e.length);return t}static createArrayFromByteArray(e,t,i,n,r){const a=Ii.createTypedArrayForValue(e,t,i,n);return r?Ii.convertTypedArrayIntoArray(a,e):a}static convertArrayToFlattenedInt8Array(e,t){const i=Ei.getArrayElementType(t),n=Ii.getArrayDimensions(e);let r=1;for(const e of n)r*=e;const a=Ii.getPreAllocatedTypedArray(i,r);return Ii.createTypedArrayRecursive(e,n,i,a,0),new Int8Array(a.buffer)}static getPreAllocatedTypedArray(e,t){return Ii.getTypedArrayFromSize(e,t)}static createTypedArrayRecursive(e,t,i,n,r){if(1===t.length){const t=Ii.getTypedArray(i,e);return n.set(t,r),r+t.length}for(let a=0;a<t[0];++a)r=Ii.createTypedArrayRecursive(e[a],t.slice(1),i,n,r);return r}static getTypedArray(e,t){return Ii.getTypedArrayFromArray(e,t)}static getTypedArrayFromSize(e,t){switch(e.getName()){case Ti.UINT8:return new Uint8Array(t);case Ti.BOOLEAN:case Ti.INT8:return new Int8Array(t);case Ti.UINT16:return new Uint16Array(t);case Ti.INT16:return new Int16Array(t);case Ti.UINT32:return new Uint32Array(t);case Ti.INT32:return new Int32Array(t);case Ti.SINGLE:return new Float32Array(t);case Ti.ENUM:case Ti.INT64:case Ti.UINT64:case Ti.DOUBLE:return new Float64Array(t);case Ti.COMPLEXSINGLE:return new Float32Array(2*t);case Ti.COMPLEXDOUBLE:return new Float64Array(2*t)}}static getTypedArrayFromArray(e,t){switch(e.getName()){case Ti.UINT8:return new Uint8Array(t);case Ti.BOOLEAN:case Ti.INT8:return new Int8Array(t);case Ti.UINT16:return new Uint16Array(t);case Ti.INT16:return new Int16Array(t);case Ti.UINT32:return new Uint32Array(t);case Ti.INT32:return new Int32Array(t);case Ti.SINGLE:return new Float32Array(t);case Ti.ENUM:case Ti.INT64:case Ti.UINT64:case Ti.DOUBLE:return new Float64Array(t);case Ti.COMPLEXSINGLE:{const e=[];for(let i=0,n=t.length;i<n;i++)e.push(t[i].realPart),e.push(t[i].imaginaryPart);return new Float32Array(e)}case Ti.COMPLEXDOUBLE:{const e=[];for(let i=0,n=t.length;i<n;i++)e.push(t[i].realPart),e.push(t[i].imaginaryPart);return new Float64Array(e)}}}static createTypedArrayForValue(e,t,i,n){switch(e.getName()){case Ti.BOOLEAN:case Ti.INT8:return new Int8Array(t.buffer,i,n);case Ti.UINT8:return new Uint8Array(t.buffer,i,n);case Ti.UINT16:return new Uint16Array(t.buffer,i,n);case Ti.UINT32:return new Uint32Array(t.buffer,i,n);case Ti.INT16:return new Int16Array(t.buffer,i,n);case Ti.INT32:return new Int32Array(t.buffer,i,n);case Ti.SINGLE:return new Float32Array(t.buffer,i,n);case Ti.DOUBLE:return new Float64Array(t.buffer,i,n);case Ti.COMPLEXSINGLE:return new Float32Array(t.buffer,i,2*n);case Ti.COMPLEXDOUBLE:return new Float64Array(t.buffer,i,2*n)}}static convertTypedArrayIntoArray(e,t){const i=e.length;if(t.isComplex()){const t=new Array(i/2);for(let n=0,r=0;n<i;n+=2,r++)t[r]=new window.NIComplex(e[n],e[n+1]);return t}{const n=t.isBoolean(),r=new Array(i);for(let t=0;t<i;t++)r[t]=n?0!==e[t]:e[t];return r}}}class Ei{static isBlittableArrayType(e){switch(e.getName()){case Ti.BOOLEAN:case Ti.UINT8:case Ti.UINT16:case Ti.UINT32:case Ti.INT8:case Ti.INT16:case Ti.INT32:case Ti.SINGLE:case Ti.DOUBLE:case Ti.ENUM:case Ti.INT64:case Ti.UINT64:case Ti.COMPLEXSINGLE:case Ti.COMPLEXDOUBLE:return!0;case Ti.ARRAY:{const t=Ei.getArrayElementType(e);return Ei.isBlittableArrayType(t)}}return!1}static getBlittableArrayElementSize(e){switch(e.getName()){case Ti.BOOLEAN:case Ti.UINT8:case Ti.INT8:return 1;case Ti.UINT16:case Ti.INT16:return 2;case Ti.UINT32:case Ti.INT32:case Ti.SINGLE:case Ti.ENUM:return 4;case Ti.DOUBLE:case Ti.COMPLEXSINGLE:case Ti.INT64:case Ti.UINT64:return 8;case Ti.COMPLEXDOUBLE:case Ti.TIMESTAMP:return 16;case Ti.ARRAY:{const t=Ei.getArrayElementType(e);return Ei.getBlittableArrayElementSize(t)}}return 0}static getArrayElementType(e){let t=e.getSubtype();for(;t.getName()===Ti.ARRAY;)t=t.getSubtype();return t}static ToNIType(e){switch(e.dataTypeType()){case Si.PackedData.AnyPackedType.PackedScalarType:return Ei.ScalarTypeToNIType(e);case Si.PackedData.AnyPackedType.PackedArrayType:return Ei.ArrayTypeToNIType(e);case Si.PackedData.AnyPackedType.PackedClusterType:return Ei.ClusterTypeToNIType(e)}}static ArrayTypeToNIType(e){const t=e.dataType(new Si.PackedData.PackedArrayType);return Ei.ToNIType(t.elementType).makeArray(t.dimensions)}static ClusterTypeToNIType(e){throw new Error("ClusterTypeToNIType Method not implemented.")}static ScalarTypeToNIType(e){switch(e.dataType(new Si.PackedData.PackedScalarType).typeType()){case Si.PackedData.AnyValue.PackedBooleanValue:return Pi.BOOLEAN;case Si.PackedData.AnyValue.PackedInt8Value:return Pi.INT8;case Si.PackedData.AnyValue.PackedUInt8Value:return Pi.UINT8;case Si.PackedData.AnyValue.PackedInt16Value:return Pi.INT16;case Si.PackedData.AnyValue.PackedUInt16Value:return Pi.UINT16;case Si.PackedData.AnyValue.PackedInt32Value:return Pi.INT32;case Si.PackedData.AnyValue.PackedUInt32Value:return Pi.UINT32;case Si.PackedData.AnyValue.PackedInt64Value:return Pi.INT64;case Si.PackedData.AnyValue.PackedUInt64Value:return Pi.UINT64;case Si.PackedData.AnyValue.PackedFloat32Value:return Pi.SINGLE;case Si.PackedData.AnyValue.PackedFloat64Value:return Pi.DOUBLE;case Si.PackedData.AnyValue.PackedStringValue:return Pi.STRING;case Si.PackedData.AnyValue.PackedComplexFloat32Value:return Pi.COMPLEXSINGLE;case Si.PackedData.AnyValue.PackedComplexFloat64Value:return Pi.COMPLEXDOUBLE;case Si.PackedData.AnyValue.PackedPathValue:return Pi.PATH;case Si.PackedData.AnyValue.PackedTimestampValue:return Pi.TIMESTAMP}return Pi.VOID}}class Di{static PackDataValue(e,t,i){return new ji(e,t,i).pack()}constructor(e,t,i){this.niType=t,this.unpacker=new ki(e,t,i)}getType(){return this.niType}unpack(){return this.unpacker.unpack()}}class ki{constructor(e,t,i){this.packedData=e,this.niType=t,this.unpackingOptions=i}getType(){return this.niType}unpack(){return Ei.isBlittableArrayType(this.niType)?this.unpackBlittableType():this.unpackObjectArray()}unpackObjectArray(){const e=[],t=this.niType.getSubtype();for(let i=0;i<this.packedData.valueLength();++i){const n=this.packedData.value(i),r=Ui.GetDataAdaptorFromIndex(n,t,this.unpackingOptions);e[i]=r.unpack()}return e}unpackBlittableType(){return 1===this.niType.getRank()?this.unpackBlittable1DArray():this.unpackBlittableArray()}unpackBlittable1DArray(){const e=this.niType.getSubtype(),t=new Si.PackedData.PackedBlittable1DArrayValue;t.__init(this.packedData.bb_pos,this.packedData.bb);const i=t.valueArray()||new Int8Array(0);return Ii.createArrayFromByteArray(e,i,i.byteOffset,t.length(),this.unpackIntoJSArray())}unpackBlittableArray(){const e=new Si.PackedData.PackedBlittableArrayValue;e.__init(this.packedData.bb_pos,this.packedData.bb);const t=Ei.getArrayElementType(this.niType),i=Ei.getBlittableArrayElementSize(this.niType),n=e.dimensionsArray(),r=e.valueArray()||new Int8Array(0);if(null==n||0===n.length)return Ii.getPreAllocatedTypedArray(t,0);const a=new Mi(i,t,n,r);return this.unpackBlittableSubArray(a,0)}unpackBlittableSubArray(e,t){if(t===e.dimensions.length-1){const t=e.valueArray.byteOffset+e.consumedBytes,i=Ii.createArrayFromByteArray(e.elementType,e.valueArray,t,e.dimensions[e.dimensions.length-1],this.unpackIntoJSArray());return e.consumedBytes+=e.dimensionByteCount,i}const i=e.dimensions[t],n=new Array(i);for(let r=0;r<i;r++)n[r]=this.unpackBlittableSubArray(e,t+1);return n}unpackIntoJSArray(){return void 0===this.unpackingOptions||void 0===this.unpackingOptions.supportsArrayLikeTypes||!0!==this.unpackingOptions.supportsArrayLikeTypes}}class ji{constructor(e,t,i){this.builder=e,this.dataToPack=t,this.niType=i,Ei.isBlittableArrayType(this.niType)?this.dimensions=Ii.getArrayDimensions(t):this.dimensions=[this.dataToPack.length]}pack(){if(Ei.isBlittableArrayType(this.niType)){const e=Ii.convertArrayToFlattenedInt8Array(this.dataToPack,this.niType);return this.packBlittableArray(e)}return this.packObjectArray()}packObjectArray(){const e=[],t=this.niType.getSubtype();for(let i=0;i<this.dataToPack.length;++i){const n=this.dataToPack[i],r=Ui.PackDataValue(this.builder,n,t,!1);e[i]=r}const i=Si.PackedData.PackedArrayValue.createValueVector(this.builder,e),n=Si.PackedData.PackedArrayValue.createDimensionsVector(this.builder,this.dimensions);return Si.PackedData.PackedArrayValue.startPackedArrayValue(this.builder),Si.PackedData.PackedArrayValue.addDimensions(this.builder,n),Si.PackedData.PackedArrayValue.addValue(this.builder,i),Si.PackedData.PackedArrayValue.endPackedArrayValue(this.builder)}packBlittableArray(e){const t=e,i=Si.PackedData.PackedBlittable1DArrayValue.createValueVector(this.builder,t);if(1===this.dimensions.length)return this.packBlittable1DArray(i);const n=Si.PackedData.PackedBlittableArrayValue.createDimensionsVector(this.builder,this.dimensions);return this.packBlittableMultiDimensionalArray(i,n)}packBlittable1DArray(e){return Si.PackedData.PackedBlittable1DArrayValue.startPackedBlittable1DArrayValue(this.builder),Si.PackedData.PackedBlittable1DArrayValue.addValue(this.builder,e),Si.PackedData.PackedBlittable1DArrayValue.addLength(this.builder,this.dataToPack.length),Si.PackedData.PackedBlittable1DArrayValue.endPackedBlittable1DArrayValue(this.builder)}packBlittableMultiDimensionalArray(e,t){return Si.PackedData.PackedBlittableArrayValue.startPackedBlittableArrayValue(this.builder),Si.PackedData.PackedBlittableArrayValue.addValue(this.builder,e),Si.PackedData.PackedBlittableArrayValue.addDimensions(this.builder,t),Si.PackedData.PackedBlittableArrayValue.endPackedBlittableArrayValue(this.builder)}}class Mi{constructor(e,t,i,n){this.elementSize=e,this.elementType=t,this.dimensions=i,this.valueArray=n,this.dimensionByteCount=i[i.length-1]*e,this.consumedBytes=0}}class Ai{static getRootAsPackedCluster(e){return new Ai(e.readInt32(e.position())+e.position(),e)}static startPackedClusterValue(e,t){e.startObject(t)}static endPackedClusterValue(e){return e.endObject()}constructor(e,t){this.index=e,this.bb=t}getUint8Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readUint8(this.index+t):0}getInt8Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readInt8(this.index+t):0}getUint16Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readUint16(this.index+t):0}getInt16Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readInt16(this.index+t):0}getUint32Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readUint32(this.index+t):0}getInt32Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readInt32(this.index+t):0}getFloat32Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readFloat32(this.index+t):0}getFloat64Field(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.readFloat64(this.index+t):0}getBooleanField(e){const t=this.bb.__offset(this.index,4+2*e);return!!t&&Boolean(this.bb.readInt8(this.index+t))}getStringField(e){const t=this.bb.__offset(this.index,4+2*e);return t?this.bb.__string(this.index+t):""}getClusterElement(e){const t=this.bb.__offset(this.index,4+2*e);if(0!==t){const e=new Si.PackedData.PackedDataValue;return e.__init(this.bb.__indirect(this.index+t),this.bb),e}}}const Ni=window.NITypeNames;class qi{static PackDataValue(e,t,i){const n=i.getFields(),r=i.getSubtype(),a=[];for(let i=0;i<n.length;++i)if(!this.packInline(r[i])){const s=Ui.PackDataValue(e,t[n[i]],r[i],!0,i);a[i]=s}Ai.startPackedClusterValue(e,n.length);for(let i=0;i<n.length;++i)this.packInline(r[i])?Ui.PackDataValue(e,t[n[i]],r[i],!0,i):e.addFieldOffset(i,a[i],0);return Ai.endPackedClusterValue(e)}static packInline(e){switch(e.getName()){case Ni.BOOLEAN:case Ni.UINT8:case Ni.UINT16:case Ni.UINT32:case Ni.UINT64:case Ni.INT8:case Ni.INT16:case Ni.INT32:case Ni.INT64:case Ni.SINGLE:case Ni.DOUBLE:case Ni.ENUM:return!0}return!1}constructor(e,t,i){this.packedData=e,this.niType=t,this.unpackingOptions=i}getType(){return this.niType}unpack(){const e={},t=this.niType.getFields(),i=this.niType.getSubtype();for(let n=0;n<t.length;++n){const r={value:this.getUnpackedValue(n,i[n])};e[t[n]]=r.value}return e}getUnpackedValue(e,t){switch(t.getName()){case Ni.BOOLEAN:return this.packedData.getBooleanField(e);case Ni.UINT8:return this.packedData.getUint8Field(e);case Ni.UINT16:return this.packedData.getUint16Field(e);case Ni.UINT32:return this.packedData.getUint32Field(e);case Ni.INT8:return this.packedData.getInt8Field(e);case Ni.INT16:return this.packedData.getInt16Field(e);case Ni.INT32:return this.packedData.getInt32Field(e);case Ni.SINGLE:return this.packedData.getFloat32Field(e);case Ni.DOUBLE:return this.packedData.getFloat64Field(e);case Ni.STRING:return this.packedData.getStringField(e);case Ni.CLUSTER:case Ni.ARRAY:case Ni.COMPLEXSINGLE:case Ni.COMPLEXDOUBLE:case Ni.TIMESTAMP:case Ni.ANALOGWAVEFORM:return Ui.GetDataAdaptorFromIndex(this.packedData.getClusterElement(e),t,this.unpackingOptions).unpack()}}}class Oi{static PackDataValue(e,t){const i=new window.NIComplex(t);return Si.PackedData.PackedComplexFloat64Value.startPackedComplexFloat64Value(e),Si.PackedData.PackedComplexFloat64Value.addImaginary(e,i.imaginaryPart),Si.PackedData.PackedComplexFloat64Value.addReal(e,i.realPart),Si.PackedData.PackedComplexFloat64Value.endPackedComplexFloat64Value(e)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=new Si.PackedData.PackedComplexFloat64Value;return e.__init(this.packedData.bb_pos,this.packedData.bb),new window.NIComplex(e.real(),e.imaginary()).toString()}}class Bi{static PackDataValue(e,t){const i=new window.NIComplex(t);return Si.PackedData.PackedComplexFloat32Value.startPackedComplexFloat32Value(e),Si.PackedData.PackedComplexFloat32Value.addImaginary(e,i.imaginaryPart),Si.PackedData.PackedComplexFloat32Value.addReal(e,i.realPart),Si.PackedData.PackedComplexFloat32Value.endPackedComplexFloat32Value(e)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=new Si.PackedData.PackedComplexFloat32Value;return e.__init(this.packedData.bb_pos,this.packedData.bb),new window.NIComplex(e.real(),e.imaginary()).toString()}}class Ri{static CreateFlatbuffersLong(e){let t="0";e.startsWith("-")&&(t="1");let i=new window.JQX.Utilities.BigNumber(e).toString(2);i=new Array(65-i.length).join(t)+i;const n=parseInt(i.substring(0,32),2),r=parseInt(i.substring(32),2);return flatbuffers.Long.create(r,n)}static ulongToFloat64(e){return 4294967296*(e.high>>>0)+(e.low>>>0)}}class Vi{static PackDataValue(e,t,i,n){if(t=Ri.CreateFlatbuffersLong(t),!i)return Si.PackedData.PackedInt64Value.startPackedInt64Value(e),Si.PackedData.PackedInt64Value.addValue(e,t),Si.PackedData.PackedInt64Value.endPackedInt64Value(e);e.addFieldInt64(n,t,0)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=this.packedData.value();return new window.JQX.Utilities.BigNumber(e.low,e.high).toString()}}class Hi{static UnpackFromData(e){const t=e.seconds().toFloat64(),i=Ri.ulongToFloat64(e.fractions());return new window.NITimestamp(t.toString()+":"+i.toString())}static PackDataValue(e,t){Si.PackedData.PackedTimestampValue.startPackedTimestampValue(e),Si.PackedData.PackedTimestampValue.addSeconds(e,Hi.CreateFlatbuffersLong(t.seconds));const i=Hi.CreateFlatbuffersLong(0x10000000000000000*t.fractions);return Si.PackedData.PackedTimestampValue.addFractions(e,i),Si.PackedData.PackedTimestampValue.endPackedTimestampValue(e)}static CreateFlatbuffersLong(e){const t=e.toString(16),i=t.length;let n=0,r=0;if(i<=8)r=i>0?e:0;else{const e=t.substring(i-8,i);r=parseInt(e,16);const a=t.substring(0,i-8);n=parseInt(a,16)}return flatbuffers.Long.create(r,n)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=new Si.PackedData.PackedTimestampValue;return e.__init(this.packedData.bb_pos,this.packedData.bb),Hi.UnpackFromData(e)}}class Li{constructor(e,t,i){this.packedData=e,this.niType=t,this.unpackingOptions=i}getType(){return this.niType}unpack(){return this.packedData.value()}}class zi{constructor(e,t,i){this.niType=t,this.packedData=e,this.options=i}static PackDataValue(e,t,i){const n=Hi.PackDataValue(e,t.t0),r=Di.PackDataValue(e,t.Y,i.getSubtype().makeArray(1)),a=zi.PackChannelNameAttribute(e,t.channelName);return Si.PackedData.PackedWaveformValue.createPackedWaveformValue(e,n,t.dt,r,a)}static PackChannelNameAttribute(e,t){if("string"==typeof t)return zi.PackVariant(e,null,window.NITypes.VOID,[zi.channelNameAttributeName],[t])}static PackVariant(e,t,i,n,r){const a=Ui.PackDataValue(e,t,i,!1,0);let s=0;0!==a&&(Si.PackedData.PackedDataValue.startPackedDataValue(e),Si.PackedData.PackedDataValue.addValue(e,a),s=Si.PackedData.PackedDataValue.endPackedDataValue(e));const o=Ui.PackDataType(e,i),l=n.map(t=>e.createString(t)),d=Si.PackedData.PackedVariantValue.createAttributeNamesVector(e,l),h=r.map(t=>zi.PackVariant(e,t,window.NITypes.STRING,[],[])),c=Si.PackedData.PackedVariantValue.createAttributeValuesVector(e,h);return Si.PackedData.PackedVariantValue.startPackedVariantValue(e),Si.PackedData.PackedVariantValue.addData(e,s),Si.PackedData.PackedVariantValue.addDataType(e,o),Si.PackedData.PackedVariantValue.addAttributeNames(e,d),Si.PackedData.PackedVariantValue.addAttributeValues(e,c),Si.PackedData.PackedVariantValue.endPackedVariantValue(e)}getType(){return this.niType}unpack(){const e=new Si.PackedData.PackedWaveformValue;e.__init(this.packedData.bb_pos,this.packedData.bb);const t=new window.NIAnalogWaveform;t.dt=e.dt(),t.t0=Hi.UnpackFromData(e.t0());const i=new ki(e.y(),this.niType.getSubtype().makeArray(1),this.options);t.Y=i.unpack();const n=e.attributes();if(null!==n)for(let e=0;e<n.attributeNamesLength();e++)if(n.attributeNames(e)===zi.channelNameAttributeName){const i=n.attributeValues(e);Ei.ToNIType(i.dataType()).isString()&&(t.channelName=i.data(new Si.PackedData.PackedStringValue).value())}return t}}zi.channelNameAttributeName="NI_ChannelName";const Fi=window.NITypeNames;class Ui{static PackDataIntoSharedMemory(e,t){const i=Ui.PackData(e,t),n=browserMessaging.getSharedData("",i.length);return new Uint8Array(n).set(i),browserMessaging.getSharedDataId(n)}static PackData(e,t){const i=new flatbuffers.Builder(1024),n=Ui.PackDataValue(i,e,t,!1,0);if(0!==n){Si.PackedData.PackedDataValue.startPackedDataValue(i),Si.PackedData.PackedDataValue.addValue(i,n);const e=Si.PackedData.PackedDataValue.endPackedDataValue(i);return i.finish(e),i.asUint8Array()}}static PackDataValue(e,t,i,n,r){let a=0;switch(i.getName()){case Fi.BOOLEAN:n?e.addFieldInt8(r,Number(t),Number(!1)):(Si.PackedData.PackedBooleanValue.startPackedBooleanValue(e),Si.PackedData.PackedBooleanValue.addValue(e,t),a=Si.PackedData.PackedBooleanValue.endPackedBooleanValue(e));break;case Fi.UINT8:n?e.addFieldInt8(r,t,0):(Si.PackedData.PackedUInt8Value.startPackedUInt8Value(e),Si.PackedData.PackedUInt8Value.addValue(e,t),a=Si.PackedData.PackedUInt8Value.endPackedUInt8Value(e));break;case Fi.UINT16:n?e.addFieldInt16(r,t,0):(Si.PackedData.PackedUInt16Value.startPackedUInt16Value(e),Si.PackedData.PackedUInt16Value.addValue(e,t),a=Si.PackedData.PackedUInt16Value.endPackedUInt16Value(e));break;case Fi.UINT32:n?e.addFieldInt32(r,t,0):(Si.PackedData.PackedUInt32Value.startPackedUInt32Value(e),Si.PackedData.PackedUInt32Value.addValue(e,t),a=Si.PackedData.PackedUInt32Value.endPackedUInt32Value(e));break;case Fi.UINT64:a=Vi.PackDataValue(e,t,n,r);break;case Fi.INT8:n?e.addFieldInt8(r,t,0):(Si.PackedData.PackedInt8Value.startPackedInt8Value(e),Si.PackedData.PackedInt8Value.addValue(e,t),a=Si.PackedData.PackedInt8Value.endPackedInt8Value(e));break;case Fi.INT16:n?e.addFieldInt16(r,t,0):(Si.PackedData.PackedInt16Value.startPackedInt16Value(e),Si.PackedData.PackedInt16Value.addValue(e,t),a=Si.PackedData.PackedInt16Value.endPackedInt16Value(e));break;case Fi.INT32:n?e.addFieldInt32(r,t,0):(Si.PackedData.PackedInt32Value.startPackedInt32Value(e),Si.PackedData.PackedInt32Value.addValue(e,t),a=Si.PackedData.PackedInt32Value.endPackedInt32Value(e));break;case Fi.INT64:a=Vi.PackDataValue(e,t,n,r);break;case Fi.SINGLE:n?e.addFieldFloat32(r,t,0):(Si.PackedData.PackedFloat32Value.startPackedFloat32Value(e),Si.PackedData.PackedFloat32Value.addValue(e,t),a=Si.PackedData.PackedFloat32Value.endPackedFloat32Value(e));break;case Fi.DOUBLE:n?e.addFieldFloat64(r,t,0):(Si.PackedData.PackedFloat64Value.startPackedFloat64Value(e),Si.PackedData.PackedFloat64Value.addValue(e,t),a=Si.PackedData.PackedFloat64Value.endPackedFloat64Value(e));break;case Fi.STRING:{const i=e.createString(t);n?a=i:(Si.PackedData.PackedStringValue.startPackedStringValue(e),Si.PackedData.PackedStringValue.addValue(e,i),a=Si.PackedData.PackedStringValue.endPackedStringValue(e));break}case Fi.ARRAY:a=Di.PackDataValue(e,t,i);break;case Fi.CLUSTER:a=qi.PackDataValue(e,t,i);break;case Fi.COMPLEXSINGLE:a=Bi.PackDataValue(e,t);break;case Fi.COMPLEXDOUBLE:a=Oi.PackDataValue(e,t);break;case Fi.TIMESTAMP:a=Hi.PackDataValue(e,t);break;case Fi.ANALOGWAVEFORM:a=zi.PackDataValue(e,t,i)}return a}static GetDataAdaptorFromRoot(e,t,i){const n=new flatbuffers.ByteBuffer(e);switch(t.getName()){case Fi.BOOLEAN:return new Li(Si.PackedData.PackedBooleanValue.getRootAsPackedBooleanValue(n),t,i);case Fi.UINT8:return new Li(Si.PackedData.PackedUInt8Value.getRootAsPackedUInt8Value(n),t,i);case Fi.UINT16:return new Li(Si.PackedData.PackedUInt16Value.getRootAsPackedUInt16Value(n),t,i);case Fi.UINT32:return new Li(Si.PackedData.PackedUInt32Value.getRootAsPackedUInt32Value(n),t,i);case Fi.UINT64:return new Vi(Si.PackedData.PackedUInt64Value.getRootAsPackedUInt64Value(n),t,i);case Fi.INT8:return new Li(Si.PackedData.PackedInt8Value.getRootAsPackedInt8Value(n),t,i);case Fi.INT16:return new Li(Si.PackedData.PackedInt16Value.getRootAsPackedInt16Value(n),t,i);case Fi.INT32:return new Li(Si.PackedData.PackedInt32Value.getRootAsPackedInt32Value(n),t,i);case Fi.INT64:return new Vi(Si.PackedData.PackedInt64Value.getRootAsPackedInt64Value(n),t,i);case Fi.SINGLE:return new Li(Si.PackedData.PackedFloat32Value.getRootAsPackedFloat32Value(n),t,i);case Fi.DOUBLE:return new Li(Si.PackedData.PackedFloat64Value.getRootAsPackedFloat64Value(n),t,i);case Fi.STRING:return new Li(Si.PackedData.PackedStringValue.getRootAsPackedStringValue(n),t,i);case Fi.CLUSTER:return new qi(Ai.getRootAsPackedCluster(n),t,i);case Fi.ARRAY:return new Di(Si.PackedData.PackedArrayValue.getRootAsPackedArrayValue(n),t,i);case Fi.COMPLEXSINGLE:return new Bi(Si.PackedData.PackedComplexFloat32Value.getRootAsPackedComplexFloat32Value(n),t,i);case Fi.COMPLEXDOUBLE:return new Oi(Si.PackedData.PackedComplexFloat64Value.getRootAsPackedComplexFloat64Value(n),t,i);case Fi.TIMESTAMP:return new Hi(Si.PackedData.PackedTimestampValue.getRootAsPackedTimestampValue(n),t,i);case Fi.ANALOGWAVEFORM:return new zi(Si.PackedData.PackedWaveformValue.getRootAsPackedWaveformValue(n),t,i)}}static GetDataAdaptorFromPackedValue(e,t,i){const n=new flatbuffers.ByteBuffer(e),r=Si.PackedData.PackedDataValue.getRootAsPackedDataValue(n);return this.GetDataAdaptorFromIndex(r.value({}),t,i)}static GetDataAdaptorFromIndex(e,t,i){switch(t.getName()){case Fi.BOOLEAN:return new Li((new Si.PackedData.PackedBooleanValue).__init(e.bb_pos,e.bb),t,i);case Fi.UINT8:return new Li((new Si.PackedData.PackedUInt8Value).__init(e.bb_pos,e.bb),t,i);case Fi.UINT16:return new Li((new Si.PackedData.PackedUInt16Value).__init(e.bb_pos,e.bb),t,i);case Fi.UINT32:return new Li((new Si.PackedData.PackedUInt32Value).__init(e.bb_pos,e.bb),t,i);case Fi.UINT64:return new Vi((new Si.PackedData.PackedUInt64Value).__init(e.bb_pos,e.bb),t,i);case Fi.INT8:return new Li((new Si.PackedData.PackedInt8Value).__init(e.bb_pos,e.bb),t,i);case Fi.INT16:return new Li((new Si.PackedData.PackedInt16Value).__init(e.bb_pos,e.bb),t,i);case Fi.INT32:return new Li((new Si.PackedData.PackedInt32Value).__init(e.bb_pos,e.bb),t,i);case Fi.INT64:return new Vi((new Si.PackedData.PackedInt64Value).__init(e.bb_pos,e.bb),t,i);case Fi.SINGLE:return new Li((new Si.PackedData.PackedFloat32Value).__init(e.bb_pos,e.bb),t,i);case Fi.DOUBLE:return new Li((new Si.PackedData.PackedFloat64Value).__init(e.bb_pos,e.bb),t,i);case Fi.STRING:return new Li((new Si.PackedData.PackedStringValue).__init(e.bb_pos,e.bb),t,i);case Fi.CLUSTER:return new qi(new Ai(e.bb_pos,e.bb),t,i);case Fi.ARRAY:return new Di((new Si.PackedData.PackedArrayValue).__init(e.bb_pos,e.bb),t,i);case Fi.COMPLEXSINGLE:return new Bi((new Si.PackedData.PackedComplexFloat32Value).__init(e.bb_pos,e.bb),t,i);case Fi.COMPLEXDOUBLE:return new Oi((new Si.PackedData.PackedComplexFloat64Value).__init(e.bb_pos,e.bb),t,i);case Fi.TIMESTAMP:return new Hi((new Si.PackedData.PackedTimestampValue).__init(e.bb_pos,e.bb),t,i);case Fi.ANALOGWAVEFORM:return new zi((new Si.PackedData.PackedWaveformValue).__init(e.bb_pos,e.bb),t,i)}}static PackDataType(e,t){let i=0;switch(t.getName()){case Fi.ARRAY:throw new Error("Pack array type not implemented.");case Fi.CLUSTER:throw new Error("Pack cluster type not implemented.");case Fi.ANALOGWAVEFORM:case Fi.DIGITALWAVEFORM:throw new Error("Pack waveform type not implemented.");default:{const n=this.ToFlatBufferScalarType(t),r=Si.PackedData.PackedScalarType.createPackedScalarType(e,n,0);i=Si.PackedData.PackedDataType.createPackedDataType(e,Si.PackedData.AnyPackedType.PackedScalarType,r)}}return i}static ToFlatBufferScalarType(e){switch(e.getName()){case Fi.BOOLEAN:return Si.PackedData.AnyValue.PackedBooleanValue;case Fi.UINT8:return Si.PackedData.AnyValue.PackedUInt8Value;case Fi.UINT16:return Si.PackedData.AnyValue.PackedUInt16Value;case Fi.UINT32:return Si.PackedData.AnyValue.PackedUInt32Value;case Fi.UINT64:return Si.PackedData.AnyValue.PackedUInt64Value;case Fi.INT8:return Si.PackedData.AnyValue.PackedInt8Value;case Fi.INT16:return Si.PackedData.AnyValue.PackedInt16Value;case Fi.INT32:return Si.PackedData.AnyValue.PackedInt32Value;case Fi.INT64:return Si.PackedData.AnyValue.PackedInt64Value;case Fi.SINGLE:return Si.PackedData.AnyValue.PackedFloat32Value;case Fi.DOUBLE:return Si.PackedData.AnyValue.PackedFloat64Value;case Fi.STRING:return Si.PackedData.AnyValue.PackedStringValue}return Si.PackedData.AnyValue.NONE}}class $i{static convertJsNaNInf(e){if("number"!=typeof e)throw new Error("Expected value to be number type");return Object.is(window.NaN,e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e}static convertNaNInfString(e){if("number"==typeof e)return e;switch(e){case"NaN":return window.NaN;case"Infinity":return Number.POSITIVE_INFINITY;case"-Infinity":return Number.NEGATIVE_INFINITY;default:throw new Error("Unexpected value. Expected a JS number; or 'NaN', 'Infinity', or '-Infinity'. Value: "+e+", type "+typeof e)}}static convertJsFloatArray(e,t,i,n){let r;const a=n?[]:e;if(void 0!==e)if(1===t)for(r=0;r<e.length;r++)a[r]=i(e[r]);else for(r=0;r<e.length;r++)a[r]=$i.convertJsFloatArray(e[r],t-1,i,n);return a}static convertJsArray(e,t,i,n,r){let a;const s=r?[]:e;if(1===i)for(a=0;a<e.length;a++)s[a]=$i.convert(e[a],t,n,r);else for(a=0;a<e.length;a++)s[a]=$i.convertJsArray(e[a],t,i-1,n,r);return s}static needsConversion(e){let t,i,n=!1;if(void 0!==e)if(e.isFloat())n=!0;else if(e.isArray())n=$i.needsConversion(e.getSubtype());else if(e.isCluster()){if(void 0!==(t=e.getSubtype()))for(i=0;i<t.length;i++)n=n||$i.needsConversion(t[i])}else e.isAnalogWaveform()&&(n=!0);return n}static convert(e,t,i,n){let r,a,s,o,l=e;if(void 0!==t)if(t.isFloat())l=i(e);else if(t.isArray())r=t.getSubtype(),Array.isArray(e)&&(r.isFloat()?l=$i.convertJsFloatArray(e,t.getRank(),i,n):(r.isCluster()||r.isAnalogWaveform())&&(l=$i.convertJsArray(e,r,t.getRank(),i,n)));else if(t.isCluster())if(void 0!==(r=t.getSubtype()))for(l=n?{}:e,a=t.getFields(),o=0;o<a.length;o++)s=a[o],e.hasOwnProperty(s)&&(l[s]=$i.convert(e[s],r[o],i,n));else l=e;else t.isAnalogWaveform()&&(l={t0:"0:0",dt:1,channelName:"",Y:[]},null!==e&&(l.dt=e.dt,l.t0=e.t0,l.channelName=e.channelName,l.Y=$i.convertJsFloatArray(e.Y,1,i,n)));return l}static jsModelToEditor(e,t){return $i.needsConversion(t)?$i.convert(e,t,$i.convertJsNaNInf,!0):e}static editorToJsModel(e,t){return $i.needsConversion(t)?$i.convert(e,t,$i.convertNaNInfString,!1):e}static packedDataToJsModel(e,t,i){let n;return n=e instanceof Uint8Array?Ui.GetDataAdaptorFromPackedValue(e,t,i):Ui.GetDataAdaptorFromIndex(e,t,i),void 0===i||void 0===i.supportsVirtualization||!0!==i.supportsVirtualization?n.unpack():n}}class Wi extends Error{constructor(e,t){super(e),this.name="LVPropertyError",this.code=t}}var Gi=Gi||{};Gi.Web=Gi.Web||{},Gi.Web.Interop=Gi.Web.Interop||{},Gi.Web.Interop.AnyType={NONE:0,UnknownTable:1},Gi.Web.Interop.AnyTypeName={0:"NONE",1:"UnknownTable"},Gi.Web.Interop.UpdateData={NONE:0,BatchUpdateFromJson:1,BatchUpdateFromBuffer:2,BatchUpdateFromOffset:3},Gi.Web.Interop.UpdateDataName={0:"NONE",1:"BatchUpdateFromJson",2:"BatchUpdateFromBuffer",3:"BatchUpdateFromOffset"},Gi.Web.Interop.BatchUpdateFromJson=function(){this.bb=null,this.bb_pos=0},Gi.Web.Interop.BatchUpdateFromJson.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Gi.Web.Interop.BatchUpdateFromJson.getRootAsBatchUpdateFromJson=function(e,t){return(t||new Gi.Web.Interop.BatchUpdateFromJson).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.BatchUpdateFromJson.getSizePrefixedRootAsBatchUpdateFromJson=function(e,t){return(t||new Gi.Web.Interop.BatchUpdateFromJson).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.BatchUpdateFromJson.prototype.propertyJson=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},Gi.Web.Interop.BatchUpdateFromJson.startBatchUpdateFromJson=function(e){e.startObject(1)},Gi.Web.Interop.BatchUpdateFromJson.addPropertyJson=function(e,t){e.addFieldOffset(0,t,0)},Gi.Web.Interop.BatchUpdateFromJson.endBatchUpdateFromJson=function(e){return e.endObject()},Gi.Web.Interop.BatchUpdateFromJson.createBatchUpdateFromJson=function(e,t){return Gi.Web.Interop.BatchUpdateFromJson.startBatchUpdateFromJson(e),Gi.Web.Interop.BatchUpdateFromJson.addPropertyJson(e,t),Gi.Web.Interop.BatchUpdateFromJson.endBatchUpdateFromJson(e)},Gi.Web.Interop.BatchUpdateFromBuffer=function(){this.bb=null,this.bb_pos=0},Gi.Web.Interop.BatchUpdateFromBuffer.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Gi.Web.Interop.BatchUpdateFromBuffer.getRootAsBatchUpdateFromBuffer=function(e,t){return(t||new Gi.Web.Interop.BatchUpdateFromBuffer).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.BatchUpdateFromBuffer.getSizePrefixedRootAsBatchUpdateFromBuffer=function(e,t){return(t||new Gi.Web.Interop.BatchUpdateFromBuffer).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.BatchUpdateFromBuffer.prototype.position=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},Gi.Web.Interop.BatchUpdateFromBuffer.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},Gi.Web.Interop.BatchUpdateFromBuffer.prototype.memoryId=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},Gi.Web.Interop.BatchUpdateFromBuffer.startBatchUpdateFromBuffer=function(e){e.startObject(3)},Gi.Web.Interop.BatchUpdateFromBuffer.addPosition=function(e,t){e.addFieldInt32(0,t,0)},Gi.Web.Interop.BatchUpdateFromBuffer.addLength=function(e,t){e.addFieldInt32(1,t,0)},Gi.Web.Interop.BatchUpdateFromBuffer.addMemoryId=function(e,t){e.addFieldOffset(2,t,0)},Gi.Web.Interop.BatchUpdateFromBuffer.endBatchUpdateFromBuffer=function(e){return e.endObject()},Gi.Web.Interop.BatchUpdateFromBuffer.createBatchUpdateFromBuffer=function(e,t,i,n){return Gi.Web.Interop.BatchUpdateFromBuffer.startBatchUpdateFromBuffer(e),Gi.Web.Interop.BatchUpdateFromBuffer.addPosition(e,t),Gi.Web.Interop.BatchUpdateFromBuffer.addLength(e,i),Gi.Web.Interop.BatchUpdateFromBuffer.addMemoryId(e,n),Gi.Web.Interop.BatchUpdateFromBuffer.endBatchUpdateFromBuffer(e)},Gi.Web.Interop.UnknownTable=function(){this.bb=null,this.bb_pos=0},Gi.Web.Interop.UnknownTable.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Gi.Web.Interop.UnknownTable.getRootAsUnknownTable=function(e,t){return(t||new Gi.Web.Interop.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.UnknownTable.getSizePrefixedRootAsUnknownTable=function(e,t){return(t||new Gi.Web.Interop.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.UnknownTable.startUnknownTable=function(e){e.startObject(0)},Gi.Web.Interop.UnknownTable.endUnknownTable=function(e){return e.endObject()},Gi.Web.Interop.UnknownTable.createUnknownTable=function(e){return Gi.Web.Interop.UnknownTable.startUnknownTable(e),Gi.Web.Interop.UnknownTable.endUnknownTable(e)},Gi.Web.Interop.BatchUpdateFromOffset=function(){this.bb=null,this.bb_pos=0},Gi.Web.Interop.BatchUpdateFromOffset.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Gi.Web.Interop.BatchUpdateFromOffset.getRootAsBatchUpdateFromOffset=function(e,t){return(t||new Gi.Web.Interop.BatchUpdateFromOffset).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.BatchUpdateFromOffset.getSizePrefixedRootAsBatchUpdateFromOffset=function(e,t){return(t||new Gi.Web.Interop.BatchUpdateFromOffset).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.BatchUpdateFromOffset.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Gi.Web.Interop.AnyType.NONE},Gi.Web.Interop.BatchUpdateFromOffset.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null},Gi.Web.Interop.BatchUpdateFromOffset.startBatchUpdateFromOffset=function(e){e.startObject(2)},Gi.Web.Interop.BatchUpdateFromOffset.addDataType=function(e,t){e.addFieldInt8(0,t,Gi.Web.Interop.AnyType.NONE)},Gi.Web.Interop.BatchUpdateFromOffset.addData=function(e,t){e.addFieldOffset(1,t,0)},Gi.Web.Interop.BatchUpdateFromOffset.endBatchUpdateFromOffset=function(e){return e.endObject()},Gi.Web.Interop.BatchUpdateFromOffset.createBatchUpdateFromOffset=function(e,t,i){return Gi.Web.Interop.BatchUpdateFromOffset.startBatchUpdateFromOffset(e),Gi.Web.Interop.BatchUpdateFromOffset.addDataType(e,t),Gi.Web.Interop.BatchUpdateFromOffset.addData(e,i),Gi.Web.Interop.BatchUpdateFromOffset.endBatchUpdateFromOffset(e)},Gi.Web.Interop.UpdateItem=function(){this.bb=null,this.bb_pos=0},Gi.Web.Interop.UpdateItem.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Gi.Web.Interop.UpdateItem.getRootAsUpdateItem=function(e,t){return(t||new Gi.Web.Interop.UpdateItem).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.UpdateItem.getSizePrefixedRootAsUpdateItem=function(e,t){return(t||new Gi.Web.Interop.UpdateItem).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.UpdateItem.prototype.runtimeId=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},Gi.Web.Interop.UpdateItem.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},Gi.Web.Interop.UpdateItem.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Gi.Web.Interop.UpdateData.NONE},Gi.Web.Interop.UpdateItem.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null},Gi.Web.Interop.UpdateItem.startUpdateItem=function(e){e.startObject(4)},Gi.Web.Interop.UpdateItem.addRuntimeId=function(e,t){e.addFieldInt32(0,t,0)},Gi.Web.Interop.UpdateItem.addPropertyName=function(e,t){e.addFieldOffset(1,t,0)},Gi.Web.Interop.UpdateItem.addDataType=function(e,t){e.addFieldInt8(2,t,Gi.Web.Interop.UpdateData.NONE)},Gi.Web.Interop.UpdateItem.addData=function(e,t){e.addFieldOffset(3,t,0)},Gi.Web.Interop.UpdateItem.endUpdateItem=function(e){return e.endObject()},Gi.Web.Interop.UpdateItem.createUpdateItem=function(e,t,i,n,r){return Gi.Web.Interop.UpdateItem.startUpdateItem(e),Gi.Web.Interop.UpdateItem.addRuntimeId(e,t),Gi.Web.Interop.UpdateItem.addPropertyName(e,i),Gi.Web.Interop.UpdateItem.addDataType(e,n),Gi.Web.Interop.UpdateItem.addData(e,r),Gi.Web.Interop.UpdateItem.endUpdateItem(e)},Gi.Web.Interop.Batch=function(){this.bb=null,this.bb_pos=0},Gi.Web.Interop.Batch.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Gi.Web.Interop.Batch.getRootAsBatch=function(e,t){return(t||new Gi.Web.Interop.Batch).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.Batch.getSizePrefixedRootAsBatch=function(e,t){return(t||new Gi.Web.Interop.Batch).__init(e.readInt32(e.position())+e.position(),e)},Gi.Web.Interop.Batch.prototype.docName=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},Gi.Web.Interop.Batch.prototype.waitForFrameUpdate=function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},Gi.Web.Interop.Batch.prototype.items=function(e,t){var i=this.bb.__offset(this.bb_pos,8);return i?(t||new Gi.Web.Interop.UpdateItem).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},Gi.Web.Interop.Batch.prototype.itemsLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},Gi.Web.Interop.Batch.startBatch=function(e){e.startObject(3)},Gi.Web.Interop.Batch.addDocName=function(e,t){e.addFieldOffset(0,t,0)},Gi.Web.Interop.Batch.addWaitForFrameUpdate=function(e,t){e.addFieldInt8(1,+t,0)},Gi.Web.Interop.Batch.addItems=function(e,t){e.addFieldOffset(2,t,0)},Gi.Web.Interop.Batch.createItemsVector=function(e,t){e.startVector(4,t.length,4);for(var i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()},Gi.Web.Interop.Batch.startItemsVector=function(e,t){e.startVector(4,t,4)},Gi.Web.Interop.Batch.endBatch=function(e){return e.endObject()},Gi.Web.Interop.Batch.finishBatchBuffer=function(e,t){e.finish(t)},Gi.Web.Interop.Batch.finishSizePrefixedBatchBuffer=function(e,t){e.finish(t,void 0,!0)},Gi.Web.Interop.Batch.createBatch=function(e,t,i,n){return Gi.Web.Interop.Batch.startBatch(e),Gi.Web.Interop.Batch.addDocName(e,t),Gi.Web.Interop.Batch.addWaitForFrameUpdate(e,i),Gi.Web.Interop.Batch.addItems(e,n),Gi.Web.Interop.Batch.endBatch(e)};class Xi{constructor(){this.properties={},this.cssClasses=Object.freeze({toAdd:[],toRemove:[]}),this.cssStyles={},this.attributes={},this.postRender={}}static get REMOVE_CUSTOM_PROPERTY_TOKEN(){return""}reset(){this.properties={},this.cssClasses=Object.freeze({toAdd:[],toRemove:[]}),this.cssStyles={},this.attributes={},this.postRender={}}isEmpty(){return!(Object.keys(this.properties).length>0)&&(!(this.cssClasses.toAdd.length>0)&&(!(this.cssClasses.toRemove.length>0)&&(!(Object.keys(this.cssStyles).length>0)&&(!(Object.keys(this.attributes).length>0)&&!(Object.keys(this.postRender).length>0)))))}}let Yi=[];const Ji={},Qi={};let Ki=!1,Zi=Promise.resolve();class en{static addCSSClasses(e,t){let i;for(i=0;i<t.length;i++){if("string"!=typeof t[i])throw new Error($t.i18n("msg_RENDERBUFFER_EXPECTS_STRING","css classes to add",typeof t[i]));e.classList.add(t[i])}}static removeCSSClasses(e,t){let i;for(i=0;i<t.length;i++){if("string"!=typeof t[i])throw new Error($t.i18n("msg_RENDERBUFFER_EXPECTS_STRING","css classes to remove",typeof t[i]));e.classList.remove(t[i])}}static setInlineStyle(e,t){let i;for(i in t)if(t.hasOwnProperty(i)){if("string"!=typeof t[i])throw new Error($t.i18n("msg_RENDERBUFFER_EXPECTS_STRING","element style",typeof t[i]));t[i]===Xi.REMOVE_CUSTOM_PROPERTY_TOKEN?e.style.removeProperty(i):e.style.setProperty(i,t[i])}}static setAttributes(e,t){let i;for(i in t)if(t.hasOwnProperty(i)){if("string"!=typeof t[i])throw new Error($t.i18n("msg_RENDERBUFFER_EXPECTS_STRING","element attributes",typeof t[i]));e.setAttribute(i,t[i])}}static setProperties(e,t){let i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===t[i])throw new Error("Property cannot be undefined "+i);e[i]=t[i]}}static dispatchResizeEventWhenSizeChanges(e,t){if(Object.keys(t).length>0){const i={width:t.width,height:t.height};void 0===i.width&&void 0===i.height||e.dispatchEvent(new CustomEvent("resizeEventHack",{detail:i}))}}static applyDomUpdates(e,t){en.addCSSClasses(e,t.cssClasses.toAdd),en.removeCSSClasses(e,t.cssClasses.toRemove),en.setInlineStyle(e,t.cssStyles),en.setAttributes(e,t.attributes),en.setProperties(e,t.properties),en.dispatchResizeEventWhenSizeChanges(e,t.cssStyles)}static callPostRenderFunctions(e){if("object"!=typeof e)throw new Error("postRender should be assigned functions via named properties");for(const t in e)if(e.hasOwnProperty(t)){if("function"!=typeof e[t])throw new Error("postRender["+t+"] is not a function");e[t]()}}static runFrameUpdate(){let e,t,i;try{for(;Yi.length>0;)i=(e=Yi.shift()).niElementInstanceId,t=Ji[i],Qi[i]=!1,en.applyDomUpdates(e,t),en.callPostRenderFunctions(t.postRender),t.reset()}finally{Ki=!1}}static getOrAddRenderBuffer(e){if(!$t.isElement(e))throw new Error("Element should be an instance of Html Custom Element.");const t=e.niElementInstanceId;let i=Ji[t];return void 0===i&&(i=new Xi,Ji[t]=i),i}static removeRenderBuffer(e){if(!$t.isElement(e))throw new Error("Element should be an instance of Html Custom Element.");const t=e.niElementInstanceId,i=Ji[t];return void 0!==i&&(Ji[t]=void 0,Qi[t]=void 0,Yi=Yi.filter(function(e){return e.niElementInstanceId!==t})),i}static enqueueDomUpdate(e){if(!$t.isElement(e))throw new Error("Element should be an instance of HtmlElement.");const t=e.niElementInstanceId,i=Ji[t];if(void 0===i)throw Error("Did you forget to getOrAddRenderBuffer?");if(!1!==i.isEmpty()||!1!==Qi[t]&&void 0!==Qi[t]||(Qi[t]=!0,Yi.push(e)),!0===$t.SYNCHRONIZE_RENDER_BUFFER&&Yi.length>0)return Ki=!0,void en.runFrameUpdate();!1===Ki&&Yi.length>0&&(Ki=!0,Zi=new Promise(e=>{window.requestAnimationFrame(()=>{en.runFrameUpdate(),e()})}))}static isFrameRequested(){return Ki}static waitForFrameUpdate(){return Zi}}const tn=new JQX.Utilities.DateTime(new Date(-20828448e5));class nn{static convert(e){const t=new window.NITimestamp(e).toDate();return isNaN(t.getTime())?new JQX.Utilities.DateTime(t):new JQX.Utilities.DateTime(t.toISOString(),"UTC")}static convertBack(e,t){return"string"==typeof e&&(e=JQX.Utilities.DateTime.validateDate(e,tn)),new window.NITimestamp(new Date(e.toTimeZone("UTC").toString("yyyy-MM-ddTHH:mm:ss.fff")+"Z")).toString()}}const rn=Symbol("NIArrayViewerSymbol");class an{static get NIArrayViewerSymbol(){return rn}static isNIArrayViewer(e){return"object"==typeof e&&null!==e&&!0===e[rn]}}class sn{constructor(){this.setServiceState=void 0,this.verifyServiceStateIs=void 0,this.checkServiceStateIs=void 0,this.getVIModels=void 0,this.enableEvents=!1,this.windowEngineCallbacks={getPropertyValue:void 0,controlExists:void 0,indexOfControl:void 0}}static get InitTasksEnum(){return{ELEMENTSREADY:"ELEMENTSREADY"}}static get BrowserMessagesEnum(){return{GET_PROPERTY_VALUE:"GetPropertyValue",CONTROL_EXISTS:"ControlExists",INDEX_OF_CONTROL:"IndexOfControl",NAVIGATION_ATTEMPTED:"NavigationAttempted",UNREGISTER_PAGE_NAVIGATION_LISTENER:"UnregisterPageNavigationListener",ENSURE_FOCUS:"EnsureFocus"}}static getFrontPanelElement(){let e=document.querySelector("ni-front-panel");return null===e&&(e=document.body),e}static createNIControlToAddToDOM(e,t,i,n,r){if("object"!=typeof e||null===e)throw new Error("Model settings that are provided should be a JS object with properties");if("string"!=typeof t||""===t)throw new Error("An element needs a valid controlTagName string to be created");if("string"!=typeof i||""===i)throw new Error("An element needs a valid niControlId string to be created");if("string"!=typeof n)throw new Error("An element needs a valid target viRef string to be created");if("string"!=typeof r)throw new Error("An element needs to have a valid parentControlId string to be created");if(1!==$t.queryVirtualInstrumentsByVIRef(n).length)throw new Error("The DOM should only contain one ni-virtual-instrument with vi-ref: "+n);const a=$t.queryAllControlsByNIControlId(n,i);if(0!==a.length)throw new Error("The DOM already contains an element with vi-ref ("+n+") and ni-control-id ("+i+"), but currently has ("+a.length+") elements");const s=document.createElement(t);if(!$t.isElement(s))throw new Error("Only Html Custom Elements can be created with createNIControlToAddToDOM");let o,l;if(s.niControlId=i,s.viRef=n,s._temporaryModelSettingsHolder=e,""===r)l=sn.getFrontPanelElement();else{if((o=$t.queryAllControlsByNIControlId(n,r)).length>1)throw new Error("The DOM has too many elements with vi-ref ("+n+") and ni-control-id ("+r+")");l=1===o.length?o[0]:void 0}return{controlElement:s,parentElement:l}}static findNIControlToRemoveFromDOM(e,t){if("string"!=typeof e||""===e)throw new Error("An element needs a valid niControlId string to be created");if("string"!=typeof t)throw new Error("An element needs a valid target viRef string to be created");const i=$t.queryAllControlsByNIControlId(t,e);if(1!==i.length)throw new Error("The DOM should contain exactly one element with vi-ref ("+t+") and ni-control-id ("+e+"), but currently has ("+i.length+") elements");const n=i[0];if(!$t.isElement(n))throw new Error("Only Html Custom elements can be removed with findNIControlToRemoveFromDOM");let r,a=sn.getFrontPanelElement();for(r=n.parentElement;null!==r;r=r.parentElement)if($t.isElement(n)){a=r;break}return{controlElement:n,parentElement:a}}applyWebAppServiceStateProvider(e){this.setServiceState=e.setServiceState,this.verifyServiceStateIs=e.verifyServiceStateIs,this.checkServiceStateIs=e.checkServiceStateIs}applyVirtualInstrumentModelsProvider(e){this.getVIModels=e.getVIModels}getVIModelByName(e){const t=this.getVIModels(),i=t[e];if(void 0!==i)return i;throw new Error(`No VI found with name: ${e}. Existing names: ${Object.keys(t).join()}`)}dispatchMessageToHTMLPanel(e,t,i,n){this.getVIModelByName(e).processControlUpdate(t,i,n)}isInIdeMode(){return!1}ensureFocus(){this.isInIdeMode()&&window.engine.trigger(dn.ENSURE_FOCUS)}internalControlEventOccurred(e,t,i,n){}controlChanged(e,t,i,n,r){}controlEventOccurred(e,t,i,n){}requestSendControlBounds(){}reinitializeToDefault(e,t){}isValidServiceState(e){return void 0!==on[e]}initialize(e,t){const i=this;if(e!==on.UNINITIALIZED)throw new Error("Service must be UNINITIALIZED to run initialize");i.verifyServiceStateIs(on.UNINITIALIZED),void 0===t&&(t=ln);const n=new oi(t,function(){setTimeout(function(){i.finishInitializing()},0)});return ni.addNIEventListener("attached",function(){n.complete(ln.ELEMENTSREADY)}),n}finishInitializing(e){this.verifyServiceStateIs(e)}start(e){const t=this;if(e!==on.READY)throw new Error("Service must be READY to run start");t.verifyServiceStateIs(on.READY),$t.logVerbose("niUpdateService start()"),t.windowEngineCallbacks.getPropertyValue=function(e){const t=e[0],i=e[1],n=e[2],r=e[3];let a=`[ni-control-id='${i}']`;null!==n&&(a+=n);const s=document.querySelectorAll(a);let o="";if(null!==s&&0!==s.length){if(s.length>1)throw new Error("Query selector found more than one control.  Query selector is "+a);let e=s[0];if(an.isNIArrayViewer(e.parentElement)&&(a=e.parentElement.getFullCssSelectorForNIVisual(e),null!==n&&(a+=n),e=document.querySelector(a)),null!==e)if("style"===r){const t=window.getComputedStyle(e);o=JSON.stringify(t)}else if("content"===r){const t=e.firstChild.innerHTML;o=JSON.stringify(t)}else if("boundingClientRect"===r){const t=e.getBoundingClientRect();o=JSON.stringify(t)}else if(r.startsWith("--")){const t=window.getComputedStyle(e);o=JSON.stringify(t.getPropertyValue(r).trim(" "))}else if(void 0!==e[r]){let t=e[r];t instanceof JQX.Utilities.DateTime&&(t=nn.convertBack(t)),(t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||Number.isNaN(t))&&(t=t.toString()),o=JSON.stringify(t)}}window.engine.trigger("GetPropertyValueComplete",t,o)},t.windowEngineCallbacks.controlExists=function(e){const t=e[0],i=e[1],n=`ni-front-panel [ni-control-id='${i}']`,r=document.querySelectorAll(n);if(r.length>1)throw new Error("There should only be one instance of a control.  Found multiple controls with id "+i);window.engine.trigger("ControlExistsComplete",t,1===r.length)},t.windowEngineCallbacks.indexOfControl=function(e){const t=e[0],i=`ni-front-panel [ni-control-id='${e[1]}']`,n=document.querySelectorAll(i);let r,a=-1;if(0!==n.length)for(r=0;r<n[0].parentElement.childNodes.length;r++)if(n[0].parentElement.childNodes[r]===n[0]){a=r;break}window.engine.trigger("IndexOfControlComplete",t,a)},t.windowEngineCallbacks.unregisterPageNavigationListener=function(){t.unregisterPageNavigationListener(),window.engine.trigger("UnregisterPageNavigationListenerComplete")},void 0!==window.engine&&(window.engine.on(dn.GET_PROPERTY_VALUE,t.windowEngineCallbacks.getPropertyValue),window.engine.on(dn.CONTROL_EXISTS,t.windowEngineCallbacks.controlExists),window.engine.on(dn.INDEX_OF_CONTROL,t.windowEngineCallbacks.indexOfControl),window.engine.on(dn.UNREGISTER_PAGE_NAVIGATION_LISTENER,t.windowEngineCallbacks.unregisterPageNavigationListener))}stop(e){this.verifyServiceStateIs(e),void 0!==window.engine&&(window.engine.off(dn.GET_PROPERTY_VALUE,this.windowEngineCallbacks.getPropertyValue),window.engine.off(dn.CONTROL_EXISTS,this.windowEngineCallbacks.controlExists),window.engine.off(dn.INDEX_OF_CONTROL,this.windowEngineCallbacks.indexOfControl),window.engine.off(dn.UNREGISTER_PAGE_NAVIGATION_LISTENER,this.windowEngineCallbacks.unregisterPageNavigationListener)),this.windowEngineCallbacks.getPropertyValue=void 0,this.windowEngineCallbacks.controlExists=void 0,this.windowEngineCallbacks.indexOfControl=void 0,this.windowEngineCallbacks.unregisterPageNavigationListener=void 0}registerPageNavigationListener(){const e=this;e.isInIdeMode()&&(e.pageNavigationListener=function(e){let t,i;return document.activeElement instanceof HTMLAnchorElement&&(t=document.activeElement.href,i=document.activeElement.target),window.engine.trigger(dn.NAVIGATION_ATTEMPTED,t,i),e.returnValue="",e.returnValue},window.addEventListener("beforeunload",e.pageNavigationListener))}unregisterPageNavigationListener(){void 0!==this.pageNavigationListener&&(window.removeEventListener("beforeunload",this.pageNavigationListener),this.pageNavigationListener=void 0)}}const on=xi.ServiceStateEnum,ln=sn.InitTasksEnum,dn=sn.BrowserMessagesEnum,hn=Object.freeze(Object.assign({},xi.ServiceStateEnum,{INITIALIZING:"INITIALIZING",LISTENING:"LISTENING"})),cn=Object.freeze({READY_FOR_UPDATES:"ReadyForUpdates",PANEL_CONTROL_CHANGED:"PanelControlChanged",DIAGRAM_VALUE_CHANGED:"DiagramValueChanged",DOCUMENT_READY:"DocumentReady",UPDATE_SERVICE_STARTED:"UpdateServiceStarted",PANEL_CONTROL_EVENT_OCCURRED:"PanelControlEventOccurred",PROCESS_INTERNAL_EVENT:"ProcessInternalEvent",SET_CALL_RESPONSE:"setCallResponse",BATCH_UPDATE:"batchUpdate",SET_GPROPERTY_PROPERTY_VALUE:"setGPropertyValue",GET_GPROPERTY_PROPERTY_VALUE:"getGPropertyValue",GET_PACKED_GPROPERTY_PROPERTY_VALUE:"getPackedGPropertyValue",GET_JSON_GPROPERTY_PROPERTY_VALUE:"getJsonGPropertyValue",INVOKE_CONTROL_FUNCTION:"invokeControlFunction"});class un extends sn{constructor(){super(),this.dataItemCache=void 0,this.enableEvents=!0,this.windowEngineCallbacks={diagramValueChanged:void 0,batchUpdate:void 0,setGPropertyValue:void 0,getGPropertyValue:void 0,getPackedGPropertyValue:void 0,getJsonGPropertyValue:void 0,invokeControlFunction:void 0},this.responseArrays={},this.responseBuffers={}}isValidServiceState(e){return void 0!==pn[e]}isInIdeMode(){return!0}initialize(){super.initialize(pn.UNINITIALIZED,mn),this.setServiceState(pn.INITIALIZING)}finishInitializing(){super.finishInitializing(pn.INITIALIZING),this.dataItemCache=new Ci(this.getVIModels()),this.setServiceState(pn.READY)}start(){super.start(pn.READY);const e=this;let t;e.windowEngineCallbacks.diagramValueChanged=function(t){const i=t[0],n=t[1],r=e.dataItemCache.getEditorRuntimeBindingInfo(i,n),a=r.controlId,s=t[2],o=JSON.parse(s),l={};l[r.prop]=o,e.dispatchMessageToHTMLPanel(i,a,l,$i.editorToJsModel)},e.windowEngineCallbacks.batchUpdate=function(t){!async function(){const i=t[0];try{const i=t[1],n=t[2],r=t[3],a=t[4],s=browserMessaging.getSharedData(r,a),o=new Uint8Array(s,i,n-i),l=new flatbuffers.ByteBuffer(o),d=Gi.Web.Interop.Batch.getRootAsBatch(l),h=d.itemsLength(),c=d.docName();for(let t=0;t<h;++t){const i=d.items(t),n=i.dataType();n===Gi.Web.Interop.UpdateData.BatchUpdateFromBuffer?await e.batchUpdateFromBufferAsync(i,c):n===Gi.Web.Interop.UpdateData.BatchUpdateFromOffset?await e.batchUpdateFromOffsetAsync(i,c):n===Gi.Web.Interop.UpdateData.BatchUpdateFromJson&&await e.batchUpdateFromJsonAsync(i,c)}!0===d.waitForFrameUpdate&&await en.waitForFrameUpdate()}catch(e){$t.error(e.toString()+"\n"+e.stack)}window.engine.trigger(cn.SET_CALL_RESPONSE,i,1)}()},e.windowEngineCallbacks.setGPropertyValue=function(t){!async function(){const i=t[0],n=t[1],r=t[2],a=t[3],s=t[4];try{const t=e.getVIModelByName(n);await t.processControlUpdateToSetGPropertyValueAsync(r,a,s)}catch(e){if(!(e instanceof Wi))throw e}finally{0!==i&&window.engine.trigger(fn.SET_CALL_RESPONSE,i,1)}}()},e.windowEngineCallbacks.invokeControlFunction=function(t){!async function(){const[i,n,r,a,s]=t;let o;try{const t=e.getVIModelByName(n);if(void 0===t.getControlViewModel(r))throw new Error(`No control found with id ${r} in ${a}`);const l=await t.invokeControlFunction(r,a,s);void 0!==l&&(o=Ui.PackDataIntoSharedMemory(l,window.NITypes.STRING))}finally{window.engine.trigger(fn.SET_CALL_RESPONSE,i,o)}}()},e.windowEngineCallbacks.getPackedGPropertyValue=function(t){!async function(){let i="";const n=t[0],r=t[1],a=t[2],s=t[3];try{await en.waitForFrameUpdate();const t=e.getVIModelByName(r),o=await t.processControlUpdateToGetGPropertyValue(a,s),l=t.controlModels[a];l.throwIfPropertyTypeIsUndefined(s);const d=l.gPropertyNIType(s);i=Ui.PackDataIntoSharedMemory(o,d)}catch(e){if(!(e instanceof Wi))throw e}finally{window.engine.trigger(fn.SET_CALL_RESPONSE,n,i)}}()},e.windowEngineCallbacks.getJsonGPropertyValue=function(t){!async function(){const i=t[0],n=t[1],r=t[2],a=t[3];await en.waitForFrameUpdate();const s=e.getVIModelByName(n).processControlUpdateToGetGPropertyValue(r,a),o=JSON.stringify(s);window.engine.trigger(fn.SET_CALL_RESPONSE,i,o)}()},e.windowEngineCallbacks.getGPropertyValue=function(t){!async function(){const i=t[0],n=t[1],r=t[2],a=t[3];await en.waitForFrameUpdate();const s=e.getVIModelByName(n).processControlUpdateToGetGPropertyValue(r,a);window.engine.trigger(fn.SET_CALL_RESPONSE,i,s)}()},window.engine.on(cn.DIAGRAM_VALUE_CHANGED,e.windowEngineCallbacks.diagramValueChanged),window.engine.on(cn.BATCH_UPDATE,e.windowEngineCallbacks.batchUpdate),window.engine.on(cn.SET_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.setGPropertyValue),window.engine.on(cn.GET_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.getGPropertyValue),window.engine.on(cn.GET_PACKED_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.getPackedGPropertyValue),window.engine.on(cn.GET_JSON_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.getJsonGPropertyValue),window.engine.on(cn.INVOKE_CONTROL_FUNCTION,e.windowEngineCallbacks.invokeControlFunction),this.registerPageNavigationListener(),window.engine.call(fn.DOCUMENT_READY);const i=Object.keys(e.getVIModels());for(t=0;t<i.length;t+=1)window.engine.trigger(fn.READY_FOR_UPDATES,i[t]);window.engine.call(fn.UPDATE_SERVICE_STARTED),e.setServiceState(pn.LISTENING)}stop(){parent.prototype.stop.call(this,pn.LISTENING),window.engine.off(cn.DIAGRAM_VALUE_CHANGED,this.windowEngineCallbacks.diagramValueChanged),window.engine.off(cn.BATCH_UPDATE,this.windowEngineCallbacks.batchUpdate),window.engine.off(cn.SET_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.setGPropertyValue),window.engine.off(cn.GET_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.getGPropertyValue),window.engine.off(cn.GET_PACKED_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.getPackedGPropertyValue),window.engine.off(cn.GET_JSON_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.getJsonGPropertyValue),window.engine.off(cn.INVOKE_CONTROL_FUNCTION,this.windowEngineCallbacks.invokeControlFunction),this.unregisterPageNavigationListener(),this.setServiceState(pn.READY)}async batchUpdateFromBufferAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Gi.Web.Interop.BatchUpdateFromBuffer),a=r.memoryId(),s=r.position(),o=r.length(),l=browserMessaging.getSharedData(a),d=new Uint8Array(l,s,o-s),h=this.getVIModels()[t],c=h.controlModels[n];c.throwIfPropertyTypeIsUndefined(i);const u=c.gPropertyNIType(i),p=Ui.GetDataAdaptorFromPackedValue(d,u).unpack();await h.processControlUpdateToSetGPropertyValueAsync(n,i,p)}async batchUpdateFromOffsetAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Gi.Web.Interop.BatchUpdateFromOffset).data(new Gi.Web.Interop.UnknownTable),a=this.getVIModels()[t],s=a.controlModels[n];s.throwIfPropertyTypeIsUndefined(i);const o=s.gPropertyNIType(i),l=Ui.GetDataAdaptorFromIndex(r,o).unpack();await a.processControlUpdateToSetGPropertyValueAsync(n,i,l)}async batchUpdateFromJsonAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Gi.Web.Interop.BatchUpdateFromJson).propertyJson(),a=JSON.parse(r),s=this.getVIModels()[t];await s.processControlUpdateToSetGPropertyValueAsync(n,i,a)}controlChanged(e,t,i,n,r){(t=t.findTopLevelControl()).bindingInfo.prop===i&&""!==t.bindingInfo.dataItem&&(n=t[i]);const a=t.gPropertyNIType(i);if(void 0!==a){const r=t.niControlId,s=Ui.PackDataIntoSharedMemory(n,a);window.engine.trigger(fn.PANEL_CONTROL_CHANGED,e.viName,r,i,s)}}internalControlEventOccurred(e,t,i,n){const r={};r[i]=n,window.engine.trigger(fn.PROCESS_INTERNAL_EVENT,e.viName,t.niControlId,JSON.stringify(r))}controlEventOccurred(e,t,i,n){const r=(t=t.findTopLevelControl()).niControlId;window.engine.trigger(fn.PANEL_CONTROL_EVENT_OCCURRED,e.viName,r,i,JSON.stringify(n))}static get StateEnum(){return hn}static get BrowserMessagesEnum(){return cn}}const pn=un.StateEnum,mn=un.InitTasksEnum,fn=un.BrowserMessagesEnum,gn=Object.freeze({START:"start",END:"end",ATOMICACTIONCOMPLETE:"atomicactioncomplete"}),vn=Object.freeze({CREATE:"create",MOVE:"move",RESIZE:"resize"});class bn{static get UserInteractionState(){return gn}static get InteractiveOperationKind(){return vn}}class yn{constructor(e){if(this.rafRequestId=0,this.timeoutRequestId=0,"function"!=typeof e)throw new Error("Callback is not valid");this.timerCallback=e}start(){0!==this.rafRequestId&&cancelAnimationFrame(this.rafRequestId),0!==this.timeoutRequestId&&(clearTimeout(this.timeoutRequestId),this.timeoutRequestId=0),this.rafRequestId=requestAnimationFrame(()=>this.rafCallback())}rafCallback(){this.rafRequestId=0,this.timeoutRequestId=setTimeout(()=>this.timeoutCallback(),0)}timeoutCallback(){this.timeoutRequestId=0,this.timerCallback()}}class _n{constructor(e,t){if(this.boundsUpdateElements=new Map,this.layoutTimer=new yn(()=>this.sendElementBoundsCore()),"function"!=typeof t)throw new Error("Callback is not valid");this.frontPanelViewModel=e,this.triggerEventCallback=t,this.boundsUpdateElements.set(e.model.niControlId,e.element)}onElementAdded(e,t){if(this.validateElement(e),"string"!=typeof t&&""!==t)throw new Error("Control ID is not valid");this.boundsUpdateElements.set(t,e),this.requestSendElementBounds()}onElementRemoved(e){if("string"!=typeof e&&""!==e)throw new Error("Control ID is not valid");this.boundsUpdateElements.delete(e),this.requestSendElementBounds()}requestSendElementBounds(){this.frontPanelViewModel.model.isFlexibleLayoutRoot()&&this.layoutTimer.start()}sendElementBoundsCore(){const e={};for(const[t,i]of this.boundsUpdateElements.entries()){if(!document.body.contains(i)||null==i.parentElement){this.boundsUpdateElements.delete(t);continue}const n=i.getBoundingClientRect(),r=i.parentElement.getBoundingClientRect();if(0===n.top&&0===n.left&&0===n.width&&0===n.height)continue;const a={bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width};e[t]=a}0!==Object.keys(e).length&&this.triggerEventCallback(JSON.stringify(e))}validateElement(e){if(!(e instanceof Element))throw new Error("Element is not valid")}}let wn=[],xn=[],Cn=[],Sn=[];class Tn{static get TagMap(){return wn}static set TagMap(e){wn=e}static get ModelKindMap(){return xn}static set ModelKindMap(e){xn=e}static get ModelFactory(){return Cn}static set ModelFactory(e){Cn=e}static get ViewModelFactory(){return Sn}static set ViewModelFactory(e){Sn=e}registerModel(e){Tn.ModelFactory[e.MODEL_KIND]=e}makeModel(e,t){const i=Tn.ModelFactory[e];if(void 0!==i)return new i(t);throw new Error("Cannot find model constructor with kind: "+e)}registerViewModel(e,t,i,n){let r;r=void 0!==n?n:t.prototype.elementInfo.tagName,Tn.TagMap[r]=i.MODEL_KIND,Tn.ModelKindMap[i.MODEL_KIND]=r,Tn.ViewModelFactory[i.MODEL_KIND]=e}makeViewModel(e,t){const i=Tn.TagMap[e.elementInfo.tagName];if(void 0===i)throw new Error("Cannot find model kind associated with tag: "+e.elementInfo.tagName);if("function"!=typeof Tn.ViewModelFactory[i])throw new Error("Cannot find viewmodel constructor function for model kind: "+i);return new Tn.ViewModelFactory[i](e,t)}tagNameToModelKind(e){if("string"!=typeof Tn.TagMap[e])throw new Error("Cannot find model kind for tag: "+e);return Tn.TagMap[e]}modelKindToTagName(e){if("string"!=typeof Tn.ModelKindMap[e])throw new Error("Cannot find tag for model kind: "+e);return Tn.ModelKindMap[e]}}const Pn=new Tn;class In{constructor(){this._listeners=[]}notifyModelPropertyChanged(e){for(let t=0;t<this._listeners.length;t++){const i=this._listeners[t],n=i.modelPropertyChanged(e);i.applyElementChanges(n)}}registerListener(e){this._listeners.push(e)}unregisterListener(e){let t,i=-1;for(t=0;t<this._listeners.length;t++)if(this._listeners[t]===e){i=t;break}i>=0&&this._listeners.slice(i,1)}setMultipleProperties(e){let t;for(t in e){if(!(t in this))throw new Error("Unknown property assigned ("+t+") for model kind ("+this.constructor.MODEL_KIND+")");this[t]=e[t]}}}class En{constructor(e,t){if(!$t.isElement(e))throw new Error($t.i18n("msg_INVALID_ELEMENT"));if(t instanceof In==!1)throw new Error($t.i18n("msg_INVALID_VI_MODEL"));this._autoSyncPropertyMap=new Map,$t.defineConstReference(this,"element",e),$t.defineConstReference(this,"model",t)}static get OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE(){return 1086}bindToView(){}getOrAddRenderBuffer(){return en.getOrAddRenderBuffer(this.element)}modelPropertyChanged(e){const t=this.getOrAddRenderBuffer();return this._autoSyncPropertyMap.has(e)&&!0===this._autoSyncPropertyMap.get(e)&&(t.properties[e]=this.model[e]),t}registerAutoSyncProperty(e){if("string"!=typeof e||e.length<1)throw new Error("A property name must be a string greater than or equal to one character long");this._autoSyncPropertyMap.set(e,!0)}applyElementChanges(){en.enqueueDomUpdate(this.element)}updateModelFromElement(){this._autoSyncPropertyMap.forEach((e,t,i)=>{this.model[t]=this.element[t]})}applyModelToElement(){this._autoSyncPropertyMap.forEach((e,t,i)=>{this.element[t]=this.model[t]})}async invokeInternalControlFunction(e,t){throw new Error(`Internal control function ${e} not implemented. Called with args: ${t.join(",")}`)}enableEvents(){return this.model.enableEvents()}setGPropertyValue(e,t){throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}shouldUseAsyncSetGPropertyValue(e){return!1}async setGPropertyValueAsync(e,t){throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}getGPropertyValue(e){throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}}const Dn=Symbol("NIRootModelSymbol");class kn{static get NIRootModelSymbol(){return Dn}static isRootModel(e){return"object"==typeof e&&null!==e&&!0===e[Dn]}}class jn extends In{constructor(e){super(),this._niControlId=void 0,this.niControlId=e,this.owner=void 0,this.rootOwner=void 0,this.childModels=[],this._viRef=void 0,this._followerIds=[],this._customClasses=[]}get customClasses(){return this._customClasses}set customClasses(e){this._customClasses=e,this.notifyModelPropertyChanged("customClasses")}get niControlId(){return this._niControlId}set niControlId(e){if(void 0!==this._niControlId&&this._niControlId!==e||void 0===e)throw new Error("Cannot change niControlId after it has been assigned a valid value");this._niControlId=e,this.notifyModelPropertyChanged("niControlId")}get viRef(){return this._viRef}set viRef(e){if(void 0!==this._viRef&&this._viRef!==e||void 0===e)throw new Error("Cannot change viRef after it has been assigned a valid value");this._viRef=e,this.notifyModelPropertyChanged("viRef")}get followerIds(){return this._followerIds}set followerIds(e){this._followerIds=e}getBindingInfo(){}getRemoteBindingInfo(){}getLocalBindingInfo(){}getEditorRuntimeBindingInfo(){}setOwner(e){this.owner=e,this.rootOwner=this.findRoot()}getOwner(){return this.owner}addChildModel(e){for(let t=0;t<this.childModels.length;t++)if(this.childModels[t].niControlId===e.niControlId)return!1;this.childModels.push(e)}removeChildModel(e){for(let t=0;t<this.childModels.length;t++)if(this.childModels[t].niControlId===e.niControlId){this.childModels.splice(t,1);break}}isDataItemBoundControl(){const e=this.getBindingInfo();return void 0!==e&&void 0!==e.dataItem&&""!==e.dataItem}findTopLevelControl(){if(this.isDataItemBoundControl())return this;const e=this.getOwner();return void 0!==e?e.findTopLevelControl():void 0}getRoot(){return void 0===this.rootOwner&&(this.rootOwner=this.findRoot()),this.rootOwner}findRoot(){let e=this.getOwner();for(;!kn.isRootModel(e);)e=e.getOwner();return e}internalControlEventOccurred(e,t){this.getRoot().internalControlEventOccurred(this,e,t)}requestSendControlBounds(){this.getRoot().requestSendControlBounds()}isTopLevelAndPlacedAndEnabled(){return void 0!==this.getLocalBindingInfo()&&this.isDataItemBoundControl()&&!1===this.getBindingInfo().unplacedOrDisabled}enableEvents(){return this.getRoot().enableEvents()}isInIdeMode(){return this.getRoot().isInIdeMode()}ensureFocus(){this.getRoot().ensureFocus()}shouldUpdateTerminal(e){return!1}}const Mn=bn.UserInteractionState,An=bn.InteractiveOperationKind;class Nn extends En{constructor(e,t){if(super(e,t),this.model instanceof jn==!1)throw new Error($t.i18n("msg_INVALID_VI_MODEL"));if(!$t.isElement(this.element))throw new Error($t.i18n("msg_INVALID_ELEMENT"));this._needsResizeHack=!1}updateModelCustomClasses(){this.model.customClasses=[],this.element.classList.forEach(e=>{e.startsWith("ni-")||e.startsWith("jqx-")||this.model.customClasses.push(e)})}enableResizeHack(){this._needsResizeHack=!0}shouldApplyDraggingStyleWithChild(){return!1}userInteractionChanged(e,t){const i=en.getOrAddRenderBuffer(this.element),n=t===An.MOVE||t===An.CREATE;let r;const a=this.getOwnerViewModel();a instanceof Nn&&a.shouldApplyDraggingStyleWithChild()&&(r=en.getOrAddRenderBuffer(a.element)),e===Mn.END?(n&&(i.cssClasses.toRemove.push("ni-is-being-dragged"),r&&r.cssClasses.toRemove.push("ni-is-being-dragged")),i.cssClasses.toRemove.push("ni-will-change-position")):e===Mn.START&&(n&&(i.cssClasses.toAdd.push("ni-is-being-dragged"),r&&r.cssClasses.toAdd.push("ni-is-being-dragged")),i.cssClasses.toAdd.push("ni-will-change-position")),this.applyElementChanges(),r&&a.applyElementChanges()}updateModelFromElement(){if(super.updateModelFromElement(),this.model.followerIds=JSON.parse(this.element.followerIds),this.updateModelCustomClasses(),this.model.niControlId!==this.element.niControlId)throw new Error("The element and model association is incorrect; element and model ids do not match")}applyModelToElement(){super.applyModelToElement();const e=this.element,t=this.model;if(t.customClasses.length>0&&t.customClasses.forEach(function(t){e.classList.add(t)}),e.followerIds=JSON.stringify(t.followerIds),t.niControlId!==e.niControlId)throw new Error("The element and model association is incorrect; element and model ids do not match")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"customClasses":{const e=this.model.customClasses;this.element.classList.forEach(i=>{e.includes(i)||i.startsWith("ni-")||i.startsWith("jqx-")||t.cssClasses.toRemove.push(i)}),e.forEach(e=>{""!==e&&t.cssClasses.toAdd.push(e)});break}}return t}onChildViewModelAdded(e){}onChildViewModelRemoved(e){}getOwnerViewModel(){return this.model.getRoot().getControlViewModel(this.model.getOwner().niControlId)}}class qn extends ni{addAllProperties(e){super.addAllProperties(e);const t=qn.prototype;t.addProperty(e,{propertyName:"viName",defaultValue:""}),t.addProperty(e,{propertyName:"viRef",defaultValue:""})}attachedCallback(){const e=super.attachedCallback();return Or.registerVIElement(this),e}detachedCallback(){Or.unregisterVIElement(this)}}si.registerElement(qn,ri.VI),ni.defineElementInfo(qn.prototype,"ni-virtual-instrument","HTMLNIVirtualInstrument");const On=window.NIType,Bn=window.NITypes,Rn=window.NITypeNames,Vn=Object.freeze({FIXED:"fixed",MAINTAIN_ASPECT_RATIO:"maintain-aspect-ratio",BOTH_DIRECTIONS:"both-directions",RESIZE_HORIZONTALY:"resize-horizontally"});class Hn extends jn{constructor(e){super(e),this.localBindingInfo=null,this.defaultValue=void 0,this.suppressControlChanged=!1,this._top="0px",this._left="0px",this._width="100px",this._height="100px",this._background="white",this._foreground="rgb(0, 0, 0)",this._fontSize="12px",this._fontFamily="sans-serif",this._fontWeight="normal",this._fontStyle="normal",this._textDecoration="none",this._visible=!0,this._readOnly=!1,this._labelId="",this._enabled=!0,this._bindingInfo={},this._niType=void 0,this._controlResizeMode=Hn.ControlResizeModeEnum.FIXED,this._borderColor="",this._borderWidth="0",this._margin="0",this._padding="0",this._labelAlignment=""}static get ControlResizeModeEnum(){return Vn}static get DISABLED_G_PROPERTY_NAME(){return"Disabled"}static get POSITION_G_PROPERTY_NAME(){return"Position"}static get LABEL_G_PROPERTY_NAME(){return"Label"}static get SIZE_G_PROPERTY_NAME(){return"Size"}static get VALUE_G_PROPERTY_NAME(){return"Value"}static get VALUE_SIGNALING_G_PROPERTY_NAME(){return"ValueSignaling"}static get VISIBLE_G_PROPERTY_NAME(){return"Visible"}static get TOTAL_BOUNDS_G_PROPERTY_NAME(){return"TotalBounds"}static get LABEL_RUNTIME_ID(){return"Label_RuntimeId"}static get KEY_FOCUS_G_PROPERTY_NAME(){return"KeyFocus"}get top(){return this._top}set top(e){this._top=e,this.notifyModelPropertyChanged("top")}get left(){return this._left}set left(e){this._left=e,this.notifyModelPropertyChanged("left")}get width(){return this._width}set width(e){this._width=e,this.notifyModelPropertyChanged("width")}get height(){return this._height}set height(e){this._height=e,this.notifyModelPropertyChanged("height")}get background(){return this._background}set background(e){this._background=e,this.notifyModelPropertyChanged("background")}get foreground(){return this._foreground}set foreground(e){this._foreground=e,this.notifyModelPropertyChanged("foreground")}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize=e,this.notifyModelPropertyChanged("fontSize")}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.notifyModelPropertyChanged("fontFamily")}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.notifyModelPropertyChanged("fontWeight")}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e,this.notifyModelPropertyChanged("fontStyle")}get textDecoration(){return this._textDecoration}set textDecoration(e){this._textDecoration=e,this.notifyModelPropertyChanged("textDecoration")}get visible(){return this._visible}set visible(e){this._visible=e,this.notifyModelPropertyChanged("visible")}get readOnly(){return this._readOnly}set readOnly(e){this._readOnly=e,this.notifyModelPropertyChanged("readOnly")}get labelId(){return this._labelId}set labelId(e){this._labelId=e,this.notifyModelPropertyChanged("labelId")}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.notifyModelPropertyChanged("enabled")}get bindingInfo(){return this._bindingInfo}set bindingInfo(e){this._bindingInfo=e,this.notifyModelPropertyChanged("bindingInfo")}get niType(){return this._niType}set niType(e){this._niType=e instanceof On?e:new On(e),this.notifyModelPropertyChanged("niType")}get controlResizeMode(){return this._controlResizeMode}set controlResizeMode(e){this._controlResizeMode=e,this.notifyModelPropertyChanged("controlResizeMode")}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=e,this.notifyModelPropertyChanged("borderColor")}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=e,this.notifyModelPropertyChanged("borderWidth")}get margin(){return this._margin}set margin(e){this._margin=e,this.notifyModelPropertyChanged("margin")}get padding(){return this._padding}set padding(e){this._padding=e,this.notifyModelPropertyChanged("padding")}get labelAlignment(){return this._labelAlignment}set labelAlignment(e){this._labelAlignment=e,this.notifyModelPropertyChanged("labelAlignment")}modelPropertyUsesNIType(e){if(void 0!==this.niType)throw new Error("Any control model that sets niType must override propertyUsesNITypeProperty()")}gPropertyNIType(e){switch(e){case this.bindingInfo.prop:case Hn.VALUE_G_PROPERTY_NAME:case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:return this.niType.getName()===Rn.ENUM?this.niType.getSubtype():this.niType;case Hn.POSITION_G_PROPERTY_NAME:return new On({name:Rn.CLUSTER,fields:["Left","Top"],subtype:[Rn.SINGLE,Rn.SINGLE]});case Hn.SIZE_G_PROPERTY_NAME:return new On({name:Rn.CLUSTER,fields:["Width","Height"],subtype:[Rn.SINGLE,Rn.SINGLE]});case Hn.TOTAL_BOUNDS_G_PROPERTY_NAME:return new On({name:Rn.CLUSTER,fields:["Left","Top","Width","Height"],subtype:[Rn.SINGLE,Rn.SINGLE,Rn.SINGLE,Rn.SINGLE]});case Hn.DISABLED_G_PROPERTY_NAME:case Hn.VISIBLE_G_PROPERTY_NAME:return Bn.BOOLEAN;case Hn.LABEL_RUNTIME_ID:return Bn.INT32;case Hn.KEY_FOCUS_G_PROPERTY_NAME:return Bn.BOOLEAN}}propertySupportsVirtualization(e){return!1}propertySupportsArrayLikeTypes(e){return!1}setMultipleProperties(e,t){if(e.hasOwnProperty("niType")&&(this.niType=e.niType,delete e.niType),void 0!==t)for(const i in e)if(e.hasOwnProperty(i)&&this.modelPropertyUsesNIType(i)){const n={supportsVirtualization:this.propertySupportsVirtualization(i),supportsArrayLikeTypes:this.propertySupportsArrayLikeTypes(i)};e[i]=t(e[i],this.niType,n)}super.setMultipleProperties(e)}setBindingInfo(e){this.bindingInfo=e}updateLabelDisabledState(e){const t=this.getRoot();void 0!==t&&""!==this.labelId&&(t.controlModels[this.labelId].enabled=!e)}getBindingInfo(){return this.bindingInfo}getRemoteBindingInfo(){return{prop:this.bindingInfo.prop,dco:this.bindingInfo.dco,controlId:this.niControlId}}getEditorRuntimeBindingInfo(){return{prop:this.bindingInfo.prop,dataItem:this.bindingInfo.dataItem,controlId:this.niControlId}}getLocalBindingInfo(){return null===this.localBindingInfo&&(this.localBindingInfo=this.generateLocalBindingInfo()),this.localBindingInfo}getDefaultValue(){return this.defaultValue}setDefaultValue(e){this.defaultValue=e}generateVireoPath(){return this.isDataItemBoundControl()?this.getBindingInfo().dataItem:void 0}getLocalEventInfo(e){}generateLocalBindingInfo(){const e=this.getBindingInfo(),t={runtimePath:"",encodedVIName:"",prop:"",sync:!1,dataItem:"",accessMode:"",isLatched:!1};if(t.runtimePath=this.generateVireoPath(),t.encodedVIName=this.getRoot().getNameVireoEncoded(),t.prop="string"==typeof e.prop?e.prop:"",t.sync="boolean"==typeof e.sync&&e.sync,t.dataItem="string"==typeof e.dataItem?e.dataItem:"",t.accessMode="string"==typeof e.accessMode?e.accessMode:"",t.isLatched="boolean"==typeof e.isLatched&&e.isLatched,""!==t.runtimePath)return Object.freeze(t)}getNITypeString(){return this.niType.isAggregateType()?this.niType.toShortJSON():this.niType.getName()}controlChanged(e,t,i){const n=this.getRoot();!1===this.suppressControlChanged&&n.controlChanged(this,e,t,i)}controlEventOccurred(e,t){this.getRoot().controlEventOccurred(this,e,t)}reinitializeToDefault(){this.getRoot().reinitializeToDefault(this)}isFlexibleLayout(){return!1}isInFlexibleLayout(){const e=this.owner;if(kn.isRootModel(e))return!1;if(e instanceof Hn)return e.isFlexibleLayout();if(e instanceof jn)return!1;throw new Error("Unexpected owner model type")}shouldUpdateTerminal(e){return(e===Hn.VALUE_G_PROPERTY_NAME||e===Hn.VALUE_SIGNALING_G_PROPERTY_NAME)&&!this.bindingInfo.unplacedOrDisabled}throwIfPropertyTypeIsUndefined(e){if(void 0===this.gPropertyNIType(e))throw new Error("Property type not found for property: "+e+" controlID: "+this.niControlId)}}var Ln,zn=(Ln="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t=void 0!==(e=e||{})?e:{};t.vireoprejs=function(){};var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);t.arguments=[],t.thisProgram="./this.program",t.quit=function(e,t){throw t},t.preRun=[],t.postRun=[];var r,a,s=!1,o=!1;s="object"==typeof window,o="function"==typeof importScripts,r="object"==typeof process&&"function"==typeof require&&!s&&!o,a=!s&&!r&&!o;var l,d,h="";r?(h=__dirname+"/",t.read=function(e,t){var i;return l||(l=require("fs")),d||(d=require("path")),e=d.normalize(e),i=l.readFileSync(e),t?i:i.toString()},t.readBinary=function(e){var i=t.read(e,!0);return i.buffer||(i=new Uint8Array(i)),b(i.buffer),i},process.argv.length>1&&(t.thisProgram=process.argv[1].replace(/\\/g,"/")),t.arguments=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof Ie))throw e}),process.on("unhandledRejection",De),t.quit=function(e){process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):a?("undefined"!=typeof read&&(t.read=function(e){return read(e)}),t.readBinary=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(b("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?t.arguments=scriptArgs:void 0!==arguments&&(t.arguments=arguments),"function"==typeof quit&&(t.quit=function(e){quit(e)})):(s||o)&&(o?h=self.location.href:document.currentScript&&(h=document.currentScript.src),Ln&&(h=Ln),h=0!==h.indexOf("blob:")?h.substr(0,h.lastIndexOf("/")+1):"",t.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},o&&(t.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),t.readAsync=function(e,t,i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):i()},n.onerror=i,n.send(null)},t.setWindowTitle=function(e){document.title=e});var c=t.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),u=t.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||c);for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);function p(e){var t=E[V>>2],i=t+e+15&-16;if(i<=de())E[V>>2]=i;else if(!he(i))return 0;return t}function m(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var t=parseInt(e.substr(1));return b(t%8==0,"getNativeTypeSize invalid bits "+t+", type "+e),t/8}return 0}}n=void 0;var f,g={"f64-rem":function(e,t){return e%t},debugger:function(){},"f64-to-int":function(e){return 0|e},"i32s-div":function(e,t){return(0|e)/(0|t)|0},"i32u-div":function(e,t){return(e>>>0)/(t>>>0)>>>0},"i32s-rem":function(e,t){return(0|e)%(0|t)|0},"i32u-rem":function(e,t){return(e>>>0)%(t>>>0)>>>0}};new Array(0),"object"!=typeof WebAssembly&&u("no native wasm support detected");var v=!1;function b(e,t){e||De("Assertion failed: "+t)}function y(e,t,i,n){switch("*"===(i=i||"i8").charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":T[e>>0]=t;break;case"i16":I[e>>1]=t;break;case"i32":E[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+G(tempDouble)>=1?tempDouble>0?(0|J(+Y(tempDouble/4294967296),4294967295))>>>0:~~+X((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],E[e>>2]=tempI64[0],E[e+4>>2]=tempI64[1];break;case"float":D[e>>2]=t;break;case"double":k[e>>3]=t;break;default:De("invalid type for setValue: "+i)}}var _=0,w=3;function x(e,t,i,n){var r,a;"number"==typeof e?(r=!0,a=e):(r=!1,a=e.length);var s,o="string"==typeof t?t:null;if(s=i==w?n:[xe,Se,p][i](Math.max(a,o?1:t.length)),r){var l;for(n=s,b(0==(3&s)),l=s+(-4&a);n<l;n+=4)E[n>>2]=0;for(l=s+a;n<l;)T[n++>>0]=0;return s}if("i8"===o)return e.subarray||e.slice?P.set(e,s):P.set(new Uint8Array(e),s),s;for(var d,h,c,u=0;u<a;){var f=e[u];0!==(d=o||t[u])?("i64"==d&&(d="i32"),y(s+u,f,d),c!==d&&(h=m(d),c=d),u+=h):u++}return s}function C(e){return W?xe(e):p(e)}var S,T,P,I,E,D,k,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function M(e,t,i){for(var n=t+i,r=t;e[r]&&!(r>=n);)++r;if(r-t>16&&e.subarray&&j)return j.decode(e.subarray(t,r));for(var a="";t<r;){var s=e[t++];if(128&s){var o=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|l:(7&s)<<18|o<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(s);else{var d=s-65536;a+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a}function A(e,t,i,n){if(!(n>0))return 0;for(var r=i,a=i+n-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(i>=a)break;t[i++]=o}else if(o<=2047){if(i+1>=a)break;t[i++]=192|o>>6,t[i++]=128|63&o}else if(o<=65535){if(i+2>=a)break;t[i++]=224|o>>12,t[i++]=128|o>>6&63,t[i++]=128|63&o}else{if(i+3>=a)break;t[i++]=240|o>>18,t[i++]=128|o>>12&63,t[i++]=128|o>>6&63,t[i++]=128|63&o}}return t[i]=0,i-r}function N(e,t,i){return A(e,P,t,i)}function q(e){for(var t=0,i=0;i<e.length;++i){var n=e.charCodeAt(i);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++i)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function O(e,t,i){for(var n=0;n<e.length;++n)T[t++>>0]=e.charCodeAt(n);i||(T[t>>0]=0)}function B(e,t){return e%t>0&&(e+=t-e%t),e}function R(){t.HEAP8=T=new Int8Array(S),t.HEAP16=I=new Int16Array(S),t.HEAP32=E=new Int32Array(S),t.HEAPU8=P=new Uint8Array(S),t.HEAPU16=new Uint16Array(S),t.HEAPU32=new Uint32Array(S),t.HEAPF32=D=new Float32Array(S),t.HEAPF64=k=new Float64Array(S)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var V=63264,H=t.TOTAL_MEMORY||16777216;function L(e){for(;e.length>0;){var i=e.shift();if("function"!=typeof i){var n=i.func;"number"==typeof n?void 0===i.arg?t.dynCall_v(n):t.dynCall_vi(n,i.arg):n(void 0===i.arg?null:i.arg)}else i()}}H<5242880&&u("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+H+"! (TOTAL_STACK=5242880)"),t.buffer?S=t.buffer:"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(f=new WebAssembly.Memory({initial:H/65536}),S=f.buffer):S=new ArrayBuffer(H),R(),E[V>>2]=5306400;var z=[],F=[],U=[],$=[],W=!1,G=Math.abs,X=Math.ceil,Y=Math.floor,J=Math.min,Q=Math.trunc,K=0,Z=null,ee=null;t.preloadedImages={},t.preloadedAudios={};var te="data:application/octet-stream;base64,";function ie(e){return String.prototype.startsWith?e.startsWith(te):0===e.indexOf(te)}var ne,re="vireo.core.wasm";function ae(){try{if(t.wasmBinary)return new Uint8Array(t.wasmBinary);if(t.readBinary)return t.readBinary(re);throw"both async and sync fetching of the wasm failed"}catch(e){De(e)}}function se(e){var i={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:g};function n(e,i){var n=e.exports;t.asm=n,function(e){if(K--,t.monitorRunDependencies&&t.monitorRunDependencies(K),0==K&&(null!==Z&&(clearInterval(Z),Z=null),ee)){var i=ee;ee=null,i()}}()}if(K++,t.monitorRunDependencies&&t.monitorRunDependencies(K),t.instantiateWasm)try{return t.instantiateWasm(i,n)}catch(e){return u("Module.instantiateWasm callback failed with error: "+e),!1}function r(e){n(e.instance)}function a(e){(t.wasmBinary||!s&&!o||"function"!=typeof fetch?new Promise(function(e,t){e(ae())}):fetch(re,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+re+"'";return e.arrayBuffer()}).catch(function(){return ae()})).then(function(e){return WebAssembly.instantiate(e,i)}).then(e,function(e){u("failed to asynchronously prepare wasm: "+e),De(e)})}return t.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||ie(re)||"function"!=typeof fetch?a(r):WebAssembly.instantiateStreaming(fetch(re,{credentials:"same-origin"}),i).then(r,function(e){u("wasm streaming compile failed: "+e),u("falling back to ArrayBuffer instantiation"),a(r)}),{}}ie(re)||(ne=re,re=t.locateFile?t.locateFile(ne,h):h+ne),t.asm=function(e,t,i){return t.memory=f,t.table=new WebAssembly.Table({initial:2414,maximum:2414,element:"anyfunc"}),t.__memory_base=1024,t.__table_base=0,se(t)},F.push({func:function(){Ce()}});var oe={},le={buffers:[null,[],[]],printChar:function(e,t){var i=le.buffers[e];0===t||10===t?((1===e?c:u)(M(i,0)),i.length=0):i.push(t)},varargs:0,get:function(e){return le.varargs+=4,E[le.varargs-4>>2]},getStr:function(){var e,t;return(e=le.get())?M(P,e,t):""},get64:function(){var e=le.get();return le.get(),e},getZero:function(){le.get()}};function de(){return T.length}function he(e){var t=de();if(e>2147418112)return!1;for(var i=Math.max(t,16777216);i<e;)i=i<=536870912?B(2*i,65536):Math.min(B((3*i+2147483648)/4,65536),2147418112);var n=function(e){e=B(e,65536);var t=S.byteLength;try{return-1!==f.grow((e-t)/65536)?S=f.buffer:null}catch(e){return null}}(i);return!(!n||n.byteLength!=i||(R(),0))}var ce=(N("GMT",63408,4),63408);function ue(e){return Math.log(e)/Math.LN10}function pe(e){return Math.log(e)/Math.LN2}var me=Q,fe=Q;function ge(e,t,i){var n=i>0?i:q(e)+1,r=new Array(n),a=A(e,r,0,r.length);return t&&(r.length=a),r}var ve={c:De,V:function e(i){var n,r;e.called?(r=E[i>>2],n=E[r>>2]):(e.called=!0,oe.USER=oe.LOGNAME="web_user",oe.PATH="/",oe.PWD="/",oe.HOME="/home/web_user",oe.LANG="C.UTF-8",oe._=t.thisProgram,n=C(1024),r=C(256),E[r>>2]=n,E[i>>2]=r);var a=[],s=0;for(var o in oe)if("string"==typeof oe[o]){var l=o+"="+oe[o];a.push(l),s+=l.length}if(s>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var d=0;d<a.length;d++)O(l=a[d],n),E[r+4*d>>2]=n,n+=l.length+1;E[r+4*a.length>>2]=0},M:function(){throw v=!0,"Pure virtual function called!"},C:function(){},j:function(e){return t.___errno_location&&(E[t.___errno_location()>>2]=e),e},i:function(e,t){le.varargs=t;try{var i=le.getStreamFromFD(),n=(le.get(),le.get()),r=le.get(),a=le.get(),s=n;return FS.llseek(i,s,a),E[r>>2]=i.position,i.getdents&&0===s&&0===a&&(i.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},h:function(e,t){le.varargs=t;try{for(var i=le.get(),n=le.get(),r=le.get(),a=0,s=0;s<r;s++){for(var o=E[n+8*s>>2],l=E[n+(8*s+4)>>2],d=0;d<l;d++)le.printChar(i,P[o+d]);a+=l}return a}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},p:function(e,t){le.varargs=t;try{var i=le.getStr(),n=le.get();return le.doStat(FS.stat,i,n)}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},o:function(e,t){le.varargs=t;try{var i=le.getStreamFromFD(),n=le.get();return le.doStat(FS.stat,i.path,n)}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},n:function(e,t){le.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},U:function(e,t){le.varargs=t;try{var i=le.getStreamFromFD(),n=le.get(),r=le.get();return FS.read(i,T,n,r)}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},T:function(e,t){le.varargs=t;try{for(var i=le.get(),n=le.get(),r=le.get(),a=0;a<r;a++)le.printChar(i,P[n+a]);return r}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},S:function(e,t){le.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},R:function(e,t){le.varargs=t;try{var i=le.getStreamFromFD();return FS.close(i),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||De(e),-e.errno}},Q:function(){},b:function(){t.abort()},P:de,g:r?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,O:function(e,t,i){P.set(P.subarray(t,t+i),e)},N:he,L:function(e){!function(e,i){i&&t.noExitRuntime&&0===e||(t.noExitRuntime||(v=!0,t.onExit&&t.onExit(e)),t.quit(e,new Ie(e)))}(e)},K:function(e){var t=Date.now();return E[e>>2]=t/1e3|0,E[e+4>>2]=t%1e3*1e3|0,0},J:function(e,t){var i=new Date(1e3*E[e>>2]);E[t>>2]=i.getUTCSeconds(),E[t+4>>2]=i.getUTCMinutes(),E[t+8>>2]=i.getUTCHours(),E[t+12>>2]=i.getUTCDate(),E[t+16>>2]=i.getUTCMonth(),E[t+20>>2]=i.getUTCFullYear()-1900,E[t+24>>2]=i.getUTCDay(),E[t+36>>2]=0,E[t+32>>2]=0;var n=Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0),r=(i.getTime()-n)/864e5|0;return E[t+28>>2]=r,E[t+40>>2]=ce,t},m:function(){t.javaScriptInvoke.jsCloseJavaScriptRefNum.apply(void 0,arguments)},I:function(){t.coreHelpers.jsExecutionContextFPSync.apply(void 0,arguments)},H:function(){t.httpClient.jsHttpClientAddHeader.apply(void 0,arguments)},G:function(){t.httpClient.jsHttpClientClose.apply(void 0,arguments)},F:function(){t.httpClient.jsHttpClientConfigCORS.apply(void 0,arguments)},E:function(){t.httpClient.jsHttpClientGetHeader.apply(void 0,arguments)},D:function(){t.httpClient.jsHttpClientHeaderExists.apply(void 0,arguments)},B:function(){t.httpClient.jsHttpClientListHeaders.apply(void 0,arguments)},d:function(){t.httpClient.jsHttpClientMethod.apply(void 0,arguments)},A:function(){t.httpClient.jsHttpClientOpen.apply(void 0,arguments)},z:function(){t.httpClient.jsHttpClientRemoveHeader.apply(void 0,arguments)},l:function(){t.javaScriptInvoke.jsIsNotAJavaScriptRefnum.apply(void 0,arguments)},y:function(){t.javaScriptInvoke.jsJavaScriptInvoke.apply(void 0,arguments)},k:function(){t.eventHelpers.jsRegisterForControlEvent.apply(void 0,arguments)},x:function(){t.coreHelpers.jsSystemLogging_WriteMessageUTF8.apply(void 0,arguments)},w:function(){t.eventHelpers.jsUnRegisterForControlEvent.apply(void 0,arguments)},v:ue,e:function(e){return ue(e)},u:pe,t:function(e){return pe(e)},s:function(){De("trap!")},r:me,q:fe,f:function(e,t){!function e(){if(!e.called){e.called=!0,E[_e()>>2]=60*(new Date).getTimezoneOffset();var t=new Date(2e3,0,1),i=new Date(2e3,6,1);E[ye()>>2]=Number(t.getTimezoneOffset()!=i.getTimezoneOffset());var n=o(t),r=o(i),a=x(ge(n),"i8",_),s=x(ge(r),"i8",_);i.getTimezoneOffset()<t.getTimezoneOffset()?(E[we()>>2]=a,E[we()+4>>2]=s):(E[we()>>2]=s,E[we()+4>>2]=a)}function o(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}}();var i=new Date(1e3*E[e>>2]);E[t>>2]=i.getSeconds(),E[t+4>>2]=i.getMinutes(),E[t+8>>2]=i.getHours(),E[t+12>>2]=i.getDate(),E[t+16>>2]=i.getMonth(),E[t+20>>2]=i.getFullYear()-1900,E[t+24>>2]=i.getDay();var n=new Date(i.getFullYear(),0,1),r=(i.getTime()-n.getTime())/864e5|0;E[t+28>>2]=r,E[t+36>>2]=-60*i.getTimezoneOffset();var a=new Date(2e3,6,1).getTimezoneOffset(),s=n.getTimezoneOffset(),o=0|(a!=s&&i.getTimezoneOffset()==Math.min(s,a));E[t+32>>2]=o;var l=E[we()+(o?4:0)>>2];return E[t+40>>2]=l,t},a:V},be=t.asm({},ve,S);t.asm=be,t._Data_GetArrayBegin=function(){return t.asm.W.apply(null,arguments)},t._Data_GetArrayDimensions=function(){return t.asm.X.apply(null,arguments)},t._Data_GetArrayLength=function(){return t.asm.Y.apply(null,arguments)},t._Data_GetLength=function(){return t.asm.Z.apply(null,arguments)},t._Data_GetStringBegin=function(){return t.asm._.apply(null,arguments)},t._Data_GetStringLength=function(){return t.asm.$.apply(null,arguments)},t._Data_Length=function(){return t.asm.aa.apply(null,arguments)},t._Data_RawBlockSize=function(){return t.asm.ba.apply(null,arguments)},t._Data_RawPointerFromOffset=function(){return t.asm.ca.apply(null,arguments)},t._Data_Read1Byte=function(){return t.asm.da.apply(null,arguments)},t._Data_Read2Bytes=function(){return t.asm.ea.apply(null,arguments)},t._Data_Read4Bytes=function(){return t.asm.fa.apply(null,arguments)},t._Data_Read8Bytes=function(){return t.asm.ga.apply(null,arguments)},t._Data_ReadBytes=function(){return t.asm.ha.apply(null,arguments)},t._Data_ReadPointer=function(){return t.asm.ia.apply(null,arguments)},t._Data_Resize1D=function(){return t.asm.ja.apply(null,arguments)},t._Data_ResizeDimensions=function(){return t.asm.ka.apply(null,arguments)},t._Data_Type=function(){return t.asm.la.apply(null,arguments)},t._Data_Write1Byte=function(){return t.asm.ma.apply(null,arguments)},t._Data_Write2Bytes=function(){return t.asm.na.apply(null,arguments)},t._Data_Write4Bytes=function(){return t.asm.oa.apply(null,arguments)},t._Data_Write8Bytes=function(){return t.asm.pa.apply(null,arguments)},t._Data_WriteBytes=function(){return t.asm.qa.apply(null,arguments)},t._Data_WritePointer=function(){return t.asm.ra.apply(null,arguments)},t._EggShell_AllocateData=function(){return t.asm.sa.apply(null,arguments)},t._EggShell_Create=function(){return t.asm.ta.apply(null,arguments)},t._EggShell_DeallocateData=function(){return t.asm.ua.apply(null,arguments)},t._EggShell_Delete=function(){return t.asm.va.apply(null,arguments)},t._EggShell_DeleteVariantAttribute=function(){return t.asm.wa.apply(null,arguments)},t._EggShell_ExecuteSlices=function(){return t.asm.xa.apply(null,arguments)},t._EggShell_FindSubValue=function(){return t.asm.ya.apply(null,arguments)},t._EggShell_FindValue=function(){return t.asm.za.apply(null,arguments)},t._EggShell_GetTypeList=function(){return t.asm.Aa.apply(null,arguments)},t._EggShell_GetVariantAttribute=function(){return t.asm.Ba.apply(null,arguments)},t._EggShell_PeekMemory=function(){return t.asm.Ca.apply(null,arguments)},t._EggShell_PokeMemory=function(){return t.asm.Da.apply(null,arguments)},t._EggShell_REPL=function(){return t.asm.Ea.apply(null,arguments)},t._EggShell_ReadDouble=function(){return t.asm.Fa.apply(null,arguments)},t._EggShell_ReadValueString=function(){return t.asm.Ga.apply(null,arguments)},t._EggShell_ReinitializeToDefault=function(){return t.asm.Ha.apply(null,arguments)},t._EggShell_ResizeArray=function(){return t.asm.Ia.apply(null,arguments)},t._EggShell_SetVariantAttribute=function(){return t.asm.Ja.apply(null,arguments)},t._EggShell_WriteDouble=function(){return t.asm.Ka.apply(null,arguments)},t._EggShell_WriteValueString=function(){return t.asm.La.apply(null,arguments)},t._JavaScriptInvoke_GetParameterDataRef=function(){return t.asm.Ma.apply(null,arguments)},t._JavaScriptInvoke_GetParameterTypeRef=function(){return t.asm.Na.apply(null,arguments)},t._OccurEvent=function(){return t.asm.Oa.apply(null,arguments)},t._Occurrence_Set=function(){return t.asm.Pa.apply(null,arguments)},t._TypeManager_Define=function(){return t.asm.Qa.apply(null,arguments)},t._TypeManager_FindType=function(){return t.asm.Ra.apply(null,arguments)},t._TypeRef_Alignment=function(){return t.asm.Sa.apply(null,arguments)},t._TypeRef_BitEncoding=function(){return t.asm.Ta.apply(null,arguments)},t._TypeRef_ElementName=function(){return t.asm.Ua.apply(null,arguments)},t._TypeRef_ElementOffset=function(){return t.asm.Va.apply(null,arguments)},t._TypeRef_ElementUsageType=function(){return t.asm.Wa.apply(null,arguments)},t._TypeRef_GetSubElementByIndex=function(){return t.asm.Xa.apply(null,arguments)},t._TypeRef_HasCustomDefault=function(){return t.asm.Ya.apply(null,arguments)},t._TypeRef_IsAnalogWaveform=function(){return t.asm.Za.apply(null,arguments)},t._TypeRef_IsArray=function(){return t.asm._a.apply(null,arguments)},t._TypeRef_IsBoolean=function(){return t.asm.$a.apply(null,arguments)},t._TypeRef_IsCluster=function(){return t.asm.ab.apply(null,arguments)},t._TypeRef_IsComplex=function(){return t.asm.bb.apply(null,arguments)},t._TypeRef_IsEnum=function(){return t.asm.cb.apply(null,arguments)},t._TypeRef_IsFlat=function(){return t.asm.db.apply(null,arguments)},t._TypeRef_IsFloat=function(){return t.asm.eb.apply(null,arguments)},t._TypeRef_IsInteger=function(){return t.asm.fb.apply(null,arguments)},t._TypeRef_IsJavaScriptDynamicRefNum=function(){return t.asm.gb.apply(null,arguments)},t._TypeRef_IsJavaScriptStaticRefNum=function(){return t.asm.hb.apply(null,arguments)},t._TypeRef_IsPath=function(){return t.asm.ib.apply(null,arguments)},t._TypeRef_IsSigned=function(){return t.asm.jb.apply(null,arguments)},t._TypeRef_IsString=function(){return t.asm.kb.apply(null,arguments)},t._TypeRef_IsTimestamp=function(){return t.asm.lb.apply(null,arguments)},t._TypeRef_IsValid=function(){return t.asm.mb.apply(null,arguments)},t._TypeRef_Name=function(){return t.asm.nb.apply(null,arguments)},t._TypeRef_Next=function(){return t.asm.ob.apply(null,arguments)},t._TypeRef_PointerType=function(){return t.asm.pb.apply(null,arguments)},t._TypeRef_Rank=function(){return t.asm.qb.apply(null,arguments)},t._TypeRef_SubElementCount=function(){return t.asm.rb.apply(null,arguments)},t._TypeRef_TestNeedsUpdateAndReset=function(){return t.asm.sb.apply(null,arguments)},t._TypeRef_TestNeedsUpdateWithoutReset=function(){return t.asm.tb.apply(null,arguments)},t._TypeRef_TopAQSize=function(){return t.asm.ub.apply(null,arguments)},t._Vireo_MaxExecWakeUpTime=function(){return t.asm.vb.apply(null,arguments)};var ye=t.__get_daylight=function(){return t.asm.wb.apply(null,arguments)},_e=t.__get_timezone=function(){return t.asm.xb.apply(null,arguments)},we=t.__get_tzname=function(){return t.asm.yb.apply(null,arguments)},xe=(t._free=function(){return t.asm.zb.apply(null,arguments)},t._malloc=function(){return t.asm.Ab.apply(null,arguments)}),Ce=t.globalCtors=function(){return t.asm.Db.apply(null,arguments)},Se=t.stackAlloc=function(){return t.asm.Eb.apply(null,arguments)},Te=t.stackRestore=function(){return t.asm.Fb.apply(null,arguments)},Pe=t.stackSave=function(){return t.asm.Gb.apply(null,arguments)};function Ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ee(e){function i(){t.calledRun||(t.calledRun=!0,v||(W||(W=!0,L(F)),L(U),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),$.unshift(e);var e;L($)}()))}e=e||t.arguments,K>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),z.unshift(e);var e;L(z)}(),K>0||t.calledRun||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),i()},1)):i()))}function De(e){throw t.onAbort&&t.onAbort(e),void 0!==e?(c(e),u(e),e=JSON.stringify(e)):e="",v=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(t.dynCall_v=function(){return t.asm.Bb.apply(null,arguments)},t.dynCall_vi=function(){return t.asm.Cb.apply(null,arguments)},t.asm=be,t.setValue=y,t.getValue=function(e,t,i){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return T[e>>0];case"i16":return I[e>>1];case"i32":case"i64":return E[e>>2];case"float":return D[e>>2];case"double":return k[e>>3];default:De("invalid type for getValue: "+t)}return null},t.stringToUTF8=N,t.lengthBytesUTF8=q,t.stackSave=Pe,t.stackRestore=Te,t.stackAlloc=Se,t.then=function(e){if(t.calledRun)e(t);else{var i=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){i&&i(),e(t)}}return t},Ie.prototype=new Error,Ie.prototype.constructor=Ie,ee=function e(){t.calledRun||Ee(),t.calledRun||(ee=e)},t.run=Ee,t.abort=De,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return t.noExitRuntime=!0,Ee(),t.vireopostjs=function(){},e}),Fn=function(e,t){e.coreHelpers={},t.coreHelpers={};var i=function(){},n=0;e.coreHelpers.jsExecutionContextFPSync=function(t){var n=e.eggShell.dataReadString(t);i(n)},e.coreHelpers.jsSystemLogging_WriteMessageUTF8=function(t,i,n,r){var a=e.eggShell.createValueRef(t,i),s=e.eggShell.createValueRef(n,r),o=e.eggShell.readString(a);switch(e.eggShell.readDouble(s)){case 0:console.error(o);break;case 1:console.warn(o);break;case 2:console.info(o);break;default:console.log(o)}},t.coreHelpers.setFPSyncFunction=function(e){if("function"!=typeof e)throw new Error("FPSync must be a callable function");i=e},e.coreHelpers.findCStringLength=function(e,t){var i,n=e.length;for(i=t;i<n;i+=1)if(0===e[i])return i-t;return-1},e.coreHelpers.writeJSStringToStack=function(t){var i=1+(t.length<<2),n=e.stackAlloc(i);return e.stringToUTF8(t,n,i),n},e.coreHelpers.writeJSStringToHeap=function(t){var i=1+(t.length<<2),n=e._malloc(i);return e.stringToUTF8(t,n,i),n},e.coreHelpers.sizedUtf8ArrayToJSString=function(e,t,i){var n,r,a,s=t,o=t+i;o=o>e.length?e.length:o;var l="";if(i<=0)return l;for(;;){if(s>=o)return l;if(128&(n=e[s++])){if(192==(224&n)){if(s>=o||128!=(192&e[s])){l+="ï¿½";continue}}else if(224==(240&n)){if(s+1>=o||128!=(192&e[s])||128!=(192&e[s+1])){l+="ï¿½";continue}}else{if(240!=(248&n)){l+="ï¿½";continue}if(s+2>=o||128!=(192&e[s])||128!=(192&e[s+1])||128!=(192&e[s+2])){l+="ï¿½";continue}}if(r=63&e[s++],192!=(224&n)){if(a=63&e[s++],224==(240&n)){if((n=(15&n)<<12|r<<6|a)<2048){l+="ï¿½ï¿½ï¿½";continue}}else if((n=(7&n)<<18|r<<12|a<<6|63&e[s++])<65536){l+="ï¿½ï¿½ï¿½ï¿½";continue}if(n<65536)l+=String.fromCharCode(n);else if(n<=1114111){var d=n-65536;l+=String.fromCharCode(55296|d>>10,56320|1023&d)}else l+="ï¿½ï¿½ï¿½ï¿½"}else{if((n=(31&n)<<6|r)<128){l+="ï¿½ï¿½";continue}l+=String.fromCharCode(n)}}else l+=String.fromCharCode(n)}},e.coreHelpers.jsStringToSizedUTF8Array=function(e,t,i,n){if(!(n>0))return 0;for(var r=i,a=r+n,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(r>=a)break;t[r++]=o}else if(o<=2047){if(r+1>=a)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(o<=65535){if(r+2>=a)break;t[r++]=224|o>>12,t[r++]=128|o>>6&63,t[r++]=128|63&o}else if(o<=2097151){if(r+3>=a)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}else if(o<=67108863){if(r+4>=a)break;t[r++]=248|o>>24,t[r++]=128|o>>18&63,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}else{if(r+5>=a)break;t[r++]=252|o>>30,t[r++]=128|o>>24&63,t[r++]=128|o>>18&63,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}}return r-i};var r=function(t,i){e.eggShell.writeDouble(e.eggShell.findSubValueRef(t,"status"),i.status?1:0),e.eggShell.writeDouble(e.eggShell.findSubValueRef(t,"code"),i.code),e.eggShell.writeString(e.eggShell.findSubValueRef(t,"source"),i.source)};e.coreHelpers.mergeErrors=function(t,i){if(void 0!==t){var a=e.eggShell.findSubValueRef(t,"status");if(0===e.eggShell.readDouble(a))if(i.status)r(t,i);else{var s=e.eggShell.findSubValueRef(t,"code"),o=e.eggShell.readDouble(s)!==n,l=i.code!==n;o||l&&r(t,i)}}},e.coreHelpers.formatMessageWithException=function(e,t){var i;return null!=t&&"string"==typeof t.message&&0!==t.message.length?(i=", Additional information:\nMessage: "+t.message,"string"==typeof t.stack&&0!==t.stack.length&&(i+="\nStack: "+t.stack),e+i):e},e.coreHelpers.createSourceFromMessage=function(e){return"string"==typeof e&&0!==e.length?`<APPEND>\n${e}`:""}},Un=function(e){e.typeHelpers={};var t=function(e,t){if("function"!=typeof e)throw new Error("Visitor must have a method named `"+t+"`. Found: "+e)};e.typeHelpers.topAQSize=function(t){return e._TypeRef_TopAQSize(t)},e.typeHelpers.typeName=function(t){var i=e.typeHelpers.findType("String"),n=e.eggShell.allocateData(i);e._TypeRef_Name(e.eggShell.v_userShell,t,n.typeRef,n.dataRef);var r=e.eggShell.readString(n);return e.eggShell.deallocateData(n),r},e.typeHelpers.findType=function(t){var i=e.stackSave(),n=e.coreHelpers.writeJSStringToStack(t);const r=e._TypeManager_FindType(e.eggShell.v_userShell,n);return e.stackRestore(i),r},e.typeHelpers.typeRank=function(t){return e._TypeRef_Rank(t)},e.typeHelpers.elementName=function(t){var i=e.typeHelpers.findType("String"),n=e.eggShell.allocateData(i);e._TypeRef_ElementName(e.eggShell.v_userShell,t,n.typeRef,n.dataRef);var r=e.eggShell.readString(n);return e.eggShell.deallocateData(n),r},e.typeHelpers.subElementCount=function(t){return e._TypeRef_SubElementCount(t)},e.typeHelpers.subElementByIndex=function(t,i){return e._TypeRef_GetSubElementByIndex(t,i)},e.typeHelpers.isCluster=function(t){return 0!==e._TypeRef_IsCluster(t)},e.typeHelpers.isArray=function(t){return 0!==e._TypeRef_IsArray(t)},e.typeHelpers.isBoolean=function(t){return 0!==e._TypeRef_IsBoolean(t)},e.typeHelpers.isInteger=function(t){return 0!==e._TypeRef_IsInteger(t)},e.typeHelpers.isSigned=function(t){return 0!==e._TypeRef_IsSigned(t)},e.typeHelpers.isEnum=function(t){return 0!==e._TypeRef_IsEnum(t)},e.typeHelpers.isFloat=function(t){return 0!==e._TypeRef_IsFloat(t)},e.typeHelpers.isString=function(t){return 0!==e._TypeRef_IsString(t)},e.typeHelpers.isPath=function(t){return 0!==e._TypeRef_IsPath(t)},e.typeHelpers.isTimestamp=function(t){return 0!==e._TypeRef_IsTimestamp(t)},e.typeHelpers.isComplex=function(t){return 0!==e._TypeRef_IsComplex(t)},e.typeHelpers.isAnalogWaveform=function(t){return 0!==e._TypeRef_IsAnalogWaveform(t)},e.typeHelpers.isJSObjectRefnum=function(t){return 0!==e._TypeRef_IsJavaScriptStaticRefNum(t)||0!==e._TypeRef_IsJavaScriptDynamicRefNum(t)},e.typeHelpers.isJSObjectStaticRefnum=function(t){return 0!==e._TypeRef_IsJavaScriptStaticRefNum(t)},e.typeHelpers.isJSObjectDynamicRefnum=function(t){return 0!==e._TypeRef_IsJavaScriptDynamicRefNum(t)};var i=[{typeChecker:e.typeHelpers.isJSObjectRefnum,dispatcher:function(e,i,n){var r=e.visitJSObjectRefnum;return t(r,"visitJSObjectRefnum"),r.call(e,i,n)}},{typeChecker:e.typeHelpers.isBoolean,dispatcher:function(e,i,n){var r=e.visitBoolean;return t(r,"visitBoolean"),r.call(e,i,n)}},{typeChecker:e.typeHelpers.isEnum,dispatcher:function(i,n,r){var a=e.typeHelpers.topAQSize(n.typeRef),s=void 0,o="";switch(a){case 1:s=i.visitEnum8,o="visitEnum8";break;case 2:s=i.visitEnum16,o="visitEnum16";break;case 4:s=i.visitEnum32,o="visitEnum32";break;default:throw new Error("Unexpected size for Enum. Found: "+a)}return t(s,o),s.call(i,n,r)}},{typeChecker:e.typeHelpers.isInteger,dispatcher:function(i,n,r){var a=n.typeRef,s=e.typeHelpers.isSigned(a),o=e.typeHelpers.topAQSize(a),l=void 0,d="";if(!0===s)switch(o){case 1:l=i.visitInt8,d="visitInt8";break;case 2:l=i.visitInt16,d="visitInt16";break;case 4:l=i.visitInt32,d="visitInt32";break;case 8:l=i.visitInt64,d="visitInt64";break;default:throw new Error("Unexpected size for Integer. Found: "+o)}else switch(o){case 1:l=i.visitUInt8,d="visitUInt8";break;case 2:l=i.visitUInt16,d="visitUInt16";break;case 4:l=i.visitUInt32,d="visitUInt32";break;case 8:l=i.visitUInt64,d="visitUInt64";break;default:throw new Error("Unexpected size for Unsigned Integer. Found: "+o)}return t(l,d),l.call(i,n,r)}},{typeChecker:e.typeHelpers.isFloat,dispatcher:function(i,n,r){var a,s=n.typeRef,o=e.typeHelpers.topAQSize(s),l="";switch(o){case 4:a=i.visitSingle,l="visitSingle";break;case 8:a=i.visitDouble,l="visitDouble";break;default:throw new Error("Unexpected size for a Float value. Found: "+o)}return t(a,l),a.call(i,n,r)}},{typeChecker:e.typeHelpers.isString,dispatcher:function(e,i,n){var r=e.visitString;return t(r,"visitString"),r.call(e,i,n)}},{typeChecker:e.typeHelpers.isComplex,dispatcher:function(i,n,r){var a,s,o=n.typeRef,l=e.typeHelpers.topAQSize(o);switch(l){case 8:a=i.visitComplexSingle,s="visitComplexSingle";break;case 16:a=i.visitComplexDouble,s="visitComplexDouble";break;default:throw new Error("Unexpected size for a Complex value. Found: "+l)}return t(a,s),a.call(i,n,r)}},{typeChecker:e.typeHelpers.isAnalogWaveform,dispatcher:function(e,i,n){var r=e.visitAnalogWaveform;return t(r,"visitAnalogWaveform"),r.call(e,i,n)}},{typeChecker:e.typeHelpers.isTimestamp,dispatcher:function(e,i,n){var r=e.visitTimestamp;return t(r,"visitTimestamp"),r.call(e,i,n)}},{typeChecker:e.typeHelpers.isPath,dispatcher:function(e,i,n){var r=e.visitPath;return t(r,"visitPath"),r.call(e,i,n)}},{typeChecker:e.typeHelpers.isArray,dispatcher:function(e,i,n){var r=e.visitArray;return t(r,"visitArray"),r.call(e,i,n)}},{typeChecker:e.typeHelpers.isCluster,dispatcher:function(e,i,n){var r=e.visitCluster;return t(r,"visitCluster"),r.call(e,i,n)}}];e.typeHelpers.findTypeDispatcher=function(e){var t,n=0;for(n=0;n<i.length;n+=1)if(!0===(t=i[n]).typeChecker(e))return t.dispatcher},e.typeHelpers.testNeedsUpdateAndReset=function(t){return 0!==e._TypeRef_TestNeedsUpdateAndReset(t)},e.typeHelpers.testNeedsUpdateWithoutReset=function(t){return 0!==e._TypeRef_TestNeedsUpdateWithoutReset(t)}};var $n,Wn,Gn,Xn,Yn,Jn,Qn,Kn,Zn,er,tr,ir,nr,rr,ar,sr,or,lr,dr,hr,cr,ur,pr,mr,fr={encodeIdentifier:function(e){if("string"!=typeof e||""===e)throw new Error("Identifier must be a non-empty string. Found: "+e);let t="",i=e.charCodeAt(0),n=e.charAt(0);!function(e){return e>=65&&e<=90||e>=97&&e<=122||e>127}(i)?t+="%"+i.toString(16).toUpperCase():t+=n;for(let r=1;r<e.length;r+=1)i=e.charCodeAt(r),n=e.charAt(r),t+=i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||36===i||42===i||43===i||45===i||95===i||i>127?n:"%"+i.toString(16).toUpperCase();return t},decodeIdentifier:function(e){if("string"!=typeof e||""===e)throw new Error("Identifier must be a non-empty string. Found: "+e);return decodeURIComponent(e)}},gr=function(e,t){e.eggShell={},t.eggShell={},e.eggShell.readJavaScriptRefNum=t.eggShell.readJavaScriptRefNum=function(t){return e.javaScriptInvoke.readJavaScriptRefNum(t)},e.eggShell.writeJavaScriptRefNum=t.eggShell.writeJavaScriptRefNum=function(t,i){return e.javaScriptInvoke.writeJavaScriptRefNum(t,i)};var i=0,n=1,r=2,a=3,s=4,o=5,l=6,d=7,h=8,c=9,u=10,p={};p[i]="Success",p[n]="ObjectNotFoundAtPath",p[r]="UnexpectedObjectType",p[a]="InvalidResultPointer",p[s]="UnableToCreateReturnBuffer",p[o]="InvalidTypeRef",p[l]="MismatchedArrayRank",p[d]="UnableToParseData",p[h]="UnableToAllocateData",p[c]="UnableToDeallocateData",p[u]="InvalidDataPointer";var m={0:"Success",1:"InsufficientResources",2:"ResourceNotFound",3:"ArrayRankMismatch",4:"CantDecode",5:"CantEncode",6:"LogicFailure",7:"ValueTruncated"};e.eggShell.create=function(t){return e._EggShell_Create(t)},e.eggShell.delete=function(t){e._EggShell_Delete(t)},e.eggShell.v_root=e.eggShell.create(0),e.eggShell.v_userShell=e.eggShell.create(e.eggShell.v_root),t.eggShell.setPrintFunction=function(t){if("function"!=typeof t)throw new Error("Print must be a callable function");e.vireoPrint=t},t.eggShell.setPrintErrorFunction=function(t){if("function"!=typeof t)throw new Error("PrintError must be a callable function");e.vireoPrintErr=t},e.eggShell.executeSlicesWakeUpCallback=function(){},t.eggShell.setExecuteSlicesWakeUpCallback=function(t){if("function"!=typeof t)throw new Error("Execute slices wake-up callback must be a callable function");e.eggShell.executeSlicesWakeUpCallback=t},t.eggShell.internal_module_do_not_use_or_you_will_be_fired=e,e.eggShell.maxExecWakeUpTime=t.eggShell.maxExecWakeUpTime=function(){return e._Vireo_MaxExecWakeUpTime()},e.eggShell.reboot=t.eggShell.reboot=function(){e.eggShell.delete(e.eggShell.v_userShell),e.eggShell.delete(e.eggShell.v_root),e.eggShell.v_root=e.eggShell.create(0),e.eggShell.v_userShell=e.eggShell.create(e.eggShell.v_root)},e.eggShell.createValueRef=function(e,t){if(!("number"!=typeof e||"number"!=typeof t||e<=0||t<=0))return Object.freeze({typeRef:e,dataRef:t})},e.eggShell.allocateData=function(t){var n=e.stackSave(),r=e.stackAlloc(4),a=e._EggShell_AllocateData(e.eggShell.v_userShell,t,r);if(a!==i)throw new Error("A new ValueRef could not be allocated for the following reason: "+p[a]+" (error code: "+a+") (typeRef: "+t+")");var s=e.getValue(r,"i32"),o=e.eggShell.createValueRef(t,s);return e.stackRestore(n),o},e.eggShell.deallocateData=function(t){var n=e._EggShell_DeallocateData(e.eggShell.v_userShell,t.typeRef,t.dataRef);if(n!==i)throw new Error("A ValueRef could not be deallocated for the following reason: "+p[n]+" (error code: "+n+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")")},e.eggShell.reinitializeToDefault=t.eggShell.reinitializeToDefault=function(t){var n=e._EggShell_ReinitializeToDefault(e.eggShell.v_userShell,t.typeRef,t.dataRef);if(n!==i)throw new Error("The ValueRef could not be reinitialized to default for the following reason: "+p[n]+" (error code: "+n+") (typeRef: "+t.typeRef+")")},e.eggShell.findValueRef=t.eggShell.findValueRef=function(t,r){var a,s,o,l=e.stackSave(),d=e.coreHelpers.writeJSStringToStack(t),h=e.coreHelpers.writeJSStringToStack(r),c=e.stackAlloc(4),u=e.stackAlloc(4),m=e._EggShell_FindValue(e.eggShell.v_userShell,d,h,c,u);if(m!==i&&m!==n)throw new Error("A ValueRef could not be made for the following reason: "+p[m]+" (error code: "+m+") (vi name: "+t+") (path: "+r+")");return m===i?(a=e.getValue(c,"i32"),s=e.getValue(u,"i32"),o=e.eggShell.createValueRef(a,s)):o=void 0,e.stackRestore(l),o},e.eggShell.findSubValueRef=t.eggShell.findSubValueRef=function(t,r){var a,s,o,l=e.stackSave(),d=e.coreHelpers.writeJSStringToStack(r),h=e.stackAlloc(4),c=e.stackAlloc(4),u=e._EggShell_FindSubValue(e.eggShell.v_userShell,t.typeRef,t.dataRef,d,h,c);if(u!==i&&u!==n)throw new Error("A ValueRef could not be made for the following reason: "+p[u]+" (error code: "+u+") (type name: "+e.typeHelpers.typeName(t.typeRef)+") (subpath: "+r+")");return u===i?(a=e.getValue(h,"i32"),s=e.getValue(c,"i32"),o=e.eggShell.createValueRef(a,s)):o=void 0,e.stackRestore(l),o},e.eggShell.readValueRefObject=t.eggShell.readValueRefObject=function(t){var i=t.typeRef,n={};if(!1===e.typeHelpers.isCluster(i))throw new Error("A ValueRefObject could not be made for the following reason: "+p[r]+" (error code: "+r+") (type name: "+e.typeHelpers.typeName(i)+")");for(var a,s,o=e.typeHelpers.subElementCount(i),l=0;l<o;l+=1)a=e.typeHelpers.subElementByIndex(i,l),s=e.typeHelpers.elementName(a),n[fr.decodeIdentifier(s)]=e.eggShell.findSubValueRef(t,s);return n},e.eggShell.reflectOnValueRef=t.eggShell.reflectOnValueRef=function(t,i,n){if("object"!=typeof i||null===i)throw new Error("valueRef must be an object. Found: "+i);if("object"!=typeof t||null===t)throw new Error("typeVisitor must be an object. Found: "+t);var r=i.typeRef,a=e.typeHelpers.findTypeDispatcher(r);if(void 0===a)throw new Error("Unexpected type. Is typeRef pointing to a valid type?. Type found: "+r===0?"invalid type":e.typeHelpers.typeName(r));return a(t,i,n)},e.eggShell.testNeedsUpdateAndReset=t.eggShell.testNeedsUpdateAndReset=function(t){if("object"!=typeof t||null===t)throw new Error("valueRef must be an object. Found: "+t);return e.typeHelpers.testNeedsUpdateAndReset(t.typeRef)},e.eggShell.testNeedsUpdateWithoutReset=function(t){if("object"!=typeof t||null===t)throw new Error("valueRef must be an object. Found: "+t);return e.typeHelpers.testNeedsUpdateWithoutReset(t.typeRef)},e.eggShell.readDouble=t.eggShell.readDouble=function(t){var n=e.stackSave(),r=e.stackAlloc(8),a=e._EggShell_ReadDouble(e.eggShell.v_userShell,t.typeRef,t.dataRef,r);if(a!==i)throw new Error("Could not run readDouble for the following reason: "+p[a]+" (error code: "+a+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");var s=e.getValue(r,"double");return e.stackRestore(n),s},e.eggShell.writeDouble=t.eggShell.writeDouble=function(t,n){if("number"!=typeof n)throw new Error("Expected value to write to be of type number, instead got: "+n);var r=e._EggShell_WriteDouble(e.eggShell.v_userShell,t.typeRef,t.dataRef,n);if(r!==i)throw new Error("Could not run writeDouble for the following reason: "+p[r]+" (error code: "+r+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")")},e.eggShell.readJSON=t.eggShell.readJSON=function(t){var i=e.stackSave(),n=e.coreHelpers.writeJSStringToStack("JSON"),r=e.typeHelpers.findType("String"),a=e.eggShell.allocateData(r),s=e._EggShell_ReadValueString(e.eggShell.v_userShell,t.typeRef,t.dataRef,n,a.typeRef,a.dataRef);if(0!==s)throw new Error("Performing readJSON failed for the following reason: "+p[s]+" (error code: "+s+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");var o=e.eggShell.readString(a);return e.eggShell.deallocateData(a),e.stackRestore(i),o},e.eggShell.writeJSON=t.eggShell.writeJSON=function(t,i){var n=e.stackSave(),r=e.coreHelpers.writeJSStringToHeap(i),a=e.coreHelpers.writeJSStringToStack("JSON"),s=e._EggShell_WriteValueString(e.eggShell.v_userShell,t.typeRef,t.dataRef,a,r);if(0!==s)throw new Error("Performing writeJSON failed for the following reason: "+p[s]+" (error code: "+s+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");e._free(r),e.stackRestore(n)},e.eggShell.dataGetArrayBegin=function(t){return e._Data_GetArrayBegin(t)},e.eggShell.dataGetArrayLength=function(t){return e._Data_GetArrayLength(t)},e.eggShell.readString=t.eggShell.readString=function(t){if(!1===e.typeHelpers.isString(t.typeRef))throw new Error("Performing readString failed for the following reason: "+p[r]+" (error code: "+r+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");var i=e.eggShell.dataGetArrayBegin(t.dataRef),n=e.eggShell.dataGetArrayLength(t.dataRef);return e.coreHelpers.sizedUtf8ArrayToJSString(e.HEAPU8,i,n)},e.eggShell.writeString=t.eggShell.writeString=function(t,i){if(!1===e.typeHelpers.isString(t.typeRef))throw new Error("Performing writeString failed for the following reason: "+p[r]+" (error code: "+r+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");if("string"!=typeof i)throw new Error("Expected string input to be of type string, instead got: "+i);var n=e.lengthBytesUTF8(i);e.eggShell.resizeArray(t,[n]);var a=e.eggShell.readTypedArray(t);if(e.coreHelpers.jsStringToSizedUTF8Array(i,a,0,n)!==n)throw new Error("Could not write JS string to memory")};var f=function(t){var i,n,r;if(e.typeHelpers.isString(t))return Uint8Array;if(e.typeHelpers.isArray(t)){if(i=e.typeHelpers.subElementByIndex(t,0),e.typeHelpers.isBoolean(i))return Uint8Array;if(e.typeHelpers.isInteger(i))if(n=e.typeHelpers.isSigned(i),r=e.typeHelpers.topAQSize(i),!0===n)switch(r){case 1:return Int8Array;case 2:return Int16Array;case 4:return Int32Array;default:return}else switch(r){case 1:return Uint8Array;case 2:return Uint16Array;case 4:return Uint32Array;default:return}else if(e.typeHelpers.isFloat(i))switch(r=e.typeHelpers.topAQSize(i)){case 4:return Float32Array;case 8:return Float64Array;default:return}}};e.eggShell.isTypedArrayCompatible=t.eggShell.isTypedArrayCompatible=function(e){return void 0!==f(e.typeRef)},e.eggShell.getArrayDimensions=t.eggShell.getArrayDimensions=function(t){if(!e.typeHelpers.isArray(t.typeRef))throw new Error("Performing getArrayDimensions failed for the following reason: "+p[r]+" (error code: "+r+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");var i=e.typeHelpers.typeRank(t.typeRef),n=e.stackSave(),a=e.stackAlloc(4*i);e._Data_GetArrayDimensions(t.dataRef,a);var s,o=[];for(s=0;s<i;s+=1)o.push(e.getValue(a+4*s,"i32"));return e.stackRestore(n),o},e.eggShell.readTypedArray=t.eggShell.readTypedArray=function(t){var i=f(t.typeRef);if(void 0===i)throw new Error("Performing readTypedArray failed for the following reason: "+p[r]+" (error code: "+r+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");var n=e.eggShell.dataGetArrayBegin(t.dataRef),a=e.eggShell.dataGetArrayLength(t.dataRef);return new i(e.HEAP8.buffer,n,a)},e.eggShell.isSupportedAndCompatibleArrayType=function(e,t){var i=f(e.typeRef);return void 0!==i&&t instanceof i},e.eggShell.writeTypedArray=t.eggShell.writeTypedArray=function(t,i){var n=f(t.typeRef);if(void 0===n||!(i instanceof n))throw new Error("Performing writeTypedArray failed for the following reason: "+p[r]+" (error code: "+r+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");var a=e.eggShell.dataGetArrayLength(t.dataRef),s=i.length;if(s!==a)throw new Error("TypedArray total length must be "+a+" instead got "+s);var o=e.eggShell.dataGetArrayBegin(t.dataRef);new n(e.HEAP8.buffer,o,s).set(i)},e.eggShell.resizeArray=t.eggShell.resizeArray=function(t,n){if(!Array.isArray(n))throw new Error("Expected newDimensions to be an array of dimension lengths, instead got: "+n);var r,a,s=e.stackSave(),o=n.length,l=e.stackAlloc(4*o);for(r=0;r<o;r+=1){if("number"!=typeof(a=n[r]))throw new Error("Expected all dimensions of newDimensions to be numeric values for dimension length, instead got"+a);e.setValue(l+4*r,a,"i32")}var d=e._EggShell_ResizeArray(e.eggShell.v_userShell,t.typeRef,t.dataRef,o,l);if(d!==i)throw new Error("Resizing the array failed for the following reason: "+p[d]+" (error code: "+d+") (typeRef: "+t.typeRef+") (dataRef: "+t.dataRef+")");e.stackRestore(s)},e.eggShell.getVariantAttribute=t.eggShell.getVariantAttribute=function(t,r){var a,s,o,l=e.stackSave(),d=e.coreHelpers.writeJSStringToStack(r),h=e.stackAlloc(4),c=e.stackAlloc(4),u=e._EggShell_GetVariantAttribute(e.eggShell.v_userShell,t.typeRef,t.dataRef,d,h,c);if(u!==i&&u!==n)throw new Error("Could not get variant attribute for the following reason: "+p[u]+" (error code: "+u+") (type name: "+e.typeHelpers.typeName(t.typeRef)+") (subpath: "+r+")");return u===i?(a=e.getValue(h,"i32"),s=e.getValue(c,"i32"),o=e.eggShell.createValueRef(a,s)):o=void 0,e.stackRestore(l),o},e.eggShell.setVariantAttribute=function(t,n,r){var a=e.stackSave(),s=e.coreHelpers.writeJSStringToStack(n),o=e._EggShell_SetVariantAttribute(e.eggShell.v_userShell,t.typeRef,t.dataRef,s,r.typeRef,r.dataRef);if(o!==i)throw new Error("Could not set variant attribute for the following reason: "+p[o]+" (error code: "+o+") (type name: "+e.typeHelpers.typeName(t.typeRef)+") (subpath: "+n+")");e.stackRestore(a)},e.eggShell.setVariantAttributeAsString=t.eggShell.setVariantAttributeAsString=function(t,i,n){var r=e.typeHelpers.findType("String"),a=e.eggShell.allocateData(r);e.eggShell.writeString(a,n),e.eggShell.setVariantAttribute(t,i,a),e.eggShell.deallocateData(a)},e.eggShell.deleteVariantAttribute=t.eggShell.deleteVariantAttribute=function(t,r){var a=e.stackSave(),s=e.coreHelpers.writeJSStringToStack(r),o=e._EggShell_DeleteVariantAttribute(e.eggShell.v_userShell,t.typeRef,t.dataRef,s);if(o!==i&&o!==n)throw new Error("Could not delete variant attribute for the following reason: "+p[o]+" (error code: "+o+") (type name: "+e.typeHelpers.typeName(t.typeRef)+") (subpath: "+r+")");var l=o!==n;return e.stackRestore(a),l},e.eggShell.dataReadString=function(t){var i=e._Data_GetStringBegin(t),n=e._Data_GetStringLength(t);return e.coreHelpers.sizedUtf8ArrayToJSString(e.HEAPU8,i,n)},e.eggShell.loadVia=t.eggShell.loadVia=function(t){if("string"!=typeof t)throw new Error("Expected viaText to be a string");if(0===t.length)throw new Error("Empty viaText provided, nothing to run");var i=e.lengthBytesUTF8(t),n=e.coreHelpers.writeJSStringToHeap(t),r="",a="",s=e.print,o=e.printErr;e.print=function(e){r+=e+"\n",s(e)},e.printErr=function(e){a+=e+"\n",o(e)};var l=e._EggShell_REPL(e.eggShell.v_userShell,n,i);if(e._free(n),e.print=s,e.printErr=o,0!==l)throw new Error("Loading VIA failed for the following reason: "+m[l]+" (error code: "+l+") (stdout: "+r+") (stderr: "+a+")")},e.eggShell.executeSlicesUntilWait=t.eggShell.executeSlicesUntilWait=function(t,i){return e._EggShell_ExecuteSlices(e.eggShell.v_userShell,t,i)},e.eggShell.executeSlicesUntilClumpsFinished=t.eggShell.executeSlicesUntilClumpsFinished=function(t){if(void 0!==t)throw new Error("The executeSlicesUntilClumpsFinished function no longer takes a callback and instead returns a Promise");var i,n,r,a=e.eggShell.executeSlicesWakeUpCallback,s=new Promise(function(t,r){var s=function(){e.eggShell.executeSlicesWakeUpCallback=a};i=function(){s(),t.apply(void 0,arguments)},n=function(){s(),r.apply(void 0,arguments)}}),o=function(){var t;try{t=e.eggShell.executeSlicesUntilWait(1e4,4)}catch(e){return r=void 0,void setTimeout(n,0,e)}t>0?r=setTimeout(o,t):t<0?r=setTimeout(o,0):(r=void 0,setTimeout(i,0))};return e.eggShell.executeSlicesWakeUpCallback=function(){a(),void 0===r?console.error("Attempted to wake up Vireo runtime but Vireo is not waiting"):(clearTimeout(r),r=void 0,o())},Promise.resolve().then(function(){o()}),s},e.eggShell.setOccurrenceAsync=function(t){setTimeout(function(){e._Occurrence_Set(t),e.eggShell.executeSlicesWakeUpCallback.call(void 0)},0)},e.eggShell.setOccurrence=function(t){e._Occurrence_Set(t)}};Yn={CODE:0,MESSAGE:""},Jn={CODE:-1967362020,MESSAGE:"The provided refnum is invalid."},Qn={CODE:1,MESSAGE:"An input parameter is invalid. For example if the input is a path, the path might contain a character not allowed by the OS such as ? or @."},Kn={CODE:56,MESSAGE:"The network operation exceeded the user-specified or system time limit."},Zn={CODE:363500,MESSAGE:"Failed to connect to the specified hostname.  Be sure the specified hostname is correct, the server is running and configured to accept remote requests."},er={CODE:363508,MESSAGE:"The request was aborted by the caller."},tr={CODE:363528,MESSAGE:"The specified request header does not exist."},ir={CODE:363650,MESSAGE:"A network error has occurred. Possible reasons for this error include Cross-Origin Resource Sharing (CORS) configuration issues between the client and the target server or that the client cannot reach the target server. Due to browser security restrictions, detailed information about the cause of the network error cannot be provided. You may find specific details about the cause of the network error in the browser development tools console or in the LabVIEW output window."},nr={CODE:363651,MESSAGE:"Setting a header or header value resulted in an error, possibly due to an invalid character in a header or header value. Verify that each header and header value contains only valid characters."},rr={CODE:363652,MESSAGE:"This target does not support modification of the cookie file input. The browser manages saving cookies from an HTTP response and including cookies in HTTP requests on behalf of the user. The HTTP Client VIs cannot manipulate cookies directly. Set the cookie file input as either Not a path or an empty path for this target."},ar={CODE:363653,MESSAGE:"This target does not support modification of the verify server input. The browser manages settings related to validation of a server's identity and establishing secure connections. Set the verify server input to True for this target."},sr={CODE:363654,MESSAGE:"This target does not support usage of an output file. Set output file as either Not a path or an empty path for this target."},or={CODE:363798,MESSAGE:"The HTTP client produced an unknown error."},(Wn=($n=function(){this._runningRequests=[]}).prototype).addRequest=function(e){this._runningRequests.push(e)},Wn.removeRequest=function(e){var t=this._runningRequests.indexOf(e);t>-1&&this._runningRequests.splice(t,1)},Wn.abortAllRunningRequests=function(){this._runningRequests.slice().forEach(function(e){e.abort()})},function(){var e=(Gn=function(e,t,i,n){this._username=e,this._password=t,this._headers=new Map,this._includeCredentialsDuringCORS=!1,this._requestTracker=i,this._xmlHttpRequestImplementation=n}).prototype;e.addHeader=function(e,t){this._headers.set(e,t)},e.removeHeader=function(e){this._headers.delete(e)},e.getHeaderValue=function(e){var t;return this._headers.has(e)&&(t=this._headers.get(e).trim()),t},e.listHeaders=function(){var e=[];return this._headers.forEach(function(t,i){e.push(i.trim()+": "+t.trim())}),e.join("\r\n")},e.createRequest=function(e,t){var i,n=this,r=n._xmlHttpRequestImplementation,a=new Uint8Array(0),s=new r;n._requestTracker.addRequest(s);var o,l,d={},h=!1,c=function(e){!0!==h&&(h=!0,Object.keys(d).forEach(function(e){s.removeEventListener(e,d[e])}),n._requestTracker.removeRequest(s),t(e))};d.load=function(){if(0!==s.status){var e="HTTP/1.1 "+s.status+" "+s.statusText+"\r\n"+s.getAllResponseHeaders(),t=new Uint8Array(s.response);c({header:e,body:t,status:s.status,labviewCode:Yn.CODE,errorMessage:Yn.MESSAGE,requestException:void 0})}else c({header:"",body:a,status:0,labviewCode:or.CODE,errorMessage:or.MESSAGE,requestException:void 0})},d.error=function(){c({header:"",body:a,status:0,labviewCode:ir.CODE,errorMessage:ir.MESSAGE,requestException:void 0})},d.timeout=function(){c({header:"",body:a,status:0,labviewCode:Kn.CODE,errorMessage:Kn.MESSAGE,requestException:void 0})},d.abort=function(){c({header:"",body:a,status:0,labviewCode:er.CODE,errorMessage:er.MESSAGE,requestException:void 0})},Object.keys(d).forEach(function(e){s.addEventListener(e,d[e])});try{s.open(e.method,e.url,!0,n._username,n._password)}catch(e){return void c({header:"",body:a,status:0,labviewCode:Zn.CODE,errorMessage:Zn.MESSAGE,requestException:e})}var u=!1;try{n._headers.forEach(function(e,t){o=t,l=e,s.setRequestHeader(t,e),"content-type"===t.toLowerCase()&&(u=!0)})}catch(e){return i=nr.MESSAGE+"\nheader:"+o+"\nvalue:"+l,void c({header:"",body:a,status:0,labviewCode:nr.CODE,errorMessage:i,requestException:e})}!1===u&&void 0!==e.buffer&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.withCredentials=n._includeCredentialsDuringCORS,s.responseType="arraybuffer",s.timeout=e.xhrTimeout;try{void 0===e.buffer?s.send():s.send(e.buffer)}catch(e){return void c({header:"",body:a,status:0,labviewCode:ir.CODE,errorMessage:ir.MESSAGE,requestException:e})}},e.setIncludeCredentialsDuringCORS=function(e){this._includeCredentialsDuringCORS=e}}(),function(){var e,t=(Xn=function(){this._httpClients=new Map,this._runningRequestsTracker=new $n,"undefined"==typeof XMLHttpRequest?this._xmlHttpRequestImplementation=function(){throw new Error("Vireo could not find a global implementation of XMLHttpRequest Level 2. Please provide one to vireo.httpClient.setXMLHttpRequestImplementation to use the Vireo HTTP Client")}:this._xmlHttpRequestImplementation=XMLHttpRequest}).prototype,i=(e=1,function(){var t=e;return e+=1,t});t.create=function(e,t){var n=new Gn(e,t,this._runningRequestsTracker,this._xmlHttpRequestImplementation),r=i();return this._httpClients.set(r,n),r},t.createHttpClientWithoutHandle=function(e,t){return new Gn(e,t,this._runningRequestsTracker,this._xmlHttpRequestImplementation)},t.destroy=function(e){void 0!==this._httpClients.get(e)&&this._httpClients.delete(e)},t.get=function(e){return this._httpClients.get(e)},t.abortAllRunningRequests=function(){this._runningRequestsTracker.abortAllRunningRequests()},t.setXMLHttpRequestImplementation=function(e){if("function"!=typeof e)throw new Error("A valid function must be provided");this._xmlHttpRequestImplementation=e}}(),lr={CODE:44300,MESSAGE:"An exception occurred within the external JavaScript function called by a JavaScript Library Interface node. Verify your JavaScript code is valid."},dr={CODE:44302,MESSAGE:"Function not found. Verify the function name in the external JavaScript file matches the function name in the JavaScript Library Interface."},hr={CODE:44303,MESSAGE:"Unable to set return value for JavaScript Library Interface node parameter."},cr={CODE:44306,MESSAGE:"Return type mismatch. Verify the return type in the JavaScript Library Interface matches the return type in the external JavaScript function."},ur={CODE:44307,MESSAGE:"Unable to use Promise. Verify that the getCompletionCallback API function is not used in the external JavaScript function with a Promise return value."},pr={CODE:44308,MESSAGE:"Unable to set return value after call to getCompletionCallback API function. Verify return value is provided to the completion callback and not returned."},mr={CODE:1556,MESSAGE:"The reference is invalid. This error might occur because the reference has been deleted."};const vr=[Fn,Un,gr,function(e,t){e.httpClient={},t.httpClient={};var i=new Xn,n=["GET","HEAD","PUT","POST","DELETE"],r=function(t,n){var r,a=i.get(t);return void 0===a&&(r={status:!0,code:Qn.CODE,source:e.coreHelpers.createSourceFromMessage(Qn.MESSAGE)},e.coreHelpers.mergeErrors(n,r)),a};t.httpClient.abortAllRunningRequests=function(){i.abortAllRunningRequests()},t.httpClient.setXMLHttpRequestImplementation=function(e){i.setXMLHttpRequestImplementation(e)},e.httpClient.jsHttpClientOpen=function(t,n,r,a,s,o,l,d,h,c,u,p){var m,f=e.eggShell.createValueRef(t,n),g=e.eggShell.createValueRef(r,a),v=e.eggShell.createValueRef(s,o),b=e.eggShell.createValueRef(l,d),y=e.eggShell.createValueRef(h,c),_=e.eggShell.createValueRef(u,p),w=function(){e.eggShell.writeDouble(y,0)};if(""!==e.eggShell.readString(f))return m={status:!0,code:rr.CODE,source:e.coreHelpers.createSourceFromMessage(rr.MESSAGE)},e.coreHelpers.mergeErrors(_,m),void w();if(!0!=(0!==e.eggShell.readDouble(b)))return m={status:!0,code:ar.CODE,source:e.coreHelpers.createSourceFromMessage(ar.MESSAGE)},e.coreHelpers.mergeErrors(_,m),void w();var x=e.eggShell.readString(g),C=e.eggShell.readString(v),S=i.create(x,C);e.eggShell.writeDouble(y,S)},e.httpClient.jsHttpClientClose=function(t,n,r,a){var s,o=e.eggShell.createValueRef(t,n),l=e.eggShell.createValueRef(r,a),d=e.eggShell.readDouble(o);!1==(void 0!==i.get(d))&&(s={status:!0,code:Jn.CODE,source:e.coreHelpers.createSourceFromMessage(Jn.MESSAGE)},e.coreHelpers.mergeErrors(l,s)),i.destroy(d)},e.httpClient.jsHttpClientAddHeader=function(t,i,n,a,s,o,l,d){var h=e.eggShell.createValueRef(t,i),c=e.eggShell.createValueRef(n,a),u=e.eggShell.createValueRef(s,o),p=e.eggShell.createValueRef(l,d),m=e.eggShell.readDouble(h),f=r(m,p);if(void 0!==f){var g=e.eggShell.readString(c),v=e.eggShell.readString(u);f.addHeader(g,v)}},e.httpClient.jsHttpClientRemoveHeader=function(t,i,n,a,s,o){var l=e.eggShell.createValueRef(t,i),d=e.eggShell.createValueRef(n,a),h=e.eggShell.createValueRef(s,o),c=e.eggShell.readDouble(l),u=r(c,h);if(void 0!==u){var p=e.eggShell.readString(d);u.removeHeader(p)}},e.httpClient.jsHttpClientGetHeader=function(t,i,n,a,s,o,l,d){var h=e.eggShell.createValueRef(t,i),c=e.eggShell.createValueRef(n,a),u=e.eggShell.createValueRef(s,o),p=e.eggShell.createValueRef(l,d),m=function(){e.eggShell.writeString(u,"")},f=e.eggShell.readDouble(h),g=r(f,p);if(void 0!==g){var v,b=e.eggShell.readString(c),y=g.getHeaderValue(b);if(void 0===y)return v={status:!0,code:tr.CODE,source:e.coreHelpers.createSourceFromMessage(tr.MESSAGE+"\nheader:"+b)},e.coreHelpers.mergeErrors(p,v),void m();e.eggShell.writeString(u,y)}else m()},e.httpClient.jsHttpClientHeaderExists=function(t,i,n,a,s,o,l,d,h,c){var u=e.eggShell.createValueRef(t,i),p=e.eggShell.createValueRef(n,a),m=e.eggShell.createValueRef(s,o),f=e.eggShell.createValueRef(l,d),g=e.eggShell.createValueRef(h,c),v=function(){e.eggShell.writeDouble(m,0),e.eggShell.writeString(f,"")},b=e.eggShell.readDouble(u),y=r(b,g);if(void 0!==y){var _=e.eggShell.readString(p),w=y.getHeaderValue(_);!1!=(void 0!==w)?(e.eggShell.writeDouble(m,1),e.eggShell.writeString(f,w)):v()}else v()},e.httpClient.jsHttpClientListHeaders=function(t,i,n,a,s,o){var l=e.eggShell.createValueRef(t,i),d=e.eggShell.createValueRef(n,a),h=e.eggShell.createValueRef(s,o),c=e.eggShell.readDouble(l),u=r(c,h);if(void 0!==u){var p=u.listHeaders();e.eggShell.writeString(d,p)}else e.eggShell.writeString(d,"")},e.httpClient.jsHttpClientMethod=function(t,a,s,o,l,d,h,c,u,p,m,f,g,v,b,y,_,w,x,C){var S,T,P,I,E,D,k,j=e.eggShell.createValueRef(a,s),M=e.eggShell.createValueRef(o,l),A=e.eggShell.createValueRef(d,h),N=e.eggShell.createValueRef(p,m),q=e.eggShell.createValueRef(f,g),O=e.eggShell.createValueRef(v,b),B=e.eggShell.createValueRef(y,_),R=e.eggShell.createValueRef(w,x),V=e.eggShell.readDouble(j),H=function(){e.eggShell.writeString(q,""),e.eggShell.writeDouble(B,0),void 0!==O&&e.eggShell.writeString(O,""),e.eggShell.setOccurrenceAsync(C)},L=n[t];if(void 0!==A&&""!==e.eggShell.readString(A))return S={status:!0,code:sr.CODE,source:e.coreHelpers.createSourceFromMessage(sr.MESSAGE)},e.coreHelpers.mergeErrors(R,S),void H();if(0!==u&&(T=e.eggShell.createValueRef(c,u),I=e.eggShell.readTypedArray(T),P="undefined"==typeof Blob?I:new Blob([I])),0===V)E=i.createHttpClientWithoutHandle("","");else if(void 0===(E=r(V,R)))return void H();D=void 0===N?1e4:(k=e.eggShell.readDouble(N))<0?0:0===k?1:k;var z={method:L,url:e.eggShell.readString(M),xhrTimeout:D,buffer:P};E.createRequest(z,function(t){e.eggShell.writeString(q,t.header),e.eggShell.writeDouble(B,t.status),void 0!==O&&(e.eggShell.resizeArray(O,[t.body.length]),e.eggShell.writeTypedArray(O,t.body));var i=e.coreHelpers.formatMessageWithException(t.errorMessage,t.requestException),n={status:t.labviewCode!==Yn.CODE,code:t.labviewCode,source:e.coreHelpers.createSourceFromMessage(i)};e.coreHelpers.mergeErrors(R,n),e.eggShell.setOccurrenceAsync(C)})},e.httpClient.jsHttpClientConfigCORS=function(t,i,n,a,s,o){var l=e.eggShell.createValueRef(t,i),d=e.eggShell.createValueRef(n,a),h=e.eggShell.createValueRef(s,o),c=e.eggShell.readDouble(l),u=0!==e.eggShell.readDouble(d),p=r(c,h);void 0!==p&&p.setIncludeCredentialsDuringCORS(u)}},function(e,t){e.javaScriptInvoke={},t.javaScriptInvoke={};var i=new Map,n=function(t,i,n,r){var a={status:!0,code:void 0,source:void 0},s=e.coreHelpers.formatMessageWithException(n.MESSAGE+"\nfunction: "+i,r);a.source=e.coreHelpers.createSourceFromMessage(s),a.code=n.CODE,e.coreHelpers.mergeErrors(t,a)},r=function(t,i){var n=e._JavaScriptInvoke_GetParameterTypeRef(t,i),r=e._JavaScriptInvoke_GetParameterDataRef(t,i);return e.eggShell.createValueRef(n,r)},a=new Map,s=new Map,o=0,l=function(e){return a.has(e)};e.javaScriptInvoke.readJavaScriptRefNum=function(t){var i=e.eggShell.readDouble(t);return a.get(i)},e.javaScriptInvoke.writeJavaScriptRefNum=function(t,i){if(e.typeHelpers.isJSObjectStaticRefnum(t.typeRef)){var n=function(e){return s.get(e)}(i);if(void 0!==n)return void e.eggShell.writeDouble(t,n)}var r=o+=1;e.eggShell.writeDouble(t,r),function(e,t){a.set(e,t),s.set(t,e)}(r,i)};var d,h={visitInt8:d=function(t){return e.eggShell.readDouble(t)},visitInt16:d,visitInt32:d,visitUInt8:d,visitUInt16:d,visitUInt32:d,visitSingle:d,visitDouble:d,visitBoolean:function(t){return 0!==e.eggShell.readDouble(t)},visitString:function(t){return e.eggShell.readString(t)},visitArray:function(t){return e.eggShell.readTypedArray(t)},visitJSObjectRefnum:function(t,i){var r=e.eggShell.readDouble(t);if(l(r))return e.eggShell.readJavaScriptRefNum(t);!function(e){e.errorOccurred=!0,n(e.errorValueRef,e.functionName,mr)}(i)}},c=function(){var t=function(e){return function(t,i){try{e(t,i)}catch(e){n(i.errorValueRef,i.functionName,hr,e)}}},i=function(e){n(e.errorValueRef,e.functionName,cr)},r=t(function(t,n){"number"==typeof n.returnValue?e.eggShell.writeDouble(t,n.returnValue):i(n)});return{visitInt8:r,visitInt16:r,visitInt32:r,visitUInt8:r,visitUInt16:r,visitUInt32:r,visitSingle:r,visitDouble:r,visitBoolean:t(function(t,n){"boolean"==typeof n.returnValue?e.eggShell.writeDouble(t,n.returnValue?1:0):i(n)}),visitString:t(function(t,n){"string"==typeof n.returnValue?e.eggShell.writeString(t,n.returnValue):i(n)}),visitArray:t(function(t,n){e.eggShell.isSupportedAndCompatibleArrayType(t,n.returnValue)?(e.eggShell.resizeArray(t,[n.returnValue.length]),e.eggShell.writeTypedArray(t,n.returnValue)):i(n)}),visitJSObjectRefnum:t(function(t,i){e.eggShell.writeJavaScriptRefNum(t,i.returnValue)})}}(),u="AVAILABLE",p="RETRIEVED",m="UNRETRIEVABLE",f="PENDING",g="FULFILLED",v="REJECTED",b=function(e){return e instanceof Error==0?new Error(e):e},y=function(e){return e instanceof Error},_=function(e,t,i,r,a){if(y(t)){if(a)throw t;n(i,e,lr,t),r.retrievalState=m,r.invocationState=v}},w=function(t,i,n,r,a,s){var o;if(s){if(void 0!==n)throw new Error("Unexpected return value, internal functions should update return values through api functions instead of relying on return values")}else void 0!==i&&(o={returnValue:n,errorValueRef:r,functionName:t},e.eggShell.reflectOnValueRef(c,i,o)),a.retrievalState=m,a.invocationState=g},x=function(t,i,n,r,a,s){var o={};return s&&(o.setLabVIEWError=function(t,i,n){var a={status:t,code:i,source:n};e.coreHelpers.mergeErrors(r,a)}),{jsapi:o,getCompletionCallback:function(){if(a.retrievalState===p)throw new Error(`The completion callback was retrieved more than once for ${i}.`);if(a.retrievalState===m)throw new Error(`The API being accessed for ${i} is not valid anymore.`);return a.retrievalState=p,function(t,i,n,r,a,s){return function(o){if(a.invocationState===g)throw new Error(`The completion callback was invoked more than once for ${i}.`);if(a.invocationState===v)throw new Error(`The call to ${i} threw an error, so this callback cannot be invoked.`);if(y(o))return _(i,o,r,a,s),void e.eggShell.setOccurrenceAsync(t);w(i,n,o,r,a,s),e.eggShell.setOccurrenceAsync(t)}}(t,i,n,r,a,s)}}};t.javaScriptInvoke.registerInternalFunctions=function(e){Object.keys(e).forEach(function(t){if(i.has(t))throw new Error(`Internal function already registered for name:${t}`);if("function"!=typeof e[t])throw new Error(`Cannot add non-function ${t} as a function.`);i.set(t,e[t])})},e.javaScriptInvoke.jsJavaScriptInvoke=function(t,a,s,o,l,d,c,p,v){var C=0!==c,S=e.eggShell.createValueRef(p,v),T=e.eggShell.createValueRef(a,s),P=e.eggShell.readString(T),I=function(e,t){if(t)return{functionToCall:i.get(e),context:void 0};var n,r="undefined"!=typeof self?self:{},a="undefined"!=typeof global?global:r,s="undefined"!=typeof window?window:a,o=e.split("."),l=s[o[0]];for(n=1;n<o.length&&void 0!==l;n+=1)l=(s=l)[o[n]];return"function"!=typeof l&&(l=void 0,s=void 0),{functionToCall:l,context:s}}(P,C),E=I.functionToCall,D=I.context;if(void 0===E){if(C)throw new Error(`Unable to find internal JS function: ${P}`);return n(S,P,dr),void e.eggShell.setOccurrence(t)}var k=[],j=r(o,0);if(C&&k.push(j),function(t,i,n,a,s,o){for(var l={errorOccurred:!1,errorValueRef:s,functionName:t},d=i.length,c=0;c<a;c+=1){var u=r(n,c);if(o)i[d+c]=u;else if(i[d+c]=e.eggShell.reflectOnValueRef(h,u,l),l.errorOccurred)break}return!l.errorOccurred}(P,k,l,d,S,C)){var M,A,N,q={retrievalState:u,invocationState:f};C&&(M=x(t,P,j,S,q,C),k.push(M.jsapi));try{A=E.apply(D,k)}catch(e){A=b(e)}if(y(A))return _(P,A,S,q,C),void e.eggShell.setOccurrence(t);if(A instanceof Promise){if(q.retrievalState!==u){if(C)throw new Error("Promise returned but completionCallback unavailable. Possible reason is using getCompletionCallback when returning a promise");return n(S,P,ur),q.retrievalState=m,q.invocationState=g,void e.eggShell.setOccurrence(t)}return void 0===M&&(M=x(t,P,j,S,q,C)),N=M.getCompletionCallback(),void A.then(N).catch(e=>N(b(e)))}if(q.retrievalState===u)return w(P,j,A,S,q,C),void e.eggShell.setOccurrence(t);if(void 0!==A){if(C)throw new Error("Unexpected return value for function requiring asynchronous completion");return n(S,P,pr),q.retrievalState=m,q.invocationState=g,void e.eggShell.setOccurrence(t)}}else e.eggShell.setOccurrence(t)},e.javaScriptInvoke.jsIsNotAJavaScriptRefnum=function(t,i,n,r){var a=e.eggShell.createValueRef(t,i),s=e.eggShell.createValueRef(n,r),o=e.eggShell.readDouble(a),d=!l(o);e.eggShell.writeDouble(s,d?1:0)},e.javaScriptInvoke.jsCloseJavaScriptRefNum=function(t,i,n,r){var s=e.eggShell.createValueRef(t,i);if(e.typeHelpers.isJSObjectDynamicRefnum(s.typeRef)){var o=e.eggShell.readDouble(s);if(!a.delete(o)){var l=e.eggShell.createValueRef(n,r),d={status:!0,code:mr.CODE,source:mr.MESSAGE};e.coreHelpers.mergeErrors(l,d)}}}},function(e,t){e.eventHelpers={},t.eventHelpers={};var i=function(){throw new Error("No event registration callback was supplied")},n=function(){throw new Error("No event un-registration callback was supplied")};e.eventHelpers.jsRegisterForControlEvent=function(t,n,r,a){var s=e.eggShell.dataReadString(t);i(s,n,r,a)},e.eventHelpers.jsUnRegisterForControlEvent=function(t,i,r,a){var s=e.eggShell.dataReadString(t);n(s,i,r,a)},t.eventHelpers.setRegisterForControlEventsFunction=e.eventHelpers.setRegisterForControlEventsFunction=function(e){if("function"!=typeof e)throw new Error("RegisterForControlEvents must be a callable function");i=e},t.eventHelpers.setUnRegisterForControlEventsFunction=e.eventHelpers.setUnRegisterForControlEventsFunction=function(e){if("function"!=typeof e)throw new Error("UnRegisterForControlEvents must be a callable function");n=e},t.eventHelpers.occurEvent=e.eventHelpers.occurEvent=function(t,i,n,r,a,s){var o=e.eggShell.allocateData(a.typeRef);r(o,s),e._OccurEvent(e.eggShell.v_userShell,t,i,n,o.typeRef,o.dataRef),e.eggShell.deallocateData(o)}}];class br{constructor(e){let t=this;vr.forEach(function(i){i(e,t)})}}const yr=function(e){return"object"==typeof e&&null!==e};var _r={createInstance:function(e,t){if(void 0!==t&&!yr(t))throw new Error("The createInstance config parameter must be a valid configuration object or ommitted altogether, received: "+t);const i=function(e){const t=yr(e)&&yr(e.customModule)?e.customModule:{};if(void 0!==t.TOTAL_MEMORY)throw new Error("Vireo no longer supports configuration of TOTAL_MEMORY. As growable memory is always enabled, configuration of TOTAL_MEMORY is no longer allowed.");return yr(e)&&"string"==typeof e.wasmUrl&&(t.locateFile=function(t,i){return t.endsWith(".wasm")?e.wasmUrl:i+t}),t.vireoPrint=function(e){console.log(e)},t.vireoPrintErr=function(e){console.error(e)},t.print=function(e){t.vireoPrint(e)},t.printErr=function(e){t.vireoPrintErr(e)},t.vireoWasmReady=new Promise(function(e,i){t.onRuntimeInitialized=function(){t.onAbort=void 0,e()},t.onAbort=function(){i()}}),Object.defineProperty(t,"then",{set:function(){},get:function(){}}),t}(t);return e(i),i.vireoWasmReady.then(function(){return new br(i)})}.bind(void 0,zn),staticHelpers:fr};class wr extends In{constructor(e,t){super(e),this.controlModels={},this.controlViewModels={},this._viName=void 0,this.__viRef=void 0,this._frontPanelControlId=void 0,this._webAppModel=t}get[kn.NIRootModelSymbol](){return!0}get viName(){return this._viName}set viName(e){if(this._viName===e&&void 0===e)throw new Error("Cannot change viName after it has been assigned a valid value");this._viName=e,this.notifyModelPropertyChanged("viName")}get viRef(){return this._viRef}set viRef(e){if(this._viRef===e&&void 0===e)throw new Error("Cannot change viRef after it has been assigned a valid value");this._viRef=e,this.notifyModelPropertyChanged("viRef")}detachFromWebApp(){this._webAppModel=void 0}getOwner(){}getOwningWebApplication(){return this._webAppModel}addFrontPanelControlModel(e){if(!$t.isElement(e))throw new Error("Only Html Custom Elements can be registered to a Virtual Instrument");if(this.viRef!==e.viRef)throw new Error('The element with ni-control-id "'+e.niControlId+'" and with vi-ref "'+e.viRef+'" is trying to incorrectly register with a VI with vi-ref "'+this.viRef+'"');const t=$t.queryAllControlsByNIControlId(e.viRef,e.niControlId),i=e.niControlId;if(""===i||1!==t.length)throw new Error("Element with niControlId="+i+" must have a unique niControlId to be registered to this VI");if(void 0!==this.controlModels[i]||void 0!==this.controlViewModels[i])throw new Error("The model or viewmodel for this control already exists ("+i+")");if("ni-front-panel"===e.elementInfo.tagName){if(void 0!==this._frontPanelControlId)throw new Error("The front panel Control ID for this panel is already set to "+this._frontPanelControlId);this._frontPanelControlId=i}let n,r=this;for(n=e.parentElement;null!==n;n=n.parentElement)if($t.isElement(n)){r=this.controlViewModels[n.niControlId].model;break}const a=Pn.tagNameToModelKind(e.elementInfo.tagName),s=Pn.makeModel(a,i);s.setOwner(r),r instanceof Hn&&r.addChildModel(s),void 0!==e._temporaryModelSettingsHolder&&s.setMultipleProperties(e._temporaryModelSettingsHolder,$i.editorToJsModel);const o=Pn.makeViewModel(e,s);return void 0!==e._temporaryModelSettingsHolder?(o.applyModelToElement(),e._temporaryModelSettingsHolder=void 0):o.updateModelFromElement(),s.registerListener(o),this.updateModelAndViewModelMapping(i,s,o),$t.infoVerbose("add Model "+i),{controlModel:s,controlViewModel:o}}updateModelAndViewModelMapping(e,t,i){this.controlModels[e]=t,this.controlViewModels[e]=i}removeFrontPanelControl(e){if(!$t.isElement(e))throw new Error("Only Visual Component Elements can be unregistered from a Virtual Instrument");const t=e.niControlId,i=this.controlModels[t],n=this.controlViewModels[t];if(i instanceof jn==!1||n instanceof Nn==!1)throw new Error("This VIModel does not contain a control with niControlId: "+t);return $t.infoVerbose("remove Model "+t),i.getOwner()instanceof Hn&&i.getOwner().removeChildModel(i),i.unregisterListener(n),delete this.controlModels[t],delete this.controlViewModels[t],this._frontPanelControlId===t&&(this._frontPanelControlId=void 0),{controlModel:i,controlViewModel:n}}getControlViewModel(e){return this.controlViewModels[e]}getControlModel(e){return this.controlModels[e]}getAllControlModels(){return this.controlModels}getFrontPanelControlModel(){return this.controlModels[this._frontPanelControlId]}getFrontPanelControlViewModel(){return this.controlViewModels[this._frontPanelControlId]}processControlUpdate(e,t,i){const n=this.controlModels[e];void 0!==n?n.setMultipleProperties(t,i):$t.infoVerbose("Cannot find the control model with id ("+e+") to update the properties("+Object.keys(t).join(",")+")")}async processControlUpdateToSetGPropertyValueAsync(e,t,i){const n=this.controlViewModels[e];if(void 0===n)throw new Error("Cannot find the control view model with id ("+e+") to update the value of ("+t+")");n.shouldUseAsyncSetGPropertyValue(t)?await n.setGPropertyValueAsync(t,i):n.setGPropertyValue(t,i)}processControlUpdateToGetGPropertyValue(e,t){const i=this.controlViewModels[e];if(void 0!==i)return i.getGPropertyValue(t);throw new Error("Cannot find the control view model with id ("+e+") to get value of ("+t+")")}invokeControlFunction(e,t,i){const n=this.controlViewModels[e];if(void 0!==n)return n.invokeInternalControlFunction(t,i);throw new Error("Cannot find the control view model with id ("+e+") to call method ("+t+")")}controlChanged(e,t,i,n){this.getOwningWebApplication().controlChanged(this,e,t,i,n)}internalControlEventOccurred(e,t,i){this.getOwningWebApplication().internalControlEventOccurred(this,e,t,i)}controlEventOccurred(e,t,i){this.getOwningWebApplication().controlEventOccurred(this,e,t,i)}requestSendControlBounds(){this.getOwningWebApplication().requestSendControlBounds()}reinitializeToDefault(e){this.getOwningWebApplication().reinitializeToDefault(this,e)}getNameVireoEncoded(){return _r.staticHelpers.encodeIdentifier(this.viName)}enableEvents(){return this.getOwningWebApplication().enableEvents()}isInIdeMode(){return this.getOwningWebApplication().isInIdeMode()}ensureFocus(){this.getOwningWebApplication().ensureFocus()}}class xr{static get BORDER_WIDTH(){return"--ni-border-width"}static get PADDING(){return"--ni-padding"}static get MARGIN(){return"--ni-margin"}static get MAX_WIDTH(){return"--ni-max-width"}static get MIN_HEIGHT(){return"--ni-min-height"}static get TEXT_ALIGN(){return"--ni-text-align"}static get TEXT_ALIGN_AS_FLEX(){return"--ni-text-align-as-flex"}static get OVERFLOW_X(){return"--ni-overflow-x"}static get OVERFLOW_Y(){return"--ni-overflow-y"}static get FOREGROUND_COLOR(){return"--ni-foreground-color"}static get BORDER_COLOR(){return"--ni-border-color"}static get BORDER_GRADIENT(){return"--ni-border-gradient"}static get BACKGROUND(){return"--ni-background"}static get TRUE_FOREGROUND_COLOR(){return"--ni-true-foreground-color"}static get TRUE_BACKGROUND(){return"--ni-true-background"}static get CHECK_MARK_COLOR(){return"--ni-check-mark-color"}static get CONTENT_DISPLAY(){return"--ni-content-display"}static get FALSE_FOREGROUND_COLOR(){return"--ni-false-foreground-color"}static get FALSE_BACKGROUND(){return"--ni-false-background"}static get FALSE_CONTENT_DISPLAY(){return"--ni-false-content-display"}static get FILL(){return"--ni-fill-background"}static get SELECTED_BACKGROUND(){return"--ni-selected-background"}static get UNSELECTED_BACKGROUND(){return"--ni-unselected-background"}static get INACTIVE_BACKGROUND(){return"--ni-inactive-background"}static get INACTIVE_FOREGROUND_COLOR(){return"--ni-inactive-foreground-color"}static get FLEX_GROW(){return"--ni-flex-grow"}static get PLACEHOLDER_BACKGROUND(){return"--ni-placeholder-background"}}class Cr extends ni{addAllProperties(e){super.addAllProperties(e);const t=Cr.prototype;t.addProperty(e,{propertyName:"disabled",defaultValue:!1}),t.addProperty(e,{propertyName:"niControlId",defaultValue:""}),t.addProperty(e,{propertyName:"viRef",defaultValue:""}),t.addProperty(e,{propertyName:"followerIds",defaultValue:"[]"})}createdCallback(){super.createdCallback(),this._latestSize={width:void 0,height:void 0},this._temporaryModelSettingsHolder=void 0}attachedCallback(){const e=this;let t;!0!==e._preventModelCreation&&(t=Or.getVIViewModelByVIRef(e.viRef)).attachElementToModelAndViewModel(e);const i=super.attachedCallback();return i&&e.addEventListener("resizeEventHack",function(t){const i=parseInt(t.detail.width),n=parseInt(t.detail.height);e._latestSize.width===i&&e._latestSize.height===n||(e._latestSize.height=n,e._latestSize.width=i,e.forceResize(e._latestSize))}),i}detachedCallback(){const e=this;if(!0!==e._preventModelCreation){Or.getVIViewModelByVIRef(e.viRef).detachElementFromModelAndViewModel(e)}}forceResize(e){}clearInstanceSpecificProperties(){this.niControlId="",this.viRef="",this.followerIds="[]"}static defineElementInfo(e,t,i){ni.defineElementInfo(e,t,i),e.attachedCallback=this.generateAttachedCallback(e.attachedCallback)}static generateAttachedCallback(e){return function(){const t=this,i=e.apply(t,arguments),n=Or.getVIModelByVIRef(t.viRef),r=n.getControlModel(this.niControlId),a=n.getControlViewModel(this.niControlId);return!0!==t._preventModelCreation&&(a.bindToView(),!0===a._needsResizeHack&&t.dispatchEvent(new CustomEvent("resizeEventHack",{detail:{width:r.width,height:r.height}}))),i}}}class Sr extends Cr{addAllProperties(e){super.addAllProperties(e);const t=Sr.prototype;t.addProperty(e,{propertyName:"readOnly",defaultValue:!1}),t.addProperty(e,{propertyName:"bindingInfo",defaultValue:{prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1}}),t.addProperty(e,{propertyName:"labelId",defaultValue:""}),t.addProperty(e,{propertyName:"controlResizeMode",defaultValue:""}),t.addProperty(e,{propertyName:"labelAlignment",defaultValue:""})}clearInstanceSpecificProperties(){super.clearInstanceSpecificProperties(),this.bindingInfo={prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1},this.labelId=""}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r}}const Tr=Object.freeze({ABSOLUTE:"absolute",FLEXIBLE:"flexible"});class Pr extends Sr{static get LayoutsEnum(){return Tr}addAllProperties(e){super.addAllProperties(e),Pr.prototype.addProperty(e,{propertyName:"layout",defaultValue:Ir.ABSOLUTE})}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"layout":this.updateLayoutForChildren()}}updateLayoutForChildren(){if(this.hasChildNodes())for(let e=0;e<this.childNodes.length;++e)$t.isElement(this.childNodes[e])&&(this.childNodes[e].layout=this.layout)}}const Ir=Pr.LayoutsEnum,Er=function(e){const t=window.getComputedStyle(e.element);return{left:parseInt(t.left),top:parseInt(t.top),width:parseInt(t.width),height:parseInt(t.height)}};class Dr extends Nn{constructor(e,t){super(e,t),this.registerAutoSyncProperty("labelId"),this.registerAutoSyncProperty("controlResizeMode"),this.registerAutoSyncProperty("labelAlignment")}static get INVALID_PROPERTY_VALUE_ERROR_CODE(){return 1077}bindFocusEventListener(){const e=this,t=function(t){return function(i){const n=i.target,r=n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement&&"button"!==n.type;e.model.internalControlEventOccurred("Focus",{isFocused:t,isTextEdit:r})}};e.element.addEventListener("focus",t(!0),!0),e.element.addEventListener("blur",t(!1),!0)}getReadOnlyPropertyName(){return"readOnly"}computeReadOnlyForElement(){return!this.model.isInIdeMode()&&this.model.readOnly}bindToView(){super.bindToView();const e=this;!0===e.enableEvents()&&e.element.addEventListener("mousedown",function(t){const i={x:t.clientX,y:t.clientY,buttons:t.buttons,count:t.detail,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey};e.model.controlEventOccurred("mousedown",i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"width":case"height":this.model.requestSendControlBounds(),this.setWidthAndHeightToRenderBuffer(this.getModelBounds(),t);break;case"top":case"left":this.setPositionToRenderBuffer(this.getModelBounds(),t);break;case"borderWidth":t.cssStyles[xr.BORDER_WIDTH]=this.model.borderWidth;break;case"borderColor":t.cssStyles[xr.BORDER_COLOR]=this.model.borderColor;break;case"margin":t.cssStyles[xr.MARGIN]=this.model.margin;break;case"padding":t.cssStyles[xr.PADDING]=this.model.padding;break;case"visible":this.model.visible?t.cssClasses.toRemove.push("ni-hidden"):t.cssClasses.toAdd.push("ni-hidden"),this.model.requestSendControlBounds();break;case"foreground":t.cssStyles[xr.FOREGROUND_COLOR]=this.model.foreground;break;case"background":t.cssStyles[xr.BACKGROUND]=this.model.background;break;case"fontSize":case"fontWeight":case"fontStyle":case"fontFamily":case"textDecoration":this.element.setFont(this.model.fontSize,this.model.fontFamily,this.model.fontWeight,this.model.fontStyle,this.model.textDecoration);break;case"enabled":t.properties.disabled=!this.model.enabled;break;case"readOnly":{this.model.isInIdeMode()&&(this.model.readOnly?t.cssClasses.toAdd.push("ni-edit-time-indicator"):t.cssClasses.toRemove.push("ni-edit-time-indicator"));const e=this.computeReadOnlyForElement();t.properties[this.getReadOnlyPropertyName()]=e;break}case"owningControlVisible":this.isFollower()&&this.owningControlVisibleModelPropertyChanged(t);break;case"labelAlignment":this.model.requestSendControlBounds()}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.model,t=this.element,i=window.getComputedStyle(t);e.top=i.getPropertyValue("top"),e.left=i.getPropertyValue("left"),this.shouldElementUseModelWidth()&&(e.width=i.getPropertyValue("width")),this.shouldElementUseModelHeight()&&(e.height=i.getPropertyValue("height")),e.borderWidth=i.getPropertyValue(xr.BORDER_WIDTH),e.borderColor=i.getPropertyValue(xr.BORDER_COLOR),e.margin=i.getPropertyValue(xr.MARGIN),e.padding=i.getPropertyValue(xr.PADDING),e.fontSize=i.getPropertyValue("font-size"),e.fontFamily=i.getPropertyValue("font-family"),e.fontWeight=i.getPropertyValue("font-weight"),e.fontStyle=i.getPropertyValue("font-style"),e.textDecoration=i.getPropertyValue("text-decoration"),e.visible=!t.classList.contains("ni-hidden"),e.foreground=i.getPropertyValue(xr.FOREGROUND_COLOR),e.background=i.getPropertyValue(xr.BACKGROUND),e.enabled=!t.disabled,e.readOnly=t[this.getReadOnlyPropertyName()],e.setBindingInfo(t.bindingInfo),this.isFollower()&&(this.model.owningControlVisible=!this.element.classList.contains("ni-owning-control-hidden"))}applyModelToElement(){super.applyModelToElement();const e=this.model,t=this.element;this.shouldElementUseModelPosition()?(t.style.top=e.top,t.style.left=e.left):(t.style.top="auto",t.style.left="auto"),this.shouldElementUseModelWidth()?t.style.width=e.width:t.style.width="auto",this.shouldElementUseModelHeight()?t.style.height=e.height:t.style.height="auto",t.style.setProperty(xr.BORDER_WIDTH,e.borderWidth),t.style.setProperty(xr.BORDER_COLOR,e.borderColor),t.style.setProperty(xr.MARGIN,e.margin),t.style.setProperty(xr.PADDING,e.padding),t.style.setProperty(xr.FOREGROUND_COLOR,e.foreground),t.style.setProperty(xr.BACKGROUND,e.background),t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.textDecoration=e.textDecoration,e.visible?t.classList.remove("ni-hidden"):t.classList.add("ni-hidden"),t.bindingInfo=e.getBindingInfo();const i=this.computeReadOnlyForElement();t[this.getReadOnlyPropertyName()]=i,t.readOnly=i,this.model.isInIdeMode()&&this.model.readOnly&&t.classList.add("ni-edit-time-indicator"),t.disabled=!e.enabled,this.isFollower()&&this.applyOwningControlModelVisiblePropertyToElement()}setPositionToRenderBuffer(e,t){this.shouldElementUseModelPosition()?(t.cssStyles.top=e.top+"px",t.cssStyles.left=e.left+"px"):(t.cssStyles.top="auto",t.cssStyles.left="auto")}setWidthAndHeightToRenderBuffer(e,t){this.shouldElementUseModelWidth()?t.cssStyles.width=e.width+"px":t.cssStyles.width="auto",this.shouldElementUseModelHeight()?t.cssStyles.height=e.height+"px":t.cssStyles.height="auto"}getModelBounds(){return{left:parseInt(this.model.left),top:parseInt(this.model.top),width:parseInt(this.model.width),height:parseInt(this.model.height)}}shouldApplyDraggingStyleWithChild(){return!1}isFollower(){return!1}owningControlVisibleModelPropertyChanged(e){this.model.owningControlVisible?e.cssClasses.toRemove.push("ni-owning-control-hidden"):e.cssClasses.toAdd.push("ni-owning-control-hidden")}applyOwningControlModelVisiblePropertyToElement(){this.model.owningControlVisible?this.element.classList.remove("ni-owning-control-hidden"):this.element.classList.add("ni-owning-control-hidden")}*followerModels(){const e=this.model,t=e.getRoot(),i=e.followerIds;if(void 0!==i){let e=0;for(e in i)yield t.controlModels[i[e]]}}updateFollowersVisibility(e){for(const t of this.followerModels())t.owningControlVisible=e}isInsideFlexibleContainer(){let e=this.element.parentElement;const t=Pr.LayoutsEnum;for(;void 0===e.layout;){if(null===e.parentElement||void 0===e.parentElement)return!1;e=e.parentElement}return e.layout===t.FLEXIBLE}errorIfFlexibleContainer(e,t){if(this.isInsideFlexibleContainer())throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED_IN_FLEX",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);return t()}moveFollowers(e,t){for(const i of this.followerModels())i.left=`${parseInt(i.left)+e}px`,i.top=`${parseInt(i.top)+t}px`}setSize(e,t){this.model.width=`${e}px`,this.model.height=`${t}px`}shouldUseAsyncSetGPropertyValue(e){switch(e){case Hn.KEY_FOCUS_G_PROPERTY_NAME:return!0;default:return super.shouldUseAsyncSetGPropertyValue(e)}}async setGPropertyValueAsync(e,t){switch(e){case Hn.KEY_FOCUS_G_PROPERTY_NAME:await en.waitForFrameUpdate(),t?(this.model.ensureFocus(),this.element.focus()):this.element.contains(document.activeElement)&&document.activeElement.blur();break;default:await super.setGPropertyValueAsync(e,t)}}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.POSITION_G_PROPERTY_NAME:this.errorIfFlexibleContainer(e,()=>{const e=t.Left-parseInt(this.model.left),i=t.Top-parseInt(this.model.top);this.moveFollowers(e,i),this.model.left=`${t.Left}px`,this.model.top=`${t.Top}px`});break;case Hn.SIZE_G_PROPERTY_NAME:this.errorIfFlexibleContainer(e,()=>{this.setSize(t.Width,t.Height)});break;case Hn.DISABLED_G_PROPERTY_NAME:i.enabled=!t,i.updateLabelDisabledState(t);break;case Hn.VISIBLE_G_PROPERTY_NAME:i.visible=t,this.updateFollowersVisibility(t);break;case Hn.LABEL_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_SET",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model,i=this;switch(e){case Hn.POSITION_G_PROPERTY_NAME:return this.errorIfFlexibleContainer(e,()=>({Left:parseInt(this.model.left),Top:parseInt(this.model.top)}));case Hn.SIZE_G_PROPERTY_NAME:return this.errorIfFlexibleContainer(e,async function(){await en.waitForFrameUpdate();const e=window.getComputedStyle(i.element);return{Width:parseInt(e.width),Height:parseInt(e.height)}});case Hn.DISABLED_G_PROPERTY_NAME:return!t.enabled;case Hn.VISIBLE_G_PROPERTY_NAME:return this.isFollower()?t.visible&&t.owningControlVisible:t.visible;case Hn.LABEL_G_PROPERTY_NAME:{const i=t.getRoot();if(void 0!==i&&""!==t.labelId)return i.controlViewModels[t.labelId];throw new Wi($t.i18n("msg_REFERENCE_PROPERTY_NOT_AVAILABLE",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}case Hn.TOTAL_BOUNDS_G_PROPERTY_NAME:return this.errorIfFlexibleContainer(e,async function(){return await en.waitForFrameUpdate(),i.getTotalBounds()});case Hn.LABEL_RUNTIME_ID:if(void 0===t.labelId)throw new Error($t.i18n("msg_PROPERTY_CANNOT_BE_GET",Hn.LABEL_G_PROPERTY_NAME));return t.labelId;case Hn.KEY_FOCUS_G_PROPERTY_NAME:return this.element.contains(document.activeElement);default:return super.getGPropertyValue(e)}}invokeInternalControlFunction(e,t){switch(e){case"reinitializeToDefault":return void this.model.reinitializeToDefault();default:super.invokeInternalControlFunction(e,t)}}getTotalBounds(){const e=this.model,t=e.getRoot(),i=Er(this);let n=i.left,r=i.top,a=n+i.width,s=r+i.height;return e.followerIds.forEach(e=>{const i=t.controlViewModels[e];if(i.model.visible){const e=Er(i);n=Math.min(n,e.left),r=Math.min(r,e.top),a=Math.max(a,e.left+e.width),s=Math.max(s,e.top+e.height)}}),{Left:n,Top:r,Width:a-n,Height:s-r}}shouldElementUseModelHeight(){return!0}shouldElementUseModelWidth(){return!0}shouldElementUseModelPosition(){return!this.model.isInFlexibleLayout()}}const kr=bn.UserInteractionState,jr=bn.InteractiveOperationKind;class Mr extends En{constructor(e,t){if(super(e,t),this.model instanceof wr==!1)throw new Error($t.i18n("msg_INVALID_VI_MODEL"));if(this.element instanceof qn==!1)throw new Error($t.i18n("msg_INVALID_ELEMENT"));this._userInteracting={}}addFrontPanelControlViewModel(e){if(e instanceof Nn==!1)throw new Error("Only Visual Component ViewModels can be registered to a Virtual Instrument View Model");const t=e.model.getOwner();t instanceof jn&&this.model.getControlViewModel(t.niControlId).onChildViewModelAdded(e),e instanceof Dr&&this.isUserInteracting(e.model.niControlId)&&e.userInteractionChanged(kr.START,jr.MOVE)}removeFrontPanelControlViewModel(e){let t;if(e instanceof Nn==!1)throw new Error("Only Visual Component ViewModels can be registered to a Virtual Instrument View Model");const i=e.model.getOwner();i instanceof jn&&(t=this.model.getControlViewModel(i.niControlId))instanceof Nn&&this.model.getControlViewModel(i.niControlId).onChildViewModelRemoved(e)}attachElementToModelAndViewModel(e){const t=this.model.addFrontPanelControlModel(e);return this.addFrontPanelControlViewModel(t.controlViewModel),t}detachElementFromModelAndViewModel(e){const t=this.model.getControlViewModel(e.niControlId);this.removeFrontPanelControlViewModel(t),this.model.removeFrontPanelControl(e)}updateModelFromElement(){super.updateModelFromElement(),this.model.viName=this.element.viName,this.model.viRef=this.element.viRef}setUserInteracting(e){this._userInteracting[e]=!0}clearUserInteracting(e){this._userInteracting[e]=void 0}isUserInteracting(e){return!0===this._userInteracting[e]}}const Ar={},Nr={},qr={};class Or{static registerVIElement(e){if(e instanceof qn==!1)throw new Error("The viReferenceService only registers ni-virtual-instrument elements");if(void 0!==Ar[e.viRef])throw new Error("A virtual instrument with the following vi-ref has already been defined: "+e.viRef);if(void 0!==qr[e.viRef])throw new Error("A web application containing the following vi-ref has already been defined: "+e.viRef);const t=e.parentElement;if(t instanceof Fa==!1)throw new Error("Virtual Instrument Elements must be direct children of Web Application Elements for registration to complete");const i=Va.getModel(t);if(void 0===i)throw new Error("Web Application View Model has not been created yet");const n=new wr(void 0,i),r=new Mr(e,n);if(r.updateModelFromElement(),n.registerListener(r),void 0!==i.getVirtualInstrumentModelsProvider().getVIModels()[n.viName])throw new Error("Web applications cannot have multiple VIs with the same name");i.attachVIModel(n),Ar[n.viRef]=n,Nr[n.viRef]=r,qr[n.viRef]=i}static unregisterVIElement(e){const t=Ar[e.viRef],i=Nr[e.viRef],n=qr[e.viRef];if(t instanceof wr==!1||i instanceof Mr==!1||n instanceof Na==!1)throw new Error("ni-virtual-instrument with vi-ref ("+e.viRef+") and vi-name ("+e.viName+") was not properly registered and cannot be unregistered");const r=n.getVirtualInstrumentModelsProvider().getVIModels();if(void 0===r||r[t.viName]instanceof wr==!1)throw new Error("ni-virtual-instrument with vi-ref ("+e.viRef+") and vi-name ("+e.viName+") was not properly registered and cannot be unregistered");t.unregisterListener(i),t.detachFromWebApp(),n.detachVIModel(t),Ar[e.viRef]=void 0,Nr[e.viRef]=void 0,qr[e.viRef]=void 0}static getVIModelByVIRef(e){if(void 0===Ar[e])throw new Error("Cannot find the VI");return Ar[e]}static getVIViewModelByVIRef(e){if(void 0===Nr[e])throw new Error("Cannot find the VI");return Nr[e]}static getWebAppModelByVIRef(e){if(void 0===qr[e])throw new Error("Cannot find the web app");return qr[e]}}const Br=bn.UserInteractionState,Rr=Object.freeze(Object.assign({},xi.ServiceStateEnum,{INITIALIZING:"INITIALIZING",LISTENING:"LISTENING"})),Vr=Object.freeze({PROPERTY_CHANGE:"PropertyChange",PROPERTY_CHANGE_MULTIPLE:"PropertyChangeMultiple",ADD_ELEMENT:"AddElement",ADD_OR_UPDATE_HTML_ELEMENT:"AddOrUpdateHtmlElement",REMOVE_ELEMENT:"RemoveElement",PROCESS_MODEL_UPDATE:"ProcessModelUpdate",PROCESS_INTERNAL_EVENT:"ProcessInternalEvent",BOUNDS_UPDATE:"BoundsUpdate",DOCUMENT_READY:"DocumentReady",UPDATE_SERVICE_STARTED:"UpdateServiceStarted",USERINTERACTION_CHANGED:"UserInteractionChanged",SET_PANEL_POSITION:"SetPanelPosition",INVOKE_CONTROL_FUNCTION:"InvokeControlFunction"});class Hr extends sn{constructor(){super(),this.windowEngineCallbacks={propertyChange:void 0,propertyChangeMultiple:void 0,addElement:void 0,addOrUpdateHtmlElement:void 0,removeElement:void 0,userInteractionChanged:void 0,setPanelPosition:void 0,invokeControlFunction:void 0},this.keyEventHandler={undoRedo:void 0}}static get StateEnum(){return Rr}static get BrowserMessagesEnum(){return Vr}isValidServiceState(e){return void 0!==Hr.StateEnum[e]}isInIdeMode(){return!0}initialize(){super.initialize(Lr.UNINITIALIZED,void 0),this.setServiceState(Lr.INITIALIZING)}finishInitializing(){super.finishInitializing(Lr.INITIALIZING),this.setServiceState(Lr.READY)}start(){super.start(Lr.READY);const e=this;$t.logVerbose("niEditorUpdateService start()"),e.windowEngineCallbacks.propertyChange=function(t){const i=t[0],n=t[1],r=t[2],a=JSON.parse(r);e.dispatchMessageToHTMLPanel(i,n,a,$i.editorToJsModel)},e.windowEngineCallbacks.propertyChangeMultiple=function(t){const i=t[0],n=t[1],r=t[2],a=JSON.parse(n),s=JSON.parse(r);let o;for(o=0;o<a.length;o++)e.dispatchMessageToHTMLPanel(i,a[o],s[o],$i.editorToJsModel)},e.windowEngineCallbacks.addElement=function(t){const i=t[0],n=JSON.parse(i);let r={};n.viRef="",(r={parentId:t[1],nextModelId:t[2],initialLoad:t[3],modelAttached:!0,extras:void 0,kind:void 0}).extras=n.extras,r.kind=n.kind,delete n.extras,delete n.kind,$t.infoVerbose("add Element (editor) "+r.kind+"("+n.niControlId+") "+n+" "+r);const a=Pn.modelKindToTagName(r.kind),s=sn.createNIControlToAddToDOM(n,a,n.niControlId,n.viRef,r.parentId),o=Or.getVIViewModelByVIRef(n.viRef),l="ni-flexible-layout-component"===s.parentElement.tagName.toLowerCase();let d,h;for(d in o.isUserInteracting(n.niControlId)?s.controlElement.classList.add("ni-is-being-dragged"):l&&s.parentElement.classList.remove("ni-is-being-dragged"),s.controlElement._modelMetadata=r,r.extras)r.extras.hasOwnProperty(d)&&s.controlElement.setAttribute(d,r.extras[d]);if(""!==r.nextModelId&&null===(h=$t.queryControlByNIControlId(n.viRef,r.nextModelId))&&($t.errorVerbose("Attempting to insert new element id ("+n.niControlId+") next to existing element id ("+r.nextModelId+") but the existing element cannot be found. Ignoring nextModelId and adding as child of parent."),h=void 0),void 0===s.parentElement)throw new Error("A child element was added to the DOM before its parent. ParentId: "+r.parentId+". child to add: "+n);void 0!==h?s.parentElement.insertBefore(s.controlElement,h):s.parentElement.appendChild(s.controlElement),e.boundsUpdateEventService.onElementAdded(s.controlElement,n.niControlId)},e.windowEngineCallbacks.addOrUpdateHtmlElement=function(t){const i=t[0],n=JSON.parse(t[1]),r=t[2],a=t[3];if(null===$t.queryControlByNIControlId("",n.niControlId)){const i=[t[1],r,"",a];e.windowEngineCallbacks.addElement(i)}else delete n.kind,e.dispatchMessageToHTMLPanel(i,n.niControlId,n,$i.editorToJsModel)},e.windowEngineCallbacks.removeElement=function(t){const i=t[0],n=t[1];if($t.infoVerbose("remove Element (editor)"+i+" "+t),null===$t.queryControlByNIControlId("",i))return void $t.errorVerbose("Attempted to remove an element with niControlId("+i+") but it could not be found. It is known that numerics are incorrectly removed multiple times, but if it was a different control this needs to be debugged further.");const r=sn.findNIControlToRemoveFromDOM(i,"");r.controlElement._modelMetadata.modelAttached=n,r.controlElement.parentNode.removeChild(r.controlElement),e.boundsUpdateEventService.onElementRemoved(i)},e.windowEngineCallbacks.userInteractionChanged=function(t){const i=t[0],n=t[1],r=t[2],a=t[3],s=e.getVIModels()[i],o=s.getControlViewModel(n),l=Or.getVIViewModelByVIRef(s.viRef);a===Br.START?l.setUserInteracting(n):a===Br.END&&l.clearUserInteracting(n),a!==Br.ATOMICACTIONCOMPLETE&&e.boundsUpdateEventService.requestSendElementBounds(),s.getFrontPanelControlViewModel().userInteractionChanged(a,r),o instanceof Nn&&o.userInteractionChanged(a,r)},e.windowEngineCallbacks.setPanelPosition=function(e){const i=JSON.parse(e[0]),n=i[0],r=i[1],a=e[1],s=sn.getFrontPanelElement(),o=`${n}px`,l=`${r}px`;if(s===document.body)return;const d=t.getFrontPanelControlModel();void 0!==d&&(d.top=l,d.left=o),window.requestAnimationFrame(function(){s.style.left=o,s.style.top=l,a&&window.requestAnimationFrame(function(){window.engine.trigger("SetPanelPositionComplete")})})},e.windowEngineCallbacks.invokeControlFunction=async function(t){const[i,n,r,a,s]=t;let o;try{const t=e.getVIModelByName(n).getControlViewModel(r);if(void 0===t)throw new Error(`No control found with id ${r} in ${a}`);const l=await t.invokeInternalControlFunction(a,s);void 0!==l&&(o=JSON.stringify(l))}finally{window.engine.trigger("InvokeControlFunctionComplete",i,o)}},e.keyEventHandler.undoRedo=function(e){(e.ctrlKey&&(90===e.keyCode||"z"===e.key)||e.ctrlKey&&(89===e.keyCode||"y"===e.key)||e.ctrlKey&&e.shiftKey&&(90===e.keyCode||"z"===e.key))&&(e.preventDefault(),e.stopPropagation())},window.engine.on(zr.PROPERTY_CHANGE,e.windowEngineCallbacks.propertyChange),window.engine.on(zr.PROPERTY_CHANGE_MULTIPLE,e.windowEngineCallbacks.propertyChangeMultiple),window.engine.on(zr.ADD_ELEMENT,e.windowEngineCallbacks.addElement),window.engine.on(zr.ADD_OR_UPDATE_HTML_ELEMENT,e.windowEngineCallbacks.addOrUpdateHtmlElement),window.engine.on(zr.REMOVE_ELEMENT,e.windowEngineCallbacks.removeElement),window.engine.on(zr.USERINTERACTION_CHANGED,e.windowEngineCallbacks.userInteractionChanged),window.engine.on(zr.SET_PANEL_POSITION,e.windowEngineCallbacks.setPanelPosition),window.engine.on(zr.INVOKE_CONTROL_FUNCTION,e.windowEngineCallbacks.invokeControlFunction);const t=Or.getVIViewModelByVIRef("").model,i=t.getFrontPanelControlViewModel();e.boundsUpdateEventService=new _n(i,e=>window.engine.trigger(zr.BOUNDS_UPDATE,e)),e.registerPageNavigationListener(),document.addEventListener("keydown",e.keyEventHandler.undoRedo,!0),$t.logVerbose("niEditorUpdateService start() document ready in "+t.viName),window.engine.call(zr.DOCUMENT_READY),$t.logVerbose("niEditorUpdateService start() update service starting in "+t.viName),window.engine.call(zr.UPDATE_SERVICE_STARTED),e.setServiceState(Lr.LISTENING)}stop(){super.stop(Lr.LISTENING),window.engine.off(zr.PROPERTY_CHANGE,this.windowEngineCallbacks.propertyChange),window.engine.off(zr.PROPERTY_CHANGE_MULTIPLE,this.windowEngineCallbacks.propertyChangeMultiple),window.engine.off(zr.ADD_ELEMENT,this.windowEngineCallbacks.addElement),window.engine.off(zr.ADD_OR_UPDATE_HTML_ELEMENT,this.windowEngineCallbacks.addOrUpdateHtmlElement),window.engine.off(zr.REMOVE_ELEMENT,this.windowEngineCallbacks.removeElement),window.engine.off(zr.USERINTERACTION_CHANGED,this.windowEngineCallbacks.userInteractionChanged),window.engine.off(zr.SET_PANEL_POSITION,this.windowEngineCallbacks.setPanelPosition),window.engine.off(zr.INVOKE_CONTROL_FUNCTION,this.windowEngineCallbacks.invokeControlFunction),document.removeEventListener("keydown",this.keyEventHandler.undoRedo,!0),this.windowEngineCallbacks.propertyChange=void 0,this.windowEngineCallbacks.propertyChangeMultiple=void 0,this.windowEngineCallbacks.addElement=void 0,this.windowEngineCallbacks.addOrUpdateHtmlElement=void 0,this.windowEngineCallbacks.removeElement=void 0,this.windowEngineCallbacks.userInteractionChanged=void 0,this.windowEngineCallbacks.setPanelPosition=void 0,this.keyEventHandler.undoRedo=void 0,this.boundsUpdateEventService=void 0,this.unregisterPageNavigationListener(),this.setServiceState(Lr.READY)}internalControlEventOccurred(e,t,i,n){const r={};r[i]=n,window.engine.trigger(zr.PROCESS_INTERNAL_EVENT,e.viName,t.niControlId,JSON.stringify(r))}controlChanged(e,t,i,n,r){let a,s,o;t.bindingInfo.prop===i&&(s=(a=t.findTopLevelControl())[a.bindingInfo.prop],a.modelPropertyUsesNIType(a.bindingInfo.prop)&&(s=$i.jsModelToEditor(s,a.niType)),o=JSON.stringify(s),window.engine.trigger(zr.PROCESS_MODEL_UPDATE,e.viName,a.niControlId,o))}requestSendControlBounds(){void 0!==this.boundsUpdateEventService&&this.boundsUpdateEventService.requestSendElementBounds()}}const Lr=Hr.StateEnum,zr=Hr.BrowserMessagesEnum;class Fr{constructor(){this.eventOracleMaps=new Map,this.registeredEventMaps=new Map}registerForControlEvents(e,t,i,n){this.eventOracleMaps.has(e)||this.eventOracleMaps.set(e,new Map),this.eventOracleMaps.get(e).set(t,n),this.registeredEventMaps.has(e)||this.registeredEventMaps.set(e,new Map);const r=this.registeredEventMaps.get(e);r.has(n)||r.set(n,[]);const a=r.get(n);if(a.includes(i))throw new Error("An event was registered multiple times for the same control.");a.push(i)}unRegisterForControlEvents(e,t,i,n){if(this.registeredEventMaps.has(e)){const r=this.registeredEventMaps.get(e);if(r.has(n)){const a=r.get(n),s=a.indexOf(i);if(!(s>-1))throw new Error("An attempt was made to un-register an event that wasn't currently registered.");if(a.splice(s,1),0===a.length){this.eventOracleMaps.get(e).delete(t),r.delete(n)}}}}getEventOracleIndex(e){const t=e.getRoot().getNameVireoEncoded();if(this.eventOracleMaps.has(t)){const i=this.eventOracleMaps.get(t),n=parseInt(e.niControlId,10);if(i.has(n))return i.get(n)}return-1}isControlRegisteredForEvent(e,t,i){if(this.registeredEventMaps.has(e)){const n=this.registeredEventMaps.get(e);if(n.has(t)){return n.get(t).indexOf(i)>-1}}return!1}}var Ur;!function(e){e[e.ValueChanged=2]="ValueChanged"}(Ur||(Ur={}));class $r{static get VALUE_CHANGED(){return"{F3226E31-E688-4C58-AE1E-7ED6718409A1}"}}let Wr=Promise.resolve();const Gr=function(e){return Wr=Wr.then(async function(){const t=function(e){return new Promise(function(t){const i=function(n){e.removeEventListener("ni-dialog-close",i),t(n.detail.userAction)};e.addEventListener("ni-dialog-close",i)})}(e);document.body.appendChild(e),e.showModal();const i=await t;return document.body.removeChild(e),i})};class Xr extends JQX.BaseElement{static async createOneButtonDialog(e,t){const i=document.createElement("ni-dialog");return i.dialogType="one-button",i.messageText=e,i.textOne=t,await Gr(i)}static async createTwoButtonDialog(e,t,i){const n=document.createElement("ni-dialog");return n.dialogType="two-button",n.messageText=e,n.textOne=t,n.textTwo=i,await Gr(n)}static async createThreeButtonDialog(e,t,i,n,r,a,s,o){const l=document.createElement("ni-dialog");return l.dialogType="three-button",l.messageText=e,l.windowTitle=t,l.textOne=n,l.textTwo=r,l.textThree=a,l.preventClose=!o,await Gr(l)}static get BUTTON_ONE_ACTION(){return"BUTTON_ONE_ACTION"}static get BUTTON_TWO_ACTION(){return"BUTTON_TWO_ACTION"}static get BUTTON_THREE_ACTION(){return"BUTTON_THREE_ACTION"}static get CLOSE_ACTION(){return"CLOSE_ACTION"}static get properties(){return{dialogType:{type:"string",allowedValues:["one-button","two-button","three-button"],value:"one-button",defaultReflectToAttribute:!0},textOne:{type:"string",value:"Button 1",defaultReflectToAttribute:!0},textTwo:{type:"string",value:"Button 2",defaultReflectToAttribute:!0},textThree:{type:"string",value:"Button 3",defaultReflectToAttribute:!0},windowTitle:{type:"string",value:"",defaultReflectToAttribute:!0},messageText:{type:"string",value:"",defaultReflectToAttribute:!0},preventClose:{type:"boolean",value:!1,defaultReflectToAttribute:!0}}}template(){return'<div class="ni-unused-jqx-container"></div>\n                <dialog (close)="clickButtonClose">\n                    <div class="ni-container">\n                    <header>\n                        <span class="ni-window-title">[[windowTitle]]</span>\n                        <button class="ni-close" disabled tabindex="-1" (click)="clickButtonClose"></button>\n                    </header>\n                    <main>[[messageText]]</main>\n                    <footer>\n                        <button class="ni-button-one" (click)="clickButtonOne">[[textOne]]</button>\n                        <button class="ni-button-two" (click)="clickButtonTwo">[[textTwo]]</button>\n                        <button class="ni-button-three" (click)="clickButtonThree">[[textThree]]</button>\n                    </footer>\n                    </div>\n                </dialog>'}clickButtonOne(){this.$.fireEvent("ni-dialog-close",{userAction:Xr.BUTTON_ONE_ACTION})}clickButtonTwo(){this.$.fireEvent("ni-dialog-close",{userAction:Xr.BUTTON_TWO_ACTION})}clickButtonThree(){this.$.fireEvent("ni-dialog-close",{userAction:Xr.BUTTON_THREE_ACTION})}clickButtonClose(){!1===this.preventClose&&this.$.fireEvent("ni-dialog-close",{userAction:Xr.CLOSE_ACTION})}showModal(){const e=this.querySelector("dialog");window.dialogPolyfill.registerDialog(e),e.showModal(),this.querySelector(".ni-close").disabled=!1}}window.JQX("ni-dialog",Xr);const Yr=function(){return!0},Jr=function(){return!1};const Qr=new class{constructor(){this.visitBoolean=Jr,this.visitInt8=Yr,this.visitInt16=Yr,this.visitInt32=Yr,this.visitInt64=Jr,this.visitUInt8=Yr,this.visitUInt16=Yr,this.visitUInt32=Yr,this.visitUInt64=Jr,this.visitSingle=Yr,this.visitDouble=Yr,this.visitEnum8=Yr,this.visitEnum16=Yr,this.visitEnum32=Yr,this.visitString=Jr,this.visitPath=Jr,this.visitComplexSingle=Jr,this.visitComplexDouble=Jr,this.visitArray=Jr,this.visitCluster=Jr,this.visitTimestamp=Jr,this.visitAnalogWaveform=Jr}};class Kr{static whenVireoLoaded(e,t){if("function"!=typeof e)throw new Error("Registering a vireoLoaded callback requires a valid function to invoke");_r.createInstance({wasmUrl:t}).then(function(t){e(t)})}static buildArrayIndex(e,t){const i=[];let n;for(n=e.length-1;n>=0;n--){const r=t%e[n];t=Math.floor(t/e[n]),i.unshift(r)}return i.join(",")}static totalCells(e){let t,i=0===e.length?0:1;for(t=0;t<e.length;t++)i*=e[t];return i}static get isOptimizedArrayTypeVisitor(){return Qr}}class Zr{static get ChannelName(){return"NI_ChannelName"}}class ea{static groupByDimensionLength(e,t,i){let n,r,a;if(t%i!=0)throw new Error("Cannot evenly split array into groups");const s=[];for(r=[],a=0,n=0;n<t;n+=1)r[a]=e[n],(a+=1)===i&&(s.push(r),r=[],a=0);return s}static convertFlatArraytoNArray(e,t,i){let n;const r=i.length;if(0===t)return[];let a;if(1===r){for(a=[],n=0;n<t;n+=1)a[n]=e[n];return a}a=e;let s,o=t;for(n=r-1;n>=1;n-=1)s=i[n],o=(a=ea.groupByDimensionLength(a,o,s)).length;return a}constructor(){this.vireo=void 0}visitBoolean(e){return 0!==this.vireo.eggShell.readDouble(e)}visitNumeric(e){return this.vireo.eggShell.readDouble(e)}visitNumeric64(e){return JSON.parse(this.vireo.eggShell.readJSON(e))}visitInt8(e){return this.visitNumeric(e)}visitInt16(e){return this.visitNumeric(e)}visitInt32(e){return this.visitNumeric(e)}visitInt64(e){return this.visitNumeric64(e)}visitUInt8(e){return this.visitNumeric(e)}visitUInt16(e){return this.visitNumeric(e)}visitUInt32(e){return this.visitNumeric(e)}visitUInt64(e){return this.visitNumeric64(e)}visitSingle(e){return this.visitNumeric(e)}visitDouble(e){return this.visitNumeric(e)}visitEnum8(e){return this.visitNumeric(e)}visitEnum16(e){return this.visitNumeric(e)}visitEnum32(e){return this.visitNumeric(e)}visitString(e){return this.vireo.eggShell.readString(e)}visitPath(e){return JSON.parse(this.vireo.eggShell.readJSON(e))}visitComplex(e){const t=this.vireo.eggShell.findSubValueRef(e,"real"),i=this.vireo.eggShell.findSubValueRef(e,"imaginary"),n=this.vireo.eggShell.readDouble(t),r=this.vireo.eggShell.readDouble(i);return new window.NIComplex(n,r).toString()}visitComplexSingle(e){return this.visitComplex(e)}visitComplexDouble(e){return this.visitComplex(e)}visitArray(e){let t,i,n,r;const a=this.vireo.eggShell.getArrayDimensions(e).reverse(),s=Kr.totalCells(a);let o,l,d,h=!1;if(s>0&&(l=Kr.buildArrayIndex(a,0),d=this.vireo.eggShell.findSubValueRef(e,l),h=this.vireo.eggShell.reflectOnValueRef(Kr.isOptimizedArrayTypeVisitor,d)),h)t=this.vireo.eggShell.readTypedArray(e);else for(t=[],o=0;o<s;o++)i=Kr.buildArrayIndex(a,o),n=this.vireo.eggShell.findSubValueRef(e,i),r=this.vireo.eggShell.reflectOnValueRef(this,n),t.push(r);return ea.convertFlatArraytoNArray(t,s,a)}visitCluster(e){const t=this,i=t.vireo.eggShell.readValueRefObject(e),n={};return Object.keys(i).forEach(function(e){n[e]=t.vireo.eggShell.reflectOnValueRef(t,i[e])}),n}visitTimestamp(e){const t=this.vireo.eggShell.readDouble(e);return new window.NITimestamp(t).toString()}visitAnalogWaveform(e){const t=this.vireo.eggShell.readValueRefObject(e),i=this.visitTimestamp(t.t0),n=this.visitDouble(t.dt),r=this.visitArray(t.Y),a=this.vireo.eggShell.getVariantAttribute(t.attributes,Zr.ChannelName);return{t0:i,dt:n,Y:r,channelName:void 0===a?void 0:this.vireo.eggShell.readString(a)}}visitJSObjectRefnum(e){return this.vireo.eggShell.readJavaScriptRefNum(e)}static get peekVisitor(){return ia}static peekValueRef(e,t){return ea.peekVisitor.vireo=e,e.eggShell.reflectOnValueRef(ea.peekVisitor,t)}static peek(e,t,i){const n=e.eggShell.findValueRef(t,i);return ea.peekValueRef(e,n)}}const ta=Object.freeze({peek:ea.peek,peekValueRef:ea.peekValueRef}),ia=new ea,na=function(e,t,i){const n=[];let r;for(r=t.length-1;r>=0;r--){const e=i%t[r];i=Math.floor(i/t[r]),n.unshift(e)}let a=e;for(r=0;r<n.length;r++)a=a[n[r]];return a},ra=function(e,t){const i=[];let n,r=t;for(n=0;n<e;n++)Array.isArray(r)?(i.push(r.length),r=r[0]):i.push(0);return i};class aa{PokeVisitor(){this.vireo=void 0}visitInt8(e,t){this.visitNumeric(e,t)}visitInt16(e,t){this.visitNumeric(e,t)}visitInt32(e,t){this.visitNumeric(e,t)}visitInt64(e,t){this.visitNumeric64(e,t)}visitUInt8(e,t){this.visitNumeric(e,t)}visitUInt16(e,t){this.visitNumeric(e,t)}visitUInt32(e,t){this.visitNumeric(e,t)}visitUInt64(e,t){this.visitNumeric64(e,t)}visitSingle(e,t){this.visitNumeric(e,t)}visitDouble(e,t){this.visitNumeric(e,t)}visitEnum8(e,t){this.visitNumeric(e,t)}visitEnum16(e,t){this.visitNumeric(e,t)}visitEnum32(e,t){this.visitNumeric(e,t)}visitComplexSingle(e,t){this.visitComplex(e,t)}visitComplexDouble(e,t){this.visitComplex(e,t)}visitBoolean(e,t){this.vireo.eggShell.writeDouble(e,t?1:0)}visitNumeric(e,t){const i=parseFloat(t);this.vireo.eggShell.writeDouble(e,i)}visitNumeric64(e,t){const i=JSON.stringify(t);this.vireo.eggShell.writeJSON(e,i)}visitString(e,t){this.vireo.eggShell.writeString(e,t)}visitPath(e,t){0===t.components.length&&t.components.push("");const i=JSON.stringify(t);this.vireo.eggShell.writeJSON(e,i)}visitComplex(e,t){const i=new window.NIComplex(t),n=this.vireo.eggShell.findSubValueRef(e,"real"),r=this.vireo.eggShell.findSubValueRef(e,"imaginary");this.vireo.eggShell.writeDouble(n,i.realPart),this.vireo.eggShell.writeDouble(r,i.imaginaryPart)}visitArray(e,t){const i=this.vireo.eggShell.getArrayDimensions(e).length,n=ra(i,t),r=ra(i,t).reverse();this.vireo.eggShell.resizeArray(e,r);const a=Kr.totalCells(n);let s;for(s=0;s<a;s+=1){const i=Kr.buildArrayIndex(n,s),r=this.vireo.eggShell.findSubValueRef(e,i),a=na(t,n,s);this.vireo.eggShell.reflectOnValueRef(this,r,a)}}visitCluster(e,t){const i=this,n=i.vireo.eggShell.readValueRefObject(e);Object.keys(n).forEach(function(e){i.vireo.eggShell.reflectOnValueRef(i,n[e],t[e])})}visitTimestamp(e,t){const i=new window.NITimestamp(t).valueOf();this.vireo.eggShell.writeDouble(e,i)}visitAnalogWaveform(e,t){const i=this.vireo.eggShell.readValueRefObject(e);this.visitTimestamp(i.t0,t.t0),this.visitDouble(i.dt,t.dt),this.visitArray(i.Y,t.Y),"string"==typeof t.channelName?this.vireo.eggShell.setVariantAttributeAsString(i.attributes,Zr.ChannelName,t.channelName):this.vireo.eggShell.deleteVariantAttribute(i.attributes,Zr.ChannelName)}visitJSObjectRefnum(e,t){this.vireo.eggShell.writeJavaScriptRefNum(e,t)}static get singleton(){return oa}}class sa{static pokeValueRef(e,t,i){return aa.singleton.vireo=e,e.eggShell.reflectOnValueRef(aa.singleton,t,i)}static poke(e,t,i,n){const r=e.eggShell.findValueRef(t,i);return sa.pokeValueRef(e,r,n)}}const oa=new aa,la=Object.freeze(Object.assign({},xi.ServiceStateEnum,{DOWNLOADING:"DOWNLOADING",SYNCHRONIZING:"SYNCHRONIZING",RUNNING:"RUNNING",STOPPING:"STOPPING"})),da=Object.freeze(Object.assign({},sn.InitTasksEnum,{DOWNLOADING:"DOWNLOADING",VIREOLOADED:"VIREOLOADED"})),ha=Object.freeze({READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"}),ca=Object.freeze({DIAGRAM_VALUE_CHANGED:"DiagramValueChanged",FINISHED_SENDING_UPDATES:"FinishedSendingUpdates",READY_FOR_UPDATES:"ReadyForUpdates",ABORT_VI:"AbortVI",FINISHED_RUNNING:"FinishedRunning",PANEL_CONTROL_CHANGED:"PanelControlChanged",START:"Start",DOCUMENT_READY:"DocumentReady",UPDATE_SERVICE_STARTED:"UpdateServiceStarted",PROCESS_INTERNAL_EVENT:"ProcessInternalEvent",LOG_ERROR:"LogError"}),ua=4,pa=1e4;class ma extends sn{constructor(e){super(),this.vireo=void 0,this.vireoTimer=void 0,this.syncControlsCache={},this.propertyTypesCache={},this.vireoSource=e.vireoSource,this.wasmUrl=e.wasmUrl,this.ideMode=!0===e.runningInIDE,this.vireoText=void 0,this.dataItemCache=void 0,this.eventRegistrationService=new Fr,this.eventDataWriter=void 0,this.maximumErrorMessageCount=e.maximumErrorMessageCount,this.consoleLogErrorCount=0,this.windowEngineCallbacks={start:void 0,diagramValueChanged:void 0,finishedSendingUpdates:void 0,abortVI:void 0},this._updateHTMLControlsTimer=void 0}static get StateEnum(){return la}static get InitTasksEnum(){return da}static get AccessModesEnum(){return ha}static get BrowserMessagesEnum(){return ca}static reportFailedToLoadVireoSource(){const e=document.getElementById("ni-failed-to-load-vireo-source");null!==e&&(e.style.display="block")}static hasReadAccessor(e){return e.accessMode===ba.READ_ONLY||e.accessMode===ba.READ_WRITE}static hasWriteAccessor(e){return e.accessMode===ba.WRITE_ONLY||e.accessMode===ba.READ_WRITE}static controlCanTriggerValueChange(e){return e.isTopLevelAndPlacedAndEnabled()&&ma.hasReadAccessor(e.getLocalBindingInfo())}static controlCanTriggerEvent(e){return void 0!==e.getLocalBindingInfo()&&e.isDataItemBoundControl()}static controlAcceptsDiagramUpdates(e){const t=e.getLocalBindingInfo();return e.isTopLevelAndPlacedAndEnabled()&&(ma.hasWriteAccessor(t)||!0===t.isLatched)}static controlTestNeedsUpdateAndReset(e,t){const i=t.getLocalBindingInfo();if(void 0===i)return!1;const n=e.eggShell.findValueRef(i.encodedVIName,i.runtimePath);return e.eggShell.testNeedsUpdateAndReset(n)}static forEachControlModelInEachVIModel(e,t){let i,n,r,a,s,o;for(i in e)if(e.hasOwnProperty(i))for(a in r=(n=e[i]).getAllControlModels())if(r.hasOwnProperty(a)&&void 0!==(o=t(n,s=r[a])))return o}static getControlDebuggingInfo(e,t){let i;try{i=ma.forEachControlModelInEachVIModel(t,function(t,i){let n;const r=i.getLocalBindingInfo();if(void 0!==r&&r.dataItem===e)return n=`id=${i.niControlId}, acceptsDiagramUpdates=${ma.controlAcceptsDiagramUpdates(i)}, `+`sync=${r.sync}, isDataItemBoundControl=${i.isDataItemBoundControl()}, `,n+=void 0===r?"localBindingInfo=undefined":`localBindingInfo.unplacedOrDisabled=${r.unplacedOrDisabled}, localbindingInfo.isLatched=${r.isLatched}, hasWriteAccessor=${ma.hasWriteAccessor(r)}`})}catch(e){i="Unable to evaluate control debugging info"}return void 0===i?"Data item does not exist":i}isValidServiceState(e){return void 0!==fa[e]}isInIdeMode(){return this.ideMode}initialize(){const e=super.initialize(fa.UNINITIALIZED,ga),t=this;fetch(t.vireoSource,{method:"GET",mode:"cors",credentials:"same-origin",redirect:"follow"}).then(function(e){if(!e.ok)throw new Error(`Invalid status: ${e.status}`);return e.text()}).then(function(i){t.vireoText=i,e.complete(ga.DOWNLOADING)}).catch(function(e){$t.error(`Error retrieving vireo source from url (${t.vireoSource}), additional information: ${e.message})`),ma.reportFailedToLoadVireoSource(),t.setServiceState(fa.ERROR)}),Kr.whenVireoLoaded(function(i){t.vireo=i,e.complete(ga.VIREOLOADED)},t.wasmUrl),t.setServiceState(fa.DOWNLOADING)}lookupLocalBindingInfo(e,t){const i=this.getVIModels()[e].getControlModel(t).getLocalBindingInfo();if(void 0!==i)return void 0!==this.vireo.eggShell.findValueRef(i.encodedVIName,i.runtimePath)?i:void 0}finishInitializing(){super.finishInitializing(fa.DOWNLOADING);const e=this;e.vireo.coreHelpers.setFPSyncFunction(function(t){e.updateSyncHTMLControl(t)});const t=function(e){e.setLabVIEWError(!0,1055,$t.i18n("msg_INVALID_OBJECT_REFERENCE"))};e.vireo.javaScriptInvoke.registerInternalFunctions({ControlReference_GetControlObject:function(t,i,n){const r=e.vireo.eggShell.readString(i),a=e.vireo.eggShell.readDouble(n),s=e.getVIModels()[r];if(!(s instanceof wr))return;const o=s.getControlViewModel(a);e.vireo.eggShell.writeJavaScriptRefNum(t,o)},PropertyNode_PropertyRead:async function(i,n,r,a){const s=e.vireo.eggShell.readJavaScriptRefNum(n);if(void 0===s||!("getGPropertyValue"in s))return void t(a);const o=e.vireo.eggShell.readString(r);try{let t=await s.getGPropertyValue(o);const n=s.model;if(n.shouldUpdateTerminal(o)){const i=n.getLocalBindingInfo();t=ta.peek(e.vireo,i.encodedVIName,i.runtimePath)}sa.pokeValueRef(e.vireo,i,t)}catch(e){if(!(e instanceof Wi))throw e;a.setLabVIEWError(!0,e.code,e.message)}},PropertyNode_PropertyWrite:async function(i,n,r,a,s){const o=e.vireo.eggShell.readJavaScriptRefNum(n);if(void 0===o||!("setGPropertyValue"in o))return void t(s);const l=e.vireo.eggShell.readString(r),d=ta.peekValueRef(e.vireo,a);try{o.shouldUseAsyncSetGPropertyValue(l)?await o.setGPropertyValueAsync(l,d):o.setGPropertyValue(l,d)}catch(e){if(!(e instanceof Wi))throw e;return void s.setLabVIEWError(!0,e.code,e.message)}const h=o.model;if(h.shouldUpdateTerminal(l)){const t=h.getLocalBindingInfo();sa.poke(e.vireo,t.encodedVIName,t.runtimePath,d)}},OneButtonDialog:async function(t,i,n){const r=e.vireo.eggShell.readString(i),a=e.vireo.eggShell.readString(n);await Xr.createOneButtonDialog(r,a),e.vireo.eggShell.writeDouble(t,1)},TwoButtonDialog:async function(t,i,n,r){const a=e.vireo.eggShell.readString(i),s=e.vireo.eggShell.readString(n),o=e.vireo.eggShell.readString(r),l=await Xr.createTwoButtonDialog(a,s,o)===Xr.BUTTON_ONE_ACTION?1:0;e.vireo.eggShell.writeDouble(t,l)},LogLabVIEWError:function(t,i,n,r){const a=e.vireo.eggShell.readDouble(n),s=e.vireo.eggShell.readString(r);e.consoleLogErrorCount<e.maximumErrorMessageCount?$t.error($t.i18n("msg_CONSOLE_LOG_ERROR",a,s)):e.consoleLogErrorCount===e.maximumErrorMessageCount&&$t.error($t.i18n("msg_REACHED_MAX_CONSOLE_LOG_ERRORS",e.maximumErrorMessageCount)),e.consoleLogErrorCount++},InvokeControlFunction:async function(){const i=arguments[0],n=arguments[1],r=arguments[2],a=[];for(let e=3;e<arguments.length-1;e++)a.push(arguments[e]);const s=arguments[arguments.length-1],o=e.vireo.eggShell.readJavaScriptRefNum(n);if(void 0===o)return void t(s);const l=e.vireo.eggShell.readString(r),d=a.map(t=>ta.peekValueRef(e.vireo,t));try{const t=await o.invokeInternalControlFunction(l,d);void 0!==t&&sa.pokeValueRef(e.vireo,i,t)}catch(e){s.setLabVIEWError(!0,1055,e.toString())}}}),e.vireo.eggShell.setPrintFunction(function(e){$t.debug(e+"\n")}),e.vireo.eggShell.setPrintErrorFunction(function(e){$t.debug(e+"\n")}),e.vireo.eventHelpers.setRegisterForControlEventsFunction(function(t,i,n,r){e.eventRegistrationService.registerForControlEvents(t,i,n,r)}),e.vireo.eventHelpers.setUnRegisterForControlEventsFunction(function(t,i,n,r){e.eventRegistrationService.unRegisterForControlEvents(t,i,n,r)}),e.vireo.eggShell.setExecuteSlicesWakeUpCallback(function(){e.checkServiceStateIs(fa.RUNNING)&&(window.clearTimeout(e.vireoTimer),e.vireoTimer=void 0,e.executeVireoRuntime())}),e.dataItemCache=new Ci(e.getVIModels()),e.eventDataWriter=function(t,i){sa.pokeValueRef(e.vireo,t,i)},!0===e.ideMode&&window.engine.call(va.DOCUMENT_READY),e.setServiceState(fa.READY)}start(){super.start(fa.READY);const e=this;e.vireo.eggShell.loadVia(e.vireoText),!0===e.ideMode?(window.engine.off(va.START,e.windowEngineCallbacks.start),e.windowEngineCallbacks.start=void 0,setTimeout(function(){e.synchronize()},0),e.setServiceState(fa.SYNCHRONIZING)):e.startVireoRuntime()}synchronize(){const e=this;let t;if(e.verifyServiceStateIs(fa.SYNCHRONIZING),!1===e.ideMode)return $t.error("HTML Panel synchronization steps should only be run when inside the editor"),void e.setServiceState(fa.ERROR);const i=Object.keys(e.getVIModels());for(e.windowEngineCallbacks.diagramValueChanged=function(t){const i=t[0],n=t[1],r=e.dataItemCache.getEditorRuntimeBindingInfo(i,n),a=r.controlId,s=t[2],o=JSON.parse(s),l={};l[r.prop]=o,e.dispatchMessageToHTMLPanel(i,a,l,$i.editorToJsModel)},e.windowEngineCallbacks.finishedSendingUpdates=function(t){let n;const r=t[0];for(n=0;n<i.length;n+=1)if(i[n]===r){i.splice(n,1);break}0===i.length&&(window.engine.off(va.DIAGRAM_VALUE_CHANGED,e.windowEngineCallbacks.diagramValueChanged),window.engine.off(va.FINISHED_SENDING_UPDATES,e.windowEngineCallbacks.finishedSendingUpdates),e.windowEngineCallbacks.diagramValueChanged=void 0,e.windowEngineCallbacks.finishedSendingUpdates=void 0,e.startVireoRuntime())},window.engine.on(va.DIAGRAM_VALUE_CHANGED,e.windowEngineCallbacks.diagramValueChanged),window.engine.on(va.FINISHED_SENDING_UPDATES,e.windowEngineCallbacks.finishedSendingUpdates),this.registerPageNavigationListener(),t=0;t<i.length;t+=1)window.engine.trigger(va.READY_FOR_UPDATES,i[t])}startVireoRuntime(){const e=this;e.verifyServiceStateIs([fa.READY,fa.SYNCHRONIZING]),!0===e.ideMode&&(e.windowEngineCallbacks.abortVI=function(){e.stop()},window.engine.on(va.ABORT_VI,e.windowEngineCallbacks.abortVI)),setTimeout(function(){e.loadCurrentControlValuesIntoRuntime(),e.executeVireoRuntime(),e.scheduleUpdateHTMLControls()},0),e.setServiceState(fa.RUNNING),!0===e.ideMode&&window.engine.call(va.UPDATE_SERVICE_STARTED)}executeVireoRuntime(){const e=this;let t=0;if(e.checkServiceStateIs(fa.RUNNING)){try{t=e.vireo.eggShell.executeSlicesUntilWait(pa,ua)}catch(t){const i=`Vireo Failed to execute. Message: ${t.message}, Stack: ${t.stack}`;!0===e.ideMode&&window.engine.trigger(va.LOG_ERROR,i),$t.error(i)}t>0?e.vireoTimer=setTimeout(e.executeVireoRuntime.bind(e),t):t<0?e.vireoTimer=setTimeout(e.executeVireoRuntime.bind(e),0):(window.clearTimeout(e.vireoTimer),e.vireoTimer=void 0,e.stop(),setTimeout(e.executeVireoRuntime.bind(e),0))}else e.checkServiceStateIs(fa.STOPPING)?setTimeout(function(){e.finishStopping()},0):($t.error("Web Application expected to be RUNNING or STOPPING"),e.setServiceState(fa.ERROR))}scheduleUpdateHTMLControls(){const e=this;!1!==e.checkServiceStateIs(fa.RUNNING)&&(requestAnimationFrame(function(){e.scheduleUpdateHTMLControls()}),void 0===e._updateHTMLControlsTimer&&(e._updateHTMLControlsTimer=setTimeout(function(){e._updateHTMLControlsTimer=void 0,!1!==e.checkServiceStateIs(fa.RUNNING)&&e.updateHTMLControls()},0)))}stop(){super.stop(fa.RUNNING),!0===this.ideMode&&(window.engine.off(va.ABORT_VI,this.windowEngineCallbacks.abortVI),this.windowEngineCallbacks.abortVI=void 0),this.setServiceState(fa.STOPPING)}finishStopping(){const e=this;this.verifyServiceStateIs(fa.STOPPING),this.updateHTMLControls(),!0===this.ideMode&&(this.sendControlValuesToEditor(),window.engine.trigger(va.FINISHED_RUNNING,"Function"),this.windowEngineCallbacks.start=function(){e.start()},window.engine.on(va.START,e.windowEngineCallbacks.start)),this.unregisterPageNavigationListener(),this.setServiceState(fa.READY)}controlChanged(e,t,i,n,r){if(!1===this.checkServiceStateIs(fa.RUNNING))return;const a=t.getLocalBindingInfo();if(ma.controlCanTriggerValueChange(t)&&sa.poke(this.vireo,a.encodedVIName,a.runtimePath,n),ma.controlCanTriggerEvent(t)){const e=this.eventRegistrationService.getEventOracleIndex(t);if(this.eventRegistrationService.isControlRegisteredForEvent(a.encodedVIName,e,Ur.ValueChanged)){const i=_r.staticHelpers.encodeIdentifier($r.VALUE_CHANGED+"_"+t.niControlId),s=this.vireo.eggShell.findValueRef(a.encodedVIName,i),o={"Old Value":r,"New Value":n};this.vireo.eventHelpers.occurEvent(e,t.niControlId,Ur.ValueChanged,this.eventDataWriter,s,o)}}}controlEventOccurred(e,t,i,n){const r=t.getLocalEventInfo(i);if(void 0!==r){const e=this.eventRegistrationService.getEventOracleIndex(t),i=t.getRoot().getNameVireoEncoded();if(this.eventRegistrationService.isControlRegisteredForEvent(i,e,r.eventIndex)){const a=_r.staticHelpers.encodeIdentifier(r.eventDataId+"_"+t.niControlId),s=this.vireo.eggShell.findValueRef(i,a);this.vireo.eventHelpers.occurEvent(e,t.niControlId,r.eventIndex,this.eventDataWriter,s,n)}}}internalControlEventOccurred(e,t,i,n){const r={};r[i]=n,!0===this.ideMode&&window.engine.trigger(va.PROCESS_INTERNAL_EVENT,e.viName,t.niControlId,JSON.stringify(r))}reinitializeToDefault(e,t){if(!1===this.checkServiceStateIs(fa.RUNNING))return;const i=t.getLocalBindingInfo(),n=this.vireo.eggShell.findValueRef(i.encodedVIName,i.runtimePath);if(void 0===n)throw new Error($t.i18n("msg_UNPLACED_DATA_ITEM_ON_BLOCK_DIAGRAM"));this.vireo.eggShell.reinitializeToDefault(n);const r={},a=ta.peek(this.vireo,i.encodedVIName,i.runtimePath);r[i.prop]=a,this.dispatchMessageToHTMLPanel(e.viName,t.niControlId,r)}sendControlValuesToEditor(){ma.forEachControlModelInEachVIModel(this.getVIModels(),function(e,t){let i,n;const r=t.getEditorRuntimeBindingInfo();void 0!==r&&void 0!==r.dataItem&&void 0!==r.prop&&""!==r.dataItem&&""!==r.prop&&("historyBuffer"in t?(i=t.historyBuffer.toJSON(),n=t.getHistoryBufferInnerType(t.niType,i.width),i.data=$i.jsModelToEditor(i.data,n)):(i=t[r.prop],t.modelPropertyUsesNIType(r.prop)&&(i=$i.jsModelToEditor(i,t.niType))),window.engine.trigger(va.PANEL_CONTROL_CHANGED,e.viName,r.dataItem,JSON.stringify(i)))})}loadCurrentControlValuesIntoRuntime(){const e=this;ma.forEachControlModelInEachVIModel(e.getVIModels(),function(t,i){let n;const r=i.getLocalBindingInfo();i.isTopLevelAndPlacedAndEnabled()&&void 0!==(n=i[r.prop])&&sa.poke(e.vireo,r.encodedVIName,r.runtimePath,n)})}updateHTMLControls(){const e=this;ma.forEachControlModelInEachVIModel(e.getVIModels(),function(t,i){const n=i.getLocalBindingInfo();if(ma.controlAcceptsDiagramUpdates(i)&&!1===n.sync&&ma.controlTestNeedsUpdateAndReset(e.vireo,i)){const r=ta.peek(e.vireo,n.encodedVIName,n.runtimePath),a={};a[n.prop]=r,e.dispatchMessageToHTMLPanel(t.viName,i.niControlId,a)}})}findSyncHTMLControl(e){return ma.forEachControlModelInEachVIModel(this.getVIModels(),function(t,i){const n=i.getLocalBindingInfo();if(ma.controlAcceptsDiagramUpdates(i)&&n.dataItem===e&&!0===n.sync)return{localBindingInfo:n,viName:t.viName,controlId:i.niControlId}})}updateSyncHTMLControl(e){let t,i,n,r,a;if(void 0===this.syncControlsCache[e]&&(this.syncControlsCache[e]=this.findSyncHTMLControl(e)),void 0!==this.syncControlsCache[e])t=this.syncControlsCache[e].localBindingInfo,i=this.syncControlsCache[e].viName,n=this.syncControlsCache[e].controlId,r={},a=ta.peek(this.vireo,t.encodedVIName,t.runtimePath),r[t.prop]=a,this.dispatchMessageToHTMLPanel(i,n,r);else{const t=ma.getControlDebuggingInfo(e,this.getVIModels());$t.errorVerbose("Trying to update synchronous control with data item id "+e+" but failed to locate control. "+t)}}}const fa=ma.StateEnum,ga=ma.InitTasksEnum,va=ma.BrowserMessagesEnum,ba=ma.AccessModesEnum;class ya{constructor(e){this._dcoIndexToControlMap=void 0,this.viModels=e}static createDCOIndexMaps(e){const t={};let i;for(i in e)if(e.hasOwnProperty(i)){const n=e[i].getAllControlModels();let r;for(r in void 0===t[i]&&(t[i]={}),n)if(n.hasOwnProperty(r)){const e=n[r].getRemoteBindingInfo();void 0!==e&&(t[i][e.dco]=e)}}return t}getRemoteBindingInfo(e,t){return void 0!==this._dcoIndexToControlMap&&void 0!==this._dcoIndexToControlMap[e]||(this._dcoIndexToControlMap=ya.createDCOIndexMaps(this.viModels)),this._dcoIndexToControlMap[e][t]}}var _a=_a||{};_a.Web=_a.Web||{},_a.Web.RemotePanel=_a.Web.RemotePanel||{},_a.Web.RemotePanel.AnyType={NONE:0,UnknownTable:1},_a.Web.RemotePanel.AnyTypeName={0:"NONE",1:"UnknownTable"},_a.Web.RemotePanel.GetPropertyValueType={PropertyValueAsJson:0,PropertyValueAsPackedData:1},_a.Web.RemotePanel.GetPropertyValueTypeName={0:"PropertyValueAsJson",1:"PropertyValueAsPackedData"},_a.Web.RemotePanel.RemotePanelUpdateType={NONE:0,SetPropertyValue:1,GetPropertyValue:2,BatchUpdate:3,RootedBatchUpdate:4,DataRequestReady:5},_a.Web.RemotePanel.RemotePanelUpdateTypeName={0:"NONE",1:"SetPropertyValue",2:"GetPropertyValue",3:"BatchUpdate",4:"RootedBatchUpdate",5:"DataRequestReady"},_a.Web.RemotePanel.RemotePanelRequestType={NONE:0,RemotePanelUpdateResponse:1,RemotePanelRequestData:2,RemotePanelControlChanged:3,RemotePanelConnect:4},_a.Web.RemotePanel.RemotePanelRequestTypeName={0:"NONE",1:"RemotePanelUpdateResponse",2:"RemotePanelRequestData",3:"RemotePanelControlChanged",4:"RemotePanelConnect"},_a.Web.RemotePanel.UnknownTable=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.UnknownTable.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.UnknownTable.getRootAsUnknownTable=function(e,t){return(t||new _a.Web.RemotePanel.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.UnknownTable.getSizePrefixedRootAsUnknownTable=function(e,t){return(t||new _a.Web.RemotePanel.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.UnknownTable.startUnknownTable=function(e){e.startObject(0)},_a.Web.RemotePanel.UnknownTable.endUnknownTable=function(e){return e.endObject()},_a.Web.RemotePanel.UnknownTable.createUnknownTable=function(e){return _a.Web.RemotePanel.UnknownTable.startUnknownTable(e),_a.Web.RemotePanel.UnknownTable.endUnknownTable(e)},_a.Web.RemotePanel.SetPropertyValue=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.SetPropertyValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.SetPropertyValue.getRootAsSetPropertyValue=function(e,t){return(t||new _a.Web.RemotePanel.SetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.SetPropertyValue.getSizePrefixedRootAsSetPropertyValue=function(e,t){return(t||new _a.Web.RemotePanel.SetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.SetPropertyValue.prototype.docName=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.SetPropertyValue.prototype.runtimeId=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},_a.Web.RemotePanel.SetPropertyValue.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.SetPropertyValue.prototype.propertyJson=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.SetPropertyValue.startSetPropertyValue=function(e){e.startObject(4)},_a.Web.RemotePanel.SetPropertyValue.addDocName=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.SetPropertyValue.addRuntimeId=function(e,t){e.addFieldInt32(1,t,0)},_a.Web.RemotePanel.SetPropertyValue.addPropertyName=function(e,t){e.addFieldOffset(2,t,0)},_a.Web.RemotePanel.SetPropertyValue.addPropertyJson=function(e,t){e.addFieldOffset(3,t,0)},_a.Web.RemotePanel.SetPropertyValue.endSetPropertyValue=function(e){return e.endObject()},_a.Web.RemotePanel.SetPropertyValue.createSetPropertyValue=function(e,t,i,n,r){return _a.Web.RemotePanel.SetPropertyValue.startSetPropertyValue(e),_a.Web.RemotePanel.SetPropertyValue.addDocName(e,t),_a.Web.RemotePanel.SetPropertyValue.addRuntimeId(e,i),_a.Web.RemotePanel.SetPropertyValue.addPropertyName(e,n),_a.Web.RemotePanel.SetPropertyValue.addPropertyJson(e,r),_a.Web.RemotePanel.SetPropertyValue.endSetPropertyValue(e)},_a.Web.RemotePanel.GetPropertyValue=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.GetPropertyValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.GetPropertyValue.getRootAsGetPropertyValue=function(e,t){return(t||new _a.Web.RemotePanel.GetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.GetPropertyValue.getSizePrefixedRootAsGetPropertyValue=function(e,t){return(t||new _a.Web.RemotePanel.GetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.GetPropertyValue.prototype.docName=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.GetPropertyValue.prototype.runtimeId=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},_a.Web.RemotePanel.GetPropertyValue.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.GetPropertyValue.prototype.valueType=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt8(this.bb_pos+e):_a.Web.RemotePanel.GetPropertyValueType.PropertyValueAsJson},_a.Web.RemotePanel.GetPropertyValue.startGetPropertyValue=function(e){e.startObject(4)},_a.Web.RemotePanel.GetPropertyValue.addDocName=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.GetPropertyValue.addRuntimeId=function(e,t){e.addFieldInt32(1,t,0)},_a.Web.RemotePanel.GetPropertyValue.addPropertyName=function(e,t){e.addFieldOffset(2,t,0)},_a.Web.RemotePanel.GetPropertyValue.addValueType=function(e,t){e.addFieldInt8(3,t,_a.Web.RemotePanel.GetPropertyValueType.PropertyValueAsJson)},_a.Web.RemotePanel.GetPropertyValue.endGetPropertyValue=function(e){return e.endObject()},_a.Web.RemotePanel.GetPropertyValue.createGetPropertyValue=function(e,t,i,n,r){return _a.Web.RemotePanel.GetPropertyValue.startGetPropertyValue(e),_a.Web.RemotePanel.GetPropertyValue.addDocName(e,t),_a.Web.RemotePanel.GetPropertyValue.addRuntimeId(e,i),_a.Web.RemotePanel.GetPropertyValue.addPropertyName(e,n),_a.Web.RemotePanel.GetPropertyValue.addValueType(e,r),_a.Web.RemotePanel.GetPropertyValue.endGetPropertyValue(e)},_a.Web.RemotePanel.BatchUpdate=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.BatchUpdate.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.BatchUpdate.getRootAsBatchUpdate=function(e,t){return(t||new _a.Web.RemotePanel.BatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.BatchUpdate.getSizePrefixedRootAsBatchUpdate=function(e,t){return(t||new _a.Web.RemotePanel.BatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.BatchUpdate.prototype.batchType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):_a.Web.RemotePanel.AnyType.NONE},_a.Web.RemotePanel.BatchUpdate.prototype.batch=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null},_a.Web.RemotePanel.BatchUpdate.startBatchUpdate=function(e){e.startObject(2)},_a.Web.RemotePanel.BatchUpdate.addBatchType=function(e,t){e.addFieldInt8(0,t,_a.Web.RemotePanel.AnyType.NONE)},_a.Web.RemotePanel.BatchUpdate.addBatch=function(e,t){e.addFieldOffset(1,t,0)},_a.Web.RemotePanel.BatchUpdate.endBatchUpdate=function(e){return e.endObject()},_a.Web.RemotePanel.BatchUpdate.createBatchUpdate=function(e,t,i){return _a.Web.RemotePanel.BatchUpdate.startBatchUpdate(e),_a.Web.RemotePanel.BatchUpdate.addBatchType(e,t),_a.Web.RemotePanel.BatchUpdate.addBatch(e,i),_a.Web.RemotePanel.BatchUpdate.endBatchUpdate(e)},_a.Web.RemotePanel.RootedBatchUpdate=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.RootedBatchUpdate.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.RootedBatchUpdate.getRootAsRootedBatchUpdate=function(e,t){return(t||new _a.Web.RemotePanel.RootedBatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RootedBatchUpdate.getSizePrefixedRootAsRootedBatchUpdate=function(e,t){return(t||new _a.Web.RemotePanel.RootedBatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RootedBatchUpdate.prototype.batchBuffer=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},_a.Web.RemotePanel.RootedBatchUpdate.prototype.batchBufferLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},_a.Web.RemotePanel.RootedBatchUpdate.prototype.batchBufferArray=function(){var e=this.bb.__offset(this.bb_pos,4);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},_a.Web.RemotePanel.RootedBatchUpdate.startRootedBatchUpdate=function(e){e.startObject(1)},_a.Web.RemotePanel.RootedBatchUpdate.addBatchBuffer=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.RootedBatchUpdate.createBatchBufferVector=function(e,t){e.startVector(1,t.length,1);for(var i=t.length-1;i>=0;i--)e.addInt8(t[i]);return e.endVector()},_a.Web.RemotePanel.RootedBatchUpdate.startBatchBufferVector=function(e,t){e.startVector(1,t,1)},_a.Web.RemotePanel.RootedBatchUpdate.endRootedBatchUpdate=function(e){return e.endObject()},_a.Web.RemotePanel.RootedBatchUpdate.createRootedBatchUpdate=function(e,t){return _a.Web.RemotePanel.RootedBatchUpdate.startRootedBatchUpdate(e),_a.Web.RemotePanel.RootedBatchUpdate.addBatchBuffer(e,t),_a.Web.RemotePanel.RootedBatchUpdate.endRootedBatchUpdate(e)},_a.Web.RemotePanel.DataRequestReady=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.DataRequestReady.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.DataRequestReady.getRootAsDataRequestReady=function(e,t){return(t||new _a.Web.RemotePanel.DataRequestReady).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.DataRequestReady.getSizePrefixedRootAsDataRequestReady=function(e,t){return(t||new _a.Web.RemotePanel.DataRequestReady).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.DataRequestReady.prototype.memoryId=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.DataRequestReady.prototype.buffer=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},_a.Web.RemotePanel.DataRequestReady.prototype.bufferLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},_a.Web.RemotePanel.DataRequestReady.prototype.bufferArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},_a.Web.RemotePanel.DataRequestReady.startDataRequestReady=function(e){e.startObject(2)},_a.Web.RemotePanel.DataRequestReady.addMemoryId=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.DataRequestReady.addBuffer=function(e,t){e.addFieldOffset(1,t,0)},_a.Web.RemotePanel.DataRequestReady.createBufferVector=function(e,t){e.startVector(1,t.length,1);for(var i=t.length-1;i>=0;i--)e.addInt8(t[i]);return e.endVector()},_a.Web.RemotePanel.DataRequestReady.startBufferVector=function(e,t){e.startVector(1,t,1)},_a.Web.RemotePanel.DataRequestReady.endDataRequestReady=function(e){return e.endObject()},_a.Web.RemotePanel.DataRequestReady.createDataRequestReady=function(e,t,i){return _a.Web.RemotePanel.DataRequestReady.startDataRequestReady(e),_a.Web.RemotePanel.DataRequestReady.addMemoryId(e,t),_a.Web.RemotePanel.DataRequestReady.addBuffer(e,i),_a.Web.RemotePanel.DataRequestReady.endDataRequestReady(e)},_a.Web.RemotePanel.RemotePanelUpdate=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.RemotePanelUpdate.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.RemotePanelUpdate.getRootAsRemotePanelUpdate=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelUpdate).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelUpdate.getSizePrefixedRootAsRemotePanelUpdate=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelUpdate).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelUpdate.prototype.responseId=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.RemotePanelUpdate.prototype.requestType=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):_a.Web.RemotePanel.RemotePanelUpdateType.NONE},_a.Web.RemotePanel.RemotePanelUpdate.prototype.request=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null},_a.Web.RemotePanel.RemotePanelUpdate.startRemotePanelUpdate=function(e){e.startObject(3)},_a.Web.RemotePanel.RemotePanelUpdate.addResponseId=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.RemotePanelUpdate.addRequestType=function(e,t){e.addFieldInt8(1,t,_a.Web.RemotePanel.RemotePanelUpdateType.NONE)},_a.Web.RemotePanel.RemotePanelUpdate.addRequest=function(e,t){e.addFieldOffset(2,t,0)},_a.Web.RemotePanel.RemotePanelUpdate.endRemotePanelUpdate=function(e){return e.endObject()},_a.Web.RemotePanel.RemotePanelUpdate.createRemotePanelUpdate=function(e,t,i,n){return _a.Web.RemotePanel.RemotePanelUpdate.startRemotePanelUpdate(e),_a.Web.RemotePanel.RemotePanelUpdate.addResponseId(e,t),_a.Web.RemotePanel.RemotePanelUpdate.addRequestType(e,i),_a.Web.RemotePanel.RemotePanelUpdate.addRequest(e,n),_a.Web.RemotePanel.RemotePanelUpdate.endRemotePanelUpdate(e)},_a.Web.RemotePanel.RemotePanelUpdateResponse=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.RemotePanelUpdateResponse.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.RemotePanelUpdateResponse.getRootAsRemotePanelUpdateResponse=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelUpdateResponse).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelUpdateResponse.getSizePrefixedRootAsRemotePanelUpdateResponse=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelUpdateResponse).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseId=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseJson=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseData=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},_a.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseDataLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},_a.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseDataArray=function(){var e=this.bb.__offset(this.bb_pos,8);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},_a.Web.RemotePanel.RemotePanelUpdateResponse.startRemotePanelUpdateResponse=function(e){e.startObject(3)},_a.Web.RemotePanel.RemotePanelUpdateResponse.addResponseId=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.RemotePanelUpdateResponse.addResponseJson=function(e,t){e.addFieldOffset(1,t,0)},_a.Web.RemotePanel.RemotePanelUpdateResponse.addResponseData=function(e,t){e.addFieldOffset(2,t,0)},_a.Web.RemotePanel.RemotePanelUpdateResponse.createResponseDataVector=function(e,t){e.startVector(1,t.length,1);for(var i=t.length-1;i>=0;i--)e.addInt8(t[i]);return e.endVector()},_a.Web.RemotePanel.RemotePanelUpdateResponse.startResponseDataVector=function(e,t){e.startVector(1,t,1)},_a.Web.RemotePanel.RemotePanelUpdateResponse.endRemotePanelUpdateResponse=function(e){return e.endObject()},_a.Web.RemotePanel.RemotePanelUpdateResponse.createRemotePanelUpdateResponse=function(e,t,i,n){return _a.Web.RemotePanel.RemotePanelUpdateResponse.startRemotePanelUpdateResponse(e),_a.Web.RemotePanel.RemotePanelUpdateResponse.addResponseId(e,t),_a.Web.RemotePanel.RemotePanelUpdateResponse.addResponseJson(e,i),_a.Web.RemotePanel.RemotePanelUpdateResponse.addResponseData(e,n),_a.Web.RemotePanel.RemotePanelUpdateResponse.endRemotePanelUpdateResponse(e)},_a.Web.RemotePanel.RemotePanelRequestData=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.RemotePanelRequestData.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.RemotePanelRequestData.getRootAsRemotePanelRequestData=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelRequestData).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelRequestData.getSizePrefixedRootAsRemotePanelRequestData=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelRequestData).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelRequestData.prototype.memoryId=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.RemotePanelRequestData.prototype.startPosition=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},_a.Web.RemotePanel.RemotePanelRequestData.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},_a.Web.RemotePanel.RemotePanelRequestData.startRemotePanelRequestData=function(e){e.startObject(3)},_a.Web.RemotePanel.RemotePanelRequestData.addMemoryId=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.RemotePanelRequestData.addStartPosition=function(e,t){e.addFieldInt32(1,t,0)},_a.Web.RemotePanel.RemotePanelRequestData.addLength=function(e,t){e.addFieldInt32(2,t,0)},_a.Web.RemotePanel.RemotePanelRequestData.endRemotePanelRequestData=function(e){return e.endObject()},_a.Web.RemotePanel.RemotePanelRequestData.createRemotePanelRequestData=function(e,t,i,n){return _a.Web.RemotePanel.RemotePanelRequestData.startRemotePanelRequestData(e),_a.Web.RemotePanel.RemotePanelRequestData.addMemoryId(e,t),_a.Web.RemotePanel.RemotePanelRequestData.addStartPosition(e,i),_a.Web.RemotePanel.RemotePanelRequestData.addLength(e,n),_a.Web.RemotePanel.RemotePanelRequestData.endRemotePanelRequestData(e)},_a.Web.RemotePanel.RemotePanelControlChanged=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.RemotePanelControlChanged.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.RemotePanelControlChanged.getRootAsRemotePanelControlChanged=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelControlChanged).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelControlChanged.getSizePrefixedRootAsRemotePanelControlChanged=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelControlChanged).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelControlChanged.prototype.definitionName=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.RemotePanelControlChanged.prototype.controlId=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},_a.Web.RemotePanel.RemotePanelControlChanged.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.RemotePanelControlChanged.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},_a.Web.RemotePanel.RemotePanelControlChanged.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},_a.Web.RemotePanel.RemotePanelControlChanged.prototype.valueArray=function(){var e=this.bb.__offset(this.bb_pos,10);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},_a.Web.RemotePanel.RemotePanelControlChanged.startRemotePanelControlChanged=function(e){e.startObject(4)},_a.Web.RemotePanel.RemotePanelControlChanged.addDefinitionName=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.RemotePanelControlChanged.addControlId=function(e,t){e.addFieldInt32(1,t,0)},_a.Web.RemotePanel.RemotePanelControlChanged.addPropertyName=function(e,t){e.addFieldOffset(2,t,0)},_a.Web.RemotePanel.RemotePanelControlChanged.addValue=function(e,t){e.addFieldOffset(3,t,0)},_a.Web.RemotePanel.RemotePanelControlChanged.createValueVector=function(e,t){e.startVector(1,t.length,1);for(var i=t.length-1;i>=0;i--)e.addInt8(t[i]);return e.endVector()},_a.Web.RemotePanel.RemotePanelControlChanged.startValueVector=function(e,t){e.startVector(1,t,1)},_a.Web.RemotePanel.RemotePanelControlChanged.endRemotePanelControlChanged=function(e){return e.endObject()},_a.Web.RemotePanel.RemotePanelControlChanged.createRemotePanelControlChanged=function(e,t,i,n,r){return _a.Web.RemotePanel.RemotePanelControlChanged.startRemotePanelControlChanged(e),_a.Web.RemotePanel.RemotePanelControlChanged.addDefinitionName(e,t),_a.Web.RemotePanel.RemotePanelControlChanged.addControlId(e,i),_a.Web.RemotePanel.RemotePanelControlChanged.addPropertyName(e,n),_a.Web.RemotePanel.RemotePanelControlChanged.addValue(e,r),_a.Web.RemotePanel.RemotePanelControlChanged.endRemotePanelControlChanged(e)},_a.Web.RemotePanel.RemotePanelConnect=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.RemotePanelConnect.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.RemotePanelConnect.getRootAsRemotePanelConnect=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelConnect).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelConnect.getSizePrefixedRootAsRemotePanelConnect=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelConnect).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelConnect.prototype.definitionName=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},_a.Web.RemotePanel.RemotePanelConnect.startRemotePanelConnect=function(e){e.startObject(1)},_a.Web.RemotePanel.RemotePanelConnect.addDefinitionName=function(e,t){e.addFieldOffset(0,t,0)},_a.Web.RemotePanel.RemotePanelConnect.endRemotePanelConnect=function(e){return e.endObject()},_a.Web.RemotePanel.RemotePanelConnect.createRemotePanelConnect=function(e,t){return _a.Web.RemotePanel.RemotePanelConnect.startRemotePanelConnect(e),_a.Web.RemotePanel.RemotePanelConnect.addDefinitionName(e,t),_a.Web.RemotePanel.RemotePanelConnect.endRemotePanelConnect(e)},_a.Web.RemotePanel.RemotePanelRequest=function(){this.bb=null,this.bb_pos=0},_a.Web.RemotePanel.RemotePanelRequest.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},_a.Web.RemotePanel.RemotePanelRequest.getRootAsRemotePanelRequest=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelRequest).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelRequest.getSizePrefixedRootAsRemotePanelRequest=function(e,t){return(t||new _a.Web.RemotePanel.RemotePanelRequest).__init(e.readInt32(e.position())+e.position(),e)},_a.Web.RemotePanel.RemotePanelRequest.prototype.requestType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):_a.Web.RemotePanel.RemotePanelRequestType.NONE},_a.Web.RemotePanel.RemotePanelRequest.prototype.request=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null},_a.Web.RemotePanel.RemotePanelRequest.startRemotePanelRequest=function(e){e.startObject(2)},_a.Web.RemotePanel.RemotePanelRequest.addRequestType=function(e,t){e.addFieldInt8(0,t,_a.Web.RemotePanel.RemotePanelRequestType.NONE)},_a.Web.RemotePanel.RemotePanelRequest.addRequest=function(e,t){e.addFieldOffset(1,t,0)},_a.Web.RemotePanel.RemotePanelRequest.endRemotePanelRequest=function(e){return e.endObject()},_a.Web.RemotePanel.RemotePanelRequest.finishRemotePanelRequestBuffer=function(e,t){e.finish(t)},_a.Web.RemotePanel.RemotePanelRequest.finishSizePrefixedRemotePanelRequestBuffer=function(e,t){e.finish(t,void 0,!0)},_a.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest=function(e,t,i){return _a.Web.RemotePanel.RemotePanelRequest.startRemotePanelRequest(e),_a.Web.RemotePanel.RemotePanelRequest.addRequestType(e,t),_a.Web.RemotePanel.RemotePanelRequest.addRequest(e,i),_a.Web.RemotePanel.RemotePanelRequest.endRemotePanelRequest(e)};const wa=Object.freeze({PROPERTY_UPDATE:"PROPERTY_UPDATE",VERSION_MESSAGE:"VERSION_MESSAGE",VI_STATE_UPDATE:"VI_STATE_UPDATE",BATCH_UPDATE:"BATCH_UPDATE"}),xa=Object.freeze(Object.assign({},xi.ServiceStateEnum,{INITIALIZING:"INITIALIZING",INITIALCONNECTION:"INITIALCONNECTION",CONNECTING:"CONNECTING",CONNECTED:"CONNECTED",RECONNECTING:"RECONNECTING"}));class Ca extends sn{constructor(e){super(e),this.remoteAddress=e.remoteAddress,this.dcoIndexCache=void 0,this.enableEvents=!0,this.socket=void 0,this.pendingDataRequests=new Map,this.preferredVersion={majorVersion:0,minorVersion:1,patchVersion:0,preReleaseVersion:"preAlpha",versionMetadata:"testMetadata"},this.serverVersion={majorVersion:void 0,minorVersion:void 0,patchVersion:void 0,preReleaseVersion:void 0,versionMetadata:void 0},this.socketCallbacks={open:void 0,message:void 0,close:void 0,error:void 0}}static get MessageTypeEnum(){return wa}static get StateEnum(){return xa}static createPropertyUpdateMessage(e,t,i,n){const r=t.getRemoteBindingInfo(),a={messageType:Ta.PROPERTY_UPDATE,viName:e.viName,dcoIndex:r.dco,data:{value:i}};return JSON.stringify(a)}static createVersionMessage(e){const t={messageType:Ta.VERSION_MESSAGE,version:e};return JSON.stringify(t)}static parseWebSocketMessage(e){let t;try{t=JSON.parse(e)}catch(e){$t.error("Error parsing message: "+e.message),t={}}return t}isValidServiceState(e){return void 0!==Sa[e]}initialize(){const e=this;super.initialize(Sa.UNINITIALIZED,void 0),e.socketCallbacks.open=function(t){e.socketOpen(t)},e.socketCallbacks.message=function(t){e.socketMessage(t)},e.socketCallbacks.close=function(t){e.socketClose(t)},e.socketCallbacks.error=function(t){e.socketError(t)},e.setServiceState(Sa.INITIALIZING)}finishInitializing(){super.finishInitializing(Sa.INITIALIZING),this.dcoIndexCache=new ya(this.getVIModels()),this.setServiceState(Sa.READY)}start(){const e=this;super.start(Sa.READY),setTimeout(function(){e.setupConnection()},0),e.setServiceState(Sa.INITIALCONNECTION)}setupConnection(){this.verifyServiceStateIs([Sa.INITIALCONNECTION,Sa.RECONNECTING]),this.createSocket(),this.setServiceState(Sa.CONNECTING)}stop(){super.stop([Sa.CONNECTING,Sa.CONNECTED]),this.removeSocket(),this.setServiceState(Sa.READY)}socketOpen(){this.verifyServiceStateIs(Sa.CONNECTING);const e=Ca.createVersionMessage(this.preferredVersion);this.socket.send(e)}socketMessage(e){if(e.data instanceof ArrayBuffer)this.handleRemotePanelUpdate(e.data);else{let t,i;const n=Ca.parseWebSocketMessage(e.data);switch(n.messageType){case Ta.VERSION_MESSAGE:this.verifyServiceStateIs(Sa.CONNECTING),this.serverVersion=n.version,this.preferredVersion.majorVersion!==this.serverVersion.majorVersion?($t.error("HTML Panel cannot connect to server with incompatible version"),this.stop()):this.setServiceState(Sa.CONNECTED),this.sendStartVI();break;case Ta.PROPERTY_UPDATE:this.verifyServiceStateIs(Sa.CONNECTED),t=this.dcoIndexCache.getRemoteBindingInfo(n.viName,n.dcoIndex),(i={})[t.prop]=n.data.value,this.dispatchMessageToHTMLPanel(n.viName,t.controlId,i);break;case Ta.VI_STATE_UPDATE:this.verifyServiceStateIs(Sa.CONNECTED),$t.error("VI State update is not implemented");break;default:$t.error("Unknown message format or type: "+e.data),this.setServiceState(Sa.ERROR)}}}async handleRemotePanelUpdate(e){const t=new Uint8Array(e),i=new flatbuffers.ByteBuffer(t),n=_a.Web.RemotePanel.RemotePanelUpdate.getRootAsRemotePanelUpdate(i),r=n.requestType();let a;if(r===_a.Web.RemotePanel.RemotePanelUpdateType.SetPropertyValue){const e=n.request(new _a.Web.RemotePanel.SetPropertyValue);await this.setGPropertyValueAsync(e.docName(),e.runtimeId(),e.propertyName(),e.propertyJson())}else if(r===_a.Web.RemotePanel.RemotePanelUpdateType.RootedBatchUpdate){const e=n.request(new _a.Web.RemotePanel.RootedBatchUpdate).batchBufferArray();await this.batchUpdate(e)}else if(r===_a.Web.RemotePanel.RemotePanelUpdateType.DataRequestReady){const e=n.request(new _a.Web.RemotePanel.DataRequestReady);this.onBatchDataReady(e.memoryId(),e.bufferArray())}else if(r===_a.Web.RemotePanel.RemotePanelUpdateType.GetPropertyValue){const e=n.request(new _a.Web.RemotePanel.GetPropertyValue);a=await this.getGPropertyValue(e.docName(),e.runtimeId(),e.propertyName())}const s=n.responseId();null!=s&&0!==s.length&&this.setUpdateResponse(s,a)}async getGPropertyValue(e,t,i){await en.waitForFrameUpdate();try{const n=this.getVIModelByName(e);return await n.processControlUpdateToGetGPropertyValue(t,i)}catch(e){if(!(e instanceof Wi))throw e}}async setGPropertyValueAsync(e,t,i,n){try{const r=this.getVIModelByName(e);await r.processControlUpdateToSetGPropertyValueAsync(t,i,JSON.parse(n))}catch(e){if(!(e instanceof Wi))throw e}}setUpdateResponse(e,t){const i=new flatbuffers.Builder(1024),n=i.createString(e);let r=0;void 0!==t&&(r=i.createString(t.toString()));const a=_a.Web.RemotePanel.RemotePanelUpdateResponse.createRemotePanelUpdateResponse(i,n,r,0),s=_a.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(i,_a.Web.RemotePanel.RemotePanelRequestType.RemotePanelUpdateResponse,a);i.finish(s);const o=i.asUint8Array();this.socket.send(o)}sendStartVI(){const e=new flatbuffers.Builder(1024),t=this.getVIModels(),i=Object.keys(t)[0],n=e.createString(i),r=_a.Web.RemotePanel.RemotePanelConnect.createRemotePanelConnect(e,n),a=_a.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(e,_a.Web.RemotePanel.RemotePanelRequestType.RemotePanelConnect,r);e.finish(a);const s=e.asUint8Array();this.socket.send(s)}onBatchDataReady(e,t){const i=e,n=this.pendingDataRequests.get(i);this.pendingDataRequests.delete(i),n(t)}async makeDataRequest(e,t,i){return new Promise((n,r)=>{const a=e;this.pendingDataRequests.set(a,n);const s=new flatbuffers.Builder(1024),o=s.createString(e),l=_a.Web.RemotePanel.RemotePanelRequestData.createRemotePanelRequestData(s,o,t,i),d=_a.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(s,_a.Web.RemotePanel.RemotePanelRequestType.RemotePanelRequestData,l);s.finish(d);const h=s.asUint8Array();this.socket.send(h)})}async batchUpdate(e){try{const t=new flatbuffers.ByteBuffer(e),i=Gi.Web.Interop.Batch.getRootAsBatch(t),n=i.itemsLength(),r=i.docName();for(let e=0;e<n;++e){const t=i.items(e),n=t.dataType();n===Gi.Web.Interop.UpdateData.BatchUpdateFromBuffer?await this.batchUpdateFromBufferAsync(t,r):n===Gi.Web.Interop.UpdateData.BatchUpdateFromOffset?await this.batchUpdateFromOffsetAsync(t,r):n===Gi.Web.Interop.UpdateData.BatchUpdateFromJson&&await this.batchUpdateFromJsonAsync(t,r)}}catch(e){$t.error(e.toString())}}async batchUpdateFromBufferAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Gi.Web.Interop.BatchUpdateFromBuffer),a=r.memoryId(),s=r.position(),o=r.length(),l=(await this.makeDataRequest(a,s,o)).slice(s,o),d=this.getVIModels()[t],h=d.controlModels[n];h.throwIfPropertyTypeIsUndefined(i);const c=h.gPropertyNIType(i),u=Ui.GetDataAdaptorFromPackedValue(l,c).unpack();await d.processControlUpdateToSetGPropertyValueAsync(n,i,u)}async batchUpdateFromOffsetAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Gi.Web.Interop.BatchUpdateFromOffset).data(new Gi.Web.Interop.UnknownTable),a=this.getVIModels()[t],s=a.controlModels[n];s.throwIfPropertyTypeIsUndefined(i);const o=s.gPropertyNIType(i),l=Ui.GetDataAdaptorFromIndex(r,o).unpack();await a.processControlUpdateToSetGPropertyValueAsync(n,i,l)}async batchUpdateFromJsonAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Gi.Web.Interop.BatchUpdateFromJson).propertyJson(),a=JSON.parse(r),s=this.getVIModels()[t];await s.processControlUpdateToSetGPropertyValueAsync(n,i,a)}controlChanged(e,t,i,n,r){(t=t.findTopLevelControl()).bindingInfo.prop===i&&""!==t.bindingInfo.dataItem&&(n=t[i]);const a=t.gPropertyNIType(i);if(void 0!==a){const r=t.niControlId,s=Ui.PackData(n,a),o=new flatbuffers.Builder(1024),l=o.createString(e.viName),d=o.createString(i),h=_a.Web.RemotePanel.RemotePanelControlChanged.createValueVector(o,s),c=_a.Web.RemotePanel.RemotePanelControlChanged.createRemotePanelControlChanged(o,l,r,d,h),u=_a.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(o,_a.Web.RemotePanel.RemotePanelRequestType.RemotePanelControlChanged,c);o.finish(u);const p=o.asUint8Array();this.socket.send(p)}}controlEventOccurred(e,t,i,n){if(null!==this.socket){const r=(t=t.findTopLevelControl()).niControlId,a={messageType:"controlEventOccurred",viName:e.viName,controlId:r,eventType:i,eventData:n},s=JSON.stringify(a);this.socket.send(s)}}socketClose(){this.reconnect()}socketError(e){$t.error("Socket Error",e),this.reconnect()}reconnect(){const e=this;e.verifyServiceStateIs([Sa.CONNECTING,Sa.CONNECTED]),e.removeSocket(),setTimeout(function(){e.setupConnection()},0),e.setServiceState(Sa.RECONNECTING)}createSocket(){this.socket=new WebSocket("ws://"+window.location.hostname+this.remoteAddress),this.socket.binaryType="arraybuffer",this.socket.addEventListener("open",this.socketCallbacks.open),this.socket.addEventListener("message",this.socketCallbacks.message),this.socket.addEventListener("close",this.socketCallbacks.close),this.socket.addEventListener("error",this.socketCallbacks.error)}removeSocket(){void 0!==this.socket&&(this.socket.removeEventListener("open",this.socketCallbacks.open),this.socket.removeEventListener("message",this.socketCallbacks.message),this.socket.removeEventListener("close",this.socketCallbacks.close),this.socket.removeEventListener("error",this.socketCallbacks.error),this.socket.close(),this.socket=void 0)}}const Sa=Ca.StateEnum,Ta=Ca.MessageTypeEnum,Pa=Object.freeze(Object.assign({},xi.ServiceStateEnum,{INITIALIZING:"INITIALIZING",RUNNING:"RUNNING"}));class Ia extends sn{constructor(){super(),this.windowCallbacks={propertyChange:void 0,addElement:void 0,removeElement:void 0},this._isInIdeMode=!1}static get StateEnum(){return Pa}setIdeMode(e){this._isInIdeMode=e}isInIdeMode(){return this._isInIdeMode}isValidServiceState(e){return void 0!==Ea[e]}initialize(){super.initialize(Ea.UNINITIALIZED,void 0),this.setServiceState(Ea.INITIALIZING)}finishInitializing(){super.finishInitializing(Ea.INITIALIZING),this.setServiceState(Ea.READY)}start(){super.start(Ea.READY);const e=this;e.windowCallbacks.propertyChange=function(t,i,n){e.dispatchMessageToHTMLPanel(t,i,n)},e.windowCallbacks.addElement=function(e,t,i,n,r){const a={};let s;for(s in e)e.hasOwnProperty(s)&&"kind"!==s&&(a[s]=e[s]);const o=sn.createNIControlToAddToDOM(a,t,i,n,r);if(void 0===o.parentElement)throw new Error("Parent element must be defined for the test update service");o.parentElement.appendChild(o.controlElement)},e.windowCallbacks.removeElement=function(e,t){const i=sn.findNIControlToRemoveFromDOM(e,t);i.controlElement.parentNode.removeChild(i.controlElement)},e.setServiceState(Ea.RUNNING)}stop(){super.stop(Ea.RUNNING),this.windowCallbacks.propertyChange=void 0,this.windowCallbacks.addElement=void 0,this.windowCallbacks.removeElement=void 0,this.setServiceState(Ea.READY)}}const Ea=Ia.StateEnum,Da=xi.ServiceStateEnum,ka=xi.PanelEngineEnum,ja=xi.PanelLocationEnum;let Ma=0;const Aa=Object.freeze({SERVICE:"SERVICE",ELEMENTS:"ELEMENTS"});class Na extends In{constructor(e){super(e),this.updateService=void 0,this.initTasks=void 0,$t.defineConstReference(this,"webAppInstanceId",Ma++),this._engine=ka.VIREO,this._location=ja.BROWSER,this._vireoSource="",this._wasmUrl="",this._remoteAddress="",this._testMode=!1,this._disableAutoStart=!1,this._serviceState=Da.UNINITIALIZED,this._maximumErrorMessageCount=100,this._viModels=[]}get engine(){return this._engine}set engine(e){this._engine=e,this.notifyModelPropertyChanged("engine")}get location(){return this._location}set location(e){this._location=e,this.notifyModelPropertyChanged("location")}get vireoSource(){return this._vireoSource}set vireoSource(e){this._vireoSource=e,this.notifyModelPropertyChanged("vireoSource")}get wasmUrl(){return this._wasmUrl}set wasmUrl(e){this._wasmUrl=e,this.notifyModelPropertyChanged("wasmUrl")}get remoteAddress(){return this._remoteAddress}set remoteAddress(e){this._remoteAddress=e,this.notifyModelPropertyChanged("remoteAddress")}get testMode(){return this._testMode}set testMode(e){this._testMode=e,this.notifyModelPropertyChanged("testMode")}get disableAutoStart(){return this._disableAutoStart}set disableAutoStart(e){this._disableAutoStart=e,this.notifyModelPropertyChanged("disableAutoStart")}get serviceState(){return this._serviceState}set serviceState(e){this._serviceState=e,this.notifyModelPropertyChanged("serviceState")}get maximumErrorMessageCount(){return this._maximumErrorMessageCount}set maximumErrorMessageCount(e){this._maximumErrorMessageCount=e,this.notifyModelPropertyChanged("maximumErrorMessageCount")}static get TasksEnum(){return Aa}setServiceState(e){if(!1===this.updateService.isValidServiceState(e))throw new Error("the provided state ("+e+") is not a valid service state");this.serviceState=e}verifyServiceStateIs(e){let t,i;for(!1===Array.isArray(e)&&(e=[e]),t=0;t<e.length;t+=1){if(i=e[t],!1===this.updateService.isValidServiceState(i))throw new Error("the provided state ("+i+") is not a valid service state");if(this.serviceState===i)return}throw new Error("ni-web-application update service in state("+this.serviceState+") must be in one of the possible states ("+e.join()+") to continue")}checkServiceStateIs(e){let t,i;for(!1===Array.isArray(e)&&(e=[e]),t=0;t<e.length;t+=1){if(i=e[t],!1===this.updateService.isValidServiceState(i))throw new Error("the provided state ("+i+") is not a valid service state");if(this.serviceState===i)return!0}return!1}getWebAppServiceStateProvider(){const e=this;return{setServiceState:function(t){e.setServiceState(t)},verifyServiceStateIs:function(t){e.verifyServiceStateIs(t)},checkServiceStateIs:function(t){return e.checkServiceStateIs(t)}}}getVirtualInstrumentModelsProvider(){const e=this;return{getVIModels:function(){return e._viModels}}}attachVIModel(e){this._viModels[e.viName]=e}detachVIModel(e){this._viModels.indexOf(e)>=0&&this._viModels.splice(this._viModels.indexOf(e),1)}initializeService(){const e=this,t={remoteAddress:e.remoteAddress,vireoSource:e.vireoSource,runningInIDE:e.location===ja.IDE_RUN,maximumErrorMessageCount:e.maximumErrorMessageCount,wasmUrl:e.wasmUrl},i={};if(i[ja.IDE_EDIT]={},i[ja.IDE_RUN]={},i[ja.BROWSER]={},i[ja.IDE_EDIT][ka.NATIVE]=Hr,i[ja.IDE_RUN][ka.NATIVE]=un,i[ja.BROWSER][ka.NATIVE]=Ca,i[ja.IDE_EDIT][ka.VIREO]=Hr,i[ja.IDE_RUN][ka.VIREO]=ma,i[ja.BROWSER][ka.VIREO]=ma,void 0!==i[e.location]&&void 0!==i[e.location][e.engine])e.updateService=new i[e.location][e.engine](t);else{if(!0!==e.testMode)throw new Error("Invalid web app configuration, cannot start a service!");e.updateService=new Ia(t)}e.verifyServiceStateIs(Da.UNINITIALIZED),e.updateService.applyWebAppServiceStateProvider(e.getWebAppServiceStateProvider()),e.updateService.applyVirtualInstrumentModelsProvider(e.getVirtualInstrumentModelsProvider()),setTimeout(function(){e.updateService.initialize(e._vireoWasmPath)},0)}start(){this.updateService.start()}stop(){this.updateService.stop()}controlChanged(e,t,i,n,r){void 0!==this.updateService&&this.updateService.controlChanged(e,t,i,n,r)}internalControlEventOccurred(e,t,i,n){void 0!==this.updateService&&this.updateService.internalControlEventOccurred(e,t,i,n)}controlEventOccurred(e,t,i,n){void 0!==this.updateService&&this.updateService.controlEventOccurred(e,t,i,n)}enableEvents(){return void 0!==this.updateService&&this.updateService.enableEvents}isInIdeMode(){return void 0!==this.updateService&&this.updateService.isInIdeMode()}ensureFocus(){void 0!==this.updateService&&this.updateService.ensureFocus()}requestSendControlBounds(){void 0!==this.updateService&&this.updateService.requestSendControlBounds()}reinitializeToDefault(e,t){void 0!==this.updateService&&this.updateService.reinitializeToDefault(e,t)}}const qa=xi.ServiceStateEnum,Oa=function(){return-1!==window.location.hash.indexOf("niskipsync")};class Ba extends En{constructor(e,t){if(super(e,t),this.model instanceof Na==!1)throw new Error($t.i18n("msg_INVALID_VI_MODEL"));if(this.element instanceof Fa==!1)throw new Error($t.i18n("msg_INVALID_ELEMENT"));this._autoStartOccurred=!1}bindToView(){super.bindToView();const e=this;$t.logVerbose("niWebApplicationViewModel bindToView()"),e.element.addEventListener("requested-start",function(t){$t.logVerbose("niWebApplicationViewModel requested-start"),e.element===t.detail.element&&e.model.start()}),e.element.addEventListener("requested-stop",function(t){$t.logVerbose("niWebApplicationViewModel requested-stop"),e.element===t.detail.element&&e.model.stop()}),e.model.initializeService()}modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this;switch(e){case"serviceState":i.element.serviceState=i.model.serviceState,$t.logVerbose("niWebApplicationViewModel modelPropertyChanged serviceState="+i.model.serviceState),i.model.checkServiceStateIs(qa.READY)&&!1===i.model.disableAutoStart&&!1===i._autoStartOccurred&&(i._autoStartOccurred=!0,i.model.start())}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.model,t=this.element;e.engine=t.engine,e.location=t.location,e.vireoSource=t.vireoSource,e.wasmUrl=t.wasmUrl,e.remoteAddress=t.remoteAddress,e.testMode=t.testMode,e.disableAutoStart=t.disableAutoStart,e.serviceState=t.serviceState,e.maximumErrorMessageCount=t.maximumErrorMessageCount,Oa()&&(e.location="",e.engine="",e.testMode=!0)}}const Ra=[];class Va{static register(e){let t;for(t=0;t<Ra.length;t++)if(Ra[t].element===e)throw new Error("ViewModel for web application element has already been created");const i=new Na,n=new Ba(e,i);return n.updateModelFromElement(),i.registerListener(n),n.bindToView(),Ra.push(n),n}static unregister(e){let t;for(t=0;t<Ra.length;t++)if(Ra[t].element===e){Ra[t].model.unregisterListener(Ra[t]),Ra.splice(t,1);break}}static getModel(e){let t;for(t=0;t<Ra.length;t++)if(Ra[t].element===e)return Ra[t].model}}const Ha=function(){const e=document.createElement("div");e.classList.add("ni-execution-buttons-box");const t=document.createElement("button");t.textContent="Start",t.type="button",t.classList.add("ni-execution-button","ni-start-button","disabled");const i=document.createElement("button");i.textContent="Abort",i.type="button",i.classList.add("ni-execution-button","ni-abort-button","disabled"),e.appendChild(t),e.appendChild(i);return{uiControls:e,startButton:t,abortButton:i,enableButtons:function(e,n){e?t.classList.remove("disabled"):t.classList.add("disabled"),n?i.classList.remove("disabled"):i.classList.add("disabled")}}},La=function(e,t){"READY"===t?e.enableButtons(!0,!1):"RUNNING"===t||"CONNECTING"===t||"CONNECTED"===t||"LISTENING"===t?e.enableButtons(!1,!0):e.enableButtons(!1,!1)},za=function(e){"CONNECTED"===e?$t.info("CONNECTED"):$t.info("CONNECTING")};class Fa extends ni{addAllProperties(e){super.addAllProperties(e);const t=Fa.prototype;t.addProperty(e,{propertyName:"engine",defaultValue:""}),t.addProperty(e,{propertyName:"location",defaultValue:""}),t.addProperty(e,{propertyName:"vireoSource",defaultValue:""}),t.addProperty(e,{propertyName:"wasmUrl",defaultValue:""}),t.addProperty(e,{propertyName:"remoteAddress",defaultValue:""}),t.addProperty(e,{propertyName:"testMode",defaultValue:!1}),t.addProperty(e,{propertyName:"disableAutoStart",defaultValue:!1}),t.addProperty(e,{propertyName:"serviceState",defaultValue:xi.ServiceStateEnum.UNINITIALIZED,fireEvent:!0}),t.addProperty(e,{propertyName:"maximumErrorMessageCount",defaultValue:100})}createdCallback(){super.createdCallback(),this._enableConnectionDialog=!1,this._frontEndElements=void 0,this.serviceState=xi.ServiceStateEnum.UNINITIALIZED}attachedCallback(){const e=super.attachedCallback(),t=this;let i;return $t.logVerbose("ni-web-application attachedCallback() firstCall="+e+" disableAutoStart="+t.disableAutoStart+" engine="+t.engine+" location="+t.location),Va.register(t),!0===e&&(!1===t.disableAutoStart&&"NATIVE"===t.engine&&"BROWSER"===t.location&&(t._enableConnectionDialog=!0,za(t.serviceState)),!0===t.disableAutoStart&&((i=Ha()).startButton.addEventListener("click",function(){!1===i.startButton.classList.contains("disabled")&&t.start()}),i.abortButton.addEventListener("click",function(){!1===i.abortButton.classList.contains("disabled")&&t.stop()}),t._frontEndElements=i,La(t._frontEndElements,t.serviceState),t.appendChild(i.uiControls))),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"serviceState":!0===this._enableConnectionDialog&&za(this.serviceState),!0===this.disableAutoStart&&La(this._frontEndElements,this.serviceState)}}detachedCallback(){Va.unregister(this)}start(){this.dispatchEvent(new CustomEvent("requested-start",{bubbles:!0,cancelable:!0,detail:{element:this}}))}stop(){this.dispatchEvent(new CustomEvent("requested-stop",{bubbles:!0,cancelable:!0,detail:{element:this}}))}}si.registerElement(Fa,ri.WEBAPP),ni.defineElementInfo(Fa.prototype,"ni-web-application","HTMLNIWebApplication");var Ua=Object.freeze({WebApplication:Fa});const $a=Object.freeze({DEFAULT:"default",ESCAPED:"escaped"});class Wa{static get TextDisplayMode(){return $a}}const Ga={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"," ":"\\s"},Xa={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",s:" ","\\":"\\"},Ya=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],Ja=function(e){return Ga.hasOwnProperty(e)},Qa=function(e){return Ya.includes(e)},Ka=function(e){return Xa.hasOwnProperty(e)},Za=function(e){const t=parseInt(e,16);return t<128?String.fromCharCode(t):"?"},es=function(e,t){let i=0;return e+1<t.length&&Qa(t[e+1])&&(i++,e+2<t.length&&Qa(t[e+2])&&i++),i};class ts{static toDefaultDisplayMode(e){let t="",i=0,n="";for(;i<e.length;){if("\\"===e[i]&&i+1<e.length)if(Ka(e[i+1]))n=Xa[e[i+1]],i+=2;else{const t=es(i,e);if(0===t)n=e[i],i++;else if(1===t){const t=e[i+1];n=Za(t),i+=2}else if(2===t){const t=e[i+1]+e[i+2];n=Za(t),i+=3}}else n=e[i],i++;t=t.concat(n)}return t}static toEscapedDisplayMode(e){let t="";for(const i of e){const e=i.charCodeAt(0);Ja(i)?t+=Ga[i]:e<16?t=t+"\\0"+e.toString(16):e<32||127===e?t=t+"\\"+e.toString(16):t+=i}return t}}const is=Wa.TextDisplayMode,ns=function(e,t){return t===is.ESCAPED?ts.toEscapedDisplayMode(e):e},rs=function(e,t){return t===is.ESCAPED?ts.toDefaultDisplayMode(e):e};class as extends Sr{addAllProperties(e){super.addAllProperties(e);const t=as.prototype;t.addProperty(e,{propertyName:"text",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"acceptsReturn",defaultValue:!1}),t.addProperty(e,{propertyName:"typeToReplace",defaultValue:!1}),t.addProperty(e,{propertyName:"wordWrap",defaultValue:!1}),t.addProperty(e,{propertyName:"escapedDisplayMode",defaultValue:is.DEFAULT}),$t.setValuePropertyDescriptor(e,"text","text","textNonSignaling","text-changed")}attachedCallback(){const e=super.attachedCallback();let t;const i=this;let n=!1;return!0===e&&((t=document.createElement("textarea")).classList.add("ni-text-field"),t.value=rs(this.text,this.escapedDisplayMode),t.readOnly=this.readOnly,t.disabled=this.disabled,t.wrap=this.wordWrap?"soft":"off",t.addEventListener("change",function(){const e=rs(t.value,i.escapedDisplayMode);i.text!==e&&(i.text=e)}),t.addEventListener("click",function(){i.typeToReplace&&!n&&(n=!0,t.focus(),t.select())}),t.addEventListener("blur",function(){const e=rs(t.value,i.escapedDisplayMode);n=!1,i.text!==e&&(i.text=e)}),t.addEventListener("keydown",function(e){if((!1===i.acceptsReturn||!0===e.ctrlKey)&&13===e.keyCode)return t.blur(),!1}),t.addEventListener("mousedown",function(e){i._isMouseDown=!0}),t.addEventListener("scroll",function(e){i._isScrollingInteractively=i._isMouseDown}),t.addEventListener("mouseup",function(e){i._isScrollingInteractively=!1,i._isMouseDown=!1}),this.innerHTML="",this.appendChild(t)),e}propertyUpdated(e){super.propertyUpdated(e);const t=this.firstElementChild;switch(e){case"readOnly":t.readOnly=this.readOnly;break;case"text":t.value=ns(this.text,this.escapedDisplayMode);break;case"wordWrap":t.wrap=this.wordWrap?"soft":"off";break;case"disabled":t.disabled=this.disabled;break;case"escapedDisplayMode":t.value=ns(this.text,this.escapedDisplayMode)}}tryScrollToEnd(){if(void 0===this._isScrollingInteractively||!1===this._isScrollingInteractively){const e=this.querySelector("textarea");e.scrollTop=e.scrollHeight}}focus(...e){return this.querySelector("textarea").focus(...e)}}si.registerElement(as),Cr.defineElementInfo(as.prototype,"ni-string-control","HTMLNIStringControl");var ss=Object.freeze({StringControl:as});JQX("ni-hyperlink",class extends JQX.BaseElement{static get properties(){return{href:{value:"",type:"string"},target:{value:"",type:"string"},content:{value:"",type:"string"}}}template(){return'<a rel="noopener"></a>'}ready(){const e=this;super.ready();const t=e.firstElementChild;e.disabled||t.setAttribute("href",e.href),t.target=e.target,t.textContent=e.content}propertyChangedHandler(e,t,i){const n=this;super.propertyChangedHandler(e,t,i);const r=n.firstElementChild;switch(e){case"href":n.disabled||r.setAttribute("href",n.href);break;case"target":r.target=n.target;break;case"content":r.textContent=n.content;break;case"disabled":n.disabled?r.removeAttribute("href"):r.setAttribute("href",n.href)}}focus(...e){return this.querySelector("a").focus(...e)}});var os=Object.freeze({});JQX("ni-flexible-layout-container",class extends JQX.BaseElement{static get properties(){return{direction:{value:"row",type:"string",defaultReflectToAttribute:!0},horizontalContentAlignment:{value:"flex-start",type:"string",defaultReflectToAttribute:!0},verticalContentAlignment:{value:"flex-start",type:"string",defaultReflectToAttribute:!0}}}template(){return""}});var ls=Object.freeze({});JQX("ni-flexible-layout-group",class extends JQX.BaseElement{template(){return""}});var ds=Object.freeze({});JQX("ni-flexible-layout-component",class extends JQX.BaseElement{static get properties(){return{layoutPattern:{value:"",type:"string",defaultReflectToAttribute:!0}}}template(){return""}});var hs=Object.freeze({});JQX("ni-flexible-layout-wrapper",class extends JQX.BaseElement{template(){return""}});var cs=Object.freeze({});class us extends Pr{}si.registerElement(us,ri.CONTAINER),Cr.defineElementInfo(us.prototype,"ni-front-panel","HTMLNIFrontPanel");var ps=Object.freeze({FrontPanel:us});const ms=function(e){return!1===Array.isArray(e)&&"object"==typeof e&&null!==e};class fs{static deepCopy(e){let t;if("number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e;if(null==e)return e;if(Array.isArray(e)){const i=[];for(t=0;t<e.length;t++)i[t]=fs.deepCopy(e[t]);return i}if(ms(e)){const t={};let i;for(i in e)e.hasOwnProperty(i)&&(t[i]=fs.deepCopy(e[i]));return t}throw new Error("Unsupported type")}static isDeepEqual(e,t){let i,n,r,a,s,o;if("number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e===t;if(null==e)return e===t;if(Array.isArray(e)){if(!1===Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!1===(n=fs.isDeepEqual(e[i],t[i])))return!1;return!0}if(ms(e)){if(!1===ms(t))return!1;for(r in s=0,e)if(e.hasOwnProperty(r)){if(!1===t.hasOwnProperty(r))return!1;if(!1===(n=fs.isDeepEqual(e[r],t[r])))return!1;s++}for(a in o=0,t)t.hasOwnProperty(a)&&o++;return s===o}throw new Error("Unsupported type")}}const gs=NationalInstruments.Globals.jQuery,vs={},bs=vs,ys=/\\{2,}/;bs.getJqxDataFieldName=function(e){return"__"+e},bs.ensureValidSelection=function(e,t,i){if("string"==typeof i&&(i=[i.trim()]),null==i||i.every(e=>""===e))return[];const n=t.map(t=>bs.sanitizePath(t[e])),r=i.map(e=>bs.sanitizePath(e)).filter(e=>void 0!==e&&(""===e||n.some(t=>t&&t.startsWith(e))));return r.length===i.length?r:void 0},bs.isValidArrayForTreeDataSource=function(e){return!!Array.isArray(e)&&(0===e.length||e.every(e=>{if("object"!=typeof e||null===e)return!1;for(const t in e)if(e.hasOwnProperty(t)&&"string"!=typeof e[t])return!1;return!0}))},bs.arrayAsJqxTreeGridSource=function(e,t){if(!bs.isValidArrayForTreeDataSource(e))throw new TypeError("Invalid array");const i={datatype:"array",datafields:[{name:"id",type:"string"},{name:"parentId",type:"string"},{name:"caption",type:"string"},{name:"explicit",type:"bool"}],hierarchy:{keyDataField:{name:"id"},parentDataField:{name:"parentId"}},id:"id"};let n;if(0===e.length)return(n=new gs.jqx.dataAdapter(i)).columns=[],{dataAdapter:n,pathsToIdsMap:new Map};const r=bs.expandDataSource(e,t),a=Object.keys(e[0]);for(let e=0;e<a.length;e++){const t=a[e];i.datafields.push({name:bs.getJqxDataFieldName(t),type:"string"})}return i.localdata=r.dataSource,{dataAdapter:n=new gs.jqx.dataAdapter(i),pathsToIdsMap:r.pathsToIdsMap}},bs.sanitizePath=function(e){if(void 0!==(e=e&&e.trim())&&""!==e&&!0!==ys.test(e))return e.replace(/^\\|\\$/g,"")},bs.expandDataSource=function(e,t){const i=new Map;i.set("",0);let n=1;const r=new Map;return e.forEach(e=>{!function(e,r){const a=bs.sanitizePath(e[t]);if(void 0===a)return;const s=a.split("\\");let o="";for(let l=0;l<s.length;l++){const d=l===s.length-1,h=s.slice(0,l+1).join("\\");i.has(h)||i.set(h,n++);const c={id:i.get(h),parentId:i.get(o),caption:s[l],explicit:d,explicitPath:a};if(o=h,d){const t=Object.keys(e);for(let i=0;i<t.length;i++)c[bs.getJqxDataFieldName(t[i])]=e[t[i]]}c[bs.getJqxDataFieldName(t)]=h;const u=r.get(h);(void 0===u||!u.explicit&&c.explicit)&&r.set(h,c)}}(e,r)}),{dataSource:Array.from(r.values()),pathsToIdsMap:i}},bs.getPathSpecifierForType=function(e){if(void 0!==e&&e.isArray()&&e.getSubtype().isCluster())return e.getSubtype().getFields()[0]},bs.getDefaultRecordForType=function(e){const t=e.getSubtype().getFields(),i={};return t.forEach(e=>{i[e]=""}),i},bs.getRecordsFromPaths=function(e,t,i){const n=bs.getPathSpecifierForType(e);return i.map(i=>{const r=bs.sanitizePath(i),a=t.find(e=>bs.sanitizePath(e[n])===r);return Object.assign(bs.getDefaultRecordForType(e),a,{[n]:r})})};const _s=Object.freeze({SINGLE:"singleRow",MULTIPLE:"multipleRows",CUSTOM:"custom"});class ws{static get SelectionModeEnum(){return _s}}const xs=ws.SelectionModeEnum;class Cs{static convertNIToJQXSelectionMode(e){switch(e){case xs.SINGLE:return"singlerow";case xs.MULTIPLE:return"multiplerows";case xs.CUSTOM:return"custom"}}static convertJQXToNISelectionMode(e){switch(e){case"singlerow":return xs.SINGLE;case"multiplerows":return xs.MULTIPLE;case"custom":return xs.CUSTOM}}}const Ss=NationalInstruments.Globals.jQuery,Ts=ws.SelectionModeEnum,Ps=function(e){const t=document.createRange();t.selectNodeContents(e);const i=window.getSelection();i.removeAllRanges(),i.addRange(t)},Is=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40});JQX("ni-tree",class extends JQX.BaseElement{static get properties(){return{allowSelection:{value:!1,type:"boolean",observer:"_allowSelectionChangeHandler"},selectionMode:{value:Ts.SINGLE,type:"string",observer:"_selectionModeChangeHandler"},columnHeaders:{value:[],type:"array",validator:"_columnHeadersValidator",observer:"_columnHeadersChangeHandler"},columnHeaderVisible:{value:!1,type:"boolean",observer:"_columnHeaderVisibleChangeHandler"},columnWidths:{value:[],type:"array",observer:"_columnWidthsChangeHandler"},dataSource:{value:[],type:"any",notify:!0,reflectToAttribute:!1,validator:"_dataSourceValidator",observer:"_dataSourceChangeHandler"},niType:{value:"",type:"string",observer:"_niTypeChangeHandler"},selectedData:{value:[],readOnly:!0,type:"array"},selection:{value:[],type:"array"}}}static get listeners(){return{resize:"_resizeHandler"}}template(){return"<div style='width: 100%; height: 100%'></div>"}ready(){const e=this;super.ready(),e.childDiv=e.firstElementChild,e.jqref=Ss(e.childDiv),e.jqref.jqxTreeGrid({width:"100%",height:"100%",pageable:!1,altRows:!0,autoRowHeight:!1,enableBrowserSelection:!0,columnsResize:!0,touchMode:!1,selectionMode:Cs.convertNIToJQXSelectionMode(e.selectionMode),showHeader:e.columnHeaderVisible,localization:{emptydatastring:""},handleKeyboardNavigation:function(t){if(!e.allowSelection&&(t===Is.UP||t===Is.DOWN||t===Is.LEFT||t===Is.RIGHT))return!0}}),e._expandedParents=new Set,e._pathsToIdsMap=new Map,e._columnHeadersChangeHandler(void 0,e.columnHeaders),e._niTypeChangeHandler(void 0,e.niType),e._setDataSource(e.dataSource),e.jqref.on("bindingComplete",t=>{e._refreshFolding()}),e.jqref.on("rowExpand",t=>e._rowExpansionChangeHandler(t)),e.jqref.on("rowCollapse",t=>e._rowExpansionChangeHandler(t)),e.jqref.on("rowSelect",t=>e._interactiveSelectionChangeHandler(t)),e.jqref.on("rowUnselect",t=>e._interactiveSelectionChangeHandler(t)),e.jqref.on("rowDoubleClick",t=>{e.allowSelection||Ps(t.args.originalEvent.target)}),e.addEventListener("keydown",function(t){if(void 0!==e.jqref&&e.allowSelection&&0===e.selection.length&&void 0!==e._dataSourceAdapter&&e._dataSourceAdapter.records.length>0&&t.key&&("ArrowUp"===t.key||"ArrowDown"===t.key||"Up"===t.key||"Down"===t.Key)&&(e.selectionIsChanging=!0,e.jqref.jqxTreeGrid("selectRow",e._dataSourceAdapter.records[0].id),delete e.selectionIsChanging),(t.ctrlKey||t.metaKey)&&t.key&&"a"===t.key.toLowerCase()&&e.jqref.jqxTreeGrid("selectionMode")!==Cs.convertNIToJQXSelectionMode(Ts.MULTIPLE)){const i=e.querySelector("table");null!==i&&(Ps(i),t.preventDefault())}}),e.addEventListener("focus",function(t){t.target===e&&(e.childDiv.focus(),t.cancelable&&t.preventDefault())});const t=function(e){2===e.button&&e.stopPropagation()};e.addEventListener("mousedown",t,!0),e.addEventListener("mouseup",t,!0),e.updateColumnsHeight(),e.jqref.on("columnResized",t=>e._columnResizeHandler(t))}_allowSelectionChangeHandler(e,t){this.jqref.jqxTreeGrid({selectionMode:Cs.convertNIToJQXSelectionMode(this.selectionMode)}),!1===t&&this.clearSelection()}_selectionModeChangeHandler(e,t){this.jqref.jqxTreeGrid({selectionMode:Cs.convertNIToJQXSelectionMode(t)}),0!==this.selection.length&&t===Ts.SINGLE&&(this.selection=[this.selection[0]])}_columnHeadersChangeHandler(e,t){this._updateColumns()}_columnHeadersValidator(e,t){return t.map(e=>void 0!==e&&e.length>0?e:" ")}_columnHeaderVisibleChangeHandler(e,t){this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this.jqref.jqxTreeGrid({showHeader:t}),this.jqref.jqxTreeGrid("render")})}_columnWidthsChangeHandler(e,t){this._columnWidths=t,this._updateColumns()}_dataSourceChangeHandler(e,t){fs.isDeepEqual(e,t)||this._setDataSource(t)}_niTypeChangeHandler(e,t){if(this._niTypeInstance=""!==t?new window.NIType(t):void 0,void 0!==(i=this._niTypeInstance)&&i.isArray()&&i.getSubtype().isCluster()&&i.getSubtype().getSubtype().every(e=>e.getName()===window.NITypeNames.STRING)){this._updateColumns();const e=vs.getPathSpecifierForType(this._niTypeInstance),t=void 0!==this._dataSourceAdapter;this._pathFieldName=e,this._pathDataFieldName=vs.getJqxDataFieldName(e),t&&this._setDataSource(this.dataSource)}var i}updateColumnsHeight(){const e=parseInt(window.getComputedStyle(this.querySelector("div.jqx-grid-header")).height,10);this.jqref.jqxTreeGrid({columnsHeight:e})}collapse(e){this._safeChangeFolding(()=>{e=vs.sanitizePath(e);const t=this._pathsToIdsMap.get(e);this._safeCallJqxTreeGridMethod("collapseRow",t);let i=!1;this._expandedParents.forEach(t=>{t.startsWith(e)&&(i|=this._expandedParents.delete(t))});const n=e.substring(0,e.lastIndexOf("\\"));i&&""!==n&&void 0!==n&&this._expandedParents.add(n)},!1)}collapseAll(){this._safeChangeFolding(()=>{this._safeCallJqxTreeGridMethod("collapseAll"),this._expandedParents.clear()},!1)}expand(e){this._safeChangeFolding(()=>{const t=this._pathsToIdsMap.get(e);this._expandSubtreeToChild(t,!0),this._expandedParents.add(e)},!1)}expandAll(){this._safeChangeFolding(()=>{this._safeCallJqxTreeGridMethod("expandAll"),this._expandedParents=new Set(this.dataSource.map(e=>e[this._pathFieldName]))},!1)}_safeChangeFolding(e,t){const i=this.updating;i||this.jqref.jqxTreeGrid("beginUpdate"),e(),i||this.jqref.jqxTreeGrid("endUpdate"),t&&this._notifyFoldingChanged()}get columnWidths(){return this._columnWidths||["auto"]}set columnWidths(e){const t=this._columnWidths||[],i=e||[];fs.isDeepEqual(t!==i)||(this._columnWidths=i,this._updateColumns())}get selectedData(){return void 0!==this._niTypeInstance?vs.getRecordsFromPaths(this._niTypeInstance,this.dataSource,this.selection):[]}get selection(){let e;return void 0!==this.jqref&&(e=this.jqref.jqxTreeGrid("getSelection")),this.allowSelection&&void 0!==e?e.some(e=>void 0===e)?this._selection:e.map(e=>e&&e[this._pathDataFieldName]):[]}set selection(e){if(e=vs.ensureValidSelection(this._pathFieldName,this.dataSource,e)||[],void 0!==this.jqref){const t=this.jqref.jqxTreeGrid("getSelection").filter(e=>void 0!==e).map(e=>e.id),i=e.map(e=>{const t=this._pathsToIdsMap.get(e);return void 0!==t?t.toString():void 0}).filter(e=>void 0!==e);fs.isDeepEqual(t.sort(),i.sort())||(this.selectionIsChanging=!0,this.jqref.jqxTreeGrid("dataview").update(),this.jqref.jqxTreeGrid("clearSelection"),this.allowSelection&&e.forEach(e=>{const t=this._pathsToIdsMap.get(e);this.jqref.jqxTreeGrid("selectRow",t)}),delete this.selectionIsChanging)}this._selection=e}revealRows(e){e.forEach(e=>{const t=this._pathsToIdsMap.get(e);void 0!==t&&this._expandSubtreeToChild(t)}),this.jqref.jqxTreeGrid("ensureRowVisible",this._pathsToIdsMap.get(e[0]))}clearSelection(){this.selection=[]}_updateColumns(){if(void 0===this._niTypeInstance)return;this._safeCallJqxTreeGridMethod("beginUpdate");const e=this._niTypeInstance.getSubtype().getFields().length,t=[...this.columnWidths.slice(0,e),...Array(Math.max(0,e-this.columnWidths.length)).fill(100)],i=[...this.columnHeaders.slice(0,e),...Array(Math.max(0,e-this.columnHeaders.length)).fill(" ")],n=[],r=this._niTypeInstance.getSubtype().getFields();this._columnDataFields=[];for(let e=0;e<r.length;e++){const a=0===e?"caption":vs.getJqxDataFieldName(r[e]),s={text:i[e],width:t[e],datafield:a,renderer:function(e,t,i){return'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+'; margin: 4px;"><span style="text-overflow: ellipsis; cursor: default;">'+$t.escapeHtml(e)+"</span></div>"}};this._columnDataFields.push(a),n.push(s)}this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this.jqref.jqxTreeGrid({columns:n})}),this._safeCallJqxTreeGridMethod("endUpdate")}_dataSourceValidator(e,t){if("string"==typeof t&&this.properties.dataSource.isUpdatingFromAttribute)try{t=JSON.parse(t)}catch(t){return e}return vs.isValidArrayForTreeDataSource(t)?t:e}_setDataSource(e){if(void 0!==e&&void 0!==this._pathFieldName){let t=0;const i=this._dataSourceAdapter;void 0!==i&&(t=i.records.length);const n=vs.arrayAsJqxTreeGridSource(e,this._pathFieldName),r=n.dataAdapter;let a=0;void 0!==r._source.localdata&&(a=r._source.localdata.length);let s=0===t||t!==a;if(!s){let e;for(e=0;e<a&&i.records[e][this._pathDataFieldName]===r._source.localdata[e][this._pathDataFieldName];e++);if(e===a){for(e=0;e<a;e++){const t=i.records[e],n=r._source.localdata[e];if(!fs.isDeepEqual(t,n)){const e=this.jqref.jqxTreeGrid("getRow",n.id);for(let i=1;i<this._columnDataFields.length;i++){const r=this._columnDataFields[i];t[r]=n[r],e[r]=n[r]}}}this.jqref.jqxTreeGrid("_renderrows")}else s=!0}s&&this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this._pathsToIdsMap=n.pathsToIdsMap,this._dataSourceAdapter=r,this.jqref.jqxTreeGrid({source:r})})}}_updateTreeAndPreserveSelectionAndScrollOffset(e){const t=this.selection,i=this.jqref.jqxTreeGrid("scrollOffset");e(),this.selection=t.filter(e=>this._pathsToIdsMap.has(e)),this._expandedParents=new Set(Array.from(this._expandedParents).filter(e=>this._pathsToIdsMap.has(e)));const n=this.querySelector("div.jqx-scrollbar");if(null!=n){"hidden"===window.getComputedStyle(n).visibility&&(i.top=0)}this.jqref.jqxTreeGrid("scrollOffset",i.top,i.left)}_resizeHandler(){void 0!==this.jqref&&this.offsetWidth>0&&this.offsetHeight>0&&this.jqref.jqxTreeGrid({width:this.offsetWidth,height:this.offsetHeight})}_columnResizeHandler(e){const t=this.jqref.jqxTreeGrid("columns"),i=t.records.findIndex(t=>t.datafield===e.args.dataField);if(i>=0){const n=t.length(),r=[...this.columnWidths,...Array(Math.max(0,n-this.columnWidths.length)).fill(100)];r[i]=e.args.newWidth,this._columnWidths=r,this.dispatchEvent(new CustomEvent("columnsResized",{detail:{newWidths:this._columnWidths}}))}}_interactiveSelectionChangeHandler(e){const t=this;if(!0!==t.selectionIsChanging){if("clearingSelection"===e.args.reason)return;if(!t.allowSelection)return void t.jqref.jqxTreeGrid("clearSelection");if(!fs.isDeepEqual(t.selection,t._selection)){const e=t.selection;t.dispatchEvent(new CustomEvent("selectionChange",{detail:{newSelection:e,oldSelection:t._selection||[],selectedData:t.selectedData}})),t._selection=e}}}_refreshFolding(){this.foldingIsChanging=!0,this.jqref.jqxTreeGrid("collapseAll"),this._expandedParents.forEach(e=>{const t=this._pathsToIdsMap.get(e);void 0!==t&&this.jqref.jqxTreeGrid("expandRow",t)}),delete this.foldingIsChanging}_rowExpansionChangeHandler(e){const t=e.type,i=e.args.row;"rowExpand"===t?this._expandedParents.add(i[this._pathDataFieldName]):this._expandedParents.delete(i[this._pathDataFieldName]),this.foldingIsChanging||this._notifyFoldingChanged(t,i[this._pathDataFieldName])}_notifyFoldingChanged(e,t){const i={newFolding:Array.from(this._expandedParents),changeType:e||"programmatic"};"programmatic"!==i.changeType&&(i.path=t,i.data=vs.getRecordsFromPaths(this._niTypeInstance,this.dataSource,[t])[0]),this.dispatchEvent(new CustomEvent("foldingChanged",{detail:i}))}_traverseParentsToRoot(e,t){let i=e;for(;void 0!==i&&null!==i.parent;)t(i.parent),i=i.parent}_traverseSubtreenDepthFirst(e,t){const i=e,n=i.records;n&&n.forEach(e=>this._traverseSubtreenDepthFirst(e,t)),t(i)}_expandSubtreeToChild(e,t){if(void 0===this.jqref||void 0===e)return;let i=this.jqref.jqxTreeGrid("getRow",e);for(void 0!==i&&!0!==t&&(i=i.parent);null!=i;)this.jqref.jqxTreeGrid("expandRow",i.id),i=i.parent}_safeCallJqxTreeGridMethod(e,t){if(void 0!==this.jqref)return this.jqref.jqxTreeGrid(e,t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);const n=this;switch(e){case"disabled":n.jqref.jqxTreeGrid("disabled",n.disabled)}}focus(...e){return this.childDiv.focus(...e)}});var Es=Object.freeze({}),Ds={};Ds.Offset,Ds.Table,Ds.SIZEOF_SHORT=2,Ds.SIZEOF_INT=4,Ds.FILE_IDENTIFIER_LENGTH=4,Ds.Encoding={UTF8_BYTES:1,UTF16_STRING:2},Ds.int32=new Int32Array(2),Ds.float32=new Float32Array(Ds.int32.buffer),Ds.float64=new Float64Array(Ds.int32.buffer),Ds.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],Ds.Long=function(e,t){this.low=0|e,this.high=0|t},Ds.Long.create=function(e,t){return 0==e&&0==t?Ds.Long.ZERO:new Ds.Long(e,t)},Ds.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},Ds.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},Ds.Long.ZERO=new Ds.Long(0,0),Ds.Builder=function(e){if(e)t=e;else var t=1024;this.bb=Ds.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},Ds.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},Ds.Builder.prototype.dataBuffer=function(){return this.bb},Ds.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},Ds.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var i=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<i+e+t;){var n=this.bb.capacity();this.bb=Ds.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(i)},Ds.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},Ds.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},Ds.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},Ds.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},Ds.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},Ds.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},Ds.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},Ds.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},Ds.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},Ds.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},Ds.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},Ds.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},Ds.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},Ds.Builder.prototype.addFieldInt8=function(e,t,i){(this.force_defaults||t!=i)&&(this.addInt8(t),this.slot(e))},Ds.Builder.prototype.addFieldInt16=function(e,t,i){(this.force_defaults||t!=i)&&(this.addInt16(t),this.slot(e))},Ds.Builder.prototype.addFieldInt32=function(e,t,i){(this.force_defaults||t!=i)&&(this.addInt32(t),this.slot(e))},Ds.Builder.prototype.addFieldInt64=function(e,t,i){!this.force_defaults&&t.equals(i)||(this.addInt64(t),this.slot(e))},Ds.Builder.prototype.addFieldFloat32=function(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat32(t),this.slot(e))},Ds.Builder.prototype.addFieldFloat64=function(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat64(t),this.slot(e))},Ds.Builder.prototype.addFieldOffset=function(e,t,i){(this.force_defaults||t!=i)&&(this.addOffset(t),this.slot(e))},Ds.Builder.prototype.addFieldStruct=function(e,t,i){t!=i&&(this.nested(t),this.slot(e))},Ds.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},Ds.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},Ds.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},Ds.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},Ds.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var i=t<<1,n=Ds.ByteBuffer.allocate(i);return n.setPosition(i-t),n.bytes().set(e.bytes(),i-t),n},Ds.Builder.prototype.addOffset=function(e){this.prep(Ds.SIZEOF_INT,0),this.writeInt32(this.offset()-e+Ds.SIZEOF_INT)},Ds.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},Ds.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var i=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var n=(i+2)*Ds.SIZEOF_SHORT;this.addInt16(n);var r=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var s=this.bb.capacity()-this.vtables[t];if(n==this.bb.readInt16(s)){for(var o=Ds.SIZEOF_SHORT;o<n;o+=Ds.SIZEOF_SHORT)if(this.bb.readInt16(a+o)!=this.bb.readInt16(s+o))continue e;r=this.vtables[t];break}}return r?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,r-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},Ds.Builder.prototype.finish=function(e,t){if(t){var i=t;if(this.prep(this.minalign,Ds.SIZEOF_INT+Ds.FILE_IDENTIFIER_LENGTH),i.length!=Ds.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Ds.FILE_IDENTIFIER_LENGTH);for(var n=Ds.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(i.charCodeAt(n))}this.prep(this.minalign,Ds.SIZEOF_INT),this.addOffset(e),this.bb.setPosition(this.space)},Ds.Builder.prototype.requiredField=function(e,t){var i=this.bb.capacity()-e,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+t)))throw new Error("FlatBuffers: field "+t+" must be set")},Ds.Builder.prototype.startVector=function(e,t,i){this.notNested(),this.vector_num_elems=t,this.prep(Ds.SIZEOF_INT,e*t),this.prep(i,e*t)},Ds.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},Ds.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var i=0;i<e.length;){var n,r=e.charCodeAt(i++);if(r<55296||r>=56320)n=r;else n=(r<<10)+e.charCodeAt(i++)+-56613888;n<128?t.push(n):(n<2048?t.push(n>>6&31|192):(n<65536?t.push(n>>12&15|224):t.push(n>>18&7|240,n>>12&63|128),t.push(n>>6&63|128)),t.push(63&n|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);i=0;for(var a=this.space,s=this.bb.bytes();i<t.length;i++)s[a++]=t[i];return this.endVector()},Ds.Builder.prototype.createLong=function(e,t){return Ds.Long.create(e,t)},Ds.ByteBuffer=function(e){this.bytes_=e,this.position_=0},Ds.ByteBuffer.allocate=function(e){return new Ds.ByteBuffer(new Uint8Array(e))},Ds.ByteBuffer.prototype.bytes=function(){return this.bytes_},Ds.ByteBuffer.prototype.position=function(){return this.position_},Ds.ByteBuffer.prototype.setPosition=function(e){this.position_=e},Ds.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},Ds.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},Ds.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},Ds.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},Ds.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},Ds.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},Ds.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},Ds.ByteBuffer.prototype.readInt64=function(e){return new Ds.Long(this.readInt32(e),this.readInt32(e+4))},Ds.ByteBuffer.prototype.readUint64=function(e){return new Ds.Long(this.readUint32(e),this.readUint32(e+4))},Ds.ByteBuffer.prototype.readFloat32=function(e){return Ds.int32[0]=this.readInt32(e),Ds.float32[0]},Ds.ByteBuffer.prototype.readFloat64=function(e){return Ds.int32[Ds.isLittleEndian?0:1]=this.readInt32(e),Ds.int32[Ds.isLittleEndian?1:0]=this.readInt32(e+4),Ds.float64[0]},Ds.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},Ds.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},Ds.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},Ds.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},Ds.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},Ds.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},Ds.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},Ds.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},Ds.ByteBuffer.prototype.writeFloat32=function(e,t){Ds.float32[0]=t,this.writeInt32(e,Ds.int32[0])},Ds.ByteBuffer.prototype.writeFloat64=function(e,t){Ds.float64[0]=t,this.writeInt32(e,Ds.int32[Ds.isLittleEndian?0:1]),this.writeInt32(e+4,Ds.int32[Ds.isLittleEndian?1:0])},Ds.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+Ds.SIZEOF_INT+Ds.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<Ds.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+Ds.SIZEOF_INT+t));return e},Ds.ByteBuffer.prototype.__offset=function(e,t){var i=e-this.readInt32(e);return t<this.readInt16(i)?this.readInt16(i+t):0},Ds.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},Ds.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var i=this.readInt32(e),n="",r=0;if(e+=Ds.SIZEOF_INT,t===Ds.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+i);for(;r<i;){var a,s=this.readUint8(e+r++);if(s<192)a=s;else{var o=this.readUint8(e+r++);if(s<224)a=(31&s)<<6|63&o;else{var l=this.readUint8(e+r++);if(s<240)a=(15&s)<<12|(63&o)<<6|63&l;else a=(7&s)<<18|(63&o)<<12|(63&l)<<6|63&this.readUint8(e+r++)}}a<65536?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return n},Ds.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},Ds.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+Ds.SIZEOF_INT},Ds.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},Ds.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=Ds.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Ds.FILE_IDENTIFIER_LENGTH);for(var t=0;t<Ds.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+Ds.SIZEOF_INT+t))return!1;return!0},Ds.ByteBuffer.prototype.createLong=function(e,t){return Ds.Long.create(e,t)},window.flatbuffers=Ds;var ks=Object.freeze({});const js=window.NITypes,Ms={value:!0,interval:!0,minimum:!0,maximum:!0};class As extends Hn{constructor(e){super(e),this.niType=js.DOUBLE,this._minimum=0,this._maximum=10,this._interval=1,this._value=0,this._significantDigits=2,this._precisionDigits=-1,this._format="floating point"}static get MAXIMUM_G_PROPERTY_NAME(){return"Maximum"}static get MINIMUM_G_PROPERTY_NAME(){return"Minimum"}static get INTERVAL_G_PROPERTY_NAME(){return"Interval"}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get interval(){return this._interval}set interval(e){this._interval=e,this.notifyModelPropertyChanged("interval")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get significantDigits(){return this._significantDigits}set significantDigits(e){this._significantDigits=e,this.notifyModelPropertyChanged("significantDigits")}get precisionDigits(){return this._precisionDigits}set precisionDigits(e){this._precisionDigits=e,this.notifyModelPropertyChanged("precisionDigits")}get format(){return this._format}set format(e){this._format=e,this.notifyModelPropertyChanged("format")}modelPropertyUsesNIType(e){return!0===Ms[e]}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case As.MINIMUM_G_PROPERTY_NAME:case As.MAXIMUM_G_PROPERTY_NAME:case As.INTERVAL_G_PROPERTY_NAME:return this.niType}return super.gPropertyNIType(e)}}class Ns extends Hn{gPropertyNIType(e){switch(e){case Hn.VISIBLE_G_PROPERTY_NAME:return window.NITypes.BOOLEAN;default:return super.gPropertyNIType(e)}}}class qs extends As{constructor(e){super(e),this._scaleVisible=!0,this._majorTicksVisible=!0,this._minorTicksVisible=!0,this._labelsVisible=!0,this._coercionMode=!1,this._rangeDivisionsMode="auto",this._mechanicalAction="switchWhileDragging",this._numericScaleModel=void 0}static get SCALE_G_PROPERTY_NAME(){return"Scale"}static get SCALE_RUNTIME_ID(){return"NumericScale_RuntimeId"}get scaleModel(){return this._numericScaleModel}get scaleVisible(){return this._scaleVisible}set scaleVisible(e){this._scaleVisible=e,this.notifyModelPropertyChanged("scaleVisible")}get majorTicksVisible(){return this._majorTicksVisible}set majorTicksVisible(e){this._majorTicksVisible=e,this.notifyModelPropertyChanged("majorTicksVisible")}get minorTicksVisible(){return this._minorTicksVisible}set minorTicksVisible(e){this._minorTicksVisible=e,this.notifyModelPropertyChanged("minorTicksVisible")}get labelsVisible(){return this._labelsVisible}set labelsVisible(e){this._labelsVisible=e,this.notifyModelPropertyChanged("labelsVisible")}get coercionMode(){return this._coercionMode}set coercionMode(e){this._coercionMode=e,this.notifyModelPropertyChanged("coercionMode")}get rangeDivisionsMode(){return this._rangeDivisionsMode}set rangeDivisionsMode(e){this._rangeDivisionsMode=e,this.notifyModelPropertyChanged("rangeDivisionsMode")}get mechanicalAction(){return this._mechanicalAction}set mechanicalAction(e){this._mechanicalAction=e,this.notifyModelPropertyChanged("mechanicalAction")}gPropertyNIType(e){return e===qs.SCALE_RUNTIME_ID?window.NITypes.INT32:super.gPropertyNIType(e)}createNumericScaleModel(e){this._numericScaleModel=new Ns(e)}getNumericScaleModel(){return this._numericScaleModel}}class Os extends qs{constructor(e){super(e),this._scaleArc={startAngle:0,sweepAngle:180}}get scaleArc(){return this._scaleArc}set scaleArc(e){this._scaleArc=e,this.notifyModelPropertyChanged("scaleArc")}}class Bs extends Os{constructor(e){super(e),this._analogDisplayType="needle",this._digitalDisplayVisible=!1,this._digitalDisplayPosition="bottom"}static get MODEL_KIND(){return"niGauge"}get analogDisplayType(){return this._analogDisplayType}set analogDisplayType(e){this._analogDisplayType=e,this.notifyModelPropertyChanged("analogDisplayType")}get digitalDisplayVisible(){return this._digitalDisplayVisible}set digitalDisplayVisible(e){this._digitalDisplayVisible=e,this.notifyModelPropertyChanged("digitalDisplayVisible")}get digitalDisplayPosition(){return this._digitalDisplayPosition}set digitalDisplayPosition(e){this._digitalDisplayPosition=e,this.notifyModelPropertyChanged("digitalDisplayPosition")}}Pn.registerModel(Bs);const Rs=window.NIType,Vs=window.NITypes;class Hs{static convertNITypeToJQX(e){return e.isComplex()?"complex":e.isFloat()?"floatingPoint":"integer"}static convertJQXTypeToNI(e){let t,i;return"integer"===e.inputFormat||"integer"===e.scaleType?(i=e.wordLength.replace(/(u?i)/,function(e){return e.toUpperCase()}),t=new Rs(JSON.stringify(i))):t="floatingPoint"===e.inputFormat||"floatingPoint"===e.scaleType?Vs.DOUBLE:Vs.COMPLEXDOUBLE,t}static convert(e,t){return e.toString()}static convertBack(e,t){return void 0===t||t.isInteger()&&!1===t.is64BitInteger()?parseInt(e):t.isFloat()?parseFloat(e):(t.is64BitInteger()||t.isComplex(),e.toString())}}const Ls=window.NIComplex,zs=Number.MAX_VALUE,Fs=function(e,t){let i=e;return t.niType.is64BitInteger()?i=new window.JQX.Utilities.BigNumber(e):t.niType.isComplex()&&(i=new Ls(i)),i},Us=function(e,t){(function(e,t){if(t.niType.isComplex()){if(e.realPart<=0||isNaN(e.realPart)||isNaN(e.imaginaryPart))return!1}else if(isNaN(e)||e<=0)return!1;return!0})(Fs(e,t),t)&&(t.interval=function(e,t){const i=Fs(e,t);let n=!1;if(t.niType.isComplex()?isFinite(i.realPart)&&isFinite(i.imaginaryPart)||(n=!0):isFinite(i)||(n=!0),n){const i=t.getNITypeString();switch(i){case"Double":e=zs;break;case"Single":e=3.40282347e38;break;case"ComplexSingle":e=new Ls(3.40282347e38,3.40282347e38).toString();break;case"ComplexDouble":e=new Ls(zs,zs).toString();break;default:throw new Error("Missing data type {0}",i)}}return e}(e,t))},$s=function(e,t){const i=Fs(e,t);t.niType.is64BitInteger()?i.compare(t.minimum)>0&&(t.maximum=e):!isNaN(i)&&t.minimum<i&&(t.maximum=e)},Ws=function(e,t){const i=Fs(e,t);t.niType.is64BitInteger()?i.compare(t.maximum)<0&&(t.minimum=e):!isNaN(i)&&t.maximum>i&&(t.minimum=e)};class Gs extends Dr{getReadOnlyPropertyName(){return"readonly"}applyModelToElement(){super.applyModelToElement(),this.element.validation="interaction",this.element.niType=this.model.getNITypeString()}updateModelFromElement(){super.updateModelFromElement(),this.model.niType=new window.NIType(this.element.niType)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;case As.INTERVAL_G_PROPERTY_NAME:Us(t,i);break;case As.MAXIMUM_G_PROPERTY_NAME:$s(t,i);break;case As.MINIMUM_G_PROPERTY_NAME:Ws(t,i);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;case As.INTERVAL_G_PROPERTY_NAME:return t.interval;case As.MAXIMUM_G_PROPERTY_NAME:return t.maximum;case As.MINIMUM_G_PROPERTY_NAME:return t.minimum;default:return super.getGPropertyValue(e)}}}class Xs extends Dr{constructor(e,t){super(e,t.scaleModel),this.owningNumericPointerModel=t}setGPropertyValue(e,t){switch(e){case Hn.VISIBLE_G_PROPERTY_NAME:this.owningNumericPointerModel.scaleVisible=t;break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Hn.VISIBLE_G_PROPERTY_NAME:return this.owningNumericPointerModel.scaleVisible;default:return super.getGPropertyValue(e)}}}const Ys=function(e,t){let i="";return i=e&&t?"minor":e&&!t?"major":"none"},Js=function(e,t){let i="";return i=!0===e&&"auto"===t?"all":!0===e&&"count(2)"===t?"endPoints":"none"};class Qs extends Gs{constructor(e,t){super(e,t),this._numericScaleViewModel=void 0,this.registerAutoSyncProperty("scaleVisible"),this.registerAutoSyncProperty("majorTicksVisible"),this.registerAutoSyncProperty("minorTicksVisible"),this.registerAutoSyncProperty("labelsVisible"),this.registerAutoSyncProperty("coercionMode"),this.registerAutoSyncProperty("rangeDivisionsMode")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"significantDigits":-1===this.model.significantDigits?t.properties.significantDigits=null:t.properties.significantDigits=this.model.significantDigits;break;case"precisionDigits":-1===this.model.precisionDigits?t.properties.precisionDigits=null:t.properties.precisionDigits=this.model.precisionDigits;break;case"minimum":t.properties.min=Hs.convert(this.model.minimum,this.model.niType);break;case"maximum":t.properties.max=Hs.convert(this.model.maximum,this.model.niType);break;case"interval":t.properties.interval=Hs.convert(this.model.interval,this.model.niType);break;case"value":t.properties.value=Hs.convert(this.model.value,this.model.niType);break;case"niType":t.properties.scaleType=Hs.convertNITypeToJQX(this.model.niType),"integer"===t.properties.scaleType&&(t.properties.wordLength=this.model.niType.getName().toLowerCase());break;case"majorTicksVisible":case"minorTicksVisible":t.properties.ticksVisibility=Ys(this.model.majorTicksVisible,this.model.minorTicksVisible);break;case"labelsVisible":case"rangeDivisionsMode":t.properties.labelsVisibility=Js(this.model.labelsVisible,this.model.rangeDivisionsMode);break;case"format":"scientific"===this.model.format?t.properties.scientificNotation=!0:t.properties.scientificNotation=!1;break;case"coercionMode":t.properties.coerce=this.model.coercionMode;break;case"mechanicalAction":t.properties.mechanicalAction=this.model.mechanicalAction}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=Hs.convertBack(this.element.value,this.model.niType),this.model.maximum=Hs.convertBack(this.element.max,this.model.niType),this.model.minimum=Hs.convertBack(this.element.min,this.model.niType),this.model.interval=Hs.convertBack(this.element.interval,this.model.niType),null!==this.element.significantDigits?(this.model.significantDigits=this.element.significantDigits,this.model.precisionDigits=-1):null!==this.element.precisionDigits&&(this.model.precisionDigits=this.element.precisionDigits,this.model.significantDigits=-1),this.model.coercionMode=this.element.coerce,"minor"===this.element.ticksVisibility?(this.model.majorTicksVisible=!0,this.model.minorTicksVisible=!0):"major"===this.element.ticksVisibility?(this.model.majorTicksVisible=!0,this.model.minorTicksVisible=!1):(this.model.majorTicksVisible=!1,this.model.minorTicksVisible=!1),"none"===this.element.labelsVisibility?this.model.labelsVisible=!1:(this.model.labelsVisible=!0,"all"===this.element.labelsVisibility?this.model.rangeDivisionsMode="auto":this.model.rangeDivisionsMode="count(2)"),!0===this.element.scientificNotation?this.model.format="scientific":this.model.format="",this.model.mechanicalAction=this.element.mechanicalAction}applyModelToElement(){super.applyModelToElement(),this.element.max=Hs.convert(this.model.maximum,this.model.niType),this.element.min=Hs.convert(this.model.minimum,this.model.niType),this.element.interval=Hs.convert(this.model.interval,this.model.niType),this.element.value=Hs.convert(this.model.value,this.model.niType),this.model.significantDigits>=0?(this.element.significantDigits=this.model.significantDigits,this.element.precisionDigits=null):this.model.precisionDigits>=0&&(this.element.precisionDigits=this.model.precisionDigits,this.element.significantDigits=null),this.element.coerce=this.model.coercionMode,this.element.ticksVisibility=Ys(this.model.majorTicksVisible,this.model.minorTicksVisible),this.element.labelsVisibility=Js(this.model.labelsVisible,this.model.rangeDivisionsMode),"scientific"===this.model.format&&(this.element.scientificNotation=!0),this.element.mechanicalAction=this.model.mechanicalAction}createNumericScaleViewModel(){this._numericScaleViewModel=new Xs(this.element,this.model)}getGPropertyValue(e){switch(e){case qs.SCALE_G_PROPERTY_NAME:return void 0===this._numericScaleViewModel&&(this.model.createNumericScaleModel($t.uniqueId()),this.createNumericScaleViewModel()),this._numericScaleViewModel;case qs.SCALE_RUNTIME_ID:return void 0===this._numericScaleViewModel?0:this._numericScaleViewModel.model.niControlId;default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){switch(e){case qs.SCALE_RUNTIME_ID:{const e=t;this.model.createNumericScaleModel(e),this.createNumericScaleViewModel(),this.model.getRoot().updateModelAndViewModelMapping(e,this.model.getNumericScaleModel(),this._numericScaleViewModel);break}default:super.setGPropertyValue(e,t)}}}const Ks=function(e){return e.startAngle},Zs=function(e){return e.startAngle+e.sweepAngle},eo=function(e,t){return{startAngle:t,sweepAngle:e-t}},to=function(e){let t="";return t=!0===e?"inside":"none"};class io extends Qs{modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"scaleArc":t.properties.startAngle=Zs(this.model.scaleArc),t.properties.endAngle=Ks(this.model.scaleArc);break;case"scaleVisible":t.properties.scalePosition=to(this.model.scaleVisible)}return t}updateModelFromElement(){super.updateModelFromElement();const e=eo(this.element.startAngle,this.element.endAngle);this.model.scaleArc=e,this.model.scaleVisible="inside"===this.element.scalePosition}applyModelToElement(){super.applyModelToElement(),this.element.startAngle=Zs(this.model.scaleArc),this.element.endAngle=Ks(this.model.scaleArc),this.element.scalePosition=to(this.model.scaleVisible)}}class no extends io{bindToView(){super.bindToView();const e=this;e.element.addEventListener("change",function(t){const i=Hs.convertBack(t.detail.value,e.model.niType);e.model.controlChanged(i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"analogDisplayType":t.properties.analogDisplayType=this.model.analogDisplayType;break;case"digitalDisplayVisible":t.properties.digitalDisplay=this.model.digitalDisplayVisible;break;case"digitalDisplayPosition":t.properties.digitalDisplayPosition=this.model.digitalDisplayPosition}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.analogDisplayType=this.element.analogDisplayType,this.model.digitalDisplayVisible=this.element.digitalDisplay,this.model.digitalDisplayPosition=this.element.digitalPosition}applyModelToElement(){super.applyModelToElement(),this.element.analogDisplayType=this.model.analogDisplayType,this.element.digitalDisplay=this.model.digitalDisplayVisible,this.element.digitalPosition=this.model.digitalDisplayPosition}}Pn.registerViewModel(no,void 0,Bs,"jqx-gauge");var ro=Object.freeze({GaugeViewModel:no});const ao=function(e,t){let i="";return i=!0===e?"vertical"===t?"near":"far":"none"},so=function(e,t){t.properties.scalePosition=ao(e.scaleVisible,e.orientation)};class oo extends Qs{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation")}bindToView(){super.bindToView();const e=this,t=function(t){const i=Hs.convertBack(t.detail.value,e.model.niType);e.model.value!==i&&e.model.controlChanged(i)};e.element.addEventListener("value-changed",function(e){t(e)}),e.element.addEventListener("change",function(e){t(e)})}modelPropertyChanged(e){const t=this;let i=!1;const n=super.modelPropertyChanged(e);switch(e){case"fill":n.cssStyles[xr.FILL]=this.model.fill;break;case"orientation":i=!0,n.properties.orientation=this.model.orientation,so(this.model,n);break;case"scaleVisible":i=!0,so(this.model,n);break;case"minimum":case"maximum":case"fontSize":case"fontWeight":case"fontStyle":case"fontFamily":case"textDecoration":case"majorTicksVisible":case"minorTicksVisible":case"labelsVisible":case"rangeDivisionsMode":case"format":i=!0}return!0===i&&(n.postRender.updateSize=function(){const e=t.element.getOptimalSize();"vertical"===t.model.orientation&&e.width>parseInt(t.model.width)?t.model.sizeChanged("width",e):"horizontal"===t.model.orientation&&e.height>parseInt(t.model.height)&&t.model.sizeChanged("height",e)}),n}updateModelFromElement(){super.updateModelFromElement(),this.model.orientation=this.element.orientation;const e=window.getComputedStyle(this.element);this.model.fill=e.getPropertyValue(xr.FILL),"none"===this.element.scalePosition?this.model.scaleVisible=!1:this.model.scaleVisible=!0}applyModelToElement(){super.applyModelToElement(),this.element.orientation=this.model.orientation,this.element.scalePosition=ao(this.model.scaleVisible,this.model.orientation),this.element.style.setProperty(xr.FILL,this.model.fill)}}class lo extends qs{constructor(e){super(e),this._orientation="horizontal",this._fill="#4386B9"}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get fill(){return this._fill}set fill(e){this._fill=e,this.notifyModelPropertyChanged("fill")}sizeChanged(e,t){this.internalControlEventOccurred("DesiredSizeChanged",{dimension:e,value:t})}}class ho extends lo{constructor(e){super(e),this._showTooltip=!0,this._mechanicalAction="switchWhileDragging"}static get MODEL_KIND(){return"niSlider"}get showTooltip(){return this._showTooltip}set showTooltip(e){this._showTooltip=e,this.notifyModelPropertyChanged("showTooltip")}get mechanicalAction(){return this._mechanicalAction}set mechanicalAction(e){this._mechanicalAction=e,this.notifyModelPropertyChanged("mechanicalAction")}}Pn.registerModel(ho);class co extends oo{modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"showTooltip":t.properties.showTooltip=this.model.showTooltip}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.showTooltip=this.element.showTooltip,this.model.mechanicalAction=this.element.mechanicalAction}applyModelToElement(){super.applyModelToElement(),this.element.showTooltip=this.model.showTooltip,this.element.mechanicalAction=this.model.mechanicalAction}}Pn.registerViewModel(co,void 0,ho,"jqx-slider");var uo=Object.freeze({SliderViewModel:co});class po extends lo{static get MODEL_KIND(){return"niTank"}}Pn.registerModel(po);class mo extends oo{}Pn.registerViewModel(mo,void 0,po,"jqx-tank");var fo=Object.freeze({TankViewModel:mo});const go=window.NITypes;class vo extends Hn{constructor(e){super(e),this.niType=go.DOUBLE,this._minimum=0,this._maximum=10,this._value=0,this._indeterminate=!1}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get indeterminate(){return this._indeterminate}set indeterminate(e){this._indeterminate=e,this.notifyModelPropertyChanged("indeterminate")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",e,t)}}const bo=Object.freeze({VERTICAL:"vertical",HORIZONTAL:"horizontal"});class yo extends vo{constructor(e){super(e),this._orientation=yo.OrientationEnum.HORIZONTAL}static get MODEL_KIND(){return"niLinearProgressBar"}static get OrientationEnum(){return bo}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}}Pn.registerModel(yo);class _o{static clamp(e,t,i){return Math.max(t,Math.min(e,i))}}class wo extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("maximum"),this.registerAutoSyncProperty("minimum"),this.registerAutoSyncProperty("value"),this.registerAutoSyncProperty("indeterminate")}getReadOnlyPropertyName(){return"readonly"}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"minimum":t.properties.min=this.model.minimum;break;case"maximum":t.properties.max=this.model.maximum;break;case"value":t.properties.value=this.model.value;break;case"indeterminate":t.properties.indeterminate=this.model.indeterminate}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=this.element.value,this.model.maximum=this.element.max,this.model.minimum=this.element.min,this.model.indeterminate=this.element.indeterminate}applyModelToElement(){super.applyModelToElement(),this.element.max=this.model.maximum,this.element.min=this.model.minimum,this.element.value=this.model.value,this.element.indeterminate=this.model.indeterminate}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=_o.clamp(t,i.minimum,i.maximum);break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(_o.clamp(t,i.minimum,i.maximum));break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;default:return super.getGPropertyValue(e)}}}class xo extends wo{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"orientation":t.properties.orientation=this.model.orientation,"vertical"===this.model.orientation?t.properties.inverted=!0:t.properties.inverted=!1}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.orientation=this.element.orientation}applyModelToElement(){super.applyModelToElement(),this.element.orientation=this.model.orientation,"vertical"===this.model.orientation?this.element.inverted=!0:this.element.inverted=!1}}Pn.registerViewModel(xo,void 0,yo,"jqx-progress-bar");var Co=Object.freeze({LinearProgressBarViewModel:xo});class So extends vo{static get MODEL_KIND(){return"niRadialProgressBar"}}Pn.registerModel(So);class To extends wo{}Pn.registerViewModel(To,void 0,So,"jqx-circular-progress-bar");var Po=Object.freeze({RadialProgressBarViewModel:To});class Io extends As{constructor(e){super(e),this._radixVisible=!1,this._popupEnabled=!1,this._spinButtons=!1,this._spinButtonsPosition="right",this._textAlignment="right"}static get MODEL_KIND(){return"niNumericTextBox"}get radixVisible(){return this._radixVisible}set radixVisible(e){this._radixVisible=e,this.notifyModelPropertyChanged("radixVisible")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get spinButtons(){return this._spinButtons}set spinButtons(e){this._spinButtons=e,this.notifyModelPropertyChanged("spinButtons")}get spinButtonsPosition(){return this._spinButtonsPosition}set spinButtonsPosition(e){this._spinButtonsPosition=e,this.notifyModelPropertyChanged("spinButtonsPosition")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}}Pn.registerModel(Io);class Eo extends Gs{constructor(e,t){super(e,t),this.registerAutoSyncProperty("spinButtonsPosition")}bindToView(){super.bindToView();const e=this;this.bindFocusEventListener();const t=function(t){const i=Hs.convertBack(t.detail.value,e.model.niType);e._valueChanging=!0,e.model.controlChanged(i),e._valueChanging=!1};this.element.addEventListener("change",function(e){t(e)}),this.element.addEventListener("value-changed",function(e){t(e)})}convertNIFormatToJQX(e,t,i){const n=Hs.convertNITypeToJQX(e);switch(t){case"floating point":i.scientificNotation=!1;break;case"scientific":i.scientificNotation=!0;break;case"decimal":i.scientificNotation=!1,"integer"===n&&(i.inputFormat="integer",i.radix="decimal");break;case"hexadecimal":i.radix="hexadecimal";break;case"octal":i.radix="octal";break;case"binary":i.radix="binary"}}convertJQXFormatToNI(e,t){"integer"===e.inputFormat?t.format=e.radix:t.format=e.scientificNotation?"scientific":"floating point"}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"significantDigits":-1===this.model.significantDigits?t.properties.significantDigits=null:t.properties.significantDigits=this.model.significantDigits;break;case"precisionDigits":-1===this.model.precisionDigits?t.properties.precisionDigits=null:t.properties.precisionDigits=this.model.precisionDigits;break;case"format":this.convertNIFormatToJQX(this.model.niType,this.model.format,t.properties);break;case"minimum":t.properties.min=Hs.convert(this.model.minimum,this.model.niType);break;case"maximum":t.properties.max=Hs.convert(this.model.maximum,this.model.niType);break;case"interval":t.properties.spinButtonsStep=Hs.convert(this.model.interval,this.model.niType);break;case"value":this._valueChanging||(t.properties.value=Hs.convert(this.model.value,this.model.niType));break;case"niType":break;case"spinButtons":t.properties.spinButtons=this.model.spinButtons;break;case"radixVisible":t.properties.radixDisplay=this.model.radixVisible;break;case"popupEnabled":t.properties.dropDownEnabled=this.model.popupEnabled;break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=Hs.convertBack(this.element.value,this.model.niType),this.model.defaultValue=Hs.convertBack(this.element.value,this.model.niType),null!==this.element.min&&(this.model.minimum=Hs.convertBack(this.element.min,this.model.niType)),null!==this.element.max&&(this.model.maximum=Hs.convertBack(this.element.max,this.model.niType)),this.model.interval=Hs.convertBack(this.element.spinButtonsStep,this.model.niType),this.convertJQXFormatToNI(this.element,this.model),null!==this.element.significantDigits?(this.model.significantDigits=this.element.significantDigits,this.model.precisionDigits=-1):null!==this.element.precisionDigits&&(this.model.precisionDigits=this.element.precisionDigits,this.model.significantDigits=-1),this.model.spinButtons=this.element.spinButtons,this.model.radixVisible=this.element.radixDisplay,this.model.popupEnabled=this.element.dropDownEnabled;const e=window.getComputedStyle(this.element);this.model.textAlignment=e.getPropertyValue(xr.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement(),this.element.value=Hs.convert(this.model.value,this.model.niType),this.element.min=Hs.convert(this.model.minimum,this.model.niType),this.element.max=Hs.convert(this.model.maximum,this.model.niType),this.element.spinButtonsStep=Hs.convert(this.model.interval,this.model.niType),this.convertNIFormatToJQX(this.model.niType,this.model.format,this.element),this.model.significantDigits>=0?(this.element.significantDigits=this.model.significantDigits,this.element.precisionDigits=null):this.model.precisionDigits>=0&&(this.element.precisionDigits=this.model.precisionDigits,this.element.significantDigits=null),this.element.spinButtons=this.model.spinButtons,this.element.radixDisplay=this.model.radixVisible,this.element.dropDownEnabled=this.model.popupEnabled,this.element.spinButtonsInitialDelay=500,this.element.enableMouseWheelAction=!0,this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment)}}Pn.registerViewModel(Eo,void 0,Io,"jqx-numeric-text-box");var Do=Object.freeze({NumericTextBoxViewModel:Eo});class ko extends Hn{constructor(e){super(e),this._show=!0,this._showLabel=!0,this._showValue=!0,this._color="black",this._targetShape="ellipse",this._label="",this._snapToPlot="",this._xaxis="",this._yaxis="",this._crosshairStyle="both"}static get NAME_G_PROPERTY_NAME(){return"Name"}static get X_POSITION_G_PROPERTY_NAME(){return"XPosition"}static get Y_POSITION_G_PROPERTY_NAME(){return"YPosition"}static get MODEL_KIND(){return"niCursor"}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}get showLabel(){return this._showLabel}set showLabel(e){this._showLabel=e,this.notifyModelPropertyChanged("showLabel")}get showValue(){return this._showValue}set showValue(e){this._showValue=e,this.notifyModelPropertyChanged("showValue")}get color(){return this._color}set color(e){this._color=e,this.notifyModelPropertyChanged("color")}get targetShape(){return this._targetShape}set targetShape(e){this._targetShape=e,this.notifyModelPropertyChanged("targetShape")}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get snapToPlot(){return this._snapToPlot}set snapToPlot(e){this._snapToPlot=e,this.notifyModelPropertyChanged("snapToPlot")}get xaxis(){return this._xaxis}set xaxis(e){this._xaxis=e,this.notifyModelPropertyChanged("xaxis")}get yaxis(){return this._yaxis}set yaxis(e){this._yaxis=e,this.notifyModelPropertyChanged("yaxis")}get crosshairStyle(){return this._crosshairStyle}set crosshairStyle(e){this._crosshairStyle=e,this.notifyModelPropertyChanged("crosshairStyle")}}Pn.registerModel(ko);Pn.registerViewModel(class extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("targetShape"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("color"),this.registerAutoSyncProperty("crosshairStyle"),this.registerAutoSyncProperty("showLabel"),this.registerAutoSyncProperty("showValue"),this.registerAutoSyncProperty("snapToPlot"),this.registerAutoSyncProperty("xaxis"),this.registerAutoSyncProperty("yaxis")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"color":this.element.setColor(this.model.color)}return t}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.color=e.getPropertyValue("color")}applyModelToElement(){super.applyModelToElement(),this.element.style.color=this.model.color}getGPropertyValue(e){switch(e){case ko.NAME_G_PROPERTY_NAME:return this.model.label;case Hn.VISIBLE_G_PROPERTY_NAME:return this.model.show;case ko.X_POSITION_G_PROPERTY_NAME:return this.element.xPosition;case ko.Y_POSITION_G_PROPERTY_NAME:return this.element.yPosition;default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){switch(e){case ko.NAME_G_PROPERTY_NAME:this.model.label=t;break;case Hn.VISIBLE_G_PROPERTY_NAME:this.model.show=t;break;case ko.X_POSITION_G_PROPERTY_NAME:this.element.xPosition=t;break;case ko.Y_POSITION_G_PROPERTY_NAME:this.element.yPosition=t;break;default:super.setGPropertyValue(e,t)}}},void 0,ko,"ni-cursor");var jo=Object.freeze({});const Mo=Object.freeze(["exact","loose","growloose","none","growexact","auto"]),Ao=Object.freeze({exact:0,loose:1,growloose:2,none:3,growexact:4,auto:5}),No=window.NITypeNames,qo=window.NITypes,Oo=new(0,window.NIType)({name:No.CLUSTER,fields:["Minimum","Maximum"],subtype:[No.DOUBLE,No.DOUBLE]});class Bo extends Hn{constructor(e){super(e),this._autoScale=Mo[Ao.auto],this._maximum=0,this._minimum=0,this._axisPosition="left",this._showLabel=!0,this._label="",this._logScale=!1,this._show=!0,this._format="",this._showTickLabels="all",this._gridLines=!0,this._showTicks=!0,this._showMinorTicks=!0,this._foreground="unset"}static get FIT_TYPE_G_PROPERTY_NAME(){return"FitType"}static get MAPPING_G_PROPERTY_NAME(){return"Mapping"}static get RANGE_G_PROPERTY_NAME(){return"Range"}static get MODEL_KIND(){return"niCartesianAxis"}get autoScale(){return this._autoScale}set autoScale(e){this._autoScale=e,this.notifyModelPropertyChanged("autoScale")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get axisPosition(){return this._axisPosition}set axisPosition(e){this._axisPosition=e,this.notifyModelPropertyChanged("axisPosition")}get showLabel(){return this._showLabel}set showLabel(e){this._showLabel=e,this.notifyModelPropertyChanged("showLabel")}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get logScale(){return this._logScale}set logScale(e){this._logScale=e,this.notifyModelPropertyChanged("logScale")}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}get format(){return this._format}set format(e){this._format=e,this.notifyModelPropertyChanged("format")}get showTickLabels(){return this._showTickLabels}set showTickLabels(e){this._showTickLabels=e,this.notifyModelPropertyChanged("showTickLabels")}get gridLines(){return this._gridLines}set gridLines(e){this._gridLines=e,this.notifyModelPropertyChanged("gridLines")}get showTicks(){return this._showTicks}set showTicks(e){this._showTicks=e,this.notifyModelPropertyChanged("showTicks")}get showMinorTicks(){return this._showMinorTicks}set showMinorTicks(e){this._showMinorTicks=e,this.notifyModelPropertyChanged("showMinorTicks")}get foreground(){return this._foreground}set foreground(e){this._foreground=e,this.notifyModelPropertyChanged("foreground")}gPropertyNIType(e){switch(e){case Bo.RANGE_G_PROPERTY_NAME:return Oo;case Bo.FIT_TYPE_G_PROPERTY_NAME:case Bo.MAPPING_G_PROPERTY_NAME:return qo.UINT32}return super.gPropertyNIType(e)}}Pn.registerModel(Bo);const Ro=-20828448e5,Vo=Object.freeze({LINEAR_SCALE:0,LOG_SCALE:1}),Ho=4;class Lo extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("showLabel"),this.registerAutoSyncProperty("axisPosition"),this.registerAutoSyncProperty("autoScale"),this.registerAutoSyncProperty("logScale"),this.registerAutoSyncProperty("minimum"),this.registerAutoSyncProperty("maximum"),this.registerAutoSyncProperty("format"),this.registerAutoSyncProperty("showTickLabels"),this.registerAutoSyncProperty("gridLines"),this.registerAutoSyncProperty("showTicks"),this.registerAutoSyncProperty("showMinorTicks")}static get MINIMUM_MUST_BE_LESS_THAN_MAXIMUM_ERROR_CODE(){return 363531}setGPropertyValue(e,t){const i=this.model;switch(e){case Bo.MAPPING_G_PROPERTY_NAME:{const e=t!==Vo.LINEAR_SCALE;if(e&&!i.logScale){if(i.maximum<=.1){const e=10;i.maximum=e}if(i.minimum<=0){const e=.1;i.minimum=e}}i.logScale=e;break}case Bo.RANGE_G_PROPERTY_NAME:if(!(t.Maximum>t.Minimum))throw new Wi($t.i18n("msg_MIN_MUST_BE_LESS_THAN_MAX",t.Minimum,t.Maximum),Lo.MINIMUM_MUST_BE_LESS_THAN_MAXIMUM_ERROR_CODE);{let e=t.Maximum,n=t.Minimum;if(i.logScale){const r=.1;e=t.Maximum<=0?i.maximum:e,n=t.Minimum<=0?r:n}i.maximum=e,i.minimum=n}break;case Bo.FIT_TYPE_G_PROPERTY_NAME:i.autoScale=t<0||t>=Ho?Mo[Ao.none]:Mo[t];break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Bo.MAPPING_G_PROPERTY_NAME:return t.logScale?Vo.LOG_SCALE:Vo.LINEAR_SCALE;case Bo.RANGE_G_PROPERTY_NAME:return{Maximum:t.maximum,Minimum:t.minimum};case Bo.FIT_TYPE_G_PROPERTY_NAME:{const e=Mo.indexOf(t.autoScale);return e>=0&&e<Ho?e:e===Ao.growexact?Ao.growloose:Ao.none}default:return super.getGPropertyValue(e)}}applyModelToElement(){super.applyModelToElement(),this.element.timeFormatEpoch=Ro}}Pn.registerViewModel(Lo,void 0,Bo,"ni-cartesian-axis");var zo=Object.freeze({SCALE_INDICES:Vo,CartesianAxisViewModel:Lo});class Fo extends Hn{constructor(e){super(e),this._label="",this._show=!1,this._xaxis=null,this._yaxis=null,this._enableHover=!1,this._hoverFormat="",this._showLabel=void 0}static get BAR_WIDTH_G_PROPERTY_NAME(){return"BarWidth"}static get COLOR_G_PROPERTY_NAME(){return"Color"}static get FILL_STYLE_G_PROPERTY_NAME(){return"FillStyle"}static get LINE_STYLE_G_PROPERTY_NAME(){return"LineStyle"}static get LINE_WIDTH_G_PROPERTY_NAME(){return"LineWidth"}static get NAME_G_PROPERTY_NAME(){return"Name"}static get POINT_SHAPE_G_PROPERTY_NAME(){return"PointShape"}static get X_AXIS_INDEX_G_PROPERTY_NAME(){return"XAxisIndex"}static get Y_AXIS_INDEX_G_PROPERTY_NAME(){return"YAxisIndex"}static get MODEL_KIND(){return"niCartesianPlot"}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}get xaxis(){return this._xaxis}set xaxis(e){this._xaxis=e,this.notifyModelPropertyChanged("xaxis")}get yaxis(){return this._yaxis}set yaxis(e){this._yaxis=e,this.notifyModelPropertyChanged("yaxis")}get enableHover(){return this._enableHover}set enableHover(e){this._enableHover=e,this.notifyModelPropertyChanged("enableHover")}get hoverFormat(){return this._hoverFormat}set hoverFormat(e){this._hoverFormat=e,this.notifyModelPropertyChanged("hoverFormat")}get showLabel(){}set showLabel(e){}}Pn.registerModel(Fo);const Uo=function(e){if(0===e.indexOf("rgb"))return-1===e.indexOf("rgba")&&(e+=",1"),e.match(/[.\d]+/g).map(function(e){return+Number(e)})};class $o{static integerToRGBA(e){let t=(e>>>=0)>>>24;return"rgba("+[(16711680&e)>>>16,(65280&e)>>>8,255&e,t=Number((t/255).toFixed(2))].join(",")+")"}static rgbaToInteger(e){const t=Uo(e),i=255&t[0],n=255&t[1],r=255&t[2];return((255&Math.round(255*t[3]))<<24)+(i<<16)+(n<<8)+r>>>0}static hexToInteger(e){let t=e.substring(1).split(""),i=["f","f"];return 3===t.length?t=[t[0],t[0],t[1],t[1],t[2],t[2]]:8===t.length&&(i=[t[6],t[7]],t=t.slice(0,6)),t=i.join("")+t.join(""),parseInt(t,16)}static getIntegerValueForInputColor(e){return e=e.trim(),this.isColorInRGBAFormat(e)?this.rgbaToInteger(e):this.isColorInHexFormat(e)?this.hexToInteger(e):void 0}static isColorInRGBAFormat(e){return e.startsWith("rgb")}static isColorInHexFormat(e){return e.startsWith("#")}static isRGBAOrHexFormat(e){return e=e.trim(),this.isColorInRGBAFormat(e)||this.isColorInHexFormat(e)}static argbIntegerColorToRgbaHexColor(e){let t=255&(e>>>=0),i=(65280&e)>>>8,n=(16711680&e)>>>16,r=e>>>24;return 1===(n=n.toString(16)).length&&(n="0"+n),1===(i=i.toString(16)).length&&(i="0"+i),1===(t=t.toString(16)).length&&(t="0"+t),1===(r=r.toString(16)).length&&(r="0"+r),("#"+n+i+t+r).toUpperCase()}}const Wo=window.NIType,Go=window.NITypeNames;class Xo extends Hn{constructor(e){super(e),this.niType=new Wo({name:Go.ARRAY,rank:1,subtype:Go.DOUBLE}),this._value=[],this._plotAreaMargin="",this._metadataOverridesPlotNames=!0,this._graphRef="",this._activeCursor=0,this._activeXScale=0,this._activeYScale=0,this._activePlot=0}static get ACTIVE_CURSOR_G_PROPERTY_NAME(){return"ActiveCursor"}static get ACTIVE_PLOT_G_PROPERTY_NAME(){return"ActivePlot"}static get ACTIVE_X_SCALE_G_PROPERTY_NAME(){return"ActiveXScale"}static get ACTIVE_Y_SCALE_G_PROPERTY_NAME(){return"ActiveYScale"}static get CURSOR_G_PROPERTY_NAME(){return"Cursor"}static get PLOT_G_PROPERTY_NAME(){return"Plot"}static get X_SCALE_G_PROPERTY_NAME(){return"XScale"}static get Y_SCALE_G_PROPERTY_NAME(){return"YScale"}get activeCursor(){return this._activeCursor}set activeCursor(e){this._activeCursor=e}get activePlot(){return this._activePlot}set activePlot(e){this._activePlot=e}get value(){return this._value}set value(e){this._value="string"==typeof e?JSON.parse(e):e,this.notifyModelPropertyChanged("value")}get plotAreaMargin(){return this._plotAreaMargin}set plotAreaMargin(e){this._plotAreaMargin=e,this.notifyModelPropertyChanged("plotAreaMargin")}get metadataOverridesPlotNames(){return this._metadataOverridesPlotNames}set metadataOverridesPlotNames(e){this._metadataOverridesPlotNames=e,this.notifyModelPropertyChanged("metadataOverridesPlotNames")}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get activeXScale(){return this._activeXScale}set activeXScale(e){this._activeXScale=e}get activeYScale(){return this._activeYScale}set activeYScale(e){this._activeYScale=e}static get XSCALE_RUNTIME_ID(){return"XScale_RuntimeId"}static get YSCALE_RUNTIME_ID(){return"YScale_RuntimeId"}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case Xo.ACTIVE_CURSOR_G_PROPERTY_NAME:case Xo.ACTIVE_PLOT_G_PROPERTY_NAME:case Xo.ACTIVE_X_SCALE_G_PROPERTY_NAME:case Xo.ACTIVE_Y_SCALE_G_PROPERTY_NAME:case Xo.XSCALE_RUNTIME_ID:case Xo.YSCALE_RUNTIME_ID:return window.NITypes.INT32;default:return super.gPropertyNIType(e)}}}const Yo=Object.freeze({XAxisBottom:"bottom",XAxisTop:"top",YAxisLeft:"left",YAxisRight:"right"}),Jo=function(e,t,i){return e.getRoot().controlViewModels[t[i].niControlId]};class Qo extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("metadataOverridesPlotNames")}static get ACTIVE_PLOT_NOT_VALID_ERROR_CODE(){return 363532}static get X_SCALE_NOT_VALID_ERROR_CODE(){return 363534}static get NO_CURSOR_FOR_CURRENT_ACTIVE_CURSOR_VALUE_ERROR_CODE(){return 363539}static get NO_PLOT_FOR_CURRENT_ACTIVE_PLOT_ERROR_CODE(){return 363533}static getAxisPositions(){return Yo}static getChildAxisModelsWithGivenAxisPositions(e,...t){return e.childModels.filter(e=>e instanceof Bo&&t.find(function(t){return t===e.axisPosition}))}static isActiveScaleIndexInBounds(e,t){return t>=0&&t<e}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"plotAreaMargin":t.properties.plotAreaMargin=this.model.plotAreaMargin;break;case"niType":t.properties.niType=this.model.getNITypeString()}return t}updateModelFromElement(){super.updateModelFromElement(),this.element.niType&&(this.model.niType=new window.NIType(this.element.niType))}applyModelToElement(){super.applyModelToElement(this),this.element.niType=this.model.getNITypeString()}bindToView(){const e=this;e.element.addEventListener("mouseenter",function(){e.model.internalControlEventOccurred("InsideGraphBase",!0)}),e.element.addEventListener("mouseleave",function(){e.model.internalControlEventOccurred("InsideGraphBase",!1)})}getPlots(){return this.model.childModels.filter(e=>e instanceof Fo)}shouldUseAsyncSetGPropertyValue(e){switch(e){case Xo.ACTIVE_PLOT_G_PROPERTY_NAME:return!0;default:return super.shouldUseAsyncSetGPropertyValue(e)}}async setGPropertyValueAsync(e,t){const i=this.model,n=this;let r;switch(e){case Xo.ACTIVE_PLOT_G_PROPERTY_NAME:if(await en.waitForFrameUpdate(),r=n.getPlots().length,!(t>=0&&t<r))throw new Wi($t.i18n("msg_PROPERTY_PLOT_SET_INDEX_OUT_OF_BOUNDS",t,r-1),Qo.ACTIVE_PLOT_NOT_VALID_ERROR_CODE);i.activePlot=t;break;default:await super.setGPropertyValueAsync(e,t)}}setGPropertyValue(e,t){const i=this.model;switch(e){case Xo.ACTIVE_CURSOR_G_PROPERTY_NAME:{const e=i.childModels.filter(e=>e instanceof ko).length;if(!(t>=0&&t<e))throw new Wi($t.i18n("msg_PROPERTY_CURSOR_SET_INDEX_OUT_OF_BOUNDS",t,e-1),Dr.INVALID_PROPERTY_VALUE_ERROR_CODE);i.activeCursor=t;break}case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;case Xo.ACTIVE_X_SCALE_G_PROPERTY_NAME:{const n=Qo.getChildAxisModelsWithGivenAxisPositions(i,Yo.XAxisBottom,Yo.XAxisTop).length;if(!Qo.isActiveScaleIndexInBounds(n,t))throw new Wi($t.i18n("msg_PROPERTY_OUT_OF_RANGE",e,n-1),Qo.X_SCALE_NOT_VALID_ERROR_CODE);i.activeXScale=t;break}case Xo.ACTIVE_Y_SCALE_G_PROPERTY_NAME:{const n=Qo.getChildAxisModelsWithGivenAxisPositions(i,Yo.YAxisLeft,Yo.YAxisRight).length;if(!Qo.isActiveScaleIndexInBounds(n,t))throw new Wi($t.i18n("msg_PROPERTY_OUT_OF_RANGE",e,n-1),Qo.X_SCALE_NOT_VALID_ERROR_CODE);i.activeYScale=t;break}case Xo.X_SCALE_G_PROPERTY_NAME:case Xo.Y_SCALE_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_SET",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model,i=t.getRoot();switch(e){case Xo.CURSOR_G_PROPERTY_NAME:{const e=t.childModels.filter(e=>e instanceof ko);if(t.activeCursor>=0&&t.activeCursor<e.length)return i.controlViewModels[e[t.activeCursor].niControlId];throw new Wi($t.i18n("msg_PROPERTY_CURSOR_GET_INDEX_OUT_OF_BOUNDS",t.activeCursor,e.length),Qo.NO_CURSOR_FOR_CURRENT_ACTIVE_CURSOR_VALUE_ERROR_CODE)}case Xo.PLOT_G_PROPERTY_NAME:{const e=this.getPlots();if(t.activePlot>=e.length||t.activePlot<0)throw new Wi($t.i18n("msg_PROPERTY_PLOT_GET_INDEX_OUT_OF_BOUNDS",t.activePlot,e.length-1),Qo.NO_PLOT_FOR_CURRENT_ACTIVE_PLOT_ERROR_CODE);return i.controlViewModels[e[t.activePlot].niControlId]}case Xo.ACTIVE_CURSOR_G_PROPERTY_NAME:return t.activeCursor;case Xo.ACTIVE_PLOT_G_PROPERTY_NAME:return t.activePlot;case Hn.VALUE_G_PROPERTY_NAME:return t.value;case Xo.ACTIVE_X_SCALE_G_PROPERTY_NAME:return t.activeXScale;case Xo.ACTIVE_Y_SCALE_G_PROPERTY_NAME:return t.activeYScale;case Xo.X_SCALE_G_PROPERTY_NAME:{const e=Qo.getChildAxisModelsWithGivenAxisPositions(t,Yo.XAxisBottom,Yo.XAxisTop);return Jo(t,e,t.activeXScale)}case Xo.Y_SCALE_G_PROPERTY_NAME:{const e=Qo.getChildAxisModelsWithGivenAxisPositions(t,Yo.YAxisLeft,Yo.YAxisRight);return Jo(t,e,t.activeYScale)}case Xo.XSCALE_RUNTIME_ID:return Qo.getChildAxisModelsWithGivenAxisPositions(t,Yo.XAxisBottom,Yo.XAxisTop)[t.activeXScale].niControlId;case Xo.YSCALE_RUNTIME_ID:return Qo.getChildAxisModelsWithGivenAxisPositions(t,Yo.YAxisLeft,Yo.YAxisRight)[t.activeYScale].niControlId;default:return super.getGPropertyValue(e)}}}const Ko=Object.freeze(["solid","dot","dashdot","mediumdash","largedash"]),Zo=Object.freeze(["none","ellipse","rectangle","diamond","cross","plus"]),el=Object.freeze(["none","zero","positiveinfinity","negativeinfinity"]),tl=0,il=5,nl=.75;class rl extends jn{constructor(e){super(e),this._lineWidth=1,this._pointSize=1,this._pointColor="red",this._pointShape="rectangle",this._lineStroke="black",this._lineStyle="solid",this._areaFill="",this._barFill="",this._barWidth=nl,this._areaBaseLine="zero",this._barBaseLine="zero"}static get MODEL_KIND(){return"niCartesianPlotRenderer"}static get MIN_LINE_WIDTH(){return tl}static get MAX_LINE_WIDTH(){return il}static get LINE_STYLE_OPTIONS(){return Ko}static get POINT_SHAPE_OPTIONS(){return Zo}static get FILL_STYLE_OPTIONS(){return el}static get DEFAULT_BAR_WIDTH(){return nl}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this.notifyModelPropertyChanged("lineWidth")}get pointSize(){return this._pointSize}set pointSize(e){this._pointSize=e,this.notifyModelPropertyChanged("pointSize")}get pointColor(){return this._pointColor}set pointColor(e){this._pointColor=e,this.notifyModelPropertyChanged("pointColor")}get pointShape(){return this._pointShape}set pointShape(e){this._pointShape=e,this.notifyModelPropertyChanged("pointShape")}get lineStroke(){return this._lineStroke}set lineStroke(e){this._lineStroke=e,this.notifyModelPropertyChanged("lineStroke")}get lineStyle(){return this._lineStyle}set lineStyle(e){this._lineStyle=e,this.notifyModelPropertyChanged("lineStyle")}get areaFill(){return this._areaFill}set areaFill(e){this._areaFill=e,this.notifyModelPropertyChanged("areaFill")}get barFill(){return this._barFill}set barFill(e){this._barFill=e,this.notifyModelPropertyChanged("barFill")}get barWidth(){return this._barWidth}set barWidth(e){this._barWidth=e,this.notifyModelPropertyChanged("barWidth")}get areaBaseLine(){return this._areaBaseLine}set areaBaseLine(e){this._areaBaseLine=e,this.notifyModelPropertyChanged("areaBaseLine")}get barBaseLine(){return this._barBaseLine}set barBaseLine(e){this._barBaseLine=e,this.notifyModelPropertyChanged("barBaseLine")}}Pn.registerModel(rl);class al extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("xaxis"),this.registerAutoSyncProperty("yaxis"),this.registerAutoSyncProperty("enableHover"),this.registerAutoSyncProperty("hoverFormat")}static get X_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE(){return 363551}static get Y_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE(){return 363552}async getGPropertyValue(e){const t=this.model,i=t.owner,n=Qo.getAxisPositions(),r=t.childModels[0];switch(e){case Fo.BAR_WIDTH_G_PROPERTY_NAME:return r.barWidth;case Fo.COLOR_G_PROPERTY_NAME:return $o.rgbaToInteger(r.lineStroke);case Fo.NAME_G_PROPERTY_NAME:return await en.waitForFrameUpdate(),t.label;case Fo.LINE_WIDTH_G_PROPERTY_NAME:return r.lineWidth;case Fo.LINE_STYLE_G_PROPERTY_NAME:return rl.LINE_STYLE_OPTIONS.indexOf(r.lineStyle);case Fo.FILL_STYLE_G_PROPERTY_NAME:return rl.FILL_STYLE_OPTIONS.indexOf(r.areaBaseLine);case Fo.POINT_SHAPE_G_PROPERTY_NAME:return rl.POINT_SHAPE_OPTIONS.indexOf(r.pointShape);case Hn.VISIBLE_G_PROPERTY_NAME:return t.show;case Fo.X_AXIS_INDEX_G_PROPERTY_NAME:return Qo.getChildAxisModelsWithGivenAxisPositions(i,n.XAxisBottom,n.XAxisTop).findIndex(function(e){return e.niControlId===t.xaxis});case Fo.Y_AXIS_INDEX_G_PROPERTY_NAME:return Qo.getChildAxisModelsWithGivenAxisPositions(i,n.YAxisLeft,n.YAxisRight).findIndex(function(e){return e.niControlId===t.yaxis});default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){const i=this.model,n=i.owner,r=Qo.getAxisPositions(),a=i.childModels[0];switch(e){case Fo.BAR_WIDTH_G_PROPERTY_NAME:a.barWidth=t<0?0:t;break;case Fo.COLOR_G_PROPERTY_NAME:a.lineStroke=$o.integerToRGBA(t);break;case Fo.NAME_G_PROPERTY_NAME:i.label=t;break;case Fo.LINE_WIDTH_G_PROPERTY_NAME:{const e=rl.MIN_LINE_WIDTH,i=rl.MAX_LINE_WIDTH;a.lineWidth=_o.clamp(t,e,i);break}case Fo.LINE_STYLE_G_PROPERTY_NAME:{const e=rl.LINE_STYLE_OPTIONS;a.lineStyle=e[_o.clamp(t,0,e.length-1)];break}case Fo.FILL_STYLE_G_PROPERTY_NAME:{const e=rl.FILL_STYLE_OPTIONS;a.areaBaseLine=e[_o.clamp(t,1,e.length-1)];break}case Fo.POINT_SHAPE_G_PROPERTY_NAME:{const e=rl.POINT_SHAPE_OPTIONS;a.pointShape=e[_o.clamp(t,0,e.length-1)];break}case Hn.VISIBLE_G_PROPERTY_NAME:i.show=t;break;case Fo.X_AXIS_INDEX_G_PROPERTY_NAME:{const a=Qo.getChildAxisModelsWithGivenAxisPositions(n,r.XAxisBottom,r.XAxisTop),s=a.length;if(!Qo.isActiveScaleIndexInBounds(s,t))throw new Wi($t.i18n("msg_PROPERTY_OUT_OF_RANGE",e,s-1),al.X_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE);i.xaxis=a[t].niControlId;break}case Fo.Y_AXIS_INDEX_G_PROPERTY_NAME:{const a=Qo.getChildAxisModelsWithGivenAxisPositions(n,r.YAxisLeft,r.YAxisRight),s=a.length;if(!Qo.isActiveScaleIndexInBounds(s,t))throw new Wi($t.i18n("msg_PROPERTY_OUT_OF_RANGE",e,s-1),al.Y_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE);i.yaxis=a[t].niControlId;break}default:super.setGPropertyValue(e,t)}}bindToView(){super.bindToView();const e=this,t=e.element;t.parentElement.addEventListener("ni-cartesian-plot-changed",function(i){i.detail.element===t&&e.model.label!==t.label&&(e.model.label=t.label)})}}Pn.registerViewModel(al,void 0,Fo,"ni-cartesian-plot");var sl=Object.freeze({CartesianPlotViewModel:al});class ol extends Xo{static get MODEL_KIND(){return"niCartesianGraph"}}Pn.registerModel(ol);class ll extends Qo{modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this;switch(e){case"value":t.postRender.value=function(){i.element.setData(i.model.value)}}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=this.element.value,this.model.defaultValue=this.element.value,this.model.plotAreaMargin=this.element.plotAreaMargin}applyModelToElement(){super.applyModelToElement(),this.element.value=this.model.value,this.element.plotAreaMargin=this.model.plotAreaMargin}}Pn.registerViewModel(ll,null,ol,"ni-cartesian-graph");var dl=Object.freeze({CartesianGraphViewModel:ll});class hl extends Nn{constructor(e,t){super(e,t),this.registerAutoSyncProperty("lineWidth"),this.registerAutoSyncProperty("lineStyle"),this.registerAutoSyncProperty("pointShape"),this.registerAutoSyncProperty("pointSize"),this.registerAutoSyncProperty("pointColor"),this.registerAutoSyncProperty("lineStroke"),this.registerAutoSyncProperty("areaFill"),this.registerAutoSyncProperty("barFill"),this.registerAutoSyncProperty("barWidth"),this.registerAutoSyncProperty("areaBaseLine"),this.registerAutoSyncProperty("barBaseLine")}}Pn.registerViewModel(hl,void 0,rl,"ni-cartesian-plot-renderer");var cl=Object.freeze({PlotRendererViewModel:hl});const ul=NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer,pl=window.NIType,ml=function(e){return"object"==typeof e&&"HistoryBuffer"===e.valueType},fl=function(e,t){"analogWaveform"===e.hbType&&function(e,t){const i=function(e,t){const i=new window.NITimestamp(e.t0);return new window.NITimestamp(t.t0).compare(i.add(e.dt*(e.Y.length-1)))<=0};let n,r;if(1!==e.width||Array.isArray(t)){if(Array.isArray(t)&&t.length===e.width){let a=!1;if(e.hb.buffers.length>0&&e.hb.buffers[0].size>0)for(r=0;r<e.width;r++)if(n=e.hb.buffers[r].size-1,i(e.hb.buffers[r].data[n],t[r])){a=!0;break}for(r=0;r<e.width;r++)a&&e.clear()}}else e.hb.buffer.size>0&&(n=e.hb.buffer.size-1,i(e.hb.buffer.data[n],t)&&e.clear())}(e,t),e.pushTypedData(t)},gl=function(e){return e[0].map(function(t,i){return e.map(function(e){return e[i]})})};class vl extends ol{constructor(e){super(e),this._historySize=1024,this._bufferSize=this._historySize,this._value=!0}static get MODEL_KIND(){return"niChart"}getOrCreateAndGetHistoryBuffer(){return void 0===this._historyBuffer?(this._historyBuffer=new ul(1024,1),this._historyBuffer):this._historyBuffer}get historyBuffer(){return this.getOrCreateAndGetHistoryBuffer()}get historySize(){return this._historySize}set historySize(e){this.historyBuffer.setCapacity(e),this._historySize=e,this.notifyModelPropertyChanged("historySize")}get bufferSize(){return this.historySize}set bufferSize(e){this.historySize=e,this.notifyModelPropertyChanged("bufferSize")}get niType(){return this._niType}set niType(e){let t;t=e instanceof pl?e:new pl(e),this.historyBuffer.setNIType(t),this._niType=t,this.notifyModelPropertyChanged("niType")}get value(){}set value(e){if(ml(e))this.loadHistoryBufferfromJSON(this.historyBuffer,e,this.niType);else if("string"==typeof e){const t=$i.editorToJsModel(JSON.parse(e),this.niType);fl(this.historyBuffer,t)}else fl(this.historyBuffer,e);this.notifyModelPropertyChanged("value")}loadHistoryBufferfromJSON(e,t,i){e.clear();const n=Array.isArray(t.data[0])?2:1,r=this.getHistoryBufferInnerType(i,n),a=$i.editorToJsModel(t.data,r);t.size&&e.setCapacity(t.size),t.timingIndexes?e.indexMap=t.timingIndexes.map(function(e){return new window.NITimestamp(e).toAbsoluteTime()}):e.offset=void 0,void 0!==t.startIndex&&(e.count=t.startIndex),a.length>0&&(Array.isArray(a[0])?(e.setWidth(a.length),e.appendArray(gl(a))):(e.setWidth(1),e.appendArray(a)))}getHistoryBufferInnerType(e,t){let i=e;return e.isArray()&&(i=e.getSubtype()),i.isCluster()&&(i=window.NITypes.DOUBLE),i.makeArray(t>1?2:1)}modelPropertyUsesNIType(e){return!1}gPropertyNIType(e){switch(e){case Hn.VALUE_G_PROPERTY_NAME:return this.niType.isArray()?this.niType:this.niType.makeArray()}return super.gPropertyNIType(e)}}Pn.registerModel(vl);class bl extends Qo{static get CHART_PROXY_DOES_NOT_SUPPORT_VALUE_PROPERTY_ERROR_CODE(){return 363540}static get CHART_DOES_NOT_SUPPORT_VALUE_SIGNALING_ERROR_CODE(){return 363541}updateModelFromElement(){super.updateModelFromElement(),this.model.historySize=this.element.bufferSize,this.model.value=this.element.value,this.model.defaultValue=this.element.value,this.element.setHistoryBuffer(this.model.historyBuffer)}applyModelToElement(){super.applyModelToElement(),this.element.setHistoryBuffer(this.model.historyBuffer),this.element.value=this.model.value}setGPropertyValue(e,t){switch(e){case Hn.VALUE_G_PROPERTY_NAME:for(const e of t)this.model.value=e;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),bl.CHART_DOES_NOT_SUPPORT_VALUE_SIGNALING_ERROR_CODE);default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Hn.VALUE_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),bl.CHART_PROXY_DOES_NOT_SUPPORT_VALUE_PROPERTY_ERROR_CODE);default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(bl,void 0,vl,"ni-chart");var yl=Object.freeze({ChartViewModel:bl});const _l=window.NITypes,wl=window.NIType,xl=window.NITypeNames,Cl=Object.freeze({PRESS:"press",RELEASE:"release"}),Sl=new wl({name:xl.ARRAY,rank:1,subtype:{name:xl.STRING}});class Tl extends Hn{constructor(e){super(e),this.niType=_l.BOOLEAN,this._value=!1,this._contentVisible=!1,this._content="Button",this._clickMode=Tl.ClickModeEnum.RELEASE,this._momentary=!1}static get TRUE_COLOR_G_PROPERTY_NAME(){return"TrueColor"}static get FALSE_COLOR_G_PROPERTY_NAME(){return"FalseColor"}static get TEXT_G_PROPERTY_NAME(){return"Text"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get contentVisible(){return this._contentVisible}set contentVisible(e){this._contentVisible=e,this.notifyModelPropertyChanged("contentVisible")}get content(){return this._content}set content(e){this._content=e,this.notifyModelPropertyChanged("content")}get clickMode(){return this._clickMode}set clickMode(e){this._clickMode=e,this.notifyModelPropertyChanged("clickMode")}get momentary(){return this._momentary}set momentary(e){this._momentary=e,this.notifyModelPropertyChanged("momentary")}static get ClickModeEnum(){return Cl}modelPropertyUsesNIType(e){return"value"===e}gPropertyNIType(e){switch(e){case Tl.TRUE_COLOR_G_PROPERTY_NAME:case Tl.FALSE_COLOR_G_PROPERTY_NAME:return _l.UINT32;case Tl.TEXT_G_PROPERTY_NAME:return Sl}return super.gPropertyNIType(e)}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",e,t)}}class Pl extends Tl{constructor(e){super(e),this._trueBackground="",this._trueForeground="",this._falseBackground="",this._falseForeground=""}static get MODEL_KIND(){return"niBooleanButton"}get trueBackground(){return this._trueBackground}set trueBackground(e){this._trueBackground=e,this.notifyModelPropertyChanged("trueBackground")}get trueForeground(){return this._trueForeground}set trueForeground(e){this._trueForeground=e,this.notifyModelPropertyChanged("trueForeground")}get falseBackground(){return this._falseBackground}set falseBackground(e){this._falseBackground=e,this.notifyModelPropertyChanged("falseBackground")}get falseForeground(){return this._falseForeground}set falseForeground(e){this._falseForeground=e,this.notifyModelPropertyChanged("falseForeground")}}Pn.registerModel(Pl);class Il extends Dr{static get GRADIENTS_NOT_SUPPORTED_ERROR_CODE(){return 1702}convertModelClickModeToJQXClickMode(){return!1===this.model.momentary&&"press"!==this.model.clickMode?"release":!1===this.model.momentary&&"press"===this.model.clickMode?"press":!0===this.model.momentary&&"press"!==this.model.clickMode?"pressAndRelease":""}setModelClickModeFromJQXClickMode(){"release"===this.element.clickMode?(this.model.momentary=!1,this.model.clickMode="release"):"press"===this.element.clickMode?(this.model.momentary=!1,this.model.clickMode="press"):"pressAndRelease"===this.element.clickMode&&(this.model.momentary=!0,this.model.clickMode="release")}getReadOnlyPropertyName(){return"readonly"}modelPropertyChanged(e){let t;const i=super.modelPropertyChanged(e);switch(e){case"momentary":case"clickMode":""!==(t=this.convertModelClickModeToJQXClickMode())&&(i.properties.clickMode=t)}return i}updateModelFromElement(){super.updateModelFromElement(),this.setModelClickModeFromJQXClickMode()}applyModelToElement(){super.applyModelToElement(),this.element.clickMode=this.convertModelClickModeToJQXClickMode()}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;case Tl.TEXT_G_PROPERTY_NAME:{const e=0;t.length>e&&(i.content=$t.escapeHtml(t[e]));break}case Tl.TRUE_COLOR_G_PROPERTY_NAME:i.trueBackground=$o.integerToRGBA(t);break;case Tl.FALSE_COLOR_G_PROPERTY_NAME:i.falseBackground=$o.integerToRGBA(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;case Tl.TEXT_G_PROPERTY_NAME:return[$t.unescapeHtml(t.content)];case Tl.TRUE_COLOR_G_PROPERTY_NAME:{const i=t.trueBackground;if($o.isRGBAOrHexFormat(i))return $o.getIntegerValueForInputColor(i);throw new Wi($t.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),Il.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}case Tl.FALSE_COLOR_G_PROPERTY_NAME:{const i=t.falseBackground;if($o.isRGBAOrHexFormat(i))return $o.getIntegerValueForInputColor(i);throw new Wi($t.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),Il.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}default:return super.getGPropertyValue(e)}}}const El=function(e,t){let i,n;e.indexOf("gradient")>=0?(n=e,i="unset"):(i=e,n="unset"),t.cssStyles[xr.BORDER_COLOR]=i,t.cssStyles[xr.BORDER_GRADIENT]=n};class Dl extends Il{bindToView(){super.bindToView();const e=this;e.element.addEventListener("change",function(t){if(e.computeReadOnlyForElement()||"api"===t.detail.changeType)return;const i=t.detail.value;e.model.value!==i&&e.model.controlChanged(i)})}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e);switch(e){case"content":i.properties.content=t.content;break;case"value":i.properties.checked=t.value;break;case"trueBackground":i.cssStyles[xr.TRUE_BACKGROUND]=t.trueBackground;break;case"trueForeground":i.cssStyles[xr.TRUE_FOREGROUND_COLOR]=t.trueForeground;break;case"falseBackground":i.cssStyles[xr.FALSE_BACKGROUND]=t.falseBackground;break;case"falseForeground":i.cssStyles[xr.FALSE_FOREGROUND_COLOR]=t.falseForeground;break;case"borderColor":El(t.borderColor,i)}return i}updateModelFromElement(){const e=this.model,t=this.element;super.updateModelFromElement();const i=t.firstElementChild.querySelector(".ni-text");null!==i&&(this.model.contentVisible=!0!==i.classList.contains("ni-hidden")),e.value=t.value;const n=window.getComputedStyle(t);e.content=i.textContent,e.trueBackground=n.getPropertyValue(xr.TRUE_BACKGROUND),e.trueForeground=n.getPropertyValue(xr.TRUE_FOREGROUND_COLOR),e.falseBackground=n.getPropertyValue(xr.FALSE_BACKGROUND),e.falseForeground=n.getPropertyValue(xr.FALSE_FOREGROUND_COLOR);let r=n.getPropertyValue(xr.BORDER_GRADIENT);-1===r.indexOf("gradient")&&(r=n.getPropertyValue(xr.BORDER_COLOR)),e.borderColor=r}applyModelToElement(){const e=this.model,t=this.element;super.applyModelToElement(),t.content=e.content,t.checked=e.value,t.style.setProperty(xr.TRUE_BACKGROUND,e.trueBackground),t.style.setProperty(xr.TRUE_FOREGROUND_COLOR,e.trueForeground),t.style.setProperty(xr.FALSE_BACKGROUND,e.falseBackground),t.style.setProperty(xr.FALSE_FOREGROUND_COLOR,e.falseForeground);const i=e.borderColor;i.indexOf("gradient")>=0?t.style.setProperty(xr.BORDER_GRADIENT,i):t.style.setProperty(xr.BORDER_COLOR,i)}}Pn.registerViewModel(Dl,void 0,Pl,"jqx-toggle-button");var kl=Object.freeze({BooleanButtonViewModel:Dl});class jl extends Il{constructor(e,t){super(e,t),this.registerAutoSyncProperty("trueContent"),this.registerAutoSyncProperty("falseContent")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"contentVisible":t.cssStyles[xr.CONTENT_DISPLAY]=this.model.contentVisible?Xi.REMOVE_CUSTOM_PROPERTY_TOKEN:"none";break;case"value":t.properties.checked=this.model.value}return t}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.contentVisible="none"!==e.getPropertyValue(xr.CONTENT_DISPLAY),this.model.value=this.element.checked}applyModelToElement(){super.applyModelToElement(),this.model.contentVisible||this.element.style.setProperty(xr.CONTENT_DISPLAY,"none"),this.element.checked=this.model.value}setGPropertyValue(e,t){const i=this.model;switch(e){case Tl.TEXT_G_PROPERTY_NAME:{const e=0;t.length>e&&(i.trueContent=$t.escapeHtml(t[e]));const n=1;t.length>n&&(i.falseContent=$t.escapeHtml(t[n]));break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Tl.TEXT_G_PROPERTY_NAME:return[$t.unescapeHtml(t.trueContent),$t.unescapeHtml(t.falseContent)];default:return super.getGPropertyValue(e)}}}class Ml extends Tl{constructor(e){super(e),this._trueContent="on",this._falseContent="off",this._falseContentVisibility="false"}get trueContent(){return this._trueContent}set trueContent(e){this._trueContent=e,this.notifyModelPropertyChanged("trueContent")}get falseContent(){return this._falseContent}set falseContent(e){this._falseContent=e,this.notifyModelPropertyChanged("falseContent")}get falseContentVisibility(){return this._falseContentVisibility}set falseContentVisibility(e){this._falseContentVisibility=e,this.notifyModelPropertyChanged("falseContentVisibility")}}const Al=Object.freeze({ROUND:"round",SQUARE:"square"});class Nl extends Ml{constructor(e){super(e),this._shape=Nl.ShapeEnum.ROUND,this._trueBackground="",this._trueForeground="",this._falseBackground="",this._falseForeground=""}static get MODEL_KIND(){return"niBooleanLED"}static get ShapeEnum(){return Al}get shape(){return this._shape}set shape(e){this._shape=e,this.notifyModelPropertyChanged("shape")}get trueBackground(){return this._trueBackground}set trueBackground(e){this._trueBackground=e,this.notifyModelPropertyChanged("trueBackground")}get trueForeground(){return this._trueForeground}set trueForeground(e){this._trueForeground=e,this.notifyModelPropertyChanged("trueForeground")}get falseBackground(){return this._falseBackground}set falseBackground(e){this._falseBackground=e,this.notifyModelPropertyChanged("falseBackground")}get falseForeground(){return this._falseForeground}set falseForeground(e){this._falseForeground=e,this.notifyModelPropertyChanged("falseForeground")}}Pn.registerModel(Nl);class ql extends jl{constructor(e,t){super(e,t),this.registerAutoSyncProperty("shape")}bindToView(){super.bindToView();const e=this;e.element.addEventListener("change",function(t){if(e.computeReadOnlyForElement()||"api"===t.detail.changeType)return;const i=t.detail.value;i!==e.model.value&&e.model.controlChanged(i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"trueBackground":t.cssStyles[xr.TRUE_BACKGROUND]=this.model.trueBackground;break;case"trueForeground":t.cssStyles[xr.TRUE_FOREGROUND_COLOR]=this.model.trueForeground;break;case"falseBackground":t.cssStyles[xr.FALSE_BACKGROUND]=this.model.falseBackground;break;case"falseForeground":t.cssStyles[xr.FALSE_FOREGROUND_COLOR]=this.model.falseForeground}return t}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.trueBackground=e.getPropertyValue(xr.TRUE_BACKGROUND),this.model.trueForeground=e.getPropertyValue(xr.TRUE_FOREGROUND_COLOR),this.model.falseBackground=e.getPropertyValue(xr.FALSE_BACKGROUND),this.model.falseForeground=e.getPropertyValue(xr.FALSE_FOREGROUND_COLOR)}applyModelToElement(){super.applyModelToElement(),this.element.style.setProperty(xr.TRUE_BACKGROUND,this.model.trueBackground),this.element.style.setProperty(xr.TRUE_FOREGROUND_COLOR,this.model.trueForeground),this.element.style.setProperty(xr.FALSE_BACKGROUND,this.model.falseBackground),this.element.style.setProperty(xr.FALSE_FOREGROUND_COLOR,this.model.falseForeground)}}Pn.registerViewModel(ql,void 0,Nl,"jqx-led");var Ol=Object.freeze({BooleanLEDViewModel:ql});const Bl=window.NITypes;class Rl extends Hn{constructor(e){super(e),this.niType=Bl.UINT32,this._value=4278190080,this._dropDownButtonPosition="right"}static get MODEL_KIND(){return"niColorBox"}static get BRUSH_NAME(){return"Brush"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get dropDownButtonPosition(){return this._dropDownButtonPosition}set dropDownButtonPosition(e){this._dropDownButtonPosition=e,this.notifyModelPropertyChanged("dropDownButtonPosition")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",this.value,t)}gPropertyNIType(e){switch(e){case Rl.BRUSH_NAME:return Bl.UINT32}return super.gPropertyNIType(e)}}Pn.registerModel(Rl);class Vl{static convert(e){return $o.argbIntegerColorToRgbaHexColor(e)}static convertBack(e){return"string"==typeof e?$o.getIntegerValueForInputColor(e):0}}class Hl extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("dropDownButtonPosition")}bindToView(){super.bindToView();const e=this;e.element.addEventListener("change",function(t){e.element.close();const i=Vl.convertBack(t.detail.value);e.model.value!==i&&e.model.controlChanged(i)})}getReadOnlyPropertyName(){return"readonly"}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"value":t.properties.value=Vl.convert(this.model.value)}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=Vl.convertBack(this.element.value),this.model.defaultValue=this.model.value}applyModelToElement(){super.applyModelToElement(),this.element.value=Vl.convert(this.model.value),this.element.enableCustomColors=!0,this.element.editAlphaChannel=!0,this.element.valueDisplayMode="colorBox",this.element.dropDownOpenMode="none",this.element.displayMode="grid",this.element.palette="custom"}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Hn.VALUE_G_PROPERTY_NAME:return this.model.value;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(Hl,void 0,Rl,"jqx-color-picker");var Ll=Object.freeze({ColorBoxViewModel:Hl});class zl extends Sr{addAllProperties(e){super.addAllProperties(e),zl.prototype.addProperty(e,{propertyName:"text",defaultValue:""})}attachedCallback(){const e=super.attachedCallback();let t;return!0===e&&((t=document.createElement("div")).textContent=this.text,this.appendChild(t)),e}propertyUpdated(e){super.propertyUpdated(e);const t=this.firstElementChild;switch(e){case"text":t.textContent=this.text}}}si.registerElement(zl),Cr.defineElementInfo(zl.prototype,"ni-text","HTMLNIText");const Fl=window.NITypes,Ul=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right",JUSTIFY:"justify"});class $l extends Hn{constructor(e){super(e),this.niType=Fl.STRING,this._text="",this._textAlignment=$l.TextAlignmentEnum.LEFT}static get TextAlignmentEnum(){return Ul}static get TEXT_G_PROPERTY_NAME(){return"Text"}static get MODEL_KIND(){return"niText"}get text(){return this._text}set text(e){this._text=e,this.notifyModelPropertyChanged("text")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"text"===e}}Pn.registerModel($l);class Wl extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("text")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"text":this.model.requestSendControlBounds();break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.model,t=this.element,i=window.getComputedStyle(t);e.textAlignment=i.getPropertyValue(xr.TEXT_ALIGN),e.defaultValue=t.text}applyModelToElement(){super.applyModelToElement(),this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){const i=this.model;switch(e){case $l.TEXT_G_PROPERTY_NAME:i.text=t;break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case $l.TEXT_G_PROPERTY_NAME:return t.text;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(Wl,zl,$l);var Gl=Object.freeze({TextViewModel:Wl});class Xl extends Sr{addAllProperties(e){super.addAllProperties(e);const t=Xl.prototype;t.addProperty(e,{propertyName:"text",defaultValue:""}),t.addProperty(e,{propertyName:"controlId",defaultValue:""})}attachedCallback(){const e=super.attachedCallback();if(!0===e){const e=document.createElement("label");this.appendChild(e),e.textContent=this.text}return e}propertyUpdated(e){super.propertyUpdated(e);const t=this.firstElementChild;switch(e){case"text":t.textContent=this.text}}}si.registerElement(Xl),Cr.defineElementInfo(Xl.prototype,"ni-label","HTMLNILabel");const Yl=window.NITypes;class Jl extends Hn{constructor(e){super(e),this._text="",this._owningControlVisible=!0}static get TEXT_G_PROPERTY_NAME(){return"Text"}static get MODEL_KIND(){return"niLabel"}get text(){return this._text}set text(e){this._text=e,this.notifyModelPropertyChanged("text")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}gPropertyNIType(e){switch(e){case Jl.TEXT_G_PROPERTY_NAME:return Yl.STRING}return super.gPropertyNIType(e)}}Pn.registerModel(Jl);class Ql extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("text")}static get LOCKED_LABEL_POSITION_ERROR_CODE(){return 363558}static get LOCKED_LABEL_SIZE_ERROR_CODE(){return 363559}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"text":case"labelAlignment":this.model.requestSendControlBounds()}return t}setGPropertyValue(e,t){const i=this.model;switch(e){case Jl.TEXT_G_PROPERTY_NAME:i.text=t;break;case Hn.POSITION_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_SET",e),Ql.LOCKED_LABEL_POSITION_ERROR_CODE);case Hn.SIZE_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_SET",e),Ql.LOCKED_LABEL_SIZE_ERROR_CODE);default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Jl.TEXT_G_PROPERTY_NAME:return t.text;case Hn.SIZE_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_GET",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);default:return super.getGPropertyValue(e)}}isFollower(){return!0}}Pn.registerViewModel(Ql,Xl,Jl);var Kl=Object.freeze({LabelViewModel:Ql});const Zl=window.NITypes;class ed extends Hn{constructor(e){super(e),this.niType=Zl.STRING,this._href="",this._target="",this._content="",this._textAlignment="left"}static get MODEL_KIND(){return"niHyperlink"}get href(){return this._href}set href(e){this._href=e,this.notifyModelPropertyChanged("href")}get target(){return this._target}set target(e){this._target=e,this.notifyModelPropertyChanged("target")}get content(){return this._content}set content(e){this._content=e,this.notifyModelPropertyChanged("content")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"href"===e}controlChanged(e){const t=this.href;this.href=e,super.controlChanged("href",e,t)}}Pn.registerModel(ed);class td extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("content"),this.registerAutoSyncProperty("target")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"href":t.properties.href=this.model.href;break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.model,t=this.element;e.defaultValue=t.href,e.href=t.href;const i=window.getComputedStyle(this.element);this.model.textAlignment=i.getPropertyValue(xr.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement(),this.element.href=this.model.href,this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.href=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.href;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(td,void 0,ed,"ni-hyperlink");var id=Object.freeze({HyperlinkViewModel:td});const nd=window.NITypes,rd=Wa.TextDisplayMode;class ad extends Hn{constructor(e){super(e),this.niType=nd.STRING,this._text="",this._acceptsReturn=!1,this._typeToReplace=!1,this._wordWrap=!1,this._textAlignment="left",this._allowVerticalScrollbar=!0,this._allowHorizontalScrollbar=!1,this._escapedDisplayMode=rd.DEFAULT}static get ENABLE_WRAP_G_PROPERTY_NAME(){return"EnableWrap"}static get HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME(){return"HorizontalScrollBarVisibility"}static get SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME(){return"SelectAllOnFocus"}static get VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME(){return"VerticalScrollBarVisibility"}static get ESCAPE_SEQUENCE_G_PROPERTY_NAME(){return"ShowEscapeSequences"}static get MODEL_KIND(){return"niStringControl"}get text(){return this._text}set text(e){this._text=e,this.notifyModelPropertyChanged("text")}get escapedDisplayMode(){return this._escapedDisplayMode}set escapedDisplayMode(e){this._escapedDisplayMode=e,this.notifyModelPropertyChanged("escapedDisplayMode")}get acceptsReturn(){return this._acceptsReturn}set acceptsReturn(e){this._acceptsReturn=e,this.notifyModelPropertyChanged("acceptsReturn")}get typeToReplace(){return this._typeToReplace}set typeToReplace(e){this._typeToReplace=e,this.notifyModelPropertyChanged("typeToReplace")}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.notifyModelPropertyChanged("wordWrap")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get allowVerticalScrollbar(){return this._allowVerticalScrollbar}set allowVerticalScrollbar(e){this._allowVerticalScrollbar=e,this.notifyModelPropertyChanged("allowVerticalScrollbar")}get allowHorizontalScrollbar(){return this._allowHorizontalScrollbar}set allowHorizontalScrollbar(e){this._allowHorizontalScrollbar=e,this.notifyModelPropertyChanged("allowHorizontalScrollbar")}modelPropertyUsesNIType(e){return"text"===e}controlChanged(e){const t=this.text;this.text=e,super.controlChanged("text",e,t)}gPropertyNIType(e){switch(e){case ad.HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME:case ad.VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME:return nd.UINT32;case ad.ENABLE_WRAP_G_PROPERTY_NAME:case ad.ESCAPE_SEQUENCE_G_PROPERTY_NAME:case ad.SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME:return nd.BOOLEAN}return super.gPropertyNIType(e)}}Pn.registerModel(ad);const sd=Wa.TextDisplayMode,od=e=>e?"auto":"hidden",ld=e=>"hidden"!==e,dd=Object.freeze({None:0,Automatic:1});class hd extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("acceptsReturn"),this.registerAutoSyncProperty("typeToReplace"),this.registerAutoSyncProperty("wordWrap")}static get scrollBarVisibilityEnum(){return dd}bindToView(){super.bindToView();const e=this;e.bindFocusEventListener(),e.element.addEventListener("text-changed",function(t){e.model.controlChanged(t.detail.text)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"text":t.properties.textNonSignaling=this.model.text;break;case"escapedDisplayMode":t.properties.escapedDisplayMode=this.model.escapedDisplayMode;break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment;break;case"allowHorizontalScrollbar":t.cssStyles[xr.OVERFLOW_X]=od(this.model.allowHorizontalScrollbar);break;case"allowVerticalScrollbar":t.cssStyles[xr.OVERFLOW_Y]=od(this.model.allowVerticalScrollbar)}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.text=this.element.text,this.model.defaultValue=this.element.text,this.model.escapedDisplayMode=this.element.escapedDisplayMode;const e=window.getComputedStyle(this.element);this.model.textAlignment=e.getPropertyValue(xr.TEXT_ALIGN),this.model.allowHorizontalScrollbar=ld(e.getPropertyValue(xr.OVERFLOW_X)),this.model.allowVerticalScrollbar=ld(e.getPropertyValue(xr.OVERFLOW_Y))}applyModelToElement(){super.applyModelToElement(),this.element.textNonSignaling=this.model.text,this.element.escapedDisplayMode=this.model.escapedDisplayMode,this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment),this.element.style.setProperty(xr.OVERFLOW_X,od(this.model.allowHorizontalScrollbar)),this.element.style.setProperty(xr.OVERFLOW_Y,od(this.model.allowVerticalScrollbar))}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.text=t;break;case ad.ENABLE_WRAP_G_PROPERTY_NAME:i.wordWrap=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;case ad.VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME:i.allowVerticalScrollbar=t===hd.scrollBarVisibilityEnum.Automatic;break;case ad.HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME:i.allowHorizontalScrollbar=t===hd.scrollBarVisibilityEnum.Automatic;break;case ad.SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME:i.typeToReplace=t;break;case ad.ESCAPE_SEQUENCE_G_PROPERTY_NAME:i.escapedDisplayMode=t?sd.ESCAPED:sd.DEFAULT;break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.text;case ad.ENABLE_WRAP_G_PROPERTY_NAME:return t.wordWrap;case ad.VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME:return t.allowVerticalScrollbar?hd.scrollBarVisibilityEnum.Automatic:hd.scrollBarVisibilityEnum.None;case ad.HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME:return t.allowHorizontalScrollbar?hd.scrollBarVisibilityEnum.Automatic:hd.scrollBarVisibilityEnum.None;case ad.SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME:return t.typeToReplace;case ad.ESCAPE_SEQUENCE_G_PROPERTY_NAME:return t.escapedDisplayMode===sd.ESCAPED;default:return super.getGPropertyValue(e)}}async invokeInternalControlFunction(e,t){switch(await en.waitForFrameUpdate(),e){case"scrollToEnd":this.element.tryScrollToEnd();break;default:super.invokeInternalControlFunction(e,t)}}}Pn.registerViewModel(hd,void 0,ad,"ni-string-control");var cd=Object.freeze({StringControlViewModel:hd});const ud=NationalInstruments.Globals.jQuery,pd=Object.freeze({ABSOLUTE:"absolute",RELATIVE:"relative"}),md=function(e){const t=ud(e.firstElementChild),i=ud(e._popoverTag);if(!0===e.popupEnabled){const e=t.find(".jqx-path-control-button");i.jqxPopover({selector:e,position:"right",animationOpenDelay:0,animationCloseDelay:0})}else i.jqxPopover("destroy")},fd=function(e){return 0!==e.length},gd=function(e){let t,i=e.split("/");return t=0===i[0].length?pd.ABSOLUTE:pd.RELATIVE,{components:i=i.filter(fd),type:t}},vd=function(e){if(void 0===(e=JSON.parse(e))||void 0===e.components)return"";let t=e.components.join("/");return e.type===pd.ABSOLUTE&&(t="/"+t,1===e.components.length&&(t+="/")),t};class bd extends Sr{addAllProperties(e){super.addAllProperties(e);const t=bd.prototype;t.addProperty(e,{propertyName:"path",defaultValue:JSON.stringify({components:[],type:pd.ABSOLUTE}),fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"format",defaultValue:"windows"}),t.addProperty(e,{propertyName:"popupEnabled",defaultValue:!1}),$t.setValuePropertyDescriptor(e,"path","path","pathNonSignaling","path-changed")}setPath(e){this.isNotAPath()&&""===e||(this.path=JSON.stringify(gd(e)))}setNotAPath(){this.path=JSON.stringify({components:[],type:pd.ABSOLUTE})}isNotAPath(){const e=JSON.parse(this.path);return null==e||void 0===e.components||0===e.components.length&&e.type===pd.ABSOLUTE}createdCallback(){super.createdCallback(),this._popoverTag=void 0}attachedCallback(){const e=super.attachedCallback(),t=this;let i,n,r,a;return!0===e&&((i={}).readOnly=this.readOnly,i.pathFormat=this.format,i.accept=".*",(n=document.createElement("div")).classList.add("ni-path-box"),this.appendChild(n),(r=ud(n)).jqxPathControl(i),r.jqxPathControl("val",vd(this.path)),this._popoverTag=document.createElement("div"),(a=document.createElement("button")).classList.add("ni-path-selector","ni-not-a-path-reset-button"),a.type="button",a.textContent=$t.i18n("msg_SET_TO_NOT_A_PATH"),a.addEventListener("click",function(){ud(t._popoverTag).jqxPopover("close"),t.setNotAPath()}),this._popoverTag.appendChild(a),md(this),r.on("change",function(){t.setPath(r.val("unix"))})),e}forceResize(e){super.forceResize(e),ud(this.firstElementChild).jqxPathControl(e)}propertyUpdated(e){super.propertyUpdated(e);const t=this.firstElementChild,i=ud(t);switch(e){case"readOnly":i.jqxPathControl({readOnly:this.readOnly});break;case"path":this.isNotAPath()?i.jqxPathControl("clear"):i.jqxPathControl("val",vd(this.path));break;case"format":i.jqxPathControl({pathFormat:this.format});break;case"popupEnabled":md(this)}}}si.registerElement(bd),Cr.defineElementInfo(bd.prototype,"ni-path-selector","HTMLNIPathSelector");const yd=window.NITypes;class _d extends Hn{constructor(e){super(e),this.niType=yd.PATH,this._path={components:[],type:pd.ABSOLUTE},this._format="windows",this._popupEnabled=!1,this._textAlignment="left"}static get MODEL_KIND(){return"niPathSelector"}get path(){return this._path}set path(e){this._path=e,this.notifyModelPropertyChanged("path")}get format(){return this._format}set format(e){this._format=e,this.notifyModelPropertyChanged("format")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"path"===e}controlChanged(e){const t=this.path;this.path=e,super.controlChanged("path",e,t)}}Pn.registerModel(_d);class wd extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("format"),this.registerAutoSyncProperty("popupEnabled")}bindToView(){super.bindToView();const e=this;e.enableResizeHack(),e.bindFocusEventListener(),e.element.addEventListener("path-changed",function(t){const i=t.detail.path,n=JSON.parse(i);e.model.controlChanged(n)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);let i;switch(e){case"path":i=this.model.path,t.properties.pathNonSignaling=JSON.stringify(i);break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.path=JSON.parse(this.element.path),this.model.defaultValue=JSON.parse(this.element.path),this.model.popupEnabled=this.element.popupEnabled;const e=window.getComputedStyle(this.element);this.model.textAlignment=e.getPropertyValue(xr.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement();const e=this.model.path;this.element.pathNonSignaling=JSON.stringify(e),this.element.popupEnabled=this.model.popupEnabled,this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment)}}Pn.registerViewModel(wd,bd,_d);var xd=Object.freeze({PathSelectorViewModel:wd});const Cd=window.NITypes,Sd="-9223372036854775808:0",Td="9223372036854775807:0",Pd={value:!0,minimum:!0,maximum:!0};class Id extends Hn{constructor(e){super(e),this.niType=Cd.TIMESTAMP,this._minimum=Sd,this._maximum=Td,this._value="0:0",this._formatString="MM/dd/yyyy hh:mm:ss.fff tt",this._showCalendarButton=!1,this._spinButtons=!1,this._textAlignment="left"}static get MODEL_KIND(){return"niTimeStampTextBox"}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get formatString(){return this._formatString}set formatString(e){this._formatString=e,this.notifyModelPropertyChanged("formatString")}get showCalendarButton(){return this._showCalendarButton}set showCalendarButton(e){this._showCalendarButton=e,this.notifyModelPropertyChanged("showCalendarButton")}get spinButtons(){return this._spinButtons}set spinButtons(e){this._spinButtons=e,this.notifyModelPropertyChanged("spinButtons")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return!0===Pd[e]}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",e,t)}}Pn.registerModel(Id);const Ed=function(e){return e.computeReadOnlyForElement()?"full":"partial"};class Dd extends Dr{static viewReady(e){NationalInstruments.JQXElement.addHandlersForMouseWheel(e),Or.getWebAppModelByVIRef(e.viRef).updateService.isInIdeMode()&&e.addEventListener("focus",function(e){e.stopPropagation()},!0)}getReadOnlyPropertyName(){return"readonly"}bindToView(){super.bindToView();const e=this;e.bindFocusEventListener(),e.element.addEventListener("change",function(t){if(t.target===e.element){const i=nn.convertBack(t.detail.value,e.element);e.model.controlChanged(i)}})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"value":t.properties.value=nn.convert(this.model.value);break;case"minimum":t.properties.min=nn.convert(this.model.minimum);break;case"maximum":t.properties.max=nn.convert(this.model.maximum);break;case"showCalendarButton":t.properties.calendarButton=this.model.showCalendarButton;break;case"spinButtons":t.properties.spinButtons=this.model.spinButtons;break;case"formatString":t.attributes["format-string"]=this.model.formatString;break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=nn.convertBack(this.element.value,this.element),this.model.minimum=nn.convertBack(this.element.min,this.element),this.model.maximum=nn.convertBack(this.element.max,this.element),this.model.spinButtons=this.element.spinButtons,this.model.showCalendarButton=this.element.calendarButton,this.model.formatString=this.element.formatString;const e=window.getComputedStyle(this.element);this.model.textAlignment=e.getPropertyValue(xr.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement(),this.element.validation="interaction",this.element.value=nn.convert(this.model.value),this.element.min=nn.convert(this.model.minimum),this.element.max=nn.convert(this.model.maximum),this.element.spinButtons=this.model.spinButtons,this.element.setAttribute("format-string",this.model.formatString),this.element.showCalendarButton=this.model.showCalendarButton,this.element.spinButtonsPosition="left",this.element.spinButtonsInitialDelay=500,this.element.dropDownDisplayMode="classic",this.element.displayKind="local",this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment),this.element.editMode=Ed(this)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(Dd,void 0,Id,"jqx-date-time-picker");var kd=Object.freeze({TimeStampTextBoxViewModel:Dd});const jd=Object.freeze({NONE:"none",UNIFORM:"uniform",UNIFORM_TO_FILL:"uniformtofill",FILL:"fill"}),Md=function(e){const t=e;t.innerHTML="";let i=e;if(""!==t.href){const n=document.createElement("a");n.classList.add("ni-image-link"),n.rel="noopener",t.disabled||(n.href=t.href),n.target=t.target,e.appendChild(n),i=n}const n=document.createElement("div");n.classList.add("ni-image-box"),n.style.width="100%",n.style.height="100%",""!==t.source&&(n.style.backgroundImage="url("+t.source+")"),""!==t.stretch&&t.stretch!==jd.NONE&&n.classList.add("ni-stretch-"+t.stretch),n.title=t.alternate,i.appendChild(n)};class Ad extends Sr{addAllProperties(e){super.addAllProperties(e);const t=Ad.prototype;t.addProperty(e,{propertyName:"source",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"alternate",defaultValue:""}),t.addProperty(e,{propertyName:"href",defaultValue:""}),t.addProperty(e,{propertyName:"target",defaultValue:""}),t.addProperty(e,{propertyName:"stretch",defaultValue:jd.UNIFORM}),$t.setValuePropertyDescriptor(e,"source","source","sourceNonSignaling","source-changed")}attachedCallback(){const e=super.attachedCallback();return!0===e&&Md(this),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"alternate":case"href":case"target":case"source":case"stretch":case"disabled":Md(this)}}focus(...e){const t=this.querySelector("a");if(null!==t)return t.focus(...e)}}si.registerElement(Ad),Cr.defineElementInfo(Ad.prototype,"ni-url-image","HTMLNIUrlImage");const Nd=jd,qd=window.NITypes;class Od extends Hn{constructor(e){super(e),this.niType=qd.STRING,this._source="",this._alternate="",this._href="",this._target="",this._stretch=Nd.UNIFORM}static get MODEL_KIND(){return"niUrlImage"}static get HYPERLINK_URL_G_PROPERTY_NAME(){return"HyperlinkUrl"}get source(){return this._source}set source(e){this._source=e,this.notifyModelPropertyChanged("source")}get alternate(){return this._alternate}set alternate(e){this._alternate=e,this.notifyModelPropertyChanged("alternate")}get href(){return this._href}set href(e){this._href=e,this.notifyModelPropertyChanged("href")}get target(){return this._target}set target(e){this._target=e,this.notifyModelPropertyChanged("target")}get stretch(){return this._stretch}set stretch(e){this._stretch=e,this.notifyModelPropertyChanged("stretch")}modelPropertyUsesNIType(e){return"source"===e}gPropertyNIType(e){switch(e){case Od.HYPERLINK_URL_G_PROPERTY_NAME:return qd.STRING}}}Pn.registerModel(Od);class Bd extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("alternate"),this.registerAutoSyncProperty("href"),this.registerAutoSyncProperty("target"),this.registerAutoSyncProperty("stretch")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"source":t.properties.sourceNonSignaling=this.model.source}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.defaultValue=this.element.source,this.model.source=this.element.source}applyModelToElement(){super.applyModelToElement(),this.element.sourceNonSignaling=this.model.source}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.source=t;break;case Od.HYPERLINK_URL_G_PROPERTY_NAME:i.href=t;break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.source;case Od.HYPERLINK_URL_G_PROPERTY_NAME:return t.href;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(Bd,Ad,Od);var Rd=Object.freeze({UrlImageViewModel:Bd});const Vd=window.NITypes;class Hd extends Tl{constructor(e){super(e),this._textAlignment="left",this._trueBackground="",this._falseBackground="",this._textColor="",this._checkMarkColor=""}static get CHECK_MARK_COLOR_G_PROPERTY_NAME(){return"CheckMarkColor"}static get MODEL_KIND(){return"niCheckBox"}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get trueBackground(){return this._trueBackground}set trueBackground(e){this._trueBackground=e,this.notifyModelPropertyChanged("trueBackground")}get falseBackground(){return this._falseBackground}set falseBackground(e){this._falseBackground=e,this.notifyModelPropertyChanged("falseBackground")}get textColor(){return this._textColor}set textColor(e){this._textColor=e,this.notifyModelPropertyChanged("textColor")}get checkMarkColor(){return this._checkMarkColor}set checkMarkColor(e){this._checkMarkColor=e,this.notifyModelPropertyChanged("checkMarkColor")}gPropertyNIType(e){switch(e){case Hd.CHECK_MARK_COLOR_G_PROPERTY_NAME:return Vd.UINT32}return super.gPropertyNIType(e)}}Pn.registerModel(Hd);Pn.registerViewModel(class extends Il{bindToView(){super.bindToView();const e=this;e.element.addEventListener("change",function(){if(e.computeReadOnlyForElement())return;const t=e.element.checked;e.model.value!==t&&e.model.controlChanged(t)})}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e);switch(e){case"content":i.properties.content=t.content;break;case"value":i.properties.checked=t.value;break;case"textAlignment":i.cssStyles[xr.TEXT_ALIGN]=t.textAlignment;break;case"trueBackground":i.cssStyles[xr.TRUE_BACKGROUND]=t.trueBackground;break;case"falseBackground":i.cssStyles[xr.FALSE_BACKGROUND]=t.falseBackground;break;case"textColor":i.cssStyles[xr.FOREGROUND_COLOR]=t.textColor;break;case"checkMarkColor":i.cssStyles[xr.CHECK_MARK_COLOR]=t.checkMarkColor}return i}updateModelFromElement(){super.updateModelFromElement();const e=this.element.querySelector(".ni-text");null!==e&&(this.model.contentVisible=!0!==e.classList.contains("ni-hidden"),this.model.content=e.textContent),this.model.readOnly=this.element.readonly,this.model.value=this.element.checked;const t=window.getComputedStyle(this.element);this.model.textAlignment=t.getPropertyValue(xr.TEXT_ALIGN),this.model.trueBackground=t.getPropertyValue(xr.TRUE_BACKGROUND),this.model.falseBackground=t.getPropertyValue(xr.FALSE_BACKGROUND),this.model.textColor=t.getPropertyValue(xr.FOREGROUND_COLOR),this.model.checkMarkColor=t.getPropertyValue(xr.CHECK_MARK_COLOR)}applyModelToElement(){const e=this.element,t=this.model;super.applyModelToElement(),e.content=t.content,e.checked=t.value,e.checkMode="both",e.style.setProperty(xr.TEXT_ALIGN,t.textAlignment),e.style.setProperty(xr.TRUE_BACKGROUND,t.trueBackground),e.style.setProperty(xr.FALSE_BACKGROUND,t.falseBackground),e.style.setProperty(xr.FOREGROUND_COLOR,t.textColor),e.style.setProperty(xr.CHECK_MARK_COLOR,t.checkMarkColor)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hd.CHECK_MARK_COLOR_G_PROPERTY_NAME:i.checkMarkColor=$o.integerToRGBA(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hd.CHECK_MARK_COLOR_G_PROPERTY_NAME:{const i=t.checkMarkColor;if($o.isRGBAOrHexFormat(i))return $o.getIntegerValueForInputColor(i);throw new Wi($t.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),Il.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}default:return super.getGPropertyValue(e)}}},void 0,Hd,"jqx-check-box");var Ld=Object.freeze({});const zd=Object.freeze({VERTICAL:"vertical",HORIZONTAL:"horizontal"});class Fd extends Ml{constructor(e){super(e),this._orientation=Fd.OrientationEnum.HORIZONTAL,this._textAlignment="left"}static get MODEL_KIND(){return"niBooleanSwitch"}static get OrientationEnum(){return zd}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}}Pn.registerModel(Fd);class Ud extends Fd{static get MODEL_KIND(){return"niBooleanPowerButton"}}Pn.registerModel(Ud);class $d{static convertTextAlignmentToFlexAlignment(e){let t="flex-start";switch(e){case"center":t="center";break;case"right":t="flex-end";break;case"left":t="flex-start"}return t}static convertFlexAlignmentToTextAlignment(e){let t="left";switch(e){case"center":t="center";break;case"flex-end":t="right";break;case"flex-start":t="left"}return t}}class Wd extends jl{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation")}static get PROPERTY_NOT_SUPPORTED_ERROR_CODE(){return 1703}bindToView(){super.bindToView();const e=this;e.element.addEventListener("change",function(t){if(e.computeReadOnlyForElement()||"api"===t.detail.changeType)return;const i=t.detail.value;e.model.value!==i&&e.model.controlChanged(i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"falseContentVisibility":t.cssStyles[xr.FALSE_CONTENT_DISPLAY]=this.model.falseContentVisibility?Xi.REMOVE_CUSTOM_PROPERTY_TOKEN:"none";break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN_AS_FLEX]=$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment)}return t}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.falseContentVisibility="none"!==e.getPropertyValue(xr.FALSE_CONTENT_DISPLAY),this.model.textAlignment=$d.convertFlexAlignmentToTextAlignment(e.getPropertyValue(xr.TEXT_ALIGN_AS_FLEX))}applyModelToElement(){super.applyModelToElement(),this.model.falseContentVisibility||this.element.style.setProperty(xr.FALSE_CONTENT_DISPLAY,"none"),this.element.switchMode="click",this.element.style.setProperty(xr.TEXT_ALIGN_AS_FLEX,$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment))}setGPropertyValue(e,t){switch(e){case Tl.TRUE_COLOR_G_PROPERTY_NAME:case Tl.FALSE_COLOR_G_PROPERTY_NAME:break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Tl.TRUE_COLOR_G_PROPERTY_NAME:case Tl.FALSE_COLOR_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_GET",e),Wd.PROPERTY_NOT_SUPPORTED_ERROR_CODE);default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(Wd,void 0,Fd,"jqx-switch-button");Pn.registerViewModel(class extends Wd{},void 0,Ud,"jqx-power-button");var Gd=Object.freeze({});class Xd extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("layout")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"minHeight":this.model.requestSendControlBounds(),t.cssStyles[xr.MIN_HEIGHT]=this.model.minHeight}return t}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.minHeight=e.getPropertyValue(xr.MIN_HEIGHT)}applyModelToElement(){super.applyModelToElement(),this.element.style.setProperty(xr.MIN_HEIGHT,this.model.minHeight)}}const Yd=Symbol("NITabItemSymbol");class Jd{static get NITabItemSymbol(){return Yd}static isNITabItem(e){return"object"==typeof e&&null!==e&&!0===e[Yd]}}const Qd=NationalInstruments.Globals.jQuery,Kd=function(e){let t;const i=[];for(t=0;t<e.children.length;t++)e.children[t].classList.contains("jqx-ribbon")&&i.push(e.children[t]);return i.length>1&&$t.infoVerbose("TabControl should always either have zero or one headerContainers but currently has ("+i.length+")"),i},Zd=function(e){let t,i,n;const r=Kd(e),a=e._validTabHeadersLength>0,s=e.selectedIndex>=0&&e.selectedIndex<e._validTabHeadersLength,o=1===r.length;if(a&&s&&o){for(t=Qd(r[0]),e.selectedIndex!==t.jqxRibbon("selectedIndex")&&t.jqxRibbon({selectedIndex:e.selectedIndex}),i=0;i<e.children.length;i++)Jd.isNITabItem(e.children[i])&&(e.children[i].tabPosition===e.selectedIndex?(e.children[i].classList.add("ni-selected"),n=e.children[i]):e.children[i].classList.remove("ni-selected"));void 0===n?$t.infoVerbose("Expected a tab item selectedIndex ("+e.selectedIndex+") to exist, but none was found."):n.forceResizeChildren(!0)}else $t.infoVerbose("TabControl was provided invalid selectedIndex ("+e.selectedIndex+") when the number of valid tab items is ("+e._validTabHeadersLength+")")},eh=function(e){const t={},i=Kd(e);let n;for(n=0;n<i.length;n+=1)e.removeChild(i[n]);const r=function(e){const t=document.createElement("div");let i,n,r,a,s,o=[];for(r=0;r<e.children.length;r++)if(Jd.isNITabItem(e.children[r])){if(void 0!==o[e.children[r].tabPosition]){$t.infoVerbose("TabControl has multiple TabItems with tabPosition ("+e.children[r].tabPosition+")"),o=[];break}o[e.children[r].tabPosition]=e.children[r].header}if(i=document.createElement("ul"),n=document.createElement("div"),o.length>0)for(r=0;r<o.length;r++){if("string"!=typeof o[r]){$t.infoVerbose("TabControl is missing TabItem at tabPosition ("+r+")"),i=document.createElement("ul"),n=document.createElement("div");break}(a=document.createElement("li")).textContent=o[r],i.appendChild(a),n.appendChild(document.createElement("div"))}if(0===i.children.length?((a=document.createElement("li")).innerHTML="&nbsp;",i.appendChild(a),n.appendChild(document.createElement("div")),$t.infoVerbose("TabControl has no valid TabItems to render, creating dummy so jqxRibbon does not error"),s=0):s=i.children.length,i.children.length!==n.children.length)throw new Error("The generated number of tab headers and tab frames should be the same");return t.appendChild(i),t.appendChild(n),{container:t,validTabHeadersLength:s}}(e),a=r.container;e._validTabHeadersLength=r.validTabHeadersLength,e.insertBefore(a,e.firstElementChild),t.animationType="none",t.position=e.tabStripPlacement.toLowerCase(),t.disabled=e.disabled,t.theme="ni-rethemed";const s=Qd(a);s.jqxRibbon(t),s.on("select",function(t){e.selectedIndex=t.args.selectedIndex}),Zd(e)},th=function(e){!1===e._attachHeaderContainerQueued&&(e._attachHeaderContainerQueued=!0,window.requestAnimationFrame(function(){e._attachHeaderContainerQueued=!1,eh(e)}))},ih=function(e){return e.classList.contains("ni-hidden")},nh=function(e,t){const i=e.selectedIndex;"ArrowDown"===t||"ArrowRight"===t?e.switchToNextSelectableTabItem(i):"ArrowUp"!==t&&"ArrowLeft"!==t||e.switchToPreviousSelectableTabItem(i)},rh=function(e,t){return!1===e.children[t].disabled&&!ih(e.children[t])&&(e.selectedIndex=t-1,!0)},ah=function(e,t){const i=e.selectedIndex;if(i===t){e.switchToNextSelectableTabItem(i)||e.switchToPreviousSelectableTabItem(i)}},sh=function(e,t){const i=Kd(t),n=Qd(i[0]);e.disabled?n.jqxRibbon("disableAt",e.tabPosition):n.jqxRibbon("enableAt",e.tabPosition)},oh=function(e,t){const i=Kd(t),n=Qd(i[0]);ih(e)?n.jqxRibbon("hideAt",e.tabPosition):n.jqxRibbon("showAt",e.tabPosition)};class lh extends Pr{addAllProperties(e){super.addAllProperties(e);const t=lh.prototype;t.addProperty(e,{propertyName:"selectedIndex",defaultValue:0,fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"tabStripPlacement",defaultValue:"top"}),t.addProperty(e,{propertyName:"tabSelectorHidden",defaultValue:!1}),$t.setValuePropertyDescriptor(e,"selectedIndex","selectedIndex","selectedIndexNonSignaling","selected-index-changed")}createdCallback(){super.createdCallback(),this._validTabHeadersLength=0,this._attachHeaderContainerQueued=!1}attachedCallback(){const e=super.attachedCallback(),t=this;return!0===e&&(t.addEventListener("ni-tab-item-attached",function(e){e.target===t&&th(t)}),t.addEventListener("keydown",function(e){e.target===t&&e.key&&nh(t,e.key)}),t.addEventListener("ni-tab-item-detached",function(e){e.target===t&&th(t)}),t.addEventListener("ni-tab-item-header-updated",function(e){e.target===t&&th(t)}),t.addEventListener("ni-tab-item-position-updated",function(e){e.target===t&&th(t)}),t.addEventListener("ni-tab-item-visibility-updated",function(e){if(e.target===t){const i=e.detail.element;ih(i)&&ah(t,i.tabPosition),oh(i,t)}}),t.addEventListener("ni-tab-item-disabled-updated",function(e){if(e.target===t){const i=e.detail.element;i.disabled&&ah(t,i.tabPosition),sh(i,t)}}),th(t),this.updateDisableStateForChildren()),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"selectedIndex":Zd(this);break;case"tabStripPlacement":case"tabSelectorHidden":th(this);break;case"disabled":this.updateDisableStateForRibbon(),this.updateDisableStateForChildren()}}updateDisableStateForRibbon(){const e=Kd(this);Qd(e[0]).jqxRibbon({disabled:this.disabled})}updateDisableStateForChildren(){for(let e=0;e<this.children.length;e++){const t=this.children[e];if(Jd.isNITabItem(t)){const e=!!this.disabled||t.disabled;t.updateDisableStateForChild(e)}}}setFont(e,t,i,n,r){super.setFont(e,t,i,n,r),th(this)}forceResize(e){super.forceResize(e),th(this)}switchToNextSelectableTabItem(e){for(let t=e+2;t<this.childElementCount;t++)if(rh(this,t))return!0;return!1}switchToPreviousSelectableTabItem(e){for(let t=e;t>0;t--)if(rh(this,t))return!0;return!1}}si.registerElement(lh,ri.CONTAINER),Cr.defineElementInfo(lh.prototype,"ni-tab-control","HTMLNITabControl");class dh extends Hn{constructor(e){super(e),this._layout=hh.ABSOLUTE,this._minHeight="0px"}get layout(){return this._layout}set layout(e){this._layout=e,this.notifyModelPropertyChanged("layout")}get minHeight(){return this._minHeight}set minHeight(e){this._minHeight=e,this.notifyModelPropertyChanged("minHeight")}isAbsoluteLayoutRoot(){return this.layout===hh.ABSOLUTE}isFlexibleLayoutRoot(){return this.layout===hh.FLEXIBLE}}const hh=Pr.LayoutsEnum,ch=window.NITypes;class uh extends dh{constructor(e){super(e),this.niType=ch.INT32,this._tabSelectorHidden=!1,this._tabStripPlacement="top",this._selectedIndex=0,this._activeTab=0,this._inactiveBackground="#d9dee1",this._inactiveForeground="#000000"}static get ACTIVE_TAB_G_PROPERTY_NAME(){return"ActiveTab"}static get TAB_G_PROPERTY_NAME(){return"Tab"}static get ACTIVE_TAB_RUNTIME_ID(){return"ActiveTab_RuntimeId"}static get MODEL_KIND(){return"niTabControl"}get tabSelectorHidden(){return this._tabSelectorHidden}set tabSelectorHidden(e){this._tabSelectorHidden=e,this.notifyModelPropertyChanged("tabSelectorHidden")}get tabStripPlacement(){return this._tabStripPlacement}set tabStripPlacement(e){this._tabStripPlacement=e,this.notifyModelPropertyChanged("tabStripPlacement")}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._selectedIndex=e,this.notifyModelPropertyChanged("selectedIndex")}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}get inactiveBackground(){return this._inactiveBackground}set inactiveBackground(e){this._inactiveBackground=e,this.notifyModelPropertyChanged("inactiveBackground")}get inactiveForeground(){return this._inactiveForeground}set inactiveForeground(e){this._inactiveForeground=e,this.notifyModelPropertyChanged("inactiveForeground")}modelPropertyUsesNIType(e){return"selectedIndex"===e}controlChanged(e){const t=this.selectedIndex;this.selectedIndex=e,super.controlChanged("selectedIndex",e,t)}gPropertyNIType(e){switch(e){case uh.ACTIVE_TAB_G_PROPERTY_NAME:case uh.ACTIVE_TAB_RUNTIME_ID:return ch.INT32}return super.gPropertyNIType(e)}}Pn.registerModel(uh);class ph extends Xd{constructor(e,t){super(e,t),this.registerAutoSyncProperty("tabStripPlacement"),this.registerAutoSyncProperty("tabSelectorHidden")}static get INVALID_ACTIVE_TAB_ERROR_CODE(){return 363555}bindToView(){super.bindToView();const e=this;e.element.addEventListener("selected-index-changed",function(t){if(t.target===e.element){const i=t.detail.selectedIndex;e.model.controlChanged(i),e.model.requestSendControlBounds()}})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"selectedIndex":t.properties.selectedIndexNonSignaling=this.model.selectedIndex;break;case"inactiveBackground":t.cssStyles[xr.INACTIVE_BACKGROUND]=this.model.inactiveBackground;break;case"inactiveForeground":t.cssStyles[xr.INACTIVE_FOREGROUND_COLOR]=this.model.inactiveForeground}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.model,t=this.element,i=window.getComputedStyle(t);e.selectedIndex=t.selectedIndex,e.defaultValue=t.selectedIndex,e.inactiveBackground=i.getPropertyValue(xr.INACTIVE_BACKGROUND),e.inactiveForeground=i.getPropertyValue(xr.INACTIVE_FOREGROUND_COLOR)}applyModelToElement(){super.applyModelToElement();const e=this.element,t=this.model;e.selectedIndex=t.selectedIndex,e.style.setProperty(xr.INACTIVE_BACKGROUND,t.inactiveBackground),e.style.setProperty(xr.INACTIVE_FOREGROUND_COLOR,t.inactiveForeground)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.selectedIndex=mh(t,i.childModels.length);break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(mh(t,i.childModels.length));break;case uh.ACTIVE_TAB_G_PROPERTY_NAME:if(t<0||t>=i.childModels.length)throw new Wi($t.i18n("msg_PROPERTY_OUT_OF_RANGE",e,i.childModels.length-1),ph.INVALID_ACTIVE_TAB_ERROR_CODE);i.activeTab=t;break;case uh.TAB_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_SET",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.selectedIndex;case uh.ACTIVE_TAB_G_PROPERTY_NAME:return t.activeTab;case uh.TAB_G_PROPERTY_NAME:{const e=t.childModels[t.activeTab];return e.rootOwner.getControlViewModel(e.niControlId)}case uh.ACTIVE_TAB_RUNTIME_ID:return t.childModels[t.activeTab].niControlId;default:return super.getGPropertyValue(e)}}}const mh=function(e,t){return _o.clamp(e,0,t-1)};Pn.registerViewModel(ph,lh,uh);var fh=Object.freeze({TabControlViewModel:ph});class gh extends Pr{get[Jd.NITabItemSymbol](){return!0}addAllProperties(e){super.addAllProperties(e);const t=gh.prototype;t.addProperty(e,{propertyName:"tabPosition",defaultValue:-1}),t.addProperty(e,{propertyName:"header",defaultValue:"TabItem"})}createdCallback(){super.createdCallback(),this._parentTabControl=void 0}sendEventToParentTabControl(e){let t;void 0!==this._parentTabControl&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentTabControl.dispatchEvent(new CustomEvent(e,t)))}attachedCallback(){const e=super.attachedCallback();return this.parentElement instanceof lh?(!0===e&&this.updateDisableStateForChild(),this._parentTabControl=this.parentElement,this.sendEventToParentTabControl("ni-tab-item-attached")):($t.error("Tab Item does not have a parent Tab Control "+this),this._parentTabControl=void 0),e}forceResizeChildren(){const e=this.children;if(e)for(let t=0;t<e.length;t++)$t.isElement(e[t])&&"function"==typeof e[t].forceResizeChildren&&e[t].forceResizeChildren()}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"header":this.sendEventToParentTabControl("ni-tab-item-header-updated");break;case"tabPosition":this.sendEventToParentTabControl("ni-tab-item-position-updated");break;case"disabled":{const e=!0===this.disabled||this._parentTabControl.disabled;this.updateDisableStateForChild(e),this.sendEventToParentTabControl("ni-tab-item-disabled-updated");break}}}updateDisableStateForChild(e){this.hasChildNodes()&&$t.isElement(this.childNodes[0])&&void 0!==e&&this.childNodes[0].disabled!==e&&(this.childNodes[0].disabled=e)}sendEventToParentTabControlOnVisibilityUpdate(){this.sendEventToParentTabControl("ni-tab-item-visibility-updated")}detachedCallback(){super.detachedCallback(),this.sendEventToParentTabControl("ni-tab-item-detached"),this._parentTabControl=void 0}}si.registerElement(gh,ri.CONTAINER),Cr.defineElementInfo(gh.prototype,"ni-tab-item","HTMLNITabItem");const vh=window.NITypes;class bh extends dh{constructor(e){super(e),this._header=0,this._tabPosition=0,this._background=""}static get ENABLED_G_PROPERTY_NAME(){return"Enabled"}static get NAME_G_PROPERTY_NAME(){return"Name"}static get MODEL_KIND(){return"niTabItem"}get header(){return this._header}set header(e){this._header=e,this.notifyModelPropertyChanged("header")}get tabPosition(){return this._tabPosition}set tabPosition(e){this._tabPosition=e,this.notifyModelPropertyChanged("tabPosition")}gPropertyNIType(e){switch(e){case bh.ENABLED_G_PROPERTY_NAME:return vh.BOOLEAN;case bh.NAME_G_PROPERTY_NAME:return vh.STRING}return super.gPropertyNIType(e)}}Pn.registerModel(bh);const yh=function(e){let t=0;return e.childModels.forEach(e=>{!0===e.enabled&&!0===e.visible&&t++}),t};class _h extends Xd{constructor(e,t){super(e,t),this.registerAutoSyncProperty("header"),this.registerAutoSyncProperty("tabPosition")}shouldElementUseModelWidth(){return!1}shouldElementUseModelHeight(){return!1}shouldElementUseModelPosition(){return!1}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"visible":this.applyElementChanges(),en.waitForFrameUpdate().then(()=>{this.element.sendEventToParentTabControlOnVisibilityUpdate()})}return t}setGPropertyValue(e,t){const i=this.model;switch(e){case bh.ENABLED_G_PROPERTY_NAME:!1===t&&1===yh(i.owner)||(i.enabled=t);break;case Hn.VISIBLE_G_PROPERTY_NAME:!1===t&&1===yh(i.owner)||(i.visible=t);break;case bh.NAME_G_PROPERTY_NAME:i.header=t;break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case bh.ENABLED_G_PROPERTY_NAME:return t.enabled;case Hn.VISIBLE_G_PROPERTY_NAME:return t.visible;case bh.NAME_G_PROPERTY_NAME:return t.header;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(_h,gh,bh);var wh=Object.freeze({TabItemViewModel:_h});class xh extends Pr{forceResizeChildren(){const e=this.children;for(let t=0;t<e.length;t++)$t.isElement(e[t])&&"function"==typeof e[t].forceResize&&e[t]._latestSize&&e[t].forceResize(e[t]._latestSize)}attachedCallback(){const e=super.attachedCallback();return!0===e&&this.updateDisableStateForChildren(),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"disabled":this.updateDisableStateForChildren()}}updateDisableStateForChildren(){if(this.hasChildNodes())for(let e=0;e<this.childNodes.length;++e)$t.isElement(this.childNodes[e])&&(this.childNodes[e].disabled=this.disabled)}}si.registerElement(xh,ri.CONTAINER),Cr.defineElementInfo(xh.prototype,"ni-layout-panel","HTMLNILayoutPanel");class Ch extends dh{static get MODEL_KIND(){return"niLayoutPanel"}}Pn.registerModel(Ch);class Sh extends Xd{}Pn.registerViewModel(Sh,xh,Ch);var Th=Object.freeze({LayoutPanelViewModel:Sh});class Ph{static convert(e){let t=e;return t=Array.isArray(e)?e:e>=0?[e]:[]}static convertBack(e){let t=e;return t=Array.isArray(e)?t.length>0?t[0]:-1:t>=0?[t]:[]}}class Ih{static convert(e,t){return JSON.stringify(e)}static convertBack(e,t){return JSON.parse(e)}}class Eh{static get SelectionModeEnum(){return{ZERO_OR_ONE:"ZeroOrOne",ONE:"One",ZERO_OR_MORE:"ZeroOrMore",ONE_OR_MORE:"OneOrMore"}}}const Dh=Eh.SelectionModeEnum;class kh{static convertNIToJQXSelectionMode(e){switch(e){case Dh.ZERO_OR_ONE:return"zeroOrOne";case Dh.ONE:return"one";case Dh.ZERO_OR_MORE:return"zeroOrMany";case Dh.ONE_OR_MORE:return"oneOrMany"}}static convertJQXToNISelectionMode(e){switch(e){case"zeroOrOne":return Dh.ZERO_OR_ONE;case"one":return Dh.ONE;case"oneOrMany":return Dh.ONE_OR_MORE;case"zeroOrMany":return Dh.ZERO_OR_MORE}}static convert(e,t){let i=e;return i=Array.isArray(e)?e:e>=0?[e]:[]}static convertBack(e,t){let i=e;return t!==Dh.ZERO_OR_ONE&&t!==Dh.ONE||!Array.isArray(e)?Array.isArray(e)||(i=i>=0?[i]:[]):i=i.length>0?i[0]:-1,i}}class jh{static convert(e,t,i){let n=e;if(t.isComplex()||t.is64BitInteger()){if("string"!=typeof e)throw new Error("value should be a string but is "+typeof e+" instead.");return{stringValue:e}}if(!0===i&&(n=parseFloat(e)),"number"!=typeof n)throw new Error("value should be a number but is "+typeof n+"with value "+n+" instead.");return{numberValue:n}}static convertBack(e,t){if("object"!=typeof e)throw new Error("obj must be an object but is "+typeof e+" instead.");if(void 0===t)return e.numberValue;if(t.isComplex()||t.is64BitInteger()){if("string"!=typeof e.stringValue)throw new Error("obj.stringValue must be a string but is "+typeof e.stringValue+" instead");return e.stringValue}if("number"!=typeof e.numberValue)throw new Error("obj.numberValue must be a number but is "+e.numberValue+" instead");return e.numberValue}}class Mh{static convert(e,t){return e}static convertBack(e,t){return e}}const Ah=function(e){switch(e=e.toLowerCase()){case"jqx-numeric-text-box":case"jqx-gauge":case"jqx-tank":case"jqx-slider":return Hs;case"ni-ring-selector":case"ni-enum-selector":case"ni-radio-button-group":return jh;case"jqx-drop-down-list":return Ph;case"jqx-list-box":return kh;case"ni-path-selector":case"ni-cartesian-graph":return Ih;case"jqx-date-time-picker":return nn;case"jqx-color-picker":return Vl;default:return Mh}},Nh=function(e){switch(e.tagName.toLowerCase()){case"jqx-numeric-text-box":case"jqx-gauge":case"jqx-tank":case"jqx-slider":return Hs.convertJQXTypeToNI(e);case"ni-ring-selector":case"ni-enum-selector":case"ni-radio-button-group":return new window.NIType(e.niType);case"jqx-list-box":return kh.convertJQXToNISelectionMode(e.selectionMode);case"jqx-date-time-picker":return e;default:return}};class qh{static findValueConverter(e){return Ah(e.tagName)}static getConverterParameters(e){return Nh(e)}static convert(e,t){const i=e.tagName;return Ah(i).convert(t,Nh(e))}static convertBack(e,t){const i=e.tagName;return Ah(i).convertBack(t,Nh(e))}}const Oh=window.NIType,Bh=function(e,t){const i=e[t];return qh.convertBack(e,i)},Rh=function(e,t,i){const n=qh.convert(e,i);e[t]=n},Vh=function(e){let t,i={};if(null!==e)try{"object"==typeof(t=JSON.parse(e))&&null!==t&&(i=t)}catch(e){}return i},Hh=function(e){let t={},i={},n={};const r=function(e,t){return{labelElement:e,controlMeta:t}},a=function(){if(void 0===e._niTypeInstance)return!1;const t=e._niTypeInstance.getFields();let n,r,a,s;for(n=0;n<t.length;n++){if(r=t[n],void 0===(a=i[r])||void 0===a.controlMeta)return $t.infoVerbose("Cluster ("+e.niControlId+") has invalid cache: either label or control missing for field: "+r),!1;if((s=a.controlMeta.controlElement).parentElement!==e)return $t.infoVerbose("Cluster ("+e.niControlId+") has invalid cache: child control ("+s.niControlId+") not attached for field: "+r),!1;if(void 0===e._clusterValue[r])return $t.infoVerbose("Cluster ("+e.niControlId+") has invalid cache: cluster value missing for field: "+r),!1}return!0};return{updateCacheIfNeededAndValidate:function(){let s=a();if(s)return!0;!function(){let e,i;for(e in t)t.hasOwnProperty(e)&&void 0!==(i=t[e]).listener&&(i.controlElement.removeEventListener(i.controlElement.valuePropertyDescriptor.eventName,i.listener),i.listener=void 0)}(),t={},i={},n={};let o,l,d,h=0;for(h=0;h<e.childNodes.length;h++)void 0!==(d=e.childNodes[h]).labelId&&(""===d.labelId?(void 0===(o=n[d.niControlId])?(o=r(d,void 0),n[d.niControlId]=o):o.labelElement=d,i[d.text]=o):(l={controlElement:d,listener:void 0},t[d.niControlId]=l,void 0===(o=n[d.labelId])?(o=r(void 0,l),n[d.labelId]=o):o.controlMeta=l));return(s=a())?(function(){const t=e._niTypeInstance.getFields();let n,r;for(n=0;n<t.length;n++)(r=i[t[n]].controlMeta).listener=e.childChanged.bind(e,r.controlElement),r.controlElement.addEventListener(r.controlElement.valuePropertyDescriptor.eventName,r.listener)}(),!0):(t={},i={},n={},!1)},getChildByFieldName:function(e){const t=i[e];if(void 0!==t&&void 0!==t.controlMeta)return t.controlMeta.controlElement}}};class Lh extends Pr{addAllProperties(e){super.addAllProperties(e);const t=Lh.prototype;Object.defineProperty(t,"value",{get:function(){return fs.deepCopy(this._clusterValue)},set:function(e){const t=this._clusterValue;fs.isDeepEqual(t,e)||(this._clusterValue=fs.deepCopy(e),this.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:e,oldValue:t}})),!1===this._childValueChanging&&this.updateChildValues())},configurable:!1,enumerable:!0}),Object.defineProperty(t,"valueNonSignaling",{get:function(){return fs.deepCopy(this._clusterValue)},set:function(e){fs.isDeepEqual(this._clusterValue,e)||(this._clusterValue=fs.deepCopy(e),!1===this._childValueChanging&&this.updateChildValues())},configurable:!1,enumerable:!1}),t.addProperty(e,{propertyName:"niType",defaultValue:'{"name":"Cluster","fields":[],"subtype":[]}'}),$t.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}makeValueObj(){const e=this._niTypeInstance.getFields(),t={};let i,n,r;for(i=0;i<e.length;i++)r=e[i],n=this._childCache.getChildByFieldName(r),t[r]=Bh(n,n.valuePropertyDescriptor.propertyName);return t}childChanged(e,t){if(e===t.target&&!1===this._childValueChanging){const e=this.makeValueObj();this._childValueChanging=!0,this.value=e,this._childValueChanging=!1}}disableChildren(){const e=this;this.childNodes.forEach(function(t){$t.isElement(t)&&(t.disabled=e.disabled)})}createdCallback(){super.createdCallback(),this._childValueChanging=!1,this._clusterValue=void 0,this._niTypeInstance=void 0,this._childCache=Hh(this),this._updateChildValuesQueued=!1}connectedCallback(){this._clusterValue=Vh(this.getAttribute("value")),this._niTypeInstance=new Oh(this.niType),super.connectedCallback()}attachedCallback(){const e=super.attachedCallback();return e&&(this._niTypeInstance=new Oh(this.niType),this.queueUpdateChildValues()),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"niType":this._niTypeInstance=new Oh(this.niType),this.queueUpdateChildValues();break;case"disabled":this.disableChildren()}}queueUpdateChildValues(){const e=this;let t;!1===e._updateChildValuesQueued&&((t=e.updateChildValues())?e.disableChildren():(e._updateChildValuesQueued=!0,window.requestAnimationFrame(function(){e._updateChildValuesQueued=!1,e.queueUpdateChildValues()})))}updateChildValues(){if(!1===this._childCache.updateCacheIfNeededAndValidate())return!1;const e=this._niTypeInstance.getFields(),t=fs.deepCopy(this._clusterValue);let i,n,r=0;for(r=0;r<e.length;r++)i=e[r],n=this._childCache.getChildByFieldName(i),this._childValueChanging=!0,Rh(n,n.valuePropertyDescriptor.propertyNameNonSignaling,t[i]),this._childValueChanging=!1;return!0}}si.registerElement(Lh,ri.CONTAINER),Cr.defineElementInfo(Lh.prototype,"ni-cluster","HTMLNICluster");const zh=window.NIType;class Fh extends dh{constructor(e){super(e),this.niType=new zh({name:"Cluster",fields:[]}),this._value={}}static get MODEL_KIND(){return"niCluster"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}addChildModel(e){e.suppressControlChanged=!0,super.addChildModel(e)}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e,t){this.value=e,super.controlChanged("value",e,t)}}Pn.registerModel(Fh);Symbol("checkSize"),Symbol("componentDidMount"),Symbol("componentDidUpdate"),Symbol("contentSlot"),Symbol("defaultTabIndex"),Symbol("defaultState"),Symbol("delegatesFocus"),Symbol("effectEndTarget"),Symbol("focusTarget"),Symbol("getItemText"),Symbol("goDown"),Symbol("goEnd"),Symbol("goLeft"),Symbol("goNext"),Symbol("goPrevious"),Symbol("goRight"),Symbol("goStart"),Symbol("goUp"),Symbol("hasDynamicTemplate"),Symbol("ids"),Symbol("itemMatchesState"),Symbol("itemsDelegate"),Symbol("keydown"),Symbol("mouseenter"),Symbol("mouseleave"),Symbol("nativeInternals"),Symbol("populate"),Symbol("raiseChangeEvents"),Symbol("render"),Symbol("renderChanges"),Symbol("rendering"),Symbol("scrollTarget"),Symbol("setState"),Symbol("startEffect"),Symbol("state"),Symbol("swipeDown"),Symbol("swipeDownComplete"),Symbol("swipeLeft"),Symbol("swipeLeftTransitionEnd"),Symbol("swipeRight"),Symbol("swipeRightTransitionEnd"),Symbol("swipeUp"),Symbol("swipeUpComplete"),Symbol("swipeStart"),Symbol("swipeTarget"),Symbol("tap"),Symbol("template"),Symbol("update"),Symbol("generatedId"),Symbol("mousedownListener");function Uh(e){const t=function*e(t,i){i(t)&&(yield t);let n;if(t instanceof HTMLElement&&t.shadowRoot)n=t.shadowRoot.children;else{const e=t instanceof HTMLSlotElement?t.assignedNodes({flatten:!0}):[];n=e.length>0?e:t.childNodes}if(n)for(let t=0;t<n.length;t++)yield*e(n[t],i)}(e,e=>e instanceof HTMLElement&&e.matches('a[href],area[href],button:not([disabled]),details,iframe,input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[contentEditable="true"],[tabindex]')&&e.tabIndex>=0),{value:i}=t.next();return i instanceof HTMLElement?i:null}class $h extends Xd{bindToView(){super.bindToView();const e=this;e.element.addEventListener("value-changed",function(t){let i,n;t.target===e.element&&(i=t.detail.newValue,n=t.detail.oldValue,e.model.controlChanged(i,n))})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"value":t.properties.valueNonSignaling=this.model.value;break;case"niType":t.properties.niType=this.model.getNITypeString()}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.niType=new window.NIType(this.element.niType),this.model.value=this.element.value}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.valueNonSignaling=this.model.value}async setGPropertyValueAsync(e,t){switch(e){case Hn.KEY_FOCUS_G_PROPERTY_NAME:if(await en.waitForFrameUpdate(),t){this.model.ensureFocus();const e=Uh(this.element);e&&e.focus()}else await super.setGPropertyValueAsync(e,t);break;default:await super.setGPropertyValueAsync(e,t)}}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:{const e=i.value;i.controlChanged(t,e);break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;default:return super.getGPropertyValue(e)}}userInteractionChanged(e,t){if(super.userInteractionChanged(e,t),t===bn.MOVE||t===bn.CREATE){const e=en.getOrAddRenderBuffer(this.element),t=this.getModelBounds();this.setWidthAndHeightToRenderBuffer(t,e),this.setPositionToRenderBuffer(t,e)}}}Pn.registerViewModel($h,Lh,Fh);var Wh=Object.freeze({ClusterViewModel:$h});class Gh extends Hn{constructor(e){super(e),this._direction="row",this._horizontalContentAlignment="flex-start",this._verticalContentAlignment="flex-start"}static get MODEL_KIND(){return"niFlexibleLayoutContainer"}get direction(){return this._direction}set direction(e){this._direction=e,this.notifyModelPropertyChanged("direction")}get horizontalContentAlignment(){return this._horizontalContentAlignment}set horizontalContentAlignment(e){this._horizontalContentAlignment=e,this.notifyModelPropertyChanged("horizontalContentAlignment")}get verticalContentAlignment(){return this._verticalContentAlignment}set verticalContentAlignment(e){this._verticalContentAlignment=e,this.notifyModelPropertyChanged("verticalContentAlignment")}}Pn.registerModel(Gh);class Xh extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("direction"),this.registerAutoSyncProperty("horizontalContentAlignment"),this.registerAutoSyncProperty("verticalContentAlignment")}modelPropertyChanged(e){switch(super.modelPropertyChanged(e),e){case"direction":case"horizontalContentAlignment":case"verticalContentAlignment":this.model.requestSendControlBounds()}}shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}}Pn.registerViewModel(Xh,void 0,Gh,"ni-flexible-layout-container");var Yh=Object.freeze({FlexibleLayoutContainerViewModel:Xh});class Jh extends Hn{static get MODEL_KIND(){return"niFlexibleLayoutGroup"}}Pn.registerModel(Jh);class Qh extends Dr{shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}}Pn.registerViewModel(Qh,void 0,Jh,"ni-flexible-layout-group");var Kh=Object.freeze({FlexibleLayoutGroupViewModel:Qh});class Zh extends Hn{constructor(e){super(e),this._layoutPattern=""}static get MODEL_KIND(){return"niFlexibleLayoutComponent"}get layoutPattern(){return this._layoutPattern}set layoutPattern(e){this._layoutPattern=e,this.notifyModelPropertyChanged("layoutPattern")}isFlexibleLayout(){return!0}}Pn.registerModel(Zh);class ec extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("layoutPattern")}shouldApplyDraggingStyleWithChild(){return!0}shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}}Pn.registerViewModel(ec,void 0,Zh,"ni-flexible-layout-component");var tc=Object.freeze({FlexibleLayoutComponentViewModel:ec});class ic extends Hn{constructor(e){super(e),this._flexGrow=1}static get MODEL_KIND(){return"niFlexibleLayoutWrapper"}get flexGrow(){return this._flexGrow}set flexGrow(e){this._flexGrow=e,this.notifyModelPropertyChanged("flexGrow")}}Pn.registerModel(ic);class nc extends Dr{modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e);switch(e){case"flexGrow":i.cssStyles[xr.FLEX_GROW]=Hs.convert(t.flexGrow),this.model.requestSendControlBounds()}}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.flexGrow=e.getPropertyValue(xr.FLEX_GROW)}applyModelToElement(){const e=this.element,t=this.model;super.applyModelToElement(),e.style.setProperty(xr.FLEX_GROW,t.flexGrow)}shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}shouldElementUseModelPosition(){return!1}}Pn.registerViewModel(nc,void 0,ic,"ni-flexible-layout-wrapper");var rc=Object.freeze({FlexibleLayoutWrapperViewModel:nc});class ac extends dh{constructor(e){super(e),this._maxWidth="none",this._background=""}static get BACKGROUND_COLOR_G_PROPERTY_NAME(){return"BackgroundColor"}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth=e,this.notifyModelPropertyChanged("maxWidth")}static get MODEL_KIND(){return"niFrontPanel"}static get ONLINE_STATUS_CHANGED_EVENT_GUID(){return"{32EC6FD2-91DA-47A6-B0AC-F41B53FC3B37}"}static get ONLINE_STATUS_CHANGED_EVENT_INDEX(){return 17}static get ONLINE_STATUS_CHANGED_EVENT_NAME(){return"onlineStatus"}findTopLevelControl(){return this}getLocalEventInfo(e){return e===ac.ONLINE_STATUS_CHANGED_EVENT_NAME?{eventIndex:ac.ONLINE_STATUS_CHANGED_EVENT_INDEX,eventDataId:ac.ONLINE_STATUS_CHANGED_EVENT_GUID}:super.getLocalEventInfo(e)}}Pn.registerModel(ac);const sc=bn.UserInteractionState,oc=bn.InteractiveOperationKind;let lc;class dc extends Xd{static get GRADIENTS_NOT_SUPPORTED_ERROR_CODE(){return 1702}userInteractionChanged(e,t){const i=t===oc.MOVE||t===oc.CREATE;e===sc.START?i&&this.element.classList.add("ni-descendant-drag-active"):e===sc.END&&i&&this.element.classList.remove("ni-descendant-drag-active")}bindToView(){super.bindToView();const e=this;window.addEventListener("online",function(t){e.model.controlEventOccurred(ac.ONLINE_STATUS_CHANGED_EVENT_NAME,{"Connected?":!0})}),window.addEventListener("offline",function(t){e.model.controlEventOccurred(ac.ONLINE_STATUS_CHANGED_EVENT_NAME,{"Connected?":!1})})}async invokeInternalControlFunction(e,t){switch(e){case"setBusy":return this.setBusy();case"unsetBusy":return this.unsetBusy();default:super.invokeInternalControlFunction(e,t)}}setBusy(){document.body.contains(lc)||(void 0===lc&&((lc=document.createElement("dialog")).addEventListener("cancel",e=>e.preventDefault()),lc.classList.add("ni-busy-state"),window.dialogPolyfill.registerDialog(lc)),document.body.appendChild(lc),lc.showModal())}unsetBusy(){void 0!==lc&&document.body.contains(lc)&&(lc.close(),lc.remove())}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"maxWidth":t.cssStyles[xr.MAX_WIDTH]=this.model.maxWidth}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.model,t=this.element,i=window.getComputedStyle(t);e.maxWidth=i.getPropertyValue(xr.MAX_WIDTH)}applyModelToElement(){super.applyModelToElement();const e=this.model;this.element.style.setProperty(xr.MAX_WIDTH,e.maxWidth)}shouldElementUseModelHeight(){return!this.model.isFlexibleLayoutRoot()}setGPropertyValue(e,t){const i=this.model;switch(e){case ac.BACKGROUND_COLOR_G_PROPERTY_NAME:i.background=$o.integerToRGBA(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case ac.BACKGROUND_COLOR_G_PROPERTY_NAME:{const i=t.background;if($o.isRGBAOrHexFormat(i))return $o.getIntegerValueForInputColor(i);throw new Wi($t.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),dc.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(dc,void 0,ac,"ni-front-panel");var hc=Object.freeze({FrontPanelViewModel:dc});const cc=NationalInstruments.Globals.jQuery,uc=window.NIType,pc="ni-rethemed",mc=Symbol("niArrayElementChange"),fc=function(e,t,i){let n=e.tagName;const r=e.parentElement;let a,s,o;if(r instanceof Lh){for(s=1,a=0;a<r.childNodes.length&&(o=r.childNodes[a])!==e;a++)o.tagName===e.tagName&&s++;n=n+":nth-of-type("+s+")"}return t||void 0===e.niControlId||(n=n+"[ni-control-id='"+e.niControlId+"']"),e instanceof Pc&&!0!==i&&(t?n+=" > div > div > div > div > table > tbody > tr > td > div.jqx-array-element":n=n+" div.jqx-array-element-"+e.childElement.id),n},gc=function(e,t){const i=[];let n,r=t;for(;r!==e&&null!==r;)i.push(r),r=r.parentElement;if(null===r)return null;for(n=fc(e,!1,0===i.length);i.length>0;)r=i.pop(),n=n.concat(" > ",fc(r,!0,0===i.length));return n},vc=function(e,t,i){if(!0===e._settingArrayValue||!0===e._clearingArrayValue||!0===e._creatingArrayValue)return;let n;if(e._settingArrayValue=!0,e._arrayValue=null!==t?t:[],i){if(void 0===e._oldArrayValue)throw new Error("Expected _oldArrayValue to already be set when responding to user update to array");n=e._oldArrayValue,e._oldArrayValue=void 0,e.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:t,oldValue:n}}))}else e._jqxArrayInitialized&&e.jqref.jqxArray({value:e._arrayValue});e._settingArrayValue=!1},bc=function(e){let t,i=[];if(null!==e)try{t=JSON.parse(e),Array.isArray(t)&&(i=t)}catch(e){}return i},yc=function(e,t){const i=e.mutationObserver;null!==i&&void 0!==i.observe&&i.observe(e,{childList:!0,attributes:!1,subtree:t})},_c=function(e){null!==e.mutationObserver&&"function"==typeof e.mutationObserver.disconnect&&e.mutationObserver.disconnect()},wc=function(e){let t=0,i=e.getSubtype(),n=[];if(!1===i.isVoid())for(n.push(i);n.length>0;)((i=n.shift()).isCluster()||i.isArray())&&(n=n.concat(i.getSubtype())),t+=1;return t},xc=function(e){let t=0;for(t=0;t<e.length;t++){const i=e[t];if(Cc(i))return i}return null},Cc=function(e){return $t.isElement(e)&&null!==e.niControlId&&"NI-LABEL"!==e.tagName},Sc=function(e){const t=e;let i=0,n=0,r=0,a=!1,s=null;t.mutationObserver=new window.MutationObserver(function(o){o.forEach(function(n){if("childList"===n.type){if(n.target===t){if(n.addedNodes.length>0){null!==xc(n.addedNodes)&&(s=n.addedNodes[0])}else if(n.removedNodes.length>0){null!==xc(n.removedNodes)&&(s=null,a=!0)}e._expectedChildrenCount=wc(t._niTypeInstance)}for(r=0;r<n.addedNodes.length;r+=1){const e=n.addedNodes[r];Cc(e)&&(i+=1)}for(r=0;r<n.removedNodes.length;r+=1){const e=n.removedNodes[r];Cc(e)&&(i-=1)}}}),t.templateControl===s&&0!==i||0!==n||(n=window.requestAnimationFrame(function(){a&&t.clearArrayType(!0),null!==s&&t.createArray(s),n=0,a=!1}))})},Tc=function(e){return(({left:e,top:t,width:i,height:n})=>({left:e,top:t,width:i,height:n}))(window.getComputedStyle(e))};class Pc extends Sr{get[an.NIArrayViewerSymbol](){return!0}addAllProperties(e){super.addAllProperties(e);const t=Pc.prototype;Object.defineProperty(t,"value",{get:function(){return fs.deepCopy(this._arrayValue)},set:function(e){vc(this,e,!0)},configurable:!1,enumerable:!0}),Object.defineProperty(t,"valueNonSignaling",{get:function(){return fs.deepCopy(this._arrayValue)},set:function(e){vc(this,e,!1)},configurable:!1,enumerable:!1}),t.addProperty(e,{propertyName:"niType",defaultValue:'{"name":"Array","rank":1,"subtype":"Void"}'}),t.addProperty(e,{propertyName:"dimensions",defaultValue:1}),t.addProperty(e,{propertyName:"orientation",defaultValue:"horizontal"}),t.addProperty(e,{propertyName:"indexEditorWidth",defaultValue:53}),t.addProperty(e,{propertyName:"indexVisibility",defaultValue:!1}),t.addProperty(e,{propertyName:"verticalScrollbarVisibility",defaultValue:!1}),t.addProperty(e,{propertyName:"horizontalScrollbarVisibility",defaultValue:!1}),t.addProperty(e,{propertyName:"focusedCell",defaultValue:""}),t.addProperty(e,{propertyName:"rowsAndColumns",defaultValue:"1,1"}),t.addProperty(e,{propertyName:"isEmpty",defaultValue:!1}),$t.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}getFullCssSelectorForNIVisual(e){return gc(this,e)}arrayElementSizeChanged(e){let t,i;const n=e.width,r=e.height;if(n===this._elementWidth&&r===this._elementHeight)return;this._elementWidth=n,this._elementHeight=r;const a=n+"px",s=r+"px";null!==this.templateControl&&(this.nodeCss[this.templateControl.niControlId].width=a,this.nodeCss[this.templateControl.niControlId].height=s),this.jqref.jqxArray("resizeElement",n,r);const o=document.querySelectorAll(fc(this,!1));for(t=0;t<o.length;t++)(i=o[t].firstElementChild).style.width=a,i.style.height=s,void 0!==i.forceResize&&i.forceResize({width:n,height:r})}createdCallback(){const e=this;super.createdCallback(),this.childElement=null,this.jqref=null,this.nodeCss={},this.templateControl=null,this.mutationObserver=null,this.attributeMutationObserver=null,Object.defineProperty(this,"elementSize",{configurable:!1,enumerable:!0,get:function(){return{width:this._elementWidth,height:this._elementHeight}},set:function(t){e.arrayElementSizeChanged(t)}}),this.rows=1,this.columns=1,this._userUpdate=!1,this._settingArrayValue=!1,this._useAttributeMutationObserver=!0,this._elementWidth=0,this._elementHeight=0,this._nodeLabelMap=[],this._clearingArrayValue=!1,this._creatingArrayValue=!1,this._settingElementValue=!1,this._arrayValue=[],this._niTypeInstance=void 0,this._oldArrayValue=void 0}connectedCallback(){this._arrayValue=bc(this.getAttribute("value")),super.connectedCallback()}clearArrayType(e){_c(this),this.templateControl=null,this._clearingArrayValue=!0;const t={type:"none",dimensions:this.dimensions,indexerWidth:this.indexEditorWidth,showIndexDisplay:this.indexVisibility,showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility,disabled:this.disabled,theme:pc};e?this.jqref.jqxArray(t):(t.width=this.style.width,t.height=this.style.height,this.jqref.jqxArray(t),this.updateIndexerTheme()),this._jqxArrayInitialized=!0,this.isEmpty=!0,this._clearingArrayValue=!1,yc(this,!0)}forceResize(e){super.forceResize(e),null===this.templateControl&&this.jqref.jqxArray({width:e.width+"px",height:e.height+"px"}),this.style.height=e.height+"px",this.style.width=e.width+"px",this.jqref.find("div.jqx-array-scrollbar-horizontal, div.jqx-array-scrollbar-vertical").jqxScrollBar("refresh")}attachedCallback(){const e=super.attachedCallback();if(e){let e,t=null;const i=this;for(this.parseRowsAndColumns(),e=0;e<this.childNodes.length;e++)if(this.childNodes[e]instanceof HTMLElement&&"NI-LABEL"!==this.childNodes[e].tagName){t=this.childNodes[e];break}this.childElement=document.createElement("div"),this.appendChild(this.childElement),this.jqref=cc(this.childElement),this._niTypeInstance=new uc(this.niType),this._expectedChildrenCount=wc(this._niTypeInstance),Sc(this),null!==t?ni.addNIEventListener("attached",function(){i.createArray(t)}):this.clearArrayType(!1),this.jqref.on("change",function(e){e.target!==i.childElement||void 0!==e.detail&&"api"===e.detail.changeType||(i.value=i.jqref.val())}),this.jqref.on("scroll",function(){const e={bubbles:!0,cancelable:!0,detail:{indices:i.jqref.jqxArray("getIndexerValue"),originalSource:this.childElement}};i.dispatchEvent(new CustomEvent("scroll-changed",e))})}return e}detachedCallback(){super.detachedCallback(),_c(this),this.mutationObserver=null,this.templateControl=null}updateFromTemplate(e,t,i){e.niControlId=$t.uniqueId(),e._preventModelCreation=!0,e.visible=!0;let n=this.nodeCss[t.niControlId];void 0===n&&(n=Tc(t),this.nodeCss[t.niControlId]=n),e.style.width=n.width,e.style.height=n.height,e.style.display="",i?(e.style.left=n.left,e.style.top=n.top):(e.style.left="",e.style.top="");let r,a=0;for(r=0;r<t.childNodes.length;r++)$t.isElement(t.childNodes[r])&&void 0!==e.childNodes[a]&&(this.updateFromTemplate(e.childNodes[a],t.childNodes[r],!0),"NI-LABEL"===t.childNodes[r].tagName&&(this._nodeLabelMap[t.childNodes[r].niControlId]=e.childNodes[a].niControlId),a++)}updateLabelIds(e){let t,i;if(!$t.isElement(e))return null;for(t=0;t<e.childNodes.length;t++)"NI-LABEL"!==e.childNodes[t].tagName&&(void 0===(i=this._nodeLabelMap[e.childNodes[t].labelId])&&(i=""),e.childNodes[t].labelId=i,this.updateLabelIds(e.childNodes[t]))}copyElement(e){if(!$t.isElement(e)||NationalInstruments.JQXElement.isJQXElementSubPart(e))return null;const t=$t.cloneControlElement(e),i=$t.getTemplateId(e);if(void 0!==i?$t.setTemplateId(t,i):$t.setTemplateId(t,e.niControlId),e.childNodes.length>0)for(let i=0;i<e.childNodes.length;i++){const n=this.copyElement(e.childNodes[i]);null!==n&&t.appendChild(n)}return t}updateTemplateCss(e){this.nodeCss[e.niControlId]=Tc(e)}recreateCells(e){let t,i,n;const r=this;if(null===r.templateControl||void 0===r.templateControl)return;const a=function(e,t){let i,a;if(null!=(n=r.jqref.jqxArray("getElement",e,t))){for(a=cc(n),i=r.jqref.jqxArray("getElementValue",a,{x:t,y:e});n.hasChildNodes();)n.removeChild(n.lastChild);r.jqref.jqxArray("elementTemplate",a),r.jqref.jqxArray("setElementValue",i,a,{x:t,y:e})}};if(e)for(t=0;t<this.rows;t++)for(i=0;i<this.columns;i++)a(t,i);else void 0!==this._focusedColumn&&void 0!==this._focusedRow&&a(this._focusedRow,this._focusedColumn);window.requestAnimationFrame(function(){r.updateFocusedCell()})}setDefaultValue(e){this.jqref.jqxArray("setDefaultValue",e)}createArray(e){const t=this;_c(this),this._creatingArrayValue=!0;const i=e.valuePropertyDescriptor.propertyName,n=e.valuePropertyDescriptor.eventName,r=e.valuePropertyDescriptor.propertyNameNonSignaling;let a=e[i];e.classList.add("array-template"),e.style.left="0px",e.style.top="0px",e.style.display="none",e.labelId="",this.templateControl=e,void 0!==a&&(a=qh.convertBack(e,a)),this.nodeCss={};const s=Tc(e);this.nodeCss[e.niControlId]=s,this._elementWidth=parseInt(s.width),this._elementHeight=parseInt(s.height),this.jqref.jqxArray({elementWidth:this._elementWidth,elementHeight:this._elementHeight,elementTemplate:function(i){t._nodeLabelMap=[];const r=t.copyElement(e);cc(r).removeClass("array-template");const a=i[0],s=t.nodeCss[e.niControlId];t.updateFromTemplate(r,e,!1),t.updateLabelIds(r),r.disabled=t.disabled,a.style.width=s.width,a.style.height=s.height,i.on("change",function(e){void 0!==e.detail&&!0===e.detail[mc]||e.stopImmediatePropagation()}),a.appendChild(r),void 0!==r.forceResize&&(r.connectedCallback(),r.forceResize({width:t._elementWidth,height:t._elementHeight}));cc(r).on(n,function(e){if(!t._settingElementValue&&void 0!==e.detail&&"api"!==e.detail.changeType&&e.originalEvent.target===r&&!i.supressChange){if(void 0!==t._oldArrayValue)throw new Error("Expected _oldArrayValue to be undefined when starting a user change of the array");!1===t._settingArrayValue&&!1===t._clearingArrayValue&&!1===t._creatingArrayValue&&function(e){const i=cc(e).data(),n=i.col,r=i.row,a=t.jqref.jqxArray("_getValueInCell",r,n),s=t.jqref.jqxArray("_getElementValue",e,{x:n,y:r},!0);return t.jqref.jqxArray("_areDifferent",s,a)}(i)&&(t._oldArrayValue=fs.deepCopy(t._arrayValue)),i.trigger(cc.Event("change",{detail:{[mc]:!0}}))}})},changeProperty:function(e,t,i){"width"===e?i.css({width:t}):"height"===e?i.css({height:t}):"disabled"===e&&i.css({disabled:t})},getElementValue:function(e,t){const n=e[0].firstElementChild,r=n[i];if(void 0!==r)try{return qh.convertBack(n,r)}catch(e){return r}return r},setElementValue:function(e,i,n){if(void 0!==e){const n=i[0].firstElementChild;try{t._settingElementValue=!0,n[r]=qh.convert(n,e),t._settingElementValue=!1}catch(e){}}},type:"custom",dimensions:this.dimensions,indexerWidth:this.indexEditorWidth,showIndexDisplay:this.indexVisibility,customWidgetDefaultValue:a,showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility,disabled:this.disabled,theme:pc,value:t._arrayValue}),this._jqxArrayInitialized=!0,cc.data(this.childElement).jqxArray.instance._tdBorder-=2,this.jqref.jqxArray({rows:this.rows,columns:this.columns}),this.jqref.jqxArray({showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility}),this.isEmpty=!1,this.jqref.addClass("ni-array-viewer-box"),this.jqref.find(" .jqx-array-indexer").addClass("ni-indexer-box"),this.jqref.find(" .jqx-input-content").addClass("ni-text-field"),this.jqref.find(" .jqx-input.jqx-rc-r").addClass("ni-spins-box"),this.jqref.find(" .jqx-action-button").addClass("ni-spin-button"),this.jqref.find(" .jqx-icon-arrow-up").addClass("ni-increment-icon"),this.jqref.find(" .jqx-icon-arrow-down").addClass("ni-decrement-icon"),this.updateIndexerTheme(),this.updateScrollbarTheme(),this.updateFocusedCell(),this._creatingArrayValue=!1,yc(this,!1)}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"dimensions":if(this._jqxArrayInitialized){const e={dimensions:this.dimensions};null!==this.templateControl&&(e.rows=this.rows,e.columns=this.columns),this.jqref.jqxArray(e),this.updateIndexerFont(),this.updateIndexerTheme()}break;case"indexEditorWidth":this.jqref.jqxArray({indexerWidth:this.indexEditorWidth});break;case"indexVisibility":this.jqref.jqxArray({showIndexDisplay:this.indexVisibility});break;case"verticalScrollbarVisibility":this.jqref.jqxArray({showVerticalScrollbar:this.verticalScrollbarVisibility}),this.updateScrollbarTheme();break;case"horizontalScrollbarVisibility":this.jqref.jqxArray({showHorizontalScrollbar:this.horizontalScrollbarVisibility}),this.updateScrollbarTheme();break;case"focusedCell":this.updateFocusedCell();break;case"rowsAndColumns":this.updateRowsAndColumns();break;case"niType":this._niTypeInstance=new uc(this.niType),this._expectedChildrenCount=wc(this._niTypeInstance);break;case"disabled":this.jqref.jqxArray({disabled:this.disabled}),this.setDisabledOnChildElements(this.disabled),this.setDisabledOnScrollBars(this.disabled)}}setDisabledOnChildElements(e){const t=this.getFullCssSelectorForNIVisual(this.templateControl),i=document.querySelectorAll(t);this.templateControl.disabled=this.disabled,i.forEach(t=>{t.disabled=e})}setDisabledOnScrollBars(e){this.querySelectorAll(" div.jqx-scrollbar").forEach(t=>{cc(t).jqxScrollBar({disabled:e})})}updateFocusedCell(){let e,t,i,n,r,a,s;if(null!==this.templateControl)if("string"==typeof this.focusedCell&&this.focusedCell.length>0&&2===(e=this.focusedCell.split(",")).length){if(a=parseInt(e[0]),s=parseInt(e[1]),this._focusedRow=a,this._focusedColumn=s,null==(i=this.jqref.jqxArray("getElement",a,s)))return;for(n=i.querySelectorAll("[ni-control-id]"),t=0;t<n.length;t++){const e=$t.getTemplateId(n[t]);void 0!==e&&null!==(r=document.querySelector("[ni-control-id='"+e+"']"))&&(r._niFocusedCloneId=n[t].niControlId)}}else for(this._focusedRow=void 0,this._focusedColumn=void 0,(n=Array.prototype.slice.call(this.templateControl.querySelectorAll("[ni-control-id]"))).push(this.templateControl),t=0;t<n.length;t++)n[t]._niFocusedCloneId=void 0}parseRowsAndColumns(){let e;"string"==typeof this.rowsAndColumns&&this.rowsAndColumns.length>0&&2===(e=this.rowsAndColumns.split(",")).length&&(this.rows=parseInt(e[0]),this.columns=parseInt(e[1]))}updateRowsAndColumns(){if(this.parseRowsAndColumns(),null===this.templateControl)return;const e=this.jqref.jqxArray("rows"),t=this.jqref.jqxArray("columns");this.rows===e&&this.columns===t||(null===this.jqref.val()&&this.jqref.jqxArray({value:[]}),this.jqref.jqxArray({rows:this.rows,columns:this.columns}));const i=this.jqref.find(".jqx-array-big-container"),n=window.getComputedStyle(i[0]),r=parseInt(n.paddingTop),a=parseInt(n.paddingRight),s=parseInt(n.paddingBottom),o=parseInt(n.paddingLeft),l=this.childElement,d={bubbles:!0,cancelable:!0,detail:{height:parseInt(l.style.height)+r+s,width:parseInt(l.style.width)+o+a,originalSource:this.childElement}};this.dispatchEvent(new CustomEvent("array-size-changed",d)),this.updateFocusedCell()}setFont(e,t,i,n,r){super.setFont(e,t,i,n,r);const a=this.jqref.find(" .jqx-array-indexer"),s={"font-size":e,"font-family":t,"font-weight":i,"font-style":n};cc(a).css(s),this.jqref.trigger("refresh")}updateIndexerFont(){let e=this.jqref.find(" .jqx-array-indexer").last();const t=cc(e).css(["font-size","font-family","font-weight","font-style"]);e=this.jqref.find(" .jqx-array-indexer"),cc(e).css(t)}updateIndexerTheme(){this.jqref.find(".jqx-array-indexer").jqxNumberInput({theme:pc})}updateScrollbarTheme(){let e;const t=this.jqref.find("div.jqx-array-scrollbar-horizontal, div.jqx-array-scrollbar-vertical");for(e=0;e<t.length;e++){const i=cc(t[e]),n=i.jqxScrollBar("touchMode");void 0!==n&&!1!==n&&i.jqxScrollBar({touchMode:!1})}}}si.registerElement(Pc,ri.CONTAINER),Cr.defineElementInfo(Pc.prototype,"ni-array-viewer","HTMLNIArrayViewer");const Ic=window.NIType,Ec=window.NITypes,Dc=window.NITypeNames,kc="value";class jc extends Hn{constructor(e){super(e),this.niType=new Ic({name:Dc.ARRAY,rank:1,subtype:{name:Dc.VOID}}),this._rowsAndColumns="1,1",this._dimensions=1,this._indexEditorWidth=53,this._indexVisibility=!1,this._orientation="horizontal",this._horizontalScrollbarVisibility=!1,this._verticalScrollbarVisibility=!1,this._focusedCell="",this._value=[],this._defaultElementValue=""}static get VISIBLE_COLUMNS_G_PROPERTY_NAME(){return"VisibleColumns"}static get VISIBLE_ROWS_G_PROPERTY_NAME(){return"VisibleRows"}get rowsAndColumns(){return this._rowsAndColumns}set rowsAndColumns(e){this._rowsAndColumns=e,this.notifyModelPropertyChanged("rowsAndColumns")}get dimensions(){return this._dimensions}set dimensions(e){this._dimensions=e,this.notifyModelPropertyChanged("dimensions")}get indexEditorWidth(){return this._indexEditorWidth}set indexEditorWidth(e){this._indexEditorWidth=e,this.notifyModelPropertyChanged("indexEditorWidth")}get indexVisibility(){return this._indexVisibility}set indexVisibility(e){this._indexVisibility=e,this.notifyModelPropertyChanged("indexVisibility")}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get horizontalScrollbarVisibility(){return this._horizontalScrollbarVisibility}set horizontalScrollbarVisibility(e){this._horizontalScrollbarVisibility=e,this.notifyModelPropertyChanged("horizontalScrollbarVisibility")}get verticalScrollbarVisibility(){return this._verticalScrollbarVisibility}set verticalScrollbarVisibility(e){this._verticalScrollbarVisibility=e,this.notifyModelPropertyChanged("verticalScrollbarVisibility")}get focusedCell(){return this._focusedCell}set focusedCell(e){this._focusedCell=e,this.notifyModelPropertyChanged("focusedCell")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged(kc)}get defaultElementValue(){return this._defaultElementValue}set defaultElementValue(e){this._defaultElementValue=e,this.notifyModelPropertyChanged("defaultElementValue")}static get MODEL_KIND(){return"niArrayViewer"}modelPropertyUsesNIType(e){return e===kc}controlChanged(e,t){this.value=e,super.controlChanged(kc,e,t)}scrollChanged(e){this.internalControlEventOccurred("ArrayScrolledEvent",e)}gPropertyNIType(e){switch(e){case jc.VISIBLE_COLUMNS_G_PROPERTY_NAME:case jc.VISIBLE_ROWS_G_PROPERTY_NAME:return Ec.UINT32}return super.gPropertyNIType(e)}}Pn.registerModel(jc);const Mc=0,Ac=1,Nc=function(e,t,i){const n=[t];return i!==e.model&&Array.prototype.push.apply(n,e._viewModelData[t.niControlId].getClones()),n},qc=function(e,t){let i,n;const r=e.model,a=r.getOwner(),s=e.element.parentElement,o=Nc(t,s,a);for(i=0;i<o.length;i++)(n=en.getOrAddRenderBuffer(o[i])).properties.elementSize={width:parseInt(r.width),height:parseInt(r.height)},en.enqueueDomUpdate(o[i])},Oc=function(e,t,i,n){let r,a,s,o;for(r=0;r<t.cssClasses.toAdd.length;r++)i.cssClasses.toAdd[r]=t.cssClasses.toAdd[r];for(r=0;r<t.cssClasses.toRemove.length;r++)i.cssClasses.toRemove[r]=t.cssClasses.toRemove[r];for(a in t.cssStyles)t.cssStyles.hasOwnProperty(a)&&(!n||"left"!==a&&"top"!==a)&&(i.cssStyles[a]=t.cssStyles[a]);for(s in t.attributes)t.attributes.hasOwnProperty(s)&&(i.attributes[s]=t.attributes[s]);for(o in t.properties)if(t.properties.hasOwnProperty(o)){if(void 0!==e.valuePropertyDescriptor&&(o===e.valuePropertyDescriptor.propertyName||o===e.valuePropertyDescriptor.propertyNameNonSignaling)&&e.parentElement instanceof Pc)continue;i.properties[o]=t.properties[o]}},Bc=function(e,t,i,n){let r,a;for(a=0;a<e.length;a++)r=en.getOrAddRenderBuffer(e[a]),Oc(i,t,r,n),en.enqueueDomUpdate(e[a])},Rc=function(e,t){let i=e,n=null;for(;!i.isDataItemBoundControl();)i instanceof jc&&(n=i),i=i.getOwner();return i instanceof jc&&(n=i),Or.getVIModelByVIRef(t).getControlViewModel(n.niControlId)},Vc=function(e,t){const i=t.userInteractionChanged,n=t.modelPropertyChanged,r=t.onChildViewModelAdded,a=t.onChildViewModelRemoved,s=t.model.getOwner()instanceof jc;return{setCallback:function(){t.userInteractionChanged=function(n,r){const a=e._viewModelData[t.element.niControlId];let o=!1;if("start"===n?a.suppressBoundsChanges=!0:"end"===n&&(a.suppressBoundsChanges=!1,s?(qc(t,e),e.element.updateTemplateCss(t.element)):!0===a.recreateCellsOnUserInteractionEnd?(e.recreateAllCells(),a.recreateCellsOnUserInteractionEnd=!1):o=!0),i.call(t,n,r),o){const i=en.getOrAddRenderBuffer(t.element);0!==Object.keys(i.cssStyles).length&&Bc(a.getClones(),i,t.element),e.element.updateTemplateCss(t.element)}},t.modelPropertyChanged=function(i){const r=e._viewModelData[t.element.niControlId];let a,o=null;r.suppressBoundsChanges&&void 0!==t.element._niFocusedCloneId&&(o=document.querySelector("[ni-control-id='"+t.element._niFocusedCloneId+"']"));const l=n.call(t,i);return"left"===i||"top"===i||"width"===i||"height"===i?s?"width"!==i&&"height"!==i||r.suppressBoundsChanges||(qc(t,e),e.element.updateTemplateCss(t.element)):(r.suppressBoundsChanges?(a=[],null!==o&&(a[0]=o)):(a=r.getClones(),e.element.updateTemplateCss(t.element)),Bc(a,l,t.element)):"fontSize"===i||"fontFamily"===i||"fontWeight"===i||"fontStyle"===i||"textDecoration"===i?(!function(e,t){let i;const n=t.model.fontSize,r=t.model.fontFamily,a=t.model.fontWeight,s=t.model.fontStyle,o=t.model.textDecoration;for(i=0;i<e.length;i++)e[i].setFont(n,r,a,s,o)}(r.getClones(),t),e.element.updateTemplateCss(t.element)):(void 0===t.element.valuePropertyDescriptor||i!==t.element.valuePropertyDescriptor.propertyName&&i!==t.element.valuePropertyDescriptor.propertyNameNonSignaling||t.element.parentElement instanceof Pc==!1)&&(a=r.getClones(),Bc(a,l,t.element,s)),l},t.onChildViewModelAdded=function(i){r.call(t,i),e.initializeElementViewModel(i);const n=e._viewModelData[i.element.niControlId],a=Or.getVIViewModelByVIRef(i.element.viRef);void 0!==i.element._modelMetadata&&!0===i.element._modelMetadata.initialLoad||(a.isUserInteracting(i.element.niControlId)?(n.recreateCellsOnUserInteractionEnd=!0,window.requestAnimationFrame(function(){e.element.recreateCells(!1)})):window.requestAnimationFrame(function(){e.element.recreateCells(!0)}))},t.onChildViewModelRemoved=function(i){let n;const r=e._viewModelData[i.element.niControlId],s=r.getClones();for(a.call(t,i),n=0;n<s.length;n++)s[n].parentElement.removeChild(s[n]);t.model instanceof jc||(r.shim.removeShim(),e._viewModelData[i.element.niControlId]=void 0)}},removeShim:function(){t.userInteractionChanged=i,t.modelPropertyChanged=n,t.onChildViewModelAdded=r,t.onChildViewModelRemoved=a}}};class Hc extends Dr{constructor(e,t){super(e,t),this._viewModelData={},this._recreateCellsRequested=!1,this._isUserInteracting=!1,this.registerAutoSyncProperty("dimensions"),this.registerAutoSyncProperty("indexEditorWidth"),this.registerAutoSyncProperty("indexVisibility"),this.registerAutoSyncProperty("rowsAndColumns"),this.registerAutoSyncProperty("orientation"),this.registerAutoSyncProperty("verticalScrollbarVisibility"),this.registerAutoSyncProperty("horizontalScrollbarVisibility"),this.registerAutoSyncProperty("focusedCell")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this;let n;switch(e){case"value":t.postRender.value=function(){i.element.dimensions=i.model.dimensions,i.element.valueNonSignaling=i.model.value};break;case"niType":t.properties.niType=this.model.getNITypeString();break;case"defaultElementValue":{const e=Rc(this.model,this.element.viRef),t=Nc(e,this.element,this.model);for(n=0;n<t.length;n++)t[n].setDefaultValue(this.model.defaultElementValue);break}}return t}recreateAllCells(){const e=this;this._recreateCellsRequested||(this._recreateCellsRequested=!0,window.requestAnimationFrame(function(){e.element.recreateCells(!0),e._recreateCellsRequested=!1}))}bindToView(){super.bindToView();const e=this;let t,i;e.bindFocusEventListener(),e.element.addEventListener("value-changed",function(t){let i,n;t.target===e.element&&(i=t.detail.newValue,n=t.detail.oldValue,e.model.controlChanged(i,n))}),e.element.addEventListener("array-size-changed",function(t){const i=xi.PanelLocationEnum.IDE_EDIT;Or.getWebAppModelByVIRef(this.viRef).location!==i&&t.target===e.element&&(e.model.height=t.detail.height+"px",e.model.width=t.detail.width+"px")}),e.element.addEventListener("scroll-changed",function(t){t.target===e.element&&e.model.scrollChanged(t.detail.indices)}),e.model.childModels.length>0&&(i=e.model.childModels[0],t=Or.getVIModelByVIRef(e.element.viRef),e.initializeArrayElementViewModel(t.getControlViewModel(i.niControlId)))}userInteractionChanged(e,t){if(super.userInteractionChanged(e,t),"start"===e)this._isUserInteracting=!0;else if("end"===e&&(this._isUserInteracting=!1,this.model.childModels.length>0)){const e=this.model.childModels[0],t=this.element.viRef,i=Or.getVIModelByVIRef(t).getControlViewModel(e.niControlId),n=Rc(e,t);qc(i,n)}}updateModelFromElement(){super.updateModelFromElement(),this.model.value=this.element.value,this.model.niType=new window.NIType(this.element.niType)}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.valueNonSignaling=this.model.value}onChildViewModelAdded(e){super.onChildViewModelAdded(e),this.initializeArrayElementViewModel(e)}onChildViewModelRemoved(e){const t=Rc(e.model,this.element.viRef);t._viewModelData[e.element.niControlId].shim.removeShim(),t._viewModelData[e.element.niControlId]=void 0}initializeArrayElementViewModel(e){Rc(e.model,this.element.viRef)===this&&this.initializeElementViewModel(e)}initializeElementViewModel(e){let t,i,n,r,a,s,o;if(e instanceof Dr)for((r=Vc(this,e)).setCallback(),(o={}).shim=r,o.cssCloneSelector=this.element.getFullCssSelectorForNIVisual(e.element),o.getClones=function(){return document.querySelectorAll(o.cssCloneSelector)},this._viewModelData[e.model.niControlId]=o,s=Array.prototype.slice.call(e.model.childModels),t=0;t<s.length;t++)i=s[t],a=(n=Or.getVIModelByVIRef(this.element.viRef)).getControlViewModel(i.niControlId),this.initializeElementViewModel(a)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.SIZE_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_CANNOT_BE_SET",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:{const e=i.value;i.controlChanged(t,e);break}case jc.VISIBLE_ROWS_G_PROPERTY_NAME:{const e=Lc(i.rowsAndColumns,Ac);e>1&&1===i.dimensions?(i.orientation="vertical",i.rowsAndColumns=t+",1"):i.rowsAndColumns=t+","+e;break}case jc.VISIBLE_COLUMNS_G_PROPERTY_NAME:{const e=Lc(i.rowsAndColumns,Mc);e>1&&1===i.dimensions?(i.orientation="horizontal",i.rowsAndColumns="1,"+t):i.rowsAndColumns=e+","+t;break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;case jc.VISIBLE_ROWS_G_PROPERTY_NAME:return Lc(t.rowsAndColumns,Mc);case jc.VISIBLE_COLUMNS_G_PROPERTY_NAME:return Lc(t.rowsAndColumns,Ac);default:return super.getGPropertyValue(e)}}}function Lc(e,t){let i;if("string"==typeof e&&e.length>0){if(2===(i=e.split(",")).length)return parseInt(i[t]);throw new Error($t.i18n("msg_INVALID_FORMAT","rowsAndColumns","'row,column '"))}throw new Error($t.i18n("msg_UNEXPECTED_TYPE",typeof e,"string"))}Pn.registerViewModel(Hc,Pc,jc);var zc=Object.freeze({ArrayViewerViewModel:Hc});const Fc=Symbol("NIDatGridColumnSymbol");class Uc{static get NIDatGridColumnSymbol(){return Fc}static isNIDataGridColumn(e){return"object"==typeof e&&null!==e&&!0===e[Fc]}}class $c{static coerceSignificantDigits(e,t){return-1===e?t:Math.max(1,Math.min(21,e))}static coercePrecisionDigits(e,t){return-1===e?t:Math.max(0,Math.min(20,e))}static coerceDisplayDigits(e,t,i){const n={};return n.significantDigits=$c.coerceSignificantDigits(e,i),n.precisionDigits=$c.coercePrecisionDigits(t,i),n.precisionDigits!==i&&n.significantDigits!==i?n.precisionDigits=i:n.precisionDigits===i&&n.significantDigits===i&&(n.precisionDigits=0),n}}const Wc=NationalInstruments.Globals.jQuery,Gc=window.NIType,Xc=22,Yc="_id",Jc=new Wc.jqx.math,Qc={},Kc=function(){return!1},Zc=function(e){if(e.length>0){const t=e[0];if("none"!==t.style.display&&"hidden"!==t.style.visibility)return t.offsetHeight}return 0},eu=function(e){let t,i=[];if(null!==e)try{t=JSON.parse(e),Array.isArray(t)&&(i=t)}catch(e){}return i},tu=function(e,t){return{altstep:t,altstart:-e+Math.floor(2*e/(t+1))*(t+1)}},iu=function(e,t){t.columntype="custom",t.createwidget=function(t,i,n,r){!e._validState&&e._refreshRequested||function(e,t,i,n,r){if(!r.firstElementChild){const a="number"==typeof t?t:t.visibleindex,s="string"==typeof i?i:i.datafield,o=e.columns[s],l=o.firstElementChild,d=l.nodeName,h=Qc[d],c=$t.cloneControlElement(l);c.clearInstanceSpecificProperties(),$t.setTemplateId(c,l.niControlId),c._dataGridRow=a,c._dataGridColumn=s,c._preventModelCreation=!0,c.visible=!0,c.style.width="100%",c.style.height="100%",c.disabled=e.disabled,h.setWidgetValue(c,n,l),r.appendChild(c),"function"==typeof h.configureWidget&&h.configureWidget(e,c,r),"function"==typeof h.resize&&h.resize(c,{width:o.width,height:e.coercedRowHeight})}}(e,t,i,n,r)},t.initwidget=function(t,i,n,r){!e._validState&&e._refreshRequested||function(e,t,i,n,r){const a="number"==typeof t?t:t.visibleindex,s="string"==typeof i?i:i.datafield,o=r.firstElementChild;o._dataGridRow=a,o._dataGridColumn=s,Qc[o.nodeName].setWidgetValue(o,n)}(0,t,i,n,r)},t.cellbeginedit=Kc},nu=function(e,t,i){let n=!0,r="";void 0!==e.horizontalAlignment&&(r=" style='text-align:"+e.horizontalAlignment+"'");let a="<div class='ni-aggregate-box'"+r+">";return i&&Wc.each(t,function(t,i){const r=e.items[t];let s=$t.escapeHtml(r.label);void 0===s&&(s=""),n?n=!1:a+="<br />",a+="<strong>"+s+":</strong> "+function(e,t){const i=$c.coerceDisplayDigits(e.significantDigits,e.precisionDigits);if("exponential"===e.format)return Jc.getDecimalNotation(t,e.format,i.precisionDigits,i.significantDigits);if(void 0!==i.significantDigits)return Number(t.toPrecision(i.significantDigits)).toString();if(void 0!==i.precisionDigits)return t.toFixed(i.precisionDigits);throw new Error("Unexpected significantDigits / precisionDigits for column aggregate")}(r,i)}),a+="</div>"},ru=function(e,t){e.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:e.value,oldValue:t}}))},au=function(e,t){const i=t.firstElementChild;if(null===i)return;const n=Qc[i.nodeName],r=new window.MutationObserver(function(i){let r,a;void 0!==n.templateControlAttributeChanged&&(r=[],a=0,i.forEach(function(e){const t=e.attributeName;null!==t&&(r[a]=t,a++)}),n.templateControlAttributeChanged(e,t,r))}),a={attributes:!0};t._niColumnTemplateControlObserver=r,"function"==typeof r.observe&&r.observe(i,a)},su=function(e){const t=e._niColumnTemplateControlObserver;void 0!==t&&"function"==typeof t.disconnect&&(t.disconnect(),e._niColumnTemplateControlObserver=void 0)},ou=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},lu=function(e,t,i){const n=t.index.toString(),r=t.firstElementChild;let a;if(null===r)return;const s={},o={};let l,d,h;for(a=0;a<i.length;a++)l=i[a],r.hasAttribute(l)?s[l]=r.getAttribute(l):$t.isJQXElement(r)&&void 0!==r[d=ou(l)]&&(o[d]=r[d]);const c=e.jqref[0].querySelectorAll(r.tagName);let u;for(u=0;u<c.length;u++)if((h=c[u])._dataGridColumn===n)for(a=0;a<i.length;a++)l=i[a],d=ou(l),void 0!==s[l]?h.setAttribute(l,s[l]):void 0!==o[d]?h[d]=o[d]:h.removeAttribute(l)},du=function(e,t){t.addEventListener(t.valuePropertyDescriptor.eventName,function(i){const n=Hs.convertJQXTypeToNI(t),r=Hs.convertBack(i.detail.value,n);e.templateControlValueChanged(t,r)})},hu=function(e,t){t.addEventListener("change",function(i){if(!0!==t.readonly&&"api"!==i.detail.changeType){const n=t._dataGridRow,r=t._dataGridColumn,a=e.jqxValue[n][r],s=i.detail.value;a!==s&&e.templateControlValueChanged(t,s)}})},cu=function(e){void 0!==e.stopPropagation&&e.stopPropagation()},uu=function(e){const t=Wc("<div class='ni-add-rows-toolbar-grid'></div>"),i=Wc("<div class='ni-row-count-text-field-box' />");t.append(i),t.append(Wc("<span class='ni-text'>"+e.addRowsLabel+": </span>"));const n=Wc("<input type='button' class='ni-add-rows-button' />");t.append(n);const r=Wc("<div class='ni-add-rows-toolbar'></div>");r.append(t),!e.readOnly&&e.showAddRowsToolBar||(r[0].style.display="none"),e.jqref.append(r),e.addRowsToolbarRef=r,i.jqxNumberInput({inputMode:"simple",decimalDigits:0,min:1,max:1e3,value:1,width:53,height:22}),i[0].firstElementChild.style.width="50px",i.find(" input").addClass("ni-row-count-text-field"),n[0].value=e.addRowsButtonLabel,n.jqxButton({width:50,height:22}),n.on("click",function(){void 0===e.jqref||e.disabled||(e.addEmptyRows(i.jqxNumberInput("val")),n.blur())})};Qc["NI-STRING-CONTROL"]={initializeColumn:iu,setWidgetValue:function(e,t){e.textNonSignaling=t},getDefaultValue:function(){return""},validateValue:function(e){return"string"==typeof e},templateControlAttributeChanged:lu,configureWidget:function(e,t){t.addEventListener("text-changed",function(i){e.templateControlValueChanged(t,i.detail.text)}),t.addEventListener("keydown",cu,!1)}},Qc["JQX-NUMERIC-TEXT-BOX"]={initializeColumn:iu,setWidgetValue:function(e,t){const i=Hs.convertJQXTypeToNI(e);e.value=Hs.convert(t,i)},validateValue:function(e,t){const i=Hs.convertJQXTypeToNI(t);return i.is64BitInteger()||i.isComplex()?"string"==typeof e:"number"==typeof e},getDefaultValue:function(e){const t=Hs.convertJQXTypeToNI(e);return Hs.convertBack(0,t)},templateControlAttributeChanged:lu,configureWidget:function(e,t){du(e,t),t.addEventListener("keydown",cu,!1)}},Qc["JQX-CHECK-BOX"]={initializeColumn:iu,setWidgetValue:function(e,t){e.checked=t},validateValue:function(e){return"boolean"==typeof e},templateControlAttributeChanged:lu,configureWidget:function(e,t){t.parentElement.classList.add("ni-widget-container-centered"),hu(e,t)},getDefaultValue:Kc},Qc["JQX-LED"]={initializeColumn:iu,setWidgetValue:function(e,t){e.checked=t},validateValue:function(e){return"boolean"==typeof e},templateControlAttributeChanged:lu,configureWidget:function(e,t){t.parentElement.classList.add("ni-widget-container-centered"),hu(e,t),t.style.position="absolute"},getDefaultValue:Kc},Qc["JQX-SLIDER"]={initializeColumn:iu,setWidgetValue:function(e,t){const i=Hs.convertJQXTypeToNI(e);e.value=Hs.convert(t,i)},validateValue:function(e,t){const i=Hs.convertJQXTypeToNI(t);return i.is64BitInteger()||i.isComplex()?"string"==typeof e:"number"==typeof e},getDefaultValue:function(e){const t=Hs.convertJQXTypeToNI(e);return Hs.convertBack(0,t)},templateControlAttributeChanged:lu,configureWidget:function(e,t){du(e,t)}},Qc["JQX-PROGRESS-BAR"]={initializeColumn:iu,setWidgetValue:function(e,t){e.value=t},validateValue:function(e){return"number"==typeof e},getDefaultValue:function(){return 0},templateControlAttributeChanged:lu},Qc["JQX-DROP-DOWN-LIST"]={initializeColumn:iu,setWidgetValue:function(e,t,i){if(void 0!==i){const n="string"!=typeof i.dataSource?JSON.stringify(i.dataSource):i.dataSource;e.setAttribute("data-source",n),e.setAttribute("selected-indexes",JSON.stringify(Ph.convert(t)))}else e.selectedIndexes=Ph.convert(t)},validateValue:function(e){return Array.isArray(e)||"number"==typeof e},getDefaultValue:function(){return 0},templateControlAttributeChanged:lu,configureWidget:function(e,t){t.dropDownAppendTo="body",t.addEventListener("change",function(i){e.templateControlValueChanged(t,i.detail.index)})}};class pu extends Sr{getColumnWidths(){const e=new Array(this.sortedColumnIndices.length),t=this.jqref.jqxGrid("columns").records;return this.sortedColumnIndices.forEach(function(i,n){e[i]=t[n].width}),e.shift(),e}addAllProperties(e){super.addAllProperties(e);const t=pu.prototype;Object.defineProperty(t,"value",{get:function(){return this.deepCloneData()},set:function(e){const t=this.deepCloneData();this.updateData(e),ru(this,t)},configurable:!1,enumerable:!0}),Object.defineProperty(t,"valueNonSignaling",{get:function(){return this.deepCloneData()},set:function(e){this.updateData(e)},configurable:!1,enumerable:!1}),t.addProperty(e,{propertyName:"niType",defaultValue:'{"name":"Array","rank":1,"subtype":{"name":"Cluster","fields":[]}}'}),t.addProperty(e,{propertyName:"rowHeaderVisible",defaultValue:!1}),t.addProperty(e,{propertyName:"columnHeaderVisible",defaultValue:!1}),t.addProperty(e,{propertyName:"showAddRowsToolBar",defaultValue:!1}),t.addProperty(e,{propertyName:"allowSorting",defaultValue:!1}),t.addProperty(e,{propertyName:"allowPaging",defaultValue:!1}),t.addProperty(e,{propertyName:"allowFiltering",defaultValue:!1}),t.addProperty(e,{propertyName:"allowGrouping",defaultValue:!1}),t.addProperty(e,{propertyName:"rowHeight",defaultValue:Xc}),t.addProperty(e,{propertyName:"altRowColors",defaultValue:!1}),t.addProperty(e,{propertyName:"altRowStart",defaultValue:1}),t.addProperty(e,{propertyName:"altRowStep",defaultValue:1}),t.addProperty(e,{propertyName:"isInEditMode",defaultValue:!1,fireEvent:!1,addNonSignalingProperty:!1}),t.addProperty(e,{propertyName:"selectedColumn",defaultValue:-1}),$t.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}createdCallback(){super.createdCallback(),this.columns=[],this.selectedColumnDataField=void 0,this.sortedColumnIndices=[],this.parsedValue=[],this.niTypeInstance=void 0,this.jqxValue=[],this.columnObservers=[],this.pageSize=0,this.addRowsButtonLabel=$t.i18n("msg_datagrid_addrowsbuttonlabel"),this.addRowsLabel=$t.i18n("msg_datagrid_addrowslabel"),this.coercedRowHeight=Xc,this.showAggregates=!1,this.maxAggregateCountPerColumn=0,this._validState=!0}connectedCallback(){this.parsedValue=eu(this.getAttribute("value")),this.niTypeInstance=new Gc(this.niType),super.connectedCallback()}getDefaultColumns(){return[{text:"",datafield:Yc,width:50,cellsalign:"center",columntype:"custom",createwidget:function(e,t,i,n){n.firstElementChild||Wc(n).append("<div style='width: 100%; height: 100%; display: table; text-align: center;'><span style='display: table-cell; vertical-align: middle;'>"+i.toString()+"</span></div>")},initwidget:function(e,t,i,n){const r=n.firstElementChild;null!==r&&(r.firstElementChild.textContent=i.toString())},cellbeginedit:Kc,hidden:!this.rowHeaderVisible,pinned:this.columns.some(function(e){return e.pinned})}]}setFont(){}templateControlValueChanged(e,t){const i=e._dataGridRow,n=e._dataGridColumn,r=this.jqxValue[i][n],a=this.deepCloneData();r!==t&&(this.parsedValue[i][this.columns[n].fieldName]=t,ru(this,a))}updateJqxColumnConfig(){const e=this;let t;const i=this.getDefaultColumns();let n,r,a,s,o,l=!1,d=0,h=0;const c=[0];let u=!0;for(t=0;t<this.columns.length;t++)if(t!==this.columns[t].index||null===this.columns[t].firstElementChild){u=!1;break}if(u){for(t=0;t<this.columns.length;t++)this.columns[t].pinned&&c.push(t+1);this.columns.forEach(function(t,p){t.parsedAggregates=JSON.parse(t.aggregates),o=[],d=0;for(const e in t.parsedAggregates.items)t.parsedAggregates.items.hasOwnProperty(e)&&(o.push(e),d++,l=!0);if(h=Math.max(h,d),n={align:"center",text:$t.escapeHtml(t.header),datafield:p.toString(),width:t.width,pinned:t.pinned,aggregates:o},o.length>0&&(n.aggregatesrenderer=function(i){return nu(t.parsedAggregates,i,e._validState)}),t.pinned||c.push(p+1),a=t.firstElementChild,r=a.nodeName,!Qc.hasOwnProperty(r))throw new Error("Unsupported template element type for column "+p+": "+r);s=Qc[r],t._niColumnDefaultValue=s.getDefaultValue(a),s.initializeColumn(e,n),e.jqxValue.length>0&&(s.validateValue(e.jqxValue[0][n.datafield],a)||(u=!1)),$t.isElement(a)||(u=!1,window.requestAnimationFrame(function(){e.requestRefresh()})),i.push(n)})}u&&(this.showAggregates=l,this.maxAggregateCountPerColumn=h,this.sortedColumnIndices=c,this.jqxColumnConfig=i),this._validState=u}addEmptyRows(e){let t,i,n,r,a,s,o,l,d;if(e>0){for(d=this.deepCloneData(),n=[],s=l=this.parsedValue.length,r=0;r<e;r++){for(t={},(i={})[Yc]=s++,a=0;a<this.columns.length;a++)o=this.columns[a],i[a]=o._niColumnDefaultValue,t[o.fieldName]=o._niColumnDefaultValue;n.push(i),this.parsedValue.push(t)}this.showAggregates&&0===l&&(this.updateStatusBar(),this.updatePageSize()),this.jqref.jqxGrid("addrow",null,n),ru(this,d)}}getColumnNames(){return void 0===this.niTypeInstance?[]:this.niTypeInstance.getSubtype().getFields()}updateJqxValueFromParsedValue(){let e,t,i;const n=[],r=[],a=this.getColumnNames();for(e=0;e<this.parsedValue.length;e++){(i={})[Yc]=e;let s=!1;for(t=0;t<a.length;t++){const n=this.parsedValue[e][a[t]];if(i[t]=n,e<this.jqxValue.length){const i=this.jqxValue[e][""+t];s=s||i!==n}else s=!0}s&&r.push(e),n.push(i)}return this.jqxValue=n,r}initializeColumnsAndData(){this.updateJqxColumnConfig(),this.updateJqxValueFromParsedValue(),this.dataSource={datatype:"array",localdata:this.jqxValue};const e=new Wc.jqx.dataAdapter(this.dataSource);e.getvaluebytype=function(t,i){return"NaN"===t&&"number"===i.type?t:Wc.jqx.dataAdapter.prototype.getvaluebytype.call(e,t,i)},this.dataAdapter=e,this.updateStatusBar(),this._validState&&this.jqref.jqxGrid({columns:this.jqxColumnConfig,source:this.dataAdapter})}getSettings(){const e=tu(this.altRowStart,this.altRowStep);return{editable:!this.disabled&&!this.readOnly,showemptyrow:!1,selectionmode:"none",showheader:this.columnHeaderVisible,columnsresize:!0,enablehover:!1,showsortmenuitems:!1,sortable:this.allowSorting,filterable:this.allowFiltering,showfilterrow:this.allowFiltering,pageable:this.allowPaging,groupable:this.allowGrouping,altrows:this.altRowColors,altstart:e.altstart,altstep:e.altstep,columnsheight:Xc,rowsheight:this.coercedRowHeight,groupsexpandedbydefault:!0,disabled:this.disabled,touchMode:!1}}setSelectedColumn(e){let t,i;if(this.jqref&&this.isInEditMode&&(e>=0&&e<this.columns.length?(i=e,t=e.toString()):i=-1,i!==this.selectedColumn&&(this.selectedColumn=i),this.selectedColumnDataField!==t)){if(void 0!==this.selectedColumnDataField){const e=this.jqref.jqxGrid("getcolumn",this.selectedColumnDataField);null!==e&&null!==e.element&&void 0!==e.element&&Wc(e.element).removeClass("ni-selected-header")}this.selectedColumnDataField=t,this.refreshSelectedColumn(),this.dispatchEvent(new CustomEvent("selected-column-changed",{detail:{selectedColumn:this.selectedColumn}}))}}refreshSelectedColumn(){let e,t,i;if(this.isInEditMode){if(-1===this.selectedColumn)for(e=0;e<this.jqxColumnConfig.length;e++)null!=(t=this.jqref.jqxGrid("getcolumn",this.jqxColumnConfig[e].datafield))&&(t.cellclassname="");else for(i=this.sortedColumnIndices[this.sortedColumnIndices.indexOf(this.selectedColumn+1)-1],e=0;e<this.jqxColumnConfig.length;e++)null!=(t=this.jqref.jqxGrid("getcolumn",this.jqxColumnConfig[e].datafield))&&(e===i?t.cellclassname="ni-selected-cell":e===this.selectedColumn+1?(t.cellclassname="ni-selected-cell",Wc(t.element).addClass("ni-selected-header")):t.cellclassname="");Wc(this.jqref).jqxGrid("clearselection")}}updateCoercedRowHeight(){this.coercedRowHeight=this.rowHeight>=1?this.rowHeight:Xc}attachedCallback(){const e=super.attachedCallback(),t=this;let i,n,r,a;return!0===e&&(this.niTypeInstance=new Gc(this.niType),r=this.findInitialColumns(),this.addColumnListeners(r),this.updateCoercedRowHeight(),(i=this.getSettings()).ready=function(){0===r.length&&t.initializeColumnsAndData(),a.find(" .jqx-grid-statusbar").addClass("ni-status-bar"),a.addClass("ni-grid-widget"),a.addClass("ni-grid-widget-content"),a.find(" .jqx-widget").addClass("ni-grid-widget"),a.find(" .jqx-widget-content").addClass("ni-grid-widget-content"),a.find(" .jqx-grid-groups-header").addClass("ni-groups-header"),a.find(" .jqx-grid-pager").addClass("ni-pager-box"),a.find(" .jqx-grid-pager-input").addClass("ni-pager-text-field"),a.find(" .jqx-dropdownlist-state-normal").addClass("ni-selector"),a.find(" .jqx-max-size").addClass("ni-filter-row-box"),a.find(" .jqx-grid-column-header").addClass("ni-column-header"),a.find(" .jqx-grid-content").addClass("ni-grid-content"),a.find(" .jqx-grid-cell-filter-row").addClass("ni-filter-row"),a.find(" .jqx-grid-cell").addClass("ni-cell"),a.find(" .jqx-grid-group-cell").addClass("ni-group-cell")},(n=document.createElement("div")).style.width="100%",n.style.height="100%",this.appendChild(n),a=Wc(n),this.jqref=a,a.jqxGrid(i),uu(this),this.updateStatusBar(),this.updatePagingSettings(),a.on("cellendedit",function(e){const i=t.deepCloneData(),n=e.args.rowindex,r=e.args.datafield,a=e.args.value;t.jqxValue[n][r]=a,t.parsedValue[n][t.columns[r].fieldName]=a,ru(t,i)}),a.on("columnclick",function(e){const i=e.args.originalEvent.originalEvent;t.setSelectedColumn(parseInt(e.args.datafield)),void 0!==i&&void 0!==i.x&&void 0!==i.y&&(t.handledClickEvent={x:i.x,y:i.y})}),a.on("cellclick",function(e){const i=e.args.originalEvent;t.setSelectedColumn(parseInt(e.args.datafield)),void 0!==i&&void 0!==i.pageX&&void 0!==i.pageY&&(t.handledClickEvent={x:i.pageX,y:i.pageY})}),a.on("click",function(e){void 0!==e.pageX&&void 0!==t.handledClickEvent&&e.pageX===t.handledClickEvent.x&&e.pageY===t.handledClickEvent.y||void 0!==e.detail&&void 0!==t.handledClickEvent&&e.detail.pageX===t.handledClickEvent.x&&e.detail.pageY===t.handledClickEvent.y||(t.setSelectedColumn(-1),t.handledClickEvent=void 0)}),a.on("columnresized",function(e){const i=e.args,n=i.datafield,r=i.newwidth,s=t.coercedRowHeight,o=t.columns[n];if(void 0===o){if(n!==Yc)throw new Error("Column not found with dataField: "+n);return}const l=o.firstElementChild,d=Qc[l.nodeName];let h,c;if("function"!=typeof d.resize)return;const u=a[0].querySelectorAll(l.tagName);for(h=0;h<u.length;h++)(c=u[h])._dataGridColumn===n&&d.resize(c,{width:r,height:s})}),window.addEventListener("resize",function(){if("fixed"===t.controlResizeMode)return;const e=window.getComputedStyle(t);t.forceResize({width:e.width,height:e.height})})),e}forceResize(e){super.forceResize(e);let t=this.jqref;void 0===t&&(t=Wc(this).children("div")),t.jqxGrid(e),this.updatePageSize()}updateColumns(){void 0!==this.jqref&&null!==this.parentElement&&(this.jqref.jqxGrid("endcelledit"),this.updateJqxColumnConfig(),this._validState&&(this.jqref.jqxGrid({columns:this.jqxColumnConfig}),this.refreshSelectedColumn()))}validateState(){void 0!==this.jqref&&null!==this.parentElement&&(this.jqref.jqxGrid("endcelledit"),this.updateJqxValueFromParsedValue(),this.updateJqxColumnConfig())}refreshIfValid(){void 0!==this.jqref&&null!==this.parentElement&&(this.validateState(),this._validState&&(this.dataSource.localdata=this.jqxValue,this.jqref.jqxGrid("beginupdate",!0),this.jqref.jqxGrid({filterable:!1}),this.jqref.jqxGrid({columns:this.jqxColumnConfig}),this.jqref.jqxGrid({source:this.dataAdapter}),this.propertyUpdated("allowFiltering"),this.jqref.jqxGrid("endupdate"),this.jqref.jqxGrid("refresh"),this.updateStatusBar(),this.refreshSelectedColumn()))}deepCloneData(){return fs.deepCopy(this.parsedValue)}updateData(e){const t=this.parsedValue.length,i=this;if(this.parsedValue=e,void 0===this.jqref)return;if(this._refreshRequested)return;if(!this._validState)return void this.refreshIfValid();const n=this.updateJqxValueFromParsedValue();if(this.showAggregates&&0===t!=(0===this.parsedValue.length)&&this.updateStatusBar(),t===this.parsedValue.length){const e=n.map(function(e){return i.jqxValue[e]});e.length>0&&this.jqref.jqxGrid("updaterow",n,e)}else this.dataSource.localdata=this.jqxValue,this.jqref.jqxGrid({source:this.dataAdapter})}findInitialColumns(){const e=[];let t;for(t=0;t<this.children.length;t++)Uc.isNIDataGridColumn(this.children[t])&&e.push(this.children[t]);return e}sortColumns(){this.columns.sort(function(e,t){return e.index-t.index})}requestRefresh(){const e=this;!0!==e._refreshRequested&&(e._refreshRequested=!0,window.requestAnimationFrame(function(){e._refreshRequested=!1,e.refreshIfValid()}))}addColumnListeners(e){const t=this;t.addEventListener("ni-data-grid-column-attached",function(i){let n,r,a,s;if(i.target===t){for(r=i.detail.element,t.columns.push(r),t.sortColumns(),a=new window.MutationObserver(function(e){e.forEach(function(e){e.removedNodes.length>0&&(su(t,r),t._validState=!1,t.requestRefresh()),e.addedNodes.length>0&&(au(t,r),t.requestRefresh())})}),s={childList:!0},r._niColumnObserver=a,"function"==typeof a.observe&&a.observe(r,s),au(t,r),n=0;n<e.length;n++)if(e[n]===i.detail.element){e.splice(n,1);break}0===e.length&&(void 0===this.dataSource?this.initializeColumnsAndData():t.requestRefresh())}}),t.addEventListener("ni-data-grid-column-detached",function(e){let i,n;if(e.target===t){for(n=e.detail.element,i=0;i<t.columns.length;i++)if(t.columns[i]===n){t.columns.splice(i,1),"function"==typeof n._niColumnObserver.disconnect&&n._niColumnObserver.disconnect(),su(t,n);break}t.updateColumns()}}),t.addEventListener("ni-data-grid-column-changed",function(e){const i=e.detail.propertyName;"index"===i&&t.sortColumns(),"index"!==i&&"fieldName"!==i&&t._isValidState?(t.updateColumns(),"aggregates"===i&&(t.updateStatusBar(),t.updatePageSize())):t.requestRefresh()})}updateStatusBar(){const e=this,t=!e.readOnly&&e.showAddRowsToolBar;let i;void 0!==e.addRowsToolbarRef&&e.addRowsToolbarRef.toggle(t),void 0!==e.jqref&&(i=t?40:0,this.parsedValue.length>0&&e.maxAggregateCountPerColumn>0&&(i+=e.maxAggregateCountPerColumn*Xc+4),e.jqref.jqxGrid({statusbarheight:i}),e.jqref.jqxGrid({showstatusbar:t||e.showAggregates,showaggregates:e.showAggregates}),e.showAggregates&&e.jqref.jqxGrid("renderaggregates"))}updatePageSize(){const e=this;void 0!==this.updatePageSizeTimer&&clearTimeout(this.updatePageSizeTimer),this.updatePageSizeTimer=setTimeout(function(){if(e.updatePageSizeTimer=void 0,e.allowPaging){let t;0===e.jqref.find(".jqx-grid-header").length&&e.jqref.jqxGrid("render");let i=e.jqref.height();i-=Zc(e.jqref.find("div.jqx-grid-header")),i-=Zc(e.jqref.find("div.jqx-grid-groups-header")),i-=Zc(e.jqref.find("div.jqx-grid-pager")),i-=Zc(e.jqref.find("div.ni-status-bar"));const n=e.jqref.find("div.jqx-scrollbar").sort(function(e,t){return e.offsetLeft-t.offsetLeft});i-=Zc(n),(t=Math.floor(i/e.coercedRowHeight))<=0&&(t=10),e.pageSize===t||Wc.jqx.isHidden(e.jqref)||(e.pageSize=t,e.jqref.jqxGrid({pagesize:t,pagesizeoptions:[t]}))}},10)}updatePagingSettings(){this.jqref.jqxGrid({pageable:this.allowPaging});const e=this.jqref.find("div.jqx-grid-pager");e.toggle(this.allowPaging),!0===this.allowPaging?this.addRowsToolbarRef[0].style.bottom=e.outerHeight()+"px":this.addRowsToolbarRef[0].style.bottom="0px",this.updatePageSize()}propertyUpdated(e){if(super.propertyUpdated(e),void 0!==this.jqref)switch(e){case"rowHeaderVisible":this.jqref.jqxGrid("setcolumnproperty",Yc,"hidden",!this.rowHeaderVisible);break;case"columnHeaderVisible":this.jqref.jqxGrid({showheader:this.columnHeaderVisible}),this.updatePageSize();break;case"isInEditMode":this.jqref.jqxGrid({columnsresize:!this.isInEditMode}),this._validState&&this.jqref.jqxGrid("render");break;case"showAddRowsToolBar":this.updateStatusBar(),this.updatePageSize();break;case"allowSorting":this.jqref.jqxGrid({sortable:this.allowSorting}),this.allowSorting||this.jqref.jqxGrid("removesort");break;case"allowPaging":this.updatePagingSettings();break;case"allowFiltering":this.jqref.jqxGrid({filterable:this.allowFiltering,showfilterrow:this.allowFiltering}),this.updatePageSize();break;case"allowGrouping":this.jqref.jqxGrid({groupable:this.allowGrouping}),this.updatePageSize();break;case"rowHeight":this.updateCoercedRowHeight(),this.jqref.jqxGrid({rowsheight:this.coercedRowHeight}),this._validState&&this.jqref.jqxGrid("render");break;case"altRowColors":this.jqref.jqxGrid({altrows:this.altRowColors});break;case"altRowStart":case"altRowStep":this.jqref.jqxGrid(tu(this.altRowStart,this.altRowStep));break;case"readOnly":this.jqref.jqxGrid({editable:!this.disabled&&!this.readOnly}),this.updateStatusBar(),this.updatePageSize();break;case"selectedColumn":this.setSelectedColumn(this.selectedColumn);break;case"niType":this.niTypeInstance=new Gc(this.niType),this.validateState(),this.requestRefresh();break;case"disabled":this.jqref.jqxGrid({disabled:this.disabled,editable:!this.disabled&&!this.readOnly}),this.setDisabledOnChildElements(),this.setDisabledOnAddRowsPane(),this.setDisabledOnPagingInput()}}setDisabledOnChildElements(){this.querySelectorAll("ni-data-grid-column > *").forEach(e=>{e.disabled=this.disabled})}setDisabledOnAddRowsPane(){this.querySelectorAll(".ni-row-count-text-field,.ni-add-rows-button").forEach(e=>{e.disabled=this.disabled})}setDisabledOnPagingInput(){if(this.allowPaging){this.querySelectorAll(".jqx-grid-pager-input").forEach(e=>{e.disabled=this.disabled})}}}si.registerElement(pu,ri.CONTAINER),Cr.defineElementInfo(pu.prototype,"ni-data-grid","HTMLNIDataGrid");const mu=window.NIType;class fu extends Hn{constructor(e){super(e),this.niType=new mu({name:"Array",rank:1,subtype:{name:"Cluster",fields:[]}}),this._rowHeaderVisible=!0,this._columnHeaderVisible=!0,this._showAddRowsToolBar=!0,this._allowSorting=!1,this._allowPaging=!1,this._allowFiltering=!1,this._allowGrouping=!1,this._rowHeight=25,this._altRowColors=!1,this._altRowStart=1,this._altRowStep=1,this._value=[],this._isInEditMode=!1,this._selectedColumn=-1}static get MODEL_KIND(){return"niDataGrid"}get rowHeaderVisible(){return this._rowHeaderVisible}set rowHeaderVisible(e){this._rowHeaderVisible=e,this.notifyModelPropertyChanged("rowHeaderVisible")}get columnHeaderVisible(){return this._columnHeaderVisible}set columnHeaderVisible(e){this._columnHeaderVisible=e,this.notifyModelPropertyChanged("columnHeaderVisible")}get showAddRowsToolBar(){return this._showAddRowsToolBar}set showAddRowsToolBar(e){this._showAddRowsToolBar=e,this.notifyModelPropertyChanged("showAddRowsToolBar")}get allowSorting(){return this._allowSorting}set allowSorting(e){this._allowSorting=e,this.notifyModelPropertyChanged("allowSorting")}get allowPaging(){return this._allowPaging}set allowPaging(e){this._allowPaging=e,this.notifyModelPropertyChanged("allowPaging")}get allowFiltering(){return this._allowFiltering}set allowFiltering(e){this._allowFiltering=e,this.notifyModelPropertyChanged("allowFiltering")}get allowGrouping(){return this._allowGrouping}set allowGrouping(e){this._allowGrouping=e,this.notifyModelPropertyChanged("allowGrouping")}get rowHeight(){return this._rowHeight}set rowHeight(e){this._rowHeight=e,this.notifyModelPropertyChanged("rowHeight")}get altRowColors(){return this._altRowColors}set altRowColors(e){this._altRowColors=e,this.notifyModelPropertyChanged("altRowColors")}get altRowStart(){return this._altRowStart}set altRowStart(e){this._altRowStart=e,this.notifyModelPropertyChanged("altRowStart")}get altRowStep(){return this._altRowStep}set altRowStep(e){this._altRowStep=e,this.notifyModelPropertyChanged("altRowStep")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get selectedColumn(){return this._selectedColumn}set selectedColumn(e){this._selectedColumn=e,this.notifyModelPropertyChanged("selectedColumn")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e,t){this.value=e,super.controlChanged("value",e,t)}}Pn.registerModel(fu);class gu extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("rowHeaderVisible"),this.registerAutoSyncProperty("columnHeaderVisible"),this.registerAutoSyncProperty("showAddRowsToolBar"),this.registerAutoSyncProperty("allowSorting"),this.registerAutoSyncProperty("allowPaging"),this.registerAutoSyncProperty("allowFiltering"),this.registerAutoSyncProperty("allowGrouping"),this.registerAutoSyncProperty("rowHeight"),this.registerAutoSyncProperty("altRowColors"),this.registerAutoSyncProperty("altRowStart"),this.registerAutoSyncProperty("altRowStep"),this.registerAutoSyncProperty("isInEditMode"),this.registerAutoSyncProperty("selectedColumn")}bindToView(){super.bindToView();const e=this;e.enableResizeHack(),e.bindFocusEventListener(),e.element.addEventListener("value-changed",function(t){let i,n;t.currentTarget===t.target&&(i=t.detail.newValue,n=t.detail.oldValue,e.model.controlChanged(i,n))}),e.element.addEventListener("selected-column-changed",function(t){e.model.internalControlEventOccurred("DataGridSelectedIndexChanged",t.detail.selectedColumn)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"value":t.properties.valueNonSignaling=this.model.value;break;case"niType":t.properties.niType=this.model.getNITypeString()}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.niType=new window.NIType(this.element.niType),this.model.value=this.element.value}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.valueNonSignaling=this.model.value}async invokeInternalControlFunction(e,t){switch(e){case"getColumnWidths":return this.element.getColumnWidths()}super.invokeInternalControlFunction(e,t)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:{const e=i.value;i.controlChanged(t,e);break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(gu,pu,fu);var vu=Object.freeze({DataGridViewModel:gu});class bu extends Sr{get[Uc.NIDatGridColumnSymbol](){return!0}addAllProperties(e){super.addAllProperties(e);const t=bu.prototype;t.addProperty(e,{propertyName:"index",defaultValue:-1}),t.addProperty(e,{propertyName:"header",defaultValue:""}),t.addProperty(e,{propertyName:"fieldName",defaultValue:""}),t.addProperty(e,{propertyName:"width",defaultValue:"50px"}),t.addProperty(e,{propertyName:"pinned",defaultValue:!1}),t.addProperty(e,{propertyName:"aggregates",defaultValue:"{}"})}createdCallback(){super.createdCallback(),this._parentDataGrid=void 0}sendEventToParentDataGrid(e,t){let i;void 0!==this._parentDataGrid&&(i={cancelable:!0,detail:{element:this,propertyName:t}},this._parentDataGrid.dispatchEvent(new CustomEvent(e,i)))}attachedCallback(){const e=super.attachedCallback();return this.parentElement instanceof pu?(this._parentDataGrid=this.parentElement,this.sendEventToParentDataGrid("ni-data-grid-column-attached")):($t.error("Data Grid Column does not have a parent data grid "+this),this._parentDataGrid=void 0),e}propertyUpdated(e){super.propertyUpdated(e),this.sendEventToParentDataGrid("ni-data-grid-column-changed",e)}detachedCallback(){super.detachedCallback(),this.sendEventToParentDataGrid("ni-data-grid-column-detached"),this._parentDataGrid=void 0}}si.registerElement(bu,ri.CONTAINER),Cr.defineElementInfo(bu.prototype,"ni-data-grid-column","HTMLNIDataGridColumn");class yu extends jn{constructor(e){super(e),this._index=-1,this._header="",this._width=50,this._fieldName="",this._pinned=!1,this._aggregates={}}static get MODEL_KIND(){return"niDataGridColumn"}get index(){return this._index}set index(e){this._index=e,this.notifyModelPropertyChanged("index")}get header(){return this._header}set header(e){this._header=e,this.notifyModelPropertyChanged("header")}get width(){return this._width}set width(e){this._width=e,this.notifyModelPropertyChanged("width")}get fieldName(){return this._fieldName}set fieldName(e){this._fieldName=e,this.notifyModelPropertyChanged("fieldName")}get pinned(){return this._pinned}set pinned(e){this._pinned=e,this.notifyModelPropertyChanged("pinned")}get aggregates(){return this._aggregates}set aggregates(e){this._aggregates=e,this.notifyModelPropertyChanged("aggregates")}}Pn.registerModel(yu);class _u extends Nn{constructor(e,t){super(e,t),this.registerAutoSyncProperty("index"),this.registerAutoSyncProperty("header"),this.registerAutoSyncProperty("width"),this.registerAutoSyncProperty("fieldName"),this.registerAutoSyncProperty("pinned")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"aggregates":t.properties.aggregates=JSON.stringify(this.model.aggregates)}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.aggregates=JSON.parse(this.element.aggregates)}applyModelToElement(){super.applyModelToElement(),this.element.aggregates=JSON.stringify(this.model.aggregates)}}Pn.registerViewModel(_u,bu,yu);var wu=Object.freeze({DataGridColumnViewModel:_u});const xu=window.NIType,Cu=window.NITypes,Su=window.NITypeNames,Tu="dataSource",Pu=ws.SelectionModeEnum,Iu=new xu({name:Su.ARRAY,rank:1,subtype:{name:Su.STRING}});class Eu extends Hn{constructor(e){super(e),this._allowSelection=!1,this._selectionMode=Pu.SINGLE,this._columnHeaderVisible=!1,this._dataSource=[],this._selection=[],this._columnHeaders=[],this._columnWidths=[]}static get COLUMN_HEADERS_G_PROPERTY_NAME(){return"ColumnHeaders"}static get SELECTION_G_PROPERTY_NAME(){return"Selection"}static get SELECTED_DATA_G_PROPERTY_NAME(){return"SelectedData"}static get MODEL_KIND(){return"niTree"}static get TREE_ITEM_CLOSED_EVENT_GUID(){return"{6C4A7AD1-D46D-4633-9209-8B3102ADFAFC}"}static get TREE_ITEM_CLOSED_EVENT_INDEX(){return 102}static get TREE_ITEM_CLOSED_EVENT_NAME(){return"itemClosed"}static get TREE_ITEM_OPENED_EVENT_GUID(){return"{F15EEBAF-E49D-4B9E-87DA-1E4E2EF27C7B}"}static get TREE_ITEM_OPENED_EVENT_INDEX(){return 101}static get TREE_ITEM_OPENED_EVENT_NAME(){return"itemOpened"}static get TREE_SELECTION_CHANGED_EVENT_GUID(){return"{1B69D1DB-B701-4D6D-B5B0-3EA4FF0E9888}"}static get TREE_SELECTION_CHANGED_EVENT_INDEX(){return 100}static get TREE_SELECTION_CHANGED_EVENT_NAME(){return"treeSelectionChanged"}get allowSelection(){return this._allowSelection}set allowSelection(e){this._allowSelection=e,this.notifyModelPropertyChanged("allowSelection")}get selectionMode(){return this._selectionMode}set selectionMode(e){this._selectionMode=e,this.notifyModelPropertyChanged("selectionMode")}get columnHeaders(){return this._columnHeaders}set columnHeaders(e){this._columnHeaders=e,this.notifyModelPropertyChanged("columnHeaders")}get columnHeaderVisible(){return this._columnHeaderVisible}set columnHeaderVisible(e){this._columnHeaderVisible=e,this.notifyModelPropertyChanged("columnHeaderVisible")}get columnWidths(){return this._columnWidths}set columnWidths(e){this._columnWidths=e,this.notifyModelPropertyChanged("columnWidths")}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource=e,this.notifyModelPropertyChanged(Tu)}get selection(){return this._selection}set selection(e){this._selection=e,this.notifyModelPropertyChanged("selection")}gPropertyNIType(e){switch(e){case Eu.SELECTED_DATA_G_PROPERTY_NAME:return this.selectionMode===Pu.MULTIPLE?this.niType:this.niType.getSubtype();case Eu.COLUMN_HEADERS_G_PROPERTY_NAME:return Iu;case Eu.SELECTION_G_PROPERTY_NAME:return this.selectionMode===Pu.MULTIPLE?Iu:Cu.STRING}return super.gPropertyNIType(e)}modelPropertyUsesNIType(e){return e===Tu}controlChanged(e){const t=this.dataSource;this.dataSource=e,super.controlChanged("dataSource",e,t)}getLocalEventInfo(e){return e===Eu.TREE_ITEM_CLOSED_EVENT_NAME?{eventIndex:Eu.TREE_ITEM_CLOSED_EVENT_INDEX,eventDataId:Eu.TREE_ITEM_CLOSED_EVENT_GUID}:e===Eu.TREE_ITEM_OPENED_EVENT_NAME?{eventIndex:Eu.TREE_ITEM_OPENED_EVENT_INDEX,eventDataId:Eu.TREE_ITEM_OPENED_EVENT_GUID}:e===Eu.TREE_SELECTION_CHANGED_EVENT_NAME?{eventIndex:Eu.TREE_SELECTION_CHANGED_EVENT_INDEX,eventDataId:Eu.TREE_SELECTION_CHANGED_EVENT_GUID}:super.getLocalEventInfo(e)}}Pn.registerModel(Eu);const Du=ws.SelectionModeEnum;class ku extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("allowSelection"),this.registerAutoSyncProperty("selectionMode"),this.registerAutoSyncProperty("columnHeaders"),this.registerAutoSyncProperty("columnHeaderVisible"),this.registerAutoSyncProperty("columnWidths"),this.registerAutoSyncProperty("dataSource"),this.registerAutoSyncProperty("selection")}bindToView(){super.bindToView();const e=this,t=e.element;e.bindFocusEventListener(),t.addEventListener("selectionChange",function(t){let i=t.detail.newSelection;if(void 0!==i){e.model.selection=i;let n=t.detail.oldSelection,r=t.detail.selectedData;e.model.selectionMode===Du.SINGLE&&(n=n[0]||"",i=i[0]||"",r=r[0]||vs.getDefaultRecordForType(e.model.niType));const a={OldSelection:n,NewSelection:i,SelectedData:r};e.model.controlEventOccurred(Eu.TREE_SELECTION_CHANGED_EVENT_NAME,a)}}),t.addEventListener("foldingChanged",function(t){const i={Location:t.detail.path,Data:t.detail.data},n="rowExpand"===t.detail.changeType?Eu.TREE_ITEM_OPENED_EVENT_NAME:Eu.TREE_ITEM_CLOSED_EVENT_NAME;e.model.controlEventOccurred(n,i)})}setGPropertyValue(e,t){const i=this.model;switch(e){case Eu.COLUMN_HEADERS_G_PROPERTY_NAME:i.columnHeaders=t;break;case Eu.SELECTION_G_PROPERTY_NAME:this._setSelection(t);break;case Hn.VALUE_G_PROPERTY_NAME:i.dataSource=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Eu.COLUMN_HEADERS_G_PROPERTY_NAME:return t.columnHeaders;case Eu.SELECTED_DATA_G_PROPERTY_NAME:return this._getSelectedData();case Eu.SELECTION_G_PROPERTY_NAME:return this._getSelection();case Hn.VALUE_G_PROPERTY_NAME:return t.dataSource;default:return super.getGPropertyValue(e)}}_setSelection(e){const t=this.model;e=Array.isArray(e)?e:[e],this._doIfPathListValid(e,e=>{t.selection=e,e.length>=1&&this.element.revealRows(e)})}_getSelection(){const e=this.model,t=e.selectionMode===Du.MULTIPLE,i=vs.ensureValidSelection(vs.getPathSpecifierForType(e.niType),e.dataSource,e.selection);return t?i:i&&i[0]||""}_getSelectedData(){const e=this.model,t=e.selectionMode===Du.MULTIPLE,i=vs.getRecordsFromPaths(e.niType,e.dataSource,e.selection);return t?i:i[0]||vs.getDefaultRecordForType(e.niType)}async invokeInternalControlFunction(e,t){switch(await en.waitForFrameUpdate(),e){case"open":return this.open.apply(this,t);case"close":return this.close.apply(this,t);case"revealRows":return this.element.revealRows(t);default:super.invokeInternalControlFunction(e,t)}}open(e){e?this._doIfPathListValid([e],e=>{this.element.expand(e[0])}):this.element.expandAll()}close(e){e?this._doIfPathListValid([e],e=>{this.element.collapse(e[0])}):this.element.collapseAll()}_doIfPathListValid(e,t){if(void 0===t)return;const i=vs.getPathSpecifierForType(this.model.niType),n=vs.ensureValidSelection(i,this.model.dataSource,e);if(void 0===n)throw new Wi($t.i18n("msg_TREE_RECORD_DNE"),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);t(n)}modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this;switch(e){case"niType":t.properties.niType=this.model.getNITypeString();break;case"fontSize":t.postRender.fontSize=function(){i.element.updateColumnsHeight()}}}applyModelToElement(){super.applyModelToElement(),void 0!==this.model.niType&&(this.element.niType=this.model.getNITypeString())}updateModelFromElement(){super.updateModelFromElement();const e=this.element.niType;""!==e&&(this.model.niType=new window.NIType(e))}}Pn.registerViewModel(ku,void 0,Eu,"ni-tree");var ju=Object.freeze({TreeControlViewModel:ku});const Mu=window.NIType,Au=window.NITypeNames,Nu=new Mu({name:Au.ARRAY,rank:1,subtype:{name:Au.STRING}});class qu extends Hn{constructor(e){super(e),this._source=[]}static get ITEMS_G_PROPERTY_NAME(){return"Items"}get source(){return this._source}set source(e){this._source=e,this.notifyModelPropertyChanged("source")}gPropertyNIType(e){switch(e){case qu.ITEMS_G_PROPERTY_NAME:return Nu}return super.gPropertyNIType(e)}}const Ou=window.NITypes;class Bu extends qu{constructor(e){super(e),this.niType=Ou.INT32,this._selectedIndex=-1,this._popupEnabled=!1,this._textAlignment="left"}static get MODEL_KIND(){return"niDropDown"}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._selectedIndex=e,this.notifyModelPropertyChanged("selectedIndex")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"selectedIndex"===e}getSelectedText(){return this.source[this.selectedIndex]}controlChanged(e){const t=this.selectedIndex;this.selectedIndex=e,super.controlChanged("selectedIndex",e,t)}}Pn.registerModel(Bu);class Ru extends Dr{convertToDropDownOpenMode(e){return!1===e?"none":"default"}getReadOnlyPropertyName(){return"readonly"}bindToView(){super.bindToView();const e=this;e.enableResizeHack(),e.element.addEventListener("selected-indexes-changed",function(t){if(!0===e.model.readOnly)return;const i=t.detail.value,n=i.length>0?i[0]:e.model.selectedIndex;e.model.selectedIndex!==n&&e.model.controlChanged(n)})}modelPropertyChanged(e){const t=this,i=super.modelPropertyChanged(e);switch(e){case"popupEnabled":i.properties.dropDownOpenMode=this.convertToDropDownOpenMode(this.model.popupEnabled);break;case"selectedIndex":i.properties.selectedIndexes=-1===this.model.selectedIndex?[]:[this.model.selectedIndex];break;case"source":{i.properties.dataSource=this.model.source;const e=-1===this.model.selectedIndex?[0]:[this.model.selectedIndex];i.postRender.source=function(){t.element.selectedIndexes=e};break}case"textAlignment":i.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment,i.cssStyles[xr.TEXT_ALIGN_AS_FLEX]=$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment)}return i}updateModelFromElement(){super.updateModelFromElement(),this.model.selectedIndex=this.element.selectedIndexes[0],this.model.defaultValue=this.element.selectedIndexes[0],this.model.popupEnabled="none"!==this.element.dropDownOpenMode,this.model.textAlignment=window.getComputedStyle(this.element).getPropertyValue(xr.TEXT_ALIGN);let e=this.element.dataSource;"string"==typeof e&&(e=JSON.parse(e)),this.model.source=e}applyModelToElement(){super.applyModelToElement(),this.element.dataSource=this.model.source,this.element.selectedIndexes=-1===this.model.selectedIndex?[0]:[this.model.selectedIndex],this.element.dropDownOpenMode=this.convertToDropDownOpenMode(this.model.popupEnabled),this.element.dropDownHeight="auto",this.element.selectionMode="one",this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment),this.element.style.setProperty(xr.TEXT_ALIGN_AS_FLEX,$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment))}}Pn.registerViewModel(Ru,void 0,Bu,"jqx-drop-down-list");var Vu=Object.freeze({DropDownViewModel:Ru});const Hu=Eh.SelectionModeEnum,Lu=window.NITypes;class zu extends qu{constructor(e){super(e),this.niType=Lu.INT32,this._selectionMode=Hu.ONE,this._selectedIndexes=-1}static get TOP_VISIBLE_ROW_G_PROPERTY_NAME(){return"TopVisibleRow"}static get MODEL_KIND(){return"niListBox"}get selectionMode(){return this._selectionMode}set selectionMode(e){this._selectionMode=e,this.notifyModelPropertyChanged("selectionMode")}get selectedIndexes(){return this._selectedIndexes}set selectedIndexes(e){this._selectedIndexes=e,this.notifyModelPropertyChanged("selectedIndexes")}modelPropertyUsesNIType(e){return"selectedIndexes"===e}controlChanged(e){const t=this.selectedIndexes;this.selectedIndexes=e,super.controlChanged("selectedIndexes",e,t)}gPropertyNIType(e){switch(e){case zu.TOP_VISIBLE_ROW_G_PROPERTY_NAME:return Lu.UINT32}return super.gPropertyNIType(e)}}Pn.registerModel(zu);class Fu extends Dr{modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"source":t.properties.source=JSON.stringify(this.model.source)}return t}updateModelFromElement(){super.updateModelFromElement(),void 0!==this.element.source&&(this.model.source=JSON.parse(this.element.source))}applyModelToElement(){super.applyModelToElement(),this.element.source=JSON.stringify(this.model.source)}setGPropertyValue(e,t){const i=this.model;switch(e){case qu.ITEMS_G_PROPERTY_NAME:i.source=t;break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case qu.ITEMS_G_PROPERTY_NAME:return t.source;default:return super.getGPropertyValue(e)}}}const Uu=function(e,t,i){return function(){e._niUpdatingSelection=!0,e.selectionMode=t,e.selectedIndexes=i,e._niUpdatingSelection=!1}},$u=function(e,t,i){return function(){e._niUpdatingSelection=!0,e.dataSource=t,e.selectedIndexes=i,e._niUpdatingSelection=!1}};class Wu extends Fu{getReadOnlyPropertyName(){return"readonly"}bindToView(){super.bindToView();const e=this;e.enableResizeHack(),e.element.addEventListener("change",function(){if(e.element._niUpdatingSelection||!0===e.model.readOnly)return;const t=kh.convertBack(e.element.selectedIndexes,e.model.selectionMode);e.model.controlChanged(t)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"selectionMode":case"selectedIndexes":{const e=kh.convertNIToJQXSelectionMode(this.model.selectionMode),i=kh.convert(this.model.selectedIndexes,this.model.selectionMode);t.postRender.selection=Uu(this.element,e,i)}break;case"niType":t.properties.niType=this.model.getNITypeString();break;case"source":{const e=kh.convert(this.model.selectedIndexes,this.model.selectionMode);t.postRender.source=$u(this.element,this.model.source,e)}}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.selectionMode=kh.convertJQXToNISelectionMode(this.element.selectionMode);const e=kh.convertBack(this.element.selectedIndexes,this.model.selectionMode),t=this.element.getAttribute("ni-type");this.model.niType=new window.NIType(t),this.model.selectedIndexes=e,this.model.defaultValue=e;let i=this.element.dataSource;"string"==typeof i&&(i=JSON.parse(i)),this.model.source=i}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.selectionMode=kh.convertNIToJQXSelectionMode(this.model.selectionMode),this.element.selectedIndexes=kh.convert(this.model.selectedIndexes,this.model.selectionMode),this.element.dataSource=this.model.source}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.selectedIndexes=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;case zu.TOP_VISIBLE_ROW_G_PROPERTY_NAME:{const i=this.element.items.length;if(!(t>=0&&t<i))throw new Wi($t.i18n("msg_PROPERTY_OUT_OF_RANGE",e,i-1),Dr.INVALID_PROPERTY_VALUE_ERROR_CODE);this.element.topVisibleIndex=t}break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.selectedIndexes;case zu.TOP_VISIBLE_ROW_G_PROPERTY_NAME:return this.element.topVisibleIndex;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(Wu,void 0,zu,"jqx-list-box");var Gu=Object.freeze({ListBoxViewModel:Wu});class Xu extends Sr{}si.registerElement(Xu),Cr.defineElementInfo(Xu.prototype,"ni-opaque-refnum","HTMLNIOpaqueRefnum");class Yu extends Hn{static get MODEL_KIND(){return"niOpaqueRefnum"}}Pn.registerModel(Yu);class Ju extends Dr{}Pn.registerViewModel(Ju,Xu,Yu);var Qu=Object.freeze({OpaqueRefnumViewModel:Ju});class Ku extends Hn{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._owningControlVisible=!0}static get MODEL_KIND(){return"niPlotLegend"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}Pn.registerModel(Ku);class Zu extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode")}userInteractionChanged(e,t){"start"===e&&this.element.throttlePlotUpdates(!0),"end"===e&&this.element.throttlePlotUpdates(!1),"atomicactioncomplete"===e&&this.element.syncPlotLegendWithGraph(),super.userInteractionChanged(e,t)}isFollower(){return!0}}Pn.registerViewModel(Zu,void 0,Ku,"ni-plot-legend");var ep=Object.freeze({PlotLegendViewModel:Zu});class tp extends Hn{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._owningControlVisible=!0}static get MODEL_KIND(){return"niCursorLegend"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}Pn.registerModel(tp);class ip extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode")}isFollower(){return!0}}Pn.registerViewModel(ip,void 0,tp,"ni-cursor-legend");var np=Object.freeze({CursorLegendViewModel:ip});class rp extends Hn{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._owningControlVisible=!0}static get MODEL_KIND(){return"niScaleLegend"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}Pn.registerModel(rp);class ap extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode")}isFollower(){return!0}}Pn.registerViewModel(ap,void 0,rp,"ni-scale-legend");var sp=Object.freeze({ScaleLegendViewModel:ap});class op extends Hn{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._model="pan",this._owningControlVisible=!0}static get MODEL_KIND(){return"niGraphTools"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get mode(){return this._mode}set mode(e){this._mode=e,this.notifyModelPropertyChanged("mode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}Pn.registerModel(op);class lp extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode"),this.registerAutoSyncProperty("mode")}isFollower(){return!0}}Pn.registerViewModel(lp,void 0,op,"ni-graph-tools");var dp=Object.freeze({GraphToolsViewModel:lp});class hp extends Hn{constructor(e){super(e),this._axisPosition="right",this._autoScale="auto",this._showAxis=!0,this._highColor="#ffffff",this._lowColor="#000000",this._markers="",this._label="",this._showLabel=!0,this._show=!0}static get MODEL_KIND(){return"niColorScale"}get axisPosition(){return this._axisPosition}set axisPosition(e){this._axisPosition=e,this.notifyModelPropertyChanged("axisPosition")}get autoScale(){return this._autoScale}set autoScale(e){this._autoScale=e,this.notifyModelPropertyChanged("autoScale")}get showAxis(){return this._showAxis}set showAxis(e){this._showAxis=e,this.notifyModelPropertyChanged("showAxis")}get highColor(){return this._highColor}set highColor(e){this._highColor=e,this.notifyModelPropertyChanged("highColor")}get lowColor(){return this._lowColor}set lowColor(e){this._lowColor=e,this.notifyModelPropertyChanged("lowColor")}get markers(){return this._markers}set markers(e){this._markers=e,this.notifyModelPropertyChanged("markers")}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get showLabel(){return this._showLabel}set showLabel(e){this._showLabel=e,this.notifyModelPropertyChanged("showLabel")}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}}Pn.registerModel(hp);class cp extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("axisPosition"),this.registerAutoSyncProperty("autoScale"),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("showLabel"),this.registerAutoSyncProperty("highColor"),this.registerAutoSyncProperty("lowColor"),this.registerAutoSyncProperty("markers")}}Pn.registerViewModel(cp,void 0,hp,"ni-color-scale");var up=Object.freeze({ColorScaleViewModel:cp});class pp extends Xo{static get MODEL_KIND(){return"niIntensityGraph"}}Pn.registerModel(pp);class mp extends Qo{modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this;switch(e){case"value":t.postRender.value=function(){i.element.setData(i.model.value)}}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.element,t=this.model;t.value=e.value,t.defaultValue=e.value}applyModelToElement(){super.applyModelToElement();const e=this.element,t=this.model;e.value=t.value}}Pn.registerViewModel(mp,void 0,pp,"ni-intensity-graph");var fp=Object.freeze({IntensityGraphViewModel:mp});const gp=window.NIType,vp=window.NITypeNames,bp=function(e){let t=new gp(e.niType);return t.isEnum()&&(t=t.getSubtype()),t},yp=function(e,t){return jh.convert(Hs.convertBack(e,t),t,!0)},_p=function(e,t){return Hs.convert(jh.convertBack(e,t),t)},wp=function(e,t,i){return i.is64BitInteger()?e===t:parseFloat(e)===parseFloat(t)},xp=function(e){const t=e.items;if(void 0!==t)for(let e=0;e<t.length;e++)t[e].disabled&&(t[e].disabled=!1)};class Cp extends Sr{createdCallback(){super.createdCallback(),this.itemsArray=[],this.disabledIndexesArray=[],this._itemsUpdating=!1,this._hasUndefinedValue=!1}addAllProperties(e){super.addAllProperties(e);const t=Cp.prototype;t.addProperty(e,{propertyName:"disabledIndexes",defaultValue:"[]"}),t.addProperty(e,{propertyName:"value",defaultValue:{stringValue:"0",numberValue:0},fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"niType",defaultValue:vp.INT32}),t.addProperty(e,{propertyName:"items",defaultValue:"[]"}),t.addProperty(e,{propertyName:"popupEnabled",defaultValue:!1}),$t.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}attachedCallback(){const e=super.attachedCallback();return!0===e&&(this.refreshItemsArray(),this.refreshDisabledIndexesArray()),e}refreshItemsArray(){this.itemsArray=JSON.parse(this.items)}refreshDisabledIndexesArray(){this.disabledIndexesArray=JSON.parse(this.disabledIndexes)}createSource(){const e=[],t=this.itemsArray;let i;for(i=0;i<t.length;i++)e.push(t[i].displayValue);return e}findValue(){const e=this.itemsArray;let t;const i=bp(this),n=_p(this.value,i);for(t=0;t<e.length;t++)if(wp(e[t].value,n,i))return t;return-1}getSourceAndSelectedIndexFromSource(){const e={},t=[];let i=-1;const n=bp(this),r=_p(this.value,n),a=this.itemsArray;for(let e=0;e<a.length;e++){const s=a[e];t.push(s.displayValue),wp(s.value,r,n)&&(i=e)}return e.source=t,e.selectedIndex=i,e}selectChangedHandler(e){const t=this.itemsArray,i=bp(this);let n=-1;for(let r=0;r<t.length;r++){const a=t[r];if(a.displayValue===e){n=a.value,this.value=yp(a.value,i);break}}return n}addUndefinedValue(e){const t=bp(this),i=_p(this.value,t),n={value:i,displayValue:"<"+i+">"};this._hasUndefinedValue&&(this.itemsArray.pop(),this._hasUndefinedValue=!1),this.itemsArray.push(n);const r=this.itemsArray.length-1;return this._itemsUpdating=!0,this.items=JSON.stringify(this.itemsArray),e.dataSource=this.createSource(),e.selectedIndexes=[r],this._hasUndefinedValue=!0,this._itemsUpdating=!1,r}removeUndefinedValue(e){if(0===this.itemsArray.length)return;this._hasUndefinedValue&&(this.itemsArray.pop(),this._hasUndefinedValue=!1),this._itemsUpdating=!0,this.items=JSON.stringify(this.itemsArray);const t=this.findValue();e.dataSource=this.createSource(),e.selectedIndexes=[t],this._itemsUpdating=!1}setDisabledIndexes(e){xp(e);const t=e.items,i=this.disabledIndexesArray;for(let e=0;e<i.length;e++)i[e]<t.length&&i[e]>=0&&!t[i[e]].disabled&&(t[i[e]].disabled=!0)}propertyUpdatedHelper(e,t,i){let n;switch(e){case"items":if(!this._itemsUpdating){this._itemsUpdating=!0,this.refreshItemsArray(),t.dataSource=this.createSource(),n=(n=this.findValue())>=0&&n<this.itemsArray.length?n:0,t.selectedIndexes=[n];const e=bp(this);this.value=yp(this.itemsArray[n].value,e),this._itemsUpdating=!1,this.setDisabledIndexes(t)}break;case"disabledIndexes":this.refreshDisabledIndexesArray(),this.setDisabledIndexes(t);break;case"value":!1===i?(n=this.findValue(),t.selectedIndexes=-1===n?[0]:[n]):(-1===this.findValue()?this.addUndefinedValue(t):this.removeUndefinedValue(t),this.setDisabledIndexes(t));break;case"readOnly":t.readonly=this.readOnly;break;case"disabled":t.disabled=this.disabled}}}const Sp=NationalInstruments.Globals.jQuery;class Tp extends Cp{createdCallback(){super.createdCallback(),this.addEventListener("change",function(e){e.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback(),t=this;if(!0===e){const e=document.createElement("jqx-drop-down-list");this.innerHTML="";const i=this.getSourceAndSelectedIndexFromSource(),n=-1===i.selectedIndex?[0]:[i.selectedIndex];e.setAttribute("data-source",JSON.stringify(i.source)),e.setAttribute("selected-indexes",JSON.stringify(n)),e.setAttribute("drop-down-height","auto"),e.setAttribute("selection-mode","one"),e.disabled=this.disabled,!0===this.readOnly&&e.setAttribute("readonly","true"),e.setAttribute("drop-down-open-mode",this.popupEnabled?"default":"none"),e.addEventListener("change",function(e){const i=e.detail;if(i&&!t._itemsUpdating){const e=i.value;t.selectChangedHandler(e)}}),this.appendChild(e),this.setDisabledIndexes(e)}return e}forceResize(e){super.forceResize(e),Sp(this.firstElementChild).width(e.width),Sp(this.firstElementChild).height(e.height)}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"items":case"value":case"readOnly":this.propertyUpdatedHelper(e,this.firstElementChild,!1),this.itemsArray.length>0&&-1===this.value&&(this.firstElementChild.selectedIndexes=[0]);break;case"disabled":case"disabledIndexes":this.propertyUpdatedHelper(e,this.firstElementChild,!1)}}focus(...e){return this.querySelector("jqx-drop-down-list").focus(...e)}}si.registerElement(Tp),Cr.defineElementInfo(Tp.prototype,"ni-enum-selector","HTMLNIEnumSelector");const Pp=window.NITypes,Ip=window.NIType,Ep=window.NITypeNames,Dp=new Ip({name:Ep.ARRAY,rank:1,subtype:{name:Ep.STRING}}),kp=new Ip({name:Ep.ARRAY,rank:1,subtype:{name:Ep.INT32}});class jp extends Hn{constructor(e){super(e),this.niType=Pp.INT32,this._value=0,this._items=[],this._popupEnabled=!1,this._disabledIndexes=[]}static get DISABLED_INDEXES_G_PROPERTY_NAME(){return"DisabledIndexes"}static get ITEMS_G_PROPERTY_NAME(){return"Items"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get items(){return this._items}set items(e){this._items=e,this.notifyModelPropertyChanged("items")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get disabledIndexes(){return this._disabledIndexes}set disabledIndexes(e){this._disabledIndexes=e,this.notifyModelPropertyChanged("disabledIndexes")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case jp.DISABLED_INDEXES_G_PROPERTY_NAME:return kp;case jp.ITEMS_G_PROPERTY_NAME:return Dp}return super.gPropertyNIType(e)}}class Mp extends jp{constructor(e){super(e),this._textAlignment="left"}static get MODEL_KIND(){return"niEnumSelector"}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}}Pn.registerModel(Mp);class Ap extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("popupEnabled")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"niType":t.properties.niType=this.model.getNITypeString();break;case"value":null!==this.model.value&&(t.properties.valueNonSignaling=jh.convert(this.model.value,this.model.niType));break;case"items":t.properties.items=JSON.stringify(this.model.items);break;case"disabledIndexes":t.properties.disabledIndexes=JSON.stringify(this.model.disabledIndexes)}return t}bindToView(){super.bindToView();const e=this;this.enableResizeHack(),this.element.addEventListener("value-changed",function(t){if(t.target===e.element){const i=jh.convertBack(t.detail.value,e.model.niType);e.model.controlChanged(i)}})}updateModelFromElement(){super.updateModelFromElement();const e=this.element,t=this.model,i=new window.NIType(e.niType);t.niType=i,t.value=jh.convertBack(e.value,i),t.items=JSON.parse(e.items),t.disabledIndexes=JSON.parse(e.disabledIndexes)}applyModelToElement(){super.applyModelToElement();const e=this.element,t=this.model;e.niType=this.model.getNITypeString(),e.items=JSON.stringify(t.items),e.disabledIndexes=JSON.stringify(t.disabledIndexes),e.value=jh.convert(t.value,t.niType)}setGPropertyValue(e,t){const i=this.model;switch(e){case jp.ITEMS_G_PROPERTY_NAME:i.items=t.map((e,t)=>{const i={};return i.displayValue=e,i.value=t,t++,i});break;case Hn.VALUE_G_PROPERTY_NAME:i.value=_o.clamp(t,0,i.items.length-1);break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(_o.clamp(t,0,i.items.length-1));break;case jp.DISABLED_INDEXES_G_PROPERTY_NAME:i.disabledIndexes=t;break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case jp.ITEMS_G_PROPERTY_NAME:return t.items.map(e=>e.displayValue);case Hn.VALUE_G_PROPERTY_NAME:return t.value;case jp.DISABLED_INDEXES_G_PROPERTY_NAME:return t.disabledIndexes;default:return super.getGPropertyValue(e)}}}class Np extends Ap{modelPropertyChanged(e){const t=this,i=super.modelPropertyChanged(e);switch(e){case"textAlignment":i.cssStyles[xr.TEXT_ALIGN_AS_FLEX]=$d.convertTextAlignmentToFlexAlignment(t.model.textAlignment),i.cssStyles[xr.TEXT_ALIGN]=t.model.textAlignment}return i}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.textAlignment=e.getPropertyValue(xr.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement();const e=$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment);this.element.style.setProperty(xr.TEXT_ALIGN_AS_FLEX,e),this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){switch(e){case jp.ITEMS_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case jp.ITEMS_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(Np,Tp,Mp);var qp=Object.freeze({EnumSelectorViewModel:Np});const Op=window.NIType;class Bp extends Cp{addAllProperties(e){super.addAllProperties(e),Bp.prototype.addProperty(e,{propertyName:"allowUndefined",defaultValue:!1})}createdCallback(){super.createdCallback(),this.addEventListener("change",function(e){e.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback(),t=this;if(!0===e){const e=document.createElement("jqx-drop-down-list");this.appendChild(e);const i=document.createElement("jqx-numeric-text-box");this.appendChild(i);const n=new Op(this.niType),r=Hs.convertNITypeToJQX(n);i.setAttribute("input-format",r),"integer"===r&&i.setAttribute("word-length",n.getName().toLowerCase()),!0===this.readOnly&&i.setAttribute("readonly",""),i.setAttribute("value",Hs.convert(jh.convertBack(this.value,n),n));let a=this.getSourceAndSelectedIndexFromSource().selectedIndex;-1===a&&(a=this.addUndefinedValue(e));const s=this.createSource();e.setAttribute("selection-mode","one"),e.setAttribute("data-source",JSON.stringify(s)),e.setAttribute("selected-indexes",JSON.stringify([a])),e.setAttribute("drop-down-height","auto"),e.disabled=this.disabled,!0===this.readOnly&&e.setAttribute("readonly",""),e.setAttribute("drop-down-open-mode",this.popupEnabled?"default":"none"),e.addEventListener("change",function(e){const n=e.detail;if(n&&!t._itemsUpdating){const e=n.label,r=t.selectChangedHandler(e);i.value=r}}),i.addEventListener("change",function(e){const n=new Op(t.niType),r=Hs.convertBack(i.value,n);t.value=jh.convert(r,n,!0)}),i.classList.add("ni-ring-numeric-input"),customElements.whenDefined(i.localName).then(function(){t.numericInputDefined=!0}),this.setDisabledIndexes(e)}return e}propertyUpdated(e){super.propertyUpdated(e);const t=this.querySelector("jqx-numeric-text-box"),i=this.querySelector("jqx-drop-down-list");let n;switch(e){case"items":this._hasUndefinedValue&&(this._hasUndefinedValue=!1,this.itemsArray.pop()),this.propertyUpdatedHelper(e,i,!1);break;case"readOnly":this.propertyUpdatedHelper(e,i,!1);break;case"value":n=new Op(this.niType),this.propertyUpdatedHelper(e,i,!0),this.numericInputDefined&&(t.properties.value.notify=!1),t.value=Hs.convert(jh.convertBack(this.value,n),n),this.numericInputDefined&&(t.properties.value.notify=!0);break;case"allowUndefined":this.allowUndefined||this.removeUndefinedValue(i);break;case"niType":{n=new Op(this.niType);const e=Hs.convertNITypeToJQX(n);t.inputFormat=e,"integer"===e&&(t.wordLength=n.getName().toLowerCase());break}case"disabled":this.propertyUpdatedHelper(e,i,!1),t.disabled=this.disabled;break;case"disabledIndexes":this.propertyUpdatedHelper(e,i,!1)}}focus(...e){return this.querySelector("jqx-drop-down-list").focus(...e)}}si.registerElement(Bp),Cr.defineElementInfo(Bp.prototype,"ni-ring-selector","HTMLNIRingSelector");const Rp=window.NIType,Vp=window.NITypeNames;class Hp extends jp{constructor(e){super(e),this._allowUndefined=!1,this._textAlignment="left",this._numericValueWidth=40,this._itemsAndValuesRingSelectorType=new Rp({name:Vp.ARRAY,rank:1,subtype:{name:Vp.CLUSTER,fields:["String","Value"],subtype:[Vp.STRING,this.niType.getName()]}})}static get ITEMS_AND_VALUES_G_PROPERTY_NAME(){return"ItemsAndValues"}static get MODEL_KIND(){return"niRingSelector"}get allowUndefined(){return this._allowUndefined}set allowUndefined(e){this._allowUndefined=e,this.notifyModelPropertyChanged("allowUndefined")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get numericValueWidth(){return this._numericValueWidth}set numericValueWidth(e){this._numericValueWidth=e,this.notifyModelPropertyChanged("numericValueWidth")}get itemsAndValuesRingSelectorType(){return this._itemsAndValuesRingSelectorType}set itemsAndValuesRingSelectorType(e){this._itemsAndValuesRingSelectorType=e}gPropertyNIType(e){switch(e){case Hp.ITEMS_AND_VALUES_G_PROPERTY_NAME:return this.itemsAndValuesRingSelectorType}return super.gPropertyNIType(e)}}Pn.registerModel(Hp);const Lp="--ni-numeric-value-width",zp=function(e){const t=[],i=[];for(let n=0;n<e.length;n++)if(t[n]=e[n].String,i[n]=e[n].Value,""===t[n])throw new Wi($t.i18n("msg_EMPTY_DISPLAY_VALUE"),Fp.DISPLAY_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE);if(t.length!==new Set(t).size)throw new Wi($t.i18n("msg_DUPLICATE_DISPLAY_NAME"),Fp.DUPLICATE_DISPLAY_NAMES_NOT_ALLOWED_ERROR_CODE);if(i.length!==new Set(i).size)throw new Wi($t.i18n("msg_DUPLICATE_DISPLAY_VALUE"),Fp.DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE)};class Fp extends Ap{constructor(e,t){super(e,t),this.registerAutoSyncProperty("allowUndefined")}static get DISPLAY_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE(){return 363554}static get DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE(){return 363543}static get DUPLICATE_DISPLAY_NAMES_NOT_ALLOWED_ERROR_CODE(){return 363544}bindToView(){super.bindToView(),this.bindFocusEventListener()}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"textAlignment":t.cssStyles[xr.TEXT_ALIGN_AS_FLEX]=$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment),t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment;break;case"numericValueWidth":t.cssStyles[Lp]=this.model.numericValueWidth+"px"}return t}updateModelFromElement(){super.updateModelFromElement();const e=window.getComputedStyle(this.element);this.model.textAlignment=e.getPropertyValue(xr.TEXT_ALIGN),this.model.numericValueWidth=parseFloat(e.getPropertyValue(Lp))}applyModelToElement(){super.applyModelToElement();const e=$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment);this.element.style.setProperty(xr.TEXT_ALIGN_AS_FLEX,e),this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment),this.element.style.setProperty(Lp,this.model.numericValueWidth+"px")}getGPropertyValue(e){const t=this.model;switch(e){case Hp.ITEMS_AND_VALUES_G_PROPERTY_NAME:return t.items.map(e=>{const t={};return t.String=e.displayValue,t.Value=e.value,t});default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;case Hp.ITEMS_AND_VALUES_G_PROPERTY_NAME:zp(t),i.items=t.map(e=>{const t={};return t.displayValue=e.String,t.value=e.Value,t});break;default:super.setGPropertyValue(e,t)}}}Pn.registerViewModel(Fp,Bp,Hp);var Up=Object.freeze({RingSelectorViewModel:Fp});const $p=function(e){e._itemsArray=JSON.parse(e.items)},Wp=function(e){return e._itemsArray.map(function(e){return e.value}).indexOf(e.value)},Gp=function(e,t){const i=t._itemsArray.filter(function(t){return t.displayValue===e});i.length>0?t.value=i[0].value:t.allowUnlabeled&&(t.value=e)},Xp=function(e,t){if(0===e._itemsArray.length)return;e._hasUnlabeledValue&&(e._itemsArray.pop(),e._hasUnlabeledValue=!1),e._itemsUpdating=!0,e.items=JSON.stringify(e._itemsArray);const i=Wp(e);t.dataSource=Yp(e._itemsArray),t.selectedIndexes=-1===i?[0]:[i],e._itemsUpdating=!1,-1===i&&(e.value=e._itemsArray[0].value)},Yp=function(e){const t=[];return e.forEach(function(e){t.push(e.displayValue)}),t},Jp=function(e,t){const i=e.items,n=JSON.parse(t.disabledIndexes);var r;void 0!==(r=i)&&r.forEach(function(e){e.disabled=!1}),n.forEach(function(e){e<i.length&&e>=0&&(i[e].disabled=!0)})},Qp=function(e,t){-1===Wp(t)?function(e,t){const i={value:e.value,displayValue:e.value};e._hasUnlabeledValue&&(e._itemsArray.pop(),e._hasUnlabeledValue=!1),e._itemsArray.push(i);const n=e._itemsArray.length-1;e._itemsUpdating=!0,e.items=JSON.stringify(e._itemsArray),t.dataSource=Yp(e._itemsArray),t.selectedIndexes=[n],e._hasUnlabeledValue=!0,e._itemsUpdating=!1}(t,e):Xp(t,e),Jp(e,t)},Kp=function(e,t){e.autoComplete=t.allowUnlabeled?"none":"list"};class Zp extends Sr{createdCallback(){super.createdCallback(),this._itemsArray=[],this._hasUnlabeledValue=!1,this._jqxComboBoxElement=void 0,this._itemsUpdating=!1,this.addEventListener("change",function(e){e.stopImmediatePropagation()})}addAllProperties(e){super.addAllProperties(e);const t=Zp.prototype;t.addProperty(e,{propertyName:"value",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"items",defaultValue:"[]"}),t.addProperty(e,{propertyName:"popupEnabled",defaultValue:!1}),t.addProperty(e,{propertyName:"allowUnlabeled",defaultValue:!1}),t.addProperty(e,{propertyName:"disabledIndexes",defaultValue:"[]"}),$t.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}focus(...e){return this._jqxComboBoxElement.focus(...e)}attachedCallback(){const e=super.attachedCallback(),t=this;if(!0===e){$p(t);const e=document.createElement("jqx-combo-box");this._jqxComboBoxElement=e,t.appendChild(e),e.setAttribute("value",t.value),e.disabled=t.disabled;const i=Yp(this._itemsArray);e.setAttribute("selection-mode","one"),e.setAttribute("data-source",JSON.stringify(i)),e.setAttribute("drop-down-height","auto"),e.setAttribute("drop-down-open-mode",t.popupEnabled?"default":"none"),Kp(e,this),t.popupEnabled&&(e.setAttribute("auto-open-shortcut-key",'["ArrowDown","ArrowUp"]'),e.setAttribute("esc-key-mode","clearValue")),!0===this.readOnly&&e.setAttribute("readonly",""),e.addEventListener("change",function(e){const i=e.detail;Gp(i.value,t)})}}propertyUpdated(e){super.propertyUpdated(e);const t=this._jqxComboBoxElement;switch(e){case"items":if(!this._itemsUpdating){this._hasUnlabeledValue=!1,$p(this),Jp(t,this),t.dataSource=Yp(this._itemsArray);const e=Wp(this);t.selectedIndexes=-1===e?[0]:[e]}break;case"readOnly":t.readonly=this.readOnly;break;case"value":Qp(t,this);break;case"disabledIndexes":Jp(t,this);break;case"allowUnlabeled":this.allowUnlabeled||Xp(this,t),Kp(t,this);break;case"disabled":t.disabled=this.disabled}}}si.registerElement(Zp),Cr.defineElementInfo(Zp.prototype,"ni-combo-box-selector","HTMLNIComboBoxSelector");const em=window.NITypes;class tm extends Hn{constructor(e){super(e),this._allowUnlabeled=!0,this._textAlignment="left",this.niType=em.STRING,this._value="",this._items=[],this._popupEnabled=!1,this._disabledIndexes=[]}static get MODEL_KIND(){return"niComboBox"}static get DISABLED_INDEXES_G_PROPERTY_NAME(){return"DisabledIndexes"}static get ITEMS_G_PROPERTY_NAME(){return"Items"}static get ITEMS_AND_VALUES_G_PROPERTY_NAME(){return"ItemsAndValues"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get items(){return this._items}set items(e){this._items=e,this.notifyModelPropertyChanged("items")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get allowUnlabeled(){return this._allowUnlabeled}set allowUnlabeled(e){this._allowUnlabeled=e,this.notifyModelPropertyChanged("allowUnlabeled")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get disabledIndexes(){return this._disabledIndexes}set disabledIndexes(e){this._disabledIndexes=e,this.notifyModelPropertyChanged("disabledIndexes")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",e,t)}}Pn.registerModel(tm);const im=function(e){const t=[],i=[];for(let n=0;n<e.length;n++)if(t[n]=e[n].displayValue,i[n]=e[n].value,""===i[n]&&""===t[n])throw new Wi($t.i18n("msg_EMPTY_DISPLAY_VALUE_AND_VALUE"),nm.DISPLAY_VALUES_AND_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE);if(t.length!==new Set(t).size)throw new Wi($t.i18n("msg_DUPLICATE_DISPLAY_VALUE"),nm.DUPLICATE_DISPLAY_VALUES_NOT_ALLOWED_ERROR_CODE);if(i.length!==new Set(i).size)throw new Wi($t.i18n("msg_DUPLICATE_VALUE"),nm.DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE)};class nm extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("popupEnabled"),this.registerAutoSyncProperty("allowUnlabeled")}static get DISPLAY_VALUES_AND_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE(){return 363542}static get DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE(){return 363543}static get DUPLICATE_DISPLAY_VALUES_NOT_ALLOWED_ERROR_CODE(){return 363544}bindToView(){super.bindToView();const e=this;this.bindFocusEventListener(),this.element.addEventListener("value-changed",function(t){e.element===t.target&&e.model.controlChanged(t.detail.value)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e);switch(e){case"items":t.properties.items=JSON.stringify(this.model.items);break;case"textAlignment":t.cssStyles[xr.TEXT_ALIGN]=this.model.textAlignment,t.cssStyles[xr.TEXT_ALIGN_AS_FLEX]=$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment);break;case"disabledIndexes":t.properties.disabledIndexes=JSON.stringify(this.model.disabledIndexes);break;case"value":t.properties.valueNonSignaling=this.model.value}return t}updateModelFromElement(){super.updateModelFromElement();const e=this.element,t=this.model;t.items=JSON.parse(e.items),t.value=e.value,t.disabledIndexes=JSON.parse(e.disabledIndexes),t.textAlignment=window.getComputedStyle(e).getPropertyValue(xr.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement();const e=this.element,t=this.model;e.valueNonSignaling=t.value,e.items=JSON.stringify(t.items),e.disabledIndexes=JSON.stringify(t.disabledIndexes);const i=$d.convertTextAlignmentToFlexAlignment(this.model.textAlignment);this.element.style.setProperty(xr.TEXT_ALIGN_AS_FLEX,i),this.element.style.setProperty(xr.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;case tm.ITEMS_G_PROPERTY_NAME:{const e=t.map(e=>({value:e,displayValue:e}));im(e),i.items=e;break}case tm.DISABLED_INDEXES_G_PROPERTY_NAME:i.disabledIndexes=t;break;case tm.ITEMS_AND_VALUES_G_PROPERTY_NAME:{const e=t.map(e=>{const t={};return t.value=e.Value,t.displayValue=e.String,t});im(e),i.items=e;break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:return t.value;case tm.ITEMS_AND_VALUES_G_PROPERTY_NAME:return t.items.map(e=>({String:e.displayValue,Value:e.value}));case tm.ITEMS_G_PROPERTY_NAME:return t.items.map(e=>e.displayValue);case tm.DISABLED_INDEXES_G_PROPERTY_NAME:return t.disabledIndexes;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(nm,Zp,tm);var rm=Object.freeze({ComboBoxSelectorViewModel:nm});const am=window.NITypes;class sm extends Hn{constructor(e){super(e),this.niType=am.STRING,this._value=""}static get MODEL_KIND(){return"niMaskedInput"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value;this.value=e,super.controlChanged("value",this.value,t)}}Pn.registerModel(sm);class om extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("value")}bindToView(){super.bindToView();const e=this;e.bindFocusEventListener(),e.element.addEventListener("change",function(t){if(t.target===e.element){const i=t.target.value;e.model.value!==i&&e.model.controlChanged(i)}})}getReadOnlyPropertyName(){return"readonly"}setGPropertyValue(e,t){const i=this.model;switch(e){case Hn.VALUE_G_PROPERTY_NAME:i.value=t;break;case Hn.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Hn.VALUE_G_PROPERTY_NAME:return this.model.value;default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(om,void 0,sm,"jqx-password-text-box");var lm=Object.freeze({MaskedInputViewModel:om});const dm={HORIZONTAL:"horizontal",VERTICAL:"vertical"},hm=function(e,t,i){const n=document.createElement("jqx-radio-button");return n.setAttribute("check-mode","both"),e.readOnly&&n.setAttribute("readonly",""),e.disabled&&n.setAttribute("disabled",""),n.innerHTML=$t.escapeHtml(t),i&&n.setAttribute("checked",""),e.appendChild(n),n},cm=function(e){e.innerHTML="",e._childRadioButtons=[];const t=e.getSourceAndSelectedIndexFromSource();let i,n,r;for(i=0;i<t.source.length;i++)r=t.selectedIndex===i,n=hm(e,t.source[i],r),e._childRadioButtons.push(n)};class um extends Cp{addAllProperties(e){super.addAllProperties(e),um.prototype.addProperty(e,{propertyName:"orientation",defaultValue:dm.VERTICAL})}createdCallback(){super.createdCallback();const e=this;e._childRadioButtons=[],e.addEventListener("change",function(t){const i=e._childRadioButtons.indexOf(t.target);i>-1&&e.selectChangedHandler(e.itemsArray[i].displayValue),t.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback(),t=this;return!0===e&&(cm(this),t.addEventListener("keydown",function(e){const i=e.key;i&&("ArrowDown"===i||"ArrowRight"===i?t.switchToNextSelectableRadioButton():"ArrowUp"!==i&&"ArrowLeft"!==i||t.switchToPreviousSelectableRadioButton())})),e}propertyUpdated(e){super.propertyUpdated(e);const t=this;switch(e){case"items":this.refreshItemsArray(),cm(this);break;case"value":{const e=this.getSourceAndSelectedIndexFromSource();this._childRadioButtons[e.selectedIndex].checked=!0;break}case"readOnly":this._childRadioButtons.forEach(function(e){e.readonly=t.readOnly});break;case"disabled":this._childRadioButtons.forEach(function(e){e.disabled=t.disabled})}}switchToNextSelectableRadioButton(){const e=this.getSourceAndSelectedIndexFromSource().selectedIndex;return e+1<this._childRadioButtons.length&&(this.selectChangedHandler(this.itemsArray[e+1].displayValue),!0)}switchToPreviousSelectableRadioButton(){const e=this.getSourceAndSelectedIndexFromSource().selectedIndex;return e-1>=0&&(this.selectChangedHandler(this.itemsArray[e-1].displayValue),!0)}}si.registerElement(um),Cr.defineElementInfo(um.prototype,"ni-radio-button-group","HTMLNIRadioButtonGroup");const pm=window.NITypes;class mm extends jp{constructor(e){super(e),this._orientation=dm.VERTICAL,this._textAlignment="left",this._selectedButtonBackground="",this._unselectedButtonBackground="",this._textColor=""}static get SELECTED_COLOR_G_PROPERTY_NAME(){return"SelectedColor"}static get UNSELECTED_COLOR_G_PROPERTY_NAME(){return"UnselectedColor"}static get MODEL_KIND(){return"niRadioButtonGroup"}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get selectedButtonBackground(){return this._selectedButtonBackground}set selectedButtonBackground(e){this._selectedButtonBackground=e,this.notifyModelPropertyChanged("selectedButtonBackground")}get unselectedButtonBackground(){return this._unselectedButtonBackground}set unselectedButtonBackground(e){this._unselectedButtonBackground=e,this.notifyModelPropertyChanged("unselectedButtonBackground")}get textColor(){return this._textColor}set textColor(e){this._textColor=e,this.notifyModelPropertyChanged("textColor")}gPropertyNIType(e){switch(e){case mm.SELECTED_COLOR_G_PROPERTY_NAME:case mm.UNSELECTED_COLOR_G_PROPERTY_NAME:return pm.UINT32}return super.gPropertyNIType(e)}}Pn.registerModel(mm);class fm extends Ap{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation"),this.registerAutoSyncProperty("selectedButtonBackground"),this.registerAutoSyncProperty("unselectedButtonBackground"),this.registerAutoSyncProperty("textColor")}static get GRADIENTS_NOT_SUPPORTED_ERROR_CODE(){return 1702}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e);switch(e){case"textAlignment":i.cssStyles[xr.TEXT_ALIGN]=t.textAlignment;break;case"selectedButtonBackground":i.cssStyles[xr.SELECTED_BACKGROUND]=t.selectedButtonBackground;break;case"unselectedButtonBackground":i.cssStyles[xr.UNSELECTED_BACKGROUND]=t.unselectedButtonBackground;break;case"textColor":i.cssStyles[xr.FOREGROUND_COLOR]=t.textColor}return i}updateModelFromElement(){const e=this.model,t=this.element;super.updateModelFromElement();const i=window.getComputedStyle(t);e.textAlignment=i.getPropertyValue(xr.TEXT_ALIGN),e.selectedButtonBackground=i.getPropertyValue(xr.SELECTED_BACKGROUND),e.unselectedButtonBackground=i.getPropertyValue(xr.UNSELECTED_BACKGROUND),e.textColor=i.getPropertyValue(xr.FOREGROUND_COLOR)}applyModelToElement(){const e=this.model,t=this.element;super.applyModelToElement(),t.style.setProperty(xr.TEXT_ALIGN,e.textAlignment),t.style.setProperty(xr.SELECTED_BACKGROUND,e.selectedButtonBackground),t.style.setProperty(xr.UNSELECTED_BACKGROUND,e.unselectedButtonBackground),t.style.setProperty(xr.FOREGROUND_COLOR,e.textColor)}setGPropertyValue(e,t){const i=this.model;switch(e){case jp.ITEMS_G_PROPERTY_NAME:case jp.DISABLED_INDEXES_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);case mm.SELECTED_COLOR_G_PROPERTY_NAME:i.selectedButtonBackground=$o.integerToRGBA(t);break;case mm.UNSELECTED_COLOR_G_PROPERTY_NAME:i.unselectedButtonBackground=$o.integerToRGBA(t);break;default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model;switch(e){case jp.ITEMS_G_PROPERTY_NAME:case jp.DISABLED_INDEXES_G_PROPERTY_NAME:throw new Wi($t.i18n("msg_PROPERTY_NOT_SUPPORTED",e),En.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE);case mm.SELECTED_COLOR_G_PROPERTY_NAME:{const i=t.selectedButtonBackground;if($o.isRGBAOrHexFormat(i))return $o.getIntegerValueForInputColor(i);throw new Wi($t.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),fm.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}case mm.UNSELECTED_COLOR_G_PROPERTY_NAME:{const i=t.unselectedButtonBackground;if($o.isRGBAOrHexFormat(i))return $o.getIntegerValueForInputColor(i);throw new Wi($t.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),fm.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}default:return super.getGPropertyValue(e)}}}Pn.registerViewModel(fm,um,mm);var gm=Object.freeze({RadioButtonGroupViewModel:fm});class vm extends Sr{addAllProperties(e){super.addAllProperties(e);const t=vm.prototype;t.addProperty(e,{propertyName:"imageStretch",defaultValue:Nd.UNIFORM}),t.addProperty(e,{propertyName:"imageVisible",defaultValue:!1})}}si.registerElement(vm),Cr.defineElementInfo(vm.prototype,"ni-html-container","NIHtmlContainer");class bm extends Hn{constructor(e){super(e),this._imageVisible=!1,this._imageSource="",this._imageStretch=Nd.UNIFORM}static get MODEL_KIND(){return"niHtmlContainer"}get imageSource(){return this._imageSource}set imageSource(e){this._imageSource=e,this.notifyModelPropertyChanged("imageSource")}get imageStretch(){return this._imageStretch}set imageStretch(e){this._imageStretch=e,this.notifyModelPropertyChanged("imageStretch")}get imageVisible(){return this._imageVisible}set imageVisible(e){this._imageVisible=e,this.notifyModelPropertyChanged("imageVisible")}}Pn.registerModel(bm);const ym=function(e){return""!==e?`url('${e}')`:Xi.REMOVE_CUSTOM_PROPERTY_TOKEN};class _m extends Dr{constructor(e,t){super(e,t),this.registerAutoSyncProperty("imageVisible"),this.registerAutoSyncProperty("imageStretch")}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e);switch(e){case"imageSource":i.cssStyles[xr.PLACEHOLDER_BACKGROUND]=ym(t.imageSource)}}async invokeInternalControlFunction(e,t){switch(e){case"obtainJavaScriptReference":return this.element;default:super.invokeInternalControlFunction(e,t)}}applyModelToElement(){const e=this.element,t=this.model;super.applyModelToElement(),""!==t.imageSource&&e.style.setProperty(xr.PLACEHOLDER_BACKGROUND,`url('${t.imageSource}')`),t.imageVisible&&(e.style.backgroundImage="var(--ni-placeholder-background)")}}Pn.registerViewModel(_m,vm,bm);var wm=Object.freeze({HtmlContainerViewModel:_m});class xm{static get moduleName(){return"EnsureNIControlIDModule"}ready(){null===this.ownerElement.niControlId&&(this.ownerElement.niControlId=$t.uniqueId())}}window.JQX.Elements.whenRegistered("ni-cartesian-plot",function(e){e.addModule(xm)}),window.JQX.Elements.whenRegistered("ni-cartesian-plot-renderer",function(e){e.addModule(xm)}),window.JQX.Elements.whenRegistered("ni-cursor",function(e){e.addModule(xm)});var Cm=Object.freeze({EnsureNIControlIDModule:xm});class Sm{static get moduleName(){return"JqxElementCommonModule"}static get properties(){return{niControlId:{value:null,type:"string"},viRef:{value:"",type:"string"},followerIds:{value:"[]",type:"string"},bindingInfo:{value:{prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1},type:"object"},labelId:{value:"",type:"string"},controlResizeMode:{value:"",type:"string"},labelAlignment:{value:"",type:"string"},animation:Object.assign({},JQX.BaseElement.properties.animation,{value:"none"})}}attached(){this.ownerElement.firstAttach?this.constructor.setup(this.ownerElement):this.ownerElement.firstAttach=!0}detached(){if(!0!==this.ownerElement._preventModelCreation&&!NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)){Or.getVIViewModelByVIRef(this.ownerElement.viRef).detachElementFromModelAndViewModel(this.ownerElement)}}created(){const e=this.ownerElement;if(Object.defineProperty(e,"niElementInstanceId",{configurable:!1,enumerable:!1,writable:!1,value:$t.uniqueId()}),this._temporarySettingsHolder={},"setFont"in e||Object.defineProperty(e,"setFont",{configurable:!1,enumerable:!1,writable:!1,value:function(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r}}),e.hasAttribute("ni-control-id")&&(e.niControlId=e.getAttribute("ni-control-id")),e.hasAttribute("label-id")&&(e.labelId=e.getAttribute("label-id")),e.hasAttribute("follower-ids")&&(e.followerIds=e.getAttribute("follower-ids")),e.hasAttribute("control-resize-mode")&&(e.controlResizeMode=e.getAttribute("control-resize-mode")),e.hasAttribute("binding-info")){let t=e.getAttribute("binding-info");null!==t&&"string"==typeof t&&(t=JSON.parse(t),e.bindingInfo=t)}e.hasAttribute("vi-ref")&&(e.viRef=e.getAttribute("vi-ref"))}ready(){this.ownerElement.hasAttribute("vi-ref")||this.ownerElement.setAttribute("vi-ref",this.viRef),this.ownerElement.hasAttribute("follower-ids")||this.ownerElement.setAttribute("follower-ids",this.followerIds),this.ownerElement.firstAttach=!1,this.constructor.setup(this.ownerElement)}static setup(e){if(e.viRef="",!NationalInstruments.JQXElement.isJQXElementSubPart(e)){if(!0!==e._preventModelCreation){Or.getVIViewModelByVIRef(e.viRef).attachElementToModelAndViewModel(e).controlViewModel.bindToView()}"function"==typeof e.elementInfo.viewReady&&e.elementInfo.viewReady(e)}}static generateClearInstanceSpecificProperties(){return function(){void 0!==this.niControlId&&(this.niControlId="",this.viRef="",this.bindingInfo={prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1},this.labelId="")}}}!function(){function e(e,t,i,n){return null==n&&(n=t),{tagName:e,propertyName:t,attributeName:n,eventName:i}}const t=e("jqx-numeric-text-box","value","change"),i=e("jqx-progress-bar","value"," "),n=e("jqx-circular-progress-bar","value"," "),r=e("jqx-tank","value","change"),a=e("jqx-slider","value","change"),s=e("jqx-gauge","value","change"),o=e("jqx-color-picker","value","change"),l=e("jqx-date-time-picker","value","change");l.viewReady=Dd.viewReady;const d=[t,i,n,r,a,s,o,l,e("jqx-toggle-button","checked","change"),e("jqx-switch-button","checked","change"),e("jqx-power-button","checked","change"),e("jqx-led","checked","change"),e("jqx-check-box","checked","change"),e("jqx-radio-button"),e("jqx-list-box","selectedIndexes","change"),e("jqx-drop-down-list","selectedIndexes","change"),e("jqx-combo-box","value","change"),e("jqx-password-text-box","value","change"),e("ni-cartesian-axis"),e("ni-color-scale"),e("ni-cartesian-plot"),e("ni-cartesian-plot-renderer"),e("ni-cursor"),e("ni-cartesian-graph"),e("ni-chart"),e("ni-intensity-graph"),e("ni-graph-tools"),e("ni-plot-legend"),e("ni-scale-legend"),e("ni-cursor-legend"),e("ni-flexible-layout-component"),e("ni-flexible-layout-container"),e("ni-flexible-layout-group"),e("ni-flexible-layout-wrapper"),e("ni-front-panel"),e("ni-hyperlink","href","href-changed"),e("ni-tree")];let h;function c(e,t){!function(e,t){e.clearInstanceSpecificProperties=Sm.generateClearInstanceSpecificProperties(),Object.defineProperty(e,"elementInfo",{configurable:!1,enumerable:!0,value:t,writable:!0}),void 0!==t.propertyName&&$t.setValuePropertyDescriptor(e,t.attributeName,t.propertyName,t.propertyName,t.eventName)}(e,t),e.addModule(Sm)}function u(e){window.JQX.Elements.whenRegistered(e.tagName,function(t){c(t,e)})}for(h in NationalInstruments.JQXElement.isJQXElementSubPart=function(e){return"null"===e.niControlId||null===e.niControlId},NationalInstruments.JQXElement.addHandlersForMouseWheel=function(e){e.addEventListener("focus",function(t){e.enableMouseWheelAction=!0},!0),e.addEventListener("blur",function(t){e.enableMouseWheelAction=!1},!0)},NationalInstruments.JQXElement._registerElements=function(){window.JQX.Elements.registerElements()},d)d.hasOwnProperty(h)&&u(d[h])}();var Tm=Object.freeze({});class Pm{static get moduleName(){return"JQXElementNITypeModule"}static get properties(){return{niType:{value:"Double",type:"string",observer:"niTypePropertyUpdated"}}}static getNITypeString(e){return e.isAggregateType()?e.toShortJSON():e.getName()}niTypePropertyUpdated(e,t){NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)||this.updateNIType(new window.NIType(t))}updateNIType(e){}ready(){NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)||this.updateNIType(new window.NIType(this.ownerElement.niType))}}class Im extends Pm{static get moduleName(){return"JQXNumericNITypeModule"}constructor(e){super(),this.typePropertyName=e}updateNIType(e){this.ownerElement[this.typePropertyName]=Hs.convertNITypeToJQX(e),e.isInteger()&&(this.ownerElement.wordLength=e.getName().toLowerCase())}}class Em extends Im{static get moduleName(){return"JQXNumericPointerNITypeModule"}constructor(){super("scaleType")}niTypePropertyUpdated(e,t){super.niTypePropertyUpdated(e,t)}}class Dm extends Im{static get moduleName(){return"JQXNumericTextBoxNITypeModule"}constructor(){super("inputFormat")}niTypePropertyUpdated(e,t){super.niTypePropertyUpdated(e,t)}}window.JQX.Elements.whenRegistered("jqx-numeric-text-box",function(e){e.addModule(Dm)}),window.JQX.Elements.whenRegistered("jqx-slider",function(e){e.addModule(Em)}),window.JQX.Elements.whenRegistered("jqx-tank",function(e){e.addModule(Em)}),window.JQX.Elements.whenRegistered("jqx-gauge",function(e){e.addModule(Em)});var km=Object.freeze({JQXElementNITypeModule:Pm,JQXNumericNITypeModule:Im,JQXNumericPointerNITypeModule:Em,JQXNumericTextBoxNITypeModule:Dm});class jm{static get moduleName(){return"jqxColorPanelModule"}static get properties(){const e={messages:fs.deepCopy(JQX.ColorPanel.properties.messages)};return e.messages.value.en.customColor=$t.i18n("msg_COLOR_PICKER_MORE_COLORS"),e.messages.value.en.cancel=$t.i18n("msg_COLOR_PICKER_MORE_COLORS_CANCEl"),e}}window.JQX.Elements.whenRegistered("jqx-color-panel",function(e){e.addModule(jm)});var Mm=Object.freeze({jqxColorPanelModule:jm});const Am=["#FFFFFF00","#FFFFFFFF","#E0E0E0FF","#C1C1C1FF","#A5A5A5FF","#838383FF","#646464FF","#4D5359FF","#262626FF","#000000FF","#FCA88FFF","#F5CEA4FF","#FFF89AFF","#CAEA9CFF","#83CA9DFF","#8CDFFFFF","#93B7E3FF","#A39DE0FF","#B599D9FF","#F49BC1FF","#F36B4EFF","#FBAF5CFF","#FFF567FF","#ABD471FF","#3AB878FF","#00BFF3FF","#4C9BE0FF","#706DC0FF","#865EA8FF","#F16CA9FF","#EE1C25FF","#F8941CFF","#FFF200FF","#8DC73DFF","#00A64FFF","#00A4E5FF","#0070BCFF","#3D3EB2FF","#662B91FF","#ED0C8CFF","#9E0911FF","#A35A13FF","#AFA20AFF","#588527FF","#007133FF","#0076A3FF","#004A80FF","#191363FF","#440F62FF","#9E005DFF"];class Nm{static get moduleName(){return"jqxColorPickerModule"}ready(){this.ownerElement.paletteColors=Am,this.ownerElement.columnCount=10}}window.JQX.Elements.whenRegistered("jqx-color-picker",function(e){e.addModule(Nm)});var qm=Object.freeze({paletteColors:Am,jqxColorPickerModule:Nm});!function(){const e=$t.InternationalizationInitializer.TaskTrackerEnum;$t.InternationalizationInitializer.TaskTracker.complete(e.ELEMENT_PROTOTYPES_READY)}();var Om=Object.freeze({});Object.keys(window.NationalInstruments.savedModuleLoaders).forEach(e=>{try{window[e]=window.NationalInstruments.savedModuleLoaders[e]}catch(e){window.console.error(e)}window.NationalInstruments.savedModuleLoaders[e]=void 0});var Bm=Object.freeze({});
//# sourceMappingURL=DeployedRun.min.js.map
